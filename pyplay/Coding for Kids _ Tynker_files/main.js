require.config({waitSeconds:0,paths:{text:"thirdparty/text/text",i18n:"thirdparty/i18n/i18n",react:"thirdparty/react",fileSystemImpl:"filesystem/impls/filer/FilerFileSystem",Pica:"../node_modules/pica/dist/pica.min",caman:"thirdparty/caman/caman.full.min",isAnimated:"thirdparty/is-animated/lib/index",envConfig:"bramble/config/config.dev"},map:{"*":{"thirdparty/CodeMirror2":"thirdparty/CodeMirror","thirdparty/react":"react"}},shim:{caman:{exports:"Caman"},isAnimated:{exports:"isAnimated"}}});if(window.location.search.indexOf("testEnvironment")>-1){require.config({paths:{"preferences/PreferencesImpl":"../test/TestPreferencesImpl"},locale:"en"})}else{var urlLocale=window.location.search&&/locale=([^&]+)&?/.exec(window.location.search);urlLocale=urlLocale&&urlLocale[1]&&urlLocale[1].toLowerCase();require.config({locale:urlLocale||(typeof brackets!=="undefined"?brackets.app.language:window.navigator.language)})}if("serviceWorker"in window.navigator){window.navigator.serviceWorker.register("bramble-sw.js").then(function(reg){"use strict";function sendMessage(data){parent.postMessage(JSON.stringify(data),"*")}function updatesAvailable(){sendMessage({type:"Bramble:updatesAvailable"})}function offlineReady(){sendMessage({type:"Bramble:offlineReady"})}reg.onupdatefound=function(){var installingWorker=reg.installing;installingWorker.onstatechange=function(){switch(installingWorker.state){case"installed":if(window.navigator.serviceWorker.controller){updatesAvailable()}else{offlineReady()}break;case"redundant":console.error("[Bramble] The installing service worker became redundant.");break}}}}).catch(function(e){"use strict";console.warn("[Bramble] Error during service worker registration:",e);console.log("[Bramble] Falling back to cachType=blob due to failed service worker");window.brambleCacheType="blob"})}define("main",["require"],function(require){"use strict";if(window.location===window.parent.location){$("#iframe-warning").show();$(".sk-spinner-rotating-plane.sk-spinner").hide();return}require(["filesystem/impls/filer/RemoteFiler"],function(RemoteFiler){RemoteFiler.init();require(["brackets"])})});define("utils/Compatibility",["require","exports","module"],function(require,exports,module){"use strict";if(!String.prototype.trimRight){String.prototype.trimRight=function(){return this.replace(/\s+$/,"")}}if(!String.prototype.trimLeft){String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")}}Math.log10=Math.log10||function(x){return Math.log(x)*Math.LOG10E};Number.isFinite=Number.isFinite||function(value){return typeof value==="number"&&isFinite(value)};if(typeof(new Error).stack==="undefined"){Error.prototype.stack=""}var memoryStorage={_items:{},getItem:function(key){return memoryStorage._items[key]},setItem:function(key,value){value=""+value;memoryStorage._items[key]=value},removeItem:function(key){delete memoryStorage._item[key]},clear:function(){memoryStorage._items={}}};exports.localStorage=function(window){var localStorage;try{localStorage=window.localStorage;if(typeof window.localStorage==="undefined"){console.warn("localStorage is unavailable, using temporary memory storage instead");localStorage=memoryStorage}}catch(e){console.warn("Unable to use localStorage in Brackets with: ",e);localStorage=memoryStorage}finally{return localStorage}}(window)});!function($){"use strict";var toggle="[data-toggle=dropdown]",Dropdown=function(element){var $el=$(element).on("click.dropdown.data-api",this.toggle);$("html").on("click.dropdown.data-api",function(){$el.parent().removeClass("open")})};Dropdown.prototype={constructor:Dropdown,toggle:function(e){var $this=$(this),$parent,isActive;if($this.is(".disabled, :disabled"))return;$parent=getParent($this);isActive=$parent.hasClass("open");clearMenus();if(!isActive){$parent.toggleClass("open")}$this.focus();return false},keydown:function(e){var $this,$items,$active,$parent,isActive,index;if(!/(38|40|27)/.test(e.keyCode))return;$this=$(this);e.preventDefault();e.stopPropagation();if($this.is(".disabled, :disabled"))return;$parent=getParent($this);isActive=$parent.hasClass("open");if(!isActive||isActive&&e.keyCode==27){if(e.which==27)$parent.find(toggle).focus();return $this.click()}$items=$("[role=menu] li:not(.divider):visible a",$parent);if(!$items.length)return;index=$items.index($items.filter(":focus"));if(e.keyCode==38&&index>0)index--;if(e.keyCode==40&&index<$items.length-1)index++;if(!~index)index=0;$items.eq(index).focus()}};function clearMenus(){$(".toggle-open").removeClass("toggle-open");$(toggle).each(function(){getParent($(this)).removeClass("open")})}function getParent($this){var selector=$this.attr("data-target"),$parent;if(!selector){selector=$this.attr("href");selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")}$parent=selector&&$(selector);if(!$parent||!$parent.length)$parent=$this.parent();return $parent}var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("dropdown");if(!data)$this.data("dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})};$.fn.dropdown.Constructor=Dropdown;$.fn.dropdown.noConflict=function(){$.fn.dropdown=old;return this};$(document).on("click.dropdown.data-api",function(e){if(!e.target.classList.contains("menuToggle")){clearMenus()}}).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.dropdown.data-api",toggle+", [role=menu]",Dropdown.prototype.keydown)}(window.jQuery);define("widgets/bootstrap-dropdown",function(){});!function($){"use strict";var Modal=function(element,options){this.options=options;this.$element=$(element).delegate('[data-dismiss="modal"]',"click.dismiss.modal",$.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};Modal.prototype={constructor:Modal,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var that=this,e=$.Event("show");this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=true;this.escape();this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(this.options.selector)}that.$element.show();if(transition){that.$element[0].offsetWidth}that.$element.addClass("in").attr("aria-hidden",false);that.enforceFocus();transition?that.$element.one($.support.transition.end,function(){that.$element.focus().trigger("shown")}):that.$element.focus().trigger("shown")})},hide:function(e){e&&e.preventDefault();var that=this;e=$.Event("hide");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();$(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);$.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var that=this;$(document).on("focusin.modal",function(e){if(that.$element[0]!==e.target&&!that.$element.has(e.target).length){that.$element.focus()}})},escape:function(){var that=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(e){e.which==27&&that.hide()})}else if(!this.isShown){this.$element.off("keyup.dismiss.modal")}},hideWithTransition:function(){var that=this,timeout=setTimeout(function(){that.$element.off($.support.transition.end);that.hideModal()},500);this.$element.one($.support.transition.end,function(){clearTimeout(timeout);that.hideModal()})},hideModal:function(){var that=this;this.$element.hide();this.backdrop(function(){that.removeBackdrop();that.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(this.options.selector);this.$backdrop.click(this.options.backdrop=="static"?$.proxy(this.$element[0].focus,this.$element[0]):$.proxy(this.hide,this));if(doAnimate)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback):callback()}else if(callback){callback()}}};var old=$.fn.modal;$.fn.modal=function(option){return this.each(function(){var $this=$(this),data=$this.data("modal"),options=$.extend({},$.fn.modal.defaults,$this.data(),typeof option=="object"&&option);if(!data)$this.data("modal",data=new Modal(this,options));if(typeof option=="string")data[option]();else if(options.show)data.show()})};$.fn.modal.defaults={backdrop:true,keyboard:true,show:true,selector:"body"};$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());e.preventDefault();$target.modal(option).one("hide",function(){$this.focus()})})}(window.jQuery);define("widgets/bootstrap-modal",function(){});!function($){"use strict";var _windowHasFocus;$(window).focus(function _onWindowGainedFocus(){_windowHasFocus=true}).blur(function _onWindowLostFocus(){_windowHasFocus=false});var transitionEnd;$(document).ready(function(){$.support.transition=function(){var transitionEnd=function(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},name;for(name in transEndEventNames){if(el.style[name]!==undefined){return transEndEventNames[name]}}}();return transitionEnd&&{end:transitionEnd}}();if($.support.transition){transitionEnd=$.support.transition.end}});var Twipsy=function(element,options){this.$element=$(element);this.options=options;this.enabled=true;this.autoHideTimeout=null;this.fixTitle()};Twipsy.prototype={show:function(){var $tip,that=this;if(this.hasContent()&&this.enabled){$tip=this.tip();this.setContent();if(this.options.animate){$tip.addClass("fade")}$tip.remove().css({top:0,left:0,display:"block"}).prependTo(document.body);this.updatePosition();$(window).off("resize",this.resizeHandler);this.resizeHandler=function(e){that.updatePosition()};$(window).on("resize",this.resizeHandler);if(this.options.autoHideDelay){var startAutoHide=function(){window.clearTimeout(that.autoHideTimeout);that.autoHideTimeout=window.setTimeout(function(){that.hide()},that.options.autoHideDelay)};if(_windowHasFocus){startAutoHide()}else{$(window).one("focus",startAutoHide)}}$tip.addClass("in")}},updatePosition:function(){var pos,actualWidth,actualHeight,paddingLeft,paddingRight,surplusRight,shiftArrow,placement,$tip,$arrow,tp,that=this;$tip=this.tip();pos=$.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});paddingLeft=parseInt(this.$element.css("padding-left"),10);paddingRight=parseInt(this.$element.css("padding-right"),10);pos.left+=paddingLeft;pos.width-=paddingLeft+paddingRight;actualWidth=$tip[0].offsetWidth;actualHeight=$tip[0].offsetHeight;placement=maybeCall(this.options.placement,this,[$tip[0],this.$element[0]]);$tip.addClass(placement);switch(placement){case"below":tp={top:pos.top+pos.height+this.options.offset,left:pos.left+pos.width/2-actualWidth/2};break;case"above":tp={top:pos.top-actualHeight-this.options.offset,left:pos.left+pos.width/2-actualWidth/2};break;case"left":tp={top:pos.top+pos.height+20-actualHeight,left:pos.left-actualWidth-this.options.offset};break;case"right":tp={top:pos.top+pos.height+20-actualHeight,left:pos.left+pos.width+this.options.offset};break}shiftArrow=0;surplusRight=tp.left+actualWidth-$(document.body).width();if(surplusRight>0){shiftArrow=surplusRight;tp.left-=surplusRight}else if(tp.left<0){shiftArrow=tp.left;tp.left=0}if(surplusRight>0){$arrow=$tip.find(".tooltip-arrow");if(!this.defaultMargin){this.defaultMargin=parseInt($arrow.css("margin-left"),10)}$arrow.css("margin-left",this.defaultMargin+shiftArrow)}$tip.css(tp)},setContent:function(){var $tip=this.tip();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](this.getTitle());$tip[0].className="tooltip"},hide:function(){var that=this,$tip=this.tip();$tip.removeClass("in");function removeElement(){$tip.remove()}$.support.transition&&this.$tip.hasClass("fade")?$tip.bind(transitionEnd,removeElement):removeElement();window.clearTimeout(this.autoHideTimeout);$(window).off("resize",this.resizeHandler)},fixTitle:function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getTitle:function(){var title,$e=this.$element,o=this.options;this.fixTitle();if(typeof o.title=="string"){title=$e.attr(o.title=="title"?"data-original-title":o.title)}else if(typeof o.title=="function"){title=o.title.call($e[0])}title=(""+title).replace(/(^\s*|\s*$)/,"");return title||o.fallback},tip:function(){return this.$tip=this.$tip||$('<div class="tooltip" />').html(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};function maybeCall(thing,ctx,args){return typeof thing=="function"?thing.apply(ctx,args):thing}$.fn.twipsy=function(options){$.fn.twipsy.initWith.call(this,options,Twipsy,"twipsy");return this};$.fn.twipsy.initWith=function(options,Constructor,name){var twipsy,binder,eventIn,eventOut;if(options===true){return this.data(name)}else if(typeof options=="string"){twipsy=this.data(name);if(twipsy){twipsy[options]()}return this}options=$.extend({},$.fn[name].defaults,options);function get(ele){var twipsy=$.data(ele,name);if(!twipsy){twipsy=new Constructor(ele,$.fn.twipsy.elementOptions(ele,options));$.data(ele,name,twipsy)}return twipsy}function enter(){var twipsy=get(this);twipsy.hoverState="in";if(options.delayIn==0){twipsy.show()}else{twipsy.fixTitle();setTimeout(function(){if(twipsy.hoverState=="in"){twipsy.show()}},options.delayIn)}}function leave(){var twipsy=get(this);twipsy.hoverState="out";if(options.delayOut==0){twipsy.hide()}else{setTimeout(function(){if(twipsy.hoverState=="out"){twipsy.hide()}},options.delayOut)}}if(!options.live){this.each(function(){get(this)})}if(options.trigger!="manual"){binder=options.live?"live":"bind";eventIn=options.trigger=="hover"?"mouseenter":"focus";eventOut=options.trigger=="hover"?"mouseleave":"blur";this[binder](eventIn,enter)[binder](eventOut,leave)}return this};$.fn.twipsy.Twipsy=Twipsy;$.fn.twipsy.defaults={animate:true,delayIn:0,delayOut:0,fallback:"",placement:"above",html:false,live:false,offset:0,title:"title",trigger:"hover",template:'<div class="tooltip-arrow"></div><div class="tooltip-inner"></div>'};$.fn.twipsy.rejectAttrOptions=["title"];$.fn.twipsy.elementOptions=function(ele,options){var data=$(ele).data(),rejects=$.fn.twipsy.rejectAttrOptions,i=rejects.length;while(i--){delete data[rejects[i]]}return $.extend({},options,data)}}(window.jQuery||window.ender);define("widgets/bootstrap-twipsy-mod",function(){});(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define("thirdparty/CodeMirror/lib/codemirror",factory):global.CodeMirror=factory()})(this,function(){"use strict";var userAgent=navigator.userAgent;var platform=navigator.platform;var gecko=/gecko\/\d/i.test(userAgent);var ie_upto10=/MSIE \d/.test(userAgent);var ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);var ie=ie_upto10||ie_11up;var ie_version=ie&&(ie_upto10?document.documentMode||6:ie_11up[1]);var webkit=/WebKit\//.test(userAgent);var qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent);var chrome=/Chrome\//.test(userAgent);var presto=/Opera\//.test(userAgent);var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);var phantom=/PhantomJS/.test(userAgent);var ios=/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent);var mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);var mac=ios||/Mac/.test(platform);var chromeOS=/\bCrOS\b/.test(userAgent);var windows=/win/i.test(platform);var presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version){presto_version=Number(presto_version[1])}if(presto_version&&presto_version>=15){presto=false;webkit=true}var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||ie&&ie_version>=9;function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}var rmClass=function(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count){e.removeChild(e.firstChild)}return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className){e.className=className}if(style){e.style.cssText=style}if(typeof content=="string"){e.appendChild(document.createTextNode(content))}else if(content){for(var i=0;i<content.length;++i){e.appendChild(content[i])}}return e}var range;if(document.createRange){range=function(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r}}else{range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(true);r.moveEnd("character",end);r.moveStart("character",start);return r}}function contains(parent,child){if(child.nodeType==3){child=child.parentNode}if(parent.contains){return parent.contains(child)}do{if(child.nodeType==11){child=child.host}if(child==parent){return true}}while(child=child.parentNode)}function activeElt(){var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}while(activeElement&&activeElement.root&&activeElement.root.activeElement){activeElement=activeElement.root.activeElement}return activeElement}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current)){node.className+=(current?" ":"")+cls}}function joinClasses(a,b){var as=a.split(" ");for(var i=0;i<as.length;i++){if(as[i]&&!classTest(as[i]).test(b)){b+=" "+as[i]}}return b}var selectInput=function(node){node.select()};if(ios){selectInput=function(node){node.selectionStart=0;node.selectionEnd=node.value.length}}else if(ie){selectInput=function(node){try{node.select()}catch(_e){}}}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){if(!target){target={}}for(var prop in obj){if(obj.hasOwnProperty(prop)&&(overwrite!==false||!target.hasOwnProperty(prop))){target[prop]=obj[prop]}}return target}function countColumn(string,end,tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\s\u00a0]/);if(end==-1){end=string.length}}for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("\t",i);if(nextTab<0||nextTab>=end){return n+(end-i)}n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1}}function Delayed(){this.id=null}Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms)};function indexOf(array,elt){for(var i=0;i<array.length;++i){if(array[i]==elt){return i}}return-1}var scrollerGap=30;var Pass={toString:function(){return"CodeMirror.Pass"}};var sel_dontScroll={scroll:false};var sel_mouse={origin:"*mouse"};var sel_move={origin:"+move"};function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("\t",pos);if(nextTab==-1){nextTab=string.length}var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal){return pos+Math.min(skipped,goal-col)}col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal){return pos}}}var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n){spaceStrs.push(lst(spaceStrs)+" ")}return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){var out=[];for(var i=0;i<array.length;i++){out[i]=f(array[i],i)}return out}function insertSorted(array,value,score){var pos=0,priority=score(value);while(pos<array.length&&score(array[pos])<=priority){pos++}array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;if(Object.create){inst=Object.create(base)}else{nothing.prototype=base;inst=new nothing}if(props){copyObj(props,inst)}return inst}var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function isWordCharBasic(ch){return/\w/.test(ch)||ch>""&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){if(!helper){return isWordCharBasic(ch)}if(helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch)){return true}return helper.test(ch)}function isEmpty(obj){for(var n in obj){if(obj.hasOwnProperty(n)&&obj[n]){return false}}return true}var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function Display(place,doc,input){var d=this;this.input=input;d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");d.lineDiv=elt("div",null,"CodeMirror-code");d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",null,"CodeMirror-measure");d.lineSpace=elt("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");d.mover=elt("div",[elt("div",[d.lineSpace],"CodeMirror-lines")],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(!webkit&&!(gecko&&mobile)){d.scroller.draggable=true}if(place){if(place.appendChild){place.appendChild(d.wrapper)}else{place(d.wrapper)}}d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false;d.selForContextMenu=null;d.activeTouch=null;input.init(d)}function getLine(doc,n){n-=doc.first;if(n<0||n>=doc.size){throw new Error("There is no line "+(n+doc.first)+" in the document.")}var chunk=doc;while(!chunk.lines){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line){text=text.slice(0,end.ch)}if(n==start.line){text=text.slice(start.ch)}out.push(text);++n});return out}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){var diff=height-line.height;if(diff){for(var n=line;n;n=n.parent){n.height+=diff}}}function lineNo(line){if(line.parent==null){return null}var cur=line.parent,no=indexOf(cur.lines,line);for(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur){break}no+=chunk.children[i].chunkSize()}}return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch;n+=child.chunkSize()}return n}while(!chunk.lines);var i=0;for(;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh){break}h-=lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function Pos(line,ch){if(!(this instanceof Pos)){return new Pos(line,ch)}this.line=line;this.ch=ch}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first){return Pos(doc.first,0)}var last=doc.first+doc.size-1;if(pos.line>last){return Pos(last,getLine(doc,last).text.length)}return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;if(ch==null||ch>linelen){return Pos(pos.line,linelen)}else if(ch<0){return Pos(pos.line,0)}else{return pos}}function clipPosArray(doc,array){var out=[];for(var i=0;i<array.length;i++){out[i]=clipPos(doc,array[i])}return out}var sawReadOnlySpans=false;var sawCollapsedSpans=false;function seeReadOnlySpans(){sawReadOnlySpans=true}function seeCollapsedSpans(){sawCollapsedSpans=true}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to}function getMarkedSpanFor(spans,marker){if(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker){return span}}}}function removeMarkedSpan(spans,span){var r;for(var i=0;i<spans.length;++i){if(spans[i]!=span){(r||(r=[])).push(spans[i])}}return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type=="bookmark"&&(!isInsert||!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old){for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type=="bookmark"&&(!isInsert||span.marker.insertLeft)){var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh))}}}return nw}function stretchSpansOverChange(doc,change){if(change.full){return null}var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast){return null}var startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);if(first){for(var i=0;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found){span.to=startCh}else if(sameLine){span.to=found.to==null?null:found.to+offset}}}}if(last){for(var i$1=0;i$1<last.length;++i$1){var span$1=last[i$1];if(span$1.to!=null){span$1.to+=offset}if(span$1.from==null){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine){(first||(first=[])).push(span$1)}}}else{span$1.from+=offset;if(sameLine){(first||(first=[])).push(span$1)}}}}if(first){first=clearEmptySpans(first)}if(last&&last!=first){last=clearEmptySpans(last)}var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(gap>0&&first){for(var i$2=0;i$2<first.length;++i$2){if(first[i$2].to==null){(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null))}}}for(var i$3=0;i$3<gap;++i$3){newMarkers.push(gapMarkers)}newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false){spans.splice(i--,1)}}if(!spans.length){return null}return spans}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){
if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1)){(markers||(markers=[])).push(mark)}}}});if(!markers){return null}var parts=[{from:from,to:to}];for(var i=0;i<markers.length;++i){var mk=markers[i],m=mk.find(0);for(var j=0;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0){continue}var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom){newParts.push({from:p.from,to:m.from})}if(dto>0||!mk.inclusiveRight&&!dto){newParts.push({from:m.to,to:p.to})}parts.splice.apply(parts,newParts);j+=newParts.length-1}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.detachLine(line)}line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans){return}for(var i=0;i<spans.length;++i){spans[i].marker.attachLine(line)}line.markedSpans=spans}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0){return lenDiff}var aPos=a.find(),bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp){return-fromCmp}var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp){return toCmp}return b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0)){found=sp.marker}}}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false)}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo);var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed){continue}var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0){continue}if(fromCmp<=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.to,from)>=0:cmp(found.to,from)>0)||fromCmp>=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.from,to)<=0:cmp(found.from,to)<0)){return true}}}}function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line)){line=merged.find(-1,true).line}return line}function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;(lines||(lines=[])).push(line)}return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis){return lineN}return lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine()){return lineN}var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line)){return lineN}while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line}return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps){for(var sp=void 0,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed){continue}if(sp.from==null){return true}if(sp.marker.widgetNode){continue}if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp)){return true}}}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length){return true}for(var sp=void 0,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp)){return true}}}function heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0,chunk=lineObj.parent;for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj){break}else{h+=line.height}}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i$1=0;i$1<p.children.length;++i$1){var cur=p.children[i$1];if(cur==chunk){break}else{h+=cur.height}}}return h}function lineLength(line){if(line.height==0){return 0}var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,true);cur=found.from.line;len+=found.from.ch-found.to.ch}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found$1=merged.find(0,true);len-=cur.text.length-found$1.from.ch;cur=found$1.to.line;len+=cur.text.length-found$1.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}function iterateBidiSections(order,from,to,f){if(!order){return f(from,to,"ltr")}var found=false;for(var i=0;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr");found=true}}if(!found){f(from,to,"ltr")}}function bidiLeft(part){return part.level%2?part.to:part.from}function bidiRight(part){return part.level%2?part.from:part.to}function lineLeft(line){var order=getOrder(line);return order?bidiLeft(order[0]):0}function lineRight(line){var order=getOrder(line);if(!order){return line.text.length}return bidiRight(lst(order))}function compareBidiLevel(order,a,b){var linedir=order[0].level;if(a==linedir){return true}if(b==linedir){return false}return a<b}var bidiOther=null;function getBidiPartAt(order,pos){var found;bidiOther=null;for(var i=0;i<order.length;++i){var cur=order[i];if(cur.from<pos&&cur.to>pos){return i}if(cur.from==pos||cur.to==pos){if(found==null){found=i}else if(compareBidiLevel(order,cur.level,order[found].level)){if(cur.from!=cur.to){bidiOther=found}return i}else{if(cur.from!=cur.to){bidiOther=i}return found}}}return found}function moveInLine(line,pos,dir,byUnit){if(!byUnit){return pos+dir}do{pos+=dir}while(pos>0&&isExtendingChar(line.text.charAt(pos)));return pos}function moveVisually(line,start,dir,byUnit){var bidi=getOrder(line);if(!bidi){return moveLogically(line,start,dir,byUnit)}var pos=getBidiPartAt(bidi,start),part=bidi[pos];var target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);for(;;){if(target>part.from&&target<part.to){return target}if(target==part.from||target==part.to){if(getBidiPartAt(bidi,target)==pos){return target}part=bidi[pos+=dir];return dir>0==part.level%2?part.to:part.from}else{part=bidi[pos+=dir];if(!part){return null}if(dir>0==part.level%2){target=moveInLine(line,part.to,-1,byUnit)}else{target=moveInLine(line,part.from,1,byUnit)}}}}function moveLogically(line,start,dir,byUnit){var target=start+dir;if(byUnit){while(target>0&&isExtendingChar(line.text.charAt(target))){target+=dir}}return target<0||target>line.text.length?null:target}var bidiOrdering=function(){var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var arabicTypes="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function charType(code){if(code<=247){return lowTypes.charAt(code)}else if(1424<=code&&code<=1524){return"R"}else if(1536<=code&&code<=1773){return arabicTypes.charAt(code-1536)}else if(1774<=code&&code<=2220){return"r"}else if(8192<=code&&code<=8203){return"w"}else if(code==8204){return"b"}else{return"L"}}var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;var outerType="L";function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to}return function(str){if(!bidiRE.test(str)){return false}var len=str.length,types=[];for(var i=0;i<len;++i){types.push(charType(str.charCodeAt(i)))}for(var i$1=0,prev=outerType;i$1<len;++i$1){var type=types[i$1];if(type=="m"){types[i$1]=prev}else{prev=type}}for(var i$2=0,cur=outerType;i$2<len;++i$2){var type$1=types[i$2];if(type$1=="1"&&cur=="r"){types[i$2]="n"}else if(isStrong.test(type$1)){cur=type$1;if(type$1=="r"){types[i$2]="R"}}}for(var i$3=1,prev$1=types[0];i$3<len-1;++i$3){var type$2=types[i$3];if(type$2=="+"&&prev$1=="1"&&types[i$3+1]=="1"){types[i$3]="1"}else if(type$2==","&&prev$1==types[i$3+1]&&(prev$1=="1"||prev$1=="n")){types[i$3]=prev$1}prev$1=type$2}for(var i$4=0;i$4<len;++i$4){var type$3=types[i$4];if(type$3==","){types[i$4]="N"}else if(type$3=="%"){var end=void 0;for(end=i$4+1;end<len&&types[end]=="%";++end){}var replace=i$4&&types[i$4-1]=="!"||end<len&&types[end]=="1"?"1":"N";for(var j=i$4;j<end;++j){types[j]=replace}i$4=end-1}}for(var i$5=0,cur$1=outerType;i$5<len;++i$5){var type$4=types[i$5];if(cur$1=="L"&&type$4=="1"){types[i$5]="L"}else if(isStrong.test(type$4)){cur$1=type$4}}for(var i$6=0;i$6<len;++i$6){if(isNeutral.test(types[i$6])){var end$1=void 0;for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1){}var before=(i$6?types[i$6-1]:outerType)=="L";var after=(end$1<len?types[end$1]:outerType)=="L";var replace$1=before||after?"L":"R";for(var j$1=i$6;j$1<end$1;++j$1){types[j$1]=replace$1}i$6=end$1-1}}var order=[],m;for(var i$7=0;i$7<len;){if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7){}order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7,at=order.length;for(++i$7;i$7<len&&types[i$7]!="L";++i$7){}for(var j$2=pos;j$2<i$7;){if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2))}var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2){}order.splice(at,0,new BidiSpan(2,nstart,j$2));pos=j$2}else{++j$2}}if(pos<i$7){order.splice(at,0,new BidiSpan(1,pos,i$7))}}}if(order[0].level==1&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(lst(order).level==1&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len))}if(order[0].level==2){order.unshift(new BidiSpan(1,order[0].to,order[0].to))}if(order[0].level!=lst(order).level){order.push(new BidiSpan(order[0].level,len,len))}return order}}();function getOrder(line){var order=line.order;if(order==null){order=line.order=bidiOrdering(line.text)}return order}var noHandlers=[];var on=function(emitter,type,f){if(emitter.addEventListener){emitter.addEventListener(type,f,false)}else if(emitter.attachEvent){emitter.attachEvent("on"+type,f)}else{var map=emitter._handlers||(emitter._handlers={});map[type]=(map[type]||noHandlers).concat(f)}};function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||noHandlers}function off(emitter,type,f){if(emitter.removeEventListener){emitter.removeEventListener(type,f,false)}else if(emitter.detachEvent){emitter.detachEvent("on"+type,f)}else{var map=emitter._handlers,arr=map&&map[type];if(arr){var index=indexOf(arr,f);if(index>-1){map[type]=arr.slice(0,index).concat(arr.slice(index+1))}}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(!handlers.length){return}var args=Array.prototype.slice.call(arguments,2);for(var i=0;i<handlers.length;++i){handlers[i].apply(null,args)}}function signalDOMEvent(cm,e,override){if(typeof e=="string"){e={type:e,preventDefault:function(){this.defaultPrevented=true}}}signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr){return}var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);for(var i=0;i<arr.length;++i){if(indexOf(set,arr[i])==-1){set.push(arr[i])}}}function hasHandler(emitter,type){return getHandlers(emitter,type).length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}function e_stopPropagation(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;if(b==null){if(e.button&1){b=1}else if(e.button&2){b=3}else if(e.button&4){b=2}}if(mac&&e.ctrlKey&&b==1){b=3}return b}var dragAndDrop=function(){if(ie&&ie_version<9){return false}var div=elt("div");return"draggable"in div||"dragDrop"in div}();var zwspSupported;function zeroWidthElement(measure){if(zwspSupported==null){var test=elt("span","​");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(measure.firstChild.offsetHeight!=0){zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8)}}var node=zwspSupported?elt("span","​"):elt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node}var badBidiRects;function hasBadBidiRects(measure){if(badBidiRects!=null){return badBidiRects}var txt=removeChildrenAndAdd(measure,document.createTextNode("AخA"));var r0=range(txt,0,1).getBoundingClientRect();var r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||r0.left==r0.right){return false}return badBidiRects=r1.right-r0.right<3}var splitLinesAuto="\n\nb".split(/\n/).length!=3?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\n",pos);if(nl==-1){nl=string.length}var line=string.slice(pos,string.charAt(nl-1)=="\r"?nl-1:nl);var rt=line.indexOf("\r");if(rt!=-1){result.push(line.slice(0,rt));pos+=rt+1}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\r\n?|\n/)};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return false}}:function(te){var range;try{range=te.ownerDocument.selection.createRange()}catch(e){}if(!range||range.parentElement()!=te){return false}return range.compareEndPoints("StartToEnd",range)!=0};var hasCopyEvent=function(){var e=elt("div");if("oncopy"in e){return true}e.setAttribute("oncopy","return;");return typeof e.oncopy=="function"}();var badZoomedRects=null;function hasBadZoomedRects(measure){if(badZoomedRects!=null){return badZoomedRects}var node=removeChildrenAndAdd(measure,elt("span","x"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}var modes={};var mimeModes={};function defineMode(name,mode){if(arguments.length>2){mode.dependencies=Array.prototype.slice.call(arguments,2)}modes[name]=mode}function defineMIME(mime,spec){mimeModes[mime]=spec}function resolveMode(spec){if(typeof spec=="string"&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec]}else if(spec&&typeof spec.name=="string"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found=="string"){found={name:found}}spec=createObj(found,spec);spec.name=found.name}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){return resolveMode("application/xml")}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec)){return resolveMode("application/json")}if(typeof spec=="string"){return{name:spec}}else{return spec||{name:"null"}}}function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory){return getMode(options,"text/plain")}var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop)){continue}if(modeObj.hasOwnProperty(prop)){modeObj["_"+prop]=modeObj[prop]}modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType){modeObj.helperType=spec.helperType}if(spec.modeProps){for(var prop$1 in spec.modeProps){modeObj[prop$1]=spec.modeProps[prop$1]}}return modeObj}var modeExtensions={};function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)}function copyState(mode,state){if(state===true){return state}if(mode.copyState){return mode.copyState(state)}var nstate={};for(var n in state){var val=state[n];if(val instanceof Array){val=val.concat([])}nstate[n]=val}return nstate}function innerMode(mode,state){var info;while(mode.innerMode){info=mode.innerMode(state);if(!info||info.mode==mode){break}state=info.state;mode=info.mode}return info||{mode:mode,state:state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true}var StringStream=function(string,tabSize){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};StringStream.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(match){var ch=this.string.charAt(this.pos);var ok;if(typeof match=="string"){ok=ch==match}else{ok=ch&&(match.test?match.test(ch):match(ch))}if(ok){++this.pos;return ch}},eatWhile:function(match){var start=this.pos;while(this.eat(match)){}return this.pos>start},eatSpace:function(){var this$1=this;var start=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this$1.pos}return this.pos>start},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true}},backUp:function(n){this.pos-=n},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},match:function(pattern,consume,caseInsensitive){if(typeof pattern=="string"){var cased=function(str){return caseInsensitive?str.toLowerCase():str};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false){this.pos+=pattern.length}return true}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0){return null}if(match&&consume!==false){this.pos+=match[0].length}return match}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}}};function highlightLine(cm,line,state,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,state,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);var loop=function(o){var overlay=cm.state.overlays[o],i=1,at=0;runMode(cm,line.text,overlay.mode,true,function(end,style){var start=i;while(at<end){var i_end=st[i];if(i_end>end){st.splice(i,1,end,st[i+1],i_end)}i+=2;at=Math.min(end,i_end)}if(!style){return}if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}}},lineClasses)};for(var o=0;o<cm.state.overlays.length;++o)loop(o);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var state=getStateBefore(cm,lineNo(line));var result=highlightLine(cm,line,line.text.length>cm.options.maxHighlightLength?copyState(cm.doc.mode,state):state);line.stateAfter=state;line.styles=result.styles;if(result.classes){line.styleClasses=result.classes}else if(line.styleClasses){line.styleClasses=null}if(updateFrontier===cm.doc.frontier){cm.doc.frontier++}}return line.styles}function getStateBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState){return true}var pos=findStartLine(cm,n,precise),state=pos>doc.first&&getLine(doc,pos-1).stateAfter;if(!state){state=startState(doc.mode)}else{state=copyState(doc.mode,state)}doc.iter(pos,n,function(line){processLine(cm,line.text,state);var save=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo;line.stateAfter=save?copyState(doc.mode,state):null;++pos});if(precise){doc.frontier=pos}return state}function processLine(cm,text,state,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize);stream.start=stream.pos=startAt||0;if(text==""){callBlankLine(mode,state)}while(!stream.eol()){readToken(mode,stream,state);stream.start=stream.pos}}function callBlankLine(mode,state){if(mode.blankLine){return mode.blankLine(state)}if(!mode.innerMode){return}var inner=innerMode(mode,state);if(inner.mode.blankLine){return inner.mode.blankLine(inner.state)}}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){if(inner){inner[0]=innerMode(mode,state).mode}var style=mode.token(stream,state);if(stream.pos>stream.start){return style}}throw new Error("Mode "+mode.name+" failed to advance stream.")}function takeToken(cm,pos,precise,asArray){var getObj=function(copy){return{start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:copy?copyState(doc.mode,state):state}};var doc=cm.doc,mode=doc.mode,style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line),state=getStateBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize),tokens;if(asArray){tokens=[]}while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,state);if(asArray){tokens.push(getObj(true))}}return asArray?tokens:getObj()}function extractLineClasses(type,output){if(type){for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass){break}type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(output[prop]==null){output[prop]=lineClass[2]}else if(!new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(output[prop])){output[prop]+=" "+lineClass[2]}}}return type}function runMode(cm,text,mode,state,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null){flattenSpans=cm.options.flattenSpans}var curStart=0,curStyle=null;var stream=new StringStream(text,cm.options.tabSize),style;var inner=cm.options.addModeClass&&[null];if(text==""){extractLineClasses(callBlankLine(mode,state),lineClasses)}while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd){processLine(cm,text,state,stream.pos)}stream.pos=text.length;style=null}else{style=extractLineClasses(readToken(mode,stream,state,inner),lineClasses)}if(inner){var mName=inner[0].name;if(mName){style="m-"+(style?mName+" "+style:mName)}}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=Math.min(stream.start,curStart+5e3);f(curStart,curStyle)}curStyle=style}stream.start=stream.pos}while(curStart<stream.pos){var pos=Math.min(stream.pos,curStart+5e3);f(pos,curStyle);curStart=pos}}function findStartLine(cm,n,precise){var minindent,minline,doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100);for(var search=n;search>lim;--search){if(search<=doc.first){return doc.first}var line=getLine(doc,search-1);if(line.stateAfter&&(!precise||search<=doc.frontier)){return search}var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==null||minindent>indented){minline=search-1;minindent=indented}}return minline}function Line(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1}eventMixin(Line);Line.prototype.lineNo=function(){return lineNo(this)};function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter){line.stateAfter=null}if(line.styles){line.styles=null}if(line.order!=null){line.order=null}detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height){updateLineHeight(line,estHeight)}}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}var styleToClassCache={};var styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style)){return null}var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=elt("span",null,null,webkit?"padding-right: .1px":null);var builder={pre:elt("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:false,splitSpaces:(ie||webkit)&&cm.getOption("lineWrapping")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=void 0;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line))){builder.addToken=buildTokenBadBidi(builder.addToken,order)}builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass){builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")}if(line.styleClasses.textClass){builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"")}}if(builder.map.length==0){builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)))}if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab")){builder.content.className="cm-tab-wrap-hack"}}signal(cm,"renderLine",cm,lineView.line,builder.pre);if(builder.pre.className){builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")}return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","•","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token}function buildToken(builder,text,style,startStyle,endStyle,title,css){if(!text){return}var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):text;var special=builder.cm.state.specialChars,mustWrap=false;var content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9){mustWrap=true}builder.pos+=text.length}else{content=document.createDocumentFragment();var pos=0;while(true){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&ie_version<9){content.appendChild(elt("span",[txt]))}else{content.appendChild(txt)}builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m){break}pos+=skipped+1;var txt$1=void 0;if(m[0]=="\t"){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\t");builder.col+=tabWidth}else if(m[0]=="\r"||m[0]=="\n"){txt$1=content.appendChild(elt("span",m[0]=="\r"?"␍":"␤","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&ie_version<9){content.appendChild(elt("span",[txt$1]))}else{content.appendChild(txt$1)}builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt$1);builder.pos++}}builder.trailingSpace=displayText.charCodeAt(text.length-1)==32;if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";if(startStyle){fullStyle+=startStyle}if(endStyle){fullStyle+=endStyle}var token=elt("span",[content],fullStyle,css);if(title){token.title=title}return builder.content.appendChild(token)}builder.content.appendChild(content)}function splitSpaces(text,trailingBefore){if(text.length>1&&!/  /.test(text)){return text}var spaceBefore=trailingBefore,result="";for(var i=0;i<text.length;i++){var ch=text.charAt(i);if(ch==" "&&spaceBefore&&(i==text.length-1||text.charCodeAt(i+1)==32)){ch=" "}result+=ch;spaceBefore=ch==" "}return result}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title,css){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){var part=void 0;for(var i=0;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start){break}}if(part.to>=end){return inner(builder,text,style,startStyle,endStyle,title,css)}inner(builder,text.slice(0,part.to-start),style,startStyle,null,title,css);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget){builder.map.push(builder.pos,builder.pos+size,widget)}if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget){widget=builder.content.appendChild(document.createElement("span"))}widget.setAttribute("cm-marker",marker.id)}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget)}builder.pos+=size;builder.trailingSpace=false}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i$1=1;i$1<styles.length;i$1+=2){builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options))}return}var len=allText.length,pos=0,i=1,text="",style,css;var nextChange=0,spanStyle,spanEndStyle,spanStartStyle,title,collapsed;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title=css="";collapsed=null;nextChange=Infinity;var foundBookmarks=[],endStyles=void 0;for(var j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if(m.type=="bookmark"&&sp.from==pos&&m.widgetNode){foundBookmarks.push(m)}else if(sp.from<=pos&&(sp.to==null||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(sp.to!=null&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className){spanStyle+=" "+m.className}if(m.css){css=(css?css+";":"")+m.css}if(m.startStyle&&sp.from==pos){spanStartStyle+=" "+m.startStyle}if(m.endStyle&&sp.to==nextChange){(endStyles||(endStyles=[])).push(m.endStyle,sp.to)}if(m.title&&!title){title=m.title}if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0)){collapsed=sp}}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from}}if(endStyles){for(var j$1=0;j$1<endStyles.length;j$1+=2){if(endStyles[j$1+1]==nextChange){spanEndStyle+=" "+endStyles[j$1]}}}if(!collapsed||collapsed.from==pos){for(var j$2=0;j$2<foundBookmarks.length;++j$2){buildCollapsedSpan(builder,0,foundBookmarks[j$2])}}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null)
;if(collapsed.to==null){return}if(collapsed.to==pos){collapsed=false}}}if(pos>=len){break}var upto=Math.min(len,nextChange);while(true){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title,css)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options)}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){var array=[],nextPos;for(var pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}var operationGroup=null;function pushOperation(op){if(operationGroup){operationGroup.ops.push(op)}else{op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++){callbacks[i].call(null)}for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers){while(op.cursorActivityCalled<op.cursorActivityHandlers.length){op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}}}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group){return}try{fireCallbacksForOps(group)}finally{operationGroup=null;endCb(group)}}var orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(!arr.length){return}var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks}else if(orphanDelayedCallbacks){list=orphanDelayedCallbacks}else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0)}var loop=function(i){list.push(function(){return arr[i].apply(null,args)})};for(var i=0;i<arr.length;++i)loop(i)}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i){delayed[i]()}}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];if(type=="text"){updateLineText(cm,lineView)}else if(type=="gutter"){updateLineGutter(cm,lineView,lineN,dims)}else if(type=="class"){updateLineClasses(lineView)}else if(type=="widget"){updateLineWidgets(cm,lineView,dims)}}lineView.changes=null}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode){lineView.text.parentNode.replaceChild(lineView.node,lineView.text)}lineView.node.appendChild(lineView.text);if(ie&&ie_version<8){lineView.node.style.zIndex=2}}return lineView.node}function updateLineBackground(lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls){cls+=" CodeMirror-linebackground"}if(lineView.background){if(cls){lineView.background.className=cls}else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node){lineView.node=built.pre}lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(lineView)}else if(cls){lineView.text.className=cls}}function updateLineClasses(lineView){updateLineBackground(lineView);if(lineView.line.wrapClass){ensureLineWrapped(lineView).className=lineView.line.wrapClass}else if(lineView.node!=lineView.text){lineView.node.className=""}var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px");cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass){gutterWrap.className+=" "+lineView.line.gutterClass}if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"])){lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"))}if(markers){for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];if(found){gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable){lineView.alignable=null}for(var node=lineView.node.firstChild,next=void 0;node;node=next){next=node.nextSibling;if(node.className=="CodeMirror-linewidget"){lineView.node.removeChild(node)}}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass){lineView.bgClass=built.bgClass}if(built.textClass){lineView.textClass=built.textClass}updateLineClasses(lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}function insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false)}}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets){return}var wrap=ensureLineWrapped(lineView);for(var i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");if(!widget.handleMouseEvents){node.setAttribute("cm-ignore-events","true")}positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above){wrap.insertBefore(node,lineView.gutter||lineView.text)}else{wrap.appendChild(node)}signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll){node.style.marginLeft=-dims.gutterTotalWidth+"px"}}}function widgetHeight(widget){if(widget.height!=null){return widget.height}var cm=widget.doc.cm;if(!cm){return 0}if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter){parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;"}if(widget.noHScroll){parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;"}removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==display.sizer&&n!=display.mover){return true}}}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH){return display.cachedPaddingH}var e=removeChildrenAndAdd(display.measure,elt("pre","x"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right)){display.cachedPaddingH=data}return data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();for(var i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2){heights.push((cur.bottom+next.top)/2-rect.top)}}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line){return{map:lineView.measure.map,cache:lineView.measure.cache}}for(var i=0;i<lineView.rest.length;i++){if(lineView.rest[i]==line){return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]}}}for(var i$1=0;i$1<lineView.rest.length;i$1++){if(lineNo(lineView.rest[i$1])>lineN){return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:true}}}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo){return cm.display.view[findViewIndex(cm,lineN)]}var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size){return ext}}function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text){view=null}else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=true}if(!view){view=updateExternalMeasurement(cm,line)}var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before){ch=-1}var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key]}else{if(!prepared.rect){prepared.rect=prepared.view.text.getBoundingClientRect()}if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=true}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus){prepared.cache[key]=found}}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map,ch,bias){var node,start,end,collapse,mStart,mEnd;for(var i=0;i<map.length;i+=3){mStart=map[i];mEnd=map[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else if(ch<mEnd){start=ch-mStart;end=start+1}else if(i==map.length-3||ch==mEnd&&map[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd){collapse="right"}}if(start!=null){node=map[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right")){collapse=bias}if(bias=="left"&&start==0){while(i&&map[i-2]==map[i-3]&&map[i-1].insertLeft){node=map[(i-=3)+2];collapse="left"}}if(bias=="right"&&start==mEnd-mStart){while(i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft){node=map[(i+=3)+2];collapse="right"}}break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function getUsefulRect(rects,bias){var rect=nullRect;if(bias=="left"){for(var i=0;i<rects.length;i++){if((rect=rects[i]).left!=rect.right){break}}}else{for(var i$1=rects.length-1;i$1>=0;i$1--){if((rect=rects[i$1]).left!=rect.right){break}}}return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node,start=place.start,end=place.end,collapse=place.collapse;var rect;if(node.nodeType==3){for(var i$1=0;i$1<4;i$1++){while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start))){--start}while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end))){++end}if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect()}else{rect=getUsefulRect(range(node,start,end).getClientRects(),bias)}if(rect.left||rect.right||start==0){break}end=start;start=start-1;collapse="right"}if(ie&&ie_version<11){rect=maybeUpdateRectForZooming(cm.display.measure,rect)}}else{if(start>0){collapse=bias="right"}var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1){rect=rects[bias=="right"?rects.length-1:0]}else{rect=node.getBoundingClientRect()}}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan){rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}}else{rect=nullRect}}var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top;var mid=(rtop+rbot)/2;var heights=prepared.view.measure.heights;var i=0;for(;i<heights.length-1;i++){if(mid<heights[i]){break}}var top=i?heights[i-1]:0,bot=heights[i];var result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right){result.bogus=true}if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot}return result}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure)){return rect}var scaleX=screen.logicalXDPI/screen.deviceXDPI;var scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest){for(var i=0;i<lineView.rest.length;i++){lineView.measure.caches[i]={}}}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++){clearLineMeasurementCacheFor(cm.display.view[i])}}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping){cm.display.maxLineChanged=true}cm.display.lineNumChars=null}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets&&lineObj.widgets){for(var i=0;i<lineObj.widgets.length;++i){if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size;rect.bottom+=size}}}if(context=="line"){return rect}if(!context){context="local"}var yOff=heightAtLine(lineObj);if(context=="local"){yOff+=paddingTop(cm.display)}else{yOff-=cm.display.viewOffset}if(context=="page"||context=="window"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(context=="window"?0:pageScrollY());var xOff=lOff.left+(context=="window"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}function fromCoordSystem(cm,coords,context){if(context=="div"){return coords}var left=coords.left,top=coords.top;if(context=="page"){left-=pageScrollX();top-=pageScrollY()}else if(context=="local"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj){lineObj=getLine(cm.doc,pos.line)}return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure){preparedMeasure=prepareMeasureForLine(cm,lineObj)}function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right){m.left=m.right}else{m.right=m.left}return intoCoordSystem(cm,lineObj,m,context)}function getBidi(ch,partPos){var part=order[partPos],right=part.level%2;if(ch==bidiLeft(part)&&partPos&&part.level<order[partPos-1].level){part=order[--partPos];ch=bidiRight(part)-(part.level%2?0:1);right=true}else if(ch==bidiRight(part)&&partPos<order.length-1&&part.level<order[partPos+1].level){part=order[++partPos];ch=bidiLeft(part)-part.level%2;right=false}if(right&&ch==part.to&&ch>part.from){return get(ch-1)}return get(ch,right)}var order=getOrder(lineObj),ch=pos.ch;if(!order){return get(ch)}var partPos=getBidiPartAt(order,ch);var val=getBidi(ch,partPos);if(bidiOther!=null){val.other=getBidi(ch,bidiOther)}return val}function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping){left=charWidth(cm.display)*pos.ch}var lineObj=getLine(cm.doc,pos.line);var top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,outside,xRel){var pos=Pos(line,ch);pos.xRel=xRel;if(outside){pos.outside=true}return pos}function coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(y<0){return PosWithInfo(doc.first,0,true,-1)}var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last){return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,true,1)}if(x<0){x=0}var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var merged=collapsedSpanAtEnd(lineObj);var mergedPos=merged&&merged.find(0,true);if(merged&&(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&found.xRel>0)){lineN=lineNo(lineObj=mergedPos.to.line)}else{return found}}}function coordsCharInner(cm,lineObj,lineNo,x,y){var innerOff=y-heightAtLine(lineObj);var wrongLine=false,adjust=2*cm.display.wrapper.clientWidth;var preparedMeasure=prepareMeasureForLine(cm,lineObj);function getX(ch){var sp=cursorCoords(cm,Pos(lineNo,ch),"line",lineObj,preparedMeasure);wrongLine=true;if(innerOff>sp.bottom){return sp.left-adjust}else if(innerOff<sp.top){return sp.left+adjust}else{wrongLine=false}return sp.left}var bidi=getOrder(lineObj),dist=lineObj.text.length;var from=lineLeft(lineObj),to=lineRight(lineObj);var fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;if(x>toX){return PosWithInfo(lineNo,to,toOutside,1)}for(;;){if(bidi?to==from||to==moveVisually(lineObj,from,1):to-from<=1){var ch=x<fromX||x-fromX<=toX-x?from:to;var outside=ch==from?fromOutside:toOutside;var xDiff=x-(ch==from?fromX:toX);if(toOutside&&!bidi&&!/\s/.test(lineObj.text.charAt(ch))&&xDiff>0&&ch<lineObj.text.length&&preparedMeasure.view.measure.heights.length>1){var charSize=measureCharPrepared(cm,preparedMeasure,ch,"right");if(innerOff<=charSize.bottom&&innerOff>=charSize.top&&Math.abs(x-charSize.right)<xDiff){outside=false;ch++;xDiff=x-charSize.right}}while(isExtendingChar(lineObj.text.charAt(ch))){++ch}var pos=PosWithInfo(lineNo,ch,outside,xDiff<-1?-1:xDiff>1?1:0);return pos}var step=Math.ceil(dist/2),middle=from+step;if(bidi){middle=from;for(var i=0;i<step;++i){middle=moveVisually(lineObj,middle,1)}}var middleX=getX(middle);if(middleX>x){to=middle;toX=middleX;if(toOutside=wrongLine){toX+=1e3}dist=step}else{from=middle;fromX=middleX;fromOutside=wrongLine;dist-=step}}}var measureText;function textHeight(display){if(display.cachedTextHeight!=null){return display.cachedTextHeight}if(measureText==null){measureText=elt("pre");for(var i=0;i<49;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3){display.cachedTextHeight=height}removeChildren(display.measure);return height||1}function charWidth(display){if(display.cachedCharWidth!=null){return display.cachedCharWidth}var anchor=elt("span","xxxxxxxxxx");var pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(width>2){display.cachedCharWidth=width}return width||10}function getDimensions(cm){var d=cm.display,left={},width={};var gutterLeft=d.gutters.clientLeft;for(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft;width[cm.options.gutters[i]]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line)){return 0}var widgetsHeight=0;if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height){widgetsHeight+=line.widgets[i].height}}}if(wrapping){return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th}else{return widgetsHeight+th}}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height){updateLineHeight(line,estHeight)}})}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&e_target(e).getAttribute("cm-not-content")=="true"){return null}var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e){return null}var coords=coordsChar(cm,x,y),line;if(forRect&&coords.xRel==1&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function findViewIndex(cm,n){if(n>=cm.display.viewTo){return null}n-=cm.display.viewFrom;if(n<0){return null}var view=cm.display.view;for(var i=0;i<view.length;i++){n-=view[i].size;if(n<0){return i}}}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){var doc=cm.doc,result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();for(var i=0;i<doc.sel.ranges.length;i++){if(primary===false&&i==doc.sel.primIndex){continue}var range=doc.sel.ranges[i];if(range.from().line>=cm.display.viewTo||range.to().line<cm.display.viewFrom){continue}var collapsed=range.empty();if(collapsed||cm.options.showCursorWhenSelecting){drawSelectionCursor(cm,range.head,curFragment)}if(!collapsed){drawSelectionRange(cm,range,selFragment)}}return result}function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt("div"," ","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(pos.other){var otherCursor=output.appendChild(elt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+"px"}}function drawSelectionRange(cm,range,output){var display=cm.display,doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display),leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;function add(left,top,width,bottom){if(top<0){top=0}top=Math.round(top);bottom=Math.round(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start,end;function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}iterateBidiSections(getOrder(lineObj),fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir){var leftPos=coords(from,"left"),rightPos,left,right;if(from==to){rightPos=leftPos;left=right=leftPos.left}else{rightPos=coords(to-1,"right");if(dir=="rtl"){var tmp=leftPos;leftPos=rightPos;rightPos=tmp}left=leftPos.left;right=rightPos.right}if(fromArg==null&&from==0){left=leftSide}if(rightPos.top-leftPos.top>3){add(left,leftPos.top,null,leftPos.bottom);left=leftSide;if(leftPos.bottom<rightPos.top){add(left,leftPos.bottom,null,rightPos.top)}}if(toArg==null&&to==lineLen){right=rightSide}if(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left){start=leftPos}if(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right){end=rightPos}if(left<leftSide+1){left=leftSide}add(left,rightPos.top,right-left,rightPos.bottom)});return{start:start,end:end}}var sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch)}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)}}if(leftEnd.bottom<rightStart.top){add(leftSide,leftEnd.bottom,null,rightStart.top)}}output.appendChild(fragment)}function restartBlink(cm){if(!cm.state.focused){return}var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility="";if(cm.options.cursorBlinkRate>0){display.blinker=setInterval(function(){return display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate)}else if(cm.options.cursorBlinkRate<0){display.cursorDiv.style.visibility="hidden"}}function ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm)}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=true;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;onBlur(cm)}},100)}function onFocus(cm,e){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false}if(cm.options.readOnly=="nocursor"){return}if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=true;addClass(cm.display.wrapper,"CodeMirror-focused");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit){setTimeout(function(){return cm.display.input.reset(true)},20)}}cm.display.input.receivedFocus()}restartBlink(cm)}function onBlur(cm,e){if(cm.state.delayingBlurEvent){return}if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=false;rmClass(cm.display.wrapper,"CodeMirror-focused")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused){cm.display.shift=false}},150)}function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter)){return}var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth,left=comp+"px";for(var i=0;i<view.length;i++){if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter){view[i].gutter.style.left=left}if(view[i].gutterBackground){view[i].gutterBackground.style.left=left}}var align=view[i].alignable;if(align){for(var j=0;j<align.length;j++){align[j].style.left=left}}}}if(cm.options.fixedGutter){display.gutters.style.left=comp+gutterW+"px"}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers){return false}var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm);return true}return false}function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;for(var i=0;i<display.view.length;i++){var cur=display.view[i],height=void 0;if(cur.hidden){continue}if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top}var diff=cur.line.height-height;if(height<2){height=textHeight(display)}if(diff>.001||diff<-.001){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest){for(var j=0;j<cur.rest.length;j++){updateWidgetHeight(cur.rest[j])}}}}}function updateWidgetHeight(line){if(line.widgets){for(var i=0;i<line.widgets.length;++i){line.widgets[i].height=line.widgets[i].node.parentNode.offsetHeight}}}function visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)}else if(Math.min(ensureTo,doc.lastLine())>=to){
from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo}}return{from:from,to:Math.max(to,from+1)}}function setScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-val)<2){return}cm.doc.scrollTop=val;if(!gecko){updateDisplaySimple(cm,{top:val})}if(cm.display.scroller.scrollTop!=val){cm.display.scroller.scrollTop=val}cm.display.scrollbars.setScrollTop(val);if(gecko){updateDisplaySimple(cm)}startWorker(cm,100)}function setScrollLeft(cm,val,isScroller){if(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2){return}val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val){cm.display.scroller.scrollLeft=val}cm.display.scrollbars.setScrollLeft(val)}var wheelSamples=0;var wheelPixelsPerUnit=null;if(ie){wheelPixelsPerUnit=-.53}else if(gecko){wheelPixelsPerUnit=15}else if(chrome){wheelPixelsPerUnit=-.7}else if(safari){wheelPixelsPerUnit=-1/3}function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS){dx=e.detail}if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS){dy=e.detail}else if(dy==null){dy=e.wheelDelta}return{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y;var display=cm.display,scroll=display.scroller;var canScrollX=scroll.scrollWidth>scroll.clientWidth;var canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY)){return}if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}}}}if(dx&&!gecko&&!presto&&wheelPixelsPerUnit!=null){if(dy&&canScrollY){setScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight)))}setScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth)));if(!dy||dy&&canScrollY){e_preventDefault(e)}display.wheelStartX=null;return}if(dy&&wheelPixelsPerUnit!=null){var pixels=dy*wheelPixelsPerUnit;var top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(pixels<0){top=Math.max(0,top+pixels-50)}else{bot=Math.min(cm.doc.height,bot+pixels+50)}updateDisplaySimple(cm,{top:top,bottom:bot})}if(wheelSamples<20){if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(display.wheelStartX==null){return}var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample){return}wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth;var docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}function NativeScrollbars(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight){scroll(vert.scrollTop,"vertical")}});on(horiz,"scroll",function(){if(horiz.clientWidth){scroll(horiz.scrollLeft,"horizontal")}});this.checkedZeroWidth=false;if(ie&&ie_version<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}}NativeScrollbars.prototype=copyObj({update:function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=measure.scrollWidth-measure.clientWidth+totalWidth+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&measure.clientHeight>0){if(sWidth==0){this.zeroWidthHack()}this.checkedZeroWidth=true}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}},setScrollLeft:function(pos){if(this.horiz.scrollLeft!=pos){this.horiz.scrollLeft=pos}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz)}},setScrollTop:function(pos){if(this.vert.scrollTop!=pos){this.vert.scrollTop=pos}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert)}},zeroWidthHack:function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Delayed;this.disableVert=new Delayed},enableZeroWidthBar:function(bar,delay){bar.style.pointerEvents="auto";function maybeDisable(){var box=bar.getBoundingClientRect();var elt=document.elementFromPoint(box.left+1,box.bottom-1);if(elt!=bar){bar.style.pointerEvents="none"}else{delay.set(1e3,maybeDisable)}}delay.set(1e3,maybeDisable)},clear:function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)}},NativeScrollbars.prototype);function NullScrollbars(){}NullScrollbars.prototype=copyObj({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},NullScrollbars.prototype);function updateScrollbars(cm,measure){if(!measure){measure=measureForScrollbars(cm)}var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping){updateHeightsInViewport(cm)}updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight}}function updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px"}else{d.scrollbarFiller.style.display=""}if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px"}else{d.gutterFiller.style.display=""}}var scrollbarModel={native:NativeScrollbars,null:NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass){rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,"mousedown",function(){if(cm.state.focused){setTimeout(function(){return cm.display.input.focus()},0)}});node.setAttribute("cm-not-content","true")},function(pos,axis){if(axis=="horizontal"){setScrollLeft(cm,pos)}else{setScrollTop(cm,pos)}},cm);if(cm.display.scrollbars.addClass){addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}}function maybeScrollWindow(cm,coords){if(signalDOMEvent(cm,"scrollCursorIntoView")){return}var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(coords.top+box.top<0){doScroll=true}else if(coords.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)){doScroll=false}if(doScroll!=null&&!phantom){var scrollNode=elt("div","​",null,"position: absolute;\n                         top: "+(coords.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(coords.bottom-coords.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+coords.left+"px; width: 2px;");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}function scrollPosIntoView(cm,pos,end,margin){if(margin==null){margin=0}var coords;for(var limit=0;limit<5;limit++){var changed=false;coords=cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:cursorCoords(cm,end);var scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin);var startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){setScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1){changed=true}}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1){changed=true}}if(!changed){break}}return coords}function scrollIntoView(cm,x1,y1,x2,y2){var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);if(scrollPos.scrollTop!=null){setScrollTop(cm,scrollPos.scrollTop)}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft)}}function calculateScrollPos(cm,x1,y1,x2,y2){var display=cm.display,snapMargin=textHeight(cm.display);if(y1<0){y1=0}var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm),result={};if(y2-y1>screen){y2=y1+screen}var docBottom=cm.doc.height+paddingVert(display);var atTop=y1<snapMargin,atBottom=y2>docBottom-snapMargin;if(y1<screentop){result.scrollTop=atTop?0:y1}else if(y2>screentop+screen){var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);if(newTop!=screentop){result.scrollTop=newTop}}var screenleft=cm.curOp&&cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft;var screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0);var tooWide=x2-x1>screenw;if(tooWide){x2=x1+screenw}if(x1<10){result.scrollLeft=0}else if(x1<screenleft){result.scrollLeft=Math.max(0,x1-(tooWide?0:10))}else if(x2>screenw+screenleft-3){result.scrollLeft=x2+(tooWide?0:10)-screenw}return result}function addToScrollPos(cm,left,top){if(left!=null||top!=null){resolveScrollToPos(cm)}if(left!=null){cm.curOp.scrollLeft=(cm.curOp.scrollLeft==null?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left}if(top!=null){cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top}}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor(),from=cur,to=cur;if(!cm.options.lineWrapping){from=cur.ch?Pos(cur.line,cur.ch-1):cur;to=Pos(cur.line,cur.ch+1)}cm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:true}}function resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to);var sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);cm.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}var nextOpId=0;function startOperation(cm){cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++nextOpId};pushOperation(cm.curOp)}function endOperation(cm){var op=cm.curOp;finishOperation(op,function(group){for(var i=0;i<group.ops.length;i++){group.ops[i].cm.curOp=null}endOperations(group)})}function endOperations(group){var ops=group.ops;for(var i=0;i<ops.length;i++){endOperation_R1(ops[i])}for(var i$1=0;i$1<ops.length;i$1++){endOperation_W1(ops[i$1])}for(var i$2=0;i$2<ops.length;i$2++){endOperation_R2(ops[i$2])}for(var i$3=0;i$3<ops.length;i$3++){endOperation_W2(ops[i$3])}for(var i$4=0;i$4<ops.length;i$4++){endOperation_finish(ops[i$4])}}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine){findMaxLine(cm)}op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay){updateHeightsInViewport(cm)}op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))}if(op.updatedDisplay||op.selectionChanged){op.preparedSelection=display.input.prepareSelection(op.focus)}}function endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft){setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true)}cm.display.maxLineChanged=false}var takeFocus=op.focus&&op.focus==activeElt()&&(!document.hasFocus||document.hasFocus());if(op.preparedSelection){cm.display.input.showSelection(op.preparedSelection,takeFocus)}if(op.updatedDisplay||op.startHeight!=cm.doc.height){updateScrollbars(cm,op.barMeasure)}if(op.updatedDisplay){setDocumentHeight(cm,op.barMeasure)}if(op.selectionChanged){restartBlink(cm)}if(cm.state.focused&&op.updateInput){cm.display.input.reset(op.typing)}if(takeFocus){ensureFocus(op.cm)}}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay){postUpdateDisplay(cm,op.update)}if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos)){display.wheelStartX=display.wheelStartY=null}if(op.scrollTop!=null&&(display.scroller.scrollTop!=op.scrollTop||op.forceScroll)){doc.scrollTop=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop));display.scrollbars.setScrollTop(doc.scrollTop);display.scroller.scrollTop=doc.scrollTop}if(op.scrollLeft!=null&&(display.scroller.scrollLeft!=op.scrollLeft||op.forceScroll)){doc.scrollLeft=Math.max(0,Math.min(display.scroller.scrollWidth-display.scroller.clientWidth,op.scrollLeft));display.scrollbars.setScrollLeft(doc.scrollLeft);display.scroller.scrollLeft=doc.scrollLeft;alignHorizontally(cm)}if(op.scrollToPos){var coords=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);if(op.scrollToPos.isCursor&&cm.state.focused){maybeScrollWindow(cm,coords)}}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden){for(var i=0;i<hidden.length;++i){if(!hidden[i].lines.length){signal(hidden[i],"hide")}}}if(unhidden){for(var i$1=0;i$1<unhidden.length;++i$1){if(unhidden[i$1].lines.length){signal(unhidden[i$1],"unhide")}}}if(display.wrapper.offsetHeight){doc.scrollTop=cm.display.scroller.scrollTop}if(op.changeObjs){signal(cm,"changes",cm,op.changeObjs)}if(op.update){op.update.finish()}}function runInOp(cm,f){if(cm.curOp){return f()}startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp){return f.apply(cm,arguments)}startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp){return f.apply(this,arguments)}startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp){return f.apply(this,arguments)}startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function regChange(cm,from,to,lendiff){if(from==null){from=cm.doc.first}if(to==null){to=cm.doc.first+cm.doc.size}if(!lendiff){lendiff=0}var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>from)){display.updateLineNumbers=from}cm.curOp.viewChanged=true;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo){resetView(cm)}}else if(to<=display.viewFrom){if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm)}else{display.viewFrom+=lendiff;display.viewTo+=lendiff}}else if(from<=display.viewFrom&&to>=display.viewTo){resetView(cm)}else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff}else{resetView(cm)}}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN}else{resetView(cm)}}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else{resetView(cm)}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN){ext.lineN+=lendiff}else if(from<ext.lineN+ext.size){display.externalMeasured=null}}}function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size){display.externalMeasured=null}if(line<display.viewFrom||line>=display.viewTo){return}var lineView=display.view[findViewIndex(cm,line)];if(lineView.node==null){return}var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1){arr.push(type)}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size){return{index:index,lineN:newN}}var n=cm.display.viewFrom;for(var i=0;i<index;i++){n+=view[i].size}if(n!=oldN){if(dir>0){if(index==view.length-1){return null}diff=n+view[index].size-oldN;index++}else{diff=n-oldN}oldN+=diff;newN+=diff}while(visualLineNo(cm.doc,newN)!=newN){if(index==(dir<0?0:view.length-1)){return null}newN+=dir*view[index-(dir<0?1:0)].size;index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from){display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view)}else if(display.viewFrom<from){display.view=display.view.slice(findViewIndex(cm,from))}display.viewFrom=from;if(display.viewTo<to){display.view=display.view.concat(buildViewArray(cm,display.viewTo,to))}else if(display.viewTo>to){display.view=display.view.slice(0,findViewIndex(cm,to))}}display.viewTo=to}function countDirtyView(cm){var view=cm.display.view,dirty=0;for(var i=0;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes)){++dirty}}return dirty}function startWorker(cm,time){if(cm.doc.mode.startState&&cm.doc.frontier<cm.display.viewTo){cm.state.highlight.set(time,bind(highlightWorker,cm))}}function highlightWorker(cm){var doc=cm.doc;if(doc.frontier<doc.first){doc.frontier=doc.first}if(doc.frontier>=cm.display.viewTo){return}var end=+new Date+cm.options.workTime;var state=copyState(doc.mode,getStateBefore(cm,doc.frontier));var changedLines=[];doc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(doc.frontier>=cm.display.viewFrom){var oldStyles=line.styles,tooLong=line.text.length>cm.options.maxHighlightLength;var highlighted=highlightLine(cm,line,tooLong?copyState(doc.mode,state):state,true);line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls){line.styleClasses=newCls}else if(oldCls){line.styleClasses=null}var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);for(var i=0;!ischange&&i<oldStyles.length;++i){ischange=oldStyles[i]!=line.styles[i]}if(ischange){changedLines.push(doc.frontier)}line.stateAfter=tooLong?state:copyState(doc.mode,state)}else{if(line.text.length<=cm.options.maxHighlightLength){processLine(cm,line.text,state)}line.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null}++doc.frontier;if(+new Date>end){startWorker(cm,cm.options.workDelay);return true}});if(changedLines.length){runInOp(cm,function(){for(var i=0;i<changedLines.length;i++){regLineChange(cm,changedLines[i],"text")}})}}function DisplayUpdate(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[]}DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type)){this.events.push(arguments)}};DisplayUpdate.prototype.finish=function(){var this$1=this;for(var i=0;i<this.events.length;i++){signal.apply(null,this$1.events[i])}};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=true}}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return false}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0){return false}if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm)}var end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20){from=Math.max(doc.first,display.viewFrom)}if(display.viewTo>to&&display.viewTo-to<20){to=Math.min(end,display.viewTo)}if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)){return false}var focused=activeElt();if(toUpdate>4){display.lineDiv.style.display="none"}patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4){display.lineDiv.style.display=""}display.renderedView=display.view;if(focused&&activeElt()!=focused&&focused.offsetHeight){focused.focus()}removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400)}display.updateLineNumbers=null;return true}function postUpdateDisplay(cm,update){var viewport=update.viewport;for(var first=true;;first=false){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&viewport.top!=null){viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}}update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo){break}}if(!updateDisplayIfNeeded(cm,update)){break}updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure)}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers;var container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node){node.style.display="none"}else{node.parentNode.removeChild(node)}return next}var view=display.view,lineN=display.viewFrom;for(var i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden){}else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{while(cur!=lineView.node){cur=rm(cur)}var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,"gutter")>-1){updateNumber=false}updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling}lineN+=lineView.size}while(cur){cur=rm(cur)}}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px"}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px"}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);var i=0;for(;i<specs.length;++i){var gutterClass=specs[i];var gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));if(gutterClass=="CodeMirror-linenumbers"){cm.display.lineGutter=gElt;gElt.style.width=(cm.display.lineNumWidth||1)+"px"}}gutters.style.display=i?"":"none";updateGutterSpace(cm)}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");if(found==-1&&options.lineNumbers){options.gutters=options.gutters.concat(["CodeMirror-linenumbers"])}else if(found>-1&&!options.lineNumbers){options.gutters=options.gutters.slice(0);options.gutters.splice(found,1)}}function Selection(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex}Selection.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(other){var this$1=this;if(other==this){return true}if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length){return false}for(var i=0;i<this.ranges.length;i++){var here=this$1.ranges[i],there=other.ranges[i];if(cmp(here.anchor,there.anchor)!=0||cmp(here.head,there.head)!=0){return false}}return true},deepCopy:function(){var this$1=this;var out=[];for(var i=0;i<this.ranges.length;i++){out[i]=new Range(copyPos(this$1.ranges[i].anchor),copyPos(this$1.ranges[i].head))}return new Selection(out,this.primIndex)},somethingSelected:function(){var this$1=this;for(var i=0;i<this.ranges.length;i++){if(!this$1.ranges[i].empty()){return true}}return false},contains:function(pos,end){var this$1=this;if(!end){end=pos}for(var i=0;i<this.ranges.length;i++){var range=this$1.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0){return i}}return-1}};function Range(anchor,head){this.anchor=anchor;this.head=head}Range.prototype={from:function(){return minPos(this.anchor,this.head)},to:function(){return maxPos(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex){--primIndex}ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){if(!change.text){return change.to}return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0))}function adjustForChange(pos,change){if(cmp(pos,change.from)<0){return pos}if(cmp(pos,change.to)<=0){return changeEnd(change)}var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line){ch+=changeEnd(change).ch-change.to.ch}return Pos(line,ch)}function computeSelAfterChange(doc,change){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(out,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line){return Pos(nw.line,pos.ch-old.ch+nw.ch)}else{return Pos(nw.line+(pos.line-old.line),pos.ch)}}function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0),newPrev=oldPrev;for(var i=0;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint=="around"){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else{out[i]=new Range(from,from)}}return new Selection(out,doc.sel.primIndex)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter){line.stateAfter=null}if(line.styles){
line.styles=null}});cm.doc.frontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp){regChange(cm)}}function isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==""&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight);signalLater(line,"change",line,change)}function linesFor(start,end){var result=[];for(var i=start;i<end;++i){result.push(new Line(text[i],spansFor(i),estimateHeight))}return result}var from=change.from,to=change.to,text=change.text;var firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);var lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length)}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines){doc.remove(from.line,nlines)}if(added.length){doc.insert(from.line,added)}}else if(firstLine==lastLine){if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans)}else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1)}}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);if(nlines>1){doc.remove(from.line+1,nlines-1)}doc.insert(from.line+1,added$2)}signalLater(doc,"change",doc,change)}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked){for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip){continue}var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared){continue}f(rel.doc,shared);propagate(rel.doc,doc,shared)}}}propagate(doc,null,true)}function attachDoc(cm,doc){if(doc.cm){throw new Error("This document is already in use.")}cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);if(!cm.options.lineWrapping){findMaxLine(cm)}cm.options.mode=doc.modeOption;regChange(cm)}function History(startGen){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},true);return histChange}function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges){array.pop()}else{break}}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done)}else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done)}}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur;var last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(change.origin.charAt(0)=="+"&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay||change.origin.charAt(0)=="*"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0){last.to=changeEnd(change)}else{cur.changes.push(historyChangeFromChange(doc,change))}}else{var before=lst(hist.done);if(!before||!before.ranges){pushSelectionToHistory(doc.sel,hist.done)}cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges){hist.done.shift()}}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last){signal(doc,"historyAdded")}}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch=="*"||ch=="+"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))){hist.done[hist.done.length-1]=sel}else{pushSelectionToHistory(sel,hist.done)}hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false){clearSelectionEvents(hist.undone)}}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel))){dest.push(sel)}}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans){(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans}++n})}function removeClearedSpans(spans){if(!spans){return null}var out;for(var i=0;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out){out=spans.slice(0,i)}}else if(out){out.push(spans[i])}}return!out?spans:out.length?out:null}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found){return null}var nw=[];for(var i=0;i<change.text.length;++i){nw.push(removeClearedSpans(found[i]))}return nw}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old){return stretched}if(!stretched){return old}for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0;j<stretchCur.length;++j){var span=stretchCur[j];for(var k=0;k<oldCur.length;++k){if(oldCur[k].marker==span.marker){continue spans}}oldCur.push(span)}}else if(stretchCur){old[i]=stretchCur}}return old}function copyHistoryArray(events,newGroup,instantiateSel){var copy=[];for(var i=0;i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m=void 0;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup){for(var prop in change){if(m=prop.match(/^spans_(\d+)$/)){if(indexOf(newGroup,Number(m[1]))>-1){lst(newChanges)[prop]=change[prop];delete change[prop]}}}}}}return copy}function extendRange(doc,range,head,other){if(doc.cm&&doc.cm.display.shift||doc.extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=cmp(other,anchor)<0){anchor=head;head=other}else if(posBefore!=cmp(head,other)<0){head=other}}return new Range(anchor,head)}else{return new Range(other||head,head)}}function extendSelection(doc,head,other,options){setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options)}function extendSelections(doc,heads,options){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){out[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null)}var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){var this$1=this;this.ranges=[];for(var i=0;i<ranges.length;i++){this$1.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))}},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeSelectionChange",doc.cm,obj)}if(obj.ranges!=sel.ranges){return normalizeSelection(obj.ranges,obj.ranges.length-1)}else{return sel}}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options)}else{setSelection(doc,sel,options)}}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange")){sel=filterSelectionChange(doc,sel,options)}var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm){ensureCursorVisible(doc.cm)}}function setSelectionInner(doc,sel){if(sel.equals(doc.sel)){return}doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm)}signalLater(doc,"cursorActivity",doc)}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false),sel_dontScroll)}function skipAtomicInSelection(doc,sel,bias,mayClear){var out;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];var old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear);var newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out){out=sel.ranges.slice(0,i)}out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((sp.from==null||(m.inclusiveLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(sp.to==null||(m.inclusiveRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared){if(!line.markedSpans){break}else{--i;continue}}}if(!m.atomic){continue}if(oldPos){var near=m.find(dir<0?1:-1),diff=void 0;if(dir<0?m.inclusiveRight:m.inclusiveLeft){near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null)}if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(dir<0?diff<0:diff>0)){return skipAtomicInner(doc,near,pos,dir,mayClear)}}var far=m.find(dir<0?-1:1);if(dir<0?m.inclusiveLeft:m.inclusiveRight){far=movePos(doc,far,dir,far.line==pos.line?line:null)}return far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1;var found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,true)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,true);if(!found){doc.cantEdit=true;return Pos(doc.first,0)}return found}function movePos(doc,pos,dir,line){if(dir<0&&pos.ch==0){if(pos.line>doc.first){return clipPos(doc,Pos(pos.line-1))}else{return null}}else if(dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length){if(pos.line<doc.first+doc.size-1){return Pos(pos.line+1,0)}else{return null}}else{return new Pos(pos.line,pos.ch+dir)}}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=true}};if(update){obj.update=function(from,to,text,origin){if(from){obj.from=clipPos(doc,from)}if(to){obj.to=clipPos(doc,to)}if(text){obj.text=text}if(origin!==undefined){obj.origin=origin}}}signal(doc,"beforeChange",doc,obj);if(doc.cm){signal(doc.cm,"beforeChange",doc.cm,obj)}if(obj.canceled){return null}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp){return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly)}if(doc.cm.state.suppressEdits){return}}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,true);if(!change){return}}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;i>=0;--i){makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text})}}else{makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==""&&cmp(change.from,change.to)==0){return}var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}function makeChangeFromHistory(doc,type,allowSelectionOnly){if(doc.cm&&doc.cm.state.suppressEdits&&!allowSelectionOnly){return}var hist=doc.history,event,selAfter=doc.sel;var source=type=="undo"?hist.done:hist.undone,dest=type=="undo"?hist.undone:hist.done;var i=0;for(;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges){break}}if(i==source.length){return}hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return}selAfter=event}else{break}}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange");var loop=function(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return{}}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm){doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)})}var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})};for(var i$1=event.changes.length-1;i$1>=0;--i$1){var returned=loop(i$1);if(returned)return returned.v}}function shiftDoc(doc,distance){if(distance==0){return}doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++){regLineChange(doc.cm,l,"gutter")}}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans)}if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return}if(change.from.line>doc.lastLine()){return}if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}}change.removed=getBetween(doc,change.from,change.to);if(!selAfter){selAfter=computeSelAfterChange(doc,change)}if(doc.cm){makeChangeSingleDocInEditor(doc.cm,change,spans)}else{updateDoc(doc,change,spans)}setSelectionNoUndo(doc,selAfter,sel_dontScroll)}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to;var recomputeMaxLength=false,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true}})}if(doc.sel.contains(change.from,change.to)>-1){signalCursorActivity(cm)}updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false}});if(recomputeMaxLength){cm.curOp.updateMaxLine=true}}doc.frontier=Math.min(doc.frontier,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full){regChange(cm)}else if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change)){regLineChange(cm,from.line,"text")}else{regChange(cm,from.line,to.line+1,lendiff)}var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler){signalLater(cm,"change",cm,obj)}if(changesHandler){(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){if(!to){to=from}if(cmp(to,from)<0){var tmp=to;to=from;from=tmp}if(typeof code=="string"){code=doc.splitLines(code)}makeChange(doc,{from:from,to:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff}else if(from<pos.line){pos.line=from;pos.ch=0}}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}for(var j$1=0;j$1<sub.changes.length;++j$1){var cur=sub.changes[j$1];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch)}else if(from<=cur.to.line){ok=false;break}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if(typeof handle=="number"){line=getLine(doc,clipLine(doc,handle))}else{no=lineNo(handle)}if(no==null){return null}if(op(line,no)&&doc.cm){regLineChange(doc.cm,no,changeType)}return line}function LeafChunk(lines){var this$1=this;this.lines=lines;this.parent=null;var height=0;for(var i=0;i<lines.length;++i){lines[i].parent=this$1;height+=lines[i].height}this.height=height}LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){var this$1=this;for(var i=at,e=at+n;i<e;++i){var line=this$1.lines[i];this$1.height-=line.height;cleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){var this$1=this;this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i){lines[i].parent=this$1}},iterN:function(at,n,op){var this$1=this;for(var e=at+n;at<e;++at){if(op(this$1.lines[at])){return true}}}};function BranchChunk(children){var this$1=this;this.children=children;var size=0,height=0;for(var i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this$1}this.size=size;this.height=height;this.parent=null}BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){var this$1=this;this.size-=n;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this$1.height-=oldHeight-child.height;if(sz==rm){this$1.children.splice(i--,1);child.parent=null}if((n-=rm)==0){break}at=0}else{at-=sz}}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){var this$1=this;for(var i=0;i<this.children.length;++i){this$1.children[i].collapse(lines)}},insertInner:function(at,lines,height){var this$1=this;this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){var remaining=child.lines.length%25+25;for(var pos=remaining;pos<child.lines.length;){var leaf=new LeafChunk(child.lines.slice(pos,pos+=25));child.height-=leaf.height;this$1.children.splice(++i,0,leaf);leaf.parent=this$1}child.lines=child.lines.slice(0,remaining);this$1.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(this.children.length<=10){return}var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()},iterN:function(at,n,op){var this$1=this;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op)){return true}if((n-=used)==0){break}at=0}else{at-=sz}}}};function LineWidget(doc,node,options){var this$1=this;if(options){for(var opt in options){if(options.hasOwnProperty(opt)){this$1[opt]=options[opt]}}}this.doc=doc;this.node=node}eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)){addToScrollPos(cm,null,diff)}}LineWidget.prototype.clear=function(){var this$1=this;var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(no==null||!ws){return}for(var i=0;i<ws.length;++i){if(ws[i]==this$1){ws.splice(i--,1)}}if(!ws.length){line.widgets=null}var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget")})}};LineWidget.prototype.changed=function(){var oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff){return}updateLineHeight(line,line.height+diff);if(cm){runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff)})}};function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll){cm.display.alignWidgets=true}changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null){widgets.push(widget)}else{widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget)}widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible){addToScrollPos(cm,null,widget.height)}cm.curOp.forceUpdate=true}return true});return widget}var nextMarkerId=0;function TextMarker(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId}eventMixin(TextMarker);TextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp){startOperation(cm)}if(hasHandler(this,"clear")){var found=this.find();if(found){signalLater(this,"clear",found.from,found.to)}}var min=null,max=null;for(var i=0;i<this.lines.length;++i){var line=this$1.lines[i];var span=getMarkedSpanFor(line.markedSpans,this$1);if(cm&&!this$1.collapsed){regLineChange(cm,lineNo(line),"text")}else if(cm){if(span.to!=null){max=lineNo(line)}if(span.from!=null){min=lineNo(line)}}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this$1.collapsed&&!lineIsHidden(this$1.doc,line)&&cm){updateLineHeight(line,textHeight(cm.display))}}if(cm&&this.collapsed&&!cm.options.lineWrapping){for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this$1.lines[i$1]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=true}}}if(min!=null&&cm&&this.collapsed){regChange(cm,min,max+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm){reCheckSelection(cm.doc)}}if(cm){signalLater(cm,"markerCleared",cm,this)}if(withOp){endOperation(cm)}if(this.parent){this.parent.clear()}};TextMarker.prototype.find=function(side,lineObj){var this$1=this;if(side==null&&this.type=="bookmark"){side=1}var from,to;for(var i=0;i<this.lines.length;++i){var line=this$1.lines[i];var span=getMarkedSpanFor(line.markedSpans,this$1);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1){return from}}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1){return to}}}return from&&{from:from,to:to}};TextMarker.prototype.changed=function(){var pos=this.find(-1,true),widget=this,cm=this.doc.cm;if(!pos||!cm){return}runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight){updateLineHeight(line,line.height+dHeight)}}})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1){(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};function markText(doc,from,to,options,type){if(options&&options.shared){return markTextShared(doc,from,to,options,type)}if(doc.cm&&!doc.cm.curOp){return operation(doc.cm,markText)(doc,from,to,options,type)}var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options){copyObj(options,marker,false)}if(diff>0||diff==0&&marker.clearWhenEmpty!==false){return marker}if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=elt("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents){marker.widgetNode.setAttribute("cm-ignore-events","true")}if(options.insertLeft){marker.widgetNode.insertLeft=true}}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}seeCollapsedSpans()}if(marker.addToHistory){addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN)}var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine){updateMaxLine=true}if(marker.collapsed&&curLine!=from.line){updateLineHeight(line,0)}addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine});if(marker.collapsed){doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line)){updateLineHeight(line,0)}})}if(marker.clearOnEnter){on(marker,"beforeCursorEnter",function(){return marker.clear()})}if(marker.readOnly){seeReadOnlySpans();if(doc.history.done.length||doc.history.undone.length){doc.clearHistory()}}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true}if(cm){if(updateMaxLine){cm.curOp.updateMaxLine=true}if(marker.collapsed){regChange(cm,from.line,to.line+1)}else if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css){for(var i=from.line;i<=to.line;i++){regLineChange(cm,i,"text")}}if(marker.atomic){reCheckSelection(cm.doc)}signalLater(cm,"markerAdded",cm,marker)}return marker}function SharedTextMarker(markers,primary){var this$1=this;this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i){markers[i].parent=this$1}}eventMixin(SharedTextMarker);SharedTextMarker.prototype.clear=function(){var this$1=this;if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var i=0;i<this.markers.length;++i){this$1.markers[i].clear()}signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[markText(doc,from,to,options,type)],primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget){options.widgetNode=widget.cloneNode(true)}markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i){if(doc.linked[i].isParent){return}}primary=lst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find();var mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker}}}function detachSharedMarkers(markers){var loop=function(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){return linked.push(d)});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==-1){subMarker.parent=null;marker.markers.splice(j--,1)}}};for(var i=0;i<markers.length;i++)loop(i)}var nextDocId=0;var Doc=function(text,mode,firstLine,lineSep){if(!(this instanceof Doc)){return new Doc(text,mode,firstLine,lineSep)}if(firstLine==null){firstLine=0}BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.extend=false;if(typeof text=="string"){text=this.splitLines(text)}updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{
constructor:Doc,iter:function(from,to,op){if(op){this.iterN(from-this.first,to-from,op)}else{this.iterN(this.first,this.first+this.size,from)}},insert:function(at,lines){var height=0;for(var i=0;i<lines.length;++i){height+=lines[i].height}this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(lineSep===false){return lines}return lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:true},true);setSelection(this,simpleSelection(top))}),replaceRange:function(code,from,to,origin){from=clipPos(this,from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(lineSep===false){return lines}return lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line)){return getLine(this,line)}},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if(typeof line=="number"){line=getLine(this,line)}return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range=this.sel.primary(),pos;if(start==null||start=="head"){pos=range.head}else if(start=="anchor"){pos=range.anchor}else if(start=="end"||start=="to"||start===false){pos=range.to()}else{pos=range.from()}return pos},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){var this$1=this;if(!ranges.length){return}var out=[];for(var i=0;i<ranges.length;i++){out[i]=new Range(clipPos(this$1,ranges[i].anchor),clipPos(this$1,ranges[i].head))}if(primary==null){primary=Math.min(ranges.length-1,this.sel.primIndex)}setSelection(this,normalizeSelection(out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(ranges,ranges.length-1),options)}),getSelection:function(lineSep){var this$1=this;var ranges=this.sel.ranges,lines;for(var i=0;i<ranges.length;i++){var sel=getBetween(this$1,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}if(lineSep===false){return lines}else{return lines.join(lineSep||this.lineSeparator())}},getSelections:function(lineSep){var this$1=this;var parts=[],ranges=this.sel.ranges;for(var i=0;i<ranges.length;i++){var sel=getBetween(this$1,ranges[i].from(),ranges[i].to());if(lineSep!==false){sel=sel.join(lineSep||this$1.lineSeparator())}parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){var dup=[];for(var i=0;i<this.sel.ranges.length;i++){dup[i]=code}this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){var this$1=this;var changes=[],sel=this.sel;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:this$1.splitLines(code[i]),origin:origin}}var newSel=collapse&&collapse!="end"&&computeReplacedSel(this,changes,collapse);for(var i$1=changes.length-1;i$1>=0;i$1--){makeChange(this$1,changes[i$1])}if(newSel){setSelectionReplaceHistory(this,newSel)}else if(this.cm){ensureCursorVisible(this.cm)}}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",true)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",true)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){var hist=this.history,done=0,undone=0;for(var i=0;i<hist.done.length;i++){if(!hist.done[i].ranges){++done}}for(var i$1=0;i$1<hist.undone.length;i$1++){if(!hist.undone[i$1].ranges){++undone}}return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(forceSplit){if(forceSplit){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true)},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers)){line.gutterMarkers=null}return true})}),clearGutter:docMethodOp(function(gutterID){var this$1=this;var i=this.first;this.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){changeLine(this$1,line,"gutter",function(){line.gutterMarkers[gutterID]=null;if(isEmpty(line.gutterMarkers)){line.gutterMarkers=null}return true})}++i})}),lineInfo:function(line){var n;if(typeof line=="number"){if(!isLine(this,line)){return null}n=line;line=getLine(this,line);if(!line){return null}}else{n=lineNo(line);if(n==null){return null}}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";if(!line[prop]){line[prop]=cls}else if(classTest(cls).test(line[prop])){return false}else{line[prop]+=" "+cls}return true})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";var cur=line[prop];if(!cur){return false}else if(cls==null){line[prop]=null}else{var found=cur.match(classTest(cls));if(!found){return false}var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null}return true})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:false,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch)){markers.push(span.marker.parent||span.marker)}}}return markers},findMarks:function(from,to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[],lineNo=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans){for(var i=0;i<spans.length;i++){var span=spans[i];if(!(span.to!=null&&lineNo==from.line&&from.ch>=span.to||span.from==null&&lineNo!=from.line||span.from!=null&&lineNo==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker))){found.push(span.marker.parent||span.marker)}}}++lineNo});return found},getAllMarks:function(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps){for(var i=0;i<sps.length;++i){if(sps[i].from!=null){markers.push(sps[i].marker)}}}});return markers},posFromIndex:function(off){var ch,lineNo=this.first,sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return true}off-=sz;++lineNo});return clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||coords.ch<0){return 0}var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index+=line.text.length+sepSize});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory())}return doc},linkedDoc:function(options){if(!options){options={}}var from=this.first,to=this.first+this.size;if(options.from!=null&&options.from>from){from=options.from}if(options.to!=null&&options.to<to){to=options.to}var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep);if(options.sharedHist){copy.history=this.history}(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy},unlinkDoc:function(other){var this$1=this;if(other instanceof CodeMirror){other=other.doc}if(this.linked){for(var i=0;i<this.linked.length;++i){var link=this$1.linked[i];if(link.doc!=other){continue}this$1.linked.splice(i,1);other.unlinkDoc(this$1);detachSharedMarkers(findSharedMarkers(this$1));break}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},true);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){if(this.lineSep){return str.split(this.lineSep)}return splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||"\n"}});Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);if(ie){lastDrop=+new Date}var pos=posFromMouse(cm,e,true),files=e.dataTransfer.files;if(!pos||cm.isReadOnly()){return}if(files&&files.length&&window.FileReader&&window.File){var n=files.length,text=Array(n),read=0;var loadFile=function(file,i){if(cm.options.allowDropFileTypes&&indexOf(cm.options.allowDropFileTypes,file.type)==-1){return}var reader=new FileReader;reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)){content=""}text[i]=content;if(++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}});reader.readAsText(file)};for(var i=0;i<n;++i){loadFile(files[i],i)}}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(function(){return cm.display.input.focus()},20);return}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy){selected=cm.listSelections()}setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected){for(var i$1=0;i$1<selected.length;++i$1){replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,"drag")}}cm.replaceSelection(text$1,"around","paste");cm.display.input.focus()}}catch(e){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e)){return}e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto){img.parentNode.removeChild(img)}}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos){return}var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)}removeChildrenAndAdd(cm.display.dragCursor,frag)}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null}}function forEachCodeMirror(f){if(!document.body.getElementsByClassName){return}var byClass=document.body.getElementsByClassName("CodeMirror");for(var i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm){f(cm)}}}var globalsRegistered=false;function ensureGlobalHandlers(){if(globalsRegistered){return}registerGlobalHandlers();globalsRegistered=true}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){if(resizeTimer==null){resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize)},100)}});on(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d=cm.display;if(d.lastWrapHeight==d.wrapper.clientHeight&&d.lastWrapWidth==d.wrapper.clientWidth){return}d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize()}var keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(var i=0;i<10;i++){keyNames[i+48]=keyNames[i+96]=String(i)}for(var i$1=65;i$1<=90;i$1++){keyNames[i$1]=String.fromCharCode(i$1)}for(var i$2=1;i$2<=12;i$2++){keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2}var keyMap={};keyMap.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=parts[parts.length-1];var alt,ctrl,shift,cmd;for(var i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod)){cmd=true}else if(/^a(lt)?$/i.test(mod)){alt=true}else if(/^(c|ctrl|control)$/i.test(mod)){ctrl=true}else if(/^s(hift)?$/i.test(mod)){shift=true}else{throw new Error("Unrecognized modifier name: "+mod)}}if(alt){name="Alt-"+name}if(ctrl){name="Ctrl-"+name}if(cmd){name="Cmd-"+name}if(shift){name="Shift-"+name}return name}function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap){if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname)){continue}if(value=="..."){delete keymap[keyname];continue}var keys=map(keyname.split(" "),normalizeKeyName);for(var i=0;i<keys.length;i++){var val=void 0,name=void 0;if(i==keys.length-1){name=keys.join(" ");val=value}else{name=keys.slice(0,i+1).join(" ");val="..."}var prev=copy[name];if(!prev){copy[name]=val}else if(prev!=val){throw new Error("Inconsistent bindings for "+name)}}delete keymap[keyname]}}for(var prop in copy){keymap[prop]=copy[prop]}return keymap}function lookupKey(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===false){return"nothing"}if(found==="..."){return"multi"}if(found!=null&&handle(found)){return"handled"}if(map.fallthrough){if(Object.prototype.toString.call(map.fallthrough)!="[object Array]"){return lookupKey(key,map.fallthrough,handle,context)}for(var i=0;i<map.fallthrough.length;i++){var result=lookupKey(key,map.fallthrough[i],handle,context);if(result){return result}}}}function isModifierKey(value){var name=typeof value=="string"?value:keyNames[value.keyCode];return name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod"}function keyName(event,noShift){if(presto&&event.keyCode==34&&event["char"]){return false}var base=keyNames[event.keyCode],name=base;if(name==null||event.altGraphKey){return false}if(event.altKey&&base!="Alt"){name="Alt-"+name}if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!="Ctrl"){name="Ctrl-"+name}if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!="Cmd"){name="Cmd-"+name}if(!noShift&&event.shiftKey&&base!="Shift"){name="Shift-"+name}return name}function getKeyMap(val){return typeof val=="string"?keyMap[val]:val}function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges,kill=[];for(var i=0;i<ranges.length;i++){var toKill=compute(ranges[i]);while(kill.length&&cmp(toKill.from,lst(kill).to)<=0){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--){replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete")}ensureCursorVisible(cm)})}var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine()){return{from:range.head,to:Pos(range.head.line+1,0)}}else{return{from:range.head,to:Pos(range.head.line,len)}}}else{return{from:range.from(),to:range.to()}}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;var pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/)){return lineStartSmart(cm,range.head)}return pos},sel_move)},goLineUp:function(cm){return cm.moveV(-1,"line")},goLineDown:function(cm){return cm.moveV(1,"line")},goPageUp:function(cm){return cm.moveV(-1,"page")},goPageDown:function(cm){return cm.moveV(1,"page")},goCharLeft:function(cm){return cm.moveH(-1,"char")},goCharRight:function(cm){return cm.moveH(1,"char")},goColumnLeft:function(cm){return cm.moveH(-1,"column")},goColumnRight:function(cm){return cm.moveH(1,"column")},goWordLeft:function(cm){return cm.moveH(-1,"word")},goGroupRight:function(cm){return cm.moveH(1,"group")},goGroupLeft:function(cm){return cm.moveH(-1,"group")},goWordRight:function(cm){return cm.moveH(1,"word")},delCharBefore:function(cm){return cm.deleteH(-1,"char")},delCharAfter:function(cm){return cm.deleteH(1,"char")},delWordBefore:function(cm){return cm.deleteH(-1,"word")},delWordAfter:function(cm){return cm.deleteH(1,"word")},delGroupBefore:function(cm){return cm.deleteH(-1,"group")},delGroupAfter:function(cm){return cm.deleteH(1,"group")},indentAuto:function(cm){return cm.indentSelection("smart")},indentMore:function(cm){return cm.indentSelection("add")},indentLess:function(cm){return cm.indentSelection("subtract")},insertTab:function(cm){return cm.replaceSelection("\t")},insertSoftTab:function(cm){var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize;for(var i=0;i<ranges.length;i++){var pos=ranges[i].from();var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){if(cm.somethingSelected()){cm.indentSelection("add")}else{cm.execCommand("insertTab")}},transposeChars:function(cm){return runInOp(cm,function(){var ranges=cm.listSelections(),newSel=[];for(var i=0;i<ranges.length;i++){if(!ranges[i].empty()){continue}var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length){cur=new Pos(cur.line,cur.ch-1)}if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose")}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose")}}}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,function(){var sels=cm.listSelections();for(var i=sels.length-1;i>=0;i--){cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input")}sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++){cm.indentLine(sels[i$1].from().line,null,true)}ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection("\n","start")},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};function lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line){lineN=lineNo(visual)}var order=getOrder(visual);var ch=!order?0:order[0].level%2?lineRight(visual):lineLeft(visual);return Pos(lineN,ch)}function lineEnd(cm,lineN){var merged,line=getLine(cm.doc,lineN);while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;lineN=null}var order=getOrder(line);var ch=!order?line.text.length:order[0].level%2?lineLeft(line):lineRight(line);return Pos(lineN==null?lineNo(line):lineN,ch)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line);if(!order||order[0].level==0){var firstNonWS=Math.max(0,line.text.search(/\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS)}return start}function doHandleBinding(cm,bound,dropShift){if(typeof bound=="string"){bound=commands[bound];if(!bound){return false}}cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=false;try{if(cm.isReadOnly()){cm.state.suppressEdits=true}if(dropShift){cm.display.shift=false}done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=false}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result){return result}}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}var stopSeq=new Delayed;function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name)){return"handled"}stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset()}});name=seq+" "+name}var result=lookupKeyForEditor(cm,name,handle);if(result=="multi"){cm.state.keySeq=name}if(result=="handled"){signalLater(cm,"keyHandled",cm,name,e)}if(result=="handled"||result=="multi"){e_preventDefault(e);restartBlink(cm)}if(seq&&!result&&/\'$/.test(name)){e_preventDefault(e);return true}return!!result}function handleKeyBinding(cm,e){var name=keyName(e,true);if(!name){return false}if(e.shiftKey&&!cm.state.keySeq){return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,true)})||dispatchKey(cm,name,e,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion){return doHandleBinding(cm,b)}})}else{return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)})}}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,true)})}var lastStoppedKey=null;function onKeyDown(e){var cm=this;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e)){return}if(ie&&ie_version<11&&e.keyCode==27){e.returnValue=false}var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)){cm.replaceSelection("",null,"cut")}}if(code==18&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)){showCrossHair(cm)}}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up)}}on(document,"keyup",up);on(document,"mouseover",up)}function onKeyUp(e){if(e.keyCode==16){this.doc.sel.shift=false}signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey){return}var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if(presto&&(!e.which||e.which<10)&&handleKeyBinding(cm,e)){return}var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(ch=="\b"){return}if(handleCharBinding(cm,e,ch)){return}cm.display.input.onKeyPress(e)}function onMouseDown(e){var cm=this,display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch()){return}display.input.ensurePolled();display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){return display.scroller.draggable=true},100)}return}if(clickInGutter(cm,e)){return}var start=posFromMouse(cm,e);window.focus();switch(e_button(e)){case 1:if(cm.state.selectingText){cm.state.selectingText(e)}else if(start){leftButtonDown(cm,e,start)}else if(e_target(e)==display.scroller){e_preventDefault(e)}break;case 2:if(webkit){cm.state.lastMiddleDown=+new Date}if(start){extendSelection(cm.doc,start)}setTimeout(function(){return display.input.focus()},20);e_preventDefault(e);break;case 3:if(captureRightClick){onContextMenu(cm,e)}else{delayBlurEvent(cm)}break}}var lastClick;var lastDoubleClick;function leftButtonDown(cm,e,start){if(ie){setTimeout(bind(ensureFocus,cm),0)}else{cm.curOp.focus=activeElt()}var now=+new Date,type;if(lastDoubleClick&&lastDoubleClick.time>now-400&&cmp(lastDoubleClick.pos,start)==0){type="triple"}else if(lastClick&&lastClick.time>now-400&&cmp(lastClick.pos,start)==0){type="double";lastDoubleClick={time:now,pos:start}}else{type="single";lastClick={time:now,pos:start}}var sel=cm.doc.sel,modifier=mac?e.metaKey:e.ctrlKey,contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&type=="single"&&(contained=sel.contains(start))>-1&&(cmp((contained=sel.ranges[contained]).from(),start)<0||start.xRel>0)&&(cmp(contained.to(),start)>0||start.xRel<0)){leftButtonStartDrag(cm,e,start,modifier)}else{leftButtonSelect(cm,e,start,type,modifier)}}function leftButtonStartDrag(cm,e,start,modifier){var display=cm.display,startTime=+new Date
;var dragEnd=operation(cm,function(e2){if(webkit){display.scroller.draggable=false}cm.state.draggingText=false;off(document,"mouseup",dragEnd);off(display.scroller,"drop",dragEnd);if(Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)<10){e_preventDefault(e2);if(!modifier&&+new Date-200<startTime){extendSelection(cm.doc,start)}if(webkit||ie&&ie_version==9){setTimeout(function(){document.body.focus();display.input.focus()},20)}else{display.input.focus()}}});if(webkit){display.scroller.draggable=true}cm.state.draggingText=dragEnd;dragEnd.copy=mac?e.altKey:e.ctrlKey;if(display.scroller.dragDrop){display.scroller.dragDrop()}on(document,"mouseup",dragEnd);on(display.scroller,"drop",dragEnd)}function leftButtonSelect(cm,e,start,type,addNew){var display=cm.display,doc=cm.doc;e_preventDefault(e);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(addNew&&!e.shiftKey){ourIndex=doc.sel.contains(start);if(ourIndex>-1){ourRange=ranges[ourIndex]}else{ourRange=new Range(start,start)}}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex}if(chromeOS?e.shiftKey&&e.metaKey:e.altKey){type="rect";if(!addNew){ourRange=new Range(start,start)}start=posFromMouse(cm,e,true,true);ourIndex=-1}else if(type=="double"){var word=cm.findWordAt(start);if(cm.display.shift||doc.extend){ourRange=extendRange(doc,ourRange,word.anchor,word.head)}else{ourRange=word}}else if(type=="triple"){var line=new Range(Pos(start.line,0),clipPos(doc,Pos(start.line+1,0)));if(cm.display.shift||doc.extend){ourRange=extendRange(doc,ourRange,line.anchor,line.head)}else{ourRange=line}}else{ourRange=extendRange(doc,ourRange,start)}if(!addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel}else if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"})}else if(ranges.length>1&&ranges[ourIndex].empty()&&type=="single"&&!e.shiftKey){setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:false,origin:"*mouse"});startSel=doc.sel}else{replaceOneSelection(doc,ourIndex,ourRange,sel_mouse)}var lastPos=start;function extendTo(pos){if(cmp(lastPos,pos)==0){return}lastPos=pos;if(type=="rect"){var ranges=[],tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);for(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right){ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)))}else if(text.length>leftPos){ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}}if(!ranges.length){ranges.push(new Range(start,start))}setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:false});cm.scrollIntoView(pos)}else{var oldRange=ourRange;var anchor=oldRange.anchor,head=pos;if(type!="single"){var range;if(type=="double"){range=cm.findWordAt(pos)}else{range=new Range(Pos(pos.line,0),clipPos(doc,Pos(pos.line+1,0)))}if(cmp(range.anchor,anchor)>0){head=range.head;anchor=minPos(oldRange.from(),range.anchor)}else{head=range.anchor;anchor=maxPos(oldRange.to(),range.head)}}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=new Range(clipPos(doc,anchor),head);setSelection(doc,normalizeSelection(ranges$1,ourIndex),sel_mouse)}}var editorSize=display.wrapper.getBoundingClientRect();var counter=0;function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,type=="rect");if(!cur){return}if(cmp(cur,lastPos)!=0){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from){setTimeout(operation(cm,function(){if(counter==curCount){extend(e)}}),150)}}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside){setTimeout(operation(cm,function(){if(counter!=curCount){return}display.scroller.scrollTop+=outside;extend(e)}),50)}}}function done(e){cm.state.selectingText=false;counter=Infinity;e_preventDefault(e);display.input.focus();off(document,"mousemove",move);off(document,"mouseup",up);doc.history.lastSelOrigin=null}var move=operation(cm,function(e){if(!e_button(e)){done(e)}else{extend(e)}});var up=operation(cm,done);cm.state.selectingText=up;on(document,"mousemove",move);on(document,"mouseup",up)}function gutterEvent(cm,e,type,prevent){var mX,mY;try{mX=e.clientX;mY=e.clientY}catch(e){return false}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right)){return false}if(prevent){e_preventDefault(e)}var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type)){return e_defaultPrevented(e)}mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY);var gutter=cm.options.gutters[i];signal(cm,type,cm,line,gutter,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",true)}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)){return}if(signalDOMEvent(cm,e,"contextmenu")){return}cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu")){return false}return gutterEvent(cm,e,"gutterContextMenu",false)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm)}var Init={toString:function(){return"CodeMirror.Init"}};var defaults={};var optionHandlers={};function defineOptions(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle){optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init){handle(cm,val,old)}}:handle}}CodeMirror.defineOption=option;CodeMirror.Init=Init;option("value","",function(cm,val){return cm.setValue(val)},true);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},true);option("indentUnit",2,loadMode,true);option("indentWithTabs",false);option("smartIndent",true);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},true);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val){return}var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0;;){var found=line.text.indexOf(val,pos);if(found==-1){break}pos=found+val.length;newBreaks.push(Pos(lineNo,found))}lineNo++});for(var i=newBreaks.length-1;i>=0;i--){replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}});option("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=Init){cm.refresh()}});option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},true);option("electricChars",true);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},true);option("spellcheck",false,function(cm,val){return cm.getInputField().spellcheck=val},true);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",true);option("theme","default",function(cm){themeChanged(cm);guttersChanged(cm)},true);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val);var prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach){prev.detach(cm,next)}if(next.attach){next.attach(cm,prev||null)}});option("extraKeys",null);option("lineWrapping",false,wrappingChanged,true);option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},true);option("fixedGutter",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},true);option("coverGutterNextToScrollbar",false,function(cm){return updateScrollbars(cm)},true);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},true);option("lineNumbers",false,function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},true);option("firstLineNumber",1,guttersChanged,true);option("lineNumberFormatter",function(integer){return integer},guttersChanged,true);option("showCursorWhenSelecting",false,updateSelection,true);option("resetSelectionOnContextMenu",true);option("lineWiseCopyCut",true);option("readOnly",false,function(cm,val){if(val=="nocursor"){onBlur(cm);cm.display.input.blur();cm.display.disabled=true}else{cm.display.disabled=false}cm.display.input.readOnlyChanged(val)});option("disableInput",false,function(cm,val){if(!val){cm.display.input.reset()}},true);option("dragDrop",true,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,true);option("singleCursorHeightPerLine",true,updateSelection,true);option("workTime",100);option("workDelay",100);option("flattenSpans",true,resetModeState,true);option("addModeClass",false,resetModeState,true);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh()},true);option("maxHighlightLength",1e4,resetModeState,true);option("moveInputWithCursor",true,function(cm,val){if(!val){cm.display.input.resetPosition()}});option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||""});option("autofocus",null)}function guttersChanged(cm){updateGutters(cm);regChange(cm);setTimeout(function(){return alignHorizontally(cm)},20)}function dragDropChanged(cm,value,old){var wasOn=old&&old!=Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions;var toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop)}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror(place,options){var this$1=this;if(!(this instanceof CodeMirror)){return new CodeMirror(place,options)}this.options=options=options?copyObj(options):{};copyObj(defaults,options,false);setGuttersForLineNumbers(options);var doc=options.value;if(typeof doc=="string"){doc=new Doc(doc,options.mode,null,options.lineSeparator)}this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this;updateGutters(this);themeChanged(this);if(options.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}if(options.autofocus&&!mobile){display.input.focus()}initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,selectingText:false,draggingText:false,highlight:new Delayed,keySeq:null,specialChars:null};if(ie&&ie_version<11){setTimeout(function(){return this$1.display.input.reset(true)},20)}registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);if(options.autofocus&&!mobile||this.hasFocus()){setTimeout(bind(onFocus,this),20)}else{onBlur(this)}for(var opt in optionHandlers){if(optionHandlers.hasOwnProperty(opt)){optionHandlers[opt](this$1,options[opt],Init)}}maybeUpdateLineNumberWidth(this);if(options.finishInit){options.finishInit(this)}for(var i=0;i<initHooks.length;++i){initHooks[i](this$1)}endOperation(this);if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering=="optimizelegibility"){display.lineDiv.style.textRendering="auto"}}CodeMirror.defaults=defaults;CodeMirror.optionHandlers=optionHandlers;function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie&&ie_version<11){on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e)){return}var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e)){return}e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}))}else{on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,e)||e_preventDefault(e)})}if(!captureRightClick){on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)})}var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null},1e3);prevTouch=d.activeTouch;prevTouch.end=+new Date}}function isMouseLikeTouchEvent(e){if(e.touches.length!=1){return false}var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}function farAway(touch,other){if(other.left==null){return true}var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20}on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)){d.input.ensurePolled();clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};if(e.touches.length==1){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY}}});on(d.scroller,"touchmove",function(){if(d.activeTouch){d.activeTouch.moved=true}});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date-touch.start<300){var pos=cm.coordsChar(d.activeTouch,"page"),range;if(!touch.prev||farAway(touch,touch.prev)){range=new Range(pos,pos)}else if(!touch.prev.prev||farAway(touch,touch.prev.prev)){range=cm.findWordAt(pos)}else{range=new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)))}cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e)}finishTouch()});on(d.scroller,"touchcancel",finishTouch);on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){setScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,"scroll",cm)}});on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,e)});on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(e){if(!signalDOMEvent(cm,e)){e_stop(e)}},over:function(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e)}},start:function(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(e){if(!signalDOMEvent(cm,e)){clearDragCursor(cm)}}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e)});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",operation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e)});on(inp,"blur",function(e){return onBlur(cm,e)})}var initHooks=[];CodeMirror.defineInitHook=function(f){return initHooks.push(f)};function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(how==null){how="add"}if(how=="smart"){if(!doc.mode.indent){how="prev"}else{state=getStateBefore(cm,n)}}var tabSize=cm.options.tabSize;var line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter){line.stateAfter=null}var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not"}else if(how=="smart"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive){return}how="prev"}}if(how=="prev"){if(n>doc.first){indentation=countColumn(getLine(doc,n-1).text,null,tabSize)}else{indentation=0}}else if(how=="add"){indentation=curSpace+cm.options.indentUnit}else if(how=="subtract"){indentation=curSpace-cm.options.indentUnit}else if(typeof how=="number"){indentation=curSpace+how}indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs){for(var i=Math.floor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="\t"}}if(pos<indentation){indentString+=spaceStr(indentation-pos)}if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return true}else{for(var i$1=0;i$1<doc.sel.ranges.length;i$1++){var range=doc.sel.ranges[i$1];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}}var lastCopied=null;function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=false;if(!sel){sel=doc.sel}var paste=cm.state.pasteIncoming||origin=="paste";var textLines=splitLinesAuto(inserted),multiPaste=null;if(paste&&sel.ranges.length>1){if(lastCopied&&lastCopied.text.join("\n")==inserted){if(sel.ranges.length%lastCopied.text.length==0){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++){multiPaste.push(doc.splitLines(lastCopied.text[i]))}}}else if(textLines.length==sel.ranges.length){multiPaste=map(textLines,function(l){return[l]})}}var updateInput;for(var i$1=sel.ranges.length-1;i$1>=0;i$1--){var range=sel.ranges[i$1];var from=range.from(),to=range.to();if(range.empty()){if(deleted&&deleted>0){from=Pos(from.line,from.ch-deleted)}else if(cm.state.overwrite&&!paste){to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length))}else if(lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==inserted){from=to=Pos(from.line,0)}}updateInput=cm.curOp.updateInput;var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent)}if(inserted&&!paste){triggerElectric(cm,inserted)}ensureCursorVisible(cm);cm.curOp.updateInput=updateInput;cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=false}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput){runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste")})}return true}}function triggerElectric(cm,inserted){if(!cm.options.electricChars||!cm.options.smartIndent){return}var sel=cm.doc.sel;for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i];if(range.head.ch>100||i&&sel.ranges[i-1].head.line==range.head.line){continue}var mode=cm.getModeAt(range.head);var indented=false;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++){if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range.head.line,"smart");break}}}else if(mode.electricInput){if(mode.electricInput.test(getLine(cm.doc,range.head.line).text.slice(0,range.head.ch))){indented=indentLine(cm,range.head.line,"smart")}}if(indented){signalLater(cm,"electricInput",cm,range.head.line)}}}function copyableRanges(cm){var text=[],ranges=[];for(var i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck){field.setAttribute("autocorrect","off");field.setAttribute("autocapitalize","off");field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none");var div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(webkit){te.style.width="1000px"}else{te.setAttribute("wrap","off")}if(ios){te.style.border="1px solid black"}disableBrowserMagic(te);return div}function addEditorMethods(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;var helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options=this.options,old=options[option];if(options[option]==value&&option!="mode"){return}options[option]=value;if(optionHandlers.hasOwnProperty(option)){operation(this,optionHandlers[option])(this,value,old)}},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map))},removeKeyMap:function(map){var maps=this.state.keyMaps;for(var i=0;i<maps.length;++i){if(maps[i]==map||maps[i].name==map){maps.splice(i,1);return true}}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState){throw new Error("Overlays may not be stateful.")}insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){var this$1=this;var overlays=this.state.overlays;for(var i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec=="string"&&cur.name==spec){overlays.splice(i,1);this$1.state.modeGen++;regChange(this$1);return}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!="string"&&typeof dir!="number"){if(dir==null){dir=this.options.smartIndent?"smart":"prev"}else{dir=dir?"add":"subtract"}}if(isLine(this.doc,n)){indentLine(this,n,dir,aggressive)}}),indentSelection:methodOp(function(how){var this$1=this;var ranges=this.doc.sel.ranges,end=-1;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(!range.empty()){var from=range.from(),to=range.to();var start=Math.max(end,from.line);end=Math.min(this$1.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j){indentLine(this$1,j,how)}var newRanges=this$1.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0){replaceOneSelection(this$1.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}}else if(range.head.line>end){indentLine(this$1,range.head.line,how,true);end=range.head.line;if(i==this$1.doc.sel.primIndex){ensureCursorVisible(this$1)}}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,precise){return takeToken(this,Pos(line),precise,true)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0,after=(styles.length-1)/2,ch=pos.ch;var type;if(ch==0){type=styles[2]}else{for(;;){var mid=before+after>>1;if((mid?styles[mid*2-1]:0)>=ch){after=mid}else if(styles[mid*2+1]<ch){before=mid+1}else{type=styles[mid*2+2];break}}}var cut=type?type.indexOf("overlay "):-1;return cut<0?type:cut==0?null:type.slice(0,cut-1)},getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode){return mode}return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var this$1=this;var found=[];if(!helpers.hasOwnProperty(type)){return found}var help=helpers[type],mode=this.getModeAt(pos);if(typeof mode[type]=="string"){if(help[mode[type]]){found.push(help[mode[type]])}}else if(mode[type]){for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];if(val){found.push(val)}}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType])}else if(help[mode.name]){found.push(help[mode.name])}for(var i$1=0;i$1<help._global.length;i$1++){var cur=help._global[i$1];if(cur.pred(mode,this$1)&&indexOf(found,cur.val)==-1){found.push(cur.val)}}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getStateBefore(this,line+1,precise)},cursorCoords:function(start,mode){var pos,range=this.doc.sel.primary();if(start==null){pos=range.head}else if(typeof start=="object"){pos=clipPos(this.doc,start)}else{pos=start?range.from():range.to()}return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var end=false,lineObj;if(typeof line=="number"){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first){line=this.doc.first}else if(line>last){line=last;end=true}lineObj=getLine(this.doc,line)}else{lineObj=line}return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets).top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);if(vert=="over"){top=pos.top}else if(vert=="above"||vert=="near"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=="above"||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight){top=pos.top-node.offsetHeight}else if(pos.bottom+node.offsetHeight<=vspace){top=pos.bottom}if(left+node.offsetWidth>hspace){left=hspace-node.offsetWidth}}node.style.top=top+"px";node.style.left=node.style.right="";if(horiz=="right"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if(horiz=="left"){left=0}else if(horiz=="middle"){left=(display.sizer.clientWidth-node.offsetWidth)/2}node.style.left=left+"px"}if(scroll){scrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight)}},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function(cmd){if(commands.hasOwnProperty(cmd)){return commands[cmd].call(null,this)}},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var this$1=this;var dir=1;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);for(var i=0;i<amount;++i){cur=findPosH(this$1.doc,cur,dir,unit,visually);if(cur.hitSide){break}}return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range){if(this$1.display.shift||this$1.doc.extend||range.empty()){return findPosH(this$1.doc,range.head,dir,unit,this$1.options.rtlMoveVisually)}else{return dir<0?range.from():range.to()}},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected()){doc.replaceSelection("",null,"+delete")}else{deleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,false);return dir<0?{from:other,to:range.head}:{from:range.head,to:other}})}}),findPosV:function(from,amount,unit,goalColumn){var this$1=this;var dir=1,x=goalColumn;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);for(var i=0;i<amount;++i){var coords=cursorCoords(this$1,cur,"div");if(x==null){x=coords.left}else{coords.left=x}cur=findPosV(this$1,coords,dir,unit);if(cur.hitSide){break}}return cur},moveV:methodOp(function(dir,unit){var this$1=this;var doc=this.doc,goals=[];var collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse){return dir<0?range.from():range.to()}var headPos=cursorCoords(this$1,range.head,"div");if(range.goalColumn!=null){headPos.left=range.goalColumn}goals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);if(unit=="page"&&range==doc.sel.primary()){addToScrollPos(this$1,null,charCoords(this$1,pos,"div").top-headPos.top)}return pos},sel_move);if(goals.length){for(var i=0;i<doc.sel.ranges.length;i++){doc.sel.ranges[i].goalColumn=goals[i]}}}),findWordAt:function(pos){var doc=this.doc,line=getLine(doc,pos.line).text;var start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if((pos.xRel<0||end==line.length)&&start){--start}else{++end}var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return/\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};while(start>0&&check(line.charAt(start-1))){--start}while(end<line.length&&check(line.charAt(end))){++end}}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(value!=null&&value==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){addClass(this.display.cursorDiv,"CodeMirror-overwrite")}else{rmClass(this.display.cursorDiv,"CodeMirror-overwrite")}signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){if(x!=null||y!=null){resolveScrollToPos(this)}if(x!=null){this.curOp.scrollLeft=x}if(y!=null){this.curOp.scrollTop=y}}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range,margin){if(range==null){range={from:this.doc.sel.primary().head,to:null};if(margin==null){margin=this.options.cursorScrollMargin}}else if(typeof range=="number"){range={from:Pos(range,0),to:null}}else if(range.from==null){range={from:range,to:null}}if(!range.to){range.to=range.from}range.margin=margin||0;if(range.from.line!=null){resolveScrollToPos(this);this.curOp.scrollToPos=range}else{var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);this.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}),setSize:methodOp(function(width,height){var this$1=this;var interpret=function(val){return typeof val=="number"||/^\d+$/.test(String(val))?val+"px":val};if(width!=null){this.display.wrapper.style.width=interpret(width)}if(height!=null){this.display.wrapper.style.height=interpret(height)}if(this.options.lineWrapping){clearLineMeasurementCache(this)}var lineNo=this.display.viewFrom;this.doc.iter(lineNo,this.display.viewTo,function(line){if(line.widgets){for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo,"widget");break}}}++lineNo});this.curOp.forceUpdate=true;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=true
;clearCaches(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5){estimateLineHeights(this)}signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;attachDoc(this,doc);clearCaches(this);this.display.input.reset();this.scrollTo(doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,"swapDoc",this,old);return old}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type)){helpers[type]=CodeMirror[type]={_global:[]}}helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}}function findPosH(doc,pos,dir,unit,visually){var line=pos.line,ch=pos.ch,origDir=dir;var lineObj=getLine(doc,line);function findNextLine(){var l=line+dir;if(l<doc.first||l>=doc.first+doc.size){return false}line=l;return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,true);if(next==null){if(!boundToLine&&findNextLine()){if(visually){ch=(dir<0?lineRight:lineLeft)(lineObj)}else{ch=dir<0?lineObj.text.length:0}}else{return false}}else{ch=next}return true}if(unit=="char"){moveOnce()}else if(unit=="column"){moveOnce(true)}else if(unit=="word"||unit=="group"){var sawType=null,group=unit=="group";var helper=doc.cm&&doc.cm.getHelper(pos,"wordChars");for(var first=true;;first=false){if(dir<0&&!moveOnce(!first)){break}var cur=lineObj.text.charAt(ch)||"\n";var type=isWordChar(cur,helper)?"w":group&&cur=="\n"?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type){type="s"}if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce()}break}if(type){sawType=type}if(dir>0&&!moveOnce(!first)){break}}}var result=skipAtomic(doc,Pos(line,ch),pos,origDir,true);if(!cmp(pos,result)){result.hitSide=true}return result}function findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if(unit=="page"){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var moveAmount=Math.max(pageSize-.5*textHeight(cm.display),3);y=(dir>0?pos.bottom:pos.top)+dir*moveAmount}else if(unit=="line"){y=dir>0?pos.bottom+3:pos.top-3}var target;for(;;){target=coordsChar(cm,x,y);if(!target.outside){break}if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break}y+=dir*5}return target}function ContentEditableInput(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed;this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null}ContentEditableInput.prototype=copyObj({init:function(display){var this$1=this;var input=this,cm=input.cm;var div=input.div=display.lineDiv;disableBrowserMagic(div,cm.options.spellcheck);on(div,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}if(ie_version<=11){setTimeout(operation(cm,function(){if(!input.pollContent()){regChange(cm)}}),20)}});on(div,"compositionstart",function(e){this$1.composing={data:e.data}});on(div,"compositionupdate",function(e){if(!this$1.composing){this$1.composing={data:e.data}}});on(div,"compositionend",function(e){if(this$1.composing){if(e.data!=this$1.composing.data){this$1.readFromDOMSoon()}this$1.composing=null}});on(div,"touchstart",function(){return input.forceCompositionEnd()});on(div,"input",function(){if(!this$1.composing){this$1.readFromDOMSoon()}});function onCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:false,text:cm.getSelections()});if(e.type=="cut"){cm.replaceSelection("",null,"cut")}}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut"){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut")})}}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();return}}var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div){input.showPrimarySelection()}},50)}on(div,"copy",onCopyCut);on(div,"cut",onCopyCut)},prepareSelection:function(){var result=prepareSelection(this.cm,false);result.focus=this.cm.state.focused;return result},showSelection:function(info,takeFocus){if(!info||!this.cm.display.view.length){return}if(info.focus||takeFocus){this.showPrimarySelection()}this.showMultipleSelections(info)},showPrimarySelection:function(){var sel=window.getSelection(),prim=this.cm.doc.sel.primary();var curAnchor=domToPos(this.cm,sel.anchorNode,sel.anchorOffset);var curFocus=domToPos(this.cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),prim.from())==0&&cmp(maxPos(curAnchor,curFocus),prim.to())==0){return}var start=posToDOM(this.cm,prim.from());var end=posToDOM(this.cm,prim.to());if(!start&&!end){return}var view=this.cm.display.view;var old=sel.rangeCount&&sel.getRangeAt(0);if(!start){start={node:view[0].measure.map[2],offset:0}}else if(!end){var measure=view[view.length-1].measure;var map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]}}var rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}if(rng){if(!gecko&&this.cm.state.focused){sel.collapse(start.node,start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng)}}else{sel.removeAllRanges();sel.addRange(rng)}if(old&&sel.anchorNode==null){sel.addRange(old)}else if(gecko){this.startGracePeriod()}}this.rememberSelection()},startGracePeriod:function(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=false;if(this$1.selectionChanged()){this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=true})}},20)},showMultipleSelections:function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)},rememberSelection:function(){var sel=window.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset},selectionInEditor:function(){var sel=window.getSelection();if(!sel.rangeCount){return false}var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)},focus:function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),true)}this.div.focus()}},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return true},receivedFocus:function(){var input=this;if(this.selectionInEditor()){this.pollSelection()}else{runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=true})}function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll)}}this.polling.set(this.cm.options.pollInterval,poll)},selectionChanged:function(){var sel=window.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var sel=window.getSelection(),cm=this.cm;this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head){runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad){cm.curOp.selectionChanged=true}})}}},pollContent:function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary();var from=sel.from(),to=sel.to();if(from.ch==0&&from.line>cm.firstLine()){from=Pos(from.line-1,getLine(cm.doc,from.line-1).length)}if(to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine()){to=Pos(to.line+1,0)}if(from.line<display.viewFrom||to.line>display.viewTo-1){return false}var fromIndex,fromLine,fromNode;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){fromLine=lineNo(display.view[0].line);fromNode=display.view[0].node}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling}var toIndex=findViewIndex(cm,to.line);var toLine,toNode;if(toIndex==display.view.length-1){toLine=display.viewTo-1;toNode=display.lineDiv.lastChild}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling}if(!fromNode){return false}var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(newText.length>1&&oldText.length>1){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++}else{break}}var cutFront=0,cutEnd=0;var newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront)){++cutFront}var newBot=lst(newText),oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){++cutEnd}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd).replace(/^\u200b+/,"");newText[0]=newText[0].slice(cutFront).replace(/\u200b+$/,"");var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,"+input");return true}},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){if(!this.composing){return}this.composing=null;if(!this.pollContent()){regChange(this.cm)}this.div.blur();this.div.focus()},readFromDOMSoon:function(){var this$1=this;if(this.readDOMTimeout!=null){return}this.readDOMTimeout=setTimeout(function(){this$1.readDOMTimeout=null;if(this$1.composing){return}if(this$1.cm.isReadOnly()||!this$1.pollContent()){runInOp(this$1.cm,function(){return regChange(this$1.cm)})}},80)},setUneditable:function(node){node.contentEditable="false"},onKeyPress:function(e){e.preventDefault();if(!this.cm.isReadOnly()){operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0)}},readOnlyChanged:function(val){this.div.contentEditable=String(val!="nocursor")},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:true},ContentEditableInput.prototype);function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden){return null}var line=getLine(cm.doc,pos.line);var info=mapFromLineView(view,line,pos.line);var order=getOrder(line),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset=result.collapse=="right"?result.end:result.start;return result}function badPos(pos,bad){if(bad){pos.bad=true}return pos}function domTextBetween(cm,from,to,fromLine,toLine){var text="",closing=false,lineSep=cm.doc.lineSeparator();function recognizeMarker(id){return function(marker){return marker.id==id}}function walk(node){if(node.nodeType==1){var cmText=node.getAttribute("cm-text");if(cmText!=null){if(cmText==""){text+=node.textContent.replace(/\u200b/g,"")}else{text+=cmText}return}var markerID=node.getAttribute("cm-marker"),range;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range=found[0].find())){text+=getBetween(cm.doc,range.from,range.to).join(lineSep)}return}if(node.getAttribute("contenteditable")=="false"){return}for(var i=0;i<node.childNodes.length;i++){walk(node.childNodes[i])}if(/^(pre|div|p)$/i.test(node.nodeName)){closing=true}}else if(node.nodeType==3){var val=node.nodeValue;if(!val){return}if(closing){text+=lineSep;closing=false}text+=val}}for(;;){walk(from);if(from==to){break}from=from.nextSibling}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode){return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true)}node=null;offset=0}else{for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv){return null}if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv){break}}}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode){return locateNodeInLineView(lineView,node,offset)}}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=false;if(!node||!contains(wrapper,node)){return badPos(Pos(lineNo(lineView.line),0),true)}if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}}var textNode=node.nodeType==3?node:null,topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset){offset=textNode.nodeValue.length}}while(topNode.parentNode!=wrapper){topNode=topNode.parentNode}var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++){var map=i<0?measure.map:maps[i];for(var j=0;j<map.length;j+=3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map[j]+offset;if(offset<0||curNode!=textNode){ch=map[j+(offset?1:0)]}return Pos(line,ch)}}}}var found=find(textNode,topNode,offset);if(found){return badPos(found,bad)}for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found){return badPos(Pos(found.line,found.ch-dist),bad)}else{dist+=after.textContent.length}}for(var before=topNode.previousSibling,dist$1=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found){return badPos(Pos(found.line,found.ch+dist$1),bad)}else{dist$1+=before.textContent.length}}}function TextareaInput(cm){this.cm=cm;this.prevInput="";this.pollingFast=false;this.polling=new Delayed;this.inaccurateSelection=false;this.hasSelection=false;this.composing=null}TextareaInput.prototype=copyObj({init:function(display){var this$1=this;var input=this,cm=this.cm;var div=this.wrapper=hiddenTextarea();var te=this.textarea=div.firstChild;display.wrapper.insertBefore(div,display.wrapper.firstChild);if(ios){te.style.width="0px"}on(te,"input",function(){if(ie&&ie_version>=9&&this$1.hasSelection){this$1.hasSelection=null}input.poll()});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm)){return}cm.state.pasteIncoming=true;input.fastPoll()});function prepareCopyCut(e){if(signalDOMEvent(cm,e)){return}if(cm.somethingSelected()){setLastCopied({lineWise:false,text:cm.getSelections()});if(input.inaccurateSelection){input.prevInput="";input.inaccurateSelection=false;te.value=lastCopied.text.join("\n");selectInput(te)}}else if(!cm.options.lineWiseCopyCut){return}else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut"){cm.setSelections(ranges.ranges,null,sel_dontScroll)}else{input.prevInput="";te.value=ranges.text.join("\n");selectInput(te)}}if(e.type=="cut"){cm.state.cutIncoming=true}}on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e)){return}cm.state.pasteIncoming=true;input.focus()});on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e)){e_preventDefault(e)}});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing){input.composing.range.clear()}input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();input.composing=null}})},prepareSelection:function(){var cm=this.cm,display=cm.display,doc=cm.doc;var result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div");var wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result},showSelection:function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px"}},reset:function(typing){if(this.contextMenuPending){return}var minimal,selected,cm=this.cm,doc=cm.doc;if(cm.somethingSelected()){this.prevInput="";var range=doc.sel.primary();minimal=hasCopyEvent&&(range.to().line-range.from().line>100||(selected=cm.getSelection()).length>1e3);var content=minimal?"-":selected||cm.getSelection();this.textarea.value=content;if(cm.state.focused){selectInput(this.textarea)}if(ie&&ie_version>=9){this.hasSelection=content}}else if(!typing){this.prevInput=this.textarea.value="";if(ie&&ie_version>=9){this.hasSelection=null}}this.inaccurateSelection=minimal},getField:function(){return this.textarea},supportsTouch:function(){return false},focus:function(){if(this.cm.options.readOnly!="nocursor"&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus()}catch(e){}}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var this$1=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused){this$1.slowPoll()}})},fastPoll:function(){var missed=false,input=this;input.pollingFast=true;function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p)}else{input.pollingFast=false;input.slowPoll()}}input.polling.set(20,p)},poll:function(){var this$1=this;var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq){return false}var text=input.value;if(text==prevInput&&!cm.somethingSelected()){return false}if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();return false}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(first==8203&&!prevInput){prevInput="​"}if(first==8666){this.reset();return this.cm.execCommand("undo")}}var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same)){++same}runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);if(text.length>1e3||text.indexOf("\n")>-1){input.value=this$1.prevInput=""}else{this$1.prevInput=text}if(this$1.composing){this$1.composing.range.clear();this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});return true},ensurePolled:function(){if(this.pollingFast&&this.poll()){this.pollingFast=false}},onKeyPress:function(){if(ie&&ie_version>=9){this.hasSelection=null}this.fastPoll()},onContextMenu:function(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto){return}var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1){operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll)}var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText;input.wrapper.style.cssText="position: absolute";var wrapperBox=input.wrapper.getBoundingClientRect();te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit){oldScrollY=window.scrollY}display.input.focus();if(webkit){window.scrollTo(null,oldScrollY)}display.input.reset();if(!cm.somethingSelected()){te.value=input.prevInput=" "}input.contextMenuPending=true;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);function prepareSelectAllHack(){if(te.selectionStart!=null){var selected=cm.somethingSelected();var extval="​"+(selected?te.value:"");te.value="⇚";te.value=extval;input.prevInput=selected?"":"​";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel}}function rehide(){input.contextMenuPending=false;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&ie_version<9){display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos)}if(te.selectionStart!=null){if(!ie||ie&&ie_version<9){prepareSelectAllHack()}var i=0,poll=function(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&input.prevInput=="​"){operation(cm,selectAll)(cm)}else if(i++<10){display.detectingSelectAll=setTimeout(poll,500)}else{display.input.reset()}};display.detectingSelectAll=setTimeout(poll,200)}}if(ie&&ie_version>=9){prepareSelectAllHack()}if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else{setTimeout(rehide,50)}},readOnlyChanged:function(val){if(!val){this.reset()}},setUneditable:nothing,needsContentAttribute:false},TextareaInput.prototype);function fromTextArea(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex){options.tabindex=textarea.tabIndex}if(!options.placeholder&&textarea.placeholder){options.placeholder=textarea.placeholder}if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&&hasFocus==document.body}function save(){textarea.value=cm.getValue()}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if(typeof textarea.form.submit=="function"){textarea.form.submit=realSubmit}}}};textarea.style.display="none";var cm=CodeMirror(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm}function addLegacyProps(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;CodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=keyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=keyNames}defineOptions(CodeMirror);addEditorMethods(CodeMirror);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype){if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0){CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop])}}eventMixin(Doc);CodeMirror.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput};CodeMirror.defineMode=function(name){if(!CodeMirror.defaults.mode&&name!="null"){CodeMirror.defaults.mode=name}defineMode.apply(this,arguments)};CodeMirror.defineMIME=defineMIME;CodeMirror.defineMode("null",function(){return{token:function(stream){return stream.skipToEnd()}}});CodeMirror.defineMIME("text/plain","null");CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror.fromTextArea=fromTextArea;addLegacyProps(CodeMirror);CodeMirror.version="5.21.0";return CodeMirror});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/edit/closebrackets",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var defaults={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"};var Pos=CodeMirror.Pos;CodeMirror.defineOption("autoCloseBrackets",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.removeKeyMap(keyMap);cm.state.closeBrackets=null}if(val){cm.state.closeBrackets=val;cm.addKeyMap(keyMap)}});function getOption(conf,name){if(name=="pairs"&&typeof conf=="string")return conf;if(typeof conf=="object"&&conf[name]!=null)return conf[name];return defaults[name]}var bind=defaults.pairs+"`";var keyMap={Backspace:handleBackspace,Enter:handleEnter};for(var i=0;i<bind.length;i++)keyMap["'"+bind.charAt(i)+"'"]=handler(bind.charAt(i));function handler(ch){return function(cm){return handleChar(cm,ch)}}function getConfig(cm){var deflt=cm.state.closeBrackets;if(!deflt)return null;var mode=cm.getModeAt(cm.getCursor());return mode.closeBrackets||deflt}function handleBackspace(cm){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;var pairs=getOption(conf,"pairs");var ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var around=charsAround(cm,ranges[i].head);if(!around||pairs.indexOf(around)%2!=0)return CodeMirror.Pass}for(var i=ranges.length-1;i>=0;i--){var cur=ranges[i].head;cm.replaceRange("",Pos(cur.line,cur.ch-1),Pos(cur.line,cur.ch+1),"+delete")}}function handleEnter(cm){var conf=getConfig(cm);var explode=conf&&getOption(conf,"explode");if(!explode||cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var around=charsAround(cm,ranges[i].head);if(!around||explode.indexOf(around)%2!=0)return CodeMirror.Pass}cm.operation(function(){cm.replaceSelection("\n\n",null);cm.execCommand("goCharLeft");ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){var line=ranges[i].head.line;cm.indentLine(line,null,true);cm.indentLine(line+1,null,true)}})}function contractSelection(sel){var inverted=CodeMirror.cmpPos(sel.anchor,sel.head)>0;return{anchor:new Pos(sel.anchor.line,sel.anchor.ch+(inverted?-1:1)),head:new Pos(sel.head.line,sel.head.ch+(inverted?1:-1))}}function handleChar(cm,ch){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;var pairs=getOption(conf,"pairs");var pos=pairs.indexOf(ch);if(pos==-1)return CodeMirror.Pass;var triples=getOption(conf,"triples");var identical=pairs.charAt(pos+1)==ch;var ranges=cm.listSelections();var opening=pos%2==0;var type;for(var i=0;i<ranges.length;i++){var range=ranges[i],cur=range.head,curType;var next=cm.getRange(cur,Pos(cur.line,cur.ch+1));if(opening&&!range.empty()){curType="surround"}else if((identical||!opening)&&next==ch){if(identical&&stringStartsAfter(cm,cur))curType="both";else if(triples.indexOf(ch)>=0&&cm.getRange(cur,Pos(cur.line,cur.ch+3))==ch+ch+ch)curType="skipThree";else curType="skip"}else if(identical&&cur.ch>1&&triples.indexOf(ch)>=0&&cm.getRange(Pos(cur.line,cur.ch-2),cur)==ch+ch&&(cur.ch<=2||cm.getRange(Pos(cur.line,cur.ch-3),Pos(cur.line,cur.ch-2))!=ch)){curType="addFour"}else if(identical){if(!CodeMirror.isWordChar(next)&&enteringString(cm,cur,ch))curType="both";else return CodeMirror.Pass}else if(opening&&(cm.getLine(cur.line).length==cur.ch||isClosingBracket(next,pairs)||/\s/.test(next))){curType="both"}else{return CodeMirror.Pass}if(!type)type=curType;else if(type!=curType)return CodeMirror.Pass}var left=pos%2?pairs.charAt(pos-1):ch;var right=pos%2?ch:pairs.charAt(pos+1);cm.operation(function(){if(type=="skip"){cm.execCommand("goCharRight")}else if(type=="skipThree"){for(var i=0;i<3;i++)cm.execCommand("goCharRight")}else if(type=="surround"){var sels=cm.getSelections();for(var i=0;i<sels.length;i++)sels[i]=left+sels[i]+right;cm.replaceSelections(sels,"around");sels=cm.listSelections().slice();for(var i=0;i<sels.length;i++)sels[i]=contractSelection(sels[i]);cm.setSelections(sels)}else if(type=="both"){cm.replaceSelection(left+right,null);cm.triggerElectric(left+right);cm.execCommand("goCharLeft")}else if(type=="addFour"){cm.replaceSelection(left+left+left+left,"before");cm.execCommand("goCharRight")}})}function isClosingBracket(ch,pairs){var pos=pairs.lastIndexOf(ch);return pos>-1&&pos%2==1}function charsAround(cm,pos){var str=cm.getRange(Pos(pos.line,pos.ch-1),Pos(pos.line,pos.ch+1));return str.length==2?str:null}function enteringString(cm,pos,ch){var line=cm.getLine(pos.line);var token=cm.getTokenAt(pos);if(/\bstring2?\b/.test(token.type))return false;var stream=new CodeMirror.StringStream(line.slice(0,pos.ch)+ch+line.slice(pos.ch),4);stream.pos=stream.start=token.start;for(;;){var type1=cm.getMode().token(stream,token.state);if(stream.pos>=pos.ch+1)return/\bstring2?\b/.test(type1);stream.start=stream.pos}}function stringStartsAfter(cm,pos){var token=cm.getTokenAt(Pos(pos.line,pos.ch+1));return/\bstring/.test(token.type)&&token.start==pos.ch}});(function(mod){
if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/fold/xml-fold",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var Pos=CodeMirror.Pos;function cmp(a,b){return a.line-b.line||a.ch-b.ch}var nameStartChar="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";var nameChar=nameStartChar+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";var xmlTagStart=new RegExp("<(/?)(["+nameStartChar+"]["+nameChar+"]*)","g");function Iter(cm,line,ch,range){this.line=line;this.ch=ch;this.cm=cm;this.text=cm.getLine(line);this.min=range?Math.max(range.from,cm.firstLine()):cm.firstLine();this.max=range?Math.min(range.to-1,cm.lastLine()):cm.lastLine()}function tagAt(iter,ch){var type=iter.cm.getTokenTypeAt(Pos(iter.line,ch));return type&&/\btag\b/.test(type)}function nextLine(iter){if(iter.line>=iter.max)return;iter.ch=0;iter.text=iter.cm.getLine(++iter.line);return true}function prevLine(iter){if(iter.line<=iter.min)return;iter.text=iter.cm.getLine(--iter.line);iter.ch=iter.text.length;return true}function toTagEnd(iter){for(;;){var gt=iter.text.indexOf(">",iter.ch);if(gt==-1){if(nextLine(iter))continue;else return}if(!tagAt(iter,gt+1)){iter.ch=gt+1;continue}var lastSlash=iter.text.lastIndexOf("/",gt);var selfClose=lastSlash>-1&&!/\S/.test(iter.text.slice(lastSlash+1,gt));iter.ch=gt+1;return selfClose?"selfClose":"regular"}}function toTagStart(iter){for(;;){var lt=iter.ch?iter.text.lastIndexOf("<",iter.ch-1):-1;if(lt==-1){if(prevLine(iter))continue;else return}if(!tagAt(iter,lt+1)){iter.ch=lt;continue}xmlTagStart.lastIndex=lt;iter.ch=lt;var match=xmlTagStart.exec(iter.text);if(match&&match.index==lt)return match}}function toNextTag(iter){for(;;){xmlTagStart.lastIndex=iter.ch;var found=xmlTagStart.exec(iter.text);if(!found){if(nextLine(iter))continue;else return}if(!tagAt(iter,found.index+1)){iter.ch=found.index+1;continue}iter.ch=found.index+found[0].length;return found}}function toPrevTag(iter){for(;;){var gt=iter.ch?iter.text.lastIndexOf(">",iter.ch-1):-1;if(gt==-1){if(prevLine(iter))continue;else return}if(!tagAt(iter,gt+1)){iter.ch=gt;continue}var lastSlash=iter.text.lastIndexOf("/",gt);var selfClose=lastSlash>-1&&!/\S/.test(iter.text.slice(lastSlash+1,gt));iter.ch=gt+1;return selfClose?"selfClose":"regular"}}function findMatchingClose(iter,tag){var stack=[];for(;;){var next=toNextTag(iter),end,startLine=iter.line,startCh=iter.ch-(next?next[0].length:0);if(!next||!(end=toTagEnd(iter)))return;if(end=="selfClose")continue;if(next[1]){for(var i=stack.length-1;i>=0;--i)if(stack[i]==next[2]){stack.length=i;break}if(i<0&&(!tag||tag==next[2]))return{tag:next[2],from:Pos(startLine,startCh),to:Pos(iter.line,iter.ch)}}else{stack.push(next[2])}}}function findMatchingOpen(iter,tag){var stack=[];for(;;){var prev=toPrevTag(iter);if(!prev)return;if(prev=="selfClose"){toTagStart(iter);continue}var endLine=iter.line,endCh=iter.ch;var start=toTagStart(iter);if(!start)return;if(start[1]){stack.push(start[2])}else{for(var i=stack.length-1;i>=0;--i)if(stack[i]==start[2]){stack.length=i;break}if(i<0&&(!tag||tag==start[2]))return{tag:start[2],from:Pos(iter.line,iter.ch),to:Pos(endLine,endCh)}}}}CodeMirror.registerHelper("fold","xml",function(cm,start){var iter=new Iter(cm,start.line,0);for(;;){var openTag=toNextTag(iter),end;if(!openTag||iter.line!=start.line||!(end=toTagEnd(iter)))return;if(!openTag[1]&&end!="selfClose"){var startPos=Pos(iter.line,iter.ch);var endPos=findMatchingClose(iter,openTag[2]);return endPos&&{from:startPos,to:endPos.from}}}});CodeMirror.findMatchingTag=function(cm,pos,range){var iter=new Iter(cm,pos.line,pos.ch,range);if(iter.text.indexOf(">")==-1&&iter.text.indexOf("<")==-1)return;var end=toTagEnd(iter),to=end&&Pos(iter.line,iter.ch);var start=end&&toTagStart(iter);if(!end||!start||cmp(iter,pos)>0)return;var here={from:Pos(iter.line,iter.ch),to:to,tag:start[2]};if(end=="selfClose")return{open:here,close:null,at:"open"};if(start[1]){return{open:findMatchingOpen(iter,start[2]),close:here,at:"close"}}else{iter=new Iter(cm,to.line,to.ch,range);return{open:here,close:findMatchingClose(iter,start[2]),at:"open"}}};CodeMirror.findEnclosingTag=function(cm,pos,range){var iter=new Iter(cm,pos.line,pos.ch,range);for(;;){var open=findMatchingOpen(iter);if(!open)break;var forward=new Iter(cm,pos.line,pos.ch,range);var close=findMatchingClose(forward,open.tag);if(close)return{open:open,close:close}}};CodeMirror.scanForClosingTag=function(cm,pos,name,end){var iter=new Iter(cm,pos.line,pos.ch,end?{from:0,to:end}:null);return findMatchingClose(iter,name)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../fold/xml-fold"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/edit/closetag",["../../lib/codemirror","../fold/xml-fold"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("autoCloseTags",false,function(cm,val,old){if(old!=CodeMirror.Init&&old)cm.removeKeyMap("autoCloseTags");if(!val)return;var map={name:"autoCloseTags"};if(typeof val!="object"||val.whenClosing)map["'/'"]=function(cm){return autoCloseSlash(cm)};if(typeof val!="object"||val.whenOpening)map["'>'"]=function(cm){return autoCloseGT(cm)};cm.addKeyMap(map)});var htmlDontClose=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var htmlIndent=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function autoCloseGT(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections(),replacements=[];for(var i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var pos=ranges[i].head,tok=cm.getTokenAt(pos);var inner=CodeMirror.innerMode(cm.getMode(),tok.state),state=inner.state;if(inner.mode.name!="xml"||!state.tagName)return CodeMirror.Pass;var opt=cm.getOption("autoCloseTags"),html=inner.mode.configuration=="html";var dontCloseTags=typeof opt=="object"&&opt.dontCloseTags||html&&htmlDontClose;var indentTags=typeof opt=="object"&&opt.indentTags||html&&htmlIndent;var tagName=state.tagName;if(tok.end>pos.ch)tagName=tagName.slice(0,tagName.length-tok.end+pos.ch);var lowerTagName=tagName.toLowerCase();if(!tagName||tok.type=="string"&&(tok.end!=pos.ch||!/[\"\']/.test(tok.string.charAt(tok.string.length-1))||tok.string.length==1)||tok.type=="tag"&&state.type=="closeTag"||tok.string.indexOf("/")==tok.string.length-1||dontCloseTags&&indexOf(dontCloseTags,lowerTagName)>-1||closingTagExists(cm,tagName,pos,state,true))return CodeMirror.Pass;var indent=indentTags&&indexOf(indentTags,lowerTagName)>-1;replacements[i]={indent:indent,text:">"+(indent?"\n\n":"")+"</"+tagName+">",newPos:indent?CodeMirror.Pos(pos.line+1,0):CodeMirror.Pos(pos.line,pos.ch+1)}}for(var i=ranges.length-1;i>=0;i--){var info=replacements[i];cm.replaceRange(info.text,ranges[i].head,ranges[i].anchor,"+insert");var sel=cm.listSelections().slice(0);sel[i]={head:info.newPos,anchor:info.newPos};cm.setSelections(sel);if(info.indent){cm.indentLine(info.newPos.line,null,true);cm.indentLine(info.newPos.line+1,null,true)}}}function autoCloseCurrent(cm,typingSlash){var ranges=cm.listSelections(),replacements=[];var head=typingSlash?"/":"</";for(var i=0;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;var pos=ranges[i].head,tok=cm.getTokenAt(pos);var inner=CodeMirror.innerMode(cm.getMode(),tok.state),state=inner.state;if(typingSlash&&(tok.type=="string"||tok.string.charAt(0)!="<"||tok.start!=pos.ch-1))return CodeMirror.Pass;var replacement;if(inner.mode.name!="xml"){if(cm.getMode().name=="htmlmixed"&&inner.mode.name=="javascript")replacement=head+"script";else if(cm.getMode().name=="htmlmixed"&&inner.mode.name=="css")replacement=head+"style";else return CodeMirror.Pass}else{if(!state.context||!state.context.tagName||closingTagExists(cm,state.context.tagName,pos,state))return CodeMirror.Pass;replacement=head+state.context.tagName}if(cm.getLine(pos.line).charAt(tok.end)!=">")replacement+=">";replacements[i]=replacement}cm.replaceSelections(replacements);ranges=cm.listSelections();for(var i=0;i<ranges.length;i++)if(i==ranges.length-1||ranges[i].head.line<ranges[i+1].head.line)cm.indentLine(ranges[i].head.line)}function autoCloseSlash(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;return autoCloseCurrent(cm,true)}CodeMirror.commands.closeTag=function(cm){return autoCloseCurrent(cm)};function indexOf(collection,elt){if(collection.indexOf)return collection.indexOf(elt);for(var i=0,e=collection.length;i<e;++i)if(collection[i]==elt)return i;return-1}function closingTagExists(cm,tagName,pos,state,newTag){if(!CodeMirror.scanForClosingTag)return false;var end=Math.min(cm.lastLine()+1,pos.line+500);var nextClose=CodeMirror.scanForClosingTag(cm,pos,null,end);if(!nextClose||nextClose.tag!=tagName)return false;var cx=state.context;for(var onCx=newTag?1:0;cx&&cx.tagName==tagName;cx=cx.prev)++onCx;pos=nextClose.to;for(var i=1;i<onCx;i++){var next=CodeMirror.scanForClosingTag(cm,pos,null,end);if(!next||next.tag!=tagName)return false;pos=next.to}return true}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/edit/matchbrackets",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var ie_lt8=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var Pos=CodeMirror.Pos;var matching={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function findMatchingBracket(cm,where,strict,config){var line=cm.getLineHandle(where.line),pos=where.ch-1;var match=pos>=0&&matching[line.text.charAt(pos)]||matching[line.text.charAt(++pos)];if(!match)return null;var dir=match.charAt(1)==">"?1:-1;if(strict&&dir>0!=(pos==where.ch))return null;var style=cm.getTokenTypeAt(Pos(where.line,pos+1));var found=scanForBracket(cm,Pos(where.line,pos+(dir>0?1:0)),dir,style||null,config);if(found==null)return null;return{from:Pos(where.line,pos),to:found&&found.pos,match:found&&found.ch==match.charAt(0),forward:dir>0}}function scanForBracket(cm,where,dir,style,config){var maxScanLen=config&&config.maxScanLineLength||1e4;var maxScanLines=config&&config.maxScanLines||1e3;var stack=[];var re=config&&config.bracketRegex?config.bracketRegex:/[(){}[\]]/;var lineEnd=dir>0?Math.min(where.line+maxScanLines,cm.lastLine()+1):Math.max(cm.firstLine()-1,where.line-maxScanLines);for(var lineNo=where.line;lineNo!=lineEnd;lineNo+=dir){var line=cm.getLine(lineNo);if(!line)continue;var pos=dir>0?0:line.length-1,end=dir>0?line.length:-1;if(line.length>maxScanLen)continue;if(lineNo==where.line)pos=where.ch-(dir<0?1:0);for(;pos!=end;pos+=dir){var ch=line.charAt(pos);if(re.test(ch)&&(style===undefined||cm.getTokenTypeAt(Pos(lineNo,pos+1))==style)){var match=matching[ch];if(match.charAt(1)==">"==dir>0)stack.push(ch);else if(!stack.length)return{pos:Pos(lineNo,pos),ch:ch};else stack.pop()}}}return lineNo-dir==(dir>0?cm.lastLine():cm.firstLine())?false:null}function matchBrackets(cm,autoclear,config){var maxHighlightLen=cm.state.matchBrackets.maxHighlightLineLength||1e3;var marks=[],ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){var match=ranges[i].empty()&&findMatchingBracket(cm,ranges[i].head,false,config);if(match&&cm.getLine(match.from.line).length<=maxHighlightLen){var style=match.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";marks.push(cm.markText(match.from,Pos(match.from.line,match.from.ch+1),{className:style}));if(match.to&&cm.getLine(match.to.line).length<=maxHighlightLen)marks.push(cm.markText(match.to,Pos(match.to.line,match.to.ch+1),{className:style}))}}if(marks.length){if(ie_lt8&&cm.state.focused)cm.focus();var clear=function(){cm.operation(function(){for(var i=0;i<marks.length;i++)marks[i].clear()})};if(autoclear)setTimeout(clear,800);else return clear}}var currentlyHighlighted=null;function doMatchBrackets(cm){cm.operation(function(){if(currentlyHighlighted){currentlyHighlighted();currentlyHighlighted=null}currentlyHighlighted=matchBrackets(cm,false,cm.state.matchBrackets)})}CodeMirror.defineOption("matchBrackets",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("cursorActivity",doMatchBrackets);if(currentlyHighlighted){currentlyHighlighted();currentlyHighlighted=null}}if(val){cm.state.matchBrackets=typeof val=="object"?val:{};cm.on("cursorActivity",doMatchBrackets)}});CodeMirror.defineExtension("matchBrackets",function(){matchBrackets(this,true)});CodeMirror.defineExtension("findMatchingBracket",function(pos,strict,config){return findMatchingBracket(this,pos,strict,config)});CodeMirror.defineExtension("scanForBracket",function(pos,dir,style,config){return scanForBracket(this,pos,dir,style,config)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../fold/xml-fold"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/edit/matchtags",["../../lib/codemirror","../fold/xml-fold"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineOption("matchTags",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("cursorActivity",doMatchTags);cm.off("viewportChange",maybeUpdateMatch);clear(cm)}if(val){cm.state.matchBothTags=typeof val=="object"&&val.bothTags;cm.on("cursorActivity",doMatchTags);cm.on("viewportChange",maybeUpdateMatch);doMatchTags(cm)}});function clear(cm){if(cm.state.tagHit)cm.state.tagHit.clear();if(cm.state.tagOther)cm.state.tagOther.clear();cm.state.tagHit=cm.state.tagOther=null}function doMatchTags(cm){cm.state.failedTagMatch=false;cm.operation(function(){clear(cm);if(cm.somethingSelected())return;var cur=cm.getCursor(),range=cm.getViewport();range.from=Math.min(range.from,cur.line);range.to=Math.max(cur.line+1,range.to);var match=CodeMirror.findMatchingTag(cm,cur,range);if(!match)return;if(cm.state.matchBothTags){var hit=match.at=="open"?match.open:match.close;if(hit)cm.state.tagHit=cm.markText(hit.from,hit.to,{className:"CodeMirror-matchingtag"})}var other=match.at=="close"?match.open:match.close;if(other)cm.state.tagOther=cm.markText(other.from,other.to,{className:"CodeMirror-matchingtag"});else cm.state.failedTagMatch=true})}function maybeUpdateMatch(cm){if(cm.state.failedTagMatch)doMatchTags(cm)}CodeMirror.commands.toMatchingTag=function(cm){var found=CodeMirror.findMatchingTag(cm,cm.getCursor());if(found){var other=found.at=="close"?found.open:found.close;if(other)cm.extendSelection(other.to,other.from)}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/mode/multiplex",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.multiplexingMode=function(outer){var others=Array.prototype.slice.call(arguments,1);function indexOf(string,pattern,from,returnEnd){if(typeof pattern=="string"){var found=string.indexOf(pattern,from);return returnEnd&&found>-1?found+pattern.length:found}var m=pattern.exec(from?string.slice(from):string);return m?m.index+from+(returnEnd?m[0].length:0):-1}return{startState:function(){return{outer:CodeMirror.startState(outer),innerActive:null,inner:null}},copyState:function(state){return{outer:CodeMirror.copyState(outer,state.outer),innerActive:state.innerActive,inner:state.innerActive&&CodeMirror.copyState(state.innerActive.mode,state.inner)}},token:function(stream,state){if(!state.innerActive){var cutOff=Infinity,oldContent=stream.string;for(var i=0;i<others.length;++i){var other=others[i];var found=indexOf(oldContent,other.open,stream.pos);if(found==stream.pos){if(!other.parseDelimiters)stream.match(other.open);state.innerActive=other;state.inner=CodeMirror.startState(other.mode,outer.indent?outer.indent(state.outer,""):0);return other.delimStyle&&other.delimStyle+" "+other.delimStyle+"-open"}else if(found!=-1&&found<cutOff){cutOff=found}}if(cutOff!=Infinity)stream.string=oldContent.slice(0,cutOff);var outerToken=outer.token(stream,state.outer);if(cutOff!=Infinity)stream.string=oldContent;return outerToken}else{var curInner=state.innerActive,oldContent=stream.string;if(!curInner.close&&stream.sol()){state.innerActive=state.inner=null;return this.token(stream,state)}var found=curInner.close?indexOf(oldContent,curInner.close,stream.pos,curInner.parseDelimiters):-1;if(found==stream.pos&&!curInner.parseDelimiters){stream.match(curInner.close);state.innerActive=state.inner=null;return curInner.delimStyle&&curInner.delimStyle+" "+curInner.delimStyle+"-close"}if(found>-1)stream.string=oldContent.slice(0,found);var innerToken=curInner.mode.token(stream,state.inner);if(found>-1)stream.string=oldContent;if(found==stream.pos&&curInner.parseDelimiters)state.innerActive=state.inner=null;if(curInner.innerStyle){if(innerToken)innerToken=innerToken+" "+curInner.innerStyle;else innerToken=curInner.innerStyle}return innerToken}},indent:function(state,textAfter){var mode=state.innerActive?state.innerActive.mode:outer;if(!mode.indent)return CodeMirror.Pass;return mode.indent(state.innerActive?state.inner:state.outer,textAfter)},blankLine:function(state){var mode=state.innerActive?state.innerActive.mode:outer;if(mode.blankLine){mode.blankLine(state.innerActive?state.inner:state.outer)}if(!state.innerActive){for(var i=0;i<others.length;++i){var other=others[i];if(other.open==="\n"){state.innerActive=other;state.inner=CodeMirror.startState(other.mode,mode.indent?mode.indent(state.outer,""):0)}}}else if(state.innerActive.close==="\n"){state.innerActive=state.inner=null}},electricChars:outer.electricChars,innerMode:function(state){return state.inner?{state:state.inner,mode:state.innerActive.mode}:{state:state.outer,mode:outer}}}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/mode/overlay",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.overlayMode=function(base,overlay,combine){return{startState:function(){return{base:CodeMirror.startState(base),overlay:CodeMirror.startState(overlay),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(state){return{base:CodeMirror.copyState(base,state.base),overlay:CodeMirror.copyState(overlay,state.overlay),basePos:state.basePos,baseCur:null,overlayPos:state.overlayPos,overlayCur:null}},token:function(stream,state){if(stream!=state.streamSeen||Math.min(state.basePos,state.overlayPos)<stream.start){state.streamSeen=stream;state.basePos=state.overlayPos=stream.start}if(stream.start==state.basePos){state.baseCur=base.token(stream,state.base);state.basePos=stream.pos}if(stream.start==state.overlayPos){stream.pos=stream.start;state.overlayCur=overlay.token(stream,state.overlay);state.overlayPos=stream.pos}stream.pos=Math.min(state.basePos,state.overlayPos);if(state.overlayCur==null)return state.baseCur;else if(state.baseCur!=null&&state.overlay.combineTokens||combine&&state.overlay.combineTokens==null)return state.baseCur+" "+state.overlayCur;else return state.overlayCur},indent:base.indent&&function(state,textAfter){return base.indent(state.base,textAfter)},electricChars:base.electricChars,innerMode:function(state){return{state:state.base,mode:base}},blankLine:function(state){if(base.blankLine)base.blankLine(state.base);if(overlay.blankLine)overlay.blankLine(state.overlay)}}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/mode/simple",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineSimpleMode=function(name,states){CodeMirror.defineMode(name,function(config){return CodeMirror.simpleMode(config,states)})};CodeMirror.simpleMode=function(config,states){ensureState(states,"start");var states_={},meta=states.meta||{},hasIndentation=false;for(var state in states)if(state!=meta&&states.hasOwnProperty(state)){var list=states_[state]=[],orig=states[state];for(var i=0;i<orig.length;i++){var data=orig[i];list.push(new Rule(data,states));if(data.indent||data.dedent)hasIndentation=true}}var mode={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:hasIndentation?[]:null}},copyState:function(state){var s={state:state.state,pending:state.pending,local:state.local,localState:null,indent:state.indent&&state.indent.slice(0)};if(state.localState)s.localState=CodeMirror.copyState(state.local.mode,state.localState);if(state.stack)s.stack=state.stack.slice(0);for(var pers=state.persistentStates;pers;pers=pers.next)s.persistentStates={mode:pers.mode,spec:pers.spec,state:pers.state==state.localState?s.localState:CodeMirror.copyState(pers.mode,pers.state),next:s.persistentStates};return s},token:tokenFunction(states_,config),innerMode:function(state){return state.local&&{mode:state.local.mode,state:state.localState}},indent:indentFunction(states_,meta)};if(meta)for(var prop in meta)if(meta.hasOwnProperty(prop))mode[prop]=meta[prop];return mode};function ensureState(states,name){if(!states.hasOwnProperty(name))throw new Error("Undefined state "+name+" in simple mode")}function toRegex(val,caret){if(!val)return/(?:)/;var flags="";if(val instanceof RegExp){if(val.ignoreCase)flags="i";val=val.source}else{val=String(val)}return new RegExp((caret===false?"":"^")+"(?:"+val+")",flags)}function asToken(val){if(!val)return null;if(typeof val=="string")return val.replace(/\./g," ");var result=[];for(var i=0;i<val.length;i++)result.push(val[i]&&val[i].replace(/\./g," "));return result}function Rule(data,states){if(data.next||data.push)ensureState(states,data.next||data.push);this.regex=toRegex(data.regex);this.token=asToken(data.token);this.data=data}function tokenFunction(states,config){return function(stream,state){if(state.pending){var pend=state.pending.shift();if(state.pending.length==0)state.pending=null;stream.pos+=pend.text.length;return pend.token}if(state.local){if(state.local.end&&stream.match(state.local.end)){var tok=state.local.endToken||null;state.local=state.localState=null;return tok}else{var tok=state.local.mode.token(stream,state.localState),m;if(state.local.endScan&&(m=state.local.endScan.exec(stream.current())))stream.pos=stream.start+m.index;return tok}}var curState=states[state.state];for(var i=0;i<curState.length;i++){var rule=curState[i];var matches=(!rule.data.sol||stream.sol())&&stream.match(rule.regex);if(matches){if(rule.data.next){state.state=rule.data.next}else if(rule.data.push){(state.stack||(state.stack=[])).push(state.state);state.state=rule.data.push}else if(rule.data.pop&&state.stack&&state.stack.length){state.state=state.stack.pop()}if(rule.data.mode)enterLocalMode(config,state,rule.data.mode,rule.token);if(rule.data.indent)state.indent.push(stream.indentation()+config.indentUnit);if(rule.data.dedent)state.indent.pop();if(matches.length>2){state.pending=[];for(var j=2;j<matches.length;j++)if(matches[j])state.pending.push({text:matches[j],token:rule.token[j-1]});stream.backUp(matches[0].length-(matches[1]?matches[1].length:0));return rule.token[0]}else if(rule.token&&rule.token.join){return rule.token[0]}else{return rule.token}}}stream.next();return null}}function cmp(a,b){if(a===b)return true;if(!a||typeof a!="object"||!b||typeof b!="object")return false;var props=0;for(var prop in a)if(a.hasOwnProperty(prop)){if(!b.hasOwnProperty(prop)||!cmp(a[prop],b[prop]))return false;props++}for(var prop in b)if(b.hasOwnProperty(prop))props--;return props==0}function enterLocalMode(config,state,spec,token){var pers;if(spec.persistent)for(var p=state.persistentStates;p&&!pers;p=p.next)if(spec.spec?cmp(spec.spec,p.spec):spec.mode==p.mode)pers=p;var mode=pers?pers.mode:spec.mode||CodeMirror.getMode(config,spec.spec);var lState=pers?pers.state:CodeMirror.startState(mode);if(spec.persistent&&!pers)state.persistentStates={mode:mode,spec:spec.spec,state:lState,next:state.persistentStates};state.localState=lState;state.local={mode:mode,end:spec.end&&toRegex(spec.end),endScan:spec.end&&spec.forceEnd!==false&&toRegex(spec.end,false),endToken:token&&token.join?token[token.length-1]:token}}function indexOf(val,arr){for(var i=0;i<arr.length;i++)if(arr[i]===val)return true}function indentFunction(states,meta){return function(state,textAfter,line){if(state.local&&state.local.mode.indent)return state.local.mode.indent(state.localState,textAfter,line);if(state.indent==null||state.local||meta.dontIndentStates&&indexOf(state.state,meta.dontIndentStates)>-1)return CodeMirror.Pass;var pos=state.indent.length-1,rules=states[state.state];scan:for(;;){for(var i=0;i<rules.length;i++){var rule=rules[i];if(rule.data.dedent&&rule.data.dedentIfLineStart!==false){var m=rule.regex.exec(textAfter);if(m&&m[0]){pos--;if(rule.next||rule.push)rules=states[rule.next||rule.push];textAfter=textAfter.slice(m[0].length);continue scan}}}break}return pos<0?0:state.indent[pos]}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/scroll/scrollpastend",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineOption("scrollPastEnd",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("change",onChange);cm.off("refresh",updateBottomMargin);cm.display.lineSpace.parentNode.style.paddingBottom="";cm.state.scrollPastEndPadding=null}if(val){cm.on("change",onChange);cm.on("refresh",updateBottomMargin);updateBottomMargin(cm)}});function onChange(cm,change){if(CodeMirror.changeEnd(change).line==cm.lastLine())updateBottomMargin(cm)}function updateBottomMargin(cm){var padding="";if(cm.lineCount()>1){var totalH=cm.display.scroller.clientHeight-30,lastLineH=cm.getLineHandle(cm.lastLine()).height;padding=totalH-lastLineH+"px"}if(cm.state.scrollPastEndPadding!=padding){cm.state.scrollPastEndPadding=padding;cm.display.lineSpace.parentNode.style.paddingBottom=padding;cm.off("refresh",updateBottomMargin);cm.setSize();cm.on("refresh",updateBottomMargin)}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/search/searchcursor",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var Pos=CodeMirror.Pos;function SearchCursor(doc,query,pos,caseFold){this.atOccurrence=false;this.doc=doc;if(caseFold==null&&typeof query=="string")caseFold=false;pos=pos?doc.clipPos(pos):Pos(0,0);this.pos={from:pos,to:pos};if(typeof query!="string"){if(!query.global)query=new RegExp(query.source,query.ignoreCase?"ig":"g");this.matches=function(reverse,pos){if(reverse){query.lastIndex=0;var line=doc.getLine(pos.line).slice(0,pos.ch),cutOff=0,match,start;for(;;){query.lastIndex=cutOff;var newMatch=query.exec(line);if(!newMatch)break;match=newMatch;start=match.index;cutOff=match.index+(match[0].length||1);if(cutOff==line.length)break}var matchLen=match&&match[0].length||0;if(!matchLen){if(start==0&&line.length==0){match=undefined}else if(start!=doc.getLine(pos.line).length){matchLen++}}}else{query.lastIndex=pos.ch;var line=doc.getLine(pos.line),match=query.exec(line);var matchLen=match&&match[0].length||0;var start=match&&match.index;if(start+matchLen!=line.length&&!matchLen)matchLen=1}if(match&&matchLen)return{from:Pos(pos.line,start),to:Pos(pos.line,start+matchLen),match:match}}}else{var origQuery=query;if(caseFold)query=query.toLowerCase();var fold=caseFold?function(str){return str.toLowerCase()}:function(str){return str};var target=query.split("\n");if(target.length==1){if(!query.length){this.matches=function(){}}else{this.matches=function(reverse,pos){if(reverse){var orig=doc.getLine(pos.line).slice(0,pos.ch),line=fold(orig);var match=line.lastIndexOf(query);if(match>-1){match=adjustPos(orig,line,match);return{from:Pos(pos.line,match),to:Pos(pos.line,match+origQuery.length)}}}else{var orig=doc.getLine(pos.line).slice(pos.ch),line=fold(orig);var match=line.indexOf(query);if(match>-1){match=adjustPos(orig,line,match)+pos.ch;return{from:Pos(pos.line,match),to:Pos(pos.line,match+origQuery.length)}}}}}}else{var origTarget=origQuery.split("\n");this.matches=function(reverse,pos){var last=target.length-1;if(reverse){if(pos.line-(target.length-1)<doc.firstLine())return;if(fold(doc.getLine(pos.line).slice(0,origTarget[last].length))!=target[target.length-1])return;var to=Pos(pos.line,origTarget[last].length);for(var ln=pos.line-1,i=last-1;i>=1;--i,--ln)if(target[i]!=fold(doc.getLine(ln)))return;var line=doc.getLine(ln),cut=line.length-origTarget[0].length;if(fold(line.slice(cut))!=target[0])return;return{from:Pos(ln,cut),to:to}}else{if(pos.line+(target.length-1)>doc.lastLine())return;var line=doc.getLine(pos.line),cut=line.length-origTarget[0].length;if(fold(line.slice(cut))!=target[0])return;var from=Pos(pos.line,cut);for(var ln=pos.line+1,i=1;i<last;++i,++ln)if(target[i]!=fold(doc.getLine(ln)))return;if(fold(doc.getLine(ln).slice(0,origTarget[last].length))!=target[last])return;return{from:from,to:Pos(ln,origTarget[last].length)}}}}}}SearchCursor.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(reverse){var self=this,pos=this.doc.clipPos(reverse?this.pos.from:this.pos.to);function savePosAndFail(line){var pos=Pos(line,0);self.pos={from:pos,to:pos};self.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(reverse,pos)){this.atOccurrence=true;return this.pos.match||true}if(reverse){if(!pos.line)return savePosAndFail(0);pos=Pos(pos.line-1,this.doc.getLine(pos.line-1).length)}else{var maxLine=this.doc.lineCount();if(pos.line==maxLine-1)return savePosAndFail(maxLine);pos=Pos(pos.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(newText,origin){if(!this.atOccurrence)return;var lines=CodeMirror.splitLines(newText);this.doc.replaceRange(lines,this.pos.from,this.pos.to,origin);this.pos.to=Pos(this.pos.from.line+lines.length-1,lines[lines.length-1].length+(lines.length==1?this.pos.from.ch:0))}};function adjustPos(orig,folded,pos){if(orig.length==folded.length)return pos;for(var pos1=Math.min(pos,orig.length);;){var len1=orig.slice(0,pos1).toLowerCase().length;if(len1<pos)++pos1;else if(len1>pos)--pos1;else return pos1}}CodeMirror.defineExtension("getSearchCursor",function(query,pos,caseFold){return new SearchCursor(this.doc,query,pos,caseFold)});CodeMirror.defineDocExtension("getSearchCursor",function(query,pos,caseFold){return new SearchCursor(this,query,pos,caseFold)});CodeMirror.defineExtension("selectMatches",function(query,caseFold){var ranges=[];var cur=this.getSearchCursor(query,this.getCursor("from"),caseFold);while(cur.findNext()){if(CodeMirror.cmpPos(cur.to(),this.getCursor("to"))>0)break;ranges.push({anchor:cur.from(),head:cur.to()})}if(ranges.length)this.setSelections(ranges,0)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/scroll/annotatescrollbar",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict"
;CodeMirror.defineExtension("annotateScrollbar",function(options){if(typeof options=="string")options={className:options};return new Annotation(this,options)});CodeMirror.defineOption("scrollButtonHeight",0);function Annotation(cm,options){this.cm=cm;this.options=options;this.buttonHeight=options.scrollButtonHeight||cm.getOption("scrollButtonHeight");this.annotations=[];this.doRedraw=this.doUpdate=null;this.div=cm.getWrapperElement().appendChild(document.createElement("div"));this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none";this.computeScale();function scheduleRedraw(delay){clearTimeout(self.doRedraw);self.doRedraw=setTimeout(function(){self.redraw()},delay)}var self=this;cm.on("refresh",this.resizeHandler=function(){clearTimeout(self.doUpdate);self.doUpdate=setTimeout(function(){if(self.computeScale())scheduleRedraw(20)},100)});cm.on("markerAdded",this.resizeHandler);cm.on("markerCleared",this.resizeHandler);if(options.listenForChanges!==false)cm.on("change",this.changeHandler=function(){scheduleRedraw(250)})}Annotation.prototype.computeScale=function(){var cm=this.cm;var hScale=(cm.getWrapperElement().clientHeight-cm.display.barHeight-this.buttonHeight*2)/cm.getScrollerElement().scrollHeight;if(hScale!=this.hScale){this.hScale=hScale;return true}};Annotation.prototype.update=function(annotations){this.annotations=annotations;this.redraw()};Annotation.prototype.redraw=function(compute){if(compute!==false)this.computeScale();var cm=this.cm,hScale=this.hScale;var frag=document.createDocumentFragment(),anns=this.annotations;var wrapping=cm.getOption("lineWrapping");var singleLineH=wrapping&&cm.defaultTextHeight()*1.5;var curLine=null,curLineObj=null;function getY(pos,top){if(curLine!=pos.line){curLine=pos.line;curLineObj=cm.getLineHandle(curLine)}if(wrapping&&curLineObj.height>singleLineH)return cm.charCoords(pos,"local")[top?"top":"bottom"];var topY=cm.heightAtLine(curLineObj,"local");return topY+(top?0:curLineObj.height)}if(cm.display.barWidth)for(var i=0,nextTop;i<anns.length;i++){var ann=anns[i];var top=nextTop||getY(ann.from,true)*hScale;var bottom=getY(ann.to,false)*hScale;while(i<anns.length-1){nextTop=getY(anns[i+1].from,true)*hScale;if(nextTop>bottom+.9)break;ann=anns[++i];bottom=getY(ann.to,false)*hScale}if(bottom==top)continue;var height=Math.max(bottom-top,3);var elt=frag.appendChild(document.createElement("div"));elt.style.cssText="position: absolute; right: 0px; width: "+Math.max(cm.display.barWidth-1,2)+"px; top: "+(top+this.buttonHeight)+"px; height: "+height+"px";elt.className=this.options.className;if(ann.id){elt.setAttribute("annotation-id",ann.id)}}this.div.textContent="";this.div.appendChild(frag)};Annotation.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler);this.cm.off("markerAdded",this.resizeHandler);this.cm.off("markerCleared",this.resizeHandler);if(this.changeHandler)this.cm.off("change",this.changeHandler);this.div.parentNode.removeChild(this.div)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./searchcursor"),require("../scroll/annotatescrollbar"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/search/matchesonscrollbar",["../../lib/codemirror","./searchcursor","../scroll/annotatescrollbar"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineExtension("showMatchesOnScrollbar",function(query,caseFold,options){if(typeof options=="string")options={className:options};if(!options)options={};return new SearchAnnotation(this,query,caseFold,options)});function SearchAnnotation(cm,query,caseFold,options){this.cm=cm;this.options=options;var annotateOptions={listenForChanges:false};for(var prop in options)annotateOptions[prop]=options[prop];if(!annotateOptions.className)annotateOptions.className="CodeMirror-search-match";this.annotation=cm.annotateScrollbar(annotateOptions);this.query=query;this.caseFold=caseFold;this.gap={from:cm.firstLine(),to:cm.lastLine()+1};this.matches=[];this.update=null;this.findMatches();this.annotation.update(this.matches);var self=this;cm.on("change",this.changeHandler=function(_cm,change){self.onChange(change)})}var MAX_MATCHES=1e3;SearchAnnotation.prototype.findMatches=function(){if(!this.gap)return;for(var i=0;i<this.matches.length;i++){var match=this.matches[i];if(match.from.line>=this.gap.to)break;if(match.to.line>=this.gap.from)this.matches.splice(i--,1)}var cursor=this.cm.getSearchCursor(this.query,CodeMirror.Pos(this.gap.from,0),this.caseFold);var maxMatches=this.options&&this.options.maxMatches||MAX_MATCHES;while(cursor.findNext()){var match={from:cursor.from(),to:cursor.to()};if(match.from.line>=this.gap.to)break;this.matches.splice(i++,0,match);if(this.matches.length>maxMatches)break}this.gap=null};function offsetLine(line,changeStart,sizeChange){if(line<=changeStart)return line;return Math.max(changeStart,line+sizeChange)}SearchAnnotation.prototype.onChange=function(change){var startLine=change.from.line;var endLine=CodeMirror.changeEnd(change).line;var sizeChange=endLine-change.to.line;if(this.gap){this.gap.from=Math.min(offsetLine(this.gap.from,startLine,sizeChange),change.from.line);this.gap.to=Math.max(offsetLine(this.gap.to,startLine,sizeChange),change.from.line)}else{this.gap={from:change.from.line,to:endLine+1}}if(sizeChange)for(var i=0;i<this.matches.length;i++){var match=this.matches[i];var newFrom=offsetLine(match.from.line,startLine,sizeChange);if(newFrom!=match.from.line)match.from=CodeMirror.Pos(newFrom,match.from.ch);var newTo=offsetLine(match.to.line,startLine,sizeChange);if(newTo!=match.to.line)match.to=CodeMirror.Pos(newTo,match.to.ch)}clearTimeout(this.update);var self=this;this.update=setTimeout(function(){self.updateAfterChange()},250)};SearchAnnotation.prototype.updateAfterChange=function(){this.findMatches();this.annotation.update(this.matches)};SearchAnnotation.prototype.clear=function(){this.cm.off("change",this.changeHandler);this.annotation.clear()}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./matchesonscrollbar"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/search/match-highlighter",["../../lib/codemirror","./matchesonscrollbar"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var defaults={style:"matchhighlight",minChars:2,delay:100,wordsOnly:false,annotateScrollbar:false,showToken:false,trim:true};function State(options){this.options={};for(var name in defaults)this.options[name]=(options&&options.hasOwnProperty(name)?options:defaults)[name];this.overlay=this.timeout=null;this.matchesonscroll=null;this.active=false}CodeMirror.defineOption("highlightSelectionMatches",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){removeOverlay(cm);clearTimeout(cm.state.matchHighlighter.timeout);cm.state.matchHighlighter=null;cm.off("cursorActivity",cursorActivity);cm.off("focus",onFocus)}if(val){var state=cm.state.matchHighlighter=new State(val);if(cm.hasFocus()){state.active=true;highlightMatches(cm)}else{cm.on("focus",onFocus)}cm.on("cursorActivity",cursorActivity)}});function cursorActivity(cm){var state=cm.state.matchHighlighter;if(state.active||cm.hasFocus())scheduleHighlight(cm,state)}function onFocus(cm){var state=cm.state.matchHighlighter;if(!state.active){state.active=true;scheduleHighlight(cm,state)}}function scheduleHighlight(cm,state){clearTimeout(state.timeout);state.timeout=setTimeout(function(){highlightMatches(cm)},state.options.delay)}function addOverlay(cm,query,hasBoundary,style){var state=cm.state.matchHighlighter;cm.addOverlay(state.overlay=makeOverlay(query,hasBoundary,style));if(state.options.annotateScrollbar&&cm.showMatchesOnScrollbar){var searchFor=hasBoundary?new RegExp("\\b"+query+"\\b"):query;state.matchesonscroll=cm.showMatchesOnScrollbar(searchFor,false,{className:"CodeMirror-selection-highlight-scrollbar"})}}function removeOverlay(cm){var state=cm.state.matchHighlighter;if(state.overlay){cm.removeOverlay(state.overlay);state.overlay=null;if(state.matchesonscroll){state.matchesonscroll.clear();state.matchesonscroll=null}}}function highlightMatches(cm){cm.operation(function(){var state=cm.state.matchHighlighter;removeOverlay(cm);if(!cm.somethingSelected()&&state.options.showToken){var re=state.options.showToken===true?/[\w$]/:state.options.showToken;var cur=cm.getCursor(),line=cm.getLine(cur.line),start=cur.ch,end=start;while(start&&re.test(line.charAt(start-1)))--start;while(end<line.length&&re.test(line.charAt(end)))++end;if(start<end)addOverlay(cm,line.slice(start,end),re,state.options.style);return}var from=cm.getCursor("from"),to=cm.getCursor("to");if(from.line!=to.line)return;if(state.options.wordsOnly&&!isWord(cm,from,to))return;var selection=cm.getRange(from,to);if(state.options.trim)selection=selection.replace(/^\s+|\s+$/g,"");if(selection.length>=state.options.minChars)addOverlay(cm,selection,false,state.options.style)})}function isWord(cm,from,to){var str=cm.getRange(from,to);if(str.match(/^\w+$/)!==null){if(from.ch>0){var pos={line:from.line,ch:from.ch-1};var chr=cm.getRange(pos,from);if(chr.match(/\W/)===null)return false}if(to.ch<cm.getLine(from.line).length){var pos={line:to.line,ch:to.ch+1};var chr=cm.getRange(to,pos);if(chr.match(/\W/)===null)return false}return true}else return false}function boundariesAround(stream,re){return(!stream.start||!re.test(stream.string.charAt(stream.start-1)))&&(stream.pos==stream.string.length||!re.test(stream.string.charAt(stream.pos)))}function makeOverlay(query,hasBoundary,style){return{token:function(stream){if(stream.match(query)&&(!hasBoundary||boundariesAround(stream,hasBoundary)))return style;stream.next();stream.skipTo(query.charAt(0))||stream.skipToEnd()}}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/selection/active-line",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var WRAP_CLASS="CodeMirror-activeline";var BACK_CLASS="CodeMirror-activeline-background";var GUTT_CLASS="CodeMirror-activeline-gutter";CodeMirror.defineOption("styleActiveLine",false,function(cm,val,old){var prev=old&&old!=CodeMirror.Init;if(val&&!prev){cm.state.activeLines=[];updateActiveLines(cm,cm.listSelections());cm.on("beforeSelectionChange",selectionChange)}else if(!val&&prev){cm.off("beforeSelectionChange",selectionChange);clearActiveLines(cm);delete cm.state.activeLines}});function clearActiveLines(cm){for(var i=0;i<cm.state.activeLines.length;i++){cm.removeLineClass(cm.state.activeLines[i],"wrap",WRAP_CLASS);cm.removeLineClass(cm.state.activeLines[i],"background",BACK_CLASS);cm.removeLineClass(cm.state.activeLines[i],"gutter",GUTT_CLASS)}}function sameArray(a,b){if(a.length!=b.length)return false;for(var i=0;i<a.length;i++)if(a[i]!=b[i])return false;return true}function updateActiveLines(cm,ranges){var active=[];for(var i=0;i<ranges.length;i++){var range=ranges[i];if(!range.empty())continue;var line=cm.getLineHandleVisualStart(range.head.line);if(active[active.length-1]!=line)active.push(line)}if(sameArray(cm.state.activeLines,active))return;cm.operation(function(){clearActiveLines(cm);for(var i=0;i<active.length;i++){cm.addLineClass(active[i],"wrap",WRAP_CLASS);cm.addLineClass(active[i],"background",BACK_CLASS);cm.addLineClass(active[i],"gutter",GUTT_CLASS)}cm.state.activeLines=active})}function selectionChange(cm,sel){updateActiveLines(cm,sel.ranges)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/addon/selection/mark-selection",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineOption("styleSelectedText",false,function(cm,val,old){var prev=old&&old!=CodeMirror.Init;if(val&&!prev){cm.state.markedSelection=[];cm.state.markedSelectionStyle=typeof val=="string"?val:"CodeMirror-selectedtext";reset(cm);cm.on("cursorActivity",onCursorActivity);cm.on("change",onChange)}else if(!val&&prev){cm.off("cursorActivity",onCursorActivity);cm.off("change",onChange);clear(cm);cm.state.markedSelection=cm.state.markedSelectionStyle=null}});function onCursorActivity(cm){cm.operation(function(){update(cm)})}function onChange(cm){if(cm.state.markedSelection.length)cm.operation(function(){clear(cm)})}var CHUNK_SIZE=8;var Pos=CodeMirror.Pos;var cmp=CodeMirror.cmpPos;function coverRange(cm,from,to,addAt){if(cmp(from,to)==0)return;var array=cm.state.markedSelection;var cls=cm.state.markedSelectionStyle;for(var line=from.line;;){var start=line==from.line?from:Pos(line,0);var endLine=line+CHUNK_SIZE,atEnd=endLine>=to.line;var end=atEnd?to:Pos(endLine,0);var mark=cm.markText(start,end,{className:cls});if(addAt==null)array.push(mark);else array.splice(addAt++,0,mark);if(atEnd)break;line=endLine}}function clear(cm){var array=cm.state.markedSelection;for(var i=0;i<array.length;++i)array[i].clear();array.length=0}function reset(cm){clear(cm);var ranges=cm.listSelections();for(var i=0;i<ranges.length;i++)coverRange(cm,ranges[i].from(),ranges[i].to())}function update(cm){if(!cm.somethingSelected())return clear(cm);if(cm.listSelections().length>1)return reset(cm);var from=cm.getCursor("start"),to=cm.getCursor("end");var array=cm.state.markedSelection;if(!array.length)return coverRange(cm,from,to);var coverStart=array[0].find(),coverEnd=array[array.length-1].find();if(!coverStart||!coverEnd||to.line-from.line<CHUNK_SIZE||cmp(from,coverEnd.to)>=0||cmp(to,coverStart.from)<=0)return reset(cm);while(cmp(from,coverStart.from)>0){array.shift().clear();coverStart=array[0].find()}if(cmp(from,coverStart.from)<0){if(coverStart.to.line-from.line<CHUNK_SIZE){array.shift().clear();coverRange(cm,from,coverStart.to,0)}else{coverRange(cm,from,coverStart.from,0)}}while(cmp(to,coverEnd.to)<0){array.pop().clear();coverEnd=array[array.length-1].find()}if(cmp(to,coverEnd.to)>0){if(to.line-coverEnd.from.line<CHUNK_SIZE){array.pop().clear();coverRange(cm,coverEnd.from,to)}else{coverRange(cm,coverEnd.to,to)}}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/keymap/sublime",["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var map=CodeMirror.keyMap.sublime={fallthrough:"default"};var cmds=CodeMirror.commands;var Pos=CodeMirror.Pos;var mac=CodeMirror.keyMap["default"]==CodeMirror.keyMap.macDefault;var ctrl=mac?"Cmd-":"Ctrl-";function findPosSubword(doc,start,dir){if(dir<0&&start.ch==0)return doc.clipPos(Pos(start.line-1));var line=doc.getLine(start.line);if(dir>0&&start.ch>=line.length)return doc.clipPos(Pos(start.line+1,0));var state="start",type;for(var pos=start.ch,e=dir<0?0:line.length,i=0;pos!=e;pos+=dir,i++){var next=line.charAt(dir<0?pos-1:pos);var cat=next!="_"&&CodeMirror.isWordChar(next)?"w":"o";if(cat=="w"&&next.toUpperCase()==next)cat="W";if(state=="start"){if(cat!="o"){state="in";type=cat}}else if(state=="in"){if(type!=cat){if(type=="w"&&cat=="W"&&dir<0)pos--;if(type=="W"&&cat=="w"&&dir>0){type="w";continue}break}}}return Pos(start.line,pos)}function moveSubword(cm,dir){cm.extendSelectionsBy(function(range){if(cm.display.shift||cm.doc.extend||range.empty())return findPosSubword(cm.doc,range.head,dir);else return dir<0?range.from():range.to()})}var goSubwordCombo=mac?"Ctrl-":"Alt-";cmds[map[goSubwordCombo+"Left"]="goSubwordLeft"]=function(cm){moveSubword(cm,-1)};cmds[map[goSubwordCombo+"Right"]="goSubwordRight"]=function(cm){moveSubword(cm,1)};if(mac)map["Cmd-Left"]="goLineStartSmart";var scrollLineCombo=mac?"Ctrl-Alt-":"Ctrl-";cmds[map[scrollLineCombo+"Up"]="scrollLineUp"]=function(cm){var info=cm.getScrollInfo();if(!cm.somethingSelected()){var visibleBottomLine=cm.lineAtHeight(info.top+info.clientHeight,"local");if(cm.getCursor().line>=visibleBottomLine)cm.execCommand("goLineUp")}cm.scrollTo(null,info.top-cm.defaultTextHeight())};cmds[map[scrollLineCombo+"Down"]="scrollLineDown"]=function(cm){var info=cm.getScrollInfo();if(!cm.somethingSelected()){var visibleTopLine=cm.lineAtHeight(info.top,"local")+1;if(cm.getCursor().line<=visibleTopLine)cm.execCommand("goLineDown")}cm.scrollTo(null,info.top+cm.defaultTextHeight())};cmds[map["Shift-"+ctrl+"L"]="splitSelectionByLine"]=function(cm){var ranges=cm.listSelections(),lineRanges=[];for(var i=0;i<ranges.length;i++){var from=ranges[i].from(),to=ranges[i].to();for(var line=from.line;line<=to.line;++line)if(!(to.line>from.line&&line==to.line&&to.ch==0))lineRanges.push({anchor:line==from.line?from:Pos(line,0),head:line==to.line?to:Pos(line)})}cm.setSelections(lineRanges,0)};map["Shift-Tab"]="indentLess";cmds[map["Esc"]="singleSelectionTop"]=function(cm){var range=cm.listSelections()[0];cm.setSelection(range.anchor,range.head,{scroll:false})};cmds[map[ctrl+"L"]="selectLine"]=function(cm){var ranges=cm.listSelections(),extended=[];for(var i=0;i<ranges.length;i++){var range=ranges[i];extended.push({anchor:Pos(range.from().line,0),head:Pos(range.to().line+1,0)})}cm.setSelections(extended)};map["Shift-Ctrl-K"]="deleteLine";function insertLine(cm,above){if(cm.isReadOnly())return CodeMirror.Pass;cm.operation(function(){var len=cm.listSelections().length,newSelection=[],last=-1;for(var i=0;i<len;i++){var head=cm.listSelections()[i].head;if(head.line<=last)continue;var at=Pos(head.line+(above?0:1),0);cm.replaceRange("\n",at,null,"+insertLine");cm.indentLine(at.line,null,true);newSelection.push({head:at,anchor:at});last=head.line+1}cm.setSelections(newSelection)});cm.execCommand("indentAuto")}cmds[map[ctrl+"Enter"]="insertLineAfter"]=function(cm){return insertLine(cm,false)};cmds[map["Shift-"+ctrl+"Enter"]="insertLineBefore"]=function(cm){return insertLine(cm,true)};function wordAt(cm,pos){var start=pos.ch,end=start,line=cm.getLine(pos.line);while(start&&CodeMirror.isWordChar(line.charAt(start-1)))--start;while(end<line.length&&CodeMirror.isWordChar(line.charAt(end)))++end;return{from:Pos(pos.line,start),to:Pos(pos.line,end),word:line.slice(start,end)}}cmds[map[ctrl+"D"]="selectNextOccurrence"]=function(cm){var from=cm.getCursor("from"),to=cm.getCursor("to");var fullWord=cm.state.sublimeFindFullWord==cm.doc.sel;if(CodeMirror.cmpPos(from,to)==0){var word=wordAt(cm,from);if(!word.word)return;cm.setSelection(word.from,word.to);fullWord=true}else{var text=cm.getRange(from,to);var query=fullWord?new RegExp("\\b"+text+"\\b"):text;var cur=cm.getSearchCursor(query,to);if(cur.findNext()){cm.addSelection(cur.from(),cur.to())}else{cur=cm.getSearchCursor(query,Pos(cm.firstLine(),0));if(cur.findNext())cm.addSelection(cur.from(),cur.to())}}if(fullWord)cm.state.sublimeFindFullWord=cm.doc.sel};var mirror="(){}[]";function selectBetweenBrackets(cm){var pos=cm.getCursor(),opening=cm.scanForBracket(pos,-1);if(!opening)return;for(;;){var closing=cm.scanForBracket(pos,1);if(!closing)return;if(closing.ch==mirror.charAt(mirror.indexOf(opening.ch)+1)){cm.setSelection(Pos(opening.pos.line,opening.pos.ch+1),closing.pos,false);return true}pos=Pos(closing.pos.line,closing.pos.ch+1)}}cmds[map["Shift-"+ctrl+"Space"]="selectScope"]=function(cm){selectBetweenBrackets(cm)||cm.execCommand("selectAll")};cmds[map["Shift-"+ctrl+"M"]="selectBetweenBrackets"]=function(cm){if(!selectBetweenBrackets(cm))return CodeMirror.Pass};cmds[map[ctrl+"M"]="goToBracket"]=function(cm){cm.extendSelectionsBy(function(range){var next=cm.scanForBracket(range.head,1);if(next&&CodeMirror.cmpPos(next.pos,range.head)!=0)return next.pos;var prev=cm.scanForBracket(range.head,-1);return prev&&Pos(prev.pos.line,prev.pos.ch+1)||range.head})};var swapLineCombo=mac?"Cmd-Ctrl-":"Shift-Ctrl-";cmds[map[swapLineCombo+"Up"]="swapLineUp"]=function(cm){if(cm.isReadOnly())return CodeMirror.Pass;var ranges=cm.listSelections(),linesToMove=[],at=cm.firstLine()-1,newSels=[];for(var i=0;i<ranges.length;i++){var range=ranges[i],from=range.from().line-1,to=range.to().line;newSels.push({anchor:Pos(range.anchor.line-1,range.anchor.ch),head:Pos(range.head.line-1,range.head.ch)});if(range.to().ch==0&&!range.empty())--to;if(from>at)linesToMove.push(from,to);else if(linesToMove.length)linesToMove[linesToMove.length-1]=to;at=to}cm.operation(function(){for(var i=0;i<linesToMove.length;i+=2){var from=linesToMove[i],to=linesToMove[i+1];var line=cm.getLine(from);cm.replaceRange("",Pos(from,0),Pos(from+1,0),"+swapLine");if(to>cm.lastLine())cm.replaceRange("\n"+line,Pos(cm.lastLine()),null,"+swapLine");else cm.replaceRange(line+"\n",Pos(to,0),null,"+swapLine")}cm.setSelections(newSels);cm.scrollIntoView()})};cmds[map[swapLineCombo+"Down"]="swapLineDown"]=function(cm){if(cm.isReadOnly())return CodeMirror.Pass;var ranges=cm.listSelections(),linesToMove=[],at=cm.lastLine()+1;for(var i=ranges.length-1;i>=0;i--){var range=ranges[i],from=range.to().line+1,to=range.from().line;if(range.to().ch==0&&!range.empty())from--;if(from<at)linesToMove.push(from,to);else if(linesToMove.length)linesToMove[linesToMove.length-1]=to;at=to}cm.operation(function(){for(var i=linesToMove.length-2;i>=0;i-=2){var from=linesToMove[i],to=linesToMove[i+1];var line=cm.getLine(from);if(from==cm.lastLine())cm.replaceRange("",Pos(from-1),Pos(from),"+swapLine");else cm.replaceRange("",Pos(from,0),Pos(from+1,0),"+swapLine");cm.replaceRange(line+"\n",Pos(to,0),null,"+swapLine")}cm.scrollIntoView()})};cmds[map[ctrl+"/"]="toggleCommentIndented"]=function(cm){cm.toggleComment({indent:true})};cmds[map[ctrl+"J"]="joinLines"]=function(cm){var ranges=cm.listSelections(),joined=[];for(var i=0;i<ranges.length;i++){var range=ranges[i],from=range.from();var start=from.line,end=range.to().line;while(i<ranges.length-1&&ranges[i+1].from().line==end)end=ranges[++i].to().line;joined.push({start:start,end:end,anchor:!range.empty()&&from})}cm.operation(function(){var offset=0,ranges=[];for(var i=0;i<joined.length;i++){var obj=joined[i];var anchor=obj.anchor&&Pos(obj.anchor.line-offset,obj.anchor.ch),head;for(var line=obj.start;line<=obj.end;line++){var actual=line-offset;if(line==obj.end)head=Pos(actual,cm.getLine(actual).length+1);if(actual<cm.lastLine()){cm.replaceRange(" ",Pos(actual),Pos(actual+1,/^\s*/.exec(cm.getLine(actual+1))[0].length));++offset}}ranges.push({anchor:anchor||head,head:head})}cm.setSelections(ranges,0)})};cmds[map["Shift-"+ctrl+"D"]="duplicateLine"]=function(cm){cm.operation(function(){var rangeCount=cm.listSelections().length;for(var i=0;i<rangeCount;i++){var range=cm.listSelections()[i];if(range.empty())cm.replaceRange(cm.getLine(range.head.line)+"\n",Pos(range.head.line,0));else cm.replaceRange(cm.getRange(range.from(),range.to()),range.from())}cm.scrollIntoView()})};if(!mac)map[ctrl+"T"]="transposeChars";function sortLines(cm,caseSensitive){if(cm.isReadOnly())return CodeMirror.Pass;var ranges=cm.listSelections(),toSort=[],selected;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(range.empty())continue;var from=range.from().line,to=range.to().line;while(i<ranges.length-1&&ranges[i+1].from().line==to)to=range[++i].to().line;toSort.push(from,to)}if(toSort.length)selected=true;else toSort.push(cm.firstLine(),cm.lastLine());cm.operation(function(){var ranges=[];for(var i=0;i<toSort.length;i+=2){var from=toSort[i],to=toSort[i+1];var start=Pos(from,0),end=Pos(to);var lines=cm.getRange(start,end,false);if(caseSensitive)lines.sort();else lines.sort(function(a,b){var au=a.toUpperCase(),bu=b.toUpperCase();if(au!=bu){a=au;b=bu}return a<b?-1:a==b?0:1});cm.replaceRange(lines,start,end);if(selected)ranges.push({anchor:start,head:end})}if(selected)cm.setSelections(ranges,0)})}cmds[map["F9"]="sortLines"]=function(cm){sortLines(cm,true)};cmds[map[ctrl+"F9"]="sortLinesInsensitive"]=function(cm){sortLines(cm,false)};cmds[map["F2"]="nextBookmark"]=function(cm){var marks=cm.state.sublimeBookmarks;if(marks)while(marks.length){var current=marks.shift();var found=current.find();if(found){marks.push(current);return cm.setSelection(found.from,found.to)}}};cmds[map["Shift-F2"]="prevBookmark"]=function(cm){var marks=cm.state.sublimeBookmarks;if(marks)while(marks.length){marks.unshift(marks.pop());var found=marks[marks.length-1].find();if(!found)marks.pop();else return cm.setSelection(found.from,found.to)}};cmds[map[ctrl+"F2"]="toggleBookmark"]=function(cm){var ranges=cm.listSelections();var marks=cm.state.sublimeBookmarks||(cm.state.sublimeBookmarks=[]);for(var i=0;i<ranges.length;i++){var from=ranges[i].from(),to=ranges[i].to();var found=cm.findMarks(from,to);for(var j=0;j<found.length;j++){if(found[j].sublimeBookmark){found[j].clear();for(var k=0;k<marks.length;k++)if(marks[k]==found[j])marks.splice(k--,1);break}}if(j==found.length)marks.push(cm.markText(from,to,{sublimeBookmark:true,clearWhenEmpty:false}))}};cmds[map["Shift-"+ctrl+"F2"]="clearBookmarks"]=function(cm){var marks=cm.state.sublimeBookmarks;if(marks)for(var i=0;i<marks.length;i++)marks[i].clear();marks.length=0};cmds[map["Alt-F2"]="selectBookmarks"]=function(cm){var marks=cm.state.sublimeBookmarks,ranges=[];if(marks)for(var i=0;i<marks.length;i++){var found=marks[i].find();if(!found)marks.splice(i--,0);else ranges.push({anchor:found.from,head:found.to})}if(ranges.length)cm.setSelections(ranges,0)};map["Alt-Q"]="wrapLines";var cK=ctrl+"K ";function modifyWordOrSelection(cm,mod){cm.operation(function(){var ranges=cm.listSelections(),indices=[],replacements=[];for(var i=0;i<ranges.length;i++){var range=ranges[i];if(range.empty()){indices.push(i);replacements.push("")}else replacements.push(mod(cm.getRange(range.from(),range.to())))}cm.replaceSelections(replacements,"around","case");for(var i=indices.length-1,at;i>=0;i--){var range=ranges[indices[i]];if(at&&CodeMirror.cmpPos(range.head,at)>0)continue;var word=wordAt(cm,range.head);at=word.from;cm.replaceRange(mod(word.word),word.from,word.to)}})}map[cK+ctrl+"Backspace"]="delLineLeft";cmds[map["Backspace"]="smartBackspace"]=function(cm){if(cm.somethingSelected())return CodeMirror.Pass;cm.operation(function(){var cursors=cm.listSelections();var indentUnit=cm.getOption("indentUnit");for(var i=cursors.length-1;i>=0;i--){var cursor=cursors[i].head;var toStartOfLine=cm.getRange({line:cursor.line,ch:0},cursor);var column=CodeMirror.countColumn(toStartOfLine,null,cm.getOption("tabSize"));var deletePos=cm.findPosH(cursor,-1,"char",false);if(toStartOfLine&&!/\S/.test(toStartOfLine)&&column%indentUnit==0){var prevIndent=new Pos(cursor.line,CodeMirror.findColumn(toStartOfLine,column-indentUnit,indentUnit));if(prevIndent.ch!=cursor.ch)deletePos=prevIndent}cm.replaceRange("",deletePos,cursor,"+delete")}})};cmds[map[cK+ctrl+"K"]="delLineRight"]=function(cm){cm.operation(function(){var ranges=cm.listSelections();for(var i=ranges.length-1;i>=0;i--)cm.replaceRange("",ranges[i].anchor,Pos(ranges[i].to().line),"+delete");cm.scrollIntoView()})};cmds[map[cK+ctrl+"U"]="upcaseAtCursor"]=function(cm){modifyWordOrSelection(cm,function(str){return str.toUpperCase()})};cmds[map[cK+ctrl+"L"]="downcaseAtCursor"]=function(cm){modifyWordOrSelection(cm,function(str){return str.toLowerCase()})};cmds[map[cK+ctrl+"Space"]="setSublimeMark"]=function(cm){if(cm.state.sublimeMark)cm.state.sublimeMark.clear();cm.state.sublimeMark=cm.setBookmark(cm.getCursor())};cmds[map[cK+ctrl+"A"]="selectToSublimeMark"]=function(cm){var found=cm.state.sublimeMark&&cm.state.sublimeMark.find();if(found)cm.setSelection(cm.getCursor(),found)};cmds[map[cK+ctrl+"W"]="deleteToSublimeMark"]=function(cm){var found=cm.state.sublimeMark&&cm.state.sublimeMark.find();if(found){var from=cm.getCursor(),to=found;if(CodeMirror.cmpPos(from,to)>0){var tmp=to;to=from;from=tmp}cm.state.sublimeKilled=cm.getRange(from,to);cm.replaceRange("",from,to)}};cmds[map[cK+ctrl+"X"]="swapWithSublimeMark"]=function(cm){var found=cm.state.sublimeMark&&cm.state.sublimeMark.find();if(found){cm.state.sublimeMark.clear();cm.state.sublimeMark=cm.setBookmark(cm.getCursor());cm.setCursor(found)}};cmds[map[cK+ctrl+"Y"]="sublimeYank"]=function(cm){if(cm.state.sublimeKilled!=null)cm.replaceSelection(cm.state.sublimeKilled,null,"paste")};map[cK+ctrl+"G"]="clearBookmarks";cmds[map[cK+ctrl+"C"]="showInCenter"]=function(cm){var pos=cm.cursorCoords(null,"local");cm.scrollTo(null,(pos.top+pos.bottom)/2-cm.getScrollInfo().clientHeight/2)};var selectLinesCombo=mac?"Ctrl-Shift-":"Ctrl-Alt-";cmds[map[selectLinesCombo+"Up"]="selectLinesUpward"]=function(cm){cm.operation(function(){var ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){var range=ranges[i];if(range.head.line>cm.firstLine())cm.addSelection(Pos(range.head.line-1,range.head.ch))}})};cmds[map[selectLinesCombo+"Down"]="selectLinesDownward"]=function(cm){cm.operation(function(){var ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){var range=ranges[i];if(range.head.line<cm.lastLine())cm.addSelection(Pos(range.head.line+1,range.head.ch))}})};function getTarget(cm){var from=cm.getCursor("from"),to=cm.getCursor("to");if(CodeMirror.cmpPos(from,to)==0){var word=wordAt(cm,from);if(!word.word)return;from=word.from;to=word.to}return{from:from,to:to,query:cm.getRange(from,to),word:word}}function findAndGoTo(cm,forward){var target=getTarget(cm);if(!target)return;var query=target.query;var cur=cm.getSearchCursor(query,forward?target.to:target.from);if(forward?cur.findNext():cur.findPrevious()){cm.setSelection(cur.from(),cur.to())}else{cur=cm.getSearchCursor(query,forward?Pos(cm.firstLine(),0):cm.clipPos(Pos(cm.lastLine())));if(forward?cur.findNext():cur.findPrevious())cm.setSelection(cur.from(),cur.to());else if(target.word)cm.setSelection(target.from,target.to)}}cmds[map[ctrl+"F3"]="findUnder"]=function(cm){findAndGoTo(cm,true)};cmds[map["Shift-"+ctrl+"F3"]="findUnderPrevious"]=function(cm){findAndGoTo(cm,false)};cmds[map["Alt-F3"]="findAllUnder"]=function(cm){var target=getTarget(cm);if(!target)return;var cur=cm.getSearchCursor(target.query);var matches=[];var primaryIndex=-1;while(cur.findNext()){matches.push({anchor:cur.from(),head:cur.to()});if(cur.from().line<=target.from.line&&cur.from().ch<=target.from.ch)primaryIndex++}cm.setSelections(matches,primaryIndex)};map["Shift-"+ctrl+"["]="fold";map["Shift-"+ctrl+"]"]="unfold";map[cK+ctrl+"0"]=map[cK+ctrl+"J"]="unfoldAll";map[ctrl+"I"]="findIncremental";map["Shift-"+ctrl+"I"]="findIncrementalReverse";map[ctrl+"H"]="replace";map["F3"]="findNext";map["Shift-F3"]="findPrev";CodeMirror.normalizeKeyMap(map)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/mode/meta",["../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],
file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.mimes)info.mime=info.mimes[0]}CodeMirror.findModeByMIME=function(mime){mime=mime.toLowerCase();for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.mime==mime)return info;if(info.mimes)for(var j=0;j<info.mimes.length;j++)if(info.mimes[j]==mime)return info}};CodeMirror.findModeByExtension=function(ext){for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.ext)for(var j=0;j<info.ext.length;j++)if(info.ext[j]==ext)return info}};CodeMirror.findModeByFileName=function(filename){for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.file&&info.file.test(filename))return info}var dot=filename.lastIndexOf(".");var ext=dot>-1&&filename.substring(dot+1,filename.length);if(ext)return CodeMirror.findModeByExtension(ext)};CodeMirror.findModeByName=function(name){name=name.toLowerCase();for(var i=0;i<CodeMirror.modeInfo.length;i++){var info=CodeMirror.modeInfo[i];if(info.name.toLowerCase()==name)return info;if(info.alias)for(var j=0;j<info.alias.length;j++)if(info.alias[j].toLowerCase()==name)return info}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/mode/css/css",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineMode("css",function(config,parserConfig){var inline=parserConfig.inline;if(!parserConfig.propertyKeywords)parserConfig=CodeMirror.resolveMode("text/css");var indentUnit=config.indentUnit,tokenHooks=parserConfig.tokenHooks,documentTypes=parserConfig.documentTypes||{},mediaTypes=parserConfig.mediaTypes||{},mediaFeatures=parserConfig.mediaFeatures||{},mediaValueKeywords=parserConfig.mediaValueKeywords||{},propertyKeywords=parserConfig.propertyKeywords||{},nonStandardPropertyKeywords=parserConfig.nonStandardPropertyKeywords||{},fontProperties=parserConfig.fontProperties||{},counterDescriptors=parserConfig.counterDescriptors||{},colorKeywords=parserConfig.colorKeywords||{},valueKeywords=parserConfig.valueKeywords||{},allowNested=parserConfig.allowNested,supportsAtComponent=parserConfig.supportsAtComponent===true;var type,override;function ret(style,tp){type=tp;return style}function tokenBase(stream,state){var ch=stream.next();if(tokenHooks[ch]){var result=tokenHooks[ch](stream,state);if(result!==false)return result}if(ch=="@"){stream.eatWhile(/[\w\\\-]/);return ret("def",stream.current())}else if(ch=="="||(ch=="~"||ch=="|")&&stream.eat("=")){return ret(null,"compare")}else if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if(ch=="#"){stream.eatWhile(/[\w\\\-]/);return ret("atom","hash")}else if(ch=="!"){stream.match(/^\s*\w*/);return ret("keyword","important")}else if(/\d/.test(ch)||ch=="."&&stream.eat(/\d/)){stream.eatWhile(/[\w.%]/);return ret("number","unit")}else if(ch==="-"){if(/[\d.]/.test(stream.peek())){stream.eatWhile(/[\w.%]/);return ret("number","unit")}else if(stream.match(/^-[\w\\\-]+/)){stream.eatWhile(/[\w\\\-]/);if(stream.match(/^\s*:/,false))return ret("variable-2","variable-definition");return ret("variable-2","variable")}else if(stream.match(/^\w+-/)){return ret("meta","meta")}}else if(/[,+>*\/]/.test(ch)){return ret(null,"select-op")}else if(ch=="."&&stream.match(/^-?[_a-z][_a-z0-9-]*/i)){return ret("qualifier","qualifier")}else if(/[:;{}\[\]\(\)]/.test(ch)){return ret(null,ch)}else if(ch=="u"&&stream.match(/rl(-prefix)?\(/)||ch=="d"&&stream.match("omain(")||ch=="r"&&stream.match("egexp(")){stream.backUp(1);state.tokenize=tokenParenthesized;return ret("property","word")}else if(/[\w\\\-]/.test(ch)){stream.eatWhile(/[\w\\\-]/);return ret("property","word")}else{return ret(null,null)}}function tokenString(quote){return function(stream,state){var escaped=false,ch;while((ch=stream.next())!=null){if(ch==quote&&!escaped){if(quote==")")stream.backUp(1);break}escaped=!escaped&&ch=="\\"}if(ch==quote||!escaped&&quote!=")")state.tokenize=null;return ret("string","string")}}function tokenParenthesized(stream,state){stream.next();if(!stream.match(/\s*[\"\')]/,false))state.tokenize=tokenString(")");else state.tokenize=null;return ret(null,"(")}function Context(type,indent,prev){this.type=type;this.indent=indent;this.prev=prev}function pushContext(state,stream,type,indent){state.context=new Context(type,stream.indentation()+(indent===false?0:indentUnit),state.context);return type}function popContext(state){if(state.context.prev)state.context=state.context.prev;return state.context.type}function pass(type,stream,state){return states[state.context.type](type,stream,state)}function popAndPass(type,stream,state,n){for(var i=n||1;i>0;i--)state.context=state.context.prev;return pass(type,stream,state)}function wordAsValue(stream){var word=stream.current().toLowerCase();if(valueKeywords.hasOwnProperty(word))override="atom";else if(colorKeywords.hasOwnProperty(word))override="keyword";else override="variable"}var states={};states.top=function(type,stream,state){if(type=="{"){return pushContext(state,stream,"block")}else if(type=="}"&&state.context.prev){return popContext(state)}else if(supportsAtComponent&&/@component/.test(type)){return pushContext(state,stream,"atComponentBlock")}else if(/^@(-moz-)?document$/.test(type)){return pushContext(state,stream,"documentTypes")}else if(/^@(media|supports|(-moz-)?document|import)$/.test(type)){return pushContext(state,stream,"atBlock")}else if(/^@(font-face|counter-style)/.test(type)){state.stateArg=type;return"restricted_atBlock_before"}else if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(type)){return"keyframes"}else if(type&&type.charAt(0)=="@"){return pushContext(state,stream,"at")}else if(type=="hash"){override="builtin"}else if(type=="word"){override="tag"}else if(type=="variable-definition"){return"maybeprop"}else if(type=="interpolation"){return pushContext(state,stream,"interpolation")}else if(type==":"){return"pseudo"}else if(allowNested&&type=="("){return pushContext(state,stream,"parens")}return state.context.type};states.block=function(type,stream,state){if(type=="word"){var word=stream.current().toLowerCase();if(propertyKeywords.hasOwnProperty(word)){override="property";return"maybeprop"}else if(nonStandardPropertyKeywords.hasOwnProperty(word)){override="string-2";return"maybeprop"}else if(allowNested){override=stream.match(/^\s*:(?:\s|$)/,false)?"property":"tag";return"block"}else{override+=" error";return"maybeprop"}}else if(type=="meta"){return"block"}else if(!allowNested&&(type=="hash"||type=="qualifier")){override="error";return"block"}else{return states.top(type,stream,state)}};states.maybeprop=function(type,stream,state){if(type==":")return pushContext(state,stream,"prop");return pass(type,stream,state)};states.prop=function(type,stream,state){if(type==";")return popContext(state);if(type=="{"&&allowNested)return pushContext(state,stream,"propBlock");if(type=="}"||type=="{")return popAndPass(type,stream,state);if(type=="(")return pushContext(state,stream,"parens");if(type=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())){override+=" error"}else if(type=="word"){wordAsValue(stream)}else if(type=="interpolation"){return pushContext(state,stream,"interpolation")}return"prop"};states.propBlock=function(type,_stream,state){if(type=="}")return popContext(state);if(type=="word"){override="property";return"maybeprop"}return state.context.type};states.parens=function(type,stream,state){if(type=="{"||type=="}")return popAndPass(type,stream,state);if(type==")")return popContext(state);if(type=="(")return pushContext(state,stream,"parens");if(type=="interpolation")return pushContext(state,stream,"interpolation");if(type=="word")wordAsValue(stream);return"parens"};states.pseudo=function(type,stream,state){if(type=="word"){override="variable-3";return state.context.type}return pass(type,stream,state)};states.documentTypes=function(type,stream,state){if(type=="word"&&documentTypes.hasOwnProperty(stream.current())){override="tag";return state.context.type}else{return states.atBlock(type,stream,state)}};states.atBlock=function(type,stream,state){if(type=="(")return pushContext(state,stream,"atBlock_parens");if(type=="}"||type==";")return popAndPass(type,stream,state);if(type=="{")return popContext(state)&&pushContext(state,stream,allowNested?"block":"top");if(type=="interpolation")return pushContext(state,stream,"interpolation");if(type=="word"){var word=stream.current().toLowerCase();if(word=="only"||word=="not"||word=="and"||word=="or")override="keyword";else if(mediaTypes.hasOwnProperty(word))override="attribute";else if(mediaFeatures.hasOwnProperty(word))override="property";else if(mediaValueKeywords.hasOwnProperty(word))override="keyword";else if(propertyKeywords.hasOwnProperty(word))override="property";else if(nonStandardPropertyKeywords.hasOwnProperty(word))override="string-2";else if(valueKeywords.hasOwnProperty(word))override="atom";else if(colorKeywords.hasOwnProperty(word))override="keyword";else override="error"}return state.context.type};states.atComponentBlock=function(type,stream,state){if(type=="}")return popAndPass(type,stream,state);if(type=="{")return popContext(state)&&pushContext(state,stream,allowNested?"block":"top",false);if(type=="word")override="error";return state.context.type};states.atBlock_parens=function(type,stream,state){if(type==")")return popContext(state);if(type=="{"||type=="}")return popAndPass(type,stream,state,2);return states.atBlock(type,stream,state)};states.restricted_atBlock_before=function(type,stream,state){if(type=="{")return pushContext(state,stream,"restricted_atBlock");if(type=="word"&&state.stateArg=="@counter-style"){override="variable";return"restricted_atBlock_before"}return pass(type,stream,state)};states.restricted_atBlock=function(type,stream,state){if(type=="}"){state.stateArg=null;return popContext(state)}if(type=="word"){if(state.stateArg=="@font-face"&&!fontProperties.hasOwnProperty(stream.current().toLowerCase())||state.stateArg=="@counter-style"&&!counterDescriptors.hasOwnProperty(stream.current().toLowerCase()))override="error";else override="property";return"maybeprop"}return"restricted_atBlock"};states.keyframes=function(type,stream,state){if(type=="word"){override="variable";return"keyframes"}if(type=="{")return pushContext(state,stream,"top");return pass(type,stream,state)};states.at=function(type,stream,state){if(type==";")return popContext(state);if(type=="{"||type=="}")return popAndPass(type,stream,state);if(type=="word")override="tag";else if(type=="hash")override="builtin";return"at"};states.interpolation=function(type,stream,state){if(type=="}")return popContext(state);if(type=="{"||type==";")return popAndPass(type,stream,state);if(type=="word")override="variable";else if(type!="variable"&&type!="("&&type!=")")override="error";return"interpolation"};return{startState:function(base){return{tokenize:null,state:inline?"block":"top",stateArg:null,context:new Context(inline?"block":"top",base||0,null)}},token:function(stream,state){if(!state.tokenize&&stream.eatSpace())return null;var style=(state.tokenize||tokenBase)(stream,state);if(style&&typeof style=="object"){type=style[1];style=style[0]}override=style;state.state=states[state.state](type,stream,state);return override},indent:function(state,textAfter){var cx=state.context,ch=textAfter&&textAfter.charAt(0);var indent=cx.indent;if(cx.type=="prop"&&(ch=="}"||ch==")"))cx=cx.prev;if(cx.prev){if(ch=="}"&&(cx.type=="block"||cx.type=="top"||cx.type=="interpolation"||cx.type=="restricted_atBlock")){cx=cx.prev;indent=cx.indent}else if(ch==")"&&(cx.type=="parens"||cx.type=="atBlock_parens")||ch=="{"&&(cx.type=="at"||cx.type=="atBlock")){indent=Math.max(0,cx.indent-indentUnit);cx=cx.prev}}return indent},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});function keySet(array){var keys={};for(var i=0;i<array.length;++i){keys[array[i].toLowerCase()]=true}return keys}var documentTypes_=["domain","regexp","url","url-prefix"],documentTypes=keySet(documentTypes_);var mediaTypes_=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],mediaTypes=keySet(mediaTypes_);var mediaFeatures_=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],mediaFeatures=keySet(mediaFeatures_);var mediaValueKeywords_=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],mediaValueKeywords=keySet(mediaValueKeywords_);var propertyKeywords_=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],propertyKeywords=keySet(propertyKeywords_);var nonStandardPropertyKeywords_=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],nonStandardPropertyKeywords=keySet(nonStandardPropertyKeywords_);var fontProperties_=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],fontProperties=keySet(fontProperties_);var counterDescriptors_=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],counterDescriptors=keySet(counterDescriptors_);var colorKeywords_=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],colorKeywords=keySet(colorKeywords_)
;var valueKeywords_=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],valueKeywords=keySet(valueKeywords_);var allWords=documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_).concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_).concat(valueKeywords_);CodeMirror.registerHelper("hintWords","css",allWords);function tokenCComment(stream,state){var maybeEnd=false,ch;while((ch=stream.next())!=null){if(maybeEnd&&ch=="/"){state.tokenize=null;break}maybeEnd=ch=="*"}return["comment","comment"]}CodeMirror.defineMIME("text/css",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,tokenHooks:{"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=tokenCComment;return tokenCComment(stream,state)}},name:"css"});CodeMirror.defineMIME("text/x-scss",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:true,tokenHooks:{"/":function(stream,state){if(stream.eat("/")){stream.skipToEnd();return["comment","comment"]}else if(stream.eat("*")){state.tokenize=tokenCComment;return tokenCComment(stream,state)}else{return["operator","operator"]}},":":function(stream){if(stream.match(/\s*\{/))return[null,"{"];return false},$:function(stream){stream.match(/^[\w-]+/);if(stream.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"#":function(stream){if(!stream.eat("{"))return false;return[null,"interpolation"]}},name:"css",helperType:"scss"});CodeMirror.defineMIME("text/x-less",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:true,tokenHooks:{"/":function(stream,state){if(stream.eat("/")){stream.skipToEnd();return["comment","comment"]}else if(stream.eat("*")){state.tokenize=tokenCComment;return tokenCComment(stream,state)}else{return["operator","operator"]}},"@":function(stream){if(stream.eat("{"))return[null,"interpolation"];if(stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,false))return false;stream.eatWhile(/[\w\\\-]/);if(stream.match(/^\s*:/,false))return["variable-2","variable-definition"];return["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"});CodeMirror.defineMIME("text/x-gss",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,supportsAtComponent:true,tokenHooks:{"/":function(stream,state){if(!stream.eat("*"))return false;state.tokenize=tokenCComment;return tokenCComment(stream,state)}},name:"css",helperType:"gss"})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/mode/xml/xml",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var htmlConfig={autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,menuitem:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true};var xmlConfig={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,caseFold:false};CodeMirror.defineMode("xml",function(editorConf,config_){var indentUnit=editorConf.indentUnit;var config={};var defaults=config_.htmlMode?htmlConfig:xmlConfig;for(var prop in defaults)config[prop]=defaults[prop];for(var prop in config_)config[prop]=config_[prop];var type,setStyle;function inText(stream,state){function chain(parser){state.tokenize=parser;return parser(stream,state)}var ch=stream.next();if(ch=="<"){if(stream.eat("!")){if(stream.eat("[")){if(stream.match("CDATA["))return chain(inBlock("atom","]]>"));else return null}else if(stream.match("--")){return chain(inBlock("comment","--\x3e"))}else if(stream.match("DOCTYPE",true,true)){stream.eatWhile(/[\w\._\-]/);return chain(doctype(1))}else{return null}}else if(stream.eat("?")){stream.eatWhile(/[\w\._\-]/);state.tokenize=inBlock("meta","?>");return"meta"}else{type=stream.eat("/")?"closeTag":"openTag";state.tokenize=inTag;return"tag bracket"}}else if(ch=="&"){var ok;if(stream.eat("#")){if(stream.eat("x")){ok=stream.eatWhile(/[a-fA-F\d]/)&&stream.eat(";")}else{ok=stream.eatWhile(/[\d]/)&&stream.eat(";")}}else{ok=stream.eatWhile(/[\w\.\-:]/)&&stream.eat(";")}return ok?"atom":"error"}else{stream.eatWhile(/[^&<]/);return null}}inText.isInText=true;function inTag(stream,state){var ch=stream.next();if(ch==">"||ch=="/"&&stream.eat(">")){state.tokenize=inText;type=ch==">"?"endTag":"selfcloseTag";return"tag bracket"}else if(ch=="="){type="equals";return null}else if(ch=="<"){state.tokenize=inText;state.state=baseState;state.tagName=state.tagStart=null;var next=state.tokenize(stream,state);return next?next+" tag error":"tag error"}else if(/[\'\"]/.test(ch)){state.tokenize=inAttribute(ch);state.stringStartCol=stream.column();return state.tokenize(stream,state)}else{stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}function inAttribute(quote){var closure=function(stream,state){while(!stream.eol()){if(stream.next()==quote){state.tokenize=inTag;break}}return"string"};closure.isInAttribute=true;return closure}function inBlock(style,terminator){return function(stream,state){while(!stream.eol()){if(stream.match(terminator)){state.tokenize=inText;break}stream.next()}return style}}function doctype(depth){return function(stream,state){var ch;while((ch=stream.next())!=null){if(ch=="<"){state.tokenize=doctype(depth+1);return state.tokenize(stream,state)}else if(ch==">"){if(depth==1){state.tokenize=inText;break}else{state.tokenize=doctype(depth-1);return state.tokenize(stream,state)}}}return"meta"}}function Context(state,tagName,startOfLine){this.prev=state.context;this.tagName=tagName;this.indent=state.indented;this.startOfLine=startOfLine;if(config.doNotIndent.hasOwnProperty(tagName)||state.context&&state.context.noIndent)this.noIndent=true}function popContext(state){if(state.context)state.context=state.context.prev}function maybePopContext(state,nextTagName){var parentTagName;while(true){if(!state.context){return}parentTagName=state.context.tagName;if(!config.contextGrabbers.hasOwnProperty(parentTagName)||!config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)){return}popContext(state)}}function baseState(type,stream,state){if(type=="openTag"){state.tagStart=stream.column();return tagNameState}else if(type=="closeTag"){return closeTagNameState}else{return baseState}}function tagNameState(type,stream,state){if(type=="word"){state.tagName=stream.current();setStyle="tag";return attrState}else{setStyle="error";return tagNameState}}function closeTagNameState(type,stream,state){if(type=="word"){var tagName=stream.current();if(state.context&&state.context.tagName!=tagName&&config.implicitlyClosed.hasOwnProperty(state.context.tagName))popContext(state);if(state.context&&state.context.tagName==tagName||config.matchClosing===false){setStyle="tag";return closeState}else{setStyle="tag error";return closeStateErr}}else{setStyle="error";return closeStateErr}}function closeState(type,_stream,state){if(type!="endTag"){setStyle="error";return closeState}popContext(state);return baseState}function closeStateErr(type,stream,state){setStyle="error";return closeState(type,stream,state)}function attrState(type,_stream,state){if(type=="word"){setStyle="attribute";return attrEqState}else if(type=="endTag"||type=="selfcloseTag"){var tagName=state.tagName,tagStart=state.tagStart;state.tagName=state.tagStart=null;if(type=="selfcloseTag"||config.autoSelfClosers.hasOwnProperty(tagName)){maybePopContext(state,tagName)}else{maybePopContext(state,tagName);state.context=new Context(state,tagName,tagStart==state.indented)}return baseState}setStyle="error";return attrState}function attrEqState(type,stream,state){if(type=="equals")return attrValueState;if(!config.allowMissing)setStyle="error";return attrState(type,stream,state)}function attrValueState(type,stream,state){if(type=="string")return attrContinuedState;if(type=="word"&&config.allowUnquoted){setStyle="string";return attrState}setStyle="error";return attrState(type,stream,state)}function attrContinuedState(type,stream,state){if(type=="string")return attrContinuedState;return attrState(type,stream,state)}return{startState:function(baseIndent){var state={tokenize:inText,state:baseState,indented:baseIndent||0,tagName:null,tagStart:null,context:null};if(baseIndent!=null)state.baseIndent=baseIndent;return state},token:function(stream,state){if(!state.tagName&&stream.sol())state.indented=stream.indentation();if(stream.eatSpace())return null;type=null;var style=state.tokenize(stream,state);if((style||type)&&style!="comment"){setStyle=null;state.state=state.state(type||style,stream,state);if(setStyle)style=setStyle=="error"?style+" error":setStyle}return style},indent:function(state,textAfter,fullLine){var context=state.context;if(state.tokenize.isInAttribute){if(state.tagStart==state.indented)return state.stringStartCol+1;else return state.indented+indentUnit}if(context&&context.noIndent)return CodeMirror.Pass;if(state.tokenize!=inTag&&state.tokenize!=inText)return fullLine?fullLine.match(/^(\s*)/)[0].length:0;if(state.tagName){if(config.multilineTagIndentPastTag!==false)return state.tagStart+state.tagName.length+2;else return state.tagStart+indentUnit*(config.multilineTagIndentFactor||1)}if(config.alignCDATA&&/<!\[CDATA\[/.test(textAfter))return 0;var tagAfter=textAfter&&/^<(\/)?([\w_:\.-]*)/.exec(textAfter);if(tagAfter&&tagAfter[1]){while(context){if(context.tagName==tagAfter[2]){context=context.prev;break}else if(config.implicitlyClosed.hasOwnProperty(context.tagName)){context=context.prev}else{break}}}else if(tagAfter){while(context){var grabbers=config.contextGrabbers[context.tagName];if(grabbers&&grabbers.hasOwnProperty(tagAfter[2]))context=context.prev;else break}}while(context&&context.prev&&!context.startOfLine)context=context.prev;if(context)return context.indent+indentUnit;else return state.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:config.htmlMode?"html":"xml",helperType:config.htmlMode?"html":"xml",skipAttribute:function(state){if(state.state==attrValueState)state.state=attrState}}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html"))CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/mode/javascript/javascript",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";function expressionAllowed(stream,state,backUp){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(state.lastType)||state.lastType=="quasi"&&/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}CodeMirror.defineMode("javascript",function(config,parserConfig){var indentUnit=config.indentUnit;var statementIndent=parserConfig.statementIndent;var jsonldMode=parserConfig.jsonld;var jsonMode=parserConfig.json||jsonldMode;var isTS=parserConfig.typescript;var wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/;var keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c");var operator=kw("operator"),atom={type:"atom",style:"atom"};var jsKeywords={if:kw("if"),while:A,with:A,else:B,do:B,try:B,finally:B,return:C,break:C,continue:C,new:kw("new"),delete:C,throw:C,debugger:C,var:kw("var"),const:kw("var"),let:kw("var"),function:kw("function"),catch:kw("catch"),for:kw("for"),switch:kw("switch"),case:kw("case"),default:kw("default"),in:operator,typeof:operator,instanceof:operator,true:atom,false:atom,null:atom,undefined:atom,NaN:atom,Infinity:atom,this:kw("this"),class:kw("class"),super:kw("atom"),yield:C,export:kw("export"),import:kw("import"),extends:C,await:C,async:kw("async")};if(isTS){var type={type:"variable",style:"variable-3"};var tsKeywords={interface:kw("class"),implements:C,namespace:C,module:kw("module"),enum:kw("module"),type:kw("type"),public:kw("modifier"),private:kw("modifier"),protected:kw("modifier"),abstract:kw("modifier"),as:operator,string:type,number:type,boolean:type,any:type};for(var attr in tsKeywords){jsKeywords[attr]=tsKeywords[attr]}}return jsKeywords}();var isOperatorChar=/[+\-*&%=<>!?|~^]/;var isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function readRegexp(stream){var escaped=false,next,inSet=false;while((next=stream.next())!=null){if(!escaped){if(next=="/"&&!inSet)return;if(next=="[")inSet=true;else if(inSet&&next=="]")inSet=false}escaped=!escaped&&next=="\\"}}var type,content;function ret(tp,style,cont){type=tp;content=cont;return style}function tokenBase(stream,state){var ch=stream.next();if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if(ch=="."&&stream.match(/^\d+(?:[eE][+\-]?\d+)?/)){return ret("number","number")}else if(ch=="."&&stream.match("..")){return ret("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(ch)){return ret(ch)}else if(ch=="="&&stream.eat(">")){return ret("=>","operator")}else if(ch=="0"&&stream.eat(/x/i)){stream.eatWhile(/[\da-f]/i);return ret("number","number")}else if(ch=="0"&&stream.eat(/o/i)){stream.eatWhile(/[0-7]/i);return ret("number","number")}else if(ch=="0"&&stream.eat(/b/i)){stream.eatWhile(/[01]/i);return ret("number","number")}else if(/\d/.test(ch)){stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return ret("number","number")}else if(ch=="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}else if(stream.eat("/")){stream.skipToEnd();return ret("comment","comment")}else if(expressionAllowed(stream,state,1)){readRegexp(stream);stream.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return ret("regexp","string-2")}else{stream.eatWhile(isOperatorChar);return ret("operator","operator",stream.current())}}else if(ch=="`"){state.tokenize=tokenQuasi;return tokenQuasi(stream,state)}else if(ch=="#"){stream.skipToEnd();return ret("error","error")}else if(isOperatorChar.test(ch)){stream.eatWhile(isOperatorChar);return ret("operator","operator",stream.current())}else if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current(),known=keywords.propertyIsEnumerable(word)&&keywords[word];return known&&state.lastType!="."?ret(known.type,known.style,word):ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var escaped=false,next;if(jsonldMode&&stream.peek()=="@"&&stream.match(isJsonldKeyword)){state.tokenize=tokenBase;return ret("jsonld-keyword","meta")}while((next=stream.next())!=null){if(next==quote&&!escaped)break;escaped=!escaped&&next=="\\"}if(!escaped)state.tokenize=tokenBase;return ret("string","string")}}function tokenComment(stream,state){var maybeEnd=false,ch;while(ch=stream.next()){if(ch=="/"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return ret("comment","comment")}function tokenQuasi(stream,state){var escaped=false,next;while((next=stream.next())!=null){if(!escaped&&(next=="`"||next=="$"&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&next=="\\"}return ret("quasi","string-2",stream.current())}var brackets="([{}])";function findFatArrow(stream,state){if(state.fatArrowAt)state.fatArrowAt=null;var arrow=stream.string.indexOf("=>",stream.start);if(arrow<0)return;if(isTS){var m=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(stream.string.slice(stream.start,arrow));if(m)arrow=m.index}var depth=0,sawSomething=false;for(var pos=arrow-1;pos>=0;--pos){var ch=stream.string.charAt(pos);var bracket=brackets.indexOf(ch);if(bracket>=0&&bracket<3){if(!depth){++pos;break}if(--depth==0){if(ch=="(")sawSomething=true;break}}else if(bracket>=3&&bracket<6){++depth}else if(wordRE.test(ch)){sawSomething=true}else if(/["'\/]/.test(ch)){return}else if(sawSomething&&!depth){++pos;break}}if(sawSomething&&!depth)state.fatArrowAt=pos}var atomicTypes={atom:true,number:true,variable:true,string:true,regexp:true,this:true,"jsonld-keyword":true};function JSLexical(indented,column,type,align,prev,info){this.indented=indented;this.column=column;this.type=type;this.prev=prev;this.info=info;if(align!=null)this.align=align}function inScope(state,varname){for(var v=state.localVars;v;v=v.next)if(v.name==varname)return true;for(var cx=state.context;cx;cx=cx.prev){for(var v=cx.vars;v;v=v.next)if(v.name==varname)return true}}function parseJS(state,style,type,content,stream){var cc=state.cc;cx.state=state;cx.stream=stream;cx.marked=null,cx.cc=cc;cx.style=style;if(!state.lexical.hasOwnProperty("align"))state.lexical.align=true;while(true){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){while(cc.length&&cc[cc.length-1].lex)cc.pop()();if(cx.marked)return cx.marked;if(type=="variable"&&inScope(state,content))return"variable-2";return style}}}var cx={state:null,column:null,marked:null,cc:null};function pass(){for(var i=arguments.length-1;i>=0;i--)cx.cc.push(arguments[i])}function cont(){pass.apply(null,arguments);return true}function register(varname){function inList(list){for(var v=list;v;v=v.next)if(v.name==varname)return true;return false}var state=cx.state;cx.marked="def";if(state.context){if(inList(state.localVars))return;state.localVars={name:varname,next:state.localVars}}else{if(inList(state.globalVars))return;if(parserConfig.globalVars)state.globalVars={name:varname,next:state.globalVars}}}var defaultVars={name:"this",next:{name:"arguments"}};function pushcontext(){cx.state.context={prev:cx.state.context,vars:cx.state.localVars};cx.state.localVars=defaultVars}function popcontext(){cx.state.localVars=cx.state.context.vars;cx.state.context=cx.state.context.prev}function pushlex(type,info){var result=function(){var state=cx.state,indent=state.indented;if(state.lexical.type=="stat")indent=state.lexical.indented;else for(var outer=state.lexical;outer&&outer.type==")"&&outer.align;outer=outer.prev)indent=outer.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info)};result.lex=true;return result}function poplex(){var state=cx.state;if(state.lexical.prev){if(state.lexical.type==")")state.indented=state.lexical.indented;state.lexical=state.lexical.prev}}poplex.lex=true;function expect(wanted){function exp(type){if(type==wanted)return cont();else if(wanted==";")return pass();else return cont(exp)}return exp}function statement(type,value){if(type=="var")return cont(pushlex("vardef",value.length),vardef,expect(";"),poplex);if(type=="keyword a")return cont(pushlex("form"),parenExpr,statement,poplex);if(type=="keyword b")return cont(pushlex("form"),statement,poplex);if(type=="{")return cont(pushlex("}"),block,poplex);if(type==";")return cont();if(type=="if"){if(cx.state.lexical.info=="else"&&cx.state.cc[cx.state.cc.length-1]==poplex)cx.state.cc.pop()();return cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)}if(type=="function")return cont(functiondef);if(type=="for")return cont(pushlex("form"),forspec,statement,poplex);if(type=="variable")return cont(pushlex("stat"),maybelabel);if(type=="switch")return cont(pushlex("form"),parenExpr,pushlex("}","switch"),expect("{"),block,poplex,poplex);if(type=="case")return cont(expression,expect(":"));if(type=="default")return cont(expect(":"));if(type=="catch")return cont(pushlex("form"),pushcontext,expect("("),funarg,expect(")"),statement,poplex,popcontext);if(type=="class")return cont(pushlex("form"),className,poplex);if(type=="export")return cont(pushlex("stat"),afterExport,poplex);if(type=="import")return cont(pushlex("stat"),afterImport,poplex);if(type=="module")return cont(pushlex("form"),pattern,pushlex("}"),expect("{"),block,poplex,poplex);if(type=="type")return cont(typeexpr,expect("operator"),typeexpr,expect(";"));if(type=="async")return cont(statement);return pass(pushlex("stat"),expression,expect(";"),poplex)}function expression(type){return expressionInner(type,false)}function expressionNoComma(type){return expressionInner(type,true)}function parenExpr(type){if(type!="(")return pass();return cont(pushlex(")"),expression,expect(")"),poplex)}function expressionInner(type,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if(type=="(")return cont(pushcontext,pushlex(")"),commasep(pattern,")"),poplex,expect("=>"),body,popcontext);else if(type=="variable")return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;if(atomicTypes.hasOwnProperty(type))return cont(maybeop);if(type=="function")return cont(functiondef,maybeop);if(type=="class")return cont(pushlex("form"),classExpression,poplex);if(type=="keyword c"||type=="async")return cont(noComma?maybeexpressionNoComma:maybeexpression);if(type=="(")return cont(pushlex(")"),maybeexpression,expect(")"),poplex,maybeop);if(type=="operator"||type=="spread")return cont(noComma?expressionNoComma:expression);if(type=="[")return cont(pushlex("]"),arrayLiteral,poplex,maybeop);if(type=="{")return contCommasep(objprop,"}",null,maybeop);if(type=="quasi")return pass(quasi,maybeop);if(type=="new")return cont(maybeTarget(noComma));return cont()}function maybeexpression(type){if(type.match(/[;\}\)\],]/))return pass();return pass(expression)}function maybeexpressionNoComma(type){if(type.match(/[;\}\)\],]/))return pass();return pass(expressionNoComma)}function maybeoperatorComma(type,value){if(type==",")return cont(expression);return maybeoperatorNoComma(type,value,false)}function maybeoperatorNoComma(type,value,noComma){var me=noComma==false?maybeoperatorComma:maybeoperatorNoComma;var expr=noComma==false?expression:expressionNoComma;if(type=="=>")return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);if(type=="operator"){if(/\+\+|--/.test(value))return cont(me);if(value=="?")return cont(expression,expect(":"),expr);return cont(expr)}if(type=="quasi"){return pass(quasi,me)}if(type==";")return;if(type=="(")return contCommasep(expressionNoComma,")","call",me);if(type==".")return cont(property,me);if(type=="[")return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me)}function quasi(type,value){if(type!="quasi")return pass();if(value.slice(value.length-2)!="${")return cont(quasi);return cont(expression,continueQuasi)}function continueQuasi(type){if(type=="}"){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasi)}}function arrowBody(type){findFatArrow(cx.stream,cx.state);return pass(type=="{"?statement:expression)}function arrowBodyNoComma(type){findFatArrow(cx.stream,cx.state);return pass(type=="{"?statement:expressionNoComma)}function maybeTarget(noComma){return function(type){if(type==".")return cont(noComma?targetNoComma:target);else return pass(noComma?expressionNoComma:expression)}}function target(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorComma)}}function targetNoComma(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorNoComma)}}function maybelabel(type){if(type==":")return cont(poplex,statement);return pass(maybeoperatorComma,expect(";"),poplex)}function property(type){if(type=="variable"){cx.marked="property";return cont()}}function objprop(type,value){if(type=="async"){cx.marked="property";return cont(objprop)}else if(type=="variable"||cx.style=="keyword"){cx.marked="property";if(value=="get"||value=="set")return cont(getterSetter);return cont(afterprop)}else if(type=="number"||type=="string"){cx.marked=jsonldMode?"property":cx.style+" property";return cont(afterprop)}else if(type=="jsonld-keyword"){return cont(afterprop)}else if(type=="modifier"){return cont(objprop)}else if(type=="["){
return cont(expression,expect("]"),afterprop)}else if(type=="spread"){return cont(expression)}else if(type==":"){return pass(afterprop)}}function getterSetter(type){if(type!="variable")return pass(afterprop);cx.marked="property";return cont(functiondef)}function afterprop(type){if(type==":")return cont(expressionNoComma);if(type=="(")return pass(functiondef)}function commasep(what,end){function proceed(type,value){if(type==","){var lex=cx.state.lexical;if(lex.info=="call")lex.pos=(lex.pos||0)+1;return cont(function(type,value){if(type==end||value==end)return pass();return pass(what)},proceed)}if(type==end||value==end)return cont();return cont(expect(end))}return function(type,value){if(type==end||value==end)return cont();return pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){if(type=="}")return cont();return pass(statement,block)}function maybetype(type,value){if(isTS){if(type==":")return cont(typeexpr);if(value=="?")return cont(maybetype)}}function typeexpr(type){if(type=="variable"){cx.marked="variable-3";return cont(afterType)}if(type=="{")return cont(commasep(typeprop,"}"));if(type=="(")return cont(commasep(typearg,")"),maybeReturnType)}function maybeReturnType(type){if(type=="=>")return cont(typeexpr)}function typeprop(type){if(type=="variable"||cx.style=="keyword"){cx.marked="property";return cont(typeprop)}else if(type==":"){return cont(typeexpr)}}function typearg(type){if(type=="variable")return cont(typearg);else if(type==":")return cont(typeexpr)}function afterType(type,value){if(value=="<")return cont(commasep(typeexpr,">"),afterType);if(type=="[")return cont(expect("]"),afterType)}function vardef(){return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){if(type=="modifier")return cont(pattern);if(type=="variable"){register(value);return cont()}if(type=="spread")return cont(pattern);if(type=="[")return contCommasep(pattern,"]");if(type=="{")return contCommasep(proppattern,"}")}function proppattern(type,value){if(type=="variable"&&!cx.stream.match(/^\s*:/,false)){register(value);return cont(maybeAssign)}if(type=="variable")cx.marked="property";if(type=="spread")return cont(pattern);if(type=="}")return pass();return cont(expect(":"),pattern,maybeAssign)}function maybeAssign(_type,value){if(value=="=")return cont(expressionNoComma)}function vardefCont(type){if(type==",")return cont(vardef)}function maybeelse(type,value){if(type=="keyword b"&&value=="else")return cont(pushlex("form","else"),statement,poplex)}function forspec(type){if(type=="(")return cont(pushlex(")"),forspec1,expect(")"),poplex)}function forspec1(type){if(type=="var")return cont(vardef,expect(";"),forspec2);if(type==";")return cont(forspec2);if(type=="variable")return cont(formaybeinof);return pass(expression,expect(";"),forspec2)}function formaybeinof(_type,value){if(value=="in"||value=="of"){cx.marked="keyword";return cont(expression)}return cont(maybeoperatorComma,forspec2)}function forspec2(type,value){if(type==";")return cont(forspec3);if(value=="in"||value=="of"){cx.marked="keyword";return cont(expression)}return pass(expression,expect(";"),forspec3)}function forspec3(type){if(type!=")")cont(expression)}function functiondef(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondef)}if(type=="variable"){register(value);return cont(functiondef)}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,maybetype,statement,popcontext)}function funarg(type){if(type=="spread")return cont(funarg);return pass(pattern,maybetype,maybeAssign)}function classExpression(type,value){if(type=="variable")return className(type,value);return classNameAfter(type,value)}function className(type,value){if(type=="variable"){register(value);return cont(classNameAfter)}}function classNameAfter(type,value){if(value=="extends"||value=="implements")return cont(isTS?typeexpr:expression,classNameAfter);if(type=="{")return cont(pushlex("}"),classBody,poplex)}function classBody(type,value){if(type=="variable"||cx.style=="keyword"){if((value=="static"||value=="get"||value=="set"||isTS&&(value=="public"||value=="private"||value=="protected"||value=="readonly"||value=="abstract"))&&cx.stream.match(/^\s+[\w$\xa1-\uffff]/,false)){cx.marked="keyword";return cont(classBody)}cx.marked="property";return cont(isTS?classfield:functiondef,classBody)}if(value=="*"){cx.marked="keyword";return cont(classBody)}if(type==";")return cont(classBody);if(type=="}")return cont()}function classfield(type,value){if(value=="?")return cont(classfield);if(type==":")return cont(typeexpr,maybeAssign);return pass(functiondef)}function afterExport(_type,value){if(value=="*"){cx.marked="keyword";return cont(maybeFrom,expect(";"))}if(value=="default"){cx.marked="keyword";return cont(expression,expect(";"))}return pass(statement)}function afterImport(type){if(type=="string")return cont();return pass(importSpec,maybeFrom)}function importSpec(type,value){if(type=="{")return contCommasep(importSpec,"}");if(type=="variable")register(value);if(value=="*")cx.marked="keyword";return cont(maybeAs)}function maybeAs(_type,value){if(value=="as"){cx.marked="keyword";return cont(importSpec)}}function maybeFrom(_type,value){if(value=="from"){cx.marked="keyword";return cont(expression)}}function arrayLiteral(type){if(type=="]")return cont();return pass(commasep(expressionNoComma,"]"))}function isContinuedStatement(state,textAfter){return state.lastType=="operator"||state.lastType==","||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}return{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",false),localVars:parserConfig.localVars,context:parserConfig.localVars&&{vars:parserConfig.localVars},indented:basecolumn||0};if(parserConfig.globalVars&&typeof parserConfig.globalVars=="object")state.globalVars=parserConfig.globalVars;return state},token:function(stream,state){if(stream.sol()){if(!state.lexical.hasOwnProperty("align"))state.lexical.align=false;state.indented=stream.indentation();findFatArrow(stream,state)}if(state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if(type=="comment")return style;state.lastType=type=="operator"&&(content=="++"||content=="--")?"incdec":type;return parseJS(state,style,type,content,stream)},indent:function(state,textAfter){if(state.tokenize==tokenComment)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical,top;if(!/^\s*else\b/.test(textAfter))for(var i=state.cc.length-1;i>=0;--i){var c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse)break}while((lexical.type=="stat"||lexical.type=="form")&&(firstChar=="}"||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(textAfter)))lexical=lexical.prev;if(statementIndent&&lexical.type==")"&&lexical.prev.type=="stat")lexical=lexical.prev;var type=lexical.type,closing=firstChar==type;if(type=="vardef")return lexical.indented+(state.lastType=="operator"||state.lastType==","?lexical.info+1:0);else if(type=="form"&&firstChar=="{")return lexical.indented;else if(type=="form")return lexical.indented+indentUnit;else if(type=="stat")return lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0);else if(lexical.info=="switch"&&!closing&&parserConfig.doubleIndentSwitch!=false)return lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit);else if(lexical.align)return lexical.column+(closing?0:1);else return lexical.indented+(closing?0:indentUnit)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function(state){var top=state.cc[state.cc.length-1];if(top==expression||top==expressionNoComma)state.cc.pop()}}});CodeMirror.registerHelper("wordChars","javascript",/[\w$]/);CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/x-javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:true});CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:true});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/mode/htmlmixed/htmlmixed",["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";var defaultTags={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function maybeBackup(stream,pat,style){var cur=stream.current(),close=cur.search(pat);if(close>-1){stream.backUp(cur.length-close)}else if(cur.match(/<\/?$/)){stream.backUp(cur.length);if(!stream.match(pat,false))stream.match(cur)}return style}var attrRegexpCache={};function getAttrRegexp(attr){var regexp=attrRegexpCache[attr];if(regexp)return regexp;return attrRegexpCache[attr]=new RegExp("\\s+"+attr+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function getAttrValue(text,attr){var match=text.match(getAttrRegexp(attr));return match?/^\s*(.*?)\s*$/.exec(match[2])[1]:""}function getTagRegexp(tagName,anchored){return new RegExp((anchored?"^":"")+"</s*"+tagName+"s*>","i")}function addTags(from,to){for(var tag in from){var dest=to[tag]||(to[tag]=[]);var source=from[tag];for(var i=source.length-1;i>=0;i--)dest.unshift(source[i])}}function findMatchingMode(tagInfo,tagText){for(var i=0;i<tagInfo.length;i++){var spec=tagInfo[i];if(!spec[0]||spec[1].test(getAttrValue(tagText,spec[0])))return spec[2]}}CodeMirror.defineMode("htmlmixed",function(config,parserConfig){var htmlMode=CodeMirror.getMode(config,{name:"xml",htmlMode:true,multilineTagIndentFactor:parserConfig.multilineTagIndentFactor,multilineTagIndentPastTag:parserConfig.multilineTagIndentPastTag});var tags={};var configTags=parserConfig&&parserConfig.tags,configScript=parserConfig&&parserConfig.scriptTypes;addTags(defaultTags,tags);if(configTags)addTags(configTags,tags);if(configScript)for(var i=configScript.length-1;i>=0;i--)tags.script.unshift(["type",configScript[i].matches,configScript[i].mode]);function html(stream,state){var style=htmlMode.token(stream,state.htmlState),tag=/\btag\b/.test(style),tagName;if(tag&&!/[<>\s\/]/.test(stream.current())&&(tagName=state.htmlState.tagName&&state.htmlState.tagName.toLowerCase())&&tags.hasOwnProperty(tagName)){state.inTag=tagName+" "}else if(state.inTag&&tag&&/>$/.test(stream.current())){var inTag=/^([\S]+) (.*)/.exec(state.inTag);state.inTag=null;var modeSpec=stream.current()==">"&&findMatchingMode(tags[inTag[1]],inTag[2]);var mode=CodeMirror.getMode(config,modeSpec);var endTagA=getTagRegexp(inTag[1],true),endTag=getTagRegexp(inTag[1],false);state.token=function(stream,state){if(stream.match(endTagA,false)){state.token=html;state.localState=state.localMode=null;return null}return maybeBackup(stream,endTag,state.localMode.token(stream,state.localState))};state.localMode=mode;state.localState=CodeMirror.startState(mode,htmlMode.indent(state.htmlState,""))}else if(state.inTag){state.inTag+=stream.current();if(stream.eol())state.inTag+=" "}return style}return{startState:function(){var state=CodeMirror.startState(htmlMode);return{token:html,inTag:null,localMode:null,localState:null,htmlState:state}},copyState:function(state){var local;if(state.localState){local=CodeMirror.copyState(state.localMode,state.localState)}return{token:state.token,inTag:state.inTag,localMode:state.localMode,localState:local,htmlState:CodeMirror.copyState(htmlMode,state.htmlState)}},token:function(stream,state){return state.token(stream,state)},indent:function(state,textAfter){if(!state.localMode||/^\s*<\//.test(textAfter))return htmlMode.indent(state.htmlState,textAfter);else if(state.localMode.indent)return state.localMode.indent(state.localState,textAfter);else return CodeMirror.Pass},innerMode:function(state){return{state:state.localState||state.htmlState,mode:state.localMode||htmlMode}}}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/mode/python/python",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";function wordRegexp(words){return new RegExp("^(("+words.join(")|(")+"))\\b")}var wordOperators=wordRegexp(["and","or","not","is"]);var commonKeywords=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"];var commonBuiltins=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];CodeMirror.registerHelper("hintWords","python",commonKeywords.concat(commonBuiltins));function top(state){return state.scopes[state.scopes.length-1]}CodeMirror.defineMode("python",function(conf,parserConf){var ERRORCLASS="error";var singleDelimiters=parserConf.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.]/;var doubleOperators=parserConf.doubleOperators||/^([!<>]==|<>|<<|>>|\/\/|\*\*)/;var doubleDelimiters=parserConf.doubleDelimiters||/^(\+=|\-=|\*=|%=|\/=|&=|\|=|\^=)/;var tripleDelimiters=parserConf.tripleDelimiters||/^(\/\/=|>>=|<<=|\*\*=)/;var hangingIndent=parserConf.hangingIndent||conf.indentUnit;var myKeywords=commonKeywords,myBuiltins=commonBuiltins;if(parserConf.extra_keywords!=undefined)myKeywords=myKeywords.concat(parserConf.extra_keywords);if(parserConf.extra_builtins!=undefined)myBuiltins=myBuiltins.concat(parserConf.extra_builtins);var py3=!(parserConf.version&&Number(parserConf.version)<3);if(py3){var singleOperators=parserConf.singleOperators||/^[\+\-\*\/%&|\^~<>!@]/;var identifiers=parserConf.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;myKeywords=myKeywords.concat(["nonlocal","False","True","None","async","await"]);myBuiltins=myBuiltins.concat(["ascii","bytes","exec","print"]);var stringPrefixes=new RegExp("^(([rbuf]|(br))?('{3}|\"{3}|['\"]))","i")}else{var singleOperators=parserConf.singleOperators||/^[\+\-\*\/%&|\^~<>!]/;var identifiers=parserConf.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;myKeywords=myKeywords.concat(["exec","print"]);myBuiltins=myBuiltins.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var stringPrefixes=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var keywords=wordRegexp(myKeywords);var builtins=wordRegexp(myBuiltins);function tokenBase(stream,state){if(stream.sol())state.indent=stream.indentation();if(stream.sol()&&top(state).type=="py"){var scopeOffset=top(state).offset;if(stream.eatSpace()){var lineOffset=stream.indentation();if(lineOffset>scopeOffset)pushPyScope(state);else if(lineOffset<scopeOffset&&dedent(stream,state)&&stream.peek()!="#")state.errorToken=true;return null}else{var style=tokenBaseInner(stream,state);if(scopeOffset>0&&dedent(stream,state))style+=" "+ERRORCLASS;return style}}return tokenBaseInner(stream,state)}function tokenBaseInner(stream,state){if(stream.eatSpace())return null;var ch=stream.peek();if(ch=="#"){stream.skipToEnd();return"comment"}if(stream.match(/^[0-9\.]/,false)){var floatLiteral=false;if(stream.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)){floatLiteral=true}if(stream.match(/^\d+\.\d*/)){floatLiteral=true}if(stream.match(/^\.\d+/)){floatLiteral=true}if(floatLiteral){stream.eat(/J/i);return"number"}var intLiteral=false;if(stream.match(/^0x[0-9a-f]+/i))intLiteral=true;if(stream.match(/^0b[01]+/i))intLiteral=true;if(stream.match(/^0o[0-7]+/i))intLiteral=true;if(stream.match(/^[1-9]\d*(e[\+\-]?\d+)?/)){stream.eat(/J/i);intLiteral=true}if(stream.match(/^0(?![\dx])/i))intLiteral=true;if(intLiteral){stream.eat(/L/i);return"number"}}if(stream.match(stringPrefixes)){state.tokenize=tokenStringFactory(stream.current());return state.tokenize(stream,state)}if(stream.match(tripleDelimiters)||stream.match(doubleDelimiters))return"punctuation";if(stream.match(doubleOperators)||stream.match(singleOperators))return"operator";if(stream.match(singleDelimiters))return"punctuation";if(state.lastToken=="."&&stream.match(identifiers))return"property";if(stream.match(keywords)||stream.match(wordOperators))return"keyword";if(stream.match(builtins))return"builtin";if(stream.match(/^(self|cls)\b/))return"variable-2";if(stream.match(identifiers)){if(state.lastToken=="def"||state.lastToken=="class")return"def";return"variable"}stream.next();return ERRORCLASS}function tokenStringFactory(delimiter){while("rubf".indexOf(delimiter.charAt(0).toLowerCase())>=0)delimiter=delimiter.substr(1);var singleline=delimiter.length==1;var OUTCLASS="string";function tokenString(stream,state){while(!stream.eol()){stream.eatWhile(/[^'"\\]/);if(stream.eat("\\")){stream.next();if(singleline&&stream.eol())return OUTCLASS}else if(stream.match(delimiter)){state.tokenize=tokenBase;return OUTCLASS}else{stream.eat(/['"]/)}}if(singleline){if(parserConf.singleLineStringErrors)return ERRORCLASS;else state.tokenize=tokenBase}return OUTCLASS}tokenString.isString=true;return tokenString}function pushPyScope(state){while(top(state).type!="py")state.scopes.pop();state.scopes.push({offset:top(state).offset+conf.indentUnit,type:"py",align:null})}function pushBracketScope(stream,state,type){var align=stream.match(/^([\s\[\{\(]|#.*)*$/,false)?null:stream.column()+1;state.scopes.push({offset:state.indent+hangingIndent,type:type,align:align})}function dedent(stream,state){var indented=stream.indentation();while(state.scopes.length>1&&top(state).offset>indented){if(top(state).type!="py")return true;state.scopes.pop()}return top(state).offset!=indented}function tokenLexer(stream,state){if(stream.sol())state.beginningOfLine=true;var style=state.tokenize(stream,state);var current=stream.current();if(state.beginningOfLine&&current=="@")return stream.match(identifiers,false)?"meta":py3?"operator":ERRORCLASS;if(/\S/.test(current))state.beginningOfLine=false;if((style=="variable"||style=="builtin")&&state.lastToken=="meta")style="meta";if(current=="pass"||current=="return")state.dedent+=1;if(current=="lambda")state.lambda=true;if(current==":"&&!state.lambda&&top(state).type=="py")pushPyScope(state);var delimiter_index=current.length==1?"[({".indexOf(current):-1;if(delimiter_index!=-1)pushBracketScope(stream,state,"])}".slice(delimiter_index,delimiter_index+1));delimiter_index="])}".indexOf(current);if(delimiter_index!=-1){if(top(state).type==current)state.indent=state.scopes.pop().offset-hangingIndent;else return ERRORCLASS}if(state.dedent>0&&stream.eol()&&top(state).type=="py"){if(state.scopes.length>1)state.scopes.pop();state.dedent-=1}return style}var external={startState:function(basecolumn){return{tokenize:tokenBase,scopes:[{offset:basecolumn||0,type:"py",align:null}],indent:basecolumn||0,lastToken:null,lambda:false,dedent:0}},token:function(stream,state){var addErr=state.errorToken;if(addErr)state.errorToken=false;var style=tokenLexer(stream,state);if(style&&style!="comment")state.lastToken=style=="keyword"||style=="punctuation"?stream.current():style;if(style=="punctuation")style=null;if(stream.eol()&&state.lambda)state.lambda=false;return addErr?style+" "+ERRORCLASS:style},indent:function(state,textAfter){if(state.tokenize!=tokenBase)return state.tokenize.isString?CodeMirror.Pass:0;var scope=top(state),closing=scope.type==textAfter.charAt(0);if(scope.align!=null)return scope.align-(closing?1:0);else return scope.offset-(closing?hangingIndent:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return external});CodeMirror.defineMIME("text/x-python","python");var words=function(str){return str.split(" ")};CodeMirror.defineMIME("text/x-cython",{name:"python",extra_keywords:words("by cdef cimport cpdef ctypedef enum except"+"extern gil include nogil property public"+"readonly struct union DEF IF ELIF ELSE")})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/mode/jsx/jsx",["../../lib/codemirror","../xml/xml","../javascript/javascript"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";function Context(state,mode,depth,prev){this.state=state;this.mode=mode;this.depth=depth;this.prev=prev}function copyContext(context){return new Context(CodeMirror.copyState(context.mode,context.state),context.mode,context.depth,context.prev&&copyContext(context.prev))}CodeMirror.defineMode("jsx",function(config,modeConfig){var xmlMode=CodeMirror.getMode(config,{name:"xml",allowMissing:true,multilineTagIndentPastTag:false});var jsMode=CodeMirror.getMode(config,modeConfig&&modeConfig.base||"javascript");function flatXMLIndent(state){var tagName=state.tagName;state.tagName=null;var result=xmlMode.indent(state,"");state.tagName=tagName;return result}function token(stream,state){if(state.context.mode==xmlMode)return xmlToken(stream,state,state.context);else return jsToken(stream,state,state.context)}function xmlToken(stream,state,cx){if(cx.depth==2){if(stream.match(/^.*?\*\//))cx.depth=1;else stream.skipToEnd();return"comment"}if(stream.peek()=="{"){xmlMode.skipAttribute(cx.state);var indent=flatXMLIndent(cx.state),xmlContext=cx.state.context;if(xmlContext&&stream.match(/^[^>]*>\s*$/,false)){while(xmlContext.prev&&!xmlContext.startOfLine)xmlContext=xmlContext.prev;if(xmlContext.startOfLine)indent-=config.indentUnit;else if(cx.prev.state.lexical)indent=cx.prev.state.lexical.indented}else if(cx.depth==1){indent+=config.indentUnit}state.context=new Context(CodeMirror.startState(jsMode,indent),jsMode,0,state.context);return null}if(cx.depth==1){if(stream.peek()=="<"){xmlMode.skipAttribute(cx.state);state.context=new Context(CodeMirror.startState(xmlMode,flatXMLIndent(cx.state)),xmlMode,0,state.context);return null}else if(stream.match("//")){stream.skipToEnd();return"comment"}else if(stream.match("/*")){cx.depth=2;return token(stream,state)}}var style=xmlMode.token(stream,cx.state),cur=stream.current(),stop;if(/\btag\b/.test(style)){if(/>$/.test(cur)){if(cx.state.context)cx.depth=0;else state.context=state.context.prev}else if(/^</.test(cur)){cx.depth=1}}else if(!style&&(stop=cur.indexOf("{"))>-1){stream.backUp(cur.length-stop)}return style}function jsToken(stream,state,cx){if(stream.peek()=="<"&&jsMode.expressionAllowed(stream,cx.state)){jsMode.skipExpression(cx.state);state.context=new Context(CodeMirror.startState(xmlMode,jsMode.indent(cx.state,"")),xmlMode,0,state.context);return null}var style=jsMode.token(stream,cx.state);if(!style&&cx.depth!=null){var cur=stream.current();if(cur=="{"){cx.depth++}else if(cur=="}"){if(--cx.depth==0)state.context=state.context.prev}}return style}return{startState:function(){return{context:new Context(CodeMirror.startState(jsMode),jsMode)}},copyState:function(state){return{context:copyContext(state.context)}},token:token,indent:function(state,textAfter,fullLine){return state.context.mode.indent(state.context.state,textAfter,fullLine)},innerMode:function(state){return state.context}}},"xml","javascript");CodeMirror.defineMIME("text/jsx","jsx");CodeMirror.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:true}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../xml/xml"),require("../meta"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/mode/markdown/markdown",["../../lib/codemirror","../xml/xml","../meta"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineMode("markdown",function(cmCfg,modeCfg){var htmlMode=CodeMirror.getMode(cmCfg,"text/html");var htmlModeMissing=htmlMode.name=="null";function getMode(name){if(CodeMirror.findModeByName){var found=CodeMirror.findModeByName(name);if(found)name=found.mime||found.mimes[0]}var mode=CodeMirror.getMode(cmCfg,name);return mode.name=="null"?null:mode}if(modeCfg.highlightFormatting===undefined)modeCfg.highlightFormatting=false;if(modeCfg.maxBlockquoteDepth===undefined)modeCfg.maxBlockquoteDepth=0;if(modeCfg.underscoresBreakWords===undefined)modeCfg.underscoresBreakWords=true;if(modeCfg.taskLists===undefined)modeCfg.taskLists=false;if(modeCfg.strikethrough===undefined)modeCfg.strikethrough=false;if(modeCfg.tokenTypeOverrides===undefined)modeCfg.tokenTypeOverrides={};var tokenTypes={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var tokenType in tokenTypes){if(tokenTypes.hasOwnProperty(tokenType)&&modeCfg.tokenTypeOverrides[tokenType]){tokenTypes[tokenType]=modeCfg.tokenTypeOverrides[tokenType]}}var hrRE=/^([*\-_])(?:\s*\1){2,}\s*$/,listRE=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,taskListRE=/^\[(x| )\](?=\s)/,atxHeaderRE=modeCfg.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,setextHeaderRE=/^ *(?:\={1,}|-{1,})\s*$/,textRE=/^[^#!\[\]*_\\<>` "'(~]+/,fencedCodeRE=new RegExp("^("+(modeCfg.fencedCodeBlocks===true?"~~~+|```+":modeCfg.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)");function switchInline(stream,state,f){state.f=state.inline=f;return f(stream,state)}function switchBlock(stream,state,f){state.f=state.block=f;return f(stream,state)}function lineIsEmpty(line){return!line||!/\S/.test(line.string)}function blankLine(state){state.linkTitle=false;state.em=false;state.strong=false;state.strikethrough=false;state.quote=0;state.indentedCode=false;if(htmlModeMissing&&state.f==htmlBlock){state.f=inlineNormal;state.block=blockNormal}state.trailingSpace=0;state.trailingSpaceNewLine=false;state.prevLine=state.thisLine;state.thisLine=null;return null}function blockNormal(stream,state){var sol=stream.sol();var prevLineIsList=state.list!==false,prevLineIsIndentedCode=state.indentedCode;state.indentedCode=false;if(prevLineIsList){if(state.indentationDiff>=0){if(state.indentationDiff<4){state.indentation-=state.indentationDiff}state.list=null}else if(state.indentation>0){state.list=null}else{state.list=false}}var match=null;if(state.indentationDiff>=4){stream.skipToEnd();if(prevLineIsIndentedCode||lineIsEmpty(state.prevLine)){state.indentation-=4;state.indentedCode=true;return tokenTypes.code}else{return null}}else if(stream.eatSpace()){return null}else if((match=stream.match(atxHeaderRE))&&match[1].length<=6){state.header=match[1].length;if(modeCfg.highlightFormatting)state.formatting="header";state.f=state.inline;return getType(state)}else if(!lineIsEmpty(state.prevLine)&&!state.quote&&!prevLineIsList&&!prevLineIsIndentedCode&&(match=stream.match(setextHeaderRE))){state.header=match[0].charAt(0)=="="?1:2;if(modeCfg.highlightFormatting)state.formatting="header";state.f=state.inline;return getType(state)}else if(stream.eat(">")){state.quote=sol?1:state.quote+1;if(modeCfg.highlightFormatting)state.formatting="quote";stream.eatSpace();return getType(state)}else if(stream.peek()==="["){return switchInline(stream,state,footnoteLink)}else if(stream.match(hrRE,true)){state.hr=true;return tokenTypes.hr}else if(match=stream.match(listRE)){var listType=match[1]?"ol":"ul";state.indentation=stream.column()+stream.current().length;state.list=true;while(state.listStack&&stream.column()<state.listStack[state.listStack.length-1]){state.listStack.pop()}state.listStack.push(state.indentation);if(modeCfg.taskLists&&stream.match(taskListRE,false)){state.taskList=true}state.f=state.inline;if(modeCfg.highlightFormatting)state.formatting=["list","list-"+listType];return getType(state)}else if(modeCfg.fencedCodeBlocks&&(match=stream.match(fencedCodeRE,true))){state.fencedChars=match[1];state.localMode=getMode(match[2]);if(state.localMode)state.localState=CodeMirror.startState(state.localMode);state.f=state.block=local;if(modeCfg.highlightFormatting)state.formatting="code-block";state.code=-1;return getType(state)}return switchInline(stream,state,state.inline)}function htmlBlock(stream,state){var style=htmlMode.token(stream,state.htmlState);if(!htmlModeMissing){var inner=CodeMirror.innerMode(htmlMode,state.htmlState);if(inner.mode.name=="xml"&&inner.state.tagStart===null&&(!inner.state.context&&inner.state.tokenize.isInText)||state.md_inside&&stream.current().indexOf(">")>-1){state.f=inlineNormal;state.block=blockNormal;state.htmlState=null}}return style}function local(stream,state){if(state.fencedChars&&stream.match(state.fencedChars,false)){state.localMode=state.localState=null;state.f=state.block=leavingLocal;return null}else if(state.localMode){return state.localMode.token(stream,state.localState)}else{stream.skipToEnd();return tokenTypes.code}}function leavingLocal(stream,state){stream.match(state.fencedChars);state.block=blockNormal;state.f=inlineNormal;state.fencedChars=null;if(modeCfg.highlightFormatting)state.formatting="code-block";state.code=1;var returnType=getType(state);state.code=0;return returnType}function getType(state){var styles=[];if(state.formatting){styles.push(tokenTypes.formatting);if(typeof state.formatting==="string")state.formatting=[state.formatting];for(var i=0;i<state.formatting.length;i++){styles.push(tokenTypes.formatting+"-"+state.formatting[i]);if(state.formatting[i]==="header"){styles.push(tokenTypes.formatting+"-"+state.formatting[i]+"-"+state.header)}if(state.formatting[i]==="quote"){if(!modeCfg.maxBlockquoteDepth||modeCfg.maxBlockquoteDepth>=state.quote){styles.push(tokenTypes.formatting+"-"+state.formatting[i]+"-"+state.quote)}else{styles.push("error")}}}}if(state.taskOpen){styles.push("meta");return styles.length?styles.join(" "):null}if(state.taskClosed){styles.push("property");return styles.length?styles.join(" "):null}if(state.linkHref){styles.push(tokenTypes.linkHref,"url")}else{if(state.strong){styles.push(tokenTypes.strong)}if(state.em){styles.push(tokenTypes.em)}if(state.strikethrough){styles.push(tokenTypes.strikethrough)}if(state.linkText){styles.push(tokenTypes.linkText)}if(state.code){styles.push(tokenTypes.code)}if(state.image){
styles.push(tokenTypes.image)}if(state.imageAltText){styles.push(tokenTypes.imageAltText,"link")}if(state.imageMarker){styles.push(tokenTypes.imageMarker)}}if(state.header){styles.push(tokenTypes.header,tokenTypes.header+"-"+state.header)}if(state.quote){styles.push(tokenTypes.quote);if(!modeCfg.maxBlockquoteDepth||modeCfg.maxBlockquoteDepth>=state.quote){styles.push(tokenTypes.quote+"-"+state.quote)}else{styles.push(tokenTypes.quote+"-"+modeCfg.maxBlockquoteDepth)}}if(state.list!==false){var listMod=(state.listStack.length-1)%3;if(!listMod){styles.push(tokenTypes.list1)}else if(listMod===1){styles.push(tokenTypes.list2)}else{styles.push(tokenTypes.list3)}}if(state.trailingSpaceNewLine){styles.push("trailing-space-new-line")}else if(state.trailingSpace){styles.push("trailing-space-"+(state.trailingSpace%2?"a":"b"))}return styles.length?styles.join(" "):null}function handleText(stream,state){if(stream.match(textRE,true)){return getType(state)}return undefined}function inlineNormal(stream,state){var style=state.text(stream,state);if(typeof style!=="undefined")return style;if(state.list){state.list=null;return getType(state)}if(state.taskList){var taskOpen=stream.match(taskListRE,true)[1]!=="x";if(taskOpen)state.taskOpen=true;else state.taskClosed=true;if(modeCfg.highlightFormatting)state.formatting="task";state.taskList=false;return getType(state)}state.taskOpen=false;state.taskClosed=false;if(state.header&&stream.match(/^#+$/,true)){if(modeCfg.highlightFormatting)state.formatting="header";return getType(state)}var sol=stream.sol();var ch=stream.next();if(state.linkTitle){state.linkTitle=false;var matchCh=ch;if(ch==="("){matchCh=")"}matchCh=(matchCh+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var regex="^\\s*(?:[^"+matchCh+"\\\\]+|\\\\\\\\|\\\\.)"+matchCh;if(stream.match(new RegExp(regex),true)){return tokenTypes.linkHref}}if(ch==="`"){var previousFormatting=state.formatting;if(modeCfg.highlightFormatting)state.formatting="code";stream.eatWhile("`");var count=stream.current().length;if(state.code==0){state.code=count;return getType(state)}else if(count==state.code){var t=getType(state);state.code=0;return t}else{state.formatting=previousFormatting;return getType(state)}}else if(state.code){return getType(state)}if(ch==="\\"){stream.next();if(modeCfg.highlightFormatting){var type=getType(state);var formattingEscape=tokenTypes.formatting+"-escape";return type?type+" "+formattingEscape:formattingEscape}}if(ch==="!"&&stream.match(/\[[^\]]*\] ?(?:\(|\[)/,false)){state.imageMarker=true;state.image=true;if(modeCfg.highlightFormatting)state.formatting="image";return getType(state)}if(ch==="["&&state.imageMarker){state.imageMarker=false;state.imageAltText=true;if(modeCfg.highlightFormatting)state.formatting="image";return getType(state)}if(ch==="]"&&state.imageAltText){if(modeCfg.highlightFormatting)state.formatting="image";var type=getType(state);state.imageAltText=false;state.image=false;state.inline=state.f=linkHref;return type}if(ch==="["&&stream.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,false)&&!state.image){state.linkText=true;if(modeCfg.highlightFormatting)state.formatting="link";return getType(state)}if(ch==="]"&&state.linkText&&stream.match(/\(.*?\)| ?\[.*?\]/,false)){if(modeCfg.highlightFormatting)state.formatting="link";var type=getType(state);state.linkText=false;state.inline=state.f=linkHref;return type}if(ch==="<"&&stream.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,false)){state.f=state.inline=linkInline;if(modeCfg.highlightFormatting)state.formatting="link";var type=getType(state);if(type){type+=" "}else{type=""}return type+tokenTypes.linkInline}if(ch==="<"&&stream.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,false)){state.f=state.inline=linkInline;if(modeCfg.highlightFormatting)state.formatting="link";var type=getType(state);if(type){type+=" "}else{type=""}return type+tokenTypes.linkEmail}if(ch==="<"&&stream.match(/^(!--|\w)/,false)){var end=stream.string.indexOf(">",stream.pos);if(end!=-1){var atts=stream.string.substring(stream.start,end);if(/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(atts))state.md_inside=true}stream.backUp(1);state.htmlState=CodeMirror.startState(htmlMode);return switchBlock(stream,state,htmlBlock)}if(ch==="<"&&stream.match(/^\/\w*?>/)){state.md_inside=false;return"tag"}var ignoreUnderscore=false;if(!modeCfg.underscoresBreakWords){if(ch==="_"&&stream.peek()!=="_"&&stream.match(/(\w)/,false)){var prevPos=stream.pos-2;if(prevPos>=0){var prevCh=stream.string.charAt(prevPos);if(prevCh!=="_"&&prevCh.match(/(\w)/,false)){ignoreUnderscore=true}}}}if(ch==="*"||ch==="_"&&!ignoreUnderscore){if(sol&&stream.peek()===" "){}else if(state.strong===ch&&stream.eat(ch)){if(modeCfg.highlightFormatting)state.formatting="strong";var t=getType(state);state.strong=false;return t}else if(!state.strong&&stream.eat(ch)){state.strong=ch;if(modeCfg.highlightFormatting)state.formatting="strong";return getType(state)}else if(state.em===ch){if(modeCfg.highlightFormatting)state.formatting="em";var t=getType(state);state.em=false;return t}else if(!state.em){state.em=ch;if(modeCfg.highlightFormatting)state.formatting="em";return getType(state)}}else if(ch===" "){if(stream.eat("*")||stream.eat("_")){if(stream.peek()===" "){return getType(state)}else{stream.backUp(1)}}}if(modeCfg.strikethrough){if(ch==="~"&&stream.eatWhile(ch)){if(state.strikethrough){if(modeCfg.highlightFormatting)state.formatting="strikethrough";var t=getType(state);state.strikethrough=false;return t}else if(stream.match(/^[^\s]/,false)){state.strikethrough=true;if(modeCfg.highlightFormatting)state.formatting="strikethrough";return getType(state)}}else if(ch===" "){if(stream.match(/^~~/,true)){if(stream.peek()===" "){return getType(state)}else{stream.backUp(2)}}}}if(ch===" "){if(stream.match(/ +$/,false)){state.trailingSpace++}else if(state.trailingSpace){state.trailingSpaceNewLine=true}}return getType(state)}function linkInline(stream,state){var ch=stream.next();if(ch===">"){state.f=state.inline=inlineNormal;if(modeCfg.highlightFormatting)state.formatting="link";var type=getType(state);if(type){type+=" "}else{type=""}return type+tokenTypes.linkInline}stream.match(/^[^>]+/,true);return tokenTypes.linkInline}function linkHref(stream,state){if(stream.eatSpace()){return null}var ch=stream.next();if(ch==="("||ch==="["){state.f=state.inline=getLinkHrefInside(ch==="("?")":"]",0);if(modeCfg.highlightFormatting)state.formatting="link-string";state.linkHref=true;return getType(state)}return"error"}var linkRE={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/};function getLinkHrefInside(endChar){return function(stream,state){var ch=stream.next();if(ch===endChar){state.f=state.inline=inlineNormal;if(modeCfg.highlightFormatting)state.formatting="link-string";var returnState=getType(state);state.linkHref=false;return returnState}stream.match(linkRE[endChar]);state.linkHref=true;return getType(state)}}function footnoteLink(stream,state){if(stream.match(/^([^\]\\]|\\.)*\]:/,false)){state.f=footnoteLinkInside;stream.next();if(modeCfg.highlightFormatting)state.formatting="link";state.linkText=true;return getType(state)}return switchInline(stream,state,inlineNormal)}function footnoteLinkInside(stream,state){if(stream.match(/^\]:/,true)){state.f=state.inline=footnoteUrl;if(modeCfg.highlightFormatting)state.formatting="link";var returnType=getType(state);state.linkText=false;return returnType}stream.match(/^([^\]\\]|\\.)+/,true);return tokenTypes.linkText}function footnoteUrl(stream,state){if(stream.eatSpace()){return null}stream.match(/^[^\s]+/,true);if(stream.peek()===undefined){state.linkTitle=true}else{stream.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,true)}state.f=state.inline=inlineNormal;return tokenTypes.linkHref+" url"}var mode={startState:function(){return{f:blockNormal,prevLine:null,thisLine:null,block:blockNormal,htmlState:null,indentation:0,inline:inlineNormal,text:handleText,formatting:false,linkText:false,linkHref:false,linkTitle:false,code:0,em:false,strong:false,header:0,hr:false,taskList:false,list:false,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:false,strikethrough:false,fencedChars:null}},copyState:function(s){return{f:s.f,prevLine:s.prevLine,thisLine:s.thisLine,block:s.block,htmlState:s.htmlState&&CodeMirror.copyState(htmlMode,s.htmlState),indentation:s.indentation,localMode:s.localMode,localState:s.localMode?CodeMirror.copyState(s.localMode,s.localState):null,inline:s.inline,text:s.text,formatting:false,linkTitle:s.linkTitle,code:s.code,em:s.em,strong:s.strong,strikethrough:s.strikethrough,header:s.header,hr:s.hr,taskList:s.taskList,list:s.list,listStack:s.listStack.slice(0),quote:s.quote,indentedCode:s.indentedCode,trailingSpace:s.trailingSpace,trailingSpaceNewLine:s.trailingSpaceNewLine,md_inside:s.md_inside,fencedChars:s.fencedChars}},token:function(stream,state){state.formatting=false;if(stream!=state.thisLine){var forceBlankLine=state.header||state.hr;state.header=0;state.hr=false;if(stream.match(/^\s*$/,true)||forceBlankLine){blankLine(state);if(!forceBlankLine)return null;state.prevLine=null}state.prevLine=state.thisLine;state.thisLine=stream;state.taskList=false;state.trailingSpace=0;state.trailingSpaceNewLine=false;state.f=state.block;var indentation=stream.match(/^\s*/,true)[0].replace(/\t/g,"    ").length;state.indentationDiff=Math.min(indentation-state.indentation,4);state.indentation=state.indentation+state.indentationDiff;if(indentation>0)return null}return state.f(stream,state)},innerMode:function(state){if(state.block==htmlBlock)return{state:state.htmlState,mode:htmlMode};if(state.localState)return{state:state.localState,mode:state.localMode};return{state:state,mode:mode}},blankLine:blankLine,getType:getType,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return mode},"xml");CodeMirror.defineMIME("text/x-markdown","markdown")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define("thirdparty/CodeMirror/mode/clike/clike",["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";function Context(indented,column,type,info,align,prev){this.indented=indented;this.column=column;this.type=type;this.info=info;this.align=align;this.prev=prev}function pushContext(state,col,type,info){var indent=state.indented;if(state.context&&state.context.type=="statement"&&type!="statement")indent=state.context.indented;return state.context=new Context(indent,col,type,info,null,state.context)}function popContext(state){var t=state.context.type;if(t==")"||t=="]"||t=="}")state.indented=state.context.indented;return state.context=state.context.prev}function typeBefore(stream,state,pos){if(state.prevToken=="variable"||state.prevToken=="variable-3")return true;if(/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(stream.string.slice(0,pos)))return true;if(state.typeAtEndOfLine&&stream.column()==stream.indentation())return true}function isTopScope(context){for(;;){if(!context||context.type=="top")return true;if(context.type=="}"&&context.prev.info!="namespace")return false;context=context.prev}}CodeMirror.defineMode("clike",function(config,parserConfig){var indentUnit=config.indentUnit,statementIndentUnit=parserConfig.statementIndentUnit||indentUnit,dontAlignCalls=parserConfig.dontAlignCalls,keywords=parserConfig.keywords||{},types=parserConfig.types||{},builtin=parserConfig.builtin||{},blockKeywords=parserConfig.blockKeywords||{},defKeywords=parserConfig.defKeywords||{},atoms=parserConfig.atoms||{},hooks=parserConfig.hooks||{},multiLineStrings=parserConfig.multiLineStrings,indentStatements=parserConfig.indentStatements!==false,indentSwitch=parserConfig.indentSwitch!==false,namespaceSeparator=parserConfig.namespaceSeparator,isPunctuationChar=parserConfig.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,numberStart=parserConfig.numberStart||/[\d\.]/,number=parserConfig.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,isOperatorChar=parserConfig.isOperatorChar||/[+\-*&%=<>!?|\/]/;var curPunc,isDefKeyword;function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(result!==false)return result}if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}if(isPunctuationChar.test(ch)){curPunc=ch;return null}if(numberStart.test(ch)){stream.backUp(1);if(stream.match(number))return"number";stream.next()}if(ch=="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}if(stream.eat("/")){stream.skipToEnd();return"comment"}}if(isOperatorChar.test(ch)){while(!stream.match(/^\/[\/*]/,false)&&stream.eat(isOperatorChar)){}return"operator"}stream.eatWhile(/[\w\$_\xa1-\uffff]/);if(namespaceSeparator)while(stream.match(namespaceSeparator))stream.eatWhile(/[\w\$_\xa1-\uffff]/);var cur=stream.current();if(contains(keywords,cur)){if(contains(blockKeywords,cur))curPunc="newstatement";if(contains(defKeywords,cur))isDefKeyword=true;return"keyword"}if(contains(types,cur))return"variable-3";if(contains(builtin,cur)){if(contains(blockKeywords,cur))curPunc="newstatement";return"builtin"}if(contains(atoms,cur))return"atom";return"variable"}function tokenString(quote){return function(stream,state){var escaped=false,next,end=false;while((next=stream.next())!=null){if(next==quote&&!escaped){end=true;break}escaped=!escaped&&next=="\\"}if(end||!(escaped||multiLineStrings))state.tokenize=null;return"string"}}function tokenComment(stream,state){var maybeEnd=false,ch;while(ch=stream.next()){if(ch=="/"&&maybeEnd){state.tokenize=null;break}maybeEnd=ch=="*"}return"comment"}function maybeEOL(stream,state){if(parserConfig.typeFirstDefinitions&&stream.eol()&&isTopScope(state.context))state.typeAtEndOfLine=typeBefore(stream,state,stream.pos)}return{startState:function(basecolumn){return{tokenize:null,context:new Context((basecolumn||0)-indentUnit,0,"top",null,false),indented:0,startOfLine:true,prevToken:null}},token:function(stream,state){var ctx=state.context;if(stream.sol()){if(ctx.align==null)ctx.align=false;state.indented=stream.indentation();state.startOfLine=true}if(stream.eatSpace()){maybeEOL(stream,state);return null}curPunc=isDefKeyword=null;var style=(state.tokenize||tokenBase)(stream,state);if(style=="comment"||style=="meta")return style;if(ctx.align==null)ctx.align=true;if(curPunc==";"||curPunc==":"||curPunc==","&&stream.match(/^\s*(?:\/\/.*)?$/,false))while(state.context.type=="statement")popContext(state);else if(curPunc=="{")pushContext(state,stream.column(),"}");else if(curPunc=="[")pushContext(state,stream.column(),"]");else if(curPunc=="(")pushContext(state,stream.column(),")");else if(curPunc=="}"){while(ctx.type=="statement")ctx=popContext(state);if(ctx.type=="}")ctx=popContext(state);while(ctx.type=="statement")ctx=popContext(state)}else if(curPunc==ctx.type)popContext(state);else if(indentStatements&&((ctx.type=="}"||ctx.type=="top")&&curPunc!=";"||ctx.type=="statement"&&curPunc=="newstatement")){pushContext(state,stream.column(),"statement",stream.current())}if(style=="variable"&&(state.prevToken=="def"||parserConfig.typeFirstDefinitions&&typeBefore(stream,state,stream.start)&&isTopScope(state.context)&&stream.match(/^\s*\(/,false)))style="def";if(hooks.token){var result=hooks.token(stream,state,style);if(result!==undefined)style=result}if(style=="def"&&parserConfig.styleDefs===false)style="variable";state.startOfLine=false;state.prevToken=isDefKeyword?"def":style||curPunc;maybeEOL(stream,state);return style},indent:function(state,textAfter){if(state.tokenize!=tokenBase&&state.tokenize!=null||state.typeAtEndOfLine)return CodeMirror.Pass;var ctx=state.context,firstChar=textAfter&&textAfter.charAt(0);if(ctx.type=="statement"&&firstChar=="}")ctx=ctx.prev;if(parserConfig.dontIndentStatements)while(ctx.type=="statement"&&parserConfig.dontIndentStatements.test(ctx.info))ctx=ctx.prev;if(hooks.indent){var hook=hooks.indent(state,ctx,textAfter);if(typeof hook=="number")return hook}var closing=firstChar==ctx.type;var switchBlock=ctx.prev&&ctx.prev.info=="switch";if(parserConfig.allmanIndentation&&/[{(]/.test(firstChar)){while(ctx.type!="top"&&ctx.type!="}")ctx=ctx.prev;return ctx.indented}if(ctx.type=="statement")return ctx.indented+(firstChar=="{"?0:statementIndentUnit);if(ctx.align&&(!dontAlignCalls||ctx.type!=")"))return ctx.column+(closing?0:1);if(ctx.type==")"&&!closing)return ctx.indented+statementIndentUnit;return ctx.indented+(closing?0:indentUnit)+(!closing&&switchBlock&&!/^(?:case|default)\b/.test(textAfter)?indentUnit:0)},electricInput:indentSwitch?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});function words(str){var obj={},words=str.split(" ");for(var i=0;i<words.length;++i)obj[words[i]]=true;return obj}function contains(words,word){if(typeof words==="function"){return words(word)}else{return words.propertyIsEnumerable(word)}}var cKeywords="auto if break case register continue return default do sizeof "+"static else struct switch extern typedef union for goto while enum const volatile";var cTypes="int long char short double float unsigned signed void size_t ptrdiff_t";function cppHook(stream,state){if(!state.startOfLine)return false;for(var ch,next=null;ch=stream.peek();){if(ch=="\\"&&stream.match(/^.$/)){next=cppHook;break}else if(ch=="/"&&stream.match(/^\/[\/\*]/,false)){break}stream.next()}state.tokenize=next;return"meta"}function pointerHook(_stream,state){if(state.prevToken=="variable-3")return"variable-3";return false}function cpp14Literal(stream){stream.eatWhile(/[\w\.']/);return"number"}function cpp11StringHook(stream,state){stream.backUp(1);if(stream.match(/(R|u8R|uR|UR|LR)/)){var match=stream.match(/"([^\s\\()]{0,16})\(/);if(!match){return false}state.cpp11RawStringDelim=match[1];state.tokenize=tokenRawString;return tokenRawString(stream,state)}if(stream.match(/(u8|u|U|L)/)){if(stream.match(/["']/,false)){return"string"}return false}stream.next();return false}function cppLooksLikeConstructor(word){var lastTwo=/(\w+)::(\w+)$/.exec(word);return lastTwo&&lastTwo[1]==lastTwo[2]}function tokenAtString(stream,state){var next;while((next=stream.next())!=null){if(next=='"'&&!stream.eat('"')){state.tokenize=null;break}}return"string"}function tokenRawString(stream,state){var delim=state.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");var match=stream.match(new RegExp(".*?\\)"+delim+'"'));if(match)state.tokenize=null;else stream.skipToEnd();return"string"}function def(mimes,mode){if(typeof mimes=="string")mimes=[mimes];var words=[];function add(obj){if(obj)for(var prop in obj)if(obj.hasOwnProperty(prop))words.push(prop)}add(mode.keywords);add(mode.types);add(mode.builtin);add(mode.atoms);if(words.length){mode.helperType=mimes[0];CodeMirror.registerHelper("hintWords",mimes[0],words)}for(var i=0;i<mimes.length;++i)CodeMirror.defineMIME(mimes[i],mode)}def(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:words(cKeywords),types:words(cTypes+" bool _Complex _Bool float_t double_t intptr_t intmax_t "+"int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t "+"uint32_t uint64_t"),blockKeywords:words("case do else for if switch while struct"),defKeywords:words("struct"),typeFirstDefinitions:true,atoms:words("null true false"),hooks:{"#":cppHook,"*":pointerHook},modeProps:{fold:["brace","include"]}});def(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:words(cKeywords+" asm dynamic_cast namespace reinterpret_cast try explicit new "+"static_cast typeid catch operator template typename class friend private "+"this using const_cast inline public throw virtual delete mutable protected "+"alignas alignof constexpr decltype nullptr noexcept thread_local final "+"static_assert override"),types:words(cTypes+" bool wchar_t"),blockKeywords:words("catch class do else finally for if struct switch try while"),defKeywords:words("class namespace struct enum union"),typeFirstDefinitions:true,atoms:words("true false null"),dontIndentStatements:/^template$/,hooks:{"#":cppHook,"*":pointerHook,u:cpp11StringHook,U:cpp11StringHook,L:cpp11StringHook,R:cpp11StringHook,0:cpp14Literal,1:cpp14Literal,2:cpp14Literal,3:cpp14Literal,4:cpp14Literal,5:cpp14Literal,6:cpp14Literal,7:cpp14Literal,8:cpp14Literal,9:cpp14Literal,token:function(stream,state,style){if(style=="variable"&&stream.peek()=="("&&(state.prevToken==";"||state.prevToken==null||state.prevToken=="}")&&cppLooksLikeConstructor(stream.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}});def("text/x-java",{name:"clike",keywords:words("abstract assert break case catch class const continue default "+"do else enum extends final finally float for goto if implements import "+"instanceof interface native new package private protected public "+"return static strictfp super switch synchronized this throw throws transient "+"try volatile while"),types:words("byte short int long float double boolean char void Boolean Byte Character Double Float "+"Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:words("catch class do else finally for if switch try while"),defKeywords:words("class interface package enum"),typeFirstDefinitions:true,atoms:words("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(stream){stream.eatWhile(/[\w\$_]/);return"meta"}},modeProps:{fold:["brace","import"]}});def("text/x-csharp",{name:"clike",keywords:words("abstract as async await base break case catch checked class const continue"+" default delegate do else enum event explicit extern finally fixed for"+" foreach goto if implicit in interface internal is lock namespace new"+" operator out override params private protected public readonly ref return sealed"+" sizeof stackalloc static struct switch this throw try typeof unchecked"+" unsafe using virtual void volatile while add alias ascending descending dynamic from get"+" global group into join let orderby partial remove select set value var yield"),types:words("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func"+" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32"+" UInt64 bool byte char decimal double short int long object"+" sbyte float string ushort uint ulong"),blockKeywords:words("catch class do else finally for foreach if struct switch try while"),defKeywords:words("class interface namespace struct var"),typeFirstDefinitions:true,atoms:words("true false null"),hooks:{"@":function(stream,state){if(stream.eat('"')){state.tokenize=tokenAtString;return tokenAtString(stream,state)}stream.eatWhile(/[\w\$_]/);return"meta"}}});function tokenTripleString(stream,state){var escaped=false;while(!stream.eol()){if(!escaped&&stream.match('"""')){state.tokenize=null;break}escaped=stream.next()=="\\"&&!escaped}return"string"}def("text/x-scala",{name:"clike",keywords:words("abstract case catch class def do else extends final finally for forSome if "+"implicit import lazy match new null object override package private protected return "+"sealed super this throw trait try type val var while with yield _ : = => <- <: "+"<% >: # @ "+"assert assume require print println printf readLine readBoolean readByte readShort "+"readChar readInt readLong readFloat readDouble "+":: #:: "),types:words("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either "+"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable "+"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering "+"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder "+"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector "+"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable "+"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process "+"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String "+"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:true,blockKeywords:words("catch class do else finally for forSome if match switch try while"),defKeywords:words("class def object package trait type val var"),atoms:words("true false null"),indentStatements:false,indentSwitch:false,hooks:{"@":function(stream){stream.eatWhile(/[\w\$_]/);return"meta"},'"':function(stream,state){if(!stream.match('""'))return false;state.tokenize=tokenTripleString;return state.tokenize(stream,state)},"'":function(stream){stream.eatWhile(/[\w\$_\xa1-\uffff]/);return"atom"},"=":function(stream,state){var cx=state.context;if(cx.type=="}"&&cx.align&&stream.eat(">")){state.context=new Context(cx.indented,cx.column,cx.type,cx.info,null,cx.prev);return"operator"}else{return false}}},modeProps:{closeBrackets:{triples:'"'}}});function tokenKotlinString(tripleString){return function(stream,state){var escaped=false,next,end=false;while(!stream.eol()){if(!tripleString&&!escaped&&stream.match('"')){end=true;break}if(tripleString&&stream.match('"""')){end=true;break}next=stream.next();if(!escaped&&next=="$"&&stream.match("{"))stream.skipTo("}");escaped=!escaped&&next=="\\"&&!tripleString}if(end||!tripleString)state.tokenize=null;return"string"}}def("text/x-kotlin",{name:"clike",keywords:words("package as typealias class interface this super val "+"var fun for is in This throw return "+"break continue object if else while do try when !in !is as? "+"file import where by get set abstract enum open inner override private public internal "+"protected catch finally out final vararg reified dynamic companion constructor init "+"sealed field property receiver param sparam lateinit data inline noinline tailrec "+"external annotation crossinline const operator infix"),types:words("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable "+"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process "+"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String "+"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:false,indentStatements:false,multiLineStrings:true,blockKeywords:words("catch class do else finally for if where try while enum"),defKeywords:words("class val var object package interface fun"),atoms:words("true false null this"),hooks:{'"':function(stream,state){state.tokenize=tokenKotlinString(stream.match('""'));return state.tokenize(stream,state)}},modeProps:{closeBrackets:{triples:'"'}}});def(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:words("sampler1D sampler2D sampler3D samplerCube "+"sampler1DShadow sampler2DShadow "+"const attribute uniform varying "+"break continue discard return "+"for while do if else struct "+"in out inout"),types:words("float int bool void "+"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 "+"mat2 mat3 mat4"),blockKeywords:words("for while do if else struct"),builtin:words("radians degrees sin cos tan asin acos atan "+"pow exp log exp2 sqrt inversesqrt "+"abs sign floor ceil fract mod min max clamp mix step smoothstep "+"length distance dot cross normalize ftransform faceforward "+"reflect refract matrixCompMult "+"lessThan lessThanEqual greaterThan greaterThanEqual "+"equal notEqual any all not "+"texture1D texture1DProj texture1DLod texture1DProjLod "+"texture2D texture2DProj texture2DLod texture2DProjLod "+"texture3D texture3DProj texture3DLod texture3DProjLod "+"textureCube textureCubeLod "+"shadow1D shadow2D shadow1DProj shadow2DProj "+"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod "+"dFdx dFdy fwidth "+"noise1 noise2 noise3 noise4"),atoms:words("true false "+"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex "+"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 "+"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 "+"gl_FogCoord gl_PointCoord "+"gl_Position gl_PointSize gl_ClipVertex "+"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor "+"gl_TexCoord gl_FogFragCoord "+"gl_FragCoord gl_FrontFacing "+"gl_FragData gl_FragDepth "+"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix "+"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse "+"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse "+"gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose "+"gl_ProjectionMatrixInverseTranspose "+"gl_ModelViewProjectionMatrixInverseTranspose "+"gl_TextureMatrixInverseTranspose "+"gl_NormalScale gl_DepthRange gl_ClipPlane "+"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel "+"gl_FrontLightModelProduct gl_BackLightModelProduct "+"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ "+"gl_FogParameters "+"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords "+"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats "+"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits "+"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits "+"gl_MaxDrawBuffers"),indentSwitch:false,hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});def("text/x-nesc",{name:"clike",keywords:words(cKeywords+"as atomic async call command component components configuration event generic "+"implementation includes interface module new norace nx_struct nx_union post provides "+"signal task uses abstract extends"),types:words(cTypes),blockKeywords:words("case do else for if switch while struct"),atoms:words("null true false"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});def("text/x-objectivec",{name:"clike",keywords:words(cKeywords+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in "+"inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:words(cTypes),atoms:words("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(stream){stream.eatWhile(/[\w\$]/);return"keyword"},"#":cppHook,indent:function(_state,ctx,textAfter){if(ctx.type=="statement"&&/^@\w/.test(textAfter))return ctx.indented}},modeProps:{fold:"brace"}});def("text/x-squirrel",{name:"clike",keywords:words("base break clone continue const default delete enum extends function in class"+" foreach local resume return this throw typeof yield constructor instanceof static"),types:words(cTypes),blockKeywords:words("case catch class else for foreach if switch try while"),defKeywords:words("function local class"),typeFirstDefinitions:true,atoms:words("true false null"),hooks:{"#":cppHook},modeProps:{fold:["brace","include"]}});var stringTokenizer=null;function tokenCeylonString(type){return function(stream,state){var escaped=false,next,end=false;while(!stream.eol()){if(!escaped&&stream.match('"')&&(type=="single"||stream.match('""'))){end=true;break}if(!escaped&&stream.match("``")){stringTokenizer=tokenCeylonString(type);end=true;break}next=stream.next();escaped=type=="single"&&!escaped&&next=="\\"}if(end)state.tokenize=null;return"string"}}def("text/x-ceylon",{name:"clike",keywords:words("abstracts alias assembly assert assign break case catch class continue dynamic else"+" exists extends finally for function given if import in interface is let module new"+" nonempty object of out outer package return satisfies super switch then this throw"+" try value void while"),types:function(word){var first=word.charAt(0);return first===first.toUpperCase()&&first!==first.toLowerCase()},blockKeywords:words("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:words("class dynamic function interface module object package value"),builtin:words("abstract actual aliased annotation by default deprecated doc final formal late license"+" native optional sealed see serializable shared suppressWarnings tagged throws variable"),
isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:true,typeFirstDefinitions:true,atoms:words("true false null larger smaller equal empty finished"),indentSwitch:false,styleDefs:false,hooks:{"@":function(stream){stream.eatWhile(/[\w\$_]/);return"meta"},'"':function(stream,state){state.tokenize=tokenCeylonString(stream.match('""')?"triple":"single");return state.tokenize(stream,state)},"`":function(stream,state){if(!stringTokenizer||!stream.match("`"))return false;state.tokenize=stringTokenizer;stringTokenizer=null;return state.tokenize(stream,state)},"'":function(stream){stream.eatWhile(/[\w\$_\xa1-\uffff]/);return"atom"},token:function(_stream,state,style){if((style=="variable"||style=="variable-3")&&state.prevToken=="."){return"variable-2"}}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})});define("utils/AppInit",["require","exports","module"],function(require,exports,module){"use strict";var HTML_READY="htmlReady";var APP_READY="appReady";var EXTENSIONS_LOADED="extensionsLoaded";var _status={HTML_READY:false,APP_READY:false,EXTENSIONS_LOADED:false};var _callbacks={};_callbacks[HTML_READY]=[];_callbacks[APP_READY]=[];_callbacks[EXTENSIONS_LOADED]=[];function _callHandler(handler){try{handler()}catch(e){console.error("Exception when calling a 'brackets done loading' handler: "+e);console.log(e.stack)}}function _dispatchReady(type){var i,myHandlers=_callbacks[type];_status[type]=true;for(i=0;i<myHandlers.length;i++){_callHandler(myHandlers[i])}_callbacks[type]=[]}function _addListener(type,handler){if(_status[type]){_callHandler(handler)}else{_callbacks[type].push(handler)}}function appReady(handler){_addListener(APP_READY,handler)}function htmlReady(handler){_addListener(HTML_READY,handler)}function extensionsLoaded(handler){_addListener(EXTENSIONS_LOADED,handler)}exports.appReady=appReady;exports.htmlReady=htmlReady;exports.extensionsLoaded=extensionsLoaded;exports.HTML_READY=HTML_READY;exports.APP_READY=APP_READY;exports.EXTENSIONS_LOADED=EXTENSIONS_LOADED;exports._dispatchReady=_dispatchReady});(function(){function n(n,t){if(n!==t){var r=null===n,e=n===w,u=n===n,o=null===t,i=t===w,f=t===t;if(n>t&&!o||!u||r&&!i&&f||e&&f)return 1;if(n<t&&!r||!f||o&&!e&&u||i&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return p(n,r);r-=1;for(var e=n.length;++r<e;)if(n[r]===t)return r;return-1}function e(n){return typeof n=="function"||false}function u(n){return null==n?"":n+""}function o(n,t){for(var r=-1,e=n.length;++r<e&&-1<t.indexOf(n.charAt(r)););return r}function i(n,t){for(var r=n.length;r--&&-1<t.indexOf(n.charAt(r)););return r}function f(t,r){return n(t.a,r.a)||t.b-r.b}function a(n){return Nn[n]}function c(n){return Tn[n]}function l(n,t,r){return t?n=Bn[n]:r&&(n=Dn[n]),"\\"+n}function s(n){return"\\"+Dn[n]}function p(n,t,r){var e=n.length;for(t+=r?0:-1;r?t--:++t<e;){var u=n[t];if(u!==u)return t}return-1}function h(n){return!!n&&typeof n=="object"}function _(n){return 160>=n&&9<=n&&13>=n||32==n||160==n||5760==n||6158==n||8192<=n&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function v(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;)n[r]===t&&(n[r]=z,o[++u]=r);return o}function g(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function y(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function d(n){return Ln[n]}function m(_){function Nn(n){if(h(n)&&!(Oo(n)||n instanceof zn)){if(n instanceof Ln)return n;if(nu.call(n,"__chain__")&&nu.call(n,"__wrapped__"))return Mr(n)}return new Ln(n)}function Tn(){}function Ln(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function zn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=false,this.__iteratees__=[],this.__takeCount__=Ru,this.__views__=[]}function Bn(){this.__data__={}}function Dn(n){var t=n?n.length:0;for(this.data={hash:gu(null),set:new lu};t--;)this.push(n[t])}function Mn(n,t){var r=n.data;return(typeof t=="string"||ge(t)?r.set.has(t):r.hash[t])?0:-1}function qn(n,t){var r=-1,e=n.length;for(t||(t=Be(e));++r<e;)t[r]=n[r];return t}function Pn(n,t){for(var r=-1,e=n.length;++r<e&&false!==t(n[r],r,n););return n}function Zn(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return false;return true}function Yn(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;){var i=n[r];t(i,r,n)&&(o[++u]=i)}return o}function Gn(n,t){for(var r=-1,e=n.length,u=Be(e);++r<e;)u[r]=t(n[r],r,n);return u}function Jn(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function Xn(n,t,r,e){var u=-1,o=n.length;for(e&&o&&(r=n[++u]);++u<o;)r=t(r,n[u],u,n);return r}function Hn(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return true;return false}function Qn(n,t,r,e){return n!==w&&nu.call(e,r)?n:t}function nt(n,t,r){for(var e=-1,u=zo(t),o=u.length;++e<o;){var i=u[e],f=n[i],a=r(f,t[i],i,n,t);(a===a?a===f:f!==f)&&(f!==w||i in n)||(n[i]=a)}return n}function tt(n,t){return null==t?n:et(t,zo(t),n)}function rt(n,t){for(var r=-1,e=null==n,u=!e&&Er(n),o=u?n.length:0,i=t.length,f=Be(i);++r<i;){var a=t[r];f[r]=u?Cr(a,o)?n[a]:w:e?w:n[a]}return f}function et(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var o=t[e];r[o]=n[o]}return r}function ut(n,t,r){var e=typeof n;return"function"==e?t===w?n:Bt(n,t,r):null==n?Fe:"object"==e?bt(n):t===w?ze(n):xt(n,t)}function ot(n,t,r,e,u,o,i){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==w)return f;if(!ge(n))return n;if(e=Oo(n)){if(f=kr(n),!t)return qn(n,f)}else{var a=ru.call(n),c=a==K;if(a!=Z&&a!=B&&(!c||u))return Fn[a]?Rr(n,a,t):u?n:{};if(f=Ir(c?{}:n),!t)return tt(f,n)}for(o||(o=[]),i||(i=[]),u=o.length;u--;)if(o[u]==n)return i[u];return o.push(n),i.push(f),(e?Pn:_t)(n,function(e,u){f[u]=ot(e,t,r,u,n,o,i)}),f}function it(n,t,r){if(typeof n!="function")throw new Ge(L);return su(function(){n.apply(w,r)},t)}function ft(n,t){var e=n?n.length:0,u=[];if(!e)return u;var o=-1,i=xr(),f=i==r,a=f&&t.length>=F&&gu&&lu?new Dn(t):null,c=t.length;a&&(i=Mn,f=false,t=a);n:for(;++o<e;)if(a=n[o],f&&a===a){for(var l=c;l--;)if(t[l]===a)continue n;u.push(a)}else 0>i(t,a,0)&&u.push(a);return u}function at(n,t){var r=true;return Su(n,function(n,e,u){return r=!!t(n,e,u)}),r}function ct(n,t,r,e){var u=e,o=u;return Su(n,function(n,i,f){i=+t(n,i,f),(r(i,u)||i===e&&i===o)&&(u=i,o=n)}),o}function lt(n,t){var r=[];return Su(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function st(n,t,r,e){var u;return r(n,function(n,r,o){return t(n,r,o)?(u=e?r:n,false):void 0}),u}function pt(n,t,r,e){e||(e=[]);for(var u=-1,o=n.length;++u<o;){var i=n[u];h(i)&&Er(i)&&(r||Oo(i)||pe(i))?t?pt(i,t,r,e):Jn(e,i):r||(e[e.length]=i)}return e}function ht(n,t){Nu(n,t,Re)}function _t(n,t){return Nu(n,t,zo)}function vt(n,t){return Tu(n,t,zo)}function gt(n,t){for(var r=-1,e=t.length,u=-1,o=[];++r<e;){var i=t[r];ve(n[i])&&(o[++u]=i)}return o}function yt(n,t,r){if(null!=n){r!==w&&r in Br(n)&&(t=[r]),r=0;for(var e=t.length;null!=n&&r<e;)n=n[t[r++]];return r&&r==e?n:w}}function dt(n,t,r,e,u,o){if(n===t)n=true;else if(null==n||null==t||!ge(n)&&!h(t))n=n!==n&&t!==t;else n:{var i=dt,f=Oo(n),a=Oo(t),c=D,l=D;f||(c=ru.call(n),c==B?c=Z:c!=Z&&(f=xe(n))),a||(l=ru.call(t),l==B?l=Z:l!=Z&&xe(t));var s=c==Z,a=l==Z,l=c==l;if(!l||f||s){if(!e&&(c=s&&nu.call(n,"__wrapped__"),a=a&&nu.call(t,"__wrapped__"),c||a)){n=i(c?n.value():n,a?t.value():t,r,e,u,o);break n}if(l){for(u||(u=[]),o||(o=[]),c=u.length;c--;)if(u[c]==n){n=o[c]==t;break n}u.push(n),o.push(t),n=(f?yr:mr)(n,t,i,r,e,u,o),u.pop(),o.pop()}else n=false}else n=dr(n,t,c)}return n}function mt(n,t,r){var e=t.length,u=e,o=!r;if(null==n)return!u;for(n=Br(n);e--;){var i=t[e];if(o&&i[2]?i[1]!==n[i[0]]:!(i[0]in n))return false}for(;++e<u;){var i=t[e],f=i[0],a=n[f],c=i[1];if(o&&i[2]){if(a===w&&!(f in n))return false}else if(i=r?r(a,c,f):w,i===w?!dt(c,a,r,true):!i)return false}return true}function wt(n,t){var r=-1,e=Er(n)?Be(n.length):[];return Su(n,function(n,u,o){e[++r]=t(n,u,o)}),e}function bt(n){var t=Ar(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null==n?false:n[r]===e&&(e!==w||r in Br(n))}}return function(n){return mt(n,t)}}function xt(n,t){var r=Oo(n),e=Wr(n)&&t===t&&!ge(t),u=n+"";return n=Dr(n),function(o){if(null==o)return false;var i=u;if(o=Br(o),!(!r&&e||i in o)){if(o=1==n.length?o:yt(o,Et(n,0,-1)),null==o)return false;i=Zr(n),o=Br(o)}return o[i]===t?t!==w||i in o:dt(t,o[i],w,true)}}function At(n,t,r,e,u){if(!ge(n))return n;var o=Er(t)&&(Oo(t)||xe(t)),i=o?w:zo(t);return Pn(i||t,function(f,a){if(i&&(a=f,f=t[a]),h(f)){e||(e=[]),u||(u=[]);n:{for(var c=a,l=e,s=u,p=l.length,_=t[c];p--;)if(l[p]==_){n[c]=s[p];break n}var p=n[c],v=r?r(p,_,c,n,t):w,g=v===w;g&&(v=_,Er(_)&&(Oo(_)||xe(_))?v=Oo(p)?p:Er(p)?qn(p):[]:me(_)||pe(_)?v=pe(p)?ke(p):me(p)?p:{}:g=false),l.push(_),s.push(v),g?n[c]=At(v,_,r,l,s):(v===v?v!==p:p===p)&&(n[c]=v)}}else c=n[a],l=r?r(c,f,a,n,t):w,(s=l===w)&&(l=f),l===w&&(!o||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}),n}function jt(n){return function(t){return null==t?w:t[n]}}function kt(n){var t=n+"";return n=Dr(n),function(r){return yt(r,n,t)}}function It(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Cr(e)){var u=e;pu.call(n,e,1)}}}function Rt(n,t){return n+yu(ku()*(t-n+1))}function Ot(n,t,r,e,u){return u(n,function(n,u,o){r=e?(e=false,n):t(r,n,u,o)}),r}function Et(n,t,r){var e=-1,u=n.length;for(t=null==t?0:+t||0,0>t&&(t=-t>u?0:u+t),r=r===w||r>u?u:+r||0,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,r=Be(u);++e<u;)r[e]=n[e+t];return r}function Ct(n,t){var r;return Su(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Ut(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}function Wt(t,r,e){var u=wr(),o=-1;return r=Gn(r,function(n){return u(n)}),t=wt(t,function(n){return{a:Gn(r,function(t){return t(n)}),b:++o,c:n}}),Ut(t,function(t,r){var u;n:{for(var o=-1,i=t.a,f=r.a,a=i.length,c=e.length;++o<a;)if(u=n(i[o],f[o])){if(o>=c)break n;o=e[o],u*="asc"===o||true===o?1:-1;break n}u=t.b-r.b}return u})}function $t(n,t){var r=0;return Su(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function St(n,t){var e=-1,u=xr(),o=n.length,i=u==r,f=i&&o>=F,a=f&&gu&&lu?new Dn(void 0):null,c=[];a?(u=Mn,i=false):(f=false,a=t?[]:c);n:for(;++e<o;){var l=n[e],s=t?t(l,e,n):l;if(i&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else 0>u(a,s,0)&&((t||f)&&a.push(s),c.push(l))}return c}function Ft(n,t){for(var r=-1,e=t.length,u=Be(e);++r<e;)u[r]=n[t[r]];return u}function Nt(n,t,r,e){for(var u=n.length,o=e?u:-1;(e?o--:++o<u)&&t(n[o],o,n););return r?Et(n,e?0:o,e?o+1:u):Et(n,e?o+1:0,e?u:o)}function Tt(n,t){var r=n;r instanceof zn&&(r=r.value());for(var e=-1,u=t.length;++e<u;)var o=t[e],r=o.func.apply(o.thisArg,Jn([r],o.args));return r}function Lt(n,t,r){var e=0,u=n?n.length:e;if(typeof t=="number"&&t===t&&u<=Eu){for(;e<u;){var o=e+u>>>1,i=n[o];(r?i<=t:i<t)&&null!==i?e=o+1:u=o}return u}return zt(n,t,Fe,r)}function zt(n,t,r,e){t=r(t);for(var u=0,o=n?n.length:0,i=t!==t,f=null===t,a=t===w;u<o;){var c=yu((u+o)/2),l=r(n[c]),s=l!==w,p=l===l;(i?p||e:f?p&&s&&(e||null!=l):a?p&&(e||s):null==l?0:e?l<=t:l<t)?u=c+1:o=c}return xu(o,Ou)}function Bt(n,t,r){if(typeof n!="function")return Fe;if(t===w)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,o){return n.call(t,r,e,u,o)};case 5:return function(r,e,u,o,i){return n.call(t,r,e,u,o,i)}}return function(){return n.apply(t,arguments)}}function Dt(n){var t=new ou(n.byteLength);return new hu(t).set(new hu(n)),t}function Mt(n,t,r){for(var e=r.length,u=-1,o=bu(n.length-e,0),i=-1,f=t.length,a=Be(f+o);++i<f;)a[i]=t[i];for(;++u<e;)a[r[u]]=n[u];for(;o--;)a[i++]=n[u++];return a}function qt(n,t,r){for(var e=-1,u=r.length,o=-1,i=bu(n.length-u,0),f=-1,a=t.length,c=Be(i+a);++o<i;)c[o]=n[o];for(i=o;++f<a;)c[i+f]=t[f];for(;++e<u;)c[i+r[e]]=n[o++];return c}function Pt(n,t){return function(r,e,u){var o=t?t():{};if(e=wr(e,u,3),Oo(r)){u=-1;for(var i=r.length;++u<i;){var f=r[u];n(o,f,e(f,u,r),r)}}else Su(r,function(t,r,u){n(o,t,e(t,r,u),u)});return o}}function Kt(n){return le(function(t,r){var e=-1,u=null==t?0:r.length,o=2<u?r[u-2]:w,i=2<u?r[2]:w,f=1<u?r[u-1]:w;for(typeof o=="function"?(o=Bt(o,f,5),u-=2):(o=typeof f=="function"?f:w,u-=o?1:0),i&&Ur(r[0],r[1],i)&&(o=3>u?w:o,u=1);++e<u;)(i=r[e])&&n(t,i,o);return t})}function Vt(n,t){return function(r,e){var u=r?Bu(r):0;if(!Sr(u))return n(r,e);for(var o=t?u:-1,i=Br(r);(t?o--:++o<u)&&false!==e(i[o],o,i););return r}}function Zt(n){return function(t,r,e){var u=Br(t);e=e(t);for(var o=e.length,i=n?o:-1;n?i--:++i<o;){var f=e[i];if(false===r(u[f],f,u))break}return t}}function Yt(n,t){function r(){return(this&&this!==Kn&&this instanceof r?e:n).apply(t,arguments)}var e=Jt(n);return r}function Gt(n){return function(t){var r=-1;t=$e(Ce(t));for(var e=t.length,u="";++r<e;)u=n(u,t[r],r);return u}}function Jt(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=$u(n.prototype),t=n.apply(r,t);return ge(t)?t:r}}function Xt(n){function t(r,e,u){return u&&Ur(r,e,u)&&(e=w),r=gr(r,n,w,w,w,w,w,e),r.placeholder=t.placeholder,r}return t}function Ht(n,t){return le(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(w,r))})}function Qt(n,t){return function(r,e,u){if(u&&Ur(r,e,u)&&(e=w),e=wr(e,u,3),1==e.length){u=r=Oo(r)?r:zr(r);for(var o=e,i=-1,f=u.length,a=t,c=a;++i<f;){var l=u[i],s=+o(l);n(s,a)&&(a=s,c=l)}if(u=c,!r.length||u!==t)return u}return ct(r,e,n,t)}}function nr(n,r){return function(e,u,o){return u=wr(u,o,3),Oo(e)?(u=t(e,u,r),-1<u?e[u]:w):st(e,u,n)}}function tr(n){return function(r,e,u){return r&&r.length?(e=wr(e,u,3),t(r,e,n)):-1}}function rr(n){return function(t,r,e){return r=wr(r,e,3),st(t,r,n,true)}}function er(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,o=Be(r);n?e--:++e<r;){var i=o[u++]=arguments[e];if(typeof i!="function")throw new Ge(L);!t&&Ln.prototype.thru&&"wrapper"==br(i)&&(t=new Ln([],true))}for(e=t?-1:r;++e<r;){var i=o[e],u=br(i),f="wrapper"==u?zu(i):w;t=f&&$r(f[0])&&f[1]==(E|k|R|C)&&!f[4].length&&1==f[9]?t[br(f[0])].apply(t,f[3]):1==i.length&&$r(i)?t[u]():t.thru(i)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Oo(e)&&e.length>=F)return t.plant(e).value();for(var u=0,n=r?o[u].apply(this,n):e;++u<r;)n=o[u].call(this,n);return n}}}function ur(n,t){return function(r,e,u){return typeof e=="function"&&u===w&&Oo(r)?n(r,e):t(r,Bt(e,u,3))}}function or(n){return function(t,r,e){return(typeof r!="function"||e!==w)&&(r=Bt(r,e,3)),n(t,r,Re)}}function ir(n){return function(t,r,e){return(typeof r!="function"||e!==w)&&(r=Bt(r,e,3)),n(t,r)}}function fr(n){return function(t,r,e){var u={};return r=wr(r,e,3),_t(t,function(t,e,o){o=r(t,e,o),e=n?o:e,t=n?t:o,u[e]=t}),u}}function ar(n){return function(t,r,e){return t=u(t),(n?t:"")+pr(t,r,e)+(n?"":t)}}function cr(n){var t=le(function(r,e){var u=v(e,t.placeholder);return gr(r,n,w,e,u)});return t}function lr(n,t){return function(r,e,u,o){var i=3>arguments.length;return typeof e=="function"&&o===w&&Oo(r)?n(r,e,u,i):Ot(r,wr(e,o,4),u,i,t)}}function sr(n,t,r,e,u,o,i,f,a,c){function l(){for(var m=arguments.length,b=m,j=Be(m);b--;)j[b]=arguments[b];if(e&&(j=Mt(j,e,u)),o&&(j=qt(j,o,i)),_||y){var b=l.placeholder,k=v(j,b),m=m-k.length;if(m<c){var I=f?qn(f):w,m=bu(c-m,0),E=_?k:w,k=_?w:k,C=_?j:w,j=_?w:j;return t|=_?R:O,t&=~(_?O:R),g||(t&=~(x|A)),j=[n,t,r,C,E,j,k,I,a,m],I=sr.apply(w,j),$r(n)&&Du(I,j),I.placeholder=b,I}}if(b=p?r:this,I=h?b[n]:n,f)for(m=j.length,E=xu(f.length,m),k=qn(j);E--;)C=f[E],j[E]=Cr(C,m)?k[C]:w;return s&&a<j.length&&(j.length=a),this&&this!==Kn&&this instanceof l&&(I=d||Jt(n)),I.apply(b,j)}var s=t&E,p=t&x,h=t&A,_=t&k,g=t&j,y=t&I,d=h?w:Jt(n);return l}function pr(n,t,r){return n=n.length,t=+t,n<t&&mu(t)?(t-=n,r=null==r?" ":r+"",Ue(r,vu(t/r.length)).slice(0,t)):""}function hr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=Be(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];return(this&&this!==Kn&&this instanceof u?i:n).apply(o?r:this,l)}var o=t&x,i=Jt(n);return u}function _r(n){var t=Pe[n];return function(n,r){return(r=r===w?0:+r||0)?(r=au(10,r),t(n*r)/r):t(n)}}function vr(n){return function(t,r,e,u){var o=wr(e);return null==e&&o===ut?Lt(t,r,n):zt(t,r,o(e,u,1),n)}}function gr(n,t,r,e,u,o,i,f){var a=t&A;if(!a&&typeof n!="function")throw new Ge(L);var c=e?e.length:0;if(c||(t&=~(R|O),e=u=w),c-=u?u.length:0,t&O){var l=e,s=u;e=u=w}var p=a?w:zu(n);return r=[n,t,r,e,u,l,s,o,i,f],p&&(e=r[1],t=p[1],f=e|t,u=t==E&&e==k||t==E&&e==C&&r[7].length<=p[8]||t==(E|C)&&e==k,(f<E||u)&&(t&x&&(r[2]=p[2],f|=e&x?0:j),(e=p[3])&&(u=r[3],r[3]=u?Mt(u,e,p[4]):qn(e),r[4]=u?v(r[3],z):qn(p[4])),(e=p[5])&&(u=r[5],r[5]=u?qt(u,e,p[6]):qn(e),r[6]=u?v(r[5],z):qn(p[6])),(e=p[7])&&(r[7]=qn(e)),t&E&&(r[8]=null==r[8]?p[8]:xu(r[8],p[8])),null==r[9]&&(r[9]=p[9]),r[0]=p[0],r[1]=f),t=r[1],f=r[9]),r[9]=null==f?a?0:n.length:bu(f-c,0)||0,(p?Lu:Du)(t==x?Yt(r[0],r[2]):t!=R&&t!=(x|R)||r[4].length?sr.apply(w,r):hr.apply(w,r),r)}function yr(n,t,r,e,u,o,i){var f=-1,a=n.length,c=t.length;if(a!=c&&(!u||c<=a))return false;for(;++f<a;){var l=n[f],c=t[f],s=e?e(u?c:l,u?l:c,f):w;if(s!==w){if(s)continue;return false}if(u){if(!Hn(t,function(n){return l===n||r(l,n,e,u,o,i)}))return false}else if(l!==c&&!r(l,c,e,u,o,i))return false}return true}function dr(n,t,r){switch(r){case M:case q:return+n==+t;case P:return n.name==t.name&&n.message==t.message;case V:return n!=+n?t!=+t:n==+t;case Y:case G:return n==t+""}return false}function mr(n,t,r,e,u,o,i){var f=zo(n),a=f.length,c=zo(t).length;if(a!=c&&!u)return false;for(c=a;c--;){var l=f[c];if(!(u?l in t:nu.call(t,l)))return false}for(var s=u;++c<a;){var l=f[c],p=n[l],h=t[l],_=e?e(u?h:p,u?p:h,l):w;if(_===w?!r(p,h,e,u,o,i):!_)return false;s||(s="constructor"==l)}return s||(r=n.constructor,e=t.constructor,!(r!=e&&"constructor"in n&&"constructor"in t)||typeof r=="function"&&r instanceof r&&typeof e=="function"&&e instanceof e)?true:false}function wr(n,t,r){var e=Nn.callback||Se,e=e===Se?ut:e;return r?e(n,t,r):e}function br(n){for(var t=n.name,r=Wu[t],e=r?r.length:0;e--;){var u=r[e],o=u.func;if(null==o||o==n)return u.name}return t}function xr(n,t,e){var u=Nn.indexOf||Vr,u=u===Vr?r:u;return n?u(n,t,e):u}function Ar(n){n=Oe(n);for(var t=n.length;t--;){var r=n[t][1];n[t][2]=r===r&&!ge(r)}return n}function jr(n,t){var r=null==n?w:n[t];return ye(r)?r:w}function kr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&nu.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Ir(n){return n=n.constructor,typeof n=="function"&&n instanceof n||(n=Ve),new n}function Rr(n,t,r){var e=n.constructor;switch(t){case J:return Dt(n);case M:case q:return new e(+n);case X:case H:case Q:case nn:case tn:case rn:case en:case un:case on:return t=n.buffer,new e(r?Dt(t):t,n.byteOffset,n.length);case V:case G:return new e(n);case Y:var u=new e(n.source,kn.exec(n));u.lastIndex=n.lastIndex}return u}function Or(n,t,r){return null==n||Wr(t,n)||(t=Dr(t),n=1==t.length?n:yt(n,Et(t,0,-1)),t=Zr(t)),t=null==n?n:n[t],null==t?w:t.apply(n,r)}function Er(n){return null!=n&&Sr(Bu(n))}function Cr(n,t){return n=typeof n=="number"||On.test(n)?+n:-1,t=null==t?Cu:t,-1<n&&0==n%1&&n<t}function Ur(n,t,r){if(!ge(r))return false;var e=typeof t;return("number"==e?Er(r)&&Cr(t,r.length):"string"==e&&t in r)?(t=r[t],n===n?n===t:t!==t):false}function Wr(n,t){var r=typeof n;return"string"==r&&dn.test(n)||"number"==r?true:Oo(n)?false:!yn.test(n)||null!=t&&n in Br(t)}function $r(n){var t=br(n);return t in zn.prototype?(t=Nn[t],n===t?true:(t=zu(t),!!t&&n===t[0])):false}function Sr(n){return typeof n=="number"&&-1<n&&0==n%1&&n<=Cu}function Fr(n,t){return n===w?t:Eo(n,t,Fr)}function Nr(n,t){n=Br(n);for(var r=-1,e=t.length,u={};++r<e;){var o=t[r];o in n&&(u[o]=n[o])}return u}function Tr(n,t){var r={};return ht(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function Lr(n){for(var t=Re(n),r=t.length,e=r&&n.length,u=!!e&&Sr(e)&&(Oo(n)||pe(n)),o=-1,i=[];++o<r;){var f=t[o];(u&&Cr(f,e)||nu.call(n,f))&&i.push(f)}return i}function zr(n){return null==n?[]:Er(n)?ge(n)?n:Ve(n):Ee(n)}function Br(n){return ge(n)?n:Ve(n)}function Dr(n){if(Oo(n))return n;var t=[];return u(n).replace(mn,function(n,r,e,u){t.push(e?u.replace(An,"$1"):r||n)}),t}function Mr(n){return n instanceof zn?n.clone():new Ln(n.__wrapped__,n.__chain__,qn(n.__actions__))}function qr(n,t,r){return n&&n.length?((r?Ur(n,t,r):null==t)&&(t=1),Et(n,0>t?0:t)):[]}function Pr(n,t,r){var e=n?n.length:0;return e?((r?Ur(n,t,r):null==t)&&(t=1),t=e-(+t||0),Et(n,0,0>t?0:t)):[]}function Kr(n){return n?n[0]:w}function Vr(n,t,e){var u=n?n.length:0;if(!u)return-1;if(typeof e=="number")e=0>e?bu(u+e,0):e;else if(e)return e=Lt(n,t),e<u&&(t===t?t===n[e]:n[e]!==n[e])?e:-1;return r(n,t,e||0)}function Zr(n){var t=n?n.length:0;return t?n[t-1]:w}function Yr(n){return qr(n,1)}function Gr(n,t,e,u){if(!n||!n.length)return[];null!=t&&typeof t!="boolean"&&(u=e,e=Ur(n,t,u)?w:t,t=false);var o=wr();if((null!=e||o!==ut)&&(e=o(e,u,3)),t&&xr()==r){t=e;var i;e=-1,u=n.length;for(var o=-1,f=[];++e<u;){var a=n[e],c=t?t(a,e,n):a;e&&i===c||(i=c,f[++o]=a)}n=f}else n=St(n,e);return n}function Jr(n){if(!n||!n.length)return[];var t=-1,r=0;n=Yn(n,function(n){return Er(n)?(r=bu(n.length,r),true):void 0});for(var e=Be(r);++t<r;)e[t]=Gn(n,jt(t));return e}function Xr(n,t,r){return n&&n.length?(n=Jr(n),null==t?n:(t=Bt(t,r,4),Gn(n,function(n){return Xn(n,t,w,true)}))):[]}function Hr(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Oo(n[0])||(t=[]);++r<e;){var o=n[r];t?u[o]=t[r]:o&&(u[o[0]]=o[1])}return u}function Qr(n){return n=Nn(n),n.__chain__=true,n}function ne(n,t,r){return t.call(r,n)}function te(n,t,r){var e=Oo(n)?Zn:at;return r&&Ur(n,t,r)&&(t=w),(typeof t!="function"||r!==w)&&(t=wr(t,r,3)),e(n,t)}function re(n,t,r){var e=Oo(n)?Yn:lt;return t=wr(t,r,3),e(n,t)}function ee(n,t,r,e){var u=n?Bu(n):0;return Sr(u)||(n=Ee(n),u=n.length),r=typeof r!="number"||e&&Ur(t,r,e)?0:0>r?bu(u+r,0):r||0,typeof n=="string"||!Oo(n)&&be(n)?r<=u&&-1<n.indexOf(t,r):!!u&&-1<xr(n,t,r)}function ue(n,t,r){var e=Oo(n)?Gn:wt;return t=wr(t,r,3),e(n,t)}function oe(n,t,r){if(r?Ur(n,t,r):null==t){n=zr(n);var e=n.length;return 0<e?n[Rt(0,e-1)]:w}r=-1,n=je(n);var e=n.length,u=e-1;for(t=xu(0>t?0:+t||0,e);++r<t;){var e=Rt(r,u),o=n[e];n[e]=n[r],n[r]=o}return n.length=t,n}function ie(n,t,r){var e=Oo(n)?Hn:Ct;return r&&Ur(n,t,r)&&(t=w),(typeof t!="function"||r!==w)&&(t=wr(t,r,3)),e(n,t)}function fe(n,t){var r;if(typeof t!="function"){if(typeof n!="function")throw new Ge(L);var e=n;n=t,t=e}return function(){return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=w),r}}function ae(n,t,r){function e(t,r){r&&iu(r),a=p=h=w,t&&(_=ho(),c=n.apply(s,f),p||a||(f=s=w))}function u(){var n=t-(ho()-l);0>=n||n>t?e(h,a):p=su(u,n)}function o(){e(g,p)}function i(){if(f=arguments,l=ho(),s=this,h=g&&(p||!y),false===v)var r=y&&!p;else{a||y||(_=l);var e=v-(l-_),i=0>=e||e>v;i?(a&&(a=iu(a)),_=l,c=n.apply(s,f)):a||(a=su(o,e))}return i&&p?p=iu(p):p||t===v||(p=su(u,t)),r&&(i=true,c=n.apply(s,f)),!i||p||a||(f=s=w),c}var f,a,c,l,s,p,h,_=0,v=false,g=true;if(typeof n!="function")throw new Ge(L);if(t=0>t?0:+t||0,true===r)var y=true,g=false;else ge(r)&&(y=!!r.leading,v="maxWait"in r&&bu(+r.maxWait||0,t),g="trailing"in r?!!r.trailing:g);return i.cancel=function(){p&&iu(p),a&&iu(a),_=0,a=p=h=w},i}function ce(n,t){function r(){var e=arguments,u=t?t.apply(this,e):e[0],o=r.cache;return o.has(u)?o.get(u):(e=n.apply(this,e),r.cache=o.set(u,e),e)}if(typeof n!="function"||t&&typeof t!="function")throw new Ge(L);return r.cache=new ce.Cache,r}function le(n,t){if(typeof n!="function")throw new Ge(L);return t=bu(t===w?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bu(r.length-t,0),o=Be(u);++e<u;)o[e]=r[t+e];switch(t){case 0:return n.call(this,o);case 1:return n.call(this,r[0],o);case 2:return n.call(this,r[0],r[1],o)}for(u=Be(t+1),e=-1;++e<t;)u[e]=r[e];return u[t]=o,n.apply(this,u)}}function se(n,t){return n>t}function pe(n){return h(n)&&Er(n)&&nu.call(n,"callee")&&!cu.call(n,"callee")}function he(n,t,r,e){return e=(r=typeof r=="function"?Bt(r,e,3):w)?r(n,t):w,e===w?dt(n,t,r):!!e}function _e(n){return h(n)&&typeof n.message=="string"&&ru.call(n)==P}function ve(n){return ge(n)&&ru.call(n)==K}function ge(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function ye(n){return null==n?false:ve(n)?uu.test(Qe.call(n)):h(n)&&Rn.test(n)}function de(n){return typeof n=="number"||h(n)&&ru.call(n)==V}function me(n){var t;if(!h(n)||ru.call(n)!=Z||pe(n)||!(nu.call(n,"constructor")||(t=n.constructor,typeof t!="function"||t instanceof t)))return false;var r;return ht(n,function(n,t){r=t}),r===w||nu.call(n,r)}function we(n){return ge(n)&&ru.call(n)==Y}function be(n){return typeof n=="string"||h(n)&&ru.call(n)==G}function xe(n){return h(n)&&Sr(n.length)&&!!Sn[ru.call(n)]}function Ae(n,t){return n<t}function je(n){var t=n?Bu(n):0;return Sr(t)?t?qn(n):[]:Ee(n)}function ke(n){return et(n,Re(n))}function Ie(n){return gt(n,Re(n))}function Re(n){if(null==n)return[];ge(n)||(n=Ve(n));for(var t=n.length,t=t&&Sr(t)&&(Oo(n)||pe(n))&&t||0,r=n.constructor,e=-1,r=typeof r=="function"&&r.prototype===n,u=Be(t),o=0<t;++e<t;)u[e]=e+"";for(var i in n)o&&Cr(i,t)||"constructor"==i&&(r||!nu.call(n,i))||u.push(i);return u}function Oe(n){n=Br(n);for(var t=-1,r=zo(n),e=r.length,u=Be(e);++t<e;){var o=r[t];u[t]=[o,n[o]]}return u}function Ee(n){return Ft(n,zo(n))}function Ce(n){return(n=u(n))&&n.replace(En,a).replace(xn,"")}function Ue(n,t){var r="";if(n=u(n),t=+t,1>t||!n||!mu(t))return r;do{t%2&&(r+=n),t=yu(t/2),n+=n}while(t);return r}function We(n,t,r){var e=n;return(n=u(n))?(r?Ur(e,t,r):null==t)?n.slice(g(n),y(n)+1):(t+="",n.slice(o(n,t),i(n,t)+1)):n}function $e(n,t,r){return r&&Ur(n,t,r)&&(t=w),n=u(n),n.match(t||Wn)||[]}function Se(n,t,r){return r&&Ur(n,t,r)&&(t=w),h(n)?Ne(n):ut(n,t)}function Fe(n){return n}function Ne(n){return bt(ot(n,true))}function Te(n,t,r){if(null==r){var e=ge(t),u=e?zo(t):w;((u=u&&u.length?gt(t,u):w)?u.length:e)||(u=false,r=t,t=n,n=this)}u||(u=gt(t,zo(t)));var o=true,e=-1,i=ve(n),f=u.length;false===r?o=false:ge(r)&&"chain"in r&&(o=r.chain);for(;++e<f;){r=u[e];var a=t[r];n[r]=a,i&&(n.prototype[r]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__);return(e.__actions__=qn(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,Jn([this.value()],arguments))}}(a))}return n}function Le(){}function ze(n){return Wr(n)?jt(n):kt(n)}_=_?Vn.defaults(Kn.Object(),_,Vn.pick(Kn,$n)):Kn;var Be=_.Array,De=_.Date,Me=_.Error,qe=_.Function,Pe=_.Math,Ke=_.Number,Ve=_.Object,Ze=_.RegExp,Ye=_.String,Ge=_.TypeError,Je=Be.prototype,Xe=Ve.prototype,He=Ye.prototype,Qe=qe.prototype.toString,nu=Xe.hasOwnProperty,tu=0,ru=Xe.toString,eu=Kn._,uu=Ze("^"+Qe.call(nu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ou=_.ArrayBuffer,iu=_.clearTimeout,fu=_.parseFloat,au=Pe.pow,cu=Xe.propertyIsEnumerable,lu=jr(_,"Set"),su=_.setTimeout,pu=Je.splice,hu=_.Uint8Array,_u=jr(_,"WeakMap"),vu=Pe.ceil,gu=jr(Ve,"create"),yu=Pe.floor,du=jr(Be,"isArray"),mu=_.isFinite,wu=jr(Ve,"keys"),bu=Pe.max,xu=Pe.min,Au=jr(De,"now"),ju=_.parseInt,ku=Pe.random,Iu=Ke.NEGATIVE_INFINITY,Ru=Ke.POSITIVE_INFINITY,Ou=4294967294,Eu=2147483647,Cu=9007199254740991,Uu=_u&&new _u,Wu={};Nn.support={},Nn.templateSettings={escape:_n,evaluate:vn,interpolate:gn,variable:"",imports:{_:Nn}};var $u=function(){function n(){}return function(t){if(ge(t)){n.prototype=t;var r=new n;n.prototype=w}return r||{}}}(),Su=Vt(_t),Fu=Vt(vt,true),Nu=Zt(),Tu=Zt(true),Lu=Uu?function(n,t){return Uu.set(n,t),n}:Fe,zu=Uu?function(n){return Uu.get(n)}:Le,Bu=jt("length"),Du=function(){var n=0,t=0;return function(r,e){var u=ho(),o=S-(u-t);if(t=u,0<o){if(++n>=$)return r}else n=0;return Lu(r,e)}}(),Mu=le(function(n,t){return h(n)&&Er(n)?ft(n,pt(t,false,true)):[]}),qu=tr(),Pu=tr(true),Ku=le(function(n){for(var t=n.length,e=t,u=Be(l),o=xr(),i=o==r,f=[];e--;){var a=n[e]=Er(a=n[e])?a:[];u[e]=i&&120<=a.length&&gu&&lu?new Dn(e&&a):null}var i=n[0],c=-1,l=i?i.length:0,s=u[0];n:for(;++c<l;)if(a=i[c],0>(s?Mn(s,a):o(f,a,0))){for(e=t;--e;){var p=u[e];if(0>(p?Mn(p,a):o(n[e],a,0)))continue n}s&&s.push(a),f.push(a)}return f}),Vu=le(function(t,r){r=pt(r);var e=rt(t,r);return It(t,r.sort(n)),e}),Zu=vr(),Yu=vr(true),Gu=le(function(n){return St(pt(n,false,true))}),Ju=le(function(n,t){return Er(n)?ft(n,t):[]}),Xu=le(Jr),Hu=le(function(n){var t=n.length,r=2<t?n[t-2]:w,e=1<t?n[t-1]:w;return 2<t&&typeof r=="function"?t-=2:(r=1<t&&typeof e=="function"?(--t,e):w,e=w),n.length=t,Xr(n,r,e)}),Qu=le(function(n){return n=pt(n),this.thru(function(t){t=Oo(t)?t:[Br(t)];for(var r=n,e=-1,u=t.length,o=-1,i=r.length,f=Be(u+i);++e<u;)f[e]=t[e];for(;++o<i;)f[e++]=r[o];return f})}),no=le(function(n,t){return rt(n,pt(t))}),to=Pt(function(n,t,r){nu.call(n,r)?++n[r]:n[r]=1}),ro=nr(Su),eo=nr(Fu,true),uo=ur(Pn,Su),oo=ur(function(n,t){for(var r=n.length;r--&&false!==t(n[r],r,n););return n},Fu),io=Pt(function(n,t,r){nu.call(n,r)?n[r].push(t):n[r]=[t]}),fo=Pt(function(n,t,r){n[r]=t}),ao=le(function(n,t,r){var e=-1,u=typeof t=="function",o=Wr(t),i=Er(n)?Be(n.length):[];return Su(n,function(n){var f=u?t:o&&null!=n?n[t]:w;i[++e]=f?f.apply(n,r):Or(n,t,r)}),i}),co=Pt(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),lo=lr(Xn,Su),so=lr(function(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r},Fu),po=le(function(n,t){if(null==n)return[];var r=t[2];return r&&Ur(t[0],t[1],r)&&(t.length=1),Wt(n,pt(t),[])}),ho=Au||function(){return(new De).getTime()},_o=le(function(n,t,r){var e=x;if(r.length)var u=v(r,_o.placeholder),e=e|R;return gr(n,e,t,r,u)}),vo=le(function(n,t){t=t.length?pt(t):Ie(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=gr(n[u],x,n)}return n}),go=le(function(n,t,r){var e=x|A;if(r.length)var u=v(r,go.placeholder),e=e|R;return gr(t,e,n,r,u)}),yo=Xt(k),mo=Xt(I),wo=le(function(n,t){return it(n,1,t)}),bo=le(function(n,t,r){return it(n,t,r)}),xo=er(),Ao=er(true),jo=le(function(n,t){if(t=pt(t),typeof n!="function"||!Zn(t,e))throw new Ge(L);var r=t.length;return le(function(e){for(var u=xu(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),ko=cr(R),Io=cr(O),Ro=le(function(n,t){return gr(n,C,w,w,w,pt(t))}),Oo=du||function(n){return h(n)&&Sr(n.length)&&ru.call(n)==D},Eo=Kt(At),Co=Kt(function(n,t,r){return r?nt(n,t,r):tt(n,t)}),Uo=Ht(Co,function(n,t){return n===w?t:n}),Wo=Ht(Eo,Fr),$o=rr(_t),So=rr(vt),Fo=or(Nu),No=or(Tu),To=ir(_t),Lo=ir(vt),zo=wu?function(n){var t=null==n?w:n.constructor;return typeof t=="function"&&t.prototype===n||typeof n!="function"&&Er(n)?Lr(n):ge(n)?wu(n):[]}:Lr,Bo=fr(true),Do=fr(),Mo=le(function(n,t){if(null==n)return{};if("function"!=typeof t[0])return t=Gn(pt(t),Ye),Nr(n,ft(Re(n),t));var r=Bt(t[0],t[1],3);return Tr(n,function(n,t,e){return!r(n,t,e)})}),qo=le(function(n,t){return null==n?{}:"function"==typeof t[0]?Tr(n,Bt(t[0],t[1],3)):Nr(n,pt(t))}),Po=Gt(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Ko=Gt(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Vo=ar(),Zo=ar(true),Yo=Gt(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Go=Gt(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Jo=le(function(n,t){try{return n.apply(w,t)}catch(r){return _e(r)?r:new Me(r)}}),Xo=le(function(n,t){return function(r){return Or(r,n,t)}}),Ho=le(function(n,t){return function(r){return Or(n,r,t)}}),Qo=_r("ceil"),ni=_r("floor"),ti=Qt(se,Iu),ri=Qt(Ae,Ru),ei=_r("round");return Nn.prototype=Tn.prototype,Ln.prototype=$u(Tn.prototype),Ln.prototype.constructor=Ln,
zn.prototype=$u(Tn.prototype),zn.prototype.constructor=zn,Bn.prototype["delete"]=function(n){return this.has(n)&&delete this.__data__[n]},Bn.prototype.get=function(n){return"__proto__"==n?w:this.__data__[n]},Bn.prototype.has=function(n){return"__proto__"!=n&&nu.call(this.__data__,n)},Bn.prototype.set=function(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this},Dn.prototype.push=function(n){var t=this.data;typeof n=="string"||ge(n)?t.set.add(n):t.hash[n]=true},ce.Cache=Bn,Nn.after=function(n,t){if(typeof t!="function"){if(typeof n!="function")throw new Ge(L);var r=n;n=t,t=r}return n=mu(n=+n)?n:0,function(){return 1>--n?t.apply(this,arguments):void 0}},Nn.ary=function(n,t,r){return r&&Ur(n,t,r)&&(t=w),t=n&&null==t?n.length:bu(+t||0,0),gr(n,E,w,w,w,w,t)},Nn.assign=Co,Nn.at=no,Nn.before=fe,Nn.bind=_o,Nn.bindAll=vo,Nn.bindKey=go,Nn.callback=Se,Nn.chain=Qr,Nn.chunk=function(n,t,r){t=(r?Ur(n,t,r):null==t)?1:bu(yu(t)||1,1),r=0;for(var e=n?n.length:0,u=-1,o=Be(vu(e/t));r<e;)o[++u]=Et(n,r,r+=t);return o},Nn.compact=function(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var o=n[t];o&&(u[++e]=o)}return u},Nn.constant=function(n){return function(){return n}},Nn.countBy=to,Nn.create=function(n,t,r){var e=$u(n);return r&&Ur(n,t,r)&&(t=w),t?tt(e,t):e},Nn.curry=yo,Nn.curryRight=mo,Nn.debounce=ae,Nn.defaults=Uo,Nn.defaultsDeep=Wo,Nn.defer=wo,Nn.delay=bo,Nn.difference=Mu,Nn.drop=qr,Nn.dropRight=Pr,Nn.dropRightWhile=function(n,t,r){return n&&n.length?Nt(n,wr(t,r,3),true,true):[]},Nn.dropWhile=function(n,t,r){return n&&n.length?Nt(n,wr(t,r,3),true):[]},Nn.fill=function(n,t,r,e){var u=n?n.length:0;if(!u)return[];for(r&&typeof r!="number"&&Ur(n,t,r)&&(r=0,e=u),u=n.length,r=null==r?0:+r||0,0>r&&(r=-r>u?0:u+r),e=e===w||e>u?u:+e||0,0>e&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n},Nn.filter=re,Nn.flatten=function(n,t,r){var e=n?n.length:0;return r&&Ur(n,t,r)&&(t=false),e?pt(n,t):[]},Nn.flattenDeep=function(n){return n&&n.length?pt(n,true):[]},Nn.flow=xo,Nn.flowRight=Ao,Nn.forEach=uo,Nn.forEachRight=oo,Nn.forIn=Fo,Nn.forInRight=No,Nn.forOwn=To,Nn.forOwnRight=Lo,Nn.functions=Ie,Nn.groupBy=io,Nn.indexBy=fo,Nn.initial=function(n){return Pr(n,1)},Nn.intersection=Ku,Nn.invert=function(n,t,r){r&&Ur(n,t,r)&&(t=w),r=-1;for(var e=zo(n),u=e.length,o={};++r<u;){var i=e[r],f=n[i];t?nu.call(o,f)?o[f].push(i):o[f]=[i]:o[f]=i}return o},Nn.invoke=ao,Nn.keys=zo,Nn.keysIn=Re,Nn.map=ue,Nn.mapKeys=Bo,Nn.mapValues=Do,Nn.matches=Ne,Nn.matchesProperty=function(n,t){return xt(n,ot(t,true))},Nn.memoize=ce,Nn.merge=Eo,Nn.method=Xo,Nn.methodOf=Ho,Nn.mixin=Te,Nn.modArgs=jo,Nn.negate=function(n){if(typeof n!="function")throw new Ge(L);return function(){return!n.apply(this,arguments)}},Nn.omit=Mo,Nn.once=function(n){return fe(2,n)},Nn.pairs=Oe,Nn.partial=ko,Nn.partialRight=Io,Nn.partition=co,Nn.pick=qo,Nn.pluck=function(n,t){return ue(n,ze(t))},Nn.property=ze,Nn.propertyOf=function(n){return function(t){return yt(n,Dr(t),t+"")}},Nn.pull=function(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=xr(),u=n.length;++r<u;)for(var o=0,i=n[r];-1<(o=e(t,i,o));)pu.call(t,o,1);return t},Nn.pullAt=Vu,Nn.range=function(n,t,r){r&&Ur(n,t,r)&&(t=r=w),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;var e=-1;t=bu(vu((t-n)/(r||1)),0);for(var u=Be(t);++e<t;)u[e]=n,n+=r;return u},Nn.rearg=Ro,Nn.reject=function(n,t,r){var e=Oo(n)?Yn:lt;return t=wr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})},Nn.remove=function(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,o=[],i=n.length;for(t=wr(t,r,3);++u<i;)r=n[u],t(r,u,n)&&(e.push(r),o.push(u));return It(n,o),e},Nn.rest=Yr,Nn.restParam=le,Nn.set=function(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||Wr(t,n)?[e]:Dr(t);for(var e=-1,u=t.length,o=u-1,i=n;null!=i&&++e<u;){var f=t[e];ge(i)&&(e==o?i[f]=r:null==i[f]&&(i[f]=Cr(t[e+1])?[]:{})),i=i[f]}return n},Nn.shuffle=function(n){return oe(n,Ru)},Nn.slice=function(n,t,r){var e=n?n.length:0;return e?(r&&typeof r!="number"&&Ur(n,t,r)&&(t=0,r=e),Et(n,t,r)):[]},Nn.sortBy=function(n,t,r){if(null==n)return[];r&&Ur(n,t,r)&&(t=w);var e=-1;return t=wr(t,r,3),n=wt(n,function(n,r,u){return{a:t(n,r,u),b:++e,c:n}}),Ut(n,f)},Nn.sortByAll=po,Nn.sortByOrder=function(n,t,r,e){return null==n?[]:(e&&Ur(t,r,e)&&(r=w),Oo(t)||(t=null==t?[]:[t]),Oo(r)||(r=null==r?[]:[r]),Wt(n,t,r))},Nn.spread=function(n){if(typeof n!="function")throw new Ge(L);return function(t){return n.apply(this,t)}},Nn.take=function(n,t,r){return n&&n.length?((r?Ur(n,t,r):null==t)&&(t=1),Et(n,0,0>t?0:t)):[]},Nn.takeRight=function(n,t,r){var e=n?n.length:0;return e?((r?Ur(n,t,r):null==t)&&(t=1),t=e-(+t||0),Et(n,0>t?0:t)):[]},Nn.takeRightWhile=function(n,t,r){return n&&n.length?Nt(n,wr(t,r,3),false,true):[]},Nn.takeWhile=function(n,t,r){return n&&n.length?Nt(n,wr(t,r,3)):[]},Nn.tap=function(n,t,r){return t.call(r,n),n},Nn.throttle=function(n,t,r){var e=true,u=true;if(typeof n!="function")throw new Ge(L);return false===r?e=false:ge(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),ae(n,t,{leading:e,maxWait:+t,trailing:u})},Nn.thru=ne,Nn.times=function(n,t,r){if(n=yu(n),1>n||!mu(n))return[];var e=-1,u=Be(xu(n,4294967295));for(t=Bt(t,r,1);++e<n;)4294967295>e?u[e]=t(e):t(e);return u},Nn.toArray=je,Nn.toPlainObject=ke,Nn.transform=function(n,t,r,e){var u=Oo(n)||xe(n);return t=wr(t,e,4),null==r&&(u||ge(n)?(e=n.constructor,r=u?Oo(n)?new e:[]:$u(ve(e)?e.prototype:w)):r={}),(u?Pn:_t)(n,function(n,e,u){return t(r,n,e,u)}),r},Nn.union=Gu,Nn.uniq=Gr,Nn.unzip=Jr,Nn.unzipWith=Xr,Nn.values=Ee,Nn.valuesIn=function(n){return Ft(n,Re(n))},Nn.where=function(n,t){return re(n,bt(t))},Nn.without=Ju,Nn.wrap=function(n,t){return t=null==t?Fe:t,gr(t,R,w,[n],[])},Nn.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Er(r))var e=e?Jn(ft(e,r),ft(r,e)):r}return e?St(e):[]},Nn.zip=Xu,Nn.zipObject=Hr,Nn.zipWith=Hu,Nn.backflow=Ao,Nn.collect=ue,Nn.compose=Ao,Nn.each=uo,Nn.eachRight=oo,Nn.extend=Co,Nn.iteratee=Se,Nn.methods=Ie,Nn.object=Hr,Nn.select=re,Nn.tail=Yr,Nn.unique=Gr,Te(Nn,Nn),Nn.add=function(n,t){return(+n||0)+(+t||0)},Nn.attempt=Jo,Nn.camelCase=Po,Nn.capitalize=function(n){return(n=u(n))&&n.charAt(0).toUpperCase()+n.slice(1)},Nn.ceil=Qo,Nn.clone=function(n,t,r,e){return t&&typeof t!="boolean"&&Ur(n,t,r)?t=false:typeof t=="function"&&(e=r,r=t,t=false),typeof r=="function"?ot(n,t,Bt(r,e,1)):ot(n,t)},Nn.cloneDeep=function(n,t,r){return typeof t=="function"?ot(n,true,Bt(t,r,1)):ot(n,true)},Nn.deburr=Ce,Nn.endsWith=function(n,t,r){n=u(n),t+="";var e=n.length;return r=r===w?e:xu(0>r?0:+r||0,e),r-=t.length,0<=r&&n.indexOf(t,r)==r},Nn.escape=function(n){return(n=u(n))&&hn.test(n)?n.replace(sn,c):n},Nn.escapeRegExp=function(n){return(n=u(n))&&bn.test(n)?n.replace(wn,l):n||"(?:)"},Nn.every=te,Nn.find=ro,Nn.findIndex=qu,Nn.findKey=$o,Nn.findLast=eo,Nn.findLastIndex=Pu,Nn.findLastKey=So,Nn.findWhere=function(n,t){return ro(n,bt(t))},Nn.first=Kr,Nn.floor=ni,Nn.get=function(n,t,r){return n=null==n?w:yt(n,Dr(t),t+""),n===w?r:n},Nn.gt=se,Nn.gte=function(n,t){return n>=t},Nn.has=function(n,t){if(null==n)return false;var r=nu.call(n,t);if(!r&&!Wr(t)){if(t=Dr(t),n=1==t.length?n:yt(n,Et(t,0,-1)),null==n)return false;t=Zr(t),r=nu.call(n,t)}return r||Sr(n.length)&&Cr(t,n.length)&&(Oo(n)||pe(n))},Nn.identity=Fe,Nn.includes=ee,Nn.indexOf=Vr,Nn.inRange=function(n,t,r){return t=+t||0,r===w?(r=t,t=0):r=+r||0,n>=xu(t,r)&&n<bu(t,r)},Nn.isArguments=pe,Nn.isArray=Oo,Nn.isBoolean=function(n){return true===n||false===n||h(n)&&ru.call(n)==M},Nn.isDate=function(n){return h(n)&&ru.call(n)==q},Nn.isElement=function(n){return!!n&&1===n.nodeType&&h(n)&&!me(n)},Nn.isEmpty=function(n){return null==n?true:Er(n)&&(Oo(n)||be(n)||pe(n)||h(n)&&ve(n.splice))?!n.length:!zo(n).length},Nn.isEqual=he,Nn.isError=_e,Nn.isFinite=function(n){return typeof n=="number"&&mu(n)},Nn.isFunction=ve,Nn.isMatch=function(n,t,r,e){return r=typeof r=="function"?Bt(r,e,3):w,mt(n,Ar(t),r)},Nn.isNaN=function(n){return de(n)&&n!=+n},Nn.isNative=ye,Nn.isNull=function(n){return null===n},Nn.isNumber=de,Nn.isObject=ge,Nn.isPlainObject=me,Nn.isRegExp=we,Nn.isString=be,Nn.isTypedArray=xe,Nn.isUndefined=function(n){return n===w},Nn.kebabCase=Ko,Nn.last=Zr,Nn.lastIndexOf=function(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if(typeof r=="number")u=(0>r?bu(e+r,0):xu(r||0,e-1))+1;else if(r)return u=Lt(n,t,true)-1,n=n[u],(t===t?t===n:n!==n)?u:-1;if(t!==t)return p(n,u,true);for(;u--;)if(n[u]===t)return u;return-1},Nn.lt=Ae,Nn.lte=function(n,t){return n<=t},Nn.max=ti,Nn.min=ri,Nn.noConflict=function(){return Kn._=eu,this},Nn.noop=Le,Nn.now=ho,Nn.pad=function(n,t,r){n=u(n),t=+t;var e=n.length;return e<t&&mu(t)?(e=(t-e)/2,t=yu(e),e=vu(e),r=pr("",e,r),r.slice(0,t)+n+r):n},Nn.padLeft=Vo,Nn.padRight=Zo,Nn.parseInt=function(n,t,r){return(r?Ur(n,t,r):null==t)?t=0:t&&(t=+t),n=We(n),ju(n,t||(In.test(n)?16:10))},Nn.random=function(n,t,r){r&&Ur(n,t,r)&&(t=r=w);var e=null==n,u=null==t;return null==r&&(u&&typeof n=="boolean"?(r=n,n=1):typeof t=="boolean"&&(r=t,u=true)),e&&u&&(t=1,u=false),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1?(r=ku(),xu(n+r*(t-n+fu("1e-"+((r+"").length-1))),t)):Rt(n,t)},Nn.reduce=lo,Nn.reduceRight=so,Nn.repeat=Ue,Nn.result=function(n,t,r){var e=null==n?w:n[t];return e===w&&(null==n||Wr(t,n)||(t=Dr(t),n=1==t.length?n:yt(n,Et(t,0,-1)),e=null==n?w:n[Zr(t)]),e=e===w?r:e),ve(e)?e.call(n):e},Nn.round=ei,Nn.runInContext=m,Nn.size=function(n){var t=n?Bu(n):0;return Sr(t)?t:zo(n).length},Nn.snakeCase=Yo,Nn.some=ie,Nn.sortedIndex=Zu,Nn.sortedLastIndex=Yu,Nn.startCase=Go,Nn.startsWith=function(n,t,r){return n=u(n),r=null==r?0:xu(0>r?0:+r||0,n.length),n.lastIndexOf(t,r)==r},Nn.sum=function(n,t,r){if(r&&Ur(n,t,r)&&(t=w),t=wr(t,r,3),1==t.length){n=Oo(n)?n:zr(n),r=n.length;for(var e=0;r--;)e+=+t(n[r])||0;n=e}else n=$t(n,t);return n},Nn.template=function(n,t,r){var e=Nn.templateSettings;r&&Ur(n,t,r)&&(t=r=w),n=u(n),t=nt(tt({},r||t),e,Qn),r=nt(tt({},t.imports),e.imports,Qn);var o,i,f=zo(r),a=Ft(r,f),c=0;r=t.interpolate||Cn;var l="__p+='";r=Ze((t.escape||Cn).source+"|"+r.source+"|"+(r===gn?jn:Cn).source+"|"+(t.evaluate||Cn).source+"|$","g");var p="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(n.replace(r,function(t,r,e,u,f,a){return e||(e=u),l+=n.slice(c,a).replace(Un,s),r&&(o=true,l+="'+__e("+r+")+'"),f&&(i=true,l+="';"+f+";\n__p+='"),e&&(l+="'+((__t=("+e+"))==null?'':__t)+'"),c=a+t.length,t}),l+="';",(t=t.variable)||(l="with(obj){"+l+"}"),l=(i?l.replace(fn,""):l).replace(an,"$1").replace(cn,"$1;"),l="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",t=Jo(function(){return qe(f,p+"return "+l).apply(w,a)}),t.source=l,_e(t))throw t;return t},Nn.trim=We,Nn.trimLeft=function(n,t,r){var e=n;return(n=u(n))?n.slice((r?Ur(e,t,r):null==t)?g(n):o(n,t+"")):n},Nn.trimRight=function(n,t,r){var e=n;return(n=u(n))?(r?Ur(e,t,r):null==t)?n.slice(0,y(n)+1):n.slice(0,i(n,t+"")+1):n},Nn.trunc=function(n,t,r){r&&Ur(n,t,r)&&(t=w);var e=U;if(r=W,null!=t)if(ge(t)){var o="separator"in t?t.separator:o,e="length"in t?+t.length||0:e;r="omission"in t?u(t.omission):r}else e=+t||0;if(n=u(n),e>=n.length)return n;if(e-=r.length,1>e)return r;if(t=n.slice(0,e),null==o)return t+r;if(we(o)){if(n.slice(e).search(o)){var i,f=n.slice(0,e);for(o.global||(o=Ze(o.source,(kn.exec(o)||"")+"g")),o.lastIndex=0;n=o.exec(f);)i=n.index;t=t.slice(0,null==i?e:i)}}else n.indexOf(o,e)!=e&&(o=t.lastIndexOf(o),-1<o&&(t=t.slice(0,o)));return t+r},Nn.unescape=function(n){return(n=u(n))&&pn.test(n)?n.replace(ln,d):n},Nn.uniqueId=function(n){var t=++tu;return u(n)+t},Nn.words=$e,Nn.all=te,Nn.any=ie,Nn.contains=ee,Nn.eq=he,Nn.detect=ro,Nn.foldl=lo,Nn.foldr=so,Nn.head=Kr,Nn.include=ee,Nn.inject=lo,Te(Nn,function(){var n={};return _t(Nn,function(t,r){Nn.prototype[r]||(n[r]=t)}),n}(),false),Nn.sample=oe,Nn.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return oe(t,n)}):oe(this.value())},Nn.VERSION=b,Pn("bind bindKey curry curryRight partial partialRight".split(" "),function(n){Nn[n].placeholder=Nn}),Pn(["drop","take"],function(n,t){zn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new zn(this);r=null==r?1:bu(yu(r)||0,0);var u=this.clone();return e?u.__takeCount__=xu(u.__takeCount__,r):u.__views__.push({size:r,type:n+(0>u.__dir__?"Right":"")}),u},zn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Pn(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=T;zn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:wr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),Pn(["first","last"],function(n,t){var r="take"+(t?"Right":"");zn.prototype[n]=function(){return this[r](1).value()[0]}}),Pn(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");zn.prototype[n]=function(){return this.__filtered__?new zn(this):this[r](1)}}),Pn(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?bt:ze;zn.prototype[n]=function(n){return this[r](e(n))}}),zn.prototype.compact=function(){return this.filter(Fe)},zn.prototype.reject=function(n,t){return n=wr(n,t,1),this.filter(function(t){return!n(t)})},zn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(0<n||0>t)?new zn(r):(0>n?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==w&&(t=+t||0,r=0>t?r.dropRight(-t):r.take(t-n)),r)},zn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},zn.prototype.toArray=function(){return this.take(Ru)},_t(zn.prototype,function(n,t){var r=/^(?:filter|map|reject)|While$/.test(t),e=/^(?:first|last)$/.test(t),u=Nn[e?"take"+("last"==t?"Right":""):t];u&&(Nn.prototype[t]=function(){function t(n){return e&&i?u(n,1)[0]:u.apply(w,Jn([n],o))}var o=e?[1]:arguments,i=this.__chain__,f=this.__wrapped__,a=!!this.__actions__.length,c=f instanceof zn,l=o[0],s=c||Oo(f);return s&&r&&typeof l=="function"&&1!=l.length&&(c=s=false),l={func:ne,args:[t],thisArg:w},a=c&&!a,e&&!i?a?(f=f.clone(),f.__actions__.push(l),n.call(f)):u.call(w,this.value())[0]:!e&&s?(f=a?f:new zn(this),f=n.apply(f,o),f.__actions__.push(l),new Ln(f,i)):this.thru(t)})}),Pn("join pop push replace shift sort splice split unshift".split(" "),function(n){var t=(/^(?:replace|split)$/.test(n)?He:Je)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);Nn.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),_t(zn.prototype,function(n,t){var r=Nn[t];if(r){var e=r.name;(Wu[e]||(Wu[e]=[])).push({name:t,func:r})}}),Wu[sr(w,A).name]=[{name:"wrapper",func:w}],zn.prototype.clone=function(){var n=new zn(this.__wrapped__);return n.__actions__=qn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=qn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=qn(this.__views__),n},zn.prototype.reverse=function(){if(this.__filtered__){var n=new zn(this);n.__dir__=-1,n.__filtered__=true}else n=this.clone(),n.__dir__*=-1;return n},zn.prototype.value=function(){var n,t=this.__wrapped__.value(),r=this.__dir__,e=Oo(t),u=0>r,o=e?t.length:0;n=o;for(var i=this.__views__,f=0,a=-1,c=i.length;++a<c;){var l=i[a],s=l.size;switch(l.type){case"drop":f+=s;break;case"dropRight":n-=s;break;case"take":n=xu(n,f+s);break;case"takeRight":f=bu(f,n-s)}}if(n={start:f,end:n},i=n.start,f=n.end,n=f-i,i=u?f:i-1,f=this.__iteratees__,a=f.length,c=0,l=xu(n,this.__takeCount__),!e||o<F||o==n&&l==n)return Tt(u&&e?t.reverse():t,this.__actions__);e=[];n:for(;n--&&c<l;){for(i+=r,u=-1,o=t[i];++u<a;){var p=f[u],s=p.type,p=p.iteratee(o);if(s==T)o=p;else if(!p){if(s==N)continue n;break n}}e[c++]=o}return e},Nn.prototype.chain=function(){return Qr(this)},Nn.prototype.commit=function(){return new Ln(this.value(),this.__chain__)},Nn.prototype.concat=Qu,Nn.prototype.plant=function(n){for(var t,r=this;r instanceof Tn;){var e=Mr(r);t?u.__wrapped__=e:t=e;var u=e,r=r.__wrapped__}return u.__wrapped__=n,t},Nn.prototype.reverse=function(){function n(n){return r&&0>r.__dir__?n:n.reverse()}var t=this.__wrapped__;if(t instanceof zn){var r=t;return this.__actions__.length&&(r=new zn(this)),r=r.reverse(),r.__actions__.push({func:ne,args:[n],thisArg:w}),new Ln(r,this.__chain__)}return this.thru(n)},Nn.prototype.toString=function(){return this.value()+""},Nn.prototype.run=Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return Tt(this.__wrapped__,this.__actions__)},Nn.prototype.collect=Nn.prototype.map,Nn.prototype.head=Nn.prototype.first,Nn.prototype.select=Nn.prototype.filter,Nn.prototype.tail=Nn.prototype.rest,Nn}var w,b="3.10.0",x=1,A=2,j=4,k=8,I=16,R=32,O=64,E=128,C=256,U=30,W="...",$=150,S=16,F=200,N=1,T=2,L="Expected a function",z="__lodash_placeholder__",B="[object Arguments]",D="[object Array]",M="[object Boolean]",q="[object Date]",P="[object Error]",K="[object Function]",V="[object Number]",Z="[object Object]",Y="[object RegExp]",G="[object String]",J="[object ArrayBuffer]",X="[object Float32Array]",H="[object Float64Array]",Q="[object Int8Array]",nn="[object Int16Array]",tn="[object Int32Array]",rn="[object Uint8Array]",en="[object Uint8ClampedArray]",un="[object Uint16Array]",on="[object Uint32Array]",fn=/\b__p\+='';/g,an=/\b(__p\+=)''\+/g,cn=/(__e\(.*?\)|\b__t\))\+'';/g,ln=/&(?:amp|lt|gt|quot|#39|#96);/g,sn=/[&<>"'`]/g,pn=RegExp(ln.source),hn=RegExp(sn.source),_n=/<%-([\s\S]+?)%>/g,vn=/<%([\s\S]+?)%>/g,gn=/<%=([\s\S]+?)%>/g,yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,dn=/^\w*$/,mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,wn=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,bn=RegExp(wn.source),xn=/[\u0300-\u036f\ufe20-\ufe23]/g,An=/\\(\\)?/g,jn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/\w*$/,In=/^0[xX]/,Rn=/^\[object .+?Constructor\]$/,On=/^\d+$/,En=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Cn=/($^)/,Un=/['\n\r\u2028\u2029\\]/g,Wn=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),$n="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Sn={};Sn[X]=Sn[H]=Sn[Q]=Sn[nn]=Sn[tn]=Sn[rn]=Sn[en]=Sn[un]=Sn[on]=true,Sn[B]=Sn[D]=Sn[J]=Sn[M]=Sn[q]=Sn[P]=Sn[K]=Sn["[object Map]"]=Sn[V]=Sn[Z]=Sn[Y]=Sn["[object Set]"]=Sn[G]=Sn["[object WeakMap]"]=false;var Fn={};Fn[B]=Fn[D]=Fn[J]=Fn[M]=Fn[q]=Fn[X]=Fn[H]=Fn[Q]=Fn[nn]=Fn[tn]=Fn[V]=Fn[Z]=Fn[Y]=Fn[G]=Fn[rn]=Fn[en]=Fn[un]=Fn[on]=true,Fn[P]=Fn[K]=Fn["[object Map]"]=Fn["[object Set]"]=Fn["[object WeakMap]"]=false;var Nn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ln={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},zn={function:true,object:true},Bn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Dn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mn=zn[typeof module]&&module&&!module.nodeType&&module,qn=zn[typeof self]&&self&&self.Object&&self,Pn=zn[typeof window]&&window&&window.Object&&window,Kn=zn[typeof exports]&&exports&&!exports.nodeType&&exports&&Mn&&typeof global=="object"&&global&&global.Object&&global||Pn!==(this&&this.window)&&Pn||qn||this,Vn=m();typeof define=="function"&&typeof define.amd=="object"&&define.amd&&define("thirdparty/lodash",[],function(){return Vn})}).call(this);define("utils/EventDispatcher",["require","exports","module","thirdparty/lodash"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var LEAK_WARNING_THRESHOLD=20;function splitNs(eventStr){var dot=eventStr.indexOf(".");if(dot===-1){return{eventName:eventStr}}else{return{eventName:eventStr.substring(0,dot),ns:eventStr.substring(dot)}}}var on=function(events,fn){var eventsList=events.split(/\s+/).map(splitNs),i;if(!fn){throw new Error("EventListener.on() called with no listener fn for event '"+events+"'")}if(this._deprecatedEvents){for(i=0;i<eventsList.length;i++){var deprecation=this._deprecatedEvents[eventsList[i].eventName];if(deprecation){var message="Registering for deprecated event '"+eventsList[i].eventName+"'.";if(typeof deprecation==="string"){message+=" Instead, use "+deprecation+"."}console.warn(message,(new Error).stack)}}}for(i=0;i<eventsList.length;i++){var eventName=eventsList[i].eventName;if(!this._eventHandlers){this._eventHandlers={}}if(!this._eventHandlers[eventName]){this._eventHandlers[eventName]=[]}eventsList[i].handler=fn;this._eventHandlers[eventName].push(eventsList[i]);if(this._eventHandlers[eventName].length>LEAK_WARNING_THRESHOLD){console.error("Possible memory leak: "+this._eventHandlers[eventName].length+" '"+eventName+"' listeners attached to",this)}}return this};var off=function(events,fn){if(!this._eventHandlers){return this}var eventsList=events.split(/\s+/).map(splitNs),i;var removeAllMatches=function(eventRec,eventName){var handlerList=this._eventHandlers[eventName],k;if(!handlerList){return}for(k=handlerList.length-1;k>=0;k--){if(!eventRec.ns||eventRec.ns===handlerList[k].ns){var handler=handlerList[k].handler;if(!fn||fn===handler||fn._eventOnceWrapper===handler){handlerList.splice(k,1)}}}if(!handlerList.length){delete this._eventHandlers[eventName]}}.bind(this);var doRemove=function(eventRec){if(eventRec.eventName){removeAllMatches(eventRec,eventRec.eventName)}else{_.forEach(this._eventHandlers,function(handlerList,eventName){removeAllMatches(eventRec,eventName)})}}.bind(this);for(i=0;i<eventsList.length;i++){doRemove(eventsList[i])}return this};var one=function(events,fn){if(!fn._eventOnceWrapper){fn._eventOnceWrapper=function(event){event.target.off(event.type,fn._eventOnceWrapper);fn.apply(this,arguments)}}return this.on(events,fn._eventOnceWrapper)};var trigger=function(eventName){var event={type:eventName,target:this},handlerList=this._eventHandlers&&this._eventHandlers[eventName],i;if(!handlerList){return}handlerList=handlerList.slice();var applyArgs=Array.prototype.slice.call(arguments,1);applyArgs.unshift(event);for(i=0;i<handlerList.length;i++){try{handlerList[i].handler.apply(null,applyArgs)}catch(err){console.error("Exception in '"+eventName+"' listener on",this,String(err),err.stack);console.assert()}}};function makeEventDispatcher(obj){$.extend(obj,{on:on,off:off,one:one,trigger:trigger,_EventDispatcher:true})}function triggerWithArray(dispatcher,eventName,argsArray){var triggerArgs=[eventName].concat(argsArray);dispatcher.trigger.apply(dispatcher,triggerArgs)}function on_duringInit(futureDispatcher,events,fn){on.call(futureDispatcher,events,fn)}function markDeprecated(obj,eventName,insteadStr){if(!obj._deprecatedEvents){obj._deprecatedEvents={}}obj._deprecatedEvents[eventName]=insteadStr||true}exports.makeEventDispatcher=makeEventDispatcher;exports.triggerWithArray=triggerWithArray;exports.on_duringInit=on_duringInit;exports.markDeprecated=markDeprecated});define("utils/Async",["require","exports","module"],function(require,exports,module){"use strict";function doInParallel(items,beginProcessItem,failFast){var promises=[];var masterDeferred=new $.Deferred;if(items.length===0){masterDeferred.resolve()}else{var numCompleted=0;var hasFailed=false;items.forEach(function(item,i){var itemPromise=beginProcessItem(item,i);promises.push(itemPromise);itemPromise.fail(function(){if(failFast){masterDeferred.reject()}else{hasFailed=true}});itemPromise.always(function(){numCompleted++;if(numCompleted===items.length){if(hasFailed){masterDeferred.reject()}else{masterDeferred.resolve()}}})})}return masterDeferred.promise()}function doSequentially(items,beginProcessItem,failAndStopFast){var masterDeferred=new $.Deferred,hasFailed=false;function doItem(i){if(i>=items.length){if(hasFailed){masterDeferred.reject()}else{masterDeferred.resolve()}return}var itemPromise=beginProcessItem(items[i],i);itemPromise.done(function(){doItem(i+1)});itemPromise.fail(function(){if(failAndStopFast){masterDeferred.reject()}else{hasFailed=true;doItem(i+1)}})}doItem(0);return masterDeferred.promise()}function doSequentiallyInBackground(items,fnProcessItem,maxBlockingTime,idleTime){maxBlockingTime=maxBlockingTime||15;idleTime=idleTime||30;var sliceStartTime=(new Date).getTime();return doSequentially(items,function(item,i){var result=new $.Deferred;fnProcessItem(item,i);if((new Date).getTime()-sliceStartTime>=maxBlockingTime){window.setTimeout(function(){sliceStartTime=(new Date).getTime();result.resolve()},idleTime)}else{result.resolve()}return result},false)}function firstSequentially(items,beginProcessItem){var masterDeferred=new $.Deferred;function doItem(i){if(i>=items.length){masterDeferred.reject();return}beginProcessItem(items[i],i).fail(function(){doItem(i+1)}).done(function(){masterDeferred.resolve(items[i])})}doItem(0);return masterDeferred.promise()}function doInParallel_aggregateErrors(items,beginProcessItem){var errors=[];var masterDeferred=new $.Deferred;var parallelResult=doInParallel(items,function(item,i){var itemResult=beginProcessItem(item,i);itemResult.fail(function(error){errors.push({item:item,error:error})});return itemResult},false);parallelResult.done(function(){masterDeferred.resolve()}).fail(function(){masterDeferred.reject(errors)});return masterDeferred.promise()}var ERROR_TIMEOUT={};function withTimeout(promise,timeout,resolveTimeout){var wrapper=new $.Deferred;var timer=window.setTimeout(function(){if(resolveTimeout){wrapper.resolve()}else{wrapper.reject(ERROR_TIMEOUT)}},timeout);promise.always(function(){window.clearTimeout(timer)});promise.then(wrapper.resolve,wrapper.reject);return wrapper.promise()}function waitForAll(promises,failOnReject,timeout){var masterDeferred=new $.Deferred,results=[],count=0,sawRejects=false;if(!promises||promises.length===0){masterDeferred.resolve();return masterDeferred.promise()}failOnReject=failOnReject===undefined?false:true;if(timeout!==undefined){withTimeout(masterDeferred,timeout)}promises.forEach(function(promise){promise.fail(function(err){sawRejects=true}).done(function(result){results.push(result)}).always(function(){count++;if(count===promises.length){if(failOnReject&&sawRejects){masterDeferred.reject()}else{masterDeferred.resolve(results)}}})});return masterDeferred.promise()}function chain(functions,args){var deferred=$.Deferred();function chainHelper(index,args){if(functions.length===index){deferred.resolveWith(null,args)}else{var nextFunction=functions[index++];try{var responseOrPromise=nextFunction.apply(null,args);if(responseOrPromise.hasOwnProperty("done")&&responseOrPromise.hasOwnProperty("fail")){responseOrPromise.done(function(){chainHelper(index,arguments)});responseOrPromise.fail(function(){deferred.rejectWith(null,arguments)})}else{chainHelper(index,[responseOrPromise])}}catch(e){deferred.reject(e)}}}chainHelper(0,args||[]);return deferred.promise()}function promisify(obj,method){var result=new $.Deferred,args=Array.prototype.slice.call(arguments,2);args.push(function(err){if(err){result.reject(err)}else{result.resolve.apply(result,Array.prototype.slice.call(arguments,1))}});obj[method].apply(obj,args);return result.promise()}function PromiseQueue(){this._queue=[]}PromiseQueue.prototype._queue=null;PromiseQueue.prototype._curPromise=null;Object.defineProperties(PromiseQueue.prototype,{length:{get:function(){return this._queue.length},set:function(){throw new Error("Cannot set length")}}});PromiseQueue.prototype.add=function(op){this._queue.push(op);if(!this._curPromise){this._doNext()}};PromiseQueue.prototype.removeAll=function(){this._queue=[]};PromiseQueue.prototype._doNext=function(){var self=this;if(this._queue.length){var op=this._queue.shift();this._curPromise=op();this._curPromise.always(function(){self._curPromise=null;self._doNext()})}};exports.doInParallel=doInParallel;exports.doSequentially=doSequentially;exports.doSequentiallyInBackground=doSequentiallyInBackground;exports.doInParallel_aggregateErrors=doInParallel_aggregateErrors;exports.firstSequentially=firstSequentially;exports.withTimeout=withTimeout;exports.waitForAll=waitForAll;exports.ERROR_TIMEOUT=ERROR_TIMEOUT;exports.chain=chain;exports.promisify=promisify;exports.PromiseQueue=PromiseQueue});define("utils/UrlParams",["require","exports","module","thirdparty/lodash"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");function UrlParams(){this._store={}}UrlParams.prototype.parse=function(url){var queryString="",urlParams,p,self=this;self._store={};if(!url){queryString=window.document.location.search.substring(1)}else if(url.indexOf("?")!==-1){queryString=url.substring(url.indexOf("?")+1)}queryString=queryString.trimRight();if(queryString){urlParams=queryString.split("&");urlParams.forEach(function(param){p=param.split("=");p[1]=p[1]||"";self._store[decodeURIComponent(p[0])]=decodeURIComponent(p[1])})}};UrlParams.prototype.put=function(name,value){this._store[name]=value};UrlParams.prototype.get=function(name){return this._store[name]};UrlParams.prototype.remove=function(name){delete this._store[name]};UrlParams.prototype.isEmpty=function(name){return _.isEmpty(this._store)};UrlParams.prototype.toString=function(){var strs=[],self=this;_.forEach(self._store,function(value,key){strs.push(encodeURIComponent(key)+"="+encodeURIComponent(value))});return strs.join("&")};exports.UrlParams=UrlParams});define("envConfig",{env:"production"});define("command/CommandManager",["require","exports","module","utils/EventDispatcher"],function(require,exports,module){"use strict";var EventDispatcher=require("utils/EventDispatcher");var _commands={};var _commandsOriginal={};function Command(name,id,commandFn){this._name=name;this._id=id;this._commandFn=commandFn;this._checked=undefined;this._enabled=true}EventDispatcher.makeEventDispatcher(Command.prototype);Command.prototype.getID=function(){return this._id};Command.prototype.execute=function(){if(!this._enabled){return(new $.Deferred).reject().promise()}var result=this._commandFn.apply(this,arguments);if(!result){return(new $.Deferred).resolve().promise()}else{return result}};Command.prototype.getEnabled=function(){return this._enabled};Command.prototype.setEnabled=function(enabled){var changed=this._enabled!==enabled;this._enabled=enabled;if(changed){this.trigger("enabledStateChange")}};Command.prototype.setChecked=function(checked){var changed=this._checked!==checked;this._checked=checked;if(changed){this.trigger("checkedStateChange")}};Command.prototype.getChecked=function(){return this._checked};Command.prototype.setName=function(name){var changed=this._name!==name;this._name=name;if(changed){this.trigger("nameChange")}};Command.prototype.getName=function(){return this._name};function register(name,id,commandFn){if(_commands[id]){console.log("Attempting to register an already-registered command: "+id);return null}if(!name||!id||!commandFn){console.error("Attempting to register a command with a missing name, id, or command function:"+name+" "+id);return null}var command=new Command(name,id,commandFn);_commands[id]=command;exports.trigger("commandRegistered",command);return command}function registerInternal(id,commandFn){
if(_commands[id]){console.log("Attempting to register an already-registered command: "+id);return null}if(!id||!commandFn){console.error("Attempting to register an internal command with a missing id, or command function: "+id);return null}var command=new Command(null,id,commandFn);_commands[id]=command;exports.trigger("commandRegistered",command);return command}function _testReset(){_commandsOriginal=_commands;_commands={}}function _testRestore(){_commands=_commandsOriginal;_commandsOriginal={}}function get(id){return _commands[id]}function getAll(){return Object.keys(_commands)}function execute(id){var command=_commands[id];if(command){try{exports.trigger("beforeExecuteCommand",id)}catch(err){console.error(err)}return command.execute.apply(command,Array.prototype.slice.call(arguments,1))}else{return(new $.Deferred).reject().promise()}}EventDispatcher.makeEventDispatcher(exports);exports.register=register;exports.registerInternal=registerInternal;exports.execute=execute;exports.get=get;exports.getAll=getAll;exports._testReset=_testReset;exports._testRestore=_testRestore});define("utils/DeprecationWarning",["require","exports","module","utils/EventDispatcher"],function(require,exports,module){"use strict";var EventDispatcher=require("utils/EventDispatcher");var displayedWarnings={};function _trimStack(stack){var indexOfFirstRequireJSline;stack=stack.substr(stack.indexOf(")\n")+2);indexOfFirstRequireJSline=stack.indexOf("requirejs/require.js");if(indexOfFirstRequireJSline!==-1){indexOfFirstRequireJSline=stack.lastIndexOf(")",indexOfFirstRequireJSline)+1;stack=stack.substr(0,indexOfFirstRequireJSline)}return stack}function deprecationWarning(message,oncePerCaller,callerStackPos){if(!message||!oncePerCaller&&displayedWarnings[message]){return}var stack=(new Error).stack,callerLocation=stack.split("\n")[callerStackPos||3];if(oncePerCaller&&displayedWarnings[message]&&displayedWarnings[message][callerLocation]){return}console.warn(message+"\n"+_trimStack(stack));if(!displayedWarnings[message]){displayedWarnings[message]={}}displayedWarnings[message][callerLocation]=true}function deprecateEvent(outbound,inbound,oldEventName,newEventName,canonicalOutboundName,canonicalInboundName){EventDispatcher.markDeprecated(outbound,oldEventName,canonicalInboundName);inbound.on(newEventName,function(){EventDispatcher.triggerWithArray(outbound,oldEventName,Array.prototype.slice.call(arguments,1))})}function deprecateConstant(obj,oldId,newId){var warning="Use Menus."+newId+" instead of Menus."+oldId,newValue=obj[newId];Object.defineProperty(obj,oldId,{get:function(){deprecationWarning(warning,true);return newValue}})}exports.deprecationWarning=deprecationWarning;exports.deprecateEvent=deprecateEvent;exports.deprecateConstant=deprecateConstant});define("command/Commands",["require","exports","module","utils/DeprecationWarning"],function(require,exports,module){"use strict";var DeprecationWarning=require("utils/DeprecationWarning");exports.FILE_NEW_UNTITLED="file.newDoc";exports.FILE_NEW="file.newFile";exports.FILE_NEW_FOLDER="file.newFolder";exports.FILE_OPEN="file.open";exports.FILE_OPEN_FOLDER="file.openFolder";exports.FILE_SAVE="file.save";exports.FILE_SAVE_ALL="file.saveAll";exports.FILE_SAVE_AS="file.saveAs";exports.FILE_CLOSE="file.close";exports.FILE_CLOSE_ALL="file.close_all";exports.FILE_CLOSE_LIST="file.close_list";exports.FILE_DOWNLOAD="file.download";exports.FILE_OPEN_DROPPED_FILES="file.openDroppedFiles";exports.FILE_LIVE_FILE_PREVIEW="file.liveFilePreview";exports.TOGGLE_LIVE_PREVIEW_MB_MODE="file.toggleLivePreviewMB";exports.CMD_RELOAD_LIVE_PREVIEW="file.reloadLivePreview";exports.FILE_LIVE_HIGHLIGHT="file.previewHighlight";exports.FILE_PROJECT_SETTINGS="file.projectSettings";exports.FILE_RENAME="file.rename";exports.FILE_DELETE="file.delete";exports.FILE_EXTENSION_MANAGER="file.extensionManager";exports.FILE_REFRESH="file.refresh";exports.FILE_OPEN_PREFERENCES="file.openPreferences";exports.FILE_OPEN_KEYMAP="file.openKeyMap";exports.FILE_CLOSE_WINDOW="file.close_window";exports.FILE_QUIT="file.quit";exports.EDIT_UNDO="edit.undo";exports.EDIT_REDO="edit.redo";exports.EDIT_CUT="edit.cut";exports.EDIT_COPY="edit.copy";exports.EDIT_PASTE="edit.paste";exports.EDIT_SELECT_ALL="edit.selectAll";exports.EDIT_SELECT_LINE="edit.selectLine";exports.EDIT_SPLIT_SEL_INTO_LINES="edit.splitSelIntoLines";exports.EDIT_ADD_CUR_TO_NEXT_LINE="edit.addCursorToNextLine";exports.EDIT_ADD_CUR_TO_PREV_LINE="edit.addCursorToPrevLine";exports.EDIT_INDENT="edit.indent";exports.EDIT_UNINDENT="edit.unindent";exports.EDIT_DUPLICATE="edit.duplicate";exports.EDIT_DELETE_LINES="edit.deletelines";exports.EDIT_LINE_COMMENT="edit.lineComment";exports.EDIT_BLOCK_COMMENT="edit.blockComment";exports.EDIT_LINE_UP="edit.lineUp";exports.EDIT_LINE_DOWN="edit.lineDown";exports.EDIT_OPEN_LINE_ABOVE="edit.openLineAbove";exports.EDIT_OPEN_LINE_BELOW="edit.openLineBelow";exports.TOGGLE_CLOSE_BRACKETS="edit.autoCloseBrackets";exports.SHOW_CODE_HINTS="edit.showCodeHints";exports.CMD_FIND="cmd.find";exports.CMD_FIND_IN_FILES="cmd.findInFiles";exports.CMD_FIND_IN_SUBTREE="cmd.findInSubtree";exports.CMD_FIND_NEXT="cmd.findNext";exports.CMD_FIND_PREVIOUS="cmd.findPrevious";exports.CMD_FIND_ALL_AND_SELECT="cmd.findAllAndSelect";exports.CMD_ADD_NEXT_MATCH="cmd.addNextMatch";exports.CMD_SKIP_CURRENT_MATCH="cmd.skipCurrentMatch";exports.CMD_REPLACE="cmd.replace";exports.CMD_REPLACE_IN_FILES="cmd.replaceInFiles";exports.CMD_REPLACE_IN_SUBTREE="cmd.replaceInSubtree";exports.CMD_THEMES_OPEN_SETTINGS="view.themesOpenSetting";exports.VIEW_HIDE_SIDEBAR="view.toggleSidebar";exports.VIEW_INCREASE_FONT_SIZE="view.increaseFontSize";exports.VIEW_DECREASE_FONT_SIZE="view.decreaseFontSize";exports.VIEW_RESTORE_FONT_SIZE="view.restoreFontSize";exports.VIEW_SCROLL_LINE_UP="view.scrollLineUp";exports.VIEW_SCROLL_LINE_DOWN="view.scrollLineDown";exports.VIEW_TOGGLE_INSPECTION="view.toggleCodeInspection";exports.TOGGLE_LINE_NUMBERS="view.toggleLineNumbers";exports.TOGGLE_ACTIVE_LINE="view.toggleActiveLine";exports.TOGGLE_WORD_WRAP="view.toggleWordWrap";exports.TOGGLE_ALLOW_JAVASCRIPT="cmd.toggleAllowJavaScript";exports.TOGGLE_AUTO_UPDATE="cmd.toggleAutoUpdate";exports.TOGGLE_LOOP_PROTECT="cmd.toggleLoopProtect";exports.CMD_OPEN="cmd.open";exports.CMD_ADD_TO_WORKINGSET_AND_OPEN="cmd.addToWorkingSetAndOpen";exports.NAVIGATE_NEXT_DOC="navigate.nextDoc";exports.NAVIGATE_PREV_DOC="navigate.prevDoc";exports.NAVIGATE_NEXT_DOC_LIST_ORDER="navigate.nextDocListOrder";exports.NAVIGATE_PREV_DOC_LIST_ORDER="navigate.prevDocListOrder";exports.NAVIGATE_SHOW_IN_FILE_TREE="navigate.showInFileTree";exports.NAVIGATE_SHOW_IN_OS="navigate.showInOS";exports.NAVIGATE_QUICK_OPEN="navigate.quickOpen";exports.NAVIGATE_JUMPTO_DEFINITION="navigate.jumptoDefinition";exports.NAVIGATE_GOTO_DEFINITION="navigate.gotoDefinition";exports.NAVIGATE_GOTO_LINE="navigate.gotoLine";exports.NAVIGATE_GOTO_FIRST_PROBLEM="navigate.gotoFirstProblem";exports.TOGGLE_QUICK_EDIT="navigate.toggleQuickEdit";exports.TOGGLE_QUICK_DOCS="navigate.toggleQuickDocs";exports.QUICK_EDIT_NEXT_MATCH="navigate.nextMatch";exports.QUICK_EDIT_PREV_MATCH="navigate.previousMatch";exports.CSS_QUICK_EDIT_NEW_RULE="navigate.newRule";exports.HELP_CHECK_FOR_UPDATE="help.checkForUpdate";exports.HELP_HOW_TO_USE_BRACKETS="help.howToUseBrackets";exports.HELP_SUPPORT="help.support";exports.HELP_SUGGEST="help.suggest";exports.HELP_RELEASE_NOTES="help.releaseNotes";exports.HELP_GET_INVOLVED="help.getInvolved";exports.HELP_SHOW_EXT_FOLDER="help.showExtensionsFolder";exports.HELP_HOMEPAGE="help.homepage";exports.HELP_TWITTER="help.twitter";exports.CMD_WORKINGSET_SORT_BY_ADDED="cmd.sortWorkingSetByAdded";exports.CMD_WORKINGSET_SORT_BY_NAME="cmd.sortWorkingSetByName";exports.CMD_WORKINGSET_SORT_BY_TYPE="cmd.sortWorkingSetByType";exports.CMD_WORKING_SORT_TOGGLE_AUTO="cmd.sortWorkingSetToggleAuto";exports.CMD_SPLITVIEW_NONE="cmd.splitViewNone";exports.CMD_SPLITVIEW_VERTICAL="cmd.splitViewVertical";exports.CMD_SPLITVIEW_HORIZONTAL="cmd.splitViewHorizontal";exports.CMD_SWITCH_PANE_FOCUS="cmd.switchPaneFocus";exports.HELP_ABOUT="help.about";exports.APP_RELOAD="app.reload";exports.APP_RELOAD_WITHOUT_EXTS="app.reload_without_exts";exports.APP_ABORT_QUIT="app.abort_quit";exports.APP_BEFORE_MENUPOPUP="app.before_menupopup";exports.FILE_ADD_TO_WORKING_SET="file.addToWorkingSet";exports.HIDE_SIDEBAR="view.hideSidebar";exports.SHOW_SIDEBAR="view.showSidebar";DeprecationWarning.deprecateConstant(exports,"SORT_WORKINGSET_BY_ADDED","CMD_WORKINGSET_SORT_BY_ADDED");DeprecationWarning.deprecateConstant(exports,"SORT_WORKINGSET_BY_NAME","CMD_WORKINGSET_SORT_BY_NAME");DeprecationWarning.deprecateConstant(exports,"SORT_WORKINGSET_BY_TYPE","CMD_WORKINGSET_SORT_BY_TYPE");DeprecationWarning.deprecateConstant(exports,"SORT_WORKINGSET_AUTO","CMD_WORKING_SORT_TOGGLE_AUTO")});define("utils/ShellAPI",["require","exports","module","utils/AppInit","command/CommandManager","command/Commands"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands");var appReady=false;function executeCommand(eventName){if($(".modal.instance").length||!appReady){if(window.isBracketsTestWindow){return false}return eventName===Commands.FILE_CLOSE_WINDOW}var promise,E=Error,e=new E,stackDepth=e.stack.split("\n").length;if(stackDepth<3){promise=CommandManager.execute(eventName)}else{console.error("Skipping command "+eventName+" because it looks like you are "+"at a breakpoint. If you are NOT at a breakpoint, please "+"file a bug and mention this comment. Stack depth = "+stackDepth+".")}return promise&&promise.state()==="rejected"?false:true}AppInit.appReady(function(){appReady=true});exports.executeCommand=executeCommand});define("utils/Global",["require","exports","module","text!config.json","utils/UrlParams","utils/Compatibility","envConfig","utils/ShellAPI"],function(require,exports,module){"use strict";var configJSON=require("text!config.json"),UrlParams=require("utils/UrlParams").UrlParams,Compatibility=require("utils/Compatibility"),envConfig=require("envConfig");var Fn=Function,global=new Fn("return this")();if(!global.brackets){global.brackets={}}var localStorage=Compatibility.localStorage;var params=new UrlParams;params.parse();try{global.brackets.metadata=JSON.parse(configJSON);global.brackets.config=global.brackets.metadata.config}catch(err){console.log(err)}global.brackets.shellAPI=require("utils/ShellAPI");if(global.navigator.platform==="MacIntel"||global.navigator.platform==="MacPPC"){global.brackets.platform="mac"}else if(global.navigator.platform.indexOf("Linux")>=0){global.brackets.platform="linux"}else{global.brackets.platform="win"}global.brackets.inBrowser=!global.brackets.hasOwnProperty("fs");global.brackets.env=envConfig.env;var hasNativeMenus=params.get("hasNativeMenus");if(hasNativeMenus){global.brackets.nativeMenus=hasNativeMenus==="true"}else{global.brackets.nativeMenus=!global.brackets.inBrowser&&global.brackets.platform!=="linux"}global.brackets.isLocaleDefault=function(){return!localStorage.getItem("locale")};global.brackets.getLocale=function(){return params.get("testEnvironment")?"en":localStorage.getItem("locale")||global.require.s.contexts._.config.locale};global.brackets.setLocale=function(locale){if(locale){localStorage.setItem("locale",locale)}else{localStorage.removeItem("locale")}};if(!global.brackets.app){global.brackets.app={}}global.brackets.libRequire=global.require;global.brackets.getModule=require;global.brackets._getGlobalRequireJSConfig=function(){return global.require.s.contexts._.config};exports.global=global});define("filesystem/FileSystemError",["require","exports","module"],function(require,exports,module){"use strict";module.exports={UNKNOWN:"Unknown",INVALID_PARAMS:"InvalidParams",NOT_FOUND:"NotFound",NOT_READABLE:"NotReadable",UNSUPPORTED_ENCODING:"UnsupportedEncoding",NOT_SUPPORTED:"NotSupported",NOT_WRITABLE:"NotWritable",OUT_OF_SPACE:"OutOfSpace",TOO_MANY_ENTRIES:"TooManyEntries",ALREADY_EXISTS:"AlreadyExists",CONTENTS_MODIFIED:"ContentsModified",ROOT_NOT_WATCHED:"RootNotBeingWatched",EXCEEDS_MAX_FILE_SIZE:"ExceedsMaxFileSize",NETWORK_DRIVE_NOT_SUPPORTED:"NetworkDriveNotSupported"}});define("utils/StringUtils",["require","exports","module","thirdparty/lodash"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");function format(str){var args=[].slice.call(arguments,1);return str.replace(/\{(\d+)\}/g,function(match,num){return typeof args[num]!=="undefined"?args[num]:match})}function regexEscape(str){return str.replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")}function jQueryIdEscape(str){return str.replace(/\./g,"\\.")}function getLines(text){return text.split("\n")}function offsetToLineNum(textOrLines,offset){if(Array.isArray(textOrLines)){var lines=textOrLines,total=0,line;for(line=0;line<lines.length;line++){if(total<offset){total+=lines[line].length+1}else if(total===offset){return line}else{return line-1}}if(offset<=total){return line-1}else{return undefined}}else{return textOrLines.substr(0,offset).split("\n").length-1}}function startsWith(str,prefix){return str.slice(0,prefix.length)===prefix}function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}function urlSort(a,b){var a2,b2;function isFile(s){return s.lastIndexOf("/")+1<s.length}if(brackets.platform==="win"){a2=(isFile(a)?"1":"0")+a.toLowerCase();b2=(isFile(b)?"1":"0")+b.toLowerCase()}else{a2=a.toLowerCase();b2=b.toLowerCase()}if(a2===b2){return 0}else{return a2>b2?1:-1}}function breakableUrl(url){var escUrl=_.escape(url);return escUrl.replace(new RegExp(regexEscape("/"),"g"),"/"+"&#8203;")}function prettyPrintBytes(bytes,precision){var kilobyte=1024,megabyte=kilobyte*1024,gigabyte=megabyte*1024,terabyte=gigabyte*1024,returnVal=bytes;if(bytes>=0&&bytes<kilobyte){returnVal=bytes+" B"}else if(bytes<megabyte){returnVal=(bytes/kilobyte).toFixed(precision)+" KB"}else if(bytes<gigabyte){returnVal=(bytes/megabyte).toFixed(precision)+" MB"}else if(bytes<terabyte){returnVal=(bytes/gigabyte).toFixed(precision)+" GB"}else if(bytes>=terabyte){return(bytes/terabyte).toFixed(precision)+" TB"}return returnVal}function truncate(str,len){if(str.length>len){str=str.substr(0,len);var lastSpaceChar=str.lastIndexOf(" ");if(lastSpaceChar<len&&lastSpaceChar>-1){str=str.substr(0,lastSpaceChar)}return str}}function hashCode(str){var hash=0,i,chr,len;if(str.length===0){return hash}for(i=0,len=str.length;i<len;i++){chr=str.charCodeAt(i);hash=(hash<<5)-hash+chr;hash|=0}return hash}exports.format=format;exports.regexEscape=regexEscape;exports.jQueryIdEscape=jQueryIdEscape;exports.getLines=getLines;exports.offsetToLineNum=offsetToLineNum;exports.urlSort=urlSort;exports.breakableUrl=breakableUrl;exports.startsWith=startsWith;exports.endsWith=endsWith;exports.prettyPrintBytes=prettyPrintBytes;exports.truncate=truncate;exports.hashCode=hashCode});define("utils/PerfUtils",["require","exports","module","thirdparty/lodash","utils/StringUtils","utils/Global"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),StringUtils=require("utils/StringUtils");require("utils/Global");var enabled=brackets&&!!brackets.app.getElapsedMilliseconds;var perfData={};var activeTests={};var updatableTests={};var _reentTests={};function PerfMeasurement(id,name,reent){this.name=name;this.reent=reent;if(id){this.id=id}else{this.id=reent?"[reent "+this.reent+"] "+name:name}}PerfMeasurement.prototype.toString=function(){return this.name};function createPerfMeasurement(id,name){var pm=new PerfMeasurement(id,name);exports[id]=pm;return pm}function _generatePerfMeasurements(name){var id=!Array.isArray(name)?[name]:name;var i;for(i=0;i<id.length;i++){if(!(id[i]instanceof PerfMeasurement)){if(_reentTests[id[i]]===undefined){_reentTests[id[i]]=0}else{_reentTests[id[i]]++}id[i]=new PerfMeasurement(undefined,id[i],_reentTests[id[i]])}}return id}function _markStart(id,time){if(activeTests[id.id]){console.error("Recursive tests with the same id are not supported. Timer id: "+id.id)}activeTests[id.id]={startTime:time}}function markStart(name){if(!enabled){return}var time=brackets.app.getElapsedMilliseconds();var id=_generatePerfMeasurements(name);var i;for(i=0;i<id.length;i++){_markStart(id[i],time)}return id.length>1?id:id[0]}function addMeasurement(id){if(!enabled){return}if(!(id instanceof PerfMeasurement)){id=new PerfMeasurement(id,id)}var elapsedTime=brackets.app.getElapsedMilliseconds();if(activeTests[id.id]){elapsedTime-=activeTests[id.id].startTime;delete activeTests[id.id]}if(perfData[id]){if(Array.isArray(perfData[id])){perfData[id].push(elapsedTime)}else{perfData[id]=[perfData[id],elapsedTime]}}else{perfData[id]=elapsedTime}if(id.reent!==undefined){if(_reentTests[id]===0){delete _reentTests[id]}else{_reentTests[id]--}}}function updateMeasurement(id){var elapsedTime=brackets.app.getElapsedMilliseconds();if(updatableTests[id.id]){elapsedTime-=updatableTests[id].startTime;if(perfData[id]&&Array.isArray(perfData[id])){perfData[id][perfData[id].length-1]=elapsedTime}else{perfData[id]=elapsedTime}}else{if(activeTests[id.id]){updatableTests[id.id]={startTime:activeTests[id.id].startTime}}addMeasurement(id)}}function finalizeMeasurement(id){if(activeTests[id.id]){delete activeTests[id.id]}if(updatableTests[id.id]){delete updatableTests[id.id]}}function isActive(id){return activeTests[id.id]?true:false}function getValueAsString(entry,aggregateStats){if(!Array.isArray(entry)){return entry}if(aggregateStats){var sum=0,avg,min=_.min(entry),max=_.max(entry),sd,variationSum=0;entry.forEach(function(value){sum+=value});avg=Math.round(sum/entry.length);entry.forEach(function(value){variationSum+=Math.pow(value-avg,2)});sd=Math.round(Math.sqrt(variationSum/entry.length));return min+"("+avg+")"+max+"["+sd+"]"}else{return entry.join(", ")}}function getDelimitedPerfData(){var result="";_.forEach(perfData,function(entry,testName){result+=getValueAsString(entry)+"\t"+testName+"\n"});return result}function getData(id){if(!id){return perfData}return perfData[id]}function getHealthReport(){var healthReport={projectLoadTimes:"",fileOpenTimes:""};_.forEach(perfData,function(entry,testName){if(StringUtils.startsWith(testName,"Application Startup")){healthReport.AppStartupTime=getValueAsString(entry)}else if(StringUtils.startsWith(testName,"brackets module dependencies resolved")){healthReport.ModuleDepsResolved=getValueAsString(entry)}else if(StringUtils.startsWith(testName,"Load Project")){healthReport.projectLoadTimes+=":"+getValueAsString(entry,true)}else if(StringUtils.startsWith(testName,"Open File")){healthReport.fileOpenTimes+=":"+getValueAsString(entry,true)}});return healthReport}function searchData(regExp){var keys=Object.keys(perfData).filter(function(key){return regExp.test(key)});var datas=[];keys.forEach(function(key){datas.push(perfData[key])});return datas}function clear(){perfData={};activeTests={};updatableTests={};_reentTests={}}createPerfMeasurement("INLINE_WIDGET_OPEN","Open inline editor or docs");createPerfMeasurement("INLINE_WIDGET_CLOSE","Close inline editor or docs");exports.addMeasurement=addMeasurement;exports.finalizeMeasurement=finalizeMeasurement;exports.isActive=isActive;exports.markStart=markStart;exports.getData=getData;exports.searchData=searchData;exports.updateMeasurement=updateMeasurement;exports.getDelimitedPerfData=getDelimitedPerfData;exports.createPerfMeasurement=createPerfMeasurement;exports.clear=clear;exports.getHealthReport=getHealthReport});(function(){"use strict";var nlsRegExp=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;function addPart(locale,master,needed,toLoad,prefix,suffix){if(master[locale]){needed.push(locale);if(master[locale]===true||master[locale]===1){toLoad.push(prefix+locale+"/"+suffix)}}}function addIfExists(req,locale,toLoad,prefix,suffix){var fullName=prefix+locale+"/"+suffix;if(require._fileExists(req.toUrl(fullName+".js"))){toLoad.push(fullName)}}function mixin(target,source,force){var prop;for(prop in source){if(source.hasOwnProperty(prop)&&(!target.hasOwnProperty(prop)||force)){target[prop]=source[prop]}else if(typeof source[prop]==="object"){mixin(target[prop],source[prop],force)}}}define("i18n",["module"],function(module){var masterConfig=module.config?module.config():{};return{version:"2.0.1+",load:function(name,req,onLoad,config){config=config||{};if(config.locale){masterConfig.locale=config.locale}var masterName,match=nlsRegExp.exec(name),prefix=match[1],locale=match[4],suffix=match[5],parts=locale.split("-"),toLoad=[],value={},i,part,current="";if(match[5]){prefix=match[1];masterName=prefix+suffix}else{masterName=name;suffix=match[4];locale=masterConfig.locale;if(!locale){locale=masterConfig.locale=typeof navigator==="undefined"?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()}parts=locale.split("-")}if(config.isBuild){toLoad.push(masterName);addIfExists(req,"root",toLoad,prefix,suffix);for(i=0;i<parts.length;i++){part=parts[i];current+=(current?"-":"")+part;addIfExists(req,current,toLoad,prefix,suffix)}req(toLoad,function(){onLoad()})}else{req([masterName],function(master){var needed=[],part;addPart("root",master,needed,toLoad,prefix,suffix);for(i=0;i<parts.length;i++){part=parts[i];current+=(current?"-":"")+part;addPart(current,master,needed,toLoad,prefix,suffix)}req(toLoad,function(){var i,partBundle,part;for(i=needed.length-1;i>-1&&needed[i];i--){part=needed[i];partBundle=master[part];if(partBundle===true||partBundle===1){partBundle=req(prefix+part+"/"+suffix)}mixin(value,partBundle)}onLoad(value)})})}}}})})();define("nls/strings",["require","exports","module"],function(require,exports,module){"use strict";module.exports={root:true,bg:true,cs:true,da:true,de:true,el:true,"en-gb":true,es:true,"fa-ir":true,fi:true,fr:true,gl:true,hr:true,hu:true,id:true,it:true,ja:true,ko:true,lv:true,nb:true,nl:true,pl:true,"pt-br":true,"pt-pt":true,ro:true,ru:true,sk:true,sr:true,sv:true,tr:true,uk:true,"zh-cn":true,"zh-tw":true,ach:true,tl:true,tg:true,te:true,"sv-se":true,sq:true,sl:true,"nn-no":true,ms:true,kab:true,ka:true,hsb:true,"fy-nl":true,"hi-in":true,"es-cl":true,dsb:true,cak:true,bs:true,"bn-bd":true}});define("nls/root/strings",{GENERIC_ERROR:"(error {0})",NOT_FOUND_ERR:"The file/directory could not be found.",NOT_READABLE_ERR:"The file/directory could not be read.",EXCEEDS_MAX_FILE_SIZE:"Files larger than {0} MB cannot be opened in {APP_NAME}.",NO_MODIFICATION_ALLOWED_ERR:"The target directory cannot be modified.",NO_MODIFICATION_ALLOWED_ERR_FILE:"The permissions do not allow you to make modifications.",CONTENTS_MODIFIED_ERR:"The file has been modified outside of {APP_NAME}.",UNSUPPORTED_ENCODING_ERR:"{APP_NAME} currently only supports UTF-8 encoded text files.",FILE_EXISTS_ERR:"The file or directory already exists.",FILE:"file",FILE_TITLE:"File",DIRECTORY:"directory",DIRECTORY_TITLE:"Directory",DIRECTORY_NAMES_LEDE:"Directory names",FILENAMES_LEDE:"Filenames",FILENAME:"Filename",DIRECTORY_NAME:"Directory Name",ERROR_LOADING_PROJECT:"Error Loading Project",OPEN_DIALOG_ERROR:"An error occurred when showing the open file dialog. (error {0})",REQUEST_NATIVE_FILE_SYSTEM_ERROR:"An error occurred when trying to load the directory <span class='dialog-filename'>{0}</span>. (error {1})",READ_DIRECTORY_ENTRIES_ERROR:"An error occurred when reading the contents of the directory <span class='dialog-filename'>{0}</span>. (error {1})",ERROR_OPENING_FILE_TITLE:"Error Opening File",ERROR_OPENING_FILE:"An error occurred when trying to open the file <span class='dialog-filename'>{0}</span>. {1}",ERROR_OPENING_FILES:"An error occurred when trying to open the following files:",ERROR_RELOADING_FILE_TITLE:"Error Reloading Changes From Disk",ERROR_RELOADING_FILE:"An error occurred when trying to reload the file <span class='dialog-filename'>{0}</span>. {1}",ERROR_SAVING_FILE_TITLE:"Error Saving File",ERROR_SAVING_FILE:"An error occurred when trying to save the file <span class='dialog-filename'>{0}</span>. {1}",ERROR_RENAMING_FILE_TITLE:"Error Renaming File",ERROR_RENAMING_FILE:"An error occurred when trying to rename the file <span class='dialog-filename'>{0}</span>. {1}",ERROR_RENAMING_NOT_IN_PROJECT:"The file or directory is not part of the currently opened project. Unfortunately, only project files can be renamed at this point.",ERROR_DELETING_FILE_TITLE:"Error Deleting File",ERROR_DELETING_FILE:"An error occurred when trying to delete the file <span class='dialog-filename'>{0}</span>. {1}",INVALID_FILENAME_TITLE:"Invalid File Name",INVALID_FILENAME_MESSAGE:"File names cannot use any system reserved words, end with dots (.) or use any of the following characters: <code class='emphasized'>{1}</code>",ENTRY_WITH_SAME_NAME_EXISTS:"A file or directory with the name <span class='dialog-filename'>{0}</span> already exists.",ERROR_CREATING_FILE_TITLE:"Error Creating File",ERROR_CREATING_FILE:"An error occurred when trying to create the file <span class='dialog-filename'>{1}</span>. {2}",ERROR_MIXED_DRAGDROP:"Cannot open a folder at the same time as opening other files.",ERROR_KEYMAP_TITLE:"Error Reading User Key Map",ERROR_KEYMAP_CORRUPT:"Your key map file is not valid JSON. The file will be opened so that you can correct the format.",ERROR_LOADING_KEYMAP:"Your key map file is not a valid UTF-8 encoded text file and cannot be loaded",ERROR_RESTRICTED_COMMANDS:"You cannot reassign shortcuts to these commands: {0}",ERROR_RESTRICTED_SHORTCUTS:"You cannot reassign these shortcuts: {0}",ERROR_MULTIPLE_SHORTCUTS:"You are reassigning multiple shortcuts to these commands: {0}",ERROR_DUPLICATE_SHORTCUTS:"You have multiple bindings of these shortcuts: {0}",ERROR_INVALID_SHORTCUTS:"These shortcuts are invalid: {0}",ERROR_NONEXISTENT_COMMANDS:"You are assigning shortcuts to nonexistent commands: {0}",ERROR_PREFS_CORRUPT_TITLE:"Error Reading Preferences",ERROR_PREFS_CORRUPT:"Your preferences file is not valid JSON. The file will be opened so that you can correct the format. You will need to restart {APP_NAME} for the changes to take effect.",ERROR_PROJ_PREFS_CORRUPT:"Your project preferences file is not valid JSON. The file will be opened so that you can correct the format. You will need to reload the project for the changes to take effect.",ERROR_IN_BROWSER_TITLE:"Oops! {APP_NAME} Doesn't Run in Browsers Yet.",ERROR_IN_BROWSER:"{APP_NAME} is built in HTML, but right now it runs as a desktop app so you can use it to edit local files. Please use the application shell in the <b>github.com/adobe/brackets-shell</b> repo to run {APP_NAME}.",ERROR_MAX_FILES_TITLE:"Error Indexing Files",ERROR_MAX_FILES:"This project contains more than 30,000 files. Features that operate across multiple files may be disabled or behave as if the project is empty. <a href='https://github.com/adobe/brackets/wiki/Large-Projects'>Read more about working with large projects</a>.",ERROR_LAUNCHING_BROWSER_TITLE:"Error Launching Browser",ERROR_CANT_FIND_CHROME:"The Google Chrome browser could not be found. Please make sure it is installed.",ERROR_LAUNCHING_BROWSER:"An error occurred when launching the browser. (error {0})",LIVE_DEVELOPMENT_ERROR_TITLE:"Live Preview Error",LIVE_DEVELOPMENT_RELAUNCH_TITLE:"Connecting to Browser",LIVE_DEVELOPMENT_ERROR_MESSAGE:"In order for Live Preview to connect, Chrome needs to be relaunched with remote debugging enabled.<br /><br />Would you like to relaunch Chrome and enable remote debugging?<br /><br />",LIVE_DEV_LOADING_ERROR_MESSAGE:"Unable to load Live Preview page.",LIVE_DEV_NEED_HTML_MESSAGE:"Open an HTML file or make sure there is an index.html file in your project in order to launch live preview.",LIVE_DEV_NEED_BASEURL_MESSAGE:"To launch live preview with a server-side file, you need to specify a Base URL for this project.",LIVE_DEV_SERVER_NOT_READY_MESSAGE:"Error starting up the HTTP server for live preview files. Please try again.",LIVE_DEVELOPMENT_INFO_TITLE:"Welcome to Live Preview!",LIVE_DEVELOPMENT_INFO_MESSAGE:"Live Preview connects {APP_NAME} to your browser. It launches a preview of your HTML file in the browser, then updates the preview instantly as you edit your code.<br /><br />In this early version of {APP_NAME}, Live Preview only works with <strong>Google Chrome</strong> and updates live as you edit <strong>CSS or HTML files</strong>. Changes to JavaScript files are automatically reloaded when you save.<br /><br />(You'll only see this message once.)",LIVE_DEVELOPMENT_TROUBLESHOOTING:"For more information, see <a href='{0}' title='{0}'>Troubleshooting Live Preview connection errors</a>.",LIVE_DEV_STATUS_TIP_NOT_CONNECTED:"Live Preview",LIVE_DEV_STATUS_TIP_PROGRESS1:"Live Preview: Connecting…",LIVE_DEV_STATUS_TIP_PROGRESS2:"Live Preview: Initializing…",LIVE_DEV_STATUS_TIP_CONNECTED:"Disconnect Live Preview",LIVE_DEV_STATUS_TIP_OUT_OF_SYNC:"Live Preview (save file to refresh)",LIVE_DEV_STATUS_TIP_SYNC_ERROR:"Live Preview (not updating due to syntax error)",LIVE_DEV_DETACHED_REPLACED_WITH_DEVTOOLS:"Live Preview was canceled because the browser's developer tools were opened",LIVE_DEV_DETACHED_TARGET_CLOSED:"Live Preview was canceled because the page was closed in the browser",LIVE_DEV_NAVIGATED_AWAY:"Live Preview was canceled because the browser navigated to a page that is not part of the current project",LIVE_DEV_CLOSED_UNKNOWN_REASON:"Live Preview was canceled for an unknown reason ({0})",SAVE_CLOSE_TITLE:"Save Changes",SAVE_CLOSE_MESSAGE:"Do you want to save the changes you made in the document <span class='dialog-filename'>{0}</span>?",SAVE_CLOSE_MULTI_MESSAGE:"Do you want to save your changes to the following files?",EXT_MODIFIED_TITLE:"External Changes",CONFIRM_DELETE_TITLE:"Confirm Delete",CONFIRM_FILE_DELETE:"Are you sure you want to delete <span class='dialog-filename'>{0}</span>?",CONFIRM_FOLDER_DELETE:"Are you sure you want to delete the folder <span class='dialog-filename'>{0}</span>?",FILE_DELETED_TITLE:"File Deleted",EXT_MODIFIED_WARNING:"<span class='dialog-filename'>{0}</span> has been modified on disk outside of {APP_NAME}.<br /><br />Do you want to save the file and overwrite those changes?",EXT_MODIFIED_MESSAGE:"<span class='dialog-filename'>{0}</span> has been modified on disk outside of {APP_NAME}, but also has unsaved changes in {APP_NAME}.<br /><br />Which version do you want to keep?",EXT_DELETED_MESSAGE:"<span class='dialog-filename'>{0}</span> has been deleted on disk outside of {APP_NAME}, but has unsaved changes in {APP_NAME}.<br /><br />Do you want to keep your changes?",DONE:"Done",OK:"OK",CANCEL:"Cancel",DONT_SAVE:"Don't Save",SAVE:"Save",SAVE_AS:"Save As…",SAVE_AND_OVERWRITE:"Overwrite",DELETE:"Delete",BUTTON_YES:"Yes",BUTTON_NO:"No",FIND_MATCH_INDEX:"{0} of {1}",FIND_NO_RESULTS:"No results",FIND_QUERY_PLACEHOLDER:"Find…",REPLACE_PLACEHOLDER:"Replace with…",BUTTON_REPLACE_ALL:"Replace All",BUTTON_REPLACE_BATCH:"Batch…",BUTTON_REPLACE_ALL_IN_FILES:"Replace…",BUTTON_REPLACE:"Replace",BUTTON_NEXT:"▶",BUTTON_PREV:"◀",BUTTON_NEXT_HINT:"Next Match",BUTTON_PREV_HINT:"Previous Match",BUTTON_CASESENSITIVE_HINT:"Match Case",BUTTON_REGEXP_HINT:"Regular Expression",REPLACE_WITHOUT_UNDO_WARNING_TITLE:"Replace Without Undo",REPLACE_WITHOUT_UNDO_WARNING:"Because more than {0} files need to be changed, {APP_NAME} will modify unopened files on disk.<br />You won't be able to undo replacements in those files.",BUTTON_REPLACE_WITHOUT_UNDO:"Replace Without Undo",OPEN_FILE:"Open File",SAVE_FILE_AS:"Save File",CHOOSE_FOLDER:"Choose a folder",RELEASE_NOTES:"Release Notes",NO_UPDATE_TITLE:"You're Up to Date!",NO_UPDATE_MESSAGE:"You are running the latest version of {APP_NAME}.",FIND_REPLACE_TITLE_LABEL:"Replace",FIND_REPLACE_TITLE_WITH:"with",FIND_TITLE_LABEL:"Found",FIND_TITLE_SUMMARY:"&mdash; {0} {1} {2} in {3}",FIND_NUM_FILES:"{0} {1}",FIND_IN_FILES_SCOPED:"in <span class='dialog-filename'>{0}</span>",FIND_IN_FILES_NO_SCOPE:"in project",
FIND_IN_FILES_ZERO_FILES:"Filter excludes all files {0}",FIND_IN_FILES_FILE:"file",FIND_IN_FILES_FILES:"files",FIND_IN_FILES_MATCH:"match",FIND_IN_FILES_MATCHES:"matches",FIND_IN_FILES_MORE_THAN:"Over ",FIND_IN_FILES_PAGING:"{0}&mdash;{1}",FIND_IN_FILES_FILE_PATH:"<span class='dialog-filename'>{0}</span> {2} <span class='dialog-path'>{1}</span>",FIND_IN_FILES_EXPAND_COLLAPSE:"Ctrl/Cmd click to expand/collapse all",FIND_IN_FILES_INDEXING:"Indexing for Instant Search…",REPLACE_IN_FILES_ERRORS_TITLE:"Replace Errors",REPLACE_IN_FILES_ERRORS:"The following files weren't modified because they changed after the search or couldn't be written.",ERROR_FETCHING_UPDATE_INFO_TITLE:"Error Getting Update Info",ERROR_FETCHING_UPDATE_INFO_MSG:"There was a problem getting the latest update information from the server. Please make sure you are connected to the Internet and try again.",NEW_FILE_FILTER:"New Exclusion Set…",CLEAR_FILE_FILTER:"Don't Exclude Files",NO_FILE_FILTER:"No Files Excluded",EXCLUDE_FILE_FILTER:"Exclude {0}",EDIT_FILE_FILTER:"Edit…",FILE_FILTER_DIALOG:"Edit Exclusion Set",FILE_FILTER_INSTRUCTIONS:"Exclude files and folders matching any of the following strings / substrings or <a href='{0}' title='{0}'>wildcards</a>. Enter each string on a new line.",FILTER_NAME_PLACEHOLDER:"Name this exclusion set (optional)",FILE_FILTER_CLIPPED_SUFFIX:"and {0} more",FILTER_COUNTING_FILES:"Counting files…",FILTER_FILE_COUNT:"Allows {0} of {1} files {2}",FILTER_FILE_COUNT_ALL:"Allows all {0} files {1}",ERROR_QUICK_EDIT_PROVIDER_NOT_FOUND:"No Quick Edit available for current cursor position",ERROR_CSSQUICKEDIT_BETWEENCLASSES:"CSS Quick Edit: place cursor on a single class name",ERROR_CSSQUICKEDIT_CLASSNOTFOUND:"CSS Quick Edit: incomplete class attribute",ERROR_CSSQUICKEDIT_IDNOTFOUND:"CSS Quick Edit: incomplete id attribute",ERROR_CSSQUICKEDIT_UNSUPPORTEDATTR:"CSS Quick Edit: place cursor in tag, class, or id",ERROR_TIMINGQUICKEDIT_INVALIDSYNTAX:"CSS Timing Function Quick Edit: invalid syntax",ERROR_JSQUICKEDIT_FUNCTIONNOTFOUND:"JS Quick Edit: place cursor in function name",ERROR_QUICK_DOCS_PROVIDER_NOT_FOUND:"No Quick Docs available for current cursor position",PROJECT_LOADING:"Loading…",UNTITLED:"Untitled",WORKING_FILES:"Working Files",TOP:"Top",BOTTOM:"Bottom",LEFT:"Left",RIGHT:"Right",CMD_SPLITVIEW_NONE:"No Split",CMD_SPLITVIEW_VERTICAL:"Vertical Split",CMD_SPLITVIEW_HORIZONTAL:"Horizontal Split",SPLITVIEW_MENU_TOOLTIP:"Split the editor vertically or horizontally",GEAR_MENU_TOOLTIP:"Configure Working Set",SPLITVIEW_INFO_TITLE:"Already Open",SPLITVIEW_MULTIPANE_WARNING:"The file is already open in another pane. {APP_NAME} will soon support opening the same file in more than one pane. Until then, the file will be shown in the pane it's already open in.<br /><br />(You'll only see this message once.)",KEYBOARD_CTRL:"Ctrl",KEYBOARD_SHIFT:"Shift",KEYBOARD_SPACE:"Space",KEYBOARD_PAGE_UP:"Page Up",KEYBOARD_PAGE_DOWN:"Page Down",KEYBOARD_HOME:"Home",KEYBOARD_END:"End",KEYBOARD_INSERT:"Insert",KEYBOARD_DELETE:"Delete",STATUSBAR_CURSOR_POSITION:"Line {0}, Column {1}",STATUSBAR_SELECTION_CH_SINGULAR:" — Selected {0} column",STATUSBAR_SELECTION_CH_PLURAL:" — Selected {0} columns",STATUSBAR_SELECTION_LINE_SINGULAR:" — Selected {0} line",STATUSBAR_SELECTION_LINE_PLURAL:" — Selected {0} lines",STATUSBAR_SELECTION_MULTIPLE:" — {0} selections",STATUSBAR_INDENT_TOOLTIP_SPACES:"Click to switch indentation to spaces",STATUSBAR_INDENT_TOOLTIP_TABS:"Click to switch indentation to tabs",STATUSBAR_INDENT_SIZE_TOOLTIP_SPACES:"Click to change number of spaces used when indenting",STATUSBAR_INDENT_SIZE_TOOLTIP_TABS:"Click to change tab character width",STATUSBAR_SPACES:"Spaces:",STATUSBAR_TAB_SIZE:"Tab Size:",STATUSBAR_LINE_COUNT_SINGULAR:"— {0} Line",STATUSBAR_LINE_COUNT_PLURAL:"— {0} Lines",STATUSBAR_USER_EXTENSIONS_DISABLED:"Extensions Disabled",STATUSBAR_INSERT:"INS",STATUSBAR_OVERWRITE:"OVR",STATUSBAR_INSOVR_TOOLTIP:"Click to toggle cursor between Insert (INS) and Overwrite (OVR) modes",STATUSBAR_LANG_TOOLTIP:"Click to change file type",STATUSBAR_CODE_INSPECTION_TOOLTIP:"{0}. Click to toggle report panel.",STATUSBAR_DEFAULT_LANG:"(default)",STATUSBAR_SET_DEFAULT_LANG:"Set as Default for .{0} Files",ERRORS_PANEL_TITLE_MULTIPLE:"{0} Problems",SINGLE_ERROR:"1 {0} Problem",MULTIPLE_ERRORS:"{1} {0} Problems",NO_ERRORS:"No {0} problems found - good job!",NO_ERRORS_MULTIPLE_PROVIDER:"No problems found - good job!",LINT_DISABLED:"Linting is disabled",NO_LINT_AVAILABLE:"No linter available for {0}",NOTHING_TO_LINT:"Nothing to lint",LINTER_TIMED_OUT:"{0} has timed out after waiting for {1} ms",LINTER_FAILED:"{0} terminated with error: {1}",FILE_MENU:"File",CMD_FILE_NEW_UNTITLED:"New",CMD_FILE_NEW:"New File",CMD_FILE_NEW_FOLDER:"New Folder",CMD_FILE_OPEN:"Open…",CMD_RECENT_FILES_OPEN:"Open Recent…",CMD_ADD_TO_WORKING_SET:"Open To Working Set",CMD_OPEN_DROPPED_FILES:"Open Dropped Files",CMD_OPEN_FOLDER:"Open Folder…",CMD_FILE_CLOSE:"Close",CMD_FILE_CLOSE_ALL:"Close All",CMD_FILE_CLOSE_LIST:"Close List",CMD_FILE_CLOSE_OTHERS:"Close Others",CMD_FILE_CLOSE_ABOVE:"Close Others Above",CMD_FILE_CLOSE_BELOW:"Close Others Below",CMD_FILE_SAVE:"Save",CMD_FILE_SAVE_ALL:"Save All",CMD_FILE_SAVE_AS:"Save As…",CMD_LIVE_FILE_PREVIEW:"Live Preview",CMD_TOGGLE_LIVE_PREVIEW_MB_MODE:"Enable Experimental Live Preview",CMD_RELOAD_LIVE_PREVIEW:"Force Reload Live Preview",CMD_PROJECT_SETTINGS:"Project Settings…",CMD_FILE_RENAME:"Rename",CMD_FILE_DELETE:"Delete",CMD_INSTALL_EXTENSION:"Install Extension…",CMD_EXTENSION_MANAGER:"Extension Manager…",CMD_FILE_REFRESH:"Refresh File Tree",CMD_QUIT:"Quit",CMD_EXIT:"Exit",EDIT_MENU:"Edit",CMD_UNDO:"Undo",CMD_REDO:"Redo",CMD_CUT:"Cut",CMD_COPY:"Copy",CMD_PASTE:"Paste",CMD_SELECT_ALL:"Select All",CMD_SELECT_LINE:"Select Line",CMD_SPLIT_SEL_INTO_LINES:"Split Selection into Lines",CMD_ADD_CUR_TO_NEXT_LINE:"Add Cursor to Next Line",CMD_ADD_CUR_TO_PREV_LINE:"Add Cursor to Previous Line",CMD_INDENT:"Indent",CMD_UNINDENT:"Unindent",CMD_DUPLICATE:"Duplicate",CMD_DELETE_LINES:"Delete Line",CMD_COMMENT:"Toggle Line Comment",CMD_BLOCK_COMMENT:"Toggle Block Comment",CMD_LINE_UP:"Move Line Up",CMD_LINE_DOWN:"Move Line Down",CMD_OPEN_LINE_ABOVE:"Open Line Above",CMD_OPEN_LINE_BELOW:"Open Line Below",CMD_TOGGLE_CLOSE_BRACKETS:"Auto Close Braces",CMD_SHOW_CODE_HINTS:"Show Code Hints",FIND_MENU:"Find",CMD_FIND:"Find",CMD_FIND_NEXT:"Find Next",CMD_FIND_PREVIOUS:"Find Previous",CMD_FIND_ALL_AND_SELECT:"Find All and Select",CMD_ADD_NEXT_MATCH:"Add Next Match to Selection",CMD_SKIP_CURRENT_MATCH:"Skip and Add Next Match",CMD_FIND_IN_FILES:"Find in Files",CMD_FIND_IN_SUBTREE:"Find in…",CMD_REPLACE:"Replace",CMD_REPLACE_IN_FILES:"Replace in Files",CMD_REPLACE_IN_SUBTREE:"Replace in…",VIEW_MENU:"View",CMD_HIDE_SIDEBAR:"Hide Sidebar",CMD_SHOW_SIDEBAR:"Show Sidebar",CMD_TOGGLE_SIDEBAR:"Toggle Sidebar",CMD_TOGGLE_PANELS:"Toggle Panels",CMD_TOGGLE_PURE_CODE:"No Distractions",CMD_INCREASE_FONT_SIZE:"Increase Font Size",CMD_DECREASE_FONT_SIZE:"Decrease Font Size",CMD_RESTORE_FONT_SIZE:"Restore Font Size",CMD_SCROLL_LINE_UP:"Scroll Line Up",CMD_SCROLL_LINE_DOWN:"Scroll Line Down",CMD_TOGGLE_LINE_NUMBERS:"Line Numbers",CMD_TOGGLE_ACTIVE_LINE:"Highlight Active Line",CMD_TOGGLE_WORD_WRAP:"Word Wrap",CMD_LIVE_HIGHLIGHT:"Live Preview Highlight",CMD_VIEW_TOGGLE_INSPECTION:"Lint Files on Save",CMD_WORKINGSET_SORT_BY_ADDED:"Sort by Added",CMD_WORKINGSET_SORT_BY_NAME:"Sort by Name",CMD_WORKINGSET_SORT_BY_TYPE:"Sort by Type",CMD_WORKING_SORT_TOGGLE_AUTO:"Automatic Sort",CMD_THEMES:"Themes…",NAVIGATE_MENU:"Navigate",CMD_QUICK_OPEN:"Quick Open",CMD_GOTO_LINE:"Go to Line",CMD_GOTO_DEFINITION:"Quick Find Definition",CMD_GOTO_FIRST_PROBLEM:"Go to First Problem",CMD_TOGGLE_QUICK_EDIT:"Quick Edit",CMD_TOGGLE_QUICK_DOCS:"Quick Docs",CMD_QUICK_EDIT_PREV_MATCH:"Previous Match",CMD_QUICK_EDIT_NEXT_MATCH:"Next Match",CMD_CSS_QUICK_EDIT_NEW_RULE:"New Rule",CMD_NEXT_DOC:"Next Document",CMD_PREV_DOC:"Previous Document",CMD_NEXT_DOC_LIST_ORDER:"Next Document in List",CMD_PREV_DOC_LIST_ORDER:"Previous Document in List",CMD_SHOW_IN_TREE:"Show in File Tree",CMD_SHOW_IN_EXPLORER:"Show in Explorer",CMD_SHOW_IN_FINDER:"Show in Finder",CMD_SHOW_IN_OS:"Show in OS",CMD_SWITCH_PANE_FOCUS:"Switch Pane Focus",HELP_MENU:"Help",CMD_CHECK_FOR_UPDATE:"Check for Updates",CMD_HOW_TO_USE_BRACKETS:"How to Use {APP_NAME}",CMD_SUPPORT:"{APP_NAME} Support",CMD_SUGGEST:"Suggest a Feature",CMD_RELEASE_NOTES:"Release Notes",CMD_GET_INVOLVED:"Get Involved",CMD_SHOW_EXTENSIONS_FOLDER:"Show Extensions Folder",CMD_HEALTH_DATA_STATISTICS:"Health Report",CMD_HOMEPAGE:"{APP_TITLE} Homepage",CMD_TWITTER:"{TWITTER_NAME} on Twitter",CMD_ABOUT:"About {APP_TITLE}",CMD_OPEN_PREFERENCES:"Open Preferences File",CMD_OPEN_KEYMAP:"Open User Key Map",EXPERIMENTAL_BUILD:"experimental build",RELEASE_BUILD:"build",DEVELOPMENT_BUILD:"development build",RELOAD_FROM_DISK:"Reload from Disk",KEEP_CHANGES_IN_EDITOR:"Keep Changes in Editor",CLOSE_DONT_SAVE:"Close (Don't Save)",RELAUNCH_CHROME:"Relaunch Chrome",ABOUT:"About",CLOSE:"Close",ABOUT_TEXT_LINE1:"Release {VERSION_MAJOR}.{VERSION_MINOR} {BUILD_TYPE} {VERSION}",ABOUT_TEXT_BUILD_TIMESTAMP:"build timestamp: ",ABOUT_TEXT_LINE3:"Notices, terms and conditions pertaining to third party software are located at <a href='{ADOBE_THIRD_PARTY}'>{ADOBE_THIRD_PARTY}</a> and incorporated by reference herein.",ABOUT_TEXT_LINE4:"Documentation and source at <a href='https://github.com/adobe/brackets/'>https://github.com/adobe/brackets/</a>",ABOUT_TEXT_LINE5:"Made with ❤ and JavaScript by:",ABOUT_TEXT_LINE6:"Lots of people (but we're having trouble loading that data right now).",ABOUT_TEXT_WEB_PLATFORM_DOCS:"Web Platform Docs and the Web Platform graphical logo are licensed under a Creative Commons Attribution license, <a href='{WEB_PLATFORM_DOCS_LICENSE}'>CC-BY 3.0 Unported</a>.",UPDATE_NOTIFICATION_TOOLTIP:"There's a new build of {APP_NAME} available! Click here for details.",UPDATE_AVAILABLE_TITLE:"Update Available",UPDATE_MESSAGE:"Hey, there's a new build of {APP_NAME} available. Here are some of the new features:",GET_IT_NOW:"Get it now!",PROJECT_SETTINGS_TITLE:"Project Settings for: {0}",PROJECT_SETTING_BASE_URL:"Live Preview Base URL",PROJECT_SETTING_BASE_URL_HINT:"To use a local server, enter a URL like http://localhost:8000/",BASEURL_ERROR_INVALID_PROTOCOL:"The {0} protocol isn't supported by Live Preview&mdash;please use http: or https: .",BASEURL_ERROR_SEARCH_DISALLOWED:"The base URL can't contain search parameters like &quot;{0}&quot;.",BASEURL_ERROR_HASH_DISALLOWED:"The base URL can't contain hashes like &quot;{0}&quot;.",BASEURL_ERROR_INVALID_CHAR:"Special characters like '{0}' must be %-encoded.",BASEURL_ERROR_UNKNOWN_ERROR:"Unknown error parsing Base URL",EMPTY_VIEW_HEADER:"<em>Open a file while this pane has focus</em>",FLIPVIEW_BTN_TOOLTIP:"Flip this view to {0} pane",CURRENT_THEME:"Current Theme",USE_THEME_SCROLLBARS:"Use Theme Scrollbars",FONT_SIZE:"Font Size",FONT_FAMILY:"Font Family",THEMES_SETTINGS:"Themes Settings",BUTTON_NEW_RULE:"New Rule",INSTALL:"Install",UPDATE:"Update",REMOVE:"Remove",DISABLE:"Disable",ENABLE:"Enable",OVERWRITE:"Overwrite",CANT_REMOVE_DEV:"Extensions in the &quot;dev&quot; folder must be manually deleted.",CANT_UPDATE:"The update isn't compatible with this version of {APP_NAME}.",CANT_UPDATE_DEV:"Extensions in the &quot;dev&quot; folder can't be updated automatically.",INSTALL_EXTENSION_TITLE:"Install Extension",UPDATE_EXTENSION_TITLE:"Update Extension",INSTALL_EXTENSION_LABEL:"Extension URL",INSTALL_EXTENSION_HINT:"URL of the extension's zip file or GitHub repo",INSTALLING_FROM:"Installing extension from {0}…",INSTALL_SUCCEEDED:"Installation successful!",INSTALL_FAILED:"Installation failed.",CANCELING_INSTALL:"Canceling…",CANCELING_HUNG:"Canceling the install is taking a long time. An internal error may have occurred.",INSTALL_CANCELED:"Installation canceled.",VIEW_COMPLETE_DESCRIPTION:"View complete description",VIEW_TRUNCATED_DESCRIPTION:"View truncated description",INVALID_ZIP_FILE:"The downloaded content is not a valid zip file.",MISSING_PACKAGE_JSON:"The package has no package.json file.",INVALID_PACKAGE_JSON:"The package.json file is not valid (error was: {0}).",MISSING_PACKAGE_NAME:"The package.json file doesn't specify a package name.",BAD_PACKAGE_NAME:"{0} is an invalid package name.",MISSING_PACKAGE_VERSION:"The package.json file doesn't specify a package version.",INVALID_VERSION_NUMBER:"The package version number ({0}) is invalid.",INVALID_BRACKETS_VERSION:"The {APP_NAME} compatibility string ({0}) is invalid.",DISALLOWED_WORDS:"The words ({1}) are not allowed in the {0} field.",API_NOT_COMPATIBLE:"The extension isn't compatible with this version of {APP_NAME}. It's installed in your disabled extensions folder.",MISSING_MAIN:"The package has no main.js file.",EXTENSION_ALREADY_INSTALLED:"Installing this package will overwrite a previously installed extension. Overwrite the old extension?",EXTENSION_SAME_VERSION:"This package is the same version as the one that is currently installed. Overwrite the existing installation?",EXTENSION_OLDER_VERSION:"This package is version {0} which is older than the currently installed ({1}). Overwrite the existing installation?",DOWNLOAD_ID_IN_USE:"Internal error: download ID already in use.",NO_SERVER_RESPONSE:"Cannot connect to server.",BAD_HTTP_STATUS:"File not found on server (HTTP {0}).",CANNOT_WRITE_TEMP:"Unable to save download to temp file.",ERROR_LOADING:"The extension encountered an error while starting up.",MALFORMED_URL:"The URL is invalid. Please check that you entered it correctly.",UNSUPPORTED_PROTOCOL:"The URL must be an http or https URL.",UNKNOWN_ERROR:"Unknown internal error.",EXTENSION_MANAGER_TITLE:"Extension Manager",EXTENSION_MANAGER_ERROR_LOAD:"Unable to access the extension registry. Please try again later.",INSTALL_EXTENSION_DRAG:"Drag .zip here or",INSTALL_EXTENSION_DROP:"Drop .zip to install",INSTALL_EXTENSION_DROP_ERROR:"Install/Update aborted due to the following errors:",INSTALL_FROM_URL:"Install from URL…",INSTALL_EXTENSION_VALIDATING:"Validating…",EXTENSION_AUTHOR:"Author",EXTENSION_DATE:"Date",EXTENSION_INCOMPATIBLE_NEWER:"This extension requires a newer version of {APP_NAME}.",EXTENSION_INCOMPATIBLE_OLDER:"This extension currently only works with older versions of {APP_NAME}.",EXTENSION_LATEST_INCOMPATIBLE_NEWER:"Version {0} of this extension requires a newer version of {APP_NAME}. But you can install the earlier version {1}.",EXTENSION_LATEST_INCOMPATIBLE_OLDER:"Version {0} of this extension only works with older versions of {APP_NAME}. But you can install the earlier version {1}.",EXTENSION_NO_DESCRIPTION:"No description",EXTENSION_MORE_INFO:"More info…",EXTENSION_ERROR:"Extension error",EXTENSION_KEYWORDS:"Keywords",EXTENSION_TRANSLATED_USER_LANG:"Translated into {0} languages, including yours",EXTENSION_TRANSLATED_GENERAL:"Translated into {0} languages",EXTENSION_TRANSLATED_LANGS:"This extension has been translated into these languages: {0}",EXTENSION_INSTALLED:"Installed",EXTENSION_UPDATE_INSTALLED:"This extension update has been downloaded and will be installed after {APP_NAME} reloads.",EXTENSION_SEARCH_PLACEHOLDER:"Search",EXTENSION_MORE_INFO_LINK:"More",BROWSE_EXTENSIONS:"Browse Extensions",EXTENSION_MANAGER_REMOVE:"Remove Extension",EXTENSION_MANAGER_REMOVE_ERROR:"Unable to remove one or more extensions: {0}. {APP_NAME} will still reload.",EXTENSION_MANAGER_UPDATE:"Update Extension",EXTENSION_MANAGER_UPDATE_ERROR:"Unable to update one or more extensions: {0}. {APP_NAME} will still reload.",EXTENSION_MANAGER_DISABLE:"Disable Extension",EXTENSION_MANAGER_DISABLE_ERROR:"Unable to disable one or more extensions: {0}. {APP_NAME} will still reload.",MARKED_FOR_REMOVAL:"Marked for removal",UNDO_REMOVE:"Undo",MARKED_FOR_UPDATE:"Marked for update",UNDO_UPDATE:"Undo",MARKED_FOR_DISABLING:"Marked for disabling",UNDO_DISABLE:"Undo",CHANGE_AND_RELOAD_TITLE:"Change Extensions",CHANGE_AND_RELOAD_MESSAGE:"To update, remove or disable the marked extensions, {APP_NAME} will need to reload. You'll be prompted to save unsaved changes.",REMOVE_AND_RELOAD:"Remove Extensions and Reload",CHANGE_AND_RELOAD:"Change Extensions and Reload",UPDATE_AND_RELOAD:"Update Extensions and Reload",DISABLE_AND_RELOAD:"Disable Extensions and Reload",PROCESSING_EXTENSIONS:"Processing extension changes…",EXTENSION_NOT_INSTALLED:"Couldn't remove extension {0} because it wasn't installed.",NO_EXTENSIONS:"No extensions installed yet.<br>Click on the Available tab above to get started.",NO_EXTENSION_MATCHES:"No extensions match your search.",REGISTRY_SANITY_CHECK_WARNING:"NOTE: These extensions may come from different authors than {APP_NAME} itself. Extensions are not reviewed and have full local privileges. Be cautious when installing extensions from an unknown source.",EXTENSIONS_INSTALLED_TITLE:"Installed",EXTENSIONS_AVAILABLE_TITLE:"Available",EXTENSIONS_THEMES_TITLE:"Themes",EXTENSIONS_UPDATES_TITLE:"Updates",INLINE_EDITOR_NO_MATCHES:"No matches available.",INLINE_EDITOR_HIDDEN_MATCHES:"All matches are collapsed. Expand the files listed at right to view matches.",CSS_QUICK_EDIT_NO_MATCHES:"There are no existing CSS rules that match your selection.<br> Click &quot;New Rule&quot; to create one.",CSS_QUICK_EDIT_NO_STYLESHEETS:"There are no stylesheets in your project.<br>Create one to add CSS rules.",IMAGE_VIEWER_LARGEST_ICON:"largest",UNIT_PIXELS:"pixels",DEBUG_MENU:"Debug",ERRORS:"Errors",CMD_SHOW_DEV_TOOLS:"Show Developer Tools",CMD_REFRESH_WINDOW:"Reload With Extensions",CMD_RELOAD_WITHOUT_USER_EXTS:"Reload Without Extensions",CMD_NEW_BRACKETS_WINDOW:"New {APP_NAME} Window",CMD_LAUNCH_SCRIPT_MAC:"Install Command Line Shortcut",CMD_SWITCH_LANGUAGE:"Switch Language",CMD_RUN_UNIT_TESTS:"Run Tests",CMD_SHOW_PERF_DATA:"Show Performance Data",CMD_ENABLE_NODE_DEBUGGER:"Enable Node Debugger",CMD_LOG_NODE_STATE:"Log Node State to Console",CMD_RESTART_NODE:"Restart Node",CMD_SHOW_ERRORS_IN_STATUS_BAR:"Show Errors in Status Bar",CMD_OPEN_BRACKETS_SOURCE:"Open {APP_NAME} Source",CREATING_LAUNCH_SCRIPT_TITLE:"{APP_NAME} Command Line Shortcut",ERROR_CREATING_LAUNCH_SCRIPT:"An error occurred while installing the command line shortcut. Please try <a href='https://github.com/adobe/brackets/wiki/Command-Line-Arguments#troubleshooting'>these troubleshooting suggestions</a>.<br/><br/>Reason: {0}",ERROR_CLTOOLS_RMFAILED:"Unable to remove existing <code>/usr/local/bin/brackets</code> symlink.",ERROR_CLTOOLS_MKDIRFAILED:"Unable to create <code>/usr/local/bin</code> directory.",ERROR_CLTOOLS_LNFAILED:"Unable to create <code>/usr/local/bin/brackets</code> symlink.",ERROR_CLTOOLS_SERVFAILED:"Internal error.",ERROR_CLTOOLS_NOTSUPPORTED:"Command line shortcut is not supported on this OS.",LAUNCH_SCRIPT_CREATE_SUCCESS:"Success! Now you can easily launch {APP_NAME} from the command line: <code>brackets myFile.txt</code> to open a file or <code>brackets myFolder</code> to switch projects. <br/><br/><a href='https://github.com/adobe/brackets/wiki/Command-Line-Arguments'>Learn more</a> about using {APP_NAME} from the command line.",LANGUAGE_TITLE:"Switch Language",LANGUAGE_MESSAGE:"Language:",LANGUAGE_SUBMIT:"Reload {APP_NAME}",LANGUAGE_CANCEL:"Cancel",LANGUAGE_SYSTEM_DEFAULT:"System Default",HEALTH_DATA_NOTIFICATION:"Health Report Preferences",HEALTH_FIRST_POPUP_TITLE:"{APP_NAME} Health Report",HEALTH_DATA_DO_TRACK:"Share anonymous information on how I use {APP_NAME}",HEALTH_DATA_NOTIFICATION_MESSAGE:"In order to improve {APP_NAME}, we periodically send limited, <strong>anonymous</strong> statistics to Adobe about how you use {APP_NAME}. This information helps prioritize features, find bugs, and spot usability issues.<br><br>You can see your data or choose not to share data by selecting <strong>Help > Health Report</strong>.<br><br><a href='https://github.com/adobe/brackets/wiki/Health-Data'>Learn more about {APP_NAME} Health Report</a>",HEALTH_DATA_PREVIEW:"{APP_NAME} Health Report",HEALTH_DATA_PREVIEW_INTRO:"<p>In order to improve {APP_NAME}, we periodically send limited, <strong>anonymous</strong> statistics to Adobe about how you use {APP_NAME}. This information helps prioritize features, find bugs, and spot usability issues. <a href='https://github.com/adobe/brackets/wiki/Health-Data'>Learn more about {APP_NAME} Health Report</a> and how it benefits the {APP_NAME} community while protecting your privacy.</p><p>Below is a preview of the data that will be sent in your next Health Report <em>if</em> it is enabled.</p>",INLINE_TIMING_EDITOR_TIME:"Time",INLINE_TIMING_EDITOR_PROGRESSION:"Progression",BEZIER_EDITOR_INFO:"<kbd>↑</kbd><kbd>↓</kbd><kbd>←</kbd><kbd>→</kbd> Move selected point<br><kbd class='text'>Shift</kbd> Move by ten units<br><kbd class='text'>Tab</kbd> Switch points",STEPS_EDITOR_INFO:"<kbd>↑</kbd><kbd>↓</kbd> Increase or decrease steps<br><kbd>←</kbd><kbd>→</kbd> 'Start' or 'End'",INLINE_TIMING_EDITOR_INVALID:"The old value <code>{0}</code> is not valid, so the displayed function was changed to <code>{1}</code>. The document will be updated with the first edit.",COLOR_EDITOR_CURRENT_COLOR_SWATCH_TIP:"Current Color",COLOR_EDITOR_ORIGINAL_COLOR_SWATCH_TIP:"Original Color",COLOR_EDITOR_RGBA_BUTTON_TIP:"RGBa Format",COLOR_EDITOR_HEX_BUTTON_TIP:"Hex Format",COLOR_EDITOR_HSLA_BUTTON_TIP:"HSLa Format",COLOR_EDITOR_USED_COLOR_TIP_SINGULAR:"{0} (Used {1} time)",COLOR_EDITOR_USED_COLOR_TIP_PLURAL:"{0} (Used {1} times)",CMD_JUMPTO_DEFINITION:"Jump to Definition",CMD_SHOW_PARAMETER_HINT:"Show Parameter Hint",NO_ARGUMENTS:"<no parameters>",DETECTED_EXCLUSION_TITLE:"JavaScript File Inference Problem",DETECTED_EXCLUSION_INFO:"{APP_NAME} ran into trouble processing <span class='dialog-filename'>{0}</span>.<br><br>This file will no longer be processed for code hints, Jump to Definition or Quick Edit. To re-enable this file, open <code>.brackets.json</code> in your project and edit <code>jscodehints.detectedExclusions</code>.<br><br>This is likely a {APP_NAME} bug. If you can provide a copy of this file, please <a href='https://github.com/adobe/brackets/wiki/How-to-Report-an-Issue'>file a bug</a> with a link to the file named here.",JSLINT_NAME:"JSLint",CMD_ENABLE_QUICK_VIEW:"Quick View on Hover",CMD_TOGGLE_RECENT_PROJECTS:"Recent Projects",DOCS_MORE_LINK:"Read more",COLLAPSE_ALL:"Collapse All",EXPAND_ALL:"Expand All",COLLAPSE_CURRENT:"Collapse Current",EXPAND_CURRENT:"Expand Current",RECENT_FILES_DLG_HEADER:"Recent Files",RECENT_FILES_DLG_CLEAR_BUTTON_LABEL:"Clear",RECENT_FILES_DLG_CLEAR_BUTTON_TITLE:"Clear files not in Working Set",DESCRIPTION_ALLOW_JAVASCRIPT:"Allow JavaScript or not",DESCRIPTION_LOOP_PROTECT:"Protect against infinite and slow loops",DESCRIPTION_CLOSE_BRACKETS:"true to automatically close braces, brackets and parentheses",DESCRIPTION_CLOSE_OTHERS_ABOVE:"false to remove the &quot;Close Others Above&quot; from the Working Files context menu",DESCRIPTION_CLOSE_OTHERS_BELOW:"false to remove the &quot;Close Others Below&quot; from the Working Files context menu",DESCRIPTION_CLOSE_OTHERS:"false to remove the &quot;Close Others&quot; from the Working Files context menu",DESCRIPTION_CLOSE_TAGS:"Sets the tag closing options",DESCRIPTION_CLOSE_TAGS_DONT_CLOSE_TAGS:"An array of tags that should not be auto-closed",DESCRIPTION_CLOSE_TAGS_WHEN_OPENING:"Close when > of opening tag is typed",DESCRIPTION_CLOSE_TAGS_WHEN_CLOSING:"Close when / of closing tag is typed",DESCRIPTION_CLOSE_TAGS_INDENT_TAGS:"An array of tags that when opened has a blank line",DESCRIPTION_CODE_FOLDING_ALWAY_USE_INDENT_FOLD:"true to always generate collapsible section markers when indent level changes",DESCRIPTION_CODE_FOLDING_ENABLED:"true to enable code folding",DESCRIPTION_CODE_FOLDING_HIDE_UNTIL_MOUSEOVER:"true to make Section-collapsing markers visible only when you move the mouse over the gutter",DESCRIPTION_CODE_FOLDING_MAX_FOLD_LEVEL:"Limits how many levels deep Collapse All applies",DESCRIPTION_CODE_FOLDING_MIN_FOLD_SIZE:"Minimum lines before a collapsible section icon appears",DESCRIPTION_CODE_FOLDING_SAVE_FOLD_STATES:"true to remember collapsed sections if you close and reopen a file or project",DESCRIPTION_CODE_FOLDING_MAKE_SELECTIONS_FOLDABLE:"true to enable code folding on selected text in the editor",DESCRIPTION_ATTR_HINTS:"Enable/disable HTML attribute hints",DESCRIPTION_CSS_PROP_HINTS:"Enable/disable CSS/LESS/SCSS property hints",DESCRIPTION_JS_HINTS:"Enable/disable JavaScript code hints",DESCRIPTION_JS_HINTS_TYPE_DETAILS:"Enable/disable datatype details in JavaScript code hints",DESCRIPTION_PREF_HINTS:"Enable/disable Preferences code hints",DESCRIPTION_SPECIAL_CHAR_HINTS:"Enable/disable HTML entity hints",DESCRIPTION_SVG_HINTS:"Enable/disable SVG code hints",DESCRIPTION_HTML_TAG_HINTS:"Enable/disable HTML tag hints",DESCRIPTION_URL_CODE_HINTS:"Enable/disable URL hints in HTML & CSS/LESS/SCSS",DESCRIPTION_DRAG_DROP_TEXT:"Enable/disable Drag & Drop functionality",DESCRIPTION_HEALTH_DATA_TRACKING:"Enable the Health Data Tracking",DESCRIPTION_HIGHLIGHT_MATCHES:"Enables automatic highlighting of matching strings throughout the document",DESCRIPTION_HIGHLIGHT_MATCHES_SHOW_TOKEN:"Highlight all strings that match the token the cursor is currently in (no selection needed)",DESCRIPTION_HIGHLIGHT_MATCHES_WORDS_ONLY:"Highlight only when selection is a complete token",DESCRIPTION_INSERT_HINT_ON_TAB:"true to insert the currently selected code hint on tab",DESCRIPTION_NO_HINTS_ON_DOT:"true to not automatically show JS code hints when . is typed",DESCRIPTION_JSLINT_OPTIONS:"An object with the default options for JSLint",DESCRIPTION_JSLINT_OPTIONS_ASS:"true to allow assignment expressions",DESCRIPTION_JSLINT_OPTIONS_BITWISE:"true to allow bitwise operators",DESCRIPTION_JSLINT_OPTIONS_BROWSER:"true if standard browser globals should be predefined",DESCRIPTION_JSLINT_OPTIONS_CLOSURE:"true to allow Google Closure idioms",DESCRIPTION_JSLINT_OPTIONS_CONTINUE:"true to allow &quot;continue&quot; statement",DESCRIPTION_JSLINT_OPTIONS_COUCH:"true if CouchDB globals should be predefined",DESCRIPTION_JSLINT_OPTIONS_DEBUG:"true to allow debugger statements",DESCRIPTION_JSLINT_OPTIONS_DEVEL:"true if browser globals useful in development should be predefined",DESCRIPTION_JSLINT_OPTIONS_EQEQ:"true to allow == and !=",DESCRIPTION_JSLINT_OPTIONS_ES6:"true if ES6 globals should be predefined",DESCRIPTION_JSLINT_OPTIONS_EVIL:"true to allow eval",DESCRIPTION_JSLINT_OPTIONS_FORIN:"true to allow unfiltered &quot;for ... in&quot;",DESCRIPTION_JSLINT_OPTIONS_INDENT:"Set a specific tab width",DESCRIPTION_JSLINT_OPTIONS_MAXERR:"The maximum number of warnings reported",DESCRIPTION_JSLINT_OPTIONS_MAXLEN:"The maximum number of characters in a line",DESCRIPTION_JSLINT_OPTIONS_NEWCAP:"true to allow uncapitalized constructors",DESCRIPTION_JSLINT_OPTIONS_NODE:"true if Node.js globals should be predefined",DESCRIPTION_JSLINT_OPTIONS_NOMEN:"true to allow dangling underscore in identifiers",DESCRIPTION_JSLINT_OPTIONS_PASSFAIL:"true to stop on first error",DESCRIPTION_JSLINT_OPTIONS_PLUSPLUS:"true to allow ++ and --",DESCRIPTION_JSLINT_OPTIONS_REGEXP:"true to allow . and [^...]. in RegExp",DESCRIPTION_JSLINT_OPTIONS_RHINO:"true if Rhino globals should be predefined",DESCRIPTION_JSLINT_OPTIONS_SLOPPY:"true to allow missing `use strict` pragma",DESCRIPTION_JSLINT_OPTIONS_STUPID:"true if blocking ('...Sync') methods can be used.",DESCRIPTION_JSLINT_OPTIONS_SUB:"true to allow inefficient subscripting",DESCRIPTION_JSLINT_OPTIONS_TODO:"true to allow TODO comments",DESCRIPTION_JSLINT_OPTIONS_UNPARAM:"true to allow unused parameters",DESCRIPTION_JSLINT_OPTIONS_VARS:"true to allow more than 1 vars in a function",DESCRIPTION_JSLINT_OPTIONS_WHITE:"true to ignore white-space rules",DESCRIPTION_LANGUAGE:"Language specific settings",DESCRIPTION_LANGUAGE_FILE_EXTENSIONS:"Additional mappings from file extension to language name",DESCRIPTION_LANGUAGE_FILE_NAMES:"Additional mappings from file name to language name",DESCRIPTION_LINEWISE_COPY_CUT:"Doing copy and cut when there's no selection will copy or cut the whole lines that have cursors in them",DESCRIPTION_LINTING_ENABLED:"true to enable Code Inspection",DESCRIPTION_ASYNC_TIMEOUT:"The time in milliseconds after which asynchronous linters time out",DESCRIPTION_LINTING_PREFER:"Array of linters to run first",DESCRIPTION_LIVE_DEV_MULTIBROWSER:"true to enable experimental Live Preview",DESCRIPTION_USE_PREFERED_ONLY:"true to run providers specified in linting.prefer only",DESCRIPTION_MAX_CODE_HINTS:"Maximum code hints displayed at once",DESCRIPTION_PATH:"Path specific settings",DESCRIPTION_PROXY:"The URL of the proxy server used for extension installation",DESCRIPTION_SCROLL_PAST_END:"true to enable scrolling beyond the end of the document",DESCRIPTION_SHOW_CODE_HINTS:"false to disable all code hints",DESCRIPTION_SHOW_CURSOR_WHEN_SELECTING:"Keeps the blinking cursor visible when you have a text selection",DESCRIPTION_SHOW_LINE_NUMBERS:"true to show line numbers in a “gutter” to the left of the code",DESCRIPTION_SMART_INDENT:"Automatically indent when creating a new block",DESCRIPTION_SOFT_TABS:"false to turn off soft tabs behavior",DESCRIPTION_SORT_DIRECTORIES_FIRST:"true to sort the directories first in the project tree",DESCRIPTION_SPACE_UNITS:"Number of spaces to use for space-based indentation",DESCRIPTION_STATIC_SERVER_PORT:"Port number that the built-in server should use for Live Preview",DESCRIPTION_STYLE_ACTIVE_LINE:"true to highlight background color of the line the cursor is on",DESCRIPTION_TAB_SIZE:"Number of spaces to display for tabs",DESCRIPTION_USE_TAB_CHAR:"true to use tabs instead of spaces",DESCRIPTION_UPPERCASE_COLORS:"true to generate uppercase hex colors in Inline Color Editor",DESCRIPTION_WORD_WRAP:"Wrap lines that exceed the viewport width",DESCRIPTION_DETECTED_EXCLUSIONS:"A list of files that have been detected to cause Tern to run out of control",DESCRIPTION_INFERENCE_TIMEOUT:"The amount of time after which Tern will time out when trying to understand files",DESCRIPTION_SHOW_ERRORS_IN_STATUS_BAR:"true to show errors in status bar",DESCRIPTION_QUICK_VIEW_ENABLED:"true to enable Quick View",DESCRIPTION_EXTENSION_LESS_IMAGE_PREVIEW:"true to show image previews for URLs missing extensions",DESCRIPTION_THEME:"Select a {APP_NAME} theme",DESCRIPTION_USE_THEME_SCROLLBARS:"true to allow custom scroll bars",DESCRIPTION_LINTING_COLLAPSED:"true to collapse linting panel",DESCRIPTION_FONT_FAMILY:"Change font family",DESCRIPTION_FONT_SIZE:"Change font size; e.g. 13px",DESCRIPTION_FIND_IN_FILES_NODE:"true to enable node based search",DESCRIPTION_FIND_IN_FILES_INSTANT:"true to enable instant search",DESCRIPTION_FONT_SMOOTHING:"Mac-only: &quot;subpixel-antialiased&quot; to enable sub-pixel antialiasing or &quot;antialiased&quot; for gray scale antialiasing",DESCRIPTION_OPEN_PREFS_IN_SPLIT_VIEW:"false to disable opening preferences file in split view",DESCRIPTION_OPEN_USER_PREFS_IN_SECOND_PANE:"false to open user preferences file in left/top pane",DESCRIPTION_MERGE_PANES_WHEN_LAST_FILE_CLOSED:"true to collapse panes after the last file from the pane is closed via pane header close button",DESCRIPTION_SHOW_PANE_HEADER_BUTTONS:"Toggle when to show the close and flip-view buttons on the header.",DEFAULT_PREFERENCES_JSON_HEADER_COMMENT:"/*\n * This is a read-only file with the preferences supported\n * by {APP_NAME}.\n * Use this file as a reference to modify your preferences\n * file &quot;brackets.json&quot; opened in the other pane.\n * For more information on how to use preferences inside\n * {APP_NAME}, refer to the web page at https://github.com/adobe/brackets/wiki/How-to-Use-Brackets#preferences\n */",DEFAULT_PREFERENCES_JSON_DEFAULT:"Default",DESCRIPTION_PURE_CODING_SURFACE:"true to enable code only mode and hide all other UI elements in {APP_NAME}",DESCRIPTION_INDENT_LINE_COMMENT:"true to enable indenting of line comments",
DESCRIPTION_RECENT_FILES_NAV:"Enable/disable navigation in recent files",ERROR_OUT_OF_SPACE_TITLE:"Project Size Limit Reached",ERROR_PROJECT_SIZE_EXCEEDED:"The total size of the files in your project has exceeded the maximum available space. You will not be able to add any new files until you delete some of the existing files to free up space.",FILE_EXISTS_HEADER:"The file already exists.",ERROR_RENAMING_DIRECTORY_TITLE:"Error Renaming Directory",ERROR_RENAMING_DIRECTORY:"An error occurred when trying to rename the directory <span class='dialog-filename'>{0}</span>. {1}",ERROR_DELETING_DIRECTORY_TITLE:"Error Deleting Directory",ERROR_DELETING_DIRECTORY:"An error occurred when trying to delete the directory <span class='dialog-filename'>{0}</span>. {1}",INVALID_DIRNAME_TITLE:"Invalid Directory Name",INVALID_DIRNAME_MESSAGE:"Directory names cannot use any system reserved words, end with dots (.) or use any of the following characters: <code class='emphasized'>{1}</code>",ERROR_CREATING_DIRECTORY_TITLE:"Error Creating Directory",ERROR_CREATING_DIRECTORY:"An error occurred when trying to create the directory <span class='dialog-filename'>{1}</span>. {2}",CONFIRM_FOLDER_DELETE_TITLE:"Confirm Delete",USE_IMPORTED:"Use New File",KEEP_EXISTING:"Keep Existing File",CMD_FILE_DOWNLOAD:"Download",DND_MAX_SIZE_EXCEEDED:"file exceeds maximum supported size: {0} MB.",DND_UNSUPPORTED_FILE_TYPE:"unsupported file type",DND_ERROR_UNZIP:"unable to unzip file",DND_ERROR_UNTAR:"unable to untar file",DND_SUCCESS_UNZIP_TITLE:"Unzip Completed Successfully",DND_SUCCESS_UNTAR_TITLE:"Untar Completed Successfully",DND_FILE_REPLACE:"A file named <span class='dialog-filename'>{0}</span> already exists. Do you want to use the new file or keep the existing one?",IMAGE_FILE_TITLE:"Image File",IMAGE_DIMENSIONS_1:"{0} &times; {1} pixels",IMAGE_ALT_TEXT:"Image description",IMAGE_FILTERS_TITLE:"Image Filter",IMAGE_FILTER_PINHOLE:"Pinhole",IMAGE_FILTER_SEPIA:"Sepia",IMAGE_FILTER_CONTRAST:"Contrast",IMAGE_FILTER_VINTAGE:"Vintage",IMAGE_FILTER_SUNRISE:"Sunrise",IMAGE_FILTER_EMBOSS:"Emboss",IMAGE_FILTER_GLOWING_SUN:"Glowing Sun",IMAGE_SAVE_WITH_FILTERS:"Apply",IMAGE_RESET_FILTERS:"Cancel",FONT_FILE:"Font File",USE_FONT_INSTRUCTIONS:"To use this font, copy and paste this code into your CSS file.",FONT_TYPE_BOLD:"Bold",FONT_TYPE_ITALIC:"Italic",FONT_BOLD_HTML_TAG:"Put text inside a <code>&lt;strong&gt;&lt;/strong&gt;</code> tag.",FONT_BOLD_CSS_RULE:"Add a <code>font-weight: bold;</code> CSS rule.",FONT_ITALIC_HTML_TAG:"Put text inside an <code>&lt;em&gt;&lt;/em&gt;</code> tag.",FONT_ITALIC_CSS_RULE:"Add a <code>font-style: italic;</code> CSS rule.",VIDEO_FILE:"Video File",VIDEO_OPTIONS:"Video Options",VIDEO_CODE_SAMPLE:"Copy &amp; paste this code  to add this video to an HTML page",VIDEO_OPTION_SHOW_CONTROLS:"Show video controls",VIDEO_OPTION_AUTOPLAY:"Start playing the video automatically",VIDEO_OPTION_LOOPING:"Restart the video when it is over",VIDEO_OPTION_DISABLE_AUDIO:"Disable audio",AUDIO_FILE:"Audio File",AUDIO_OPTIONS:"Audio Options",AUDIO_OPTION_SHOW_CONTROLS:"Show audio controls (when disabled audio player is invisible)",AUDIO_OPTION_AUTOPLAY:"Start playing the audio automatically",AUDIO_OPTION_LOOPING:"Restart the audio when it is over",AUDIO_OPTION_DISABLE_AUDIO:"Start audio player muted",BINARY_FILE_TITLE:"Non-editable File",BINARY_FILE_CANNOT_EDIT:"Tynker is not sure how to edit this file!",BINARY_FILE_OPTIONS_TITLE:"But you can...",BINARY_FILE_DOWNLOAD:"Download it",BINARY_FILE_OPEN:"Open it in a new tab",BINARY_FILE_TRY_EDIT:"Try to edit it",PDF_FILE_TITLE:"PDF File",INDIVIDUAL_CORNERS:"Individual Corners",ALL_CORNERS:"All Corners",PIXEL_UNIT:"pixels",PERCENTAGE_UNIT:"percentage",EM_UNIT:"em font unit",ALL_SIDE:"All Sides",INDIVIDUAL_SIDES:"Individual Sides",SET_PADDING_FOR:"Set Padding For",SET_MARGIN_FOR:"Set Margin For",UPLOAD_FILES_DIALOG_HEADER:"Upload Files",DRAG_AREA_UPLOAD_FILES_DIALOG_TEXT:"...or drag files here.",DROP_AREA_UPLOAD_FILES_DIALOG_TEXT:"OK, release the files!",UPLOADING_INDICATOR:"Uploading...",BUTTON_FROM_YOUR_COMPUTER:"From your Computer...",TAKE_A_SELFIE:"Take a Selfie...",CMD_MOVE_FILE:"Move To...",PROJECT_ROOT:"Project Root",PICK_A_FOLDER_TO_MOVE_TO:"Pick a folder",ERROR_MOVING_FILE_DIALOG_HEADER:"Move Error",UNEXPECTED_ERROR_MOVING_FILE:"An unexpected error occurred when attempting to move {0} to {1}",ERROR_MOVING_FILE_SAME_NAME:"A file or folder with the name {0} already exists in {1}. Consider renaming either one to continue.",CONSOLE_TITLE:"Console",CONSOLE_TOOLTIP:"Open the JavaScript Console",CONSOLE_CLEAR:"Clear",CONSOLE_CLEAR_TOOLTIP:"Clear the Console",CONSOLE_CLOSE_TOOLTIP:"Close the Console",CONSOLE_EMPTY_STRING:"Empty String",CONSOLE_HELPTEXT:"To use the console, add <code>console.log(&quot;Hello World!&quot;);</code> to your JavaScript file."});define("nls/urls",["require","exports","module"],function(require,exports,module){"use strict";module.exports={root:true,bg:true,cs:true,da:true,de:true,es:true,"fa-ir":true,fi:true,fr:true,hr:true,id:true,it:true,ja:true,ko:true,nb:true,pl:true,"pt-br":true,"pt-pt":true,ru:true,sv:true,"zh-cn":true,"zh-tw":true,tr:true}});define("nls/root/urls",{GETTING_STARTED:"root/Getting Started",ADOBE_THIRD_PARTY:"http://www.adobe.com/go/thirdparty/",WEB_PLATFORM_DOCS_LICENSE:"http://creativecommons.org/licenses/by/3.0/"});define("nls/strings-app",["require","exports","module"],function(require,exports,module){"use strict";module.exports={root:true}});define("nls/root/strings-app",{APP_NAME:"Brackets",LOCALE_BG:"български",LOCALE_CS:"čeština",LOCALE_DA:"Dansk",LOCALE_DE:"Deutsch",LOCALE_EL:"Ελληνικά",LOCALE_EN:"English (US)",LOCALE_EN_GB:"English (UK)",LOCALE_ES:"español",LOCALE_FA_IR:"فارسی",LOCALE_FI:"suomi",LOCALE_FR:"français",LOCALE_GL:"galego",LOCALE_HR:"hrvatski",LOCALE_HU:"magyar",LOCALE_ID:"Bahasa Indonesia",LOCALE_IT:"italiano",LOCALE_JA:"日本語",LOCALE_KO:"한국어",LOCALE_LV:"latviešu",LOCALE_NB:"norsk",LOCALE_NL:"Nederlands",LOCALE_PL:"polski",LOCALE_PT_BR:"português (BR)",LOCALE_PT_PT:"português (PT)",LOCALE_RO:"română",LOCALE_RU:"русский",LOCALE_SK:"slovenčina",LOCALE_SR:"Српски",LOCALE_SV:"svenska",LOCALE_TR:"Türkçe",LOCALE_UK:"Українська",LOCALE_ZH_CN:"简体中文",LOCALE_ZH_TW:"繁體中文"});define("strings",["require","exports","module","thirdparty/lodash","i18n!nls/strings","i18n!nls/urls","i18n!nls/strings-app","utils/StringUtils","utils/Global"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var strings=require("i18n!nls/strings"),urls=require("i18n!nls/urls"),stringsApp=require("i18n!nls/strings-app"),StringUtils=require("utils/StringUtils");require("utils/Global");var additionalGlobals=$.extend({},urls),parsedVersion=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(brackets.metadata.version);additionalGlobals.APP_NAME=brackets.metadata.name||strings.APP_NAME;additionalGlobals.APP_TITLE=brackets.config.app_title||strings.APP_NAME;additionalGlobals.TWITTER_NAME=brackets.config.twitter_name;additionalGlobals.VERSION=brackets.metadata.version;additionalGlobals.VERSION_MAJOR=parsedVersion[1];additionalGlobals.VERSION_MINOR=parsedVersion[2];additionalGlobals.VERSION_PATCH=parsedVersion[3];var isDevBuild=!StringUtils.endsWith(decodeURI(window.location.pathname),"/www/index.html");if(isDevBuild){additionalGlobals.BUILD_TYPE=strings.DEVELOPMENT_BUILD}else{var isReleaseBuild=brackets.platform==="mac"||brackets.platform==="win";additionalGlobals.BUILD_TYPE=isReleaseBuild?strings.RELEASE_BUILD:strings.EXPERIMENTAL_BUILD}_.forEach(strings,function(value,key){_.forEach(additionalGlobals,function(item,name){strings[key]=strings[key].replace(new RegExp("{"+name+"}","g"),additionalGlobals[name])})});_.forEach(stringsApp,function(value,key){_.forEach(additionalGlobals,function(item,name){stringsApp[key]=stringsApp[key].replace(new RegExp("{"+name+"}","g"),additionalGlobals[name])});strings[key]=stringsApp[key]});module.exports=strings});define("file/FileUtils",["require","exports","module","utils/Global","filesystem/FileSystemError","utils/DeprecationWarning","language/LanguageManager","utils/PerfUtils","strings","utils/StringUtils"],function(require,exports,module){"use strict";require("utils/Global");var FileSystemError=require("filesystem/FileSystemError"),DeprecationWarning=require("utils/DeprecationWarning"),LanguageManager=require("language/LanguageManager"),PerfUtils=require("utils/PerfUtils"),Strings=require("strings"),StringUtils=require("utils/StringUtils");var DocumentCommandHandlers,LiveDevelopmentUtils;var MAX_FILE_SIZE_MB=16;var MAX_FILE_SIZE=MAX_FILE_SIZE_MB*1024*1024;function readAsText(file){var result=new $.Deferred;var perfTimerName=PerfUtils.markStart("readAsText:\t"+file.fullPath);result.always(function(){PerfUtils.addMeasurement(perfTimerName)});file.read({encoding:"utf8"},function(err,data,stat){if(!err){result.resolve(data,stat.mtime)}else{result.reject(err)}});return result.promise()}function writeText(file,text,allowBlindWrite,options){var result=new $.Deferred;if(!options){options={}}if(allowBlindWrite){options.blind=true}file.write(text,options,function(err){if(!err){result.resolve()}else{result.reject(err)}});return result.promise()}var LINE_ENDINGS_CRLF="CRLF",LINE_ENDINGS_LF="LF";function getPlatformLineEndings(){return brackets.platform==="win"?LINE_ENDINGS_CRLF:LINE_ENDINGS_LF}function sniffLineEndings(text){var subset=text.substr(0,1e3);var hasCRLF=/\r\n/.test(subset);var hasLF=/[^\r]\n/.test(subset);if(hasCRLF&&hasLF||!hasCRLF&&!hasLF){return null}else{return hasCRLF?LINE_ENDINGS_CRLF:LINE_ENDINGS_LF}}function translateLineEndings(text,lineEndings){if(lineEndings!==LINE_ENDINGS_CRLF&&lineEndings!==LINE_ENDINGS_LF){lineEndings=getPlatformLineEndings()}var eolStr=lineEndings===LINE_ENDINGS_CRLF?"\r\n":"\n";var findAnyEol=/\r\n|\r|\n/g;return text.replace(findAnyEol,eolStr)}function getFileErrorString(name){var result;if(name===FileSystemError.NOT_FOUND){result=Strings.NOT_FOUND_ERR}else if(name===FileSystemError.NOT_READABLE){result=Strings.NOT_READABLE_ERR}else if(name===FileSystemError.NOT_WRITABLE){result=Strings.NO_MODIFICATION_ALLOWED_ERR_FILE}else if(name===FileSystemError.CONTENTS_MODIFIED){result=Strings.CONTENTS_MODIFIED_ERR}else if(name===FileSystemError.UNSUPPORTED_ENCODING){result=Strings.UNSUPPORTED_ENCODING_ERR}else if(name===FileSystemError.EXCEEDS_MAX_FILE_SIZE){result=StringUtils.format(Strings.EXCEEDS_MAX_FILE_SIZE,MAX_FILE_SIZE_MB)}else{result=StringUtils.format(Strings.GENERIC_ERROR,name)}return result}function showFileOpenError(name,path){DeprecationWarning.deprecationWarning("FileUtils.showFileOpenError() has been deprecated. "+"Please use DocumentCommandHandlers.showFileOpenError() instead.");return DocumentCommandHandlers.showFileOpenError(name,path)}function makeDialogFileList(paths){var result="<ul class='dialog-list'>";paths.forEach(function(path){result+="<li><span class='dialog-filename'>";result+=StringUtils.breakableUrl(path);result+="</span></li>"});result+="</ul>";return result}function convertToNativePath(path){path=unescape(path);if(path.indexOf(":")!==-1&&path[0]==="/"){return path.substr(1)}return path}function convertWindowsPathToUnixPath(path){if(brackets.platform==="win"){path=path.replace(/\\/g,"/")}return path}function stripTrailingSlash(path){if(path&&path[path.length-1]==="/"){return path.slice(0,-1)}else{return path}}function getBaseName(fullPath){var lastSlash=fullPath.lastIndexOf("/");if(lastSlash===fullPath.length-1){return fullPath.slice(fullPath.lastIndexOf("/",fullPath.length-2)+1,-1)}else{return fullPath.slice(lastSlash+1)}}function getNativeBracketsDirectoryPath(){var pathname=decodeURI(window.location.pathname);var directory=pathname.substr(0,pathname.lastIndexOf("/"));return convertToNativePath(directory)}function getNativeModuleDirectoryPath(module){var path;if(module&&module.uri){path=decodeURI(module.uri);path=path.substr(0,path.lastIndexOf("/"))}return path}function getFileExtension(fullPath){var baseName=getBaseName(fullPath),idx=baseName.lastIndexOf(".");if(idx===-1){return""}return baseName.substr(idx+1)}function getSmartFileExtension(fullPath){DeprecationWarning.deprecationWarning("FileUtils.getSmartFileExtension() has been deprecated. "+"Please use LanguageManager.getCompoundFileExtension() instead.");return LanguageManager.getCompoundFileExtension(fullPath)}function getRelativeFilename(basePath,filename){if(!filename||filename.substr(0,basePath.length)!==basePath){return}return filename.substr(basePath.length)}function isStaticHtmlFileExt(filePath){DeprecationWarning.deprecationWarning("FileUtils.isStaticHtmlFileExt() has been deprecated. "+"Please use LiveDevelopmentUtils.isStaticHtmlFileExt() instead.");return LiveDevelopmentUtils.isStaticHtmlFileExt(filePath)}function getDirectoryPath(fullPath){return fullPath.substr(0,fullPath.lastIndexOf("/")+1)}function getParentPath(fullPath){if(fullPath==="/"){return""}return fullPath.substring(0,fullPath.lastIndexOf("/",fullPath.length-2)+1)}function getFilenameWithoutExtension(filename){var index=filename.lastIndexOf(".");return index===-1?filename:filename.slice(0,index)}var _cmpNames=function(){if(brackets.platform==="win"){return function(filename1,filename2,lang){var f1=getFilenameWithoutExtension(filename1),f2=getFilenameWithoutExtension(filename2);return f1.localeCompare(f2,lang,{numeric:true})}}return function(filename1,filename2,lang){return filename1.localeCompare(filename2,lang,{numeric:true})}}();function compareFilenames(filename1,filename2,extFirst){var lang=brackets.getLocale();filename1=filename1.toLocaleLowerCase();filename2=filename2.toLocaleLowerCase();function cmpExt(){var ext1=getFileExtension(filename1),ext2=getFileExtension(filename2);return ext1.localeCompare(ext2,lang,{numeric:true})}function cmpNames(){return _cmpNames(filename1,filename2,lang)}return extFirst?cmpExt()||cmpNames():cmpNames()||cmpExt()}function comparePaths(path1,path2){var entryName1,entryName2,pathParts1=path1.split("/"),pathParts2=path2.split("/"),length=Math.min(pathParts1.length,pathParts2.length),folders1=pathParts1.length-1,folders2=pathParts2.length-1,index=0;while(index<length){entryName1=pathParts1[index];entryName2=pathParts2[index];if(entryName1!==entryName2){if(index<folders1&&index<folders2){return entryName1.toLocaleLowerCase().localeCompare(entryName2.toLocaleLowerCase())}else if(index>=folders1&&index>=folders2){return compareFilenames(entryName1,entryName2)}return index>=folders1&&index<folders2?-1:1}index++}return 0}function encodeFilePath(path){var pathArray=path.split("/");pathArray=pathArray.map(function(subPath){return encodeURIComponent(subPath)});return pathArray.join("/")}require(["document/DocumentCommandHandlers"],function(dchModule){DocumentCommandHandlers=dchModule});require(["LiveDevelopment/LiveDevelopmentUtils"],function(lduModule){LiveDevelopmentUtils=lduModule});exports.LINE_ENDINGS_CRLF=LINE_ENDINGS_CRLF;exports.LINE_ENDINGS_LF=LINE_ENDINGS_LF;exports.getPlatformLineEndings=getPlatformLineEndings;exports.sniffLineEndings=sniffLineEndings;exports.translateLineEndings=translateLineEndings;exports.showFileOpenError=showFileOpenError;exports.getFileErrorString=getFileErrorString;exports.makeDialogFileList=makeDialogFileList;exports.readAsText=readAsText;exports.writeText=writeText;exports.convertToNativePath=convertToNativePath;exports.convertWindowsPathToUnixPath=convertWindowsPathToUnixPath;exports.getNativeBracketsDirectoryPath=getNativeBracketsDirectoryPath;exports.getNativeModuleDirectoryPath=getNativeModuleDirectoryPath;exports.stripTrailingSlash=stripTrailingSlash;exports.isStaticHtmlFileExt=isStaticHtmlFileExt;exports.getDirectoryPath=getDirectoryPath;exports.getParentPath=getParentPath;exports.getBaseName=getBaseName;exports.getRelativeFilename=getRelativeFilename;exports.getFilenameWithoutExtension=getFilenameWithoutExtension;exports.getFileExtension=getFileExtension;exports.getSmartFileExtension=getSmartFileExtension;exports.compareFilenames=compareFilenames;exports.comparePaths=comparePaths;exports.MAX_FILE_SIZE=MAX_FILE_SIZE;exports.encodeFilePath=encodeFilePath});define("text!language/languages.json",[],function(){return'{\n    "unknown": {\n        "name": "Unknown",\n        "isBinary": true\n    },\n\n    "py": {\n        "name": "Python",\n        "mode": "python",\n        "fileExtensions": ["py"]\n    },\n\n    "java": {\n        "name": "Java",\n        "mode": ["clike", "text/x-java"],\n        "fileExtensions": ["java"]\n    },\n\n    "text": {\n        "name": "Text",\n        "mode": ["null", "text/plain"],\n        "fileExtensions": ["txt", "ini", "cfg"]\n    },\n\n    "css": {\n        "name": "CSS",\n        "mode": "css",\n        "fileExtensions": ["css", "css.erb", "less"],\n        "blockComment": ["/*", "*/"]\n    },\n\n    "html": {\n        "name": "HTML",\n        "mode": ["htmlmixed", "text/x-brackets-html"],\n        "fileExtensions": ["html", "htm", "shtm", "shtml", "xhtml", "cfm", "cfml", "cfc", "dhtml", "xht", "tpl", "twig", "kit", "jsp", "aspx", "ascx", "asp", "master", "cshtml", "vbhtml"],\n        "blockComment": ["\x3c!--", "--\x3e"]\n    },\n\n    "javascript": {\n        "name": "JavaScript",\n        "mode": "javascript",\n        "fileExtensions": ["js", "js.erb", "jsm", "_js"],\n        "blockComment": ["/*", "*/"],\n        "lineComment": ["//"]\n    },\n\n    "jsx": {\n        "name": "JSX",\n        "mode": "jsx",\n        "fileExtensions": ["jsx"],\n        "blockComment": ["/*", "*/"],\n        "lineComment": ["//"]\n    },\n\n    "json": {\n        "name": "JSON",\n        "mode": ["javascript", "application/json"],\n        "fileExtensions": ["json"],\n        "fileNames": [".jshintrc", ".bowerrc"]\n    },\n\n    "xml": {\n        "name": "XML",\n        "mode": "xml",\n        "fileExtensions": ["xml", "wxs", "wxl", "wsdl", "rss", "atom", "rdf", "xslt", "xsl", "xul", "xsd", "xbl", "mathml", "config", "plist", "xaml"],\n        "blockComment": ["\x3c!--", "--\x3e"]\n    },\n\n    "svg": {\n        "name": "SVG",\n        "mode": ["xml", "image/svg+xml"],\n        "fileExtensions": ["svg"],\n        "blockComment": ["\x3c!--", "--\x3e"]\n    },\n\n    "markdown": {\n        "name": "Markdown",\n        "mode": "markdown",\n        "fileExtensions": ["md", "markdown", "mdown", "mkdn"],\n        "blockComment": ["\x3c!--", "--\x3e"]\n    },\n\n    "image": {\n        "name": "Image",\n        "fileExtensions": ["gif", "png", "jpe", "jpeg", "jpg", "ico", "bmp", "webp"],\n        "isBinary": true\n    },\n\n    "binary": {\n        "name": "Other Binary",\n        "fileExtensions": [\n            "a", "ai", "avi", "bin", "cab", "com", "db", "dll", "dmg",\n            "doc", "docx", "dot", "dotx", "dsym", "dylib", "egg", "epub", "eot",\n            "exe", "flv", "gz", "gzip", "htmz", "htmlz", "ipch", "iso", "jar",\n            "jsz", "lib", "mpeg", "mpg", "mp4", "msi", "node", "o", "obj", "odc",\n            "odb", "odf", "odg", "odp", "ods", "odt", "otf", "pak", "pdb", "pdf",\n            "pdi", "ppt", "pptx", "psd", "rar", "sdf", "so", "sqlite", "suo", "svgz",\n            "swf", "tar", "tif", "tiff", "ttf", "woff", "xls", "xlsx", "zip"\n        ],\n        "isBinary": true\n    }\n}\n'});define("language/LanguageManager",["require","exports","module","thirdparty/CodeMirror/lib/codemirror","utils/EventDispatcher","utils/Async","file/FileUtils","strings","text!language/languages.json","thirdparty/lodash"],function(require,exports,module){"use strict";var CodeMirror=require("thirdparty/CodeMirror/lib/codemirror"),EventDispatcher=require("utils/EventDispatcher"),Async=require("utils/Async"),FileUtils=require("file/FileUtils"),Strings=require("strings"),_defaultLanguagesJSON=require("text!language/languages.json"),_=require("thirdparty/lodash"),PreferencesManager;var _fallbackLanguage=null,_pendingLanguages={},_languages={},_baseFileExtensionToLanguageMap={},_fileExtensionToLanguageMap=Object.create(_baseFileExtensionToLanguageMap),_fileNameToLanguageMap={},_filePathToLanguageMap={},_modeToLanguageMap={},_ready;var _EXTENSION_MAP_PREF="language.fileExtensions",_NAME_MAP_PREF="language.fileNames";var _prefState={};_prefState[_EXTENSION_MAP_PREF]={last:{},overridden:{},add:"addFileExtension",remove:"removeFileExtension",get:"getLanguageForExtension"};_prefState[_NAME_MAP_PREF]={last:{},overridden:{},add:"addFileName",remove:"removeFileName",get:"getLanguageForPath"};function _validateNonEmptyString(value,description,deferred){var reportError=deferred?deferred.reject:console.error;if(Object.prototype.toString.call(value)!=="[object String]"){reportError(description+" must be a string");return false}if(value===""){reportError(description+" must not be empty");return false}return true}function _patchCodeMirror(){var _original_CodeMirror_defineMode=CodeMirror.defineMode;function _wrapped_CodeMirror_defineMode(name){if(CodeMirror.modes[name]){console.error('There already is a CodeMirror mode with the name "'+name+'"');return}_original_CodeMirror_defineMode.apply(CodeMirror,arguments)}CodeMirror.defineMode=_wrapped_CodeMirror_defineMode}function _setLanguageForMode(mode,language){if(_modeToLanguageMap[mode]){console.warn('CodeMirror mode "'+mode+'" is already used by language '+_modeToLanguageMap[mode]._name+" - cannot fully register language "+language._name+" using the same mode. Some features will treat all content with this mode as language "+_modeToLanguageMap[mode]._name);return}_modeToLanguageMap[mode]=language}function getLanguage(id){return _languages[id]}function getLanguageForExtension(extension){return _fileExtensionToLanguageMap[extension.toLowerCase()]}function getLanguageForPath(path,ignoreOverride){var fileName,language=_filePathToLanguageMap[path],extension,parts;if(!ignoreOverride&&language){return language}fileName=FileUtils.getBaseName(path).toLowerCase();language=_fileNameToLanguageMap[fileName];if(!language){parts=fileName.split(".");if(parts[0]===""){parts.shift()}parts.shift();while(!language&&parts.length){extension=parts.join(".");language=_fileExtensionToLanguageMap[extension];parts.shift()}}return language||_fallbackLanguage}function getLanguages(){return $.extend({},_languages)}function _getLanguageForMode(mode){var language=_modeToLanguageMap[mode];if(language){return language}console.log("Called LanguageManager._getLanguageForMode with a mode for which no language has been registered:",mode);return _fallbackLanguage}function _triggerLanguageAdded(language){_languages[language.getId()]=language;exports.trigger("languageAdded",language)}function _triggerLanguageModified(language){exports.trigger("languageModified",language)}function setLanguageOverrideForPath(fullPath,language){var oldLang=getLanguageForPath(fullPath);if(!language){delete _filePathToLanguageMap[fullPath]}else{_filePathToLanguageMap[fullPath]=language}var newLang=getLanguageForPath(fullPath);_triggerLanguageModified(oldLang);_triggerLanguageModified(newLang)}function _resetPathLanguageOverrides(){_filePathToLanguageMap={}}function getCompoundFileExtension(fullPath){var baseName=FileUtils.getBaseName(fullPath),parts=baseName.split(".");parts.shift();if(baseName[0]==="."){parts.shift()}var extension=[parts.pop()],i=parts.length;while(i--){if(getLanguageForExtension(parts[i])){extension.unshift(parts[i])}else{break}}return extension.join(".")}function Language(){this._fileExtensions=[];this._fileNames=[];this._modeToLanguageMap={};this._lineCommentSyntax=[]}Language.prototype._id=null;Language.prototype._name=null;Language.prototype._mode=null;Language.prototype._fileExtensions=null;Language.prototype._fileNames=null;Language.prototype._lineCommentSyntax=null;Language.prototype._modeToLanguageMap=null;Language.prototype._blockCommentSyntax=null;Language.prototype._isBinary=false;Language.prototype.getId=function(){return this._id};Language.prototype._setId=function(id){if(!_validateNonEmptyString(id,"Language ID")){return false}if(!id.match(/^[a-z0-9]+(_[a-z0-9]+)*$/)){console.error('Invalid language ID "'+id+'": Only groups of lower case letters and numbers are allowed, separated by underscores.');return false}this._id=id;return true};Language.prototype.getName=function(){return this._name};Language.prototype._setName=function(name){if(!_validateNonEmptyString(name,"name")){return false}this._name=name;return true};Language.prototype.getMode=function(){return this._mode};Language.prototype._loadAndSetMode=function(mode){var result=new $.Deferred,self=this,mimeMode;if(Array.isArray(mode)){if(mode.length!==2){result.reject("Mode must either be a string or an array containing two strings");return result.promise()}mimeMode=mode[1];mode=mode[0]}if(!_validateNonEmptyString(mode,"mode",result)){result.reject();return result.promise()}var finish=function(){if(!CodeMirror.modes[mode]){result.reject('CodeMirror mode "'+mode+'" is not loaded');return}if(mimeMode){var modeConfig=CodeMirror.mimeModes[mimeMode];if(!modeConfig){result.reject('CodeMirror MIME mode "'+mimeMode+'" not found');return}}self._mode=mimeMode||mode;self._wasModified();result.resolve(self)};if(CodeMirror.modes[mode]){finish()}else{require(["thirdparty/CodeMirror/mode/"+mode+"/"+mode],finish)}return result.promise()};Language.prototype.getFileExtensions=function(){return this._fileExtensions.concat()};Language.prototype.getFileNames=function(){return this._fileNames.concat()};Language.prototype.addFileExtension=function(extension){if(Array.isArray(extension)){extension.forEach(this._addFileExtension.bind(this))}else{this._addFileExtension(extension)}};Language.prototype._addFileExtension=function(extension){if(extension.charAt(0)==="."){extension=extension.substr(1)}extension=extension.toLowerCase();if(this._fileExtensions.indexOf(extension)===-1){this._fileExtensions.push(extension);var language=_fileExtensionToLanguageMap[extension];if(language){console.warn('Cannot register file extension "'+extension+'" for '+this._name+", it already belongs to "+language._name)}else{_fileExtensionToLanguageMap[extension]=this}this._wasModified()}else if(!_fileExtensionToLanguageMap[extension]){_fileExtensionToLanguageMap[extension]=this;this._wasModified()}};Language.prototype.removeFileExtension=function(extension){if(Array.isArray(extension)){extension.forEach(this._removeFileExtension.bind(this))}else{this._removeFileExtension(extension)}};Language.prototype._removeFileExtension=function(extension){if(extension.charAt(0)==="."){extension=extension.substr(1)}extension=extension.toLowerCase();var index=this._fileExtensions.indexOf(extension);if(index!==-1){this._fileExtensions.splice(index,1);delete _fileExtensionToLanguageMap[extension];this._wasModified()}};Language.prototype.addFileName=function(name){if(Array.isArray(name)){name.forEach(this._addFileName.bind(this))}else{this._addFileName(name)}};Language.prototype._addFileName=function(name){name=name.toLowerCase();if(this._fileNames.indexOf(name)===-1){this._fileNames.push(name);var language=_fileNameToLanguageMap[name];if(language){console.warn('Cannot register file name "'+name+'" for '+this._name+", it already belongs to "+language._name)}else{_fileNameToLanguageMap[name]=this}this._wasModified()}};Language.prototype.removeFileName=function(name){if(Array.isArray(name)){name.forEach(this._removeFileName.bind(this))}else{this._removeFileName(name)}};Language.prototype._removeFileName=function(name){name=name.toLowerCase();var index=this._fileNames.indexOf(name);if(index!==-1){this._fileNames.splice(index,1);delete _fileNameToLanguageMap[name];this._wasModified()}};Language.prototype.hasLineCommentSyntax=function(){return this._lineCommentSyntax.length>0};Language.prototype.getLineCommentPrefixes=function(){return this._lineCommentSyntax};Language.prototype.setLineCommentSyntax=function(prefix){var prefixes=Array.isArray(prefix)?prefix:[prefix];var i;if(prefixes.length){this._lineCommentSyntax=[];for(i=0;i<prefixes.length;i++){_validateNonEmptyString(String(prefixes[i]),Array.isArray(prefix)?"prefix["+i+"]":"prefix");this._lineCommentSyntax.push(prefixes[i])}this._wasModified()}else{console.error("The prefix array should not be empty")}return true};Language.prototype.hasBlockCommentSyntax=function(){return Boolean(this._blockCommentSyntax)};Language.prototype.getBlockCommentPrefix=function(){return this._blockCommentSyntax&&this._blockCommentSyntax.prefix};Language.prototype.getBlockCommentSuffix=function(){return this._blockCommentSyntax&&this._blockCommentSyntax.suffix};Language.prototype.setBlockCommentSyntax=function(prefix,suffix){if(!_validateNonEmptyString(prefix,"prefix")||!_validateNonEmptyString(suffix,"suffix")){return false}this._blockCommentSyntax={prefix:prefix,suffix:suffix};this._wasModified();return true};Language.prototype.getLanguageForMode=function(mode){if(mode===this._mode){return this}return this._modeToLanguageMap[mode]||_getLanguageForMode(mode)};Language.prototype._setLanguageForMode=function(mode,language){if(mode===this._mode&&language!==this){console.error("A language must always map its mode to itself");return false}this._modeToLanguageMap[mode]=language;this._wasModified();return true};Language.prototype.isFallbackLanguage=function(){return this===_fallbackLanguage};Language.prototype._wasModified=function(){if(_languages[this._id]){_triggerLanguageModified(this)}};Language.prototype.isBinary=function(){return this._isBinary};Language.prototype._setBinary=function(isBinary){this._isBinary=isBinary};function defineLanguage(id,definition){var result=new $.Deferred;if(_pendingLanguages[id]){result.reject('Language "'+id+'" is waiting to be resolved.');return result.promise()}if(_languages[id]){result.reject('Language "'+id+'" is already defined');return result.promise()}var language=new Language,name=definition.name,fileExtensions=definition.fileExtensions,fileNames=definition.fileNames,blockComment=definition.blockComment,lineComment=definition.lineComment,i,l;function _finishRegisteringLanguage(){if(fileExtensions){for(i=0,l=fileExtensions.length;i<l;i++){language.addFileExtension(fileExtensions[i])}}if(fileNames){for(i=0,l=fileNames.length;i<l;i++){language.addFileName(fileNames[i])}}language._setBinary(!!definition.isBinary);_languages[language.getId()]=language;if(PreferencesManager){_updateFromPrefs(_EXTENSION_MAP_PREF);_updateFromPrefs(_NAME_MAP_PREF)}}if(!language._setId(id)||!language._setName(name)||blockComment&&!language.setBlockCommentSyntax(blockComment[0],blockComment[1])||lineComment&&!language.setLineCommentSyntax(lineComment)){result.reject();return result.promise()}if(definition.isBinary){_finishRegisteringLanguage();result.resolve(language)}else{_pendingLanguages[id]=language;language._loadAndSetMode(definition.mode).done(function(){_setLanguageForMode(language.getMode(),language);_finishRegisteringLanguage();_triggerLanguageAdded(language);result.resolve(language)}).fail(function(error){console.error(error);result.reject(error)}).always(function(){delete _pendingLanguages[id]})}return result.promise()}function _restoreOverriddenDefault(name,state){if(state.overridden[name]){var language=getLanguage(state.overridden[name]);language[state.add](name);delete state.overridden[name]}}function _updateFromPrefs(pref){var newMapping=PreferencesManager.get(pref),newNames=Object.keys(newMapping),state=_prefState[pref],last=state.last,overridden=state.overridden;newNames.forEach(function(name){var language;if(newMapping[name]!==last[name]){if(last[name]){language=getLanguage(last[name]);if(language){language[state.remove](name);_restoreOverriddenDefault(name,state)}}language=exports[state.get](name);if(language){language[state.remove](name);if(!overridden[name]){overridden[name]=language.getId()}}language=getLanguage(newMapping[name]);if(language){language[state.add](name)}}if(!getLanguage(newMapping[name])){if(overridden[name]){_restoreOverriddenDefault(name,state)}delete newMapping[name]}});_.difference(Object.keys(last),newNames).forEach(function(name){var language=getLanguage(last[name])
;if(language){language[state.remove](name);_restoreOverriddenDefault(name,state)}});state.last=newMapping}EventDispatcher.makeEventDispatcher(exports);_patchCodeMirror();CodeMirror.defineMIME("text/x-brackets-html",{name:"htmlmixed",scriptTypes:[{matches:/\/x-handlebars|\/x-mustache|\/ng-template$|^text\/html$/i,mode:"htmlmixed"},{matches:/^text\/(babel|jsx)$/i,mode:"jsx"}]});CodeMirror.defineMIME("image/svg+xml","xml");_defaultLanguagesJSON=JSON.parse(_defaultLanguagesJSON);_ready=Async.doInParallel(Object.keys(_defaultLanguagesJSON),function(key){return defineLanguage(key,_defaultLanguagesJSON[key])},false);_ready.always(function(){var html=getLanguage("html");html._setLanguageForMode("xml",html);_setLanguageForMode("html",html);_fallbackLanguage=getLanguage("unknown");require(["preferences/PreferencesManager"],function(pm){PreferencesManager=pm;pm.definePreference(_EXTENSION_MAP_PREF,"object",{},{description:Strings.DESCRIPTION_LANGUAGE_FILE_EXTENSIONS}).on("change",function(){_updateFromPrefs(_EXTENSION_MAP_PREF)});pm.definePreference(_NAME_MAP_PREF,"object",{},{description:Strings.DESCRIPTION_LANGUAGE_FILE_NAMES}).on("change",function(){_updateFromPrefs(_NAME_MAP_PREF)});_updateFromPrefs(_EXTENSION_MAP_PREF);_updateFromPrefs(_NAME_MAP_PREF)})});exports._EXTENSION_MAP_PREF=_EXTENSION_MAP_PREF;exports._NAME_MAP_PREF=_NAME_MAP_PREF;exports._resetPathLanguageOverrides=_resetPathLanguageOverrides;exports.ready=_ready;exports.defineLanguage=defineLanguage;exports.getLanguage=getLanguage;exports.getLanguageForExtension=getLanguageForExtension;exports.getLanguageForPath=getLanguageForPath;exports.getLanguages=getLanguages;exports.setLanguageOverrideForPath=setLanguageOverrideForPath;exports.getCompoundFileExtension=getCompoundFileExtension});define("widgets/DefaultDialogs",["require","exports","module"],function(require,exports,module){"use strict";exports.DIALOG_ID_ERROR="error-dialog";exports.DIALOG_ID_INFO="error-dialog";exports.DIALOG_ID_SAVE_CLOSE="save-close-dialog";exports.DIALOG_ID_EXT_CHANGED="ext-changed-dialog";exports.DIALOG_ID_EXT_DELETED="ext-deleted-dialog";exports.DIALOG_ID_LIVE_DEVELOPMENT="live-development-error-dialog";exports.DIALOG_ID_CHANGE_EXTENSIONS="change-marked-extensions"});define("filesystem/WatchedRoot",["require","exports","module"],function(require,exports,module){"use strict";function WatchedRoot(entry,filter,filterGlobs){this.entry=entry;this.filter=filter;this.filterGlobs=filterGlobs}WatchedRoot.INACTIVE=0;WatchedRoot.STARTING=1;WatchedRoot.ACTIVE=2;WatchedRoot.prototype.entry=null;WatchedRoot.prototype.filter=null;WatchedRoot.prototype.filterGlobs=null;WatchedRoot.prototype.status=WatchedRoot.INACTIVE;module.exports=WatchedRoot});define("filesystem/FileSystemEntry",["require","exports","module","filesystem/FileSystemError","filesystem/WatchedRoot"],function(require,exports,module){"use strict";var FileSystemError=require("filesystem/FileSystemError"),WatchedRoot=require("filesystem/WatchedRoot");var VISIT_DEFAULT_MAX_DEPTH=100,VISIT_DEFAULT_MAX_ENTRIES=3e4;var nextId=0;function FileSystemEntry(path,fileSystem){this._setPath(path);this._fileSystem=fileSystem;this._id=nextId++}Object.defineProperties(FileSystemEntry.prototype,{fullPath:{get:function(){return this._path},set:function(){throw new Error("Cannot set fullPath")}},name:{get:function(){return this._name},set:function(){throw new Error("Cannot set name")}},parentPath:{get:function(){return this._parentPath},set:function(){throw new Error("Cannot set parentPath")}},id:{get:function(){return this._id},set:function(){throw new Error("Cannot set id")}},isFile:{get:function(){return this._isFile},set:function(){throw new Error("Cannot set isFile")}},isDirectory:{get:function(){return this._isDirectory},set:function(){throw new Error("Cannot set isDirectory")}},_impl:{get:function(){return this._fileSystem._impl},set:function(){throw new Error("Cannot set _impl")}}});FileSystemEntry.prototype._stat=null;FileSystemEntry.prototype._fileSystem=null;FileSystemEntry.prototype._path=null;FileSystemEntry.prototype._name=null;FileSystemEntry.prototype._parentPath=null;FileSystemEntry.prototype._isFile=false;FileSystemEntry.prototype._isDirectory=false;FileSystemEntry.prototype._watchedRoot=undefined;FileSystemEntry.prototype._watchedRootFilterResult=undefined;FileSystemEntry.prototype._isWatched=function(relaxed){var watchedRoot=this._watchedRoot,filterResult=this._watchedRootFilterResult;if(!watchedRoot){watchedRoot=this._fileSystem._findWatchedRootForPath(this._path);if(watchedRoot){this._watchedRoot=watchedRoot;if(watchedRoot.entry!==this){var parentEntry=this._fileSystem.getDirectoryForPath(this._parentPath);if(parentEntry._isWatched()===false){filterResult=false}else{filterResult=watchedRoot.filter(this._name,this._parentPath)}}else{filterResult=true}this._watchedRootFilterResult=filterResult}}if(watchedRoot){if(watchedRoot.status===WatchedRoot.ACTIVE||relaxed&&watchedRoot.status===WatchedRoot.STARTING){return filterResult}else{this._watchedRoot=undefined;this._watchedRootFilterResult=false;this._clearCachedData()}}return false};FileSystemEntry.prototype._setPath=function(newPath){var parts=newPath.split("/");if(this.isDirectory){parts.pop()}this._name=parts[parts.length-1];parts.pop();if(parts.length>0){this._parentPath=parts.join("/")+"/"}else{this._parentPath=null}this._path=newPath;var watchedRoot=this._watchedRoot;if(watchedRoot){if(newPath.indexOf(watchedRoot.entry.fullPath)===0){this._watchedRootFilterResult=watchedRoot.filter(this._name,this._parentPath)}else{this._watchedRoot=null;this._watchedRootFilterResult=false}}};FileSystemEntry.prototype._clearCachedData=function(){this._stat=undefined};FileSystemEntry.prototype.toString=function(){return"["+(this.isDirectory?"Directory ":"File ")+this._path+"]"};FileSystemEntry.prototype.exists=function(callback){if(this._stat){callback(null,true);return}this._impl.exists(this._path,function(err,exists){if(err){this._clearCachedData();callback(err);return}if(!exists){this._clearCachedData()}callback(null,exists)}.bind(this))};FileSystemEntry.prototype.stat=function(callback){if(this._stat){callback(null,this._stat);return}this._impl.stat(this._path,function(err,stat){if(err){this._clearCachedData();callback(err);return}if(this._isWatched()){this._stat=stat}callback(null,stat)}.bind(this))};FileSystemEntry.prototype.rename=function(newFullPath,callback){callback=callback||function(){};this._fileSystem._beginChange();this._impl.rename(this._path,newFullPath,function(err){var oldFullPath=this._path;try{if(err){this._clearCachedData();callback(err);return}this._fileSystem._handleRename(this._path,newFullPath,this.isDirectory);try{callback(null)}finally{this._fileSystem._fireRenameEvent(oldFullPath,newFullPath)}}finally{this._fileSystem._endChange()}}.bind(this))};FileSystemEntry.prototype.unlink=function(callback){callback=callback||function(){};this._fileSystem._beginChange();this._clearCachedData();this._impl.unlink(this._path,function(err){var parent=this._fileSystem.getDirectoryForPath(this.parentPath);this._fileSystem._handleDirectoryChange(parent,function(added,removed){try{callback(err)}finally{if(parent._isWatched()){this._fileSystem._fireChangeEvent(parent,added,removed)}this._fileSystem._endChange()}}.bind(this))}.bind(this))};FileSystemEntry.prototype.moveToTrash=function(callback){if(!this._impl.moveToTrash){this.unlink(callback);return}callback=callback||function(){};this._fileSystem._beginChange();this._clearCachedData();this._impl.moveToTrash(this._path,function(err){var parent=this._fileSystem.getDirectoryForPath(this.parentPath);this._fileSystem._handleDirectoryChange(parent,function(added,removed){try{callback(err)}finally{if(parent._isWatched()){this._fileSystem._fireChangeEvent(parent,added,removed)}this._fileSystem._endChange()}}.bind(this))}.bind(this))};FileSystemEntry.prototype._visitHelper=function(stats,visitedPaths,visitor,options,callback){var maxDepth=options.maxDepth,maxEntriesCounter=options.maxEntriesCounter,sortList=options.sortList;if(maxEntriesCounter.value--<=0||maxDepth--<0){callback(null);return}if(this.isDirectory){var visitedPath=stats.realPath||this.fullPath;if(visitedPaths.hasOwnProperty(visitedPath)){callback(null);return}visitedPaths[visitedPath]=true}if(!visitor(this)||this.isFile){callback(null);return}this.getContents(function(err,entries,entriesStats){if(err){callback(err);return}var counter=entries.length;if(counter===0){callback(null);return}function helperCallback(err){if(--counter===0){callback(null)}}var nextOptions={maxDepth:maxDepth,maxEntriesCounter:maxEntriesCounter,sortList:sortList};function compareFilesWithIndices(index1,index2){return entries[index1]._name.toLocaleLowerCase().localeCompare(entries[index2]._name.toLocaleLowerCase())}if(sortList){var fileIndexes=[],i=0;for(i=0;i<entries.length;i++){fileIndexes[i]=i}fileIndexes.sort(compareFilesWithIndices);fileIndexes.forEach(function(fileIndex){var stats=entriesStats[fileIndexes[fileIndex]];entries[fileIndexes[fileIndex]]._visitHelper(stats,visitedPaths,visitor,nextOptions,helperCallback)})}else{entries.forEach(function(entry,index){var stats=entriesStats[index];entry._visitHelper(stats,visitedPaths,visitor,nextOptions,helperCallback)})}}.bind(this))};FileSystemEntry.prototype.visit=function(visitor,options,callback){if(typeof options==="function"){callback=options;options={}}else{if(options===undefined){options={}}callback=callback||function(){}}if(options.maxDepth===undefined){options.maxDepth=VISIT_DEFAULT_MAX_DEPTH}if(options.maxEntries===undefined){options.maxEntries=VISIT_DEFAULT_MAX_ENTRIES}options.maxEntriesCounter={value:options.maxEntries};this.stat(function(err,stats){if(err){callback(err);return}this._visitHelper(stats,{},visitor,options,function(err){if(callback){if(err){callback(err);return}if(options.maxEntriesCounter.value<0){callback(FileSystemError.TOO_MANY_ENTRIES);return}callback(null)}}.bind(this))}.bind(this))};module.exports=FileSystemEntry});define("filesystem/Directory",["require","exports","module","filesystem/FileSystemEntry"],function(require,exports,module){"use strict";var FileSystemEntry=require("filesystem/FileSystemEntry");function Directory(fullPath,fileSystem){this._isDirectory=true;FileSystemEntry.call(this,fullPath,fileSystem)}Directory.prototype=Object.create(FileSystemEntry.prototype);Directory.prototype.constructor=Directory;Directory.prototype.parentClass=FileSystemEntry.prototype;Directory.prototype._contents=null;Directory.prototype._contentsStats=null;Directory.prototype._contentsStatsErrors=null;Directory.prototype._clearCachedData=function(preserveImmediateChildren){FileSystemEntry.prototype._clearCachedData.apply(this);if(!preserveImmediateChildren){if(this._contents){this._contents.forEach(function(child){child._clearCachedData(true)})}else{var dirPath=this.fullPath;this._fileSystem._index.visitAll(function(entry){if(entry.parentPath===dirPath){entry._clearCachedData(true)}})}}this._contents=undefined;this._contentsStats=undefined;this._contentsStatsErrors=undefined};function _applyAllCallbacks(callbacks,args){if(callbacks.length>0){var callback=callbacks.pop();try{callback.apply(undefined,args)}finally{_applyAllCallbacks(callbacks,args)}}}Directory.prototype.getContents=function(callback){if(this._contentsCallbacks){this._contentsCallbacks.push(callback);return}if(this._contents){callback(null,this._contents,this._contentsStats,this._contentsStatsErrors);return}this._contentsCallbacks=[callback];this._impl.readdir(this.fullPath,function(err,names,stats){var contents=[],contentsStats=[],contentsStatsErrors;if(err){this._clearCachedData()}else{var watched=this._isWatched(true);names.forEach(function(name,index){var entryPath=this.fullPath+name;var entryStats=stats[index];if(this._fileSystem._indexFilter(entryPath,name,entryStats)){var entry;if(typeof entryStats==="string"){if(contentsStatsErrors===undefined){contentsStatsErrors={}}contentsStatsErrors[entryPath]=entryStats}else{if(entryStats.isFile){entry=this._fileSystem.getFileForPath(entryPath)}else{entry=this._fileSystem.getDirectoryForPath(entryPath)}if(watched){entry._stat=entryStats}contents.push(entry);contentsStats.push(entryStats)}}},this);if(watched){this._contents=contents;this._contentsStats=contentsStats;this._contentsStatsErrors=contentsStatsErrors}}var currentCallbacks=this._contentsCallbacks;this._contentsCallbacks=null;var callbackArgs=[err,contents,contentsStats,contentsStatsErrors];_applyAllCallbacks(currentCallbacks,callbackArgs)}.bind(this))};Directory.prototype.create=function(callback){callback=callback||function(){};this._fileSystem._beginChange();this._impl.mkdir(this._path,function(err,stat){if(err){this._clearCachedData();try{callback(err);return}finally{this._fileSystem._endChange()}}var parent=this._fileSystem.getDirectoryForPath(this.parentPath);if(this._isWatched()){this._stat=stat}this._fileSystem._handleDirectoryChange(parent,function(added,removed){try{callback(null,stat)}finally{if(parent._isWatched()){this._fileSystem._fireChangeEvent(parent,added,removed)}this._fileSystem._endChange()}}.bind(this))}.bind(this))};module.exports=Directory});define("filesystem/impls/filer/lib/Sizes",["require","exports","module"],function(require,exports,module){"use strict";var UNITS=["B","kB","MB"];var KB=1e3;var MB=1e3*KB;var DEFAULT_PROJECT_SIZE_LIMIT=5*MB;var REGULAR_FILE_SIZE_LIMIT_MB=3*MB;var ARCHIVE_FILE_LIMIT_MB=5*MB;var RESIZABLE_IMAGE_FILE_LIMIT_MB=12*MB;var RESIZED_IMAGE_TARGET_SIZE_KB=250*KB;var IMAGE_RESIZE_TOLERANCE_KB=20*KB;function formatBytes(num){if(!Number.isFinite(num)){return"?"}var neg=num<0;if(neg){num=-num}if(num<1){return(neg?"-":"")+num+" B"}var exponent=Math.min(Math.floor(Math.log10(num)/3),UNITS.length-1);var numStr=Number((num/Math.pow(1e3,exponent)).toPrecision(3));var unit=UNITS[exponent];return(neg?"-":"")+numStr+" "+unit}exports.KB=KB;exports.MB=MB;exports.DEFAULT_PROJECT_SIZE_LIMIT=DEFAULT_PROJECT_SIZE_LIMIT;exports.REGULAR_FILE_SIZE_LIMIT_MB=REGULAR_FILE_SIZE_LIMIT_MB;exports.ARCHIVE_FILE_LIMIT_MB=ARCHIVE_FILE_LIMIT_MB;exports.RESIZABLE_IMAGE_FILE_LIMIT_MB=RESIZABLE_IMAGE_FILE_LIMIT_MB;exports.RESIZED_IMAGE_TARGET_SIZE_KB=RESIZED_IMAGE_TARGET_SIZE_KB;exports.IMAGE_RESIZE_TOLERANCE_KB=IMAGE_RESIZE_TOLERANCE_KB;exports.formatBytes=formatBytes;var _enforceLimits=false;exports.getEnforceLimits=function(){return _enforceLimits};exports.setEnforceLimits=function(value){_enforceLimits=value}});!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("thirdparty/filer/dist/buffer.min",[],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.FilerBuffer=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){return this instanceof d?(this.length=0,this.parent=void 0,"number"==typeof a?e(this,a):"string"==typeof a?f(this,a,arguments.length>1?arguments[1]:"utf8"):g(this,a)):arguments.length>1?new d(a,arguments[1]):new d(a)}function e(a,b){if(a=m(a,0>b?0:0|n(b)),!d.TYPED_ARRAY_SUPPORT)for(var c=0;b>c;c++)a[c]=0;return a}function f(a,b,c){("string"!=typeof c||""===c)&&(c="utf8");var d=0|p(b,c);return a=m(a,d),a.write(b,c),a}function g(a,b){if(d.isBuffer(b))return h(a,b);if(U(b))return i(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer?j(a,b):b.length?k(a,b):l(a,b)}function h(a,b){var c=0|n(b.length);return a=m(a,c),b.copy(a,0,0,c),a}function i(a,b){var c=0|n(b.length);a=m(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function j(a,b){var c=0|n(b.length);a=m(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function k(a,b){var c=0|n(b.length);a=m(a,c);for(var d=0;c>d;d+=1)a[d]=255&b[d];return a}function l(a,b){var c,d=0;"Buffer"===b.type&&U(b.data)&&(c=b.data,d=0|n(c.length)),a=m(a,d);for(var e=0;d>e;e+=1)a[e]=255&c[e];return a}function m(a,b){d.TYPED_ARRAY_SUPPORT?a=d._augment(new Uint8Array(b)):(a.length=b,a._isBuffer=!0);var c=0!==b&&b<=d.poolSize>>>1;return c&&(a.parent=W),a}function n(a){if(a>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return 0|a}function o(a,b){if(!(this instanceof o))return new o(a,b);var c=new d(a,b);return delete c.parent,c}function p(a,b){if("string"!=typeof a&&(a=String(a)),0===a.length)return 0;switch(b||"utf8"){case"ascii":case"binary":case"raw":return a.length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a.length;case"hex":return a.length>>>1;case"utf8":case"utf-8":return M(a).length;case"base64":return P(a).length;default:return a.length}}function q(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function r(a,b,c,d){return Q(M(b,a.length-c),a,c,d)}function s(a,b,c,d){return Q(N(b),a,c,d)}function t(a,b,c,d){return s(a,b,c,d)}function u(a,b,c,d){return Q(P(b),a,c,d)}function v(a,b,c,d){return Q(O(b,a.length-c),a,c,d)}function w(a,b,c){return 0===b&&c===a.length?S.fromByteArray(a):S.fromByteArray(a.slice(b,c))}function x(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=R(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+R(e)}function y(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function z(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function A(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=L(a[f]);return e}function B(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function C(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function D(a,b,c,e,f,g){if(!d.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>f||g>b)throw new RangeError("value is out of bounds");if(c+e>a.length)throw new RangeError("index out of range")}function E(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function F(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function G(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function H(a,b,c,d,e){return e||G(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),T.write(a,b,c,d,23,4),c+4}function I(a,b,c,d,e){return e||G(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),T.write(a,b,c,d,52,8),c+8}function J(a){if(a=K(a).replace(Y,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function K(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function L(a){return 16>a?"0"+a.toString(16):a.toString(16)}function M(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=e-55296<<10|c-56320|65536,e=null}else e&&((b-=3)>-1&&f.push(239,191,189),e=null);if(128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(2097152>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function N(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function O(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function P(a){return S.toByteArray(J(a))}function Q(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}function R(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}var S=a("base64-js"),T=a("ieee754"),U=a("is-array");c.Buffer=d,c.SlowBuffer=o,c.INSPECT_MAX_BYTES=50,d.poolSize=8192;var V=1073741823,W={};d.TYPED_ARRAY_SUPPORT=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(c){return!1}}(),d.isBuffer=function(a){return!(null==a||!a._isBuffer)},d.compare=function(a,b){if(!d.isBuffer(a)||!d.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,e=b.length,f=0,g=Math.min(c,e);g>f&&a[f]===b[f];)++f;return f!==g&&(c=a[f],e=b[f]),e>c?-1:c>e?1:0},d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(a,b){if(!U(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new d(0);if(1===a.length)return a[0];var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.byteLength=p,d.prototype.length=void 0,d.prototype.parent=void 0,d.prototype.toString=function(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return A(this,b,c);case"utf8":case"utf-8":return x(this,b,c);case"ascii":return y(this,b,c);case"binary":return z(this,b,c);case"base64":return w(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}},d.prototype.equals=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===d.compare(this,a)},d.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},d.prototype.compare=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:d.compare(this,a)},d.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:-2147483648>b&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(0>b&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(d.isBuffer(a))return c(this,a,b);if("number"==typeof a)return d.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(0>c||0>b)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return q(this,a,b,c);case"utf8":case"utf-8":return r(this,a,b,c);case"ascii":return s(this,a,b,c);case"binary":return t(this,a,b,c);case"base64":return u(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a);var e;if(d.TYPED_ARRAY_SUPPORT)e=d._augment(this.subarray(a,b));else{var f=b-a;e=new d(f,void 0);for(var g=0;f>g;g++)e[g]=this[g+a]}return e.length&&(e.parent=this.parent||this),e},d.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||C(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},d.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||C(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},d.prototype.readUInt8=function(a,b){return b||C(a,1,this.length),this[a]},d.prototype.readUInt16LE=function(a,b){return b||C(a,2,this.length),this[a]|this[a+1]<<8},d.prototype.readUInt16BE=function(a,b){return b||C(a,2,this.length),this[a]<<8|this[a+1]},d.prototype.readUInt32LE=function(a,b){return b||C(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},d.prototype.readUInt32BE=function(a,b){return b||C(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},d.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||C(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},d.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||C(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},d.prototype.readInt8=function(a,b){return b||C(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},d.prototype.readInt16LE=function(a,b){b||C(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt16BE=function(a,b){b||C(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt32LE=function(a,b){return b||C(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},d.prototype.readInt32BE=function(a,b){return b||C(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},d.prototype.readFloatLE=function(a,b){return b||C(a,4,this.length),T.read(this,a,!0,23,4)},d.prototype.readFloatBE=function(a,b){return b||C(a,4,this.length),T.read(this,a,!1,23,4)},d.prototype.readDoubleLE=function(a,b){return b||C(a,8,this.length),T.read(this,a,!0,52,8)},d.prototype.readDoubleBE=function(a,b){return b||C(a,8,this.length),T.read(this,a,!1,52,8)},d.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||D(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},d.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||D(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},d.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,1,255,0),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=a,b+1},d.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):E(this,a,b,!0),b+2},d.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):E(this,a,b,!1),b+2},d.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a):F(this,a,b,!0),b+4},d.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):F(this,a,b,!1),b+4},d.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);D(this,a,b,c,e-1,-e)}var f=0,g=1,h=0>a?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},d.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);D(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0>a?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},d.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,1,127,-128),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=a,b+1},d.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):E(this,a,b,!0),b+2},d.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):E(this,a,b,!1),b+2},d.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):F(this,a,b,!0),b+4},d.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||D(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):F(this,a,b,!1),b+4},d.prototype.writeFloatLE=function(a,b,c){return H(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){return H(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){return I(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){return I(this,a,b,!1,c)},d.prototype.copy=function(a,b,c,e){if(c||(c=0),e||0===e||(e=this.length),b>=a.length&&(b=a.length),b||(b=0),e>0&&c>e&&(e=c),e===c)return 0;if(0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),a.length-b<e-c&&(e=a.length-b+c);var f=e-c;if(1e3>f||!d.TYPED_ARRAY_SUPPORT)for(var g=0;f>g;g++)a[g+b]=this[g+c];else a._set(this.subarray(c,c+f),b);return f},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=M(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},d.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(d.TYPED_ARRAY_SUPPORT)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var X=d.prototype;d._augment=function(a){return a.constructor=d,a._isBuffer=!0,a._set=a.set,a.get=X.get,a.set=X.set,a.write=X.write,a.toString=X.toString,a.toLocaleString=X.toString,a.toJSON=X.toJSON,a.equals=X.equals,a.compare=X.compare,a.indexOf=X.indexOf,a.copy=X.copy,a.slice=X.slice,a.readUIntLE=X.readUIntLE,a.readUIntBE=X.readUIntBE,a.readUInt8=X.readUInt8,a.readUInt16LE=X.readUInt16LE,a.readUInt16BE=X.readUInt16BE,a.readUInt32LE=X.readUInt32LE,a.readUInt32BE=X.readUInt32BE,a.readIntLE=X.readIntLE,a.readIntBE=X.readIntBE,a.readInt8=X.readInt8,a.readInt16LE=X.readInt16LE,a.readInt16BE=X.readInt16BE,a.readInt32LE=X.readInt32LE,a.readInt32BE=X.readInt32BE,a.readFloatLE=X.readFloatLE,a.readFloatBE=X.readFloatBE,a.readDoubleLE=X.readDoubleLE,a.readDoubleBE=X.readDoubleBE,a.writeUInt8=X.writeUInt8,
a.writeUIntLE=X.writeUIntLE,a.writeUIntBE=X.writeUIntBE,a.writeUInt16LE=X.writeUInt16LE,a.writeUInt16BE=X.writeUInt16BE,a.writeUInt32LE=X.writeUInt32LE,a.writeUInt32BE=X.writeUInt32BE,a.writeIntLE=X.writeIntLE,a.writeIntBE=X.writeIntBE,a.writeInt8=X.writeInt8,a.writeInt16LE=X.writeInt16LE,a.writeInt16BE=X.writeInt16BE,a.writeInt32LE=X.writeInt32LE,a.writeInt32BE=X.writeInt32BE,a.writeFloatLE=X.writeFloatLE,a.writeFloatBE=X.writeFloatBE,a.writeDoubleLE=X.writeDoubleLE,a.writeDoubleBE=X.writeDoubleBE,a.fill=X.fill,a.inspect=X.inspect,a.toArrayBuffer=X.toArrayBuffer,a};var Y=/[^+\/0-9A-z\-]/g},{"base64-js":2,ieee754:3,"is-array":4}],2:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],3:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],4:[function(a,b,c){var d=Array.isArray,e=Object.prototype.toString;b.exports=d||function(a){return!!a&&"[object Array]"==e.call(a)}},{}],5:[function(a,b,c){(function(a){function c(b,c,d){return b instanceof ArrayBuffer&&(b=new Uint8Array(b)),new a(b,c,d)}c.prototype=Object.create(a.prototype),c.prototype.constructor=c,Object.keys(a).forEach(function(b){a.hasOwnProperty(b)&&(c[b]=a[b])}),b.exports=c}).call(this,a("buffer").Buffer)},{buffer:1}]},{},[5])(5)});!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("thirdparty/filer/dist/path.min",[],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Path=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function e(){for(var a="",b=!1,c=arguments.length-1;c>=-1&&!b;c--){var e=c>=0?arguments[c]:"/";"string"==typeof e&&e&&(a=e+"/"+a,b="/"===e.charAt(0))}return a=d(a.split("/").filter(function(a){return!!a}),!b).join("/"),(b?"/":"")+a||"."}function f(a){var b="/"===a.charAt(0);"/"===a.substr(-1);return a=d(a.split("/").filter(function(a){return!!a}),!b).join("/"),a||b||(a="."),(b?"/":"")+a}function g(){var a=Array.prototype.slice.call(arguments,0);return f(a.filter(function(a,b){return a&&"string"==typeof a}).join("/"))}function h(a,b){function c(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=e(a).substr(1),b=e(b).substr(1);for(var d=c(a.split("/")),f=c(b.split("/")),g=Math.min(d.length,f.length),h=g,i=0;g>i;i++)if(d[i]!==f[i]){h=i;break}for(var j=[],i=h;i<d.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")}function i(a){var b=q(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."}function j(a,b){var c=q(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),""===c?"/":c}function k(a){return q(a)[3]}function l(a){return"/"===a.charAt(0)?!0:!1}function m(a){return-1!==(""+a).indexOf("\0")?!0:!1}function n(a){return a.replace(/\/*$/,"/")}function o(a){return a=a.replace(/\/*$/,""),""===a?"/":a}var p=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/,q=function(a){var b=p.exec(a);return[b[1]||"",b[2]||"",b[3]||"",b[4]||""]};b.exports={normalize:f,resolve:e,join:g,relative:h,sep:"/",delimiter:":",dirname:i,basename:j,extname:k,isAbsolute:l,isNull:m,addTrailing:n,removeTrailing:o}},{}]},{},[1])(1)});define("filesystem/impls/filer/FilerUtils",["require","exports","module","utils/Async","filesystem/FileSystem","thirdparty/filer/dist/buffer.min","thirdparty/filer/dist/path.min"],function(require,exports,module){"use strict";var Async=require("utils/Async");var FileSystem=require("filesystem/FileSystem");var Buffer=require("thirdparty/filer/dist/buffer.min");function base64ToBuffer(base64Str){var binary=window.atob(base64Str);var len=binary.length;var bytes=new window.Uint8Array(len);for(var i=0;i<len;i++){bytes[i]=binary.charCodeAt(i)}return new Buffer(bytes.buffer)}exports.base64ToBuffer=base64ToBuffer;exports.Path=require("thirdparty/filer/dist/path.min");exports.Buffer=Buffer;exports.decodePath=function(path){if(!path){return path}try{return decodeURI(path)}catch(e){console.error("[Brackets] couldn't decode malformed path URI",path);return path}};exports.normalizeExtension=function(ext,excludePeriod){var maybePeriod=excludePeriod?"":".";return maybePeriod+ext.replace(/^\./,"").toLowerCase()};function _readFile(filename,options,callback){var useCallback=typeof callback==="function";var file;try{file=FileSystem.getFileForPath(filename)}catch(err){if(useCallback){return callback(err)}return(new $.Deferred).reject(err).promise()}options.ignoreCachedContents=true;if(typeof callback==="function"){file.read(options,callback)}else{return Async.promisify(file,"read",options)}}function _writeFile(filename,data,options,callback){var useCallback=typeof callback==="function";var file;try{file=FileSystem.getFileForPath(filename)}catch(err){if(useCallback){return callback(err)}return(new $.Deferred).reject(err).promise()}if(typeof callback==="function"){file.write(data,options,callback)}else{return Async.promisify(file,"write",data,options)}}exports.readFileAsUTF8=function(filename,callback){return _readFile(filename,{encoding:"utf8"},callback)};exports.readFileAsBinary=function(filename,callback){return _readFile(filename,{encoding:null},callback)};exports.writeFileAsUTF8=function(filename,data,callback){return _writeFile(filename,data,{encoding:"utf8"},callback)};exports.writeFileAsBinary=function(filename,data,callback){return _writeFile(filename,data,{encoding:null},callback)}});define("thirdparty/is-animated/lib/types/gif",["require","exports","module"],function(require,exports,module){"use strict";function getDataBlocksLength(buffer,offset){var length=0;while(buffer[offset+length]){length+=buffer[offset+length]+1}return length+1}exports.isGIF=function(buffer){var header=buffer.slice(0,3).toString("ascii");return header==="GIF"};exports.isAnimated=function(buffer){var hasColorTable,colorTableSize,header;var offset=0;var imagesCount=0;header=buffer.slice(0,3).toString("ascii");if(header!=="GIF"){return false}hasColorTable=buffer[10]&128;colorTableSize=buffer[10]&7;offset+=6;offset+=7;offset+=hasColorTable?3*Math.pow(2,colorTableSize+1):0;while(imagesCount<2&&offset<buffer.length){switch(buffer[offset]){case 44:imagesCount+=1;hasColorTable=buffer[offset+9]&128;colorTableSize=buffer[offset+9]&7;offset+=10;offset+=hasColorTable?3*Math.pow(2,colorTableSize+1):0;offset+=getDataBlocksLength(buffer,offset+1)+1;break;case 33:offset+=2;offset+=getDataBlocksLength(buffer,offset);break;case 59:offset=buffer.length;break;default:offset=buffer.length;break}}return imagesCount>1}});define("thirdparty/is-animated/lib/types/png",["require","exports","module"],function(require,exports,module){"use strict";exports.isPNG=function(buffer){var header=buffer.slice(0,8).toString("hex");return header==="89504e470d0a1a0a"};exports.isAnimated=function(buffer){var hasACTL=false;var hasIDAT=false;var hasFDAT=false;var previousChunkType=null;var offset=8;while(offset<buffer.length){var chunkLength=buffer.readUInt32BE(offset);var chunkType=buffer.slice(offset+4,offset+8).toString("ascii");switch(chunkType){case"acTL":hasACTL=true;break;case"IDAT":if(!hasACTL){return false}if(previousChunkType!=="fcTL"){return false}hasIDAT=true;break;case"fdAT":if(!hasIDAT){return false}if(previousChunkType!=="fcTL"){return false}hasFDAT=true;break}previousChunkType=chunkType;offset+=4+4+chunkLength+4}return hasACTL&&hasIDAT&&hasFDAT}});define("isAnimated",["require","exports","module","thirdparty/is-animated/lib/types/gif","thirdparty/is-animated/lib/types/png"],function(require,exports,module){"use strict";var gif=require("thirdparty/is-animated/lib/types/gif");var png=require("thirdparty/is-animated/lib/types/png");function isAnimated(buffer){if(gif.isGIF(buffer)){return gif.isAnimated(buffer)}if(png.isPNG(buffer)){return png.isAnimated(buffer)}return false}module.exports=isAnimated});define("filesystem/impls/filer/lib/content",["require","exports","module","language/LanguageManager","filesystem/impls/filer/lib/Sizes","strings","utils/StringUtils","filesystem/impls/filer/FilerUtils","isAnimated"],function(require,exports,module){"use strict";var LanguageManager=require("language/LanguageManager");var Sizes=require("filesystem/impls/filer/lib/Sizes");var Strings=require("strings");var StringUtils=require("utils/StringUtils");var FilerUtils=require("filesystem/impls/filer/FilerUtils");var isAnimated=require("isAnimated");var Path=FilerUtils.Path;function _getLanguageId(ext){ext=FilerUtils.normalizeExtension(ext,true);var language=LanguageManager.getLanguageForExtension(ext);return language?language.getId():""}function _lookupMimeType(ext){ext=FilerUtils.normalizeExtension(ext);switch(ext){case".py":return"text/plain";case".html":case".htmls":case".htm":case".htx":return"text/html";case".less":case".css":return"text/css";case".jsx":case".js":return"text/javascript";case".json":return"application/javascript";case".txt":case".markdown":case".md":case".ini":case".cfg":case".csv":case".java":return"text/plain";case".ico":return"image/x-icon";case".bmp":return"image/bmp";case".svg":return"image/svg+xml";case".apng":case".png":return"image/png";case".ico":return"image/x-icon";case".jpg":case".jpe":case".jpeg":return"image/jpeg";case".gif":return"image/gif";case".mp4":return"video/mp4";case".ogv":return"video/ogg";case".webm":return"video/webm";case".oga":case".ogg":return"audio/ogg";case".mpa":case".mp3":return"audio/mpeg";case".wave":case".wav":return"audio/wav";case".eot":return"application/vnd.ms-fontobject";case".otf":return"application/x-font-opentype";case".ttf":return"application/x-font-ttf";case".woff":return"application/font-woff"}return"application/octet-stream"}function FileInfo(ext){var mimeType=this.mimeType=_lookupMimeType(ext);var parts=mimeType.split("/");this.type=parts[0];this.subType=parts[1]}module.exports={isImage:function(ext){var info=new FileInfo(ext);return info.type==="image"},isVideo:function(ext){var info=new FileInfo(ext);return info.type==="video"},isAudio:function(ext){var info=new FileInfo(ext);return info.type==="audio"},isResizableImage:function(ext){ext=FilerUtils.normalizeExtension(ext);return ext===".png"||ext===".jpg"||ext===".jpeg"||ext===".gif"},isAnimatedImage:function(data){return isAnimated(data)},isHTML:function(ext){var id=_getLanguageId(ext);return id==="html"},isCSS:function(ext){var id=_getLanguageId(ext);return id==="css"},isJS:function(ext){var id=_getLanguageId(ext);return id==="javascript"},isScript:function(ext){var info=new FileInfo(ext);return info.subType==="javascript"},needsRewriting:function(ext){return this.isHTML(ext)||this.isCSS(ext)},isMarkdown:function(ext){var id=_getLanguageId(ext);return id==="markdown"},isPDF:function(ext){ext=FilerUtils.normalizeExtension(ext);return ext===".pdf"},isPY:function(ext){ext=FilerUtils.normalizeExtension(ext);return ext===".py"},isJava:function(ext){ext=FilerUtils.normalizeExtension(ext);return ext===".java"},isArchive:function(ext){ext=FilerUtils.normalizeExtension(ext);return ext===".zip"||ext===".tar"},isFont:function(ext){ext=FilerUtils.normalizeExtension(ext);switch(ext){case".eot":case".otf":case".ttf":case".woff":return true;default:return false}},mimeFromExt:function(ext){return _lookupMimeType(ext)},isTextType:function(mime){return/^text/.test(mime)},isUTF8Encoded:function(ext){var mime=this.mimeFromExt(ext);return this.isTextType(mime)},isRelativeURL:function(url){if(!url){return false}return!(/\:?\/\//.test(url)||/\s*data\:/.test(url))},isBlobURL:function(url){if(!url){return false}return/^blob\:/.test(url)},shouldRejectFile:function(filename,size){var ext=Path.extname(filename);var mime=this.mimeFromExt(ext);var isArchive=this.isArchive(ext);var sizeLimit;if(this.isResizableImage(ext)){sizeLimit=Sizes.RESIZABLE_IMAGE_FILE_LIMIT_MB}else if(isArchive){sizeLimit=Sizes.ARCHIVE_FILE_LIMIT_MB}else{sizeLimit=Sizes.REGULAR_FILE_SIZE_LIMIT_MB}var sizeLimitMb=(sizeLimit/Sizes.MB).toString();if(size>sizeLimit){return new Error(StringUtils.format(Strings.DND_MAX_SIZE_EXCEEDED,sizeLimitMb))}return null},isImageTooLarge:function(byteLength){return byteLength>Sizes.RESIZED_IMAGE_TARGET_SIZE_KB}}});define("filesystem/impls/filer/lib/queue",["require","exports","module"],function(require,exports,module){"use strict";function queueFn(fn,queue){queue.push(fn)}function runFn(fn){fn.call(null)}function Queue(){this.items=[];this.exec=function(fn){queueFn(fn,this.items)}}Queue.prototype.ready=function(){if(!this.items){return}this.items.forEach(function(fn){fn.call(null)});this.items=null;this.exec=runFn};module.exports=new Queue});define("bramble/thirdparty/uuid.core",["require","exports","module"],function(require,exports,module){function UUID(){}UUID.generate=function(){var a=UUID._gri,b=UUID._ha;return b(a(32),8)+"-"+b(a(16),4)+"-"+b(16384|a(12),4)+"-"+b(32768|a(14),4)+"-"+b(a(48),12)};UUID._gri=function(a){return 0>a?NaN:30>=a?0|Math.random()*(1<<a):53>=a?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<a-30)):NaN};UUID._ha=function(a,b){for(var c=a.toString(16),d=b-c.length,e="0";0<d;d>>>=1,e+=e)d&1&&(c=e+c);return c};module.exports=UUID});define("bramble/ChannelUtils",["require","exports","module","bramble/thirdparty/uuid.core"],function(require,exports,module){"use strict";var UUID=require("bramble/thirdparty/uuid.core");function checkArrayBufferTransfer(port,callback){var numbers=[1,2,3,4];var data=new Uint8Array(numbers);var buffer=data.buffer;function checkArrayBufferTransferHandler(e){port.removeEventListener("message",checkArrayBufferTransferHandler,false);try{var a=new Uint8Array(numbers);var b=new Uint8Array(e.data.buffer);callback(null,a.length===b.length&&a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3])}catch(err){callback(null,false)}}port.addEventListener("message",checkArrayBufferTransferHandler,false);port.postMessage({buffer:buffer},[buffer])}exports.checkArrayBufferTransfer=checkArrayBufferTransfer;exports.UUID=UUID});define("filesystem/impls/filer/RemoteFiler",["require","exports","module","filesystem/impls/filer/lib/queue","bramble/ChannelUtils"],function(require,exports,module){"use strict";var fnQueue=require("filesystem/impls/filer/lib/queue");var ChannelUtils=require("bramble/ChannelUtils");var UUID=ChannelUtils.UUID;var allowArrayBufferTransfer;var port;var callbackQueue={};function remoteFSCallbackHandler(e){var data=e.data;var callbackItem=callbackQueue[data.callback];if(!callbackItem.persist){delete callbackQueue[data.callback]}callbackItem.callback.apply(null,data.result)}function receiveMessagePort(e){var data=e.data;try{data=JSON.parse(data);data=data||{}}catch(err){data={}}if(data.type==="bramble:filer"){window.removeEventListener("message",receiveMessagePort,false);port=e.ports[0];port.start();ChannelUtils.checkArrayBufferTransfer(port,function(err,isAllowed){allowArrayBufferTransfer=isAllowed;port.addEventListener("message",remoteFSCallbackHandler,false);fnQueue.ready()})}}function init(){window.addEventListener("message",receiveMessagePort,false);window.parent.postMessage(JSON.stringify({type:"bramble:filer"}),"*")}function proxyCall(fn,options,callback){var id=UUID.generate();callbackQueue[id]={callback:callback,persist:options.persist};fnQueue.exec(function(){var transferable;if(allowArrayBufferTransfer&&options.transfer){transferable=[options.transfer]}port.postMessage({method:fn,shell:options.shell,callback:id,args:options.args},transferable)})}exports.init=init;exports.proxyCall=proxyCall});define("filesystem/impls/filer/BracketsFiler",["require","exports","module","filesystem/impls/filer/RemoteFiler","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/FilerUtils"],function(require,exports,module){"use strict";var proxyCall=require("filesystem/impls/filer/RemoteFiler").proxyCall;var FilerUtils=require("filesystem/impls/filer/FilerUtils");var Path=FilerUtils.Path;var FilerBuffer=FilerUtils.Buffer;var decodePath=require("filesystem/impls/filer/FilerUtils").decodePath;var proxyFS={stat:function(path,callback){path=decodePath(path);proxyCall("stat",{args:[path]},callback)},exists:function(path,callback){path=decodePath(path);proxyCall("exists",{args:[path]},callback)},readdir:function(path,callback){path=decodePath(path);proxyCall("readdir",{args:[path]},callback)},mkdir:function(path,callback){path=decodePath(path);proxyCall("mkdir",{args:[path]},callback)},mkdirp:function(path,callback){path=decodePath(path);callback=callback||function(){};function filerError(code,msg){var err=new Error(msg);err.code=code;return err}if(!path){return callback(filerError("EINVAL","missing path argument"))}else if(path==="/"){return callback()}function _mkdirp(path,callback){var parent;proxyFS.stat(path,function(err,stat){if(stat){if(stat.type==="DIRECTORY"){callback()}else if(stat.type==="FILE"){callback(filerError("ENOTDIR",path))}}else if(err&&err.code!=="ENOENT"){callback(err)}else{parent=Path.dirname(path);if(parent==="/"){proxyFS.mkdir(path,function(err){if(err&&err.code!=="EEXIST"){return callback(err)}callback()})}else{_mkdirp(parent,function(err){if(err){return callback(err)}proxyFS.mkdir(path,function(err){if(err&&err.code!=="EEXIST"){return callback(err)}callback()})})}}})}_mkdirp(path,callback)},rmdir:function(path,callback){path=decodePath(path);proxyCall("rmdir",{args:[path]},callback)},unlink:function(path,callback){path=decodePath(path);proxyCall("unlink",{args:[path]},callback)},rename:function(oldPath,newPath,callback){oldPath=decodePath(oldPath);newPath=decodePath(newPath);proxyCall("rename",{args:[oldPath,newPath]},callback)},readFile:function(path,options,callback){path=decodePath(path);if(typeof options==="function"){callback=options;options={}}proxyCall("readFile",{args:[path,{encoding:null}]},function(err,data){if(err){callback(err);return}data=new FilerBuffer(data);if(options&&(options==="utf8"||options.encoding==="utf8")){data=data.toString("utf8")}callback(null,data)})},writeFile:function(path,data,encoding,callback){if(typeof encoding==="function"){callback=encoding;encoding=null}if(typeof data==="string"){data=new FilerBuffer(data,"utf8")}var buffer=data.buffer;var options={args:[path,buffer,{encoding:null}],transfer:buffer};proxyCall("writeFile",options,callback)},watch:function(path,options,callback){path=decodePath(path);proxyCall("watch",{args:[path,options],persist:true},callback)},ls:function(path,options,callback){path=decodePath(path);proxyCall("ls",{args:[path,options],shell:true},callback)},mv:function(src,dest,callback){src=decodePath(src);dest=decodePath(dest);proxyCall("mv",{args:[src,dest],shell:true},callback)},rm:function(path,options,callback){path=decodePath(path);proxyCall("rm",{args:[path,options],shell:true},callback)}};module.exports={Path:Path,Buffer:FilerBuffer,fs:function(){return proxyFS}}});define("text!filesystem/impls/filer/lib/default.html",[],function(){return'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf-8">\n    <title>Your Webpage</title>\n  </head>\n  <body>\n    <p>Make something amazing with Tynker</p>\n  </body>\n</html>\n'});define("filesystem/File",["require","exports","module","filesystem/FileSystemEntry","filesystem/impls/filer/lib/content","filesystem/impls/filer/BracketsFiler","filesystem/impls/filer/FilerUtils","text!filesystem/impls/filer/lib/default.html"],function(require,exports,module){"use strict";var FileSystemEntry=require("filesystem/FileSystemEntry"),Content=require("filesystem/impls/filer/lib/content"),Path=require("filesystem/impls/filer/BracketsFiler").Path,FilerUtils=require("filesystem/impls/filer/FilerUtils"),defaultHTML=require("text!filesystem/impls/filer/lib/default.html");function File(fullPath,fileSystem){this._isFile=true;FileSystemEntry.call(this,fullPath,fileSystem)}File.prototype=Object.create(FileSystemEntry.prototype);File.prototype.constructor=File;File.prototype.parentClass=FileSystemEntry.prototype;File.prototype._contents=null;File.prototype._hash=null;File.prototype._clearCachedData=function(){FileSystemEntry.prototype._clearCachedData.apply(this);this._contents=null};File.prototype.read=function(options,callback){if(typeof options==="function"){callback=options;options={}}if(!options.ignoreCachedContents&&this._contents!==null&&this._stat&&FilerUtils.normalizeExtension(Path.extname(this._path))!==".svg"){callback(null,this._contents,this._stat);return}var watched=this._isWatched();if(watched){options.stat=this._stat}this._impl.readFile(this._path,options,function(err,data,stat){if(err){this._clearCachedData();callback(err);return}this._hash=stat._hash;if(watched){this._stat=stat;this._contents=data}callback(err,data,stat)}.bind(this))};File.prototype.write=function(data,options,callback){if(typeof options==="function"){callback=options;options={}}else{if(options===undefined){options={}}callback=callback||function(){}}if(options.includeDefaultContent&&Content.isHTML(Path.extname(this._path))&&data===""){data=defaultHTML}if(!options.blind){options.expectedHash=this._hash;options.expectedContents=this._contents}this._fileSystem._beginChange();this._impl.writeFile(this._path,data,options,function(err,stat,created){if(err){this._clearCachedData();try{callback(err);return}finally{this._fileSystem._endChange()}}this._hash=stat._hash;if(this._isWatched()){this._stat=stat;this._contents=data}if(created){var parent=this._fileSystem.getDirectoryForPath(this.parentPath);this._fileSystem._handleDirectoryChange(parent,function(added,removed){try{callback(null,stat)}finally{if(parent._isWatched()){this._fileSystem._fireChangeEvent(parent,added,removed)}this._fileSystem._endChange()}}.bind(this))}else{try{callback(null,stat)}finally{this._fileSystem._fireChangeEvent(this);this._fileSystem._endChange()}}}.bind(this))};module.exports=File});define("filesystem/FileIndex",["require","exports","module"],function(require,exports,module){"use strict";function FileIndex(){this._index={}}FileIndex.prototype._index=null;FileIndex.prototype.clear=function(){this._index={}};FileIndex.prototype.visitAll=function(visitor){var path;for(path in this._index){if(this._index.hasOwnProperty(path)){visitor(this._index[path],path)}}};FileIndex.prototype.addEntry=function(entry){this._index[entry.fullPath]=entry};FileIndex.prototype.removeEntry=function(entry){var path=entry.fullPath,property;function replaceMember(property){var member=entry[property];if(typeof member==="function"){entry[property]=function(){console.warn("FileSystemEntry used after being removed from index: ",path);return member.apply(entry,arguments)}}}delete this._index[path];for(property in entry){if(entry.hasOwnProperty(property)){replaceMember(property)}}};FileIndex.prototype.entryRenamed=function(oldPath,newPath,isDirectory){var path,renameMap={};for(path in this._index){if(this._index.hasOwnProperty(path)){if(isDirectory?path.indexOf(oldPath)===0:path===oldPath){renameMap[path]=newPath+path.substr(oldPath.length)}}}for(path in renameMap){if(renameMap.hasOwnProperty(path)){var item=this._index[path];console.assert(item.fullPath===path);delete this._index[path];this._index[renameMap[path]]=item;item._setPath(renameMap[path])}}};FileIndex.prototype.getEntry=function(path){return this._index[path]};module.exports=FileIndex});define("filesystem/FileSystemStats",["require","exports","module"],function(require,exports,module){"use strict";function FileSystemStats(options){var isFile=options.isFile;this._isFile=isFile;this._isDirectory=!isFile;this._mtime=options.mtime instanceof Date?options.mtime:new Date(options.mtime);this._size=options.size;this._hash=options.hash||this._mtime.valueOf();var realPath=options.realPath;if(realPath){if(!isFile&&realPath[realPath.length-1]!=="/"){realPath+="/"}this._realPath=realPath}}Object.defineProperties(FileSystemStats.prototype,{isFile:{get:function(){return this._isFile},set:function(){throw new Error("Cannot set isFile")}},isDirectory:{get:function(){return this._isDirectory},set:function(){throw new Error("Cannot set isDirectory")}},mtime:{get:function(){return this._mtime},set:function(){throw new Error("Cannot set mtime")}},size:{get:function(){return this._size},set:function(){throw new Error("Cannot set size")}},realPath:{get:function(){return this._realPath},set:function(){throw new Error("Cannot set realPath")}}});FileSystemStats.prototype._isFile=false;FileSystemStats.prototype._isDirectory=false;FileSystemStats.prototype._mtime=null;FileSystemStats.prototype._size=null;FileSystemStats.prototype._hash=null;FileSystemStats.prototype._realPath=null;module.exports=FileSystemStats});!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("thirdparty/immutable",e):t.Immutable=e()}(this,function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return o(t)?t:O(t)}function r(t){return u(t)?t:x(t)}function n(t){return s(t)?t:k(t)}function i(t){return o(t)&&!a(t)?t:A(t)}function o(t){return!(!t||!t[ar])}function u(t){return!(!t||!t[hr])}function s(t){return!(!t||!t[fr])}function a(t){return u(t)||s(t)}function h(t){return!(!t||!t[cr])}function f(t){return t.value=!1,t}function c(t){t&&(t.value=!0)}function _(){}function p(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=Array(r),i=0;r>i;i++)n[i]=t[i+e];return n}function v(t){return void 0===t.size&&(t.size=t.__iterate(y)),t.size}function l(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return 0>e?v(t)+e:e}function y(){return!0}function d(t,e,r){return(0===t||void 0!==r&&-r>=t)&&(void 0===e||void 0!==r&&e>=r)}function m(t,e){return w(t,e,0)}function g(t,e){return w(t,e,e)}function w(t,e,r){return void 0===t?r:0>t?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function S(t){this.next=t}function z(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function I(){return{value:void 0,done:!0}}function b(t){return!!M(t)}function q(t){return t&&"function"==typeof t.next}function D(t){var e=M(t);return e&&e.call(t)}function M(t){var e=t&&(zr&&t[zr]||t[Ir]);return"function"==typeof e?e:void 0}function E(t){return t&&"number"==typeof t.length}function O(t){return null===t||void 0===t?T():o(t)?t.toSeq():C(t)}function x(t){return null===t||void 0===t?T().toKeyedSeq():o(t)?u(t)?t.toSeq():t.fromEntrySeq():W(t)}function k(t){return null===t||void 0===t?T():o(t)?u(t)?t.entrySeq():t.toIndexedSeq():B(t)}function A(t){return(null===t||void 0===t?T():o(t)?u(t)?t.entrySeq():t:B(t)).toSetSeq()}function j(t){this._array=t,this.size=t.length}function K(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function R(t){this._iterable=t,this.size=t.length||t.size}function U(t){this._iterator=t,this._iteratorCache=[]}function L(t){return!(!t||!t[qr])}function T(){return Dr||(Dr=new j([]))}function W(t){var e=Array.isArray(t)?new j(t).fromEntrySeq():q(t)?new U(t).fromEntrySeq():b(t)?new R(t).fromEntrySeq():"object"==typeof t?new K(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function B(t){var e=J(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function C(t){var e=J(t)||"object"==typeof t&&new K(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function J(t){return E(t)?new j(t):q(t)?new U(t):b(t)?new R(t):void 0}function N(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,u=0;o>=u;u++){var s=i[r?o-u:u];if(e(s[1],n?s[0]:u,t)===!1)return u+1}return u}return t.__iterateUncached(e,r)}function P(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,u=0;return new S(function(){var t=i[r?o-u:u];return u++>o?I():z(e,n?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,r)}function H(t,e){return e?V(e,t,"",{"":t}):Y(t)}function V(t,e,r,n){return Array.isArray(e)?t.call(n,r,k(e).map(function(r,n){return V(t,r,n,e)})):Q(e)?t.call(n,r,x(e).map(function(r,n){return V(t,r,n,e)})):e}function Y(t){return Array.isArray(t)?k(t).map(Y).toList():Q(t)?x(t).map(Y).toMap():t}function Q(t){return t&&(t.constructor===Object||void 0===t.constructor)}function X(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return"function"==typeof t.equals&&"function"==typeof e.equals&&t.equals(e)?!0:!1}function F(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||s(t)!==s(e)||h(t)!==h(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!a(t);if(h(t)){var n=t.entries();return e.every(function(t,e){var i=n.next().value;return i&&X(i[1],t)&&(r||X(i[0],e))})&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var f=t;t=e,e=f}var c=!0,_=e.__iterate(function(e,n){return(r?t.has(e):i?X(e,t.get(n,yr)):X(t.get(n,yr),e))?void 0:(c=!1,!1)});return c&&t.size===_}function G(t,e){if(!(this instanceof G))return new G(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(Mr)return Mr
;Mr=this}}function Z(t,e){if(!t)throw Error(e)}function $(t,e,r){if(!(this instanceof $))return new $(t,e,r);if(Z(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),t>e&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Er)return Er;Er=this}}function tt(){throw TypeError("Abstract")}function et(){}function rt(){}function nt(){}function it(t){return t>>>1&1073741824|3221225471&t}function ot(t){if(t===!1||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),t===!1||null===t||void 0===t))return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)t/=4294967295,r^=t;return it(r)}if("string"===e)return t.length>Ur?ut(t):st(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return at(t);if("function"==typeof t.toString)return st(""+t);throw Error("Value type "+e+" cannot be hashed.")}function ut(t){var e=Wr[t];return void 0===e&&(e=st(t),Tr===Lr&&(Tr=0,Wr={}),Tr++,Wr[t]=e),e}function st(t){for(var e=0,r=0;t.length>r;r++)e=31*e+t.charCodeAt(r)|0;return it(e)}function at(t){var e;if(jr&&(e=Or.get(t),void 0!==e))return e;if(e=t[Rr],void 0!==e)return e;if(!Ar){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Rr],void 0!==e)return e;if(e=ht(t),void 0!==e)return e}if(e=++Kr,1073741824&Kr&&(Kr=0),jr)Or.set(t,e);else{if(void 0!==kr&&kr(t)===!1)throw Error("Non-extensible objects are not allowed as keys.");if(Ar)Object.defineProperty(t,Rr,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Rr]=e;else{if(void 0===t.nodeType)throw Error("Unable to set a non-enumerable property on object.");t[Rr]=e}}return e}function ht(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ft(t){Z(t!==1/0,"Cannot perform this action with an infinite size.")}function ct(t){return null===t||void 0===t?zt():_t(t)&&!h(t)?t:zt().withMutations(function(e){var n=r(t);ft(n.size),n.forEach(function(t,r){return e.set(r,t)})})}function _t(t){return!(!t||!t[Br])}function pt(t,e){this.ownerID=t,this.entries=e}function vt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function lt(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function yt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function dt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function mt(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&wt(t._root)}function gt(t,e){return z(t,e[0],e[1])}function wt(t,e){return{node:t,index:0,__prev:e}}function St(t,e,r,n){var i=Object.create(Cr);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function zt(){return Jr||(Jr=St(0))}function It(t,e,r){var n,i;if(t._root){var o=f(dr),u=f(mr);if(n=bt(t._root,t.__ownerID,0,void 0,e,r,o,u),!u.value)return t;i=t.size+(o.value?r===yr?-1:1:0)}else{if(r===yr)return t;i=1,n=new pt(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?St(i,n):zt()}function bt(t,e,r,n,i,o,u,s){return t?t.update(e,r,n,i,o,u,s):o===yr?t:(c(s),c(u),new dt(e,n,[i,o]))}function qt(t){return t.constructor===dt||t.constructor===yt}function Dt(t,e,r,n,i){if(t.keyHash===n)return new yt(e,n,[t.entry,i]);var o,u=(0===r?t.keyHash:t.keyHash>>>r)&lr,s=(0===r?n:n>>>r)&lr,a=u===s?[Dt(t,e,r+pr,n,i)]:(o=new dt(e,n,i),s>u?[t,o]:[o,t]);return new vt(e,1<<u|1<<s,a)}function Mt(t,e,r,n){t||(t=new _);for(var i=new dt(t,ot(r),[r,n]),o=0;e.length>o;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}function Et(t,e,r,n){for(var i=0,o=0,u=Array(r),s=0,a=1,h=e.length;h>s;s++,a<<=1){var f=e[s];void 0!==f&&s!==n&&(i|=a,u[o++]=f)}return new vt(t,i,u)}function Ot(t,e,r,n,i){for(var o=0,u=Array(vr),s=0;0!==r;s++,r>>>=1)u[s]=1&r?e[o++]:void 0;return u[n]=i,new lt(t,o+1,u)}function xt(t,e,n){for(var i=[],u=0;n.length>u;u++){var s=n[u],a=r(s);o(s)||(a=a.map(function(t){return H(t)})),i.push(a)}return jt(t,e,i)}function kt(t,e,r){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):X(t,e)?t:e}function At(t){return function(e,r,n){if(e&&e.mergeDeepWith&&o(r))return e.mergeDeepWith(t,r);var i=t(e,r,n);return X(e,i)?e:i}}function jt(t,e,r){return r=r.filter(function(t){return 0!==t.size}),0===r.length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(t){for(var n=e?function(r,n){t.update(n,yr,function(t){return t===yr?r:e(t,r,n)})}:function(e,r){t.set(r,e)},i=0;r.length>i;i++)r[i].forEach(n)}):t.constructor(r[0])}function Kt(t,e,r,n){var i=t===yr,o=e.next();if(o.done){var u=i?r:t,s=n(u);return s===u?t:s}Z(i||t&&t.set,"invalid keyPath");var a=o.value,h=i?yr:t.get(a,yr),f=Kt(h,e,r,n);return f===h?t:f===yr?t.remove(a):(i?zt():t).set(a,f)}function Rt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function Ut(t,e,r,n){var i=n?t:p(t);return i[e]=r,i}function Lt(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=Array(i),u=0,s=0;i>s;s++)s===e?(o[s]=r,u=-1):o[s]=t[s+u];return o}function Tt(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=Array(n),o=0,u=0;n>u;u++)u===e&&(o=1),i[u]=t[u+o];return i}function Wt(t){var e=Pt();if(null===t||void 0===t)return e;if(Bt(t))return t;var r=n(t),i=r.size;return 0===i?e:(ft(i),i>0&&vr>i?Nt(0,i,pr,null,new Ct(r.toArray())):e.withMutations(function(t){t.setSize(i),r.forEach(function(e,r){return t.set(r,e)})}))}function Bt(t){return!(!t||!t[Vr])}function Ct(t,e){this.array=t,this.ownerID=e}function Jt(t,e){function r(t,e,r){return 0===e?n(t,r):i(t,e,r)}function n(t,r){var n=r===s?a&&a.array:t&&t.array,i=r>o?0:o-r,h=u-r;return h>vr&&(h=vr),function(){if(i===h)return Xr;var t=e?--h:i++;return n&&n[t]}}function i(t,n,i){var s,a=t&&t.array,h=i>o?0:o-i>>n,f=(u-i>>n)+1;return f>vr&&(f=vr),function(){for(;;){if(s){var t=s();if(t!==Xr)return t;s=null}if(h===f)return Xr;var o=e?--f:h++;s=r(a&&a[o],n-pr,i+(o<<n))}}}var o=t._origin,u=t._capacity,s=Gt(u),a=t._tail;return r(t._root,t._level,0)}function Nt(t,e,r,n,i,o,u){var s=Object.create(Yr);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=u,s.__altered=!1,s}function Pt(){return Qr||(Qr=Nt(0,0,pr))}function Ht(t,e,r){if(e=l(t,e),e!==e)return t;if(e>=t.size||0>e)return t.withMutations(function(t){0>e?Xt(t,e).set(0,r):Xt(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=f(mr);return e>=Gt(t._capacity)?n=Vt(n,t.__ownerID,0,e,r,o):i=Vt(i,t.__ownerID,t._level,e,r,o),o.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Nt(t._origin,t._capacity,t._level,i,n):t}function Vt(t,e,r,n,i,o){var u=n>>>r&lr,s=t&&t.array.length>u;if(!s&&void 0===i)return t;var a;if(r>0){var h=t&&t.array[u],f=Vt(h,e,r-pr,n,i,o);return f===h?t:(a=Yt(t,e),a.array[u]=f,a)}return s&&t.array[u]===i?t:(c(o),a=Yt(t,e),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function Yt(t,e){return e&&t&&e===t.ownerID?t:new Ct(t?t.array.slice():[],e)}function Qt(t,e){if(e>=Gt(t._capacity))return t._tail;if(1<<t._level+pr>e){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&lr],n-=pr;return r}}function Xt(t,e,r){void 0!==e&&(e=0|e),void 0!==r&&(r=0|r);var n=t.__ownerID||new _,i=t._origin,o=t._capacity,u=i+e,s=void 0===r?o:0>r?o+r:i+r;if(u===i&&s===o)return t;if(u>=s)return t.clear();for(var a=t._level,h=t._root,f=0;0>u+f;)h=new Ct(h&&h.array.length?[void 0,h]:[],n),a+=pr,f+=1<<a;f&&(u+=f,i+=f,s+=f,o+=f);for(var c=Gt(o),p=Gt(s);p>=1<<a+pr;)h=new Ct(h&&h.array.length?[h]:[],n),a+=pr;var v=t._tail,l=c>p?Qt(t,s-1):p>c?new Ct([],n):v;if(v&&p>c&&o>u&&v.array.length){h=Yt(h,n);for(var y=h,d=a;d>pr;d-=pr){var m=c>>>d&lr;y=y.array[m]=Yt(y.array[m],n)}y.array[c>>>pr&lr]=v}if(o>s&&(l=l&&l.removeAfter(n,0,s)),u>=p)u-=p,s-=p,a=pr,h=null,l=l&&l.removeBefore(n,0,u);else if(u>i||c>p){for(f=0;h;){var g=u>>>a&lr;if(g!==p>>>a&lr)break;g&&(f+=(1<<a)*g),a-=pr,h=h.array[g]}h&&u>i&&(h=h.removeBefore(n,a,u-f)),h&&c>p&&(h=h.removeAfter(n,a,p-f)),f&&(u-=f,s-=f)}return t.__ownerID?(t.size=s-u,t._origin=u,t._capacity=s,t._level=a,t._root=h,t._tail=l,t.__hash=void 0,t.__altered=!0,t):Nt(u,s,a,h,l)}function Ft(t,e,r){for(var i=[],u=0,s=0;r.length>s;s++){var a=r[s],h=n(a);h.size>u&&(u=h.size),o(a)||(h=h.map(function(t){return H(t)})),i.push(h)}return u>t.size&&(t=t.setSize(u)),jt(t,e,i)}function Gt(t){return vr>t?0:t-1>>>pr<<pr}function Zt(t){return null===t||void 0===t?ee():$t(t)?t:ee().withMutations(function(e){var n=r(t);ft(n.size),n.forEach(function(t,r){return e.set(r,t)})})}function $t(t){return _t(t)&&h(t)}function te(t,e,r,n){var i=Object.create(Zt.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function ee(){return Fr||(Fr=te(zt(),Pt()))}function re(t,e,r){var n,i,o=t._map,u=t._list,s=o.get(e),a=void 0!==s;if(r===yr){if(!a)return t;u.size>=vr&&u.size>=2*o.size?(i=u.filter(function(t,e){return void 0!==t&&s!==e}),n=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===u.size-1?u.pop():u.set(s,void 0))}else if(a){if(r===u.get(s)[1])return t;n=o,i=u.set(s,[e,r])}else n=o.set(e,u.size),i=u.set(u.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):te(n,i)}function ne(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ue(t){this._iter=t,this.size=t.size}function se(t){var e=Ee(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Oe,e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return e(r,t,n)!==!1},r)},e.__iteratorUncached=function(e,r){if(e===Sr){var n=t.__iterator(e,r);return new S(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wr?gr:wr,r)},e}function ae(t,e,r){var n=Ee(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,yr);return o===yr?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate(function(t,i,u){return n(e.call(r,t,i,u),i,o)!==!1},i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(Sr,i);return new S(function(){var i=o.next();if(i.done)return i;var u=i.value,s=u[0];return z(n,s,e.call(r,u[1],s,t),i)})},n}function he(t,e){var r=Ee(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=se(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=Oe,r.__iterate=function(e,r){var n=this;return t.__iterate(function(t,r){return e(t,r,n)},!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function fe(t,e,r,n){var i=Ee(t);return n&&(i.has=function(n){var i=t.get(n,yr);return i!==yr&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,yr);return o!==yr&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,s=0;return t.__iterate(function(t,o,a){return e.call(r,t,o,a)?(s++,i(t,n?o:s-1,u)):void 0},o),s},i.__iteratorUncached=function(i,o){var u=t.__iterator(Sr,o),s=0;return new S(function(){for(;;){var o=u.next();if(o.done)return o;var a=o.value,h=a[0],f=a[1];if(e.call(r,f,h,t))return z(i,n?h:s++,f,o)}})},i}function ce(t,e,r){var n=ct().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(t){return t+1})}),n.asImmutable()}function _e(t,e,r){var n=u(t),i=(h(t)?Zt():ct()).asMutable();t.__iterate(function(o,u){i.update(e.call(r,o,u,t),function(t){return t=t||[],t.push(n?[u,o]:o),t})});var o=Me(t);return i.map(function(e){return be(t,o(e))})}function pe(t,e,r,n){var i=t.size;if(void 0!==e&&(e=0|e),void 0!==r&&(r=0|r),d(e,r,i))return t;var o=m(e,i),u=g(r,i);if(o!==o||u!==u)return pe(t.toSeq().cacheResult(),e,r,n);var s,a=u-o;a===a&&(s=0>a?0:a);var h=Ee(t);return h.size=0===s?s:t.size&&s||void 0,!n&&L(t)&&s>=0&&(h.get=function(e,r){return e=l(this,e),e>=0&&s>e?t.get(e+o,r):r}),h.__iterateUncached=function(e,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var u=0,a=!0,h=0;return t.__iterate(function(t,r){return a&&(a=u++<o)?void 0:(h++,e(t,n?r:h-1,i)!==!1&&h!==s)}),h},h.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);var i=0!==s&&t.__iterator(e,r),u=0,a=0;return new S(function(){for(;u++<o;)i.next();if(++a>s)return I();var t=i.next();return n||e===wr?t:e===gr?z(e,a-1,void 0,t):z(e,a-1,t.value[1],t)})},h}function ve(t,e,r){var n=Ee(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var u=0;return t.__iterate(function(t,i,s){return e.call(r,t,i,s)&&++u&&n(t,i,o)}),u},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var u=t.__iterator(Sr,i),s=!0;return new S(function(){if(!s)return I();var t=u.next();if(t.done)return t;var i=t.value,a=i[0],h=i[1];return e.call(r,h,a,o)?n===Sr?t:z(n,a,h,t):(s=!1,I())})},n}function le(t,e,r,n){var i=Ee(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,a=0;return t.__iterate(function(t,o,h){return s&&(s=e.call(r,t,o,h))?void 0:(a++,i(t,n?o:a-1,u))}),a},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(Sr,o),a=!0,h=0;return new S(function(){var t,o,f;do{if(t=s.next(),t.done)return n||i===wr?t:i===gr?z(i,h++,void 0,t):z(i,h++,t.value[1],t);var c=t.value;o=c[0],f=c[1],a&&(a=e.call(r,f,o,u))}while(a);return i===Sr?t:z(i,o,f,t)})},i}function ye(t,e){var n=u(t),i=[t].concat(e).map(function(t){return o(t)?n&&(t=r(t)):t=n?W(t):B(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var a=i[0];if(a===t||n&&u(a)||s(t)&&s(a))return a}var h=new j(i);return n?h=h.toKeyedSeq():s(t)||(h=h.toSetSeq()),h=h.flatten(!0),h.size=i.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),h}function de(t,e,r){var n=Ee(t);return n.__iterateUncached=function(n,i){function u(t,h){var f=this;t.__iterate(function(t,i){return(!e||e>h)&&o(t)?u(t,h+1):n(t,r?i:s++,f)===!1&&(a=!0),!a},i)}var s=0,a=!1;return u(t,0),s},n.__iteratorUncached=function(n,i){var u=t.__iterator(n,i),s=[],a=0;return new S(function(){for(;u;){var t=u.next();if(t.done===!1){var h=t.value;if(n===Sr&&(h=h[1]),e&&!(e>s.length)||!o(h))return r?t:z(n,a++,h,t);s.push(u),u=h.__iterator(n,i)}else u=s.pop()}return I()})},n}function me(t,e,r){var n=Me(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}function ge(t,e){var r=Ee(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate(function(t,n){return(!o||r(e,o++,i)!==!1)&&r(t,o++,i)!==!1},n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(wr,n),u=0;return new S(function(){return(!i||u%2)&&(i=o.next(),i.done)?i:u%2?z(r,u++,e):z(r,u++,i.value,i)})},r}function we(t,e,r){e||(e=xe);var n=u(t),i=0,o=t.toSeq().map(function(e,n){return[n,e,i++,r?r(e,n,t):e]}).toArray();return o.sort(function(t,r){return e(t[3],r[3])||t[2]-r[2]}).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?x(o):s(t)?k(o):A(o)}function Se(t,e,r){if(e||(e=xe),r){var n=t.toSeq().map(function(e,n){return[e,r(e,n,t)]}).reduce(function(t,r){return ze(e,t[1],r[1])?r:t});return n&&n[0]}return t.reduce(function(t,r){return ze(e,t,r)?r:t})}function ze(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(void 0===r||null===r||r!==r)||n>0}function Ie(t,r,n){var i=Ee(t);return i.size=new j(n).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(wr,e),i=0;!(r=n.next()).done&&t(r.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(t,i){var o=n.map(function(t){return t=e(t),D(i?t.reverse():t)}),u=0,s=!1;return new S(function(){var e;return s||(e=o.map(function(t){return t.next()}),s=e.some(function(t){return t.done})),s?I():z(t,u++,r.apply(null,e.map(function(t){return t.value})))})},i}function be(t,e){return L(t)?e:t.constructor(e)}function qe(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function De(t){return ft(t.size),v(t)}function Me(t){return u(t)?r:s(t)?n:i}function Ee(t){return Object.create((u(t)?x:s(t)?k:A).prototype)}function Oe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):O.prototype.cacheResult.call(this)}function xe(t,e){return t>e?1:e>t?-1:0}function ke(t){var r=D(t);if(!r){if(!E(t))throw new TypeError("Expected iterable or array-like: "+t);r=D(e(t))}return r}function Ae(t,e){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var u=Object.keys(t);Re(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=ct(o)},i=n.prototype=Object.create(Gr);return i.constructor=n,n}function je(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function Ke(t){return t._name||t.constructor.name||"Record"}function Re(t,e){try{e.forEach(Ue.bind(void 0,t))}catch(r){}}function Ue(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Z(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Le(t){return null===t||void 0===t?Ce():Te(t)&&!h(t)?t:Ce().withMutations(function(e){var r=i(t);ft(r.size),r.forEach(function(t){return e.add(t)})})}function Te(t){return!(!t||!t[Zr])}function We(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Be(t,e){var r=Object.create($r);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Ce(){return tn||(tn=Be(zt()))}function Je(t){return null===t||void 0===t?He():Ne(t)?t:He().withMutations(function(e){var r=i(t);ft(r.size),r.forEach(function(t){return e.add(t)})})}function Ne(t){return Te(t)&&h(t)}function Pe(t,e){var r=Object.create(en);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function He(){return rn||(rn=Pe(ee()))}function Ve(t){return null===t||void 0===t?Xe():Ye(t)?t:Xe().unshiftAll(t)}function Ye(t){return!(!t||!t[nn])}function Qe(t,e,r,n){var i=Object.create(on);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Xe(){return un||(un=Qe(0))}function Fe(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Ge(t,e){return e}function Ze(t,e){return[e,t]}function $e(t){return function(){return!t.apply(this,arguments)}}function tr(t){return function(){return-t.apply(this,arguments)}}function er(t){return"string"==typeof t?JSON.stringify(t):t}function rr(){return p(arguments)}function nr(t,e){return e>t?1:t>e?-1:0}function ir(t){if(t.size===1/0)return 0;var e=h(t),r=u(t),n=e?1:0,i=t.__iterate(r?e?function(t,e){n=31*n+ur(ot(t),ot(e))|0}:function(t,e){n=n+ur(ot(t),ot(e))|0}:e?function(t){n=31*n+ot(t)|0}:function(t){n=n+ot(t)|0});return or(i,n)}function or(t,e){return e=xr(e,3432918353),e=xr(e<<15|e>>>-15,461845907),e=xr(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=xr(e^e>>>16,2246822507),e=xr(e^e>>>13,3266489909),e=it(e^e>>>16)}function ur(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var sr=Array.prototype.slice;t(r,e),t(n,e),t(i,e),e.isIterable=o,e.isKeyed=u,e.isIndexed=s,e.isAssociative=a,e.isOrdered=h,e.Keyed=r,e.Indexed=n,e.Set=i;var ar="@@__IMMUTABLE_ITERABLE__@@",hr="@@__IMMUTABLE_KEYED__@@",fr="@@__IMMUTABLE_INDEXED__@@",cr="@@__IMMUTABLE_ORDERED__@@",_r="delete",pr=5,vr=1<<pr,lr=vr-1,yr={},dr={value:!1},mr={value:!1},gr=0,wr=1,Sr=2,zr="function"==typeof Symbol&&Symbol.iterator,Ir="@@iterator",br=zr||Ir;S.prototype.toString=function(){return"[Iterator]"},S.KEYS=gr,S.VALUES=wr,S.ENTRIES=Sr,S.prototype.inspect=S.prototype.toSource=function(){return""+this},S.prototype[br]=function(){return this},t(O,e),O.of=function(){return O(arguments)},O.prototype.toSeq=function(){return this},O.prototype.toString=function(){return this.__toString("Seq {","}")},O.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},O.prototype.__iterate=function(t,e){return N(this,t,e,!0)},O.prototype.__iterator=function(t,e){return P(this,t,e,!0)},t(x,O),x.prototype.toKeyedSeq=function(){return this},t(k,O),k.of=function(){return k(arguments)},k.prototype.toIndexedSeq=function(){return this},k.prototype.toString=function(){return this.__toString("Seq [","]")},k.prototype.__iterate=function(t,e){return N(this,t,e,!1)},k.prototype.__iterator=function(t,e){return P(this,t,e,!1)},t(A,O),A.of=function(){return A(arguments)},A.prototype.toSetSeq=function(){return this},O.isSeq=L,O.Keyed=x,O.Set=A,O.Indexed=k;var qr="@@__IMMUTABLE_SEQ__@@";O.prototype[qr]=!0,t(j,k),j.prototype.get=function(t,e){return this.has(t)?this._array[l(this,t)]:e},j.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;n>=i;i++)if(t(r[e?n-i:i],i,this)===!1)return i+1;return i},j.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new S(function(){return i>n?I():z(t,i,r[e?n-i++:i++])})},t(K,x),K.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},K.prototype.has=function(t){return this._object.hasOwnProperty(t)},K.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;i>=o;o++){var u=n[e?i-o:o];if(t(r[u],u,this)===!1)return o+1}return o},K.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new S(function(){var u=n[e?i-o:o];return o++>i?I():z(t,u,r[u])})},K.prototype[cr]=!0,t(R,k),R.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=this._iterable,n=D(r),i=0;if(q(n))for(var o;!(o=n.next()).done&&t(o.value,i++,this)!==!1;);return i},R.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterable,n=D(r);if(!q(n))return new S(I);var i=0;return new S(function(){var e=n.next();return e.done?e:z(t,i++,e.value)})},t(U,k),U.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r=this._iterator,n=this._iteratorCache,i=0;n.length>i;)if(t(n[i],i++,this)===!1)return i;for(var o;!(o=r.next()).done;){var u=o.value;if(n[i]=u,t(u,i++,this)===!1)break}return i},U.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new S(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return z(t,i,n[i++])})};var Dr;t(G,k),G.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},G.prototype.get=function(t,e){return this.has(t)?this._value:e},G.prototype.includes=function(t){return X(this._value,t)},G.prototype.slice=function(t,e){var r=this.size;return d(t,e,r)?this:new G(this._value,g(e,r)-m(t,r))},G.prototype.reverse=function(){return this},G.prototype.indexOf=function(t){return X(this._value,t)?0:-1},G.prototype.lastIndexOf=function(t){return X(this._value,t)?this.size:-1},G.prototype.__iterate=function(t,e){for(var r=0;this.size>r;r++)if(t(this._value,r,this)===!1)return r+1;return r},G.prototype.__iterator=function(t,e){var r=this,n=0;return new S(function(){return r.size>n?z(t,n++,r._value):I()})},G.prototype.equals=function(t){return t instanceof G?X(this._value,t._value):F(t)};var Mr;t($,k),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},$.prototype.get=function(t,e){return this.has(t)?this._start+l(this,t)*this._step:e},$.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&this.size>e&&e===Math.floor(e)},$.prototype.slice=function(t,e){return d(t,e,this.size)?this:(t=m(t,this.size),e=g(e,this.size),t>=e?new $(0,0):new $(this.get(t,this._end),this.get(e,this._end),this._step))},$.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var r=e/this._step;if(r>=0&&this.size>r)return r}return-1},$.prototype.lastIndexOf=function(t){return this.indexOf(t)},$.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;r>=o;o++){if(t(i,o,this)===!1)return o+1;i+=e?-n:n}return o},$.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;return new S(function(){var u=i;return i+=e?-n:n,o>r?I():z(t,o++,u)})},$.prototype.equals=function(t){return t instanceof $?this._start===t._start&&this._end===t._end&&this._step===t._step:F(this,t)};var Er;t(tt,e),t(et,tt),t(rt,tt),t(nt,tt),tt.Keyed=et,tt.Indexed=rt,tt.Set=nt;var Or,xr="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t=0|t,e=0|e;var r=65535&t,n=65535&e;return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0},kr=Object.isExtensible,Ar=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),jr="function"==typeof WeakMap;jr&&(Or=new WeakMap);var Kr=0,Rr="__immutablehash__";"function"==typeof Symbol&&(Rr=Symbol(Rr));var Ur=16,Lr=255,Tr=0,Wr={};t(ct,et),ct.prototype.toString=function(){return this.__toString("Map {","}")},ct.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ct.prototype.set=function(t,e){return It(this,t,e)},ct.prototype.setIn=function(t,e){return this.updateIn(t,yr,function(){return e})},ct.prototype.remove=function(t){return It(this,t,yr)},ct.prototype.deleteIn=function(t){return this.updateIn(t,function(){return yr})},ct.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},ct.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=Kt(this,ke(t),e,r);return n===yr?void 0:n},ct.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):zt()},ct.prototype.merge=function(){return xt(this,void 0,arguments)},ct.prototype.mergeWith=function(t){var e=sr.call(arguments,1);return xt(this,t,e)},ct.prototype.mergeIn=function(t){var e=sr.call(arguments,1);return this.updateIn(t,zt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ct.prototype.mergeDeep=function(){return xt(this,kt,arguments)},ct.prototype.mergeDeepWith=function(t){var e=sr.call(arguments,1);return xt(this,At(t),e)},ct.prototype.mergeDeepIn=function(t){var e=sr.call(arguments,1);return this.updateIn(t,zt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ct.prototype.sort=function(t){return Zt(we(this,t))},ct.prototype.sortBy=function(t,e){return Zt(we(this,e,t))},ct.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ct.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new _)},ct.prototype.asImmutable=function(){return this.__ensureOwner()},ct.prototype.wasAltered=function(){return this.__altered},ct.prototype.__iterator=function(t,e){return new mt(this,t,e)},ct.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},ct.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?St(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ct.isMap=_t;var Br="@@__IMMUTABLE_MAP__@@",Cr=ct.prototype;Cr[Br]=!0,Cr[_r]=Cr.remove,Cr.removeIn=Cr.deleteIn,pt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;u>o;o++)if(X(r,i[o][0]))return i[o][1];return n},pt.prototype.update=function(t,e,r,n,i,o,u){for(var s=i===yr,a=this.entries,h=0,f=a.length;f>h&&!X(n,a[h][0]);h++);var _=f>h;if(_?a[h][1]===i:s)return this;if(c(u),(s||!_)&&c(o),!s||1!==a.length){if(!_&&!s&&a.length>=Nr)return Mt(t,a,n,i);var v=t&&t===this.ownerID,l=v?a:p(a);return _?s?h===f-1?l.pop():l[h]=l.pop():l[h]=[n,i]:l.push([n,i]),v?(this.entries=l,this):new pt(t,l)}},vt.prototype.get=function(t,e,r,n){void 0===e&&(e=ot(r));var i=1<<((0===t?e:e>>>t)&lr),o=this.bitmap;return 0===(o&i)?n:this.nodes[Rt(o&i-1)].get(t+pr,e,r,n)},vt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=ot(n));var s=(0===e?r:r>>>e)&lr,a=1<<s,h=this.bitmap,f=0!==(h&a);if(!f&&i===yr)return this;var c=Rt(h&a-1),_=this.nodes,p=f?_[c]:void 0,v=bt(p,t,e+pr,r,n,i,o,u);if(v===p)return this;if(!f&&v&&_.length>=Pr)return Ot(t,_,h,s,v);if(f&&!v&&2===_.length&&qt(_[1^c]))return _[1^c];if(f&&v&&1===_.length&&qt(v))return v;var l=t&&t===this.ownerID,y=f?v?h:h^a:h|a,d=f?v?Ut(_,c,v,l):Tt(_,c,l):Lt(_,c,v,l);return l?(this.bitmap=y,this.nodes=d,this):new vt(t,y,d)},lt.prototype.get=function(t,e,r,n){void 0===e&&(e=ot(r));var i=(0===t?e:e>>>t)&lr,o=this.nodes[i];return o?o.get(t+pr,e,r,n):n},lt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=ot(n));var s=(0===e?r:r>>>e)&lr,a=i===yr,h=this.nodes,f=h[s];if(a&&!f)return this;var c=bt(f,t,e+pr,r,n,i,o,u);if(c===f)return this;var _=this.count;if(f){if(!c&&(_--,Hr>_))return Et(t,h,_,s)}else _++;var p=t&&t===this.ownerID,v=Ut(h,s,c,p);return p?(this.count=_,this.nodes=v,this):new lt(t,_,v)},yt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;u>o;o++)if(X(r,i[o][0]))return i[o][1];return n},yt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=ot(n));var s=i===yr;if(r!==this.keyHash)return s?this:(c(u),c(o),Dt(this,t,e,r,[n,i]));for(var a=this.entries,h=0,f=a.length;f>h&&!X(n,a[h][0]);h++);var _=f>h;if(_?a[h][1]===i:s)return this;if(c(u),(s||!_)&&c(o),s&&2===f)return new dt(t,this.keyHash,a[1^h]);var v=t&&t===this.ownerID,l=v?a:p(a);return _?s?h===f-1?l.pop():l[h]=l.pop():l[h]=[n,i]:l.push([n,i]),v?(this.entries=l,this):new yt(t,this.keyHash,l)},dt.prototype.get=function(t,e,r,n){return X(r,this.entry[0])?this.entry[1]:n},dt.prototype.update=function(t,e,r,n,i,o,u){var s=i===yr,a=X(n,this.entry[0]);return(a?i===this.entry[1]:s)?this:(c(u),s?void c(o):a?t&&t===this.ownerID?(this.entry[1]=i,this):new dt(t,this.keyHash,[n,i]):(c(o),Dt(this,t,e,ot(n),[n,i])))},pt.prototype.iterate=yt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;i>=n;n++)if(t(r[e?i-n:n])===!1)return!1},vt.prototype.iterate=lt.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;i>=n;n++){var o=r[e?i-n:n];if(o&&o.iterate(t,e)===!1)return!1}},dt.prototype.iterate=function(t,e){return t(this.entry)},t(mt,S),mt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return gt(t,n.entry)}else if(n.entries){if(r=n.entries.length-1,r>=i)return gt(t,n.entries[this._reverse?r-i:i])}else if(r=n.nodes.length-1,r>=i){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return gt(t,o.entry);e=this._stack=wt(o,e)}continue}e=this._stack=this._stack.__prev}return I()};var Jr,Nr=vr/4,Pr=vr/2,Hr=vr/4;t(Wt,rt),Wt.of=function(){return this(arguments)},Wt.prototype.toString=function(){return this.__toString("List [","]")},Wt.prototype.get=function(t,e){if(t=l(this,t),t>=0&&this.size>t){t+=this._origin;var r=Qt(this,t);return r&&r.array[t&lr]}return e},Wt.prototype.set=function(t,e){return Ht(this,t,e)},Wt.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Wt.prototype.insert=function(t,e){return this.splice(t,0,e)},Wt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=pr,this._root=this._tail=null,this.__hash=void 0,
this.__altered=!0,this):Pt()},Wt.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(r){Xt(r,0,e+t.length);for(var n=0;t.length>n;n++)r.set(e+n,t[n])})},Wt.prototype.pop=function(){return Xt(this,0,-1)},Wt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Xt(e,-t.length);for(var r=0;t.length>r;r++)e.set(r,t[r])})},Wt.prototype.shift=function(){return Xt(this,1)},Wt.prototype.merge=function(){return Ft(this,void 0,arguments)},Wt.prototype.mergeWith=function(t){var e=sr.call(arguments,1);return Ft(this,t,e)},Wt.prototype.mergeDeep=function(){return Ft(this,kt,arguments)},Wt.prototype.mergeDeepWith=function(t){var e=sr.call(arguments,1);return Ft(this,At(t),e)},Wt.prototype.setSize=function(t){return Xt(this,0,t)},Wt.prototype.slice=function(t,e){var r=this.size;return d(t,e,r)?this:Xt(this,m(t,r),g(e,r))},Wt.prototype.__iterator=function(t,e){var r=0,n=Jt(this,e);return new S(function(){var e=n();return e===Xr?I():z(t,r++,e)})},Wt.prototype.__iterate=function(t,e){for(var r,n=0,i=Jt(this,e);(r=i())!==Xr&&t(r,n++,this)!==!1;);return n},Wt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Nt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Wt.isList=Bt;var Vr="@@__IMMUTABLE_LIST__@@",Yr=Wt.prototype;Yr[Vr]=!0,Yr[_r]=Yr.remove,Yr.setIn=Cr.setIn,Yr.deleteIn=Yr.removeIn=Cr.removeIn,Yr.update=Cr.update,Yr.updateIn=Cr.updateIn,Yr.mergeIn=Cr.mergeIn,Yr.mergeDeepIn=Cr.mergeDeepIn,Yr.withMutations=Cr.withMutations,Yr.asMutable=Cr.asMutable,Yr.asImmutable=Cr.asImmutable,Yr.wasAltered=Cr.wasAltered,Ct.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&lr;if(n>=this.array.length)return new Ct([],t);var i,o=0===n;if(e>0){var u=this.array[n];if(i=u&&u.removeBefore(t,e-pr,r),i===u&&o)return this}if(o&&!i)return this;var s=Yt(this,t);if(!o)for(var a=0;n>a;a++)s.array[a]=void 0;return i&&(s.array[n]=i),s},Ct.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n=r-1>>>e&lr;if(n>=this.array.length)return this;var i;if(e>0){var o=this.array[n];if(i=o&&o.removeAfter(t,e-pr,r),i===o&&n===this.array.length-1)return this}var u=Yt(this,t);return u.array.splice(n+1),i&&(u.array[n]=i),u};var Qr,Xr={};t(Zt,ct),Zt.of=function(){return this(arguments)},Zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Zt.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},Zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Zt.prototype.set=function(t,e){return re(this,t,e)},Zt.prototype.remove=function(t){return re(this,t,yr)},Zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Zt.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},Zt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Zt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?te(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},Zt.isOrderedMap=$t,Zt.prototype[cr]=!0,Zt.prototype[_r]=Zt.prototype.remove;var Fr;t(ne,x),ne.prototype.get=function(t,e){return this._iter.get(t,e)},ne.prototype.has=function(t){return this._iter.has(t)},ne.prototype.valueSeq=function(){return this._iter.valueSeq()},ne.prototype.reverse=function(){var t=this,e=he(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},ne.prototype.map=function(t,e){var r=this,n=ae(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},ne.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?De(this):0,function(i){return t(i,e?--r:r++,n)}),e)},ne.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(wr,e),n=e?De(this):0;return new S(function(){var i=r.next();return i.done?i:z(t,e?--n:n++,i.value,i)})},ne.prototype[cr]=!0,t(ie,k),ie.prototype.includes=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate(function(e){return t(e,n++,r)},e)},ie.prototype.__iterator=function(t,e){var r=this._iter.__iterator(wr,e),n=0;return new S(function(){var e=r.next();return e.done?e:z(t,n++,e.value,e)})},t(oe,A),oe.prototype.has=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){return t(e,e,r)},e)},oe.prototype.__iterator=function(t,e){var r=this._iter.__iterator(wr,e);return new S(function(){var e=r.next();return e.done?e:z(t,e.value,e.value,e)})},t(ue,x),ue.prototype.entrySeq=function(){return this._iter.toSeq()},ue.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){if(e){qe(e);var n=o(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}},e)},ue.prototype.__iterator=function(t,e){var r=this._iter.__iterator(wr,e);return new S(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){qe(n);var i=o(n);return z(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}})},ie.prototype.cacheResult=ne.prototype.cacheResult=oe.prototype.cacheResult=ue.prototype.cacheResult=Oe,t(Ae,et),Ae.prototype.toString=function(){return this.__toString(Ke(this)+" {","}")},Ae.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Ae.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},Ae.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=je(this,zt()))},Ae.prototype.set=function(t,e){if(!this.has(t))throw Error('Cannot set unknown key "'+t+'" on '+Ke(this));var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:je(this,r)},Ae.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:je(this,e)},Ae.prototype.wasAltered=function(){return this._map.wasAltered()},Ae.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},Ae.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},Ae.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?je(this,e,t):(this.__ownerID=t,this._map=e,this)};var Gr=Ae.prototype;Gr[_r]=Gr.remove,Gr.deleteIn=Gr.removeIn=Cr.removeIn,Gr.merge=Cr.merge,Gr.mergeWith=Cr.mergeWith,Gr.mergeIn=Cr.mergeIn,Gr.mergeDeep=Cr.mergeDeep,Gr.mergeDeepWith=Cr.mergeDeepWith,Gr.mergeDeepIn=Cr.mergeDeepIn,Gr.setIn=Cr.setIn,Gr.update=Cr.update,Gr.updateIn=Cr.updateIn,Gr.withMutations=Cr.withMutations,Gr.asMutable=Cr.asMutable,Gr.asImmutable=Cr.asImmutable,t(Le,nt),Le.of=function(){return this(arguments)},Le.fromKeys=function(t){return this(r(t).keySeq())},Le.prototype.toString=function(){return this.__toString("Set {","}")},Le.prototype.has=function(t){return this._map.has(t)},Le.prototype.add=function(t){return We(this,this._map.set(t,!0))},Le.prototype.remove=function(t){return We(this,this._map.remove(t))},Le.prototype.clear=function(){return We(this,this._map.clear())},Le.prototype.union=function(){var t=sr.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var r=0;t.length>r;r++)i(t[r]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Le.prototype.intersect=function(){var t=sr.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(r){e.forEach(function(e){t.every(function(t){return t.includes(e)})||r.remove(e)})})},Le.prototype.subtract=function(){var t=sr.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return i(t)});var e=this;return this.withMutations(function(r){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.remove(e)})})},Le.prototype.merge=function(){return this.union.apply(this,arguments)},Le.prototype.mergeWith=function(t){var e=sr.call(arguments,1);return this.union.apply(this,e)},Le.prototype.sort=function(t){return Je(we(this,t))},Le.prototype.sortBy=function(t,e){return Je(we(this,e,t))},Le.prototype.wasAltered=function(){return this._map.wasAltered()},Le.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate(function(e,n){return t(n,n,r)},e)},Le.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Le.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Le.isSet=Te;var Zr="@@__IMMUTABLE_SET__@@",$r=Le.prototype;$r[Zr]=!0,$r[_r]=$r.remove,$r.mergeDeep=$r.merge,$r.mergeDeepWith=$r.mergeWith,$r.withMutations=Cr.withMutations,$r.asMutable=Cr.asMutable,$r.asImmutable=Cr.asImmutable,$r.__empty=Ce,$r.__make=Be;var tn;t(Je,Le),Je.of=function(){return this(arguments)},Je.fromKeys=function(t){return this(r(t).keySeq())},Je.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Je.isOrderedSet=Ne;var en=Je.prototype;en[cr]=!0,en.__empty=He,en.__make=Pe;var rn;t(Ve,rt),Ve.of=function(){return this(arguments)},Ve.prototype.toString=function(){return this.__toString("Stack [","]")},Ve.prototype.get=function(t,e){var r=this._head;for(t=l(this,t);r&&t--;)r=r.next;return r?r.value:e},Ve.prototype.peek=function(){return this._head&&this._head.value},Ve.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Qe(t,e)},Ve.prototype.pushAll=function(t){if(t=n(t),0===t.size)return this;ft(t.size);var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Qe(e,r)},Ve.prototype.pop=function(){return this.slice(1)},Ve.prototype.unshift=function(){return this.push.apply(this,arguments)},Ve.prototype.unshiftAll=function(t){return this.pushAll(t)},Ve.prototype.shift=function(){return this.pop.apply(this,arguments)},Ve.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xe()},Ve.prototype.slice=function(t,e){if(d(t,e,this.size))return this;var r=m(t,this.size),n=g(e,this.size);if(n!==this.size)return rt.prototype.slice.call(this,t,e);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Qe(i,o)},Ve.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qe(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ve.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&t(n.value,r++,this)!==!1;)n=n.next;return r},Ve.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new S(function(){if(n){var e=n.value;return n=n.next,z(t,r++,e)}return I()})},Ve.isStack=Ye;var nn="@@__IMMUTABLE_STACK__@@",on=Ve.prototype;on[nn]=!0,on.withMutations=Cr.withMutations,on.asMutable=Cr.asMutable,on.asImmutable=Cr.asImmutable,on.wasAltered=Cr.wasAltered;var un;e.Iterator=S,Fe(e,{toArray:function(){ft(this.size);var t=Array(this.size||0);return this.valueSeq().__iterate(function(e,r){t[r]=e}),t},toIndexedSeq:function(){return new ie(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new ne(this,!0)},toMap:function(){return ct(this.toKeyedSeq())},toObject:function(){ft(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t},toOrderedMap:function(){return Zt(this.toKeyedSeq())},toOrderedSet:function(){return Je(u(this)?this.valueSeq():this)},toSet:function(){return Le(u(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return s(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ve(u(this)?this.valueSeq():this)},toList:function(){return Wt(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var t=sr.call(arguments,0);return be(this,ye(this,t))},includes:function(t){return this.some(function(e){return X(e,t)})},entries:function(){return this.__iterator(Sr)},every:function(t,e){ft(this.size);var r=!0;return this.__iterate(function(n,i,o){return t.call(e,n,i,o)?void 0:(r=!1,!1)}),r},filter:function(t,e){return be(this,fe(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},findEntry:function(t,e){var r;return this.__iterate(function(n,i,o){return t.call(e,n,i,o)?(r=[i,n],!1):void 0}),r},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return ft(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ft(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=null!==n&&void 0!==n?""+n:""}),e},keys:function(){return this.__iterator(gr)},map:function(t,e){return be(this,ae(this,t,e))},reduce:function(t,e,r){ft(this.size);var n,i;return arguments.length<2?i=!0:n=e,this.__iterate(function(e,o,u){i?(i=!1,n=e):n=t.call(r,n,e,o,u)}),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return be(this,he(this,!0))},slice:function(t,e){return be(this,pe(this,t,e,!0))},some:function(t,e){return!this.every($e(t),e)},sort:function(t){return be(this,we(this,t))},values:function(){return this.__iterator(wr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return v(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return ce(this,t,e)},equals:function(t){return F(this,t)},entrySeq:function(){var t=this;if(t._cache)return new j(t._cache);var e=t.toSeq().map(Ze).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter($e(t),e)},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},first:function(){return this.find(y)},flatMap:function(t,e){return be(this,me(this,t,e))},flatten:function(t){return be(this,de(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(t,e){return this.find(function(e,r){return X(r,t)},void 0,e)},getIn:function(t,e){for(var r,n=this,i=ke(t);!(r=i.next()).done;){var o=r.value;if(n=n&&n.get?n.get(o,yr):yr,n===yr)return e}return n},groupBy:function(t,e){return _e(this,t,e)},has:function(t){return this.get(t,yr)!==yr},hasIn:function(t){return this.getIn(t,yr)!==yr},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keySeq:function(){return this.toSeq().map(Ge).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Se(this,t)},maxBy:function(t,e){return Se(this,e,t)},min:function(t){return Se(this,t?tr(t):nr)},minBy:function(t,e){return Se(this,e?tr(e):nr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return be(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return be(this,le(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile($e(t),e)},sortBy:function(t,e){return be(this,we(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return be(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return be(this,ve(this,t,e))},takeUntil:function(t,e){return this.takeWhile($e(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ir(this))}});var sn=e.prototype;sn[ar]=!0,sn[br]=sn.values,sn.__toJS=sn.toArray,sn.__toStringMapper=er,sn.inspect=sn.toSource=function(){return""+this},sn.chain=sn.flatMap,sn.contains=sn.includes,function(){try{Object.defineProperty(sn,"length",{get:function(){if(!e.noLengthWarning){var t;try{throw Error()}catch(r){t=r.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Fe(r,{flip:function(){return be(this,se(this))},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return X(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return X(e,t)})},mapEntries:function(t,e){var r=this,n=0;return be(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(t,e){var r=this;return be(this,this.toSeq().flip().map(function(n,i){return t.call(e,n,i,r)}).flip())}});var an=r.prototype;an[hr]=!0,an[br]=sn.entries,an.__toJS=sn.toObject,an.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+er(t)},Fe(n,{toKeyedSeq:function(){return new ne(this,!1)},filter:function(t,e){return be(this,fe(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return be(this,he(this,!1))},slice:function(t,e){return be(this,pe(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=m(t,0>t?this.count():this.size);var n=this.slice(0,t);return be(this,1===r?n:n.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.toKeyedSeq().findLastKey(t,e);return void 0===r?-1:r},first:function(){return this.get(0)},flatten:function(t){return be(this,de(this,t,!1))},get:function(t,e){return t=l(this,t),0>t||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,r){return r===t},void 0,e)},has:function(t){return t=l(this,t),t>=0&&(void 0!==this.size?this.size===1/0||this.size>t:-1!==this.indexOf(t))},interpose:function(t){return be(this,ge(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=Ie(this.toSeq(),k.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),be(this,r)},last:function(){return this.get(-1)},skipWhile:function(t,e){return be(this,le(this,t,e,!1))},zip:function(){var t=[this].concat(p(arguments));return be(this,Ie(this,rr,t))},zipWith:function(t){var e=p(arguments);return e[0]=this,be(this,Ie(this,t,e))}}),n.prototype[fr]=!0,n.prototype[cr]=!0,Fe(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=sn.includes,Fe(x,r.prototype),Fe(k,n.prototype),Fe(A,i.prototype),Fe(et,r.prototype),Fe(rt,n.prototype),Fe(nt,i.prototype);var hn={Iterable:e,Seq:O,Collection:tt,Map:ct,OrderedMap:Zt,List:Wt,Stack:Ve,Set:Le,OrderedSet:Je,Record:Ae,Range:$,Repeat:G,is:X,fromJS:H};return hn});define("bramble/StartupState",["require","exports","module","thirdparty/immutable"],function(require,exports,module){"use strict";var Map=require("thirdparty/immutable").Map;var _ui;var _project;var _url;exports.ui=function(property){return _ui?_ui.get(property):null};exports.ui.init=function(state){_ui=Map(state)};exports.project=function(property){return _project?_project.get(property):null};exports.project.init=function(state){_project=Map(state)};exports.url=function(property){return _url?_url.get(property):null};_url=Map({origin:window.location.origin,host:window.location.host,base:window.location.origin+window.location.pathname.replace(/\/index.html*$/,"/")})});define("filesystem/impls/filer/UrlCache",["require","exports","module","utils/UrlParams","bramble/StartupState","thirdparty/lodash","utils/Async","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/lib/content"],function(require,exports,module){"use strict";var UrlParams=require("utils/UrlParams").UrlParams;var StartupState=require("bramble/StartupState");var _=require("thirdparty/lodash");var Async=require("utils/Async");var FilerUtils=require("filesystem/impls/filer/FilerUtils");var Content=require("filesystem/impls/filer/lib/content");var Path=FilerUtils.Path;var decodePath=FilerUtils.decodePath;var _provider;function getCacheType(){var params=new UrlParams;params.parse();return params.get("cacheType")||""}function fixPath(path){return Path.normalize(decodePath(path))}function UrlProviderBase(){this.paths={};this.urls={}}UrlProviderBase.prototype.getUrl=function(filename){var url=this.urls[fixPath(filename)];return url||filename};UrlProviderBase.prototype.getFilename=function(url){var filename=this.paths[url];if(!filename){return url}return filename};function BlobUrlProvider(warn){UrlProviderBase.call(this);this.baseUrl=window.location.href;this.shouldRewriteUrls=true;if(warn){console.warn("[Bramble] Your browser doesn't support Service Workers and/or CacheStorage. "+"Some preview features may not work correctly (e.g., dynamic script loading). "+"Consider using a browser that does, see: "+"https://jakearchibald.github.io/isserviceworkerready")}}BlobUrlProvider.prototype=Object.create(UrlProviderBase.prototype);BlobUrlProvider.prototype.constructor=BlobUrlProvider;BlobUrlProvider.prototype.init=function(callback){_.defer(callback)};BlobUrlProvider.prototype.clear=function(callback){Object.keys(this.urls).forEach(URL.revokeObjectURL);this.urls={};this.paths={};_.defer(callback)};BlobUrlProvider.prototype.createURL=function(filename,blob,type,callback){var self=this;this.remove(filename,function(err){if(err){return callback(err)}var url=URL.createObjectURL(blob);self.urls[filename]=url;self.paths[url]=filename;callback(null,url)})};BlobUrlProvider.prototype.remove=function(path,callback){var urls=this.urls;var paths=this.paths;var removed=[];Object.keys(urls).forEach(function(key){var url=urls[key];if(!url){return}if(key===path||key.indexOf(path+"/")===0){removed.push(key);delete urls[key];delete paths[url];URL.revokeObjectURL(url)}});_.defer(callback,null,removed)};BlobUrlProvider.prototype.rename=function(oldPath,newPath,callback){var urls=this.urls;var paths=this.paths;var renamed=[];Object.keys(urls).forEach(function(path){if(path===oldPath||path.indexOf(oldPath+"/")===0){var url=urls[path];var renamedPath=path.replace(oldPath,newPath);urls[renamedPath]=url;paths[url]=renamedPath;delete urls[path];renamed.push({oldPath:oldPath,newPath:renamedPath})}});_.defer(callback,null,renamed)};function CacheStorageUrlProvider(){UrlProviderBase.call(this);this.projectCacheName=Path.join("vfs",StartupState.project("root"));this.baseUrl=this.generateVFSUrlForPath(StartupState.project("root"))+"/";this.shouldRewriteUrls=false}CacheStorageUrlProvider.prototype=Object.create(UrlProviderBase.prototype);CacheStorageUrlProvider.prototype.constructor=CacheStorageUrlProvider;CacheStorageUrlProvider.prototype.generateVFSUrlForPath=function(path){var a=document.createElement("a");a.href=StartupState.url("base")+"vfs"+path;return a.href};CacheStorageUrlProvider.prototype.clear=function(callback){var self=this;var projectCacheName=self.projectCacheName;window.caches.delete(projectCacheName).then(function(){caches.open(projectCacheName).then(function(){self.paths={};self.urls={};callback()})}).catch(callback)};CacheStorageUrlProvider.prototype.init=function(callback){this.clear(callback)};CacheStorageUrlProvider.prototype.createURL=function(filename,blob,type,callback){var response=new Response(blob,{status:200,statusText:"Served from Thimble's Offline Cache"});var headers=new Headers;headers.append("Content-Type",type);var url=this.generateVFSUrlForPath(filename);var request=new Request(url,{method:"GET",headers:headers});this.urls[filename]=url;this.paths[url]=filename;window.caches.open(this.projectCacheName).then(function(cache){try{cache.put(request,response).then(function(){try{callback(null,url)}catch(e){console.error("Failed inside")}}).catch(callback)}catch(e){console.error("Failed");callback(null,url)}}).catch(callback)};CacheStorageUrlProvider.prototype.remove=function(path,callback){var self=this;var removed=[];function _maybeRemove(pathPart){var deferred=new $.Deferred;var url=self.urls[pathPart];if(!url){return deferred.resolve().promise()}if(pathPart===path||pathPart.indexOf(path+"/")===0){removed.push(pathPart);delete self.urls[pathPart];delete self.paths[url];window.caches.open(self.projectCacheName).then(function(cache){cache.delete(url).then(deferred.resolve)}).catch(deferred.reject)}else{deferred.resolve()}return deferred.promise()}Async.doSequentially(Object.keys(self.urls),_maybeRemove,false).done(function(){callback(null,removed)}).fail(callback)};CacheStorageUrlProvider.prototype.rename=function(oldPath,newPath,callback){var self=this;var urls=this.urls;var paths=this.paths;var projectCacheName=this.projectCacheName;var renamed=[];function _maybeRename(pathPart){var deferred=new $.Deferred;if(!(pathPart===oldPath||pathPart.indexOf(oldPath+"/")===0)){return deferred.resolve().promise()}var oldUrl=urls[pathPart];var renamedPath=pathPart.replace(oldPath,newPath);window.caches.open(projectCacheName).then(function(cache){cache.match(oldUrl).then(function(response){var type=Content.mimeFromExt(Path.extname(renamedPath));var headers=new Headers;headers.append("Content-Type",type);var newUrl=self.generateVFSUrlForPath(renamedPath);var request=new Request(newUrl,{method:"GET",headers:headers});urls[renamedPath]=newUrl;paths[newUrl]=renamedPath;cache.put(request,response.clone()).then(function(){self.remove(pathPart,function(err){if(err){return deferred.reject(err)}renamed.push({oldPath:oldPath,newPath:renamedPath});deferred.resolve()})})})}).catch(deferred.reject);return deferred.promise()}Async.doSequentially(Object.keys(self.urls),_maybeRename,false).done(function(){callback(null,renamed)}).fail(callback)};function init(callback){if(window.brambleCacheType==="blob"){_provider=new BlobUrlProvider;return _provider.init(callback)}var cacheTypeOverride=getCacheType();switch(cacheTypeOverride){case"blob":console.info("[Bramble] Override cache provider: using Blob URLs");_provider=new BlobUrlProvider;break;case"cacheStorage":console.info("[Bramble] Override cache provider: using Cache Storage URLs");_provider=new CacheStorageUrlProvider;break;default:_provider="caches"in window&&"serviceWorker"in window.navigator?new CacheStorageUrlProvider:new BlobUrlProvider(true);break}_provider.init(callback)}function remove(path,callback){path=fixPath(path);_provider.remove(path,callback)}function rename(oldPath,newPath,callback){oldPath=fixPath(oldPath);newPath=fixPath(newPath);_provider.rename(oldPath,newPath,callback)}function clear(callback){_provider.clear(callback)}function getBaseUrl(){return _provider.baseUrl}function getShouldRewriteUrls(){return _provider.shouldRewriteUrls}function getUrl(filename){return _provider.getUrl(filename)}function getDownloadUrl(filename){var blobUrl=getUrl(filename);var basename=Path.basename(filename);var ext=Path.extname(filename);var mimeType=Content.mimeFromExt(ext);return mimeType+":"+basename+":"+blobUrl}function getFilename(url){return _provider.getFilename(url)}function createURL(path,data,type,callback){path=fixPath(path);var blob=new Blob([data],{type:type});_provider.createURL(path,blob,type,callback)}exports.init=init;exports.getBaseUrl=getBaseUrl;exports.getShouldRewriteUrls=getShouldRewriteUrls;exports.remove=remove;exports.rename=rename;exports.clear=clear;exports.getUrl=getUrl;exports.getDownloadUrl=getDownloadUrl;exports.getFilename=getFilename;exports.createURL=createURL});define("filesystem/impls/filer/lib/async",["require","exports","module","utils/Async"],function(require,exports,module){"use strict";var Async=require("utils/Async");var noop=function(){};exports.eachSeries=function(array,iterator,callback){callback=callback||noop;var error;if(!array.length){return callback()}function iterate(item){var deferred=new $.Deferred;iterator(item,function(err){if(err){error=err;deferred.reject()}else{deferred.resolve()}});return deferred.promise()}var promise=Async.doSequentially(array,iterate,true);promise.done(callback);promise.fail(function(){callback(error)})};exports.series=function(tasks,callback){callback=callback||noop;var results;var items=tasks;var isArray=true;function iterator(fn,callback){var callFn=fn;if(!isArray){callFn=tasks[fn]}callFn(function(err,result){if(err){return callback(err)}else if(result){isArray?results.push(result):results[fn]=result}callback()})}if(Array.isArray(tasks)){results=[]}else{results={};items=Object.keys(tasks);isArray=false}exports.eachSeries(items,iterator,function(err){if(err){callback(err)}else{callback(null,results)}})}});define("filesystem/impls/filer/lib/CSSRewriter",["require","exports","module","filesystem/impls/filer/lib/content","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/UrlCache","filesystem/impls/filer/FilerUtils"],function(require,exports,module){"use strict";var Content=require("filesystem/impls/filer/lib/content");var Path=require("filesystem/impls/filer/FilerUtils").Path;var UrlCache=require("filesystem/impls/filer/UrlCache");var decodePath=require("filesystem/impls/filer/FilerUtils").decodePath;function CSSRewriter(path,css){this.path=path;this.dir=Path.dirname(path);this.css=css}CSSRewriter.prototype.urls=function(callback){var path=this.path;var dir=this.dir;var css=this.css;function aggregate(content,callback){var urls=[];var urlRegex=new RegExp("url\\([\\'\\\"]?([^\\'\\\"\\)]+)[\\'\\\"]?\\)","g");var periodRegex=new RegExp("\\.","g");var forwardSlashRegex=new RegExp("\\/","g");var dashRegex=new RegExp("\\-","g");function fetch(input,replacements,next){if(input.length===0){return next(null,replacements)}var filename=input.splice(0,1)[0];var decodedPath=Path.resolve(dir,decodePath(filename));var cachedUrl=UrlCache.getUrl(decodedPath);if(cachedUrl===decodedPath){console.log("[CSSRewriter warning] failed on `"+filename+"`","not found");fetch(input,replacements,next);return}var filenameCleaned=filename.replace(periodRegex,"\\.").replace(forwardSlashRegex,"\\/").replace(dashRegex,"\\-");var regex=new RegExp(filenameCleaned,"gm");replacements.push(function(content){return content.replace(regex,cachedUrl)});fetch(input,replacements,next)}function fetchFiles(list,next){fetch(list,[],next)}content.replace(urlRegex,function(_,url){if(!Content.isRelativeURL(url)){return}urls.push(url)});fetchFiles(urls,callback)}aggregate(css,function(err,replacements){if(err){console.log("[CSSRewriter warning] couldn't rewrite CSS for `"+path+"`",err)}else{replacements.forEach(function(replacement){css=replacement(css)})}callback(null,css)})};function rewrite(path,css,callback){if(!UrlCache.getShouldRewriteUrls()){setTimeout(function(){callback(null,css)},0)}else{setTimeout(function(){var rewriter=new CSSRewriter(path,css);rewriter.urls(callback)},0)}}
exports.rewrite=rewrite});!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("thirdparty/babel-standalone.min",["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Babel={})}(this,function(e){"use strict";var t,r=Object.freeze({__proto__:null,get types(){return Ch},get DEFAULT_EXTENSIONS(){return _I},get OptionManager(){return II},get Plugin(){return OI},get File(){return WA},get buildExternalHelpers(){return XA},get resolvePlugin(){return cP},get resolvePreset(){return uP},get version(){return fP},get getEnv(){return hP},get tokTypes(){return Zb},get traverse(){return Kw},get template(){return JE},get createConfigItem(){return yk},get loadPartialConfig(){return ED},get loadPartialConfigSync(){return wD},get loadPartialConfigAsync(){return SD},get loadOptions(){return TD},get loadOptionsSync(){return jD},get loadOptionsAsync(){return AD},get transform(){return gI},get transformSync(){return vI},get transformAsync(){return bI},get transformFile(){return xI},get transformFileSync(){return EI},get transformFileAsync(){return wI},get transformFromAst(){return TI},get transformFromAstSync(){return jI},get transformFromAstAsync(){return AI},get parse(){return kI},get parseSync(){return CI},get parseAsync(){return DI}});function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){this.wrapped=e}function s(e){var t,r;function n(t,r){try{var i=e[t](r),o=i.value,l=o instanceof a;Promise.resolve(l?o.wrapped:o).then(function(e){l?n("return"===t?"return":"next",e):s(i.done?"return":"normal",e)},function(e){n("throw",e)})}catch(e){s("throw",e)}}function s(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise(function(s,i){var o={key:e,arg:a,resolve:s,reject:i,next:null};r?r=r.next=o:(t=r=o,n(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function i(e,t,r,n,a,s,i){try{var o=e[s](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,a)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function g(e,t,r){return(g=y()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&m(a,r.prototype),a}).apply(null,arguments)}function v(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function b(e){var t="function"==typeof Map?new Map:void 0;return(b=function(e){if(null===e||!v(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,e)})(e)}function x(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return x=function(){return e},e}function E(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?w(e):t}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function j(e,t,r){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=T(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function A(e,t,r,n){return(A="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var a,s=T(e,t);if(s){if((a=Object.getOwnPropertyDescriptor(s,t)).set)return a.set.call(n,r),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(n,t)){if(!a.writable)return!1;a.value=r,Object.defineProperty(n,t,a)}else c(n,t,r);return!0})(e,t,r,n)}function P(e,t){return t||(t=e.slice(0)),e.raw=t,e}function k(){}function C(e){throw new ReferenceError(e+" is not defined - temporal dead zone")}function D(e){return I(e)||O(e)||F(e)||L()}function _(e){if(Array.isArray(e))return R(e)}function I(e){if(Array.isArray(e))return e}function O(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function N(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw s}}return r}}function B(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){for(var r,n=[],a=e[Symbol.iterator]();!(r=a.next()).done&&(n.push(r.value),!t||n.length!==t););return n}}function F(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=F(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function W(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function V(e){var t=W(e,"string");return"symbol"==typeof t?t:String(t)}"function"==typeof Symbol&&Symbol.asyncIterator&&(s.prototype[Symbol.asyncIterator]=function(){return this}),s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};var G=0;function K(e){var t,r=V(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(n.decorators=e.decorators),"field"===e.kind&&(n.initializer=e.value),n}function H(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function z(e){return e.decorators&&e.decorators.length}function q(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function X(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function J(e,t){J=function(e,t){return new s(e,void 0,t)};var r=b(RegExp),n=RegExp.prototype,a=new WeakMap;function s(e,t,n){var s=r.call(this,e,t);return a.set(s,n||a.get(e)),s}function i(e,t){var r=a.get(t);return Object.keys(r).reduce(function(t,n){return t[n]=e[r[n]],t},Object.create(null))}return d(s,r),s.prototype.exec=function(e){var t=n.exec.call(this,e);return t&&(t.groups=i(t,this)),t},s.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var r=a.get(this);return n[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}if("function"==typeof t){var s=this;return n[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(i(e,s)),t.apply(this,e)})}return n[Symbol.replace].call(this,e,t)},J.apply(this,arguments)}var Y=Object.freeze({__proto__:null,get typeof(){return n},jsx:function(e,r,n,a){t||(t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var s=e&&e.defaultProps,i=arguments.length-3;if(r||0===i||(r={children:void 0}),1===i)r.children=a;else if(i>1){for(var o=new Array(i),l=0;l<i;l++)o[l]=arguments[l+3];r.children=o}if(r&&s)for(var c in s)void 0===r[c]&&(r[c]=s[c]);else r||(r=s||{});return{$$typeof:t,type:e,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}},asyncIterator:function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")},AwaitValue:a,AsyncGenerator:s,wrapAsyncGenerator:function(e){return function(){return new s(e.apply(this,arguments))}},awaitAsyncGenerator:function(e){return new a(e)},asyncGeneratorDelegate:function(e,t){var r={},n=!1;function a(r,a){return n=!0,a=new Promise(function(t){t(e[r](a))}),{done:!1,value:t(a)}}return"function"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):a("return",e)}),r},asyncToGenerator:function(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function o(e){i(s,n,a,o,l,"next",e)}function l(e){i(s,n,a,o,l,"throw",e)}o(void 0)})}},classCallCheck:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass:l,defineEnumerableProperties:function(e,t){for(var r in t){(s=t[r]).configurable=s.enumerable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,r,s)}if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),a=0;a<n.length;a++){var s,i=n[a];(s=t[i]).configurable=s.enumerable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,i,s)}return e},defaults:function(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var a=r[n],s=Object.getOwnPropertyDescriptor(t,a);s&&s.configurable&&void 0===e[a]&&Object.defineProperty(e,a,s)}return e},defineProperty:c,get extends(){return u},objectSpread:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c(e,t,r[t])})}return e},objectSpread2:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},inherits:d,inheritsLoose:f,get getPrototypeOf(){return h},get setPrototypeOf(){return m},isNativeReflectConstruct:y,get construct(){return g},isNativeFunction:v,get wrapNativeSuper(){return b},instanceof:function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t},interopRequireDefault:function(e){return e&&e.__esModule?e:{default:e}},interopRequireWildcard:function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=x();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r},newArrowCheck:function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},objectDestructuringEmpty:function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},objectWithoutPropertiesLoose:E,objectWithoutProperties:function(e,t){if(null==e)return{};var r,n,a=E(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},assertThisInitialized:w,possibleConstructorReturn:S,createSuper:function(e){var t=y();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return S(this,r)}},superPropBase:T,get get(){return j},set:function(e,t,r,n,a){if(!A(e,t,r,n||e)&&a)throw new Error("failed to set property");return r},taggedTemplateLiteral:function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},taggedTemplateLiteralLoose:P,readOnlyError:function(e){throw new Error('"'+e+'" is read-only')},classNameTDZError:function(e){throw new Error('Class "'+e+'" cannot be referenced in computed property keys.')},temporalUndefined:k,tdz:C,temporalRef:function(e,t){return e===k?C(t):e},slicedToArray:function(e,t){return I(e)||N(e,t)||F(e,t)||L()},slicedToArrayLoose:function(e,t){return I(e)||B(e,t)||F(e,t)||L()},toArray:D,toConsumableArray:function(e){return _(e)||O(e)||F(e)||M()},arrayWithoutHoles:_,arrayWithHoles:I,maybeArrayLike:function(e,t,r){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var n=t.length;return R(t,void 0!==r&&r<n?r:n)}return e(t,r)},iterableToArray:O,iterableToArrayLimit:N,iterableToArrayLimitLoose:B,unsupportedIterableToArray:F,arrayLikeToArray:R,nonIterableSpread:M,nonIterableRest:L,createForOfIteratorHelper:function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=F(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw s}}}},createForOfIteratorHelperLoose:U,skipFirstGeneratorNext:function(e){return function(){var t=e.apply(this,arguments);return t.next(),t}},toPrimitive:W,toPropertyKey:V,initializerWarningHelper:function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},initializerDefineProperty:function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},applyDecoratedDescriptor:function(e,t,r,n,a){var s={};return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},s),a&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(a):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s},classPrivateFieldLooseKey:function(e){return"__private_"+G+++"_"+e},classPrivateFieldLooseBase:function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e},classPrivateFieldGet:function(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value},classPrivateFieldSet:function(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r},classPrivateFieldDestructureSet:function(e,t){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");var r=t.get(e);if(r.set)return"__destrObj"in r||(r.__destrObj={set value(t){r.set.call(e,t)}}),r.__destrObj;if(!r.writable)throw new TypeError("attempted to set read only private field");return r},classStaticPrivateFieldSpecGet:function(e,t,r){if(e!==t)throw new TypeError("Private static access of wrong provenance");return r.get?r.get.call(e):r.value},classStaticPrivateFieldSpecSet:function(e,t,r,n){if(e!==t)throw new TypeError("Private static access of wrong provenance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n},classStaticPrivateMethodGet:function(e,t,r){if(e!==t)throw new TypeError("Private static access of wrong provenance");return r},classStaticPrivateMethodSet:function(){throw new TypeError("attempted to set read only static private field")},decorate:function(e,t,r,n){var a=function(){(function(){return e});var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach(function(r){t.forEach(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)},this)},this)},initializeClassElements:function(e,t){var r=e.prototype;["method","field"].forEach(function(n){t.forEach(function(t){var a=t.placement;if(t.kind===n&&("static"===a||"prototype"===a)){var s="static"===a?e:r;this.defineClassElement(s,t)}},this)},this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[],n=[],a={static:[],prototype:[],own:[]};if(e.forEach(function(e){this.addElementPlacement(e,a)},this),e.forEach(function(e){if(!z(e))return r.push(e);var t=this.decorateElement(e,a);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)},this),!t)return{elements:r,finishers:n};var s=this.decorateConstructor(r,t);return n.push.apply(n,s.finishers),s.finishers=n,s},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");n.push(e.key)},decorateElement:function(e,t){for(var r=[],n=[],a=e.decorators,s=a.length-1;s>=0;s--){var i=t[e.placement];i.splice(i.indexOf(e.key),1);var o=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,a[s])(o)||o);e=l.element,this.addElementPlacement(e,t),l.finisher&&n.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var a=this.fromClassDescriptor(e),s=this.toClassDescriptor((0,t[n])(a)||a);if(void 0!==s.finisher&&r.push(s.finisher),void 0!==s.elements){e=s.elements;for(var i=0;i<e.length-1;i++)for(var o=i+1;o<e.length;o++)if(e[i].key===e[o].key&&e[i].placement===e[o].placement)throw new TypeError("Duplicated element ("+e[i].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor},r={value:"Descriptor",configurable:!0};return Object.defineProperty(t,Symbol.toStringTag,r),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return D(e).map(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t},this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=V(e.key),n=String(e.placement);if("static"!==n&&"prototype"!==n&&"own"!==n)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+n+'"');var a=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var s={kind:t,key:r,placement:n,descriptor:Object.assign({},a)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(a,"get","The property descriptor of a field descriptor"),this.disallowProperty(a,"set","The property descriptor of a field descriptor"),this.disallowProperty(a,"value","The property descriptor of a field descriptor"),s.initializer=e.initializer),s},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:X(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)},r={value:"Descriptor",configurable:!0};return Object.defineProperty(t,Symbol.toStringTag,r),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=X(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if("function"!=typeof n)throw new TypeError("Finishers must return a constructor.");e=n}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}();if(n)for(var s=0;s<n.length;s++)a=n[s](a);var i=t(function(e){a.initializeInstanceElements(e,o.elements)},r),o=a.decorateClass(function(e){for(var t=[],r=function(e){return"method"===e.kind&&e.key===s.key&&e.placement===s.placement},n=0;n<e.length;n++){var a,s=e[n];if("method"===s.kind&&(a=t.find(r)))if(q(s.descriptor)||q(a.descriptor)){if(z(s)||z(a))throw new ReferenceError("Duplicated methods ("+s.key+") can't be decorated.");a.descriptor=s.descriptor}else{if(z(s)){if(z(a))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+s.key+").");a.decorators=s.decorators}H(s,a)}else t.push(s)}return t}(i.d.map(K)),e);return a.initializeClassElements(i.F,o.elements),a.runClassFinishers(i.F,o.finishers)},classPrivateMethodGet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r},classPrivateMethodSet:function(){throw new TypeError("attempted to reassign private method")},get wrapRegExp(){return J}});function $(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];if(e[a]!==t[a])return!1}return!0}function Q(e,t){return!!e&&("ArrayExpression"===e.type&&(void 0===t||$(e,t)))}function Z(e,t){return!!e&&("AssignmentExpression"===e.type&&(void 0===t||$(e,t)))}function ee(e,t){return!!e&&("BinaryExpression"===e.type&&(void 0===t||$(e,t)))}function te(e,t){return!!e&&("BlockStatement"===e.type&&(void 0===t||$(e,t)))}function re(e,t){return!!e&&("BreakStatement"===e.type&&(void 0===t||$(e,t)))}function ne(e,t){return!!e&&("CallExpression"===e.type&&(void 0===t||$(e,t)))}function ae(e,t){return!!e&&("CatchClause"===e.type&&(void 0===t||$(e,t)))}function se(e,t){return!!e&&("ConditionalExpression"===e.type&&(void 0===t||$(e,t)))}function ie(e,t){return!!e&&("ContinueStatement"===e.type&&(void 0===t||$(e,t)))}function oe(e,t){return!!e&&("EmptyStatement"===e.type&&(void 0===t||$(e,t)))}function le(e,t){return!!e&&("ExpressionStatement"===e.type&&(void 0===t||$(e,t)))}function ce(e,t){return!!e&&("File"===e.type&&(void 0===t||$(e,t)))}function ue(e,t){return!!e&&("ForInStatement"===e.type&&(void 0===t||$(e,t)))}function pe(e,t){return!!e&&("ForStatement"===e.type&&(void 0===t||$(e,t)))}function de(e,t){return!!e&&("FunctionDeclaration"===e.type&&(void 0===t||$(e,t)))}function fe(e,t){return!!e&&("FunctionExpression"===e.type&&(void 0===t||$(e,t)))}function he(e,t){return!!e&&("Identifier"===e.type&&(void 0===t||$(e,t)))}function me(e,t){return!!e&&("IfStatement"===e.type&&(void 0===t||$(e,t)))}function ye(e,t){return!!e&&("LabeledStatement"===e.type&&(void 0===t||$(e,t)))}function ge(e,t){return!!e&&("StringLiteral"===e.type&&(void 0===t||$(e,t)))}function ve(e,t){return!!e&&("NumericLiteral"===e.type&&(void 0===t||$(e,t)))}function be(e,t){return!!e&&("NullLiteral"===e.type&&(void 0===t||$(e,t)))}function xe(e,t){return!!e&&("RegExpLiteral"===e.type&&(void 0===t||$(e,t)))}function Ee(e,t){return!!e&&("LogicalExpression"===e.type&&(void 0===t||$(e,t)))}function we(e,t){return!!e&&("MemberExpression"===e.type&&(void 0===t||$(e,t)))}function Se(e,t){return!!e&&("NewExpression"===e.type&&(void 0===t||$(e,t)))}function Te(e,t){return!!e&&("Program"===e.type&&(void 0===t||$(e,t)))}function je(e,t){return!!e&&("ObjectExpression"===e.type&&(void 0===t||$(e,t)))}function Ae(e,t){return!!e&&("ObjectMethod"===e.type&&(void 0===t||$(e,t)))}function Pe(e,t){return!!e&&("ObjectProperty"===e.type&&(void 0===t||$(e,t)))}function ke(e,t){return!!e&&("RestElement"===e.type&&(void 0===t||$(e,t)))}function Ce(e,t){return!!e&&("ReturnStatement"===e.type&&(void 0===t||$(e,t)))}function De(e,t){return!!e&&("SequenceExpression"===e.type&&(void 0===t||$(e,t)))}function _e(e,t){return!!e&&("ParenthesizedExpression"===e.type&&(void 0===t||$(e,t)))}function Ie(e,t){return!!e&&("SwitchStatement"===e.type&&(void 0===t||$(e,t)))}function Oe(e,t){return!!e&&("ThisExpression"===e.type&&(void 0===t||$(e,t)))}function Ne(e,t){return!!e&&("ThrowStatement"===e.type&&(void 0===t||$(e,t)))}function Be(e,t){return!!e&&("UnaryExpression"===e.type&&(void 0===t||$(e,t)))}function Fe(e,t){return!!e&&("VariableDeclaration"===e.type&&(void 0===t||$(e,t)))}function Re(e,t){return!!e&&("VariableDeclarator"===e.type&&(void 0===t||$(e,t)))}function Me(e,t){return!!e&&("WhileStatement"===e.type&&(void 0===t||$(e,t)))}function Le(e,t){return!!e&&("AssignmentPattern"===e.type&&(void 0===t||$(e,t)))}function Ue(e,t){return!!e&&("ArrayPattern"===e.type&&(void 0===t||$(e,t)))}function We(e,t){return!!e&&("ArrowFunctionExpression"===e.type&&(void 0===t||$(e,t)))}function Ve(e,t){return!!e&&("ClassBody"===e.type&&(void 0===t||$(e,t)))}function Ge(e,t){return!!e&&("ClassExpression"===e.type&&(void 0===t||$(e,t)))}function Ke(e,t){return!!e&&("ClassDeclaration"===e.type&&(void 0===t||$(e,t)))}function He(e,t){return!!e&&("ExportAllDeclaration"===e.type&&(void 0===t||$(e,t)))}function ze(e,t){return!!e&&("ExportDefaultDeclaration"===e.type&&(void 0===t||$(e,t)))}function qe(e,t){return!!e&&("ExportNamedDeclaration"===e.type&&(void 0===t||$(e,t)))}function Xe(e,t){return!!e&&("ExportSpecifier"===e.type&&(void 0===t||$(e,t)))}function Je(e,t){return!!e&&("ImportDeclaration"===e.type&&(void 0===t||$(e,t)))}function Ye(e,t){return!!e&&("ImportDefaultSpecifier"===e.type&&(void 0===t||$(e,t)))}function $e(e,t){return!!e&&("ImportNamespaceSpecifier"===e.type&&(void 0===t||$(e,t)))}function Qe(e,t){return!!e&&("ImportSpecifier"===e.type&&(void 0===t||$(e,t)))}function Ze(e,t){return!!e&&("ClassMethod"===e.type&&(void 0===t||$(e,t)))}function et(e,t){return!!e&&("ObjectPattern"===e.type&&(void 0===t||$(e,t)))}function tt(e,t){return!!e&&("SpreadElement"===e.type&&(void 0===t||$(e,t)))}function rt(e,t){return!!e&&("Super"===e.type&&(void 0===t||$(e,t)))}function nt(e,t){return!!e&&("TaggedTemplateExpression"===e.type&&(void 0===t||$(e,t)))}function at(e,t){return!!e&&("TemplateLiteral"===e.type&&(void 0===t||$(e,t)))}function st(e,t){return!!e&&("YieldExpression"===e.type&&(void 0===t||$(e,t)))}function it(e,t){return!!e&&("AwaitExpression"===e.type&&(void 0===t||$(e,t)))}function ot(e,t){return!!e&&("Import"===e.type&&(void 0===t||$(e,t)))}function lt(e,t){return!!e&&("ExportNamespaceSpecifier"===e.type&&(void 0===t||$(e,t)))}function ct(e,t){return!!e&&("OptionalMemberExpression"===e.type&&(void 0===t||$(e,t)))}function ut(e,t){return!!e&&("OptionalCallExpression"===e.type&&(void 0===t||$(e,t)))}function pt(e,t){return!!e&&("AnyTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function dt(e,t){return!!e&&("ArrayTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function ft(e,t){return!!e&&("BooleanTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function ht(e,t){return!!e&&("DeclareExportDeclaration"===e.type&&(void 0===t||$(e,t)))}function mt(e,t){return!!e&&("GenericTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function yt(e,t){return!!e&&("IntersectionTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function gt(e,t){return!!e&&("MixedTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function vt(e,t){return!!e&&("EmptyTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function bt(e,t){return!!e&&("NullableTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function xt(e,t){return!!e&&("NumberTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function Et(e,t){return!!e&&("StringTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function wt(e,t){return!!e&&("TypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function St(e,t){return!!e&&("TypeCastExpression"===e.type&&(void 0===t||$(e,t)))}function Tt(e,t){return!!e&&("UnionTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function jt(e,t){return!!e&&("VoidTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function At(e,t){return!!e&&("JSXAttribute"===e.type&&(void 0===t||$(e,t)))}function Pt(e,t){return!!e&&("JSXElement"===e.type&&(void 0===t||$(e,t)))}function kt(e,t){return!!e&&("JSXEmptyExpression"===e.type&&(void 0===t||$(e,t)))}function Ct(e,t){
return!!e&&("JSXExpressionContainer"===e.type&&(void 0===t||$(e,t)))}function Dt(e,t){return!!e&&("JSXIdentifier"===e.type&&(void 0===t||$(e,t)))}function _t(e,t){return!!e&&("JSXMemberExpression"===e.type&&(void 0===t||$(e,t)))}function It(e,t){return!!e&&("JSXNamespacedName"===e.type&&(void 0===t||$(e,t)))}function Ot(e,t){return!!e&&("JSXSpreadAttribute"===e.type&&(void 0===t||$(e,t)))}function Nt(e,t){return!!e&&("JSXText"===e.type&&(void 0===t||$(e,t)))}function Bt(e,t){return!!e&&("Placeholder"===e.type&&(void 0===t||$(e,t)))}function Ft(e,t){return!!e&&("BindExpression"===e.type&&(void 0===t||$(e,t)))}function Rt(e,t){return!!e&&("ClassProperty"===e.type&&(void 0===t||$(e,t)))}function Mt(e,t){return!!e&&("PipelineTopicExpression"===e.type&&(void 0===t||$(e,t)))}function Lt(e,t){return!!e&&("ClassPrivateProperty"===e.type&&(void 0===t||$(e,t)))}function Ut(e,t){return!!e&&("ExportDefaultSpecifier"===e.type&&(void 0===t||$(e,t)))}function Wt(e,t){return!!e&&("TSAnyKeyword"===e.type&&(void 0===t||$(e,t)))}function Vt(e,t){return!!e&&("TSArrayType"===e.type&&(void 0===t||$(e,t)))}function Gt(e,t){return!!e&&("TSOptionalType"===e.type&&(void 0===t||$(e,t)))}function Kt(e,t){return!!e&&("TSRestType"===e.type&&(void 0===t||$(e,t)))}function Ht(e,t){return!!e&&("TSUnionType"===e.type&&(void 0===t||$(e,t)))}function zt(e,t){return!!e&&("TSIntersectionType"===e.type&&(void 0===t||$(e,t)))}function qt(e,t){return!!e&&("TSAsExpression"===e.type&&(void 0===t||$(e,t)))}function Xt(e,t){return!!e&&("TSTypeAssertion"===e.type&&(void 0===t||$(e,t)))}function Jt(e,t){return!!e&&("TSNonNullExpression"===e.type&&(void 0===t||$(e,t)))}function Yt(e,t){return!!e&&("TSTypeAnnotation"===e.type&&(void 0===t||$(e,t)))}function $t(e,t){if(!e)return!1;var r=e.type;return("Expression"===r||"ArrayExpression"===r||"AssignmentExpression"===r||"BinaryExpression"===r||"CallExpression"===r||"ConditionalExpression"===r||"FunctionExpression"===r||"Identifier"===r||"StringLiteral"===r||"NumericLiteral"===r||"NullLiteral"===r||"BooleanLiteral"===r||"RegExpLiteral"===r||"LogicalExpression"===r||"MemberExpression"===r||"NewExpression"===r||"ObjectExpression"===r||"SequenceExpression"===r||"ParenthesizedExpression"===r||"ThisExpression"===r||"UnaryExpression"===r||"UpdateExpression"===r||"ArrowFunctionExpression"===r||"ClassExpression"===r||"MetaProperty"===r||"Super"===r||"TaggedTemplateExpression"===r||"TemplateLiteral"===r||"YieldExpression"===r||"AwaitExpression"===r||"Import"===r||"BigIntLiteral"===r||"OptionalMemberExpression"===r||"OptionalCallExpression"===r||"TypeCastExpression"===r||"JSXElement"===r||"JSXFragment"===r||"BindExpression"===r||"PipelinePrimaryTopicReference"===r||"DoExpression"===r||"RecordExpression"===r||"TupleExpression"===r||"DecimalLiteral"===r||"TSAsExpression"===r||"TSTypeAssertion"===r||"TSNonNullExpression"===r||"Placeholder"===r&&("Expression"===e.expectedNode||"Identifier"===e.expectedNode||"StringLiteral"===e.expectedNode))&&(void 0===t||$(e,t))}function Qt(e,t){if(!e)return!1;var r=e.type;return("Binary"===r||"BinaryExpression"===r||"LogicalExpression"===r)&&(void 0===t||$(e,t))}function Zt(e,t){if(!e)return!1;var r=e.type;return("Scopable"===r||"BlockStatement"===r||"CatchClause"===r||"DoWhileStatement"===r||"ForInStatement"===r||"ForStatement"===r||"FunctionDeclaration"===r||"FunctionExpression"===r||"Program"===r||"ObjectMethod"===r||"SwitchStatement"===r||"WhileStatement"===r||"ArrowFunctionExpression"===r||"ClassExpression"===r||"ClassDeclaration"===r||"ForOfStatement"===r||"ClassMethod"===r||"ClassPrivateMethod"===r||"StaticBlock"===r||"TSModuleBlock"===r||"Placeholder"===r&&"BlockStatement"===e.expectedNode)&&(void 0===t||$(e,t))}function er(e,t){if(!e)return!1;var r=e.type;return("Statement"===r||"BlockStatement"===r||"BreakStatement"===r||"ContinueStatement"===r||"DebuggerStatement"===r||"DoWhileStatement"===r||"EmptyStatement"===r||"ExpressionStatement"===r||"ForInStatement"===r||"ForStatement"===r||"FunctionDeclaration"===r||"IfStatement"===r||"LabeledStatement"===r||"ReturnStatement"===r||"SwitchStatement"===r||"ThrowStatement"===r||"TryStatement"===r||"VariableDeclaration"===r||"WhileStatement"===r||"WithStatement"===r||"ClassDeclaration"===r||"ExportAllDeclaration"===r||"ExportDefaultDeclaration"===r||"ExportNamedDeclaration"===r||"ForOfStatement"===r||"ImportDeclaration"===r||"DeclareClass"===r||"DeclareFunction"===r||"DeclareInterface"===r||"DeclareModule"===r||"DeclareModuleExports"===r||"DeclareTypeAlias"===r||"DeclareOpaqueType"===r||"DeclareVariable"===r||"DeclareExportDeclaration"===r||"DeclareExportAllDeclaration"===r||"InterfaceDeclaration"===r||"OpaqueType"===r||"TypeAlias"===r||"EnumDeclaration"===r||"TSDeclareFunction"===r||"TSInterfaceDeclaration"===r||"TSTypeAliasDeclaration"===r||"TSEnumDeclaration"===r||"TSModuleDeclaration"===r||"TSImportEqualsDeclaration"===r||"TSExportAssignment"===r||"TSNamespaceExportDeclaration"===r||"Placeholder"===r&&("Statement"===e.expectedNode||"Declaration"===e.expectedNode||"BlockStatement"===e.expectedNode))&&(void 0===t||$(e,t))}function tr(e,t){if(!e)return!1;var r=e.type;return("Conditional"===r||"ConditionalExpression"===r||"IfStatement"===r)&&(void 0===t||$(e,t))}function rr(e,t){if(!e)return!1;var r=e.type;return("Loop"===r||"DoWhileStatement"===r||"ForInStatement"===r||"ForStatement"===r||"WhileStatement"===r||"ForOfStatement"===r)&&(void 0===t||$(e,t))}function nr(e,t){if(!e)return!1;var r=e.type;return("For"===r||"ForInStatement"===r||"ForStatement"===r||"ForOfStatement"===r)&&(void 0===t||$(e,t))}function ar(e,t){if(!e)return!1;var r=e.type;return("ForXStatement"===r||"ForInStatement"===r||"ForOfStatement"===r)&&(void 0===t||$(e,t))}function sr(e,t){if(!e)return!1;var r=e.type;return("Function"===r||"FunctionDeclaration"===r||"FunctionExpression"===r||"ObjectMethod"===r||"ArrowFunctionExpression"===r||"ClassMethod"===r||"ClassPrivateMethod"===r)&&(void 0===t||$(e,t))}function ir(e,t){if(!e)return!1;var r=e.type;return("Pureish"===r||"FunctionDeclaration"===r||"FunctionExpression"===r||"StringLiteral"===r||"NumericLiteral"===r||"NullLiteral"===r||"BooleanLiteral"===r||"RegExpLiteral"===r||"ArrowFunctionExpression"===r||"BigIntLiteral"===r||"DecimalLiteral"===r||"Placeholder"===r&&"StringLiteral"===e.expectedNode)&&(void 0===t||$(e,t))}function or(e,t){if(!e)return!1;var r=e.type;return("Declaration"===r||"FunctionDeclaration"===r||"VariableDeclaration"===r||"ClassDeclaration"===r||"ExportAllDeclaration"===r||"ExportDefaultDeclaration"===r||"ExportNamedDeclaration"===r||"ImportDeclaration"===r||"DeclareClass"===r||"DeclareFunction"===r||"DeclareInterface"===r||"DeclareModule"===r||"DeclareModuleExports"===r||"DeclareTypeAlias"===r||"DeclareOpaqueType"===r||"DeclareVariable"===r||"DeclareExportDeclaration"===r||"DeclareExportAllDeclaration"===r||"InterfaceDeclaration"===r||"OpaqueType"===r||"TypeAlias"===r||"EnumDeclaration"===r||"TSDeclareFunction"===r||"TSInterfaceDeclaration"===r||"TSTypeAliasDeclaration"===r||"TSEnumDeclaration"===r||"TSModuleDeclaration"===r||"Placeholder"===r&&"Declaration"===e.expectedNode)&&(void 0===t||$(e,t))}function lr(e,t){if(!e)return!1;var r=e.type;return("Literal"===r||"StringLiteral"===r||"NumericLiteral"===r||"NullLiteral"===r||"BooleanLiteral"===r||"RegExpLiteral"===r||"TemplateLiteral"===r||"BigIntLiteral"===r||"DecimalLiteral"===r||"Placeholder"===r&&"StringLiteral"===e.expectedNode)&&(void 0===t||$(e,t))}function cr(e,t){if(!e)return!1;var r=e.type;return("Method"===r||"ObjectMethod"===r||"ClassMethod"===r||"ClassPrivateMethod"===r)&&(void 0===t||$(e,t))}function ur(e,t){if(!e)return!1;var r=e.type;return("Property"===r||"ObjectProperty"===r||"ClassProperty"===r||"ClassPrivateProperty"===r)&&(void 0===t||$(e,t))}function pr(e,t){if(!e)return!1;var r=e.type;return("UnaryLike"===r||"UnaryExpression"===r||"SpreadElement"===r)&&(void 0===t||$(e,t))}function dr(e,t){if(!e)return!1;var r=e.type;return("Pattern"===r||"AssignmentPattern"===r||"ArrayPattern"===r||"ObjectPattern"===r||"Placeholder"===r&&"Pattern"===e.expectedNode)&&(void 0===t||$(e,t))}function fr(e,t){if(!e)return!1;var r=e.type;return("Class"===r||"ClassExpression"===r||"ClassDeclaration"===r)&&(void 0===t||$(e,t))}function hr(e,t){if(!e)return!1;var r=e.type;return("ModuleDeclaration"===r||"ExportAllDeclaration"===r||"ExportDefaultDeclaration"===r||"ExportNamedDeclaration"===r||"ImportDeclaration"===r)&&(void 0===t||$(e,t))}function mr(e,t){if(!e)return!1;var r=e.type;return("ExportDeclaration"===r||"ExportAllDeclaration"===r||"ExportDefaultDeclaration"===r||"ExportNamedDeclaration"===r)&&(void 0===t||$(e,t))}function yr(e,t){if(!e)return!1;var r=e.type;return("ModuleSpecifier"===r||"ExportSpecifier"===r||"ImportDefaultSpecifier"===r||"ImportNamespaceSpecifier"===r||"ImportSpecifier"===r||"ExportNamespaceSpecifier"===r||"ExportDefaultSpecifier"===r)&&(void 0===t||$(e,t))}function gr(e,t){if(!e)return!1;var r=e.type;return("Flow"===r||"AnyTypeAnnotation"===r||"ArrayTypeAnnotation"===r||"BooleanTypeAnnotation"===r||"BooleanLiteralTypeAnnotation"===r||"NullLiteralTypeAnnotation"===r||"ClassImplements"===r||"DeclareClass"===r||"DeclareFunction"===r||"DeclareInterface"===r||"DeclareModule"===r||"DeclareModuleExports"===r||"DeclareTypeAlias"===r||"DeclareOpaqueType"===r||"DeclareVariable"===r||"DeclareExportDeclaration"===r||"DeclareExportAllDeclaration"===r||"DeclaredPredicate"===r||"ExistsTypeAnnotation"===r||"FunctionTypeAnnotation"===r||"FunctionTypeParam"===r||"GenericTypeAnnotation"===r||"InferredPredicate"===r||"InterfaceExtends"===r||"InterfaceDeclaration"===r||"InterfaceTypeAnnotation"===r||"IntersectionTypeAnnotation"===r||"MixedTypeAnnotation"===r||"EmptyTypeAnnotation"===r||"NullableTypeAnnotation"===r||"NumberLiteralTypeAnnotation"===r||"NumberTypeAnnotation"===r||"ObjectTypeAnnotation"===r||"ObjectTypeInternalSlot"===r||"ObjectTypeCallProperty"===r||"ObjectTypeIndexer"===r||"ObjectTypeProperty"===r||"ObjectTypeSpreadProperty"===r||"OpaqueType"===r||"QualifiedTypeIdentifier"===r||"StringLiteralTypeAnnotation"===r||"StringTypeAnnotation"===r||"SymbolTypeAnnotation"===r||"ThisTypeAnnotation"===r||"TupleTypeAnnotation"===r||"TypeofTypeAnnotation"===r||"TypeAlias"===r||"TypeAnnotation"===r||"TypeCastExpression"===r||"TypeParameter"===r||"TypeParameterDeclaration"===r||"TypeParameterInstantiation"===r||"UnionTypeAnnotation"===r||"Variance"===r||"VoidTypeAnnotation"===r)&&(void 0===t||$(e,t))}function vr(e,t){if(!e)return!1;var r=e.type;return("FlowBaseAnnotation"===r||"AnyTypeAnnotation"===r||"BooleanTypeAnnotation"===r||"NullLiteralTypeAnnotation"===r||"MixedTypeAnnotation"===r||"EmptyTypeAnnotation"===r||"NumberTypeAnnotation"===r||"StringTypeAnnotation"===r||"SymbolTypeAnnotation"===r||"ThisTypeAnnotation"===r||"VoidTypeAnnotation"===r)&&(void 0===t||$(e,t))}function br(e,t){if(!e)return!1;var r=e.type;return("TSBaseType"===r||"TSAnyKeyword"===r||"TSBooleanKeyword"===r||"TSBigIntKeyword"===r||"TSIntrinsicKeyword"===r||"TSNeverKeyword"===r||"TSNullKeyword"===r||"TSNumberKeyword"===r||"TSObjectKeyword"===r||"TSStringKeyword"===r||"TSSymbolKeyword"===r||"TSUndefinedKeyword"===r||"TSUnknownKeyword"===r||"TSVoidKeyword"===r||"TSThisType"===r||"TSLiteralType"===r)&&(void 0===t||$(e,t))}function xr(e,t,r){if(!we(e))return!1;var n,a=Array.isArray(t)?t:t.split("."),s=[];for(n=e;we(n);n=n.object)s.push(n.property);if(s.push(n),s.length<a.length)return!1;if(!r&&s.length>a.length)return!1;for(var i=0,o=s.length-1;i<a.length;i++,o--){var l=s[o],c=void 0;if(he(l))c=l.name;else{if(!ge(l))return!1;c=l.value}if(a[i]!==c)return!1}return!0}function Er(e,t){var r=e.split(".");return function(e){return xr(e,r,t)}}var wr=Er("React.Component");var Sr=function(){this.__data__=[],this.size=0};var Tr=function(e,t){return e===t||e!=e&&t!=t};var jr=function(e,t){for(var r=e.length;r--;)if(Tr(e[r][0],t))return r;return-1},Ar=Array.prototype.splice;var Pr=function(e){var t=this.__data__,r=jr(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ar.call(t,r,1),--this.size,!0)};var kr=function(e){var t=this.__data__,r=jr(t,e);return r<0?void 0:t[r][1]};var Cr=function(e){return jr(this.__data__,e)>-1};var Dr=function(e,t){var r=this.__data__,n=jr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function _r(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_r.prototype.clear=Sr,_r.prototype.delete=Pr,_r.prototype.get=kr,_r.prototype.has=Cr,_r.prototype.set=Dr;var Ir=_r;var Or=function(){this.__data__=new Ir,this.size=0};var Nr=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Br=function(e){return this.__data__.get(e)};var Fr=function(e){return this.__data__.has(e)},Rr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lr(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return Wr(null==t&&r.path)}},r.exports),r.exports}function Ur(e){return e&&e.default||e}function Wr(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Vr="object"==typeof Rr&&Rr&&Rr.Object===Object&&Rr,Gr="object"==typeof self&&self&&self.Object===Object&&self,Kr=Vr||Gr||Function("return this")(),Hr=Kr.Symbol,zr=Object.prototype,qr=zr.hasOwnProperty,Xr=zr.toString,Jr=Hr?Hr.toStringTag:void 0;var Yr=function(e){var t=qr.call(e,Jr),r=e[Jr];try{e[Jr]=void 0;var n=!0}catch(e){}var a=Xr.call(e);return n&&(t?e[Jr]=r:delete e[Jr]),a},$r=Object.prototype.toString;var Qr=function(e){return $r.call(e)},Zr=Hr?Hr.toStringTag:void 0;var en=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Zr&&Zr in Object(e)?Yr(e):Qr(e)};var tn=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var rn=function(e){if(!tn(e))return!1;var t=en(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},nn=Kr["__core-js_shared__"],an=function(){var e=/[^.]+$/.exec(nn&&nn.keys&&nn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var sn=function(e){return!!an&&an in e},on=Function.prototype.toString;var ln=function(e){if(null!=e){try{return on.call(e)}catch(e){}try{return e+""}catch(e){}}return""},cn=/^\[object .+?Constructor\]$/,un=Function.prototype,pn=Object.prototype,dn=un.toString,fn=pn.hasOwnProperty,hn=RegExp("^"+dn.call(fn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var mn=function(e){return!(!tn(e)||sn(e))&&(rn(e)?hn:cn).test(ln(e))};var yn=function(e,t){return null==e?void 0:e[t]};var gn=function(e,t){var r=yn(e,t);return mn(r)?r:void 0},vn=gn(Kr,"Map"),bn=gn(Object,"create");var xn=function(){this.__data__=bn?bn(null):{},this.size=0};var En=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},wn=Object.prototype.hasOwnProperty;var Sn=function(e){var t=this.__data__;if(bn){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return wn.call(t,e)?t[e]:void 0},Tn=Object.prototype.hasOwnProperty;var jn=function(e){var t=this.__data__;return bn?void 0!==t[e]:Tn.call(t,e)};var An=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=bn&&void 0===t?"__lodash_hash_undefined__":t,this};function Pn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pn.prototype.clear=xn,Pn.prototype.delete=En,Pn.prototype.get=Sn,Pn.prototype.has=jn,Pn.prototype.set=An;var kn=Pn;var Cn=function(){this.size=0,this.__data__={hash:new kn,map:new(vn||Ir),string:new kn}};var Dn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var _n=function(e,t){var r=e.__data__;return Dn(t)?r["string"==typeof t?"string":"hash"]:r.map};var In=function(e){var t=_n(this,e).delete(e);return this.size-=t?1:0,t};var On=function(e){return _n(this,e).get(e)};var Nn=function(e){return _n(this,e).has(e)};var Bn=function(e,t){var r=_n(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Fn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fn.prototype.clear=Cn,Fn.prototype.delete=In,Fn.prototype.get=On,Fn.prototype.has=Nn,Fn.prototype.set=Bn;var Rn=Fn;var Mn=function(e,t){var r=this.__data__;if(r instanceof Ir){var n=r.__data__;if(!vn||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Rn(n)}return r.set(e,t),this.size=r.size,this};function Ln(e){var t=this.__data__=new Ir(e);this.size=t.size}Ln.prototype.clear=Or,Ln.prototype.delete=Nr,Ln.prototype.get=Br,Ln.prototype.has=Fr,Ln.prototype.set=Mn;var Un=Ln;var Wn=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},Vn=function(){try{var e=gn(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Gn=function(e,t,r){"__proto__"==t&&Vn?Vn(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},Kn=Object.prototype.hasOwnProperty;var Hn=function(e,t,r){var n=e[t];Kn.call(e,t)&&Tr(n,r)&&(void 0!==r||t in e)||Gn(e,t,r)};var zn=function(e,t,r,n){var a=!r;r||(r={});for(var s=-1,i=t.length;++s<i;){var o=t[s],l=n?n(r[o],e[o],o,r,e):void 0;void 0===l&&(l=e[o]),a?Gn(r,o,l):Hn(r,o,l)}return r};var qn=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var Xn=function(e){return null!=e&&"object"==typeof e};var Jn=function(e){return Xn(e)&&"[object Arguments]"==en(e)},Yn=Object.prototype,$n=Yn.hasOwnProperty,Qn=Yn.propertyIsEnumerable,Zn=Jn(function(){return arguments}())?Jn:function(e){return Xn(e)&&$n.call(e,"callee")&&!Qn.call(e,"callee")},ea=Array.isArray;var ta=function(){return!1},ra=Lr(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?Kr.Buffer:void 0,s=(a?a.isBuffer:void 0)||ta;e.exports=s}),na=/^(?:0|[1-9]\d*)$/;var aa=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&na.test(e))&&e>-1&&e%1==0&&e<t};var sa=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ia={};ia["[object Float32Array]"]=ia["[object Float64Array]"]=ia["[object Int8Array]"]=ia["[object Int16Array]"]=ia["[object Int32Array]"]=ia["[object Uint8Array]"]=ia["[object Uint8ClampedArray]"]=ia["[object Uint16Array]"]=ia["[object Uint32Array]"]=!0,ia["[object Arguments]"]=ia["[object Array]"]=ia["[object ArrayBuffer]"]=ia["[object Boolean]"]=ia["[object DataView]"]=ia["[object Date]"]=ia["[object Error]"]=ia["[object Function]"]=ia["[object Map]"]=ia["[object Number]"]=ia["[object Object]"]=ia["[object RegExp]"]=ia["[object Set]"]=ia["[object String]"]=ia["[object WeakMap]"]=!1;var oa=function(e){return Xn(e)&&sa(e.length)&&!!ia[en(e)]};var la=function(e){return function(t){return e(t)}},ca=Lr(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r&&Vr.process,s=function(){try{var e=n&&n.require&&n.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}),ua=ca&&ca.isTypedArray,pa=ua?la(ua):oa,da=Object.prototype.hasOwnProperty;var fa=function(e,t){var r=ea(e),n=!r&&Zn(e),a=!r&&!n&&ra(e),s=!r&&!n&&!a&&pa(e),i=r||n||a||s,o=i?qn(e.length,String):[],l=o.length;for(var c in e)!t&&!da.call(e,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||aa(c,l))||o.push(c);return o},ha=Object.prototype;var ma=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ha)};var ya=function(e,t){return function(r){return e(t(r))}},ga=ya(Object.keys,Object),va=Object.prototype.hasOwnProperty;var ba=function(e){if(!ma(e))return ga(e);var t=[];for(var r in Object(e))va.call(e,r)&&"constructor"!=r&&t.push(r);return t};var xa=function(e){return null!=e&&sa(e.length)&&!rn(e)};var Ea=function(e){return xa(e)?fa(e):ba(e)};var wa=function(e,t){return e&&zn(t,Ea(t),e)};var Sa=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Ta=Object.prototype.hasOwnProperty;var ja=function(e){if(!tn(e))return Sa(e);var t=ma(e),r=[];for(var n in e)("constructor"!=n||!t&&Ta.call(e,n))&&r.push(n);return r};var Aa=function(e){return xa(e)?fa(e,!0):ja(e)};var Pa=function(e,t){return e&&zn(t,Aa(t),e)},ka=Lr(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?Kr.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}});var Ca=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var Da=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s};var _a=function(){return[]},Ia=Object.prototype.propertyIsEnumerable,Oa=Object.getOwnPropertySymbols,Na=Oa?function(e){return null==e?[]:(e=Object(e),Da(Oa(e),function(t){return Ia.call(e,t)}))}:_a;var Ba=function(e,t){return zn(e,Na(e),t)};var Fa=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},Ra=ya(Object.getPrototypeOf,Object),Ma=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Fa(t,Na(e)),e=Ra(e);return t}:_a;var La=function(e,t){return zn(e,Ma(e),t)};var Ua=function(e,t,r){var n=t(e);return ea(e)?n:Fa(n,r(e))};var Wa=function(e){return Ua(e,Ea,Na)};var Va=function(e){return Ua(e,Aa,Ma)},Ga=gn(Kr,"DataView"),Ka=gn(Kr,"Promise"),Ha=gn(Kr,"Set"),za=gn(Kr,"WeakMap"),qa="[object Map]",Xa="[object Promise]",Ja="[object Set]",Ya="[object WeakMap]",$a="[object DataView]",Qa=ln(Ga),Za=ln(vn),es=ln(Ka),ts=ln(Ha),rs=ln(za),ns=en;(Ga&&ns(new Ga(new ArrayBuffer(1)))!=$a||vn&&ns(new vn)!=qa||Ka&&ns(Ka.resolve())!=Xa||Ha&&ns(new Ha)!=Ja||za&&ns(new za)!=Ya)&&(ns=function(e){var t=en(e),r="[object Object]"==t?e.constructor:void 0,n=r?ln(r):"";if(n)switch(n){case Qa:return $a;case Za:return qa;case es:return Xa;case ts:return Ja;case rs:return Ya}return t});var as=ns,ss=Object.prototype.hasOwnProperty;var is=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ss.call(e,"index")&&(r.index=e.index,r.input=e.input),r},os=Kr.Uint8Array;var ls=function(e){var t=new e.constructor(e.byteLength);return new os(t).set(new os(e)),t};var cs=function(e,t){var r=t?ls(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},us=/\w*$/;var ps=function(e){var t=new e.constructor(e.source,us.exec(e));return t.lastIndex=e.lastIndex,t},ds=Hr?Hr.prototype:void 0,fs=ds?ds.valueOf:void 0;var hs=function(e){return fs?Object(fs.call(e)):{}};var ms=function(e,t){var r=t?ls(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var ys=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return ls(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return cs(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ms(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return ps(e);case"[object Set]":return new n;case"[object Symbol]":return hs(e)}},gs=Object.create,vs=function(){function e(){}return function(t){if(!tn(t))return{};if(gs)return gs(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var bs=function(e){return"function"!=typeof e.constructor||ma(e)?{}:vs(Ra(e))};var xs=function(e){return Xn(e)&&"[object Map]"==as(e)},Es=ca&&ca.isMap,ws=Es?la(Es):xs;var Ss=function(e){return Xn(e)&&"[object Set]"==as(e)},Ts=ca&&ca.isSet,js=Ts?la(Ts):Ss,As="[object Arguments]",Ps="[object Function]",ks="[object Object]",Cs={};Cs[As]=Cs["[object Array]"]=Cs["[object ArrayBuffer]"]=Cs["[object DataView]"]=Cs["[object Boolean]"]=Cs["[object Date]"]=Cs["[object Float32Array]"]=Cs["[object Float64Array]"]=Cs["[object Int8Array]"]=Cs["[object Int16Array]"]=Cs["[object Int32Array]"]=Cs["[object Map]"]=Cs["[object Number]"]=Cs[ks]=Cs["[object RegExp]"]=Cs["[object Set]"]=Cs["[object String]"]=Cs["[object Symbol]"]=Cs["[object Uint8Array]"]=Cs["[object Uint8ClampedArray]"]=Cs["[object Uint16Array]"]=Cs["[object Uint32Array]"]=!0,Cs["[object Error]"]=Cs[Ps]=Cs["[object WeakMap]"]=!1;var Ds=function e(t,r,n,a,s,i){var o,l=1&r,c=2&r,u=4&r;if(n&&(o=s?n(t,a,s,i):n(t)),void 0!==o)return o;if(!tn(t))return t;var p=ea(t);if(p){if(o=is(t),!l)return Ca(t,o)}else{var d=as(t),f=d==Ps||"[object GeneratorFunction]"==d;if(ra(t))return ka(t,l);if(d==ks||d==As||f&&!s){if(o=c||f?{}:bs(t),!l)return c?La(t,Pa(o,t)):Ba(t,wa(o,t))}else{if(!Cs[d])return s?t:{};o=ys(t,d,l)}}i||(i=new Un);var h=i.get(t);if(h)return h;i.set(t,o),js(t)?t.forEach(function(a){o.add(e(a,r,n,a,t,i))}):ws(t)&&t.forEach(function(a,s){o.set(s,e(a,r,n,s,t,i))});var m=p?void 0:(u?c?Va:Wa:c?Aa:Ea)(t);return Wn(m||t,function(a,s){m&&(a=t[s=a]),Hn(o,s,e(a,r,n,s,t,i))}),o};var _s=function(e){return Ds(e,4)},Is=null;function Os(e){if(null!==Is&&(Is.property,1)){var t=Is;return Is=Os.prototype=null,t}return Is=Os.prototype=null==e?Object.create(null):e,new Os}Os();var Ns=function(e){return Os(e)},Bs="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Fs(){throw new Error("setTimeout has not been defined")}function Rs(){throw new Error("clearTimeout has not been defined")}var Ms=Fs,Ls=Rs;function Us(e){if(Ms===setTimeout)return setTimeout(e,0);if((Ms===Fs||!Ms)&&setTimeout)return Ms=setTimeout,setTimeout(e,0);try{return Ms(e,0)}catch(t){try{return Ms.call(null,e,0)}catch(t){return Ms.call(this,e,0)}}}"function"==typeof Bs.setTimeout&&(Ms=setTimeout),"function"==typeof Bs.clearTimeout&&(Ls=clearTimeout);var Ws,Vs=[],Gs=!1,Ks=-1;function Hs(){Gs&&Ws&&(Gs=!1,Ws.length?Vs=Ws.concat(Vs):Ks=-1,Vs.length&&zs())}function zs(){if(!Gs){var e=Us(Hs);Gs=!0;for(var t=Vs.length;t;){for(Ws=Vs,Vs=[];++Ks<t;)Ws&&Ws[Ks].run();Ks=-1,t=Vs.length}Ws=null,Gs=!1,function(e){if(Ls===clearTimeout)return clearTimeout(e);if((Ls===Rs||!Ls)&&clearTimeout)return Ls=clearTimeout,clearTimeout(e);try{Ls(e)}catch(t){try{return Ls.call(null,e)}catch(t){return Ls.call(this,e)}}}(e)}}function qs(e,t){this.fun=e,this.array=t}qs.prototype.run=function(){this.fun.apply(null,this.array)};function Xs(){}var Js=Xs,Ys=Xs,$s=Xs,Qs=Xs,Zs=Xs,ei=Xs,ti=Xs;var ri=Bs.performance||{},ni=ri.now||ri.mozNow||ri.msNow||ri.oNow||ri.webkitNow||function(){return(new Date).getTime()};var ai=new Date;var si={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Vs.push(new qs(e,t)),1!==Vs.length||Gs||Us(zs)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Js,addListener:Ys,once:$s,off:Qs,removeListener:Zs,removeAllListeners:ei,emit:ti,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*ni.call(ri),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-ai)/1e3}};function ii(e,t){if(e===t)return!0;if(Zi[t])return!1;var r=eo[t];if(r){if(r[0]===e)return!0;for(var n,a=U(r);!(n=a()).done;){if(e===n.value)return!0}}return!1}function oi(e,t){if(e===t)return!0;var r=Mo[e];if(r)for(var n,a=U(r);!(n=a()).done;){if(t===n.value)return!0}return!1}function li(e,t,r){return!!t&&(ii(t.type,e)?void 0===r||$(t,r):!r&&"Placeholder"===t.type&&e in eo&&oi(t.expectedNode,e))}var ci="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࣇऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-鿼ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-ꟊꟵ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",ui="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿᫀᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",pi=new RegExp("["+ci+"]"),di=new RegExp("["+ci+ui+"]");ci=ui=null;var fi=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],hi=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function mi(e,t){for(var r=65536,n=0,a=t.length;n<a;n+=2){if((r+=t[n])>e)return!1;if((r+=t[n+1])>=e)return!0}return!1}function yi(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&pi.test(String.fromCharCode(e)):mi(e,fi)))}function gi(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&di.test(String.fromCharCode(e)):mi(e,fi)||mi(e,hi))))}function vi(e){for(var t=!0,r=0,n=Array.from(e);r<n.length;r++){var a=n[r].codePointAt(0);if(t){if(!yi(a))return!1;t=!1}else if(!gi(a))return!1}return!t}
var bi=["implements","interface","let","package","private","protected","public","static","yield"],xi=["eval","arguments"],Ei=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),wi=new Set(bi),Si=new Set(xi);function Ti(e,t){return t&&"await"===e||"enum"===e}function ji(e,t){return Ti(e,t)||wi.has(e)}function Ai(e){return Si.has(e)}function Pi(e,t){return ji(e,t)||Ai(e)}function ki(e){return Ei.has(e)}function Ci(e,t){if(void 0===t&&(t=!0),"string"!=typeof e)return!1;if(t){if(ki(e)||ji(e))return!1;if("await"===e)return!1}return vi(e)}var Di=["consequent","body","alternate"],_i=["left","init"],Ii=["leadingComments","trailingComments","innerComments"],Oi=["||","&&","??"],Ni=["++","--"],Bi=[">","<",">=","<="],Fi=["==","===","!=","!=="],Ri=[].concat(Fi,["in","instanceof"]),Mi=[].concat(Ri,Bi),Li=["-","/","%","*","**","&","|",">>",">>>","<<","^"],Ui=["+"].concat(Li,Mi),Wi=["=","+="].concat(Li.map(function(e){return e+"="}),Oi.map(function(e){return e+"="})),Vi=["delete","!"],Gi=["+","-","~"],Ki=["typeof"],Hi=["void","throw"].concat(Vi,Gi,Ki),zi={optional:["typeAnnotation","typeParameters","returnType"],force:["start","loc","end"]},qi=Symbol.for("var used to be block scoped"),Xi=Symbol.for("should not be considered a local binding");function Ji(e,t,r){if(e){var n=to[e.type];if(n)Yi(e,t,r,n[t]),$i(e,t,r)}}function Yi(e,t,r,n){(null==n?void 0:n.validate)&&(n.optional&&null==r||n.validate(e,t,r))}function $i(e,t,r){if(null!=r){var n=ao[r.type];n&&n(e,t,r)}}var Qi={},Zi={},eo={},to={},ro={},no={},ao={};function so(e){return Array.isArray(e)?"array":null===e?"null":typeof e}function io(e){return{validate:e}}function oo(e){return"string"==typeof e?yo(e):yo.apply(void 0,e)}function lo(e){return io(oo(e))}function co(e){return{validate:e,optional:!0}}function uo(e){return{validate:oo(e),optional:!0}}function po(e){return t=oo(e),xo(vo("array"),ho(t));var t}function fo(e){return io(po(e))}function ho(e){function t(t,r,n){if(Array.isArray(n))for(var a=0;a<n.length;a++){var s=r+"["+a+"]",i=n[a];e(t,s,i),si.env.BABEL_TYPES_8_BREAKING&&$i(t,s,i)}}return t.each=e,t}function mo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(e,r,n){if(t.indexOf(n)<0)throw new TypeError("Property "+r+" expected value to be one of "+JSON.stringify(t)+" but got "+JSON.stringify(n))}return n.oneOf=t,n}function yo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(e,r,n){for(var a,s=U(t);!(a=s()).done;){if(li(a.value,n))return void $i(e,r,n)}throw new TypeError("Property "+r+" of "+e.type+" expected node to be of a type "+JSON.stringify(t)+" but instead got "+JSON.stringify(null==n?void 0:n.type))}return n.oneOfNodeTypes=t,n}function go(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(e,r,n){for(var a,s=U(t);!(a=s()).done;){var i=a.value;if(so(n)===i||li(i,n))return void $i(e,r,n)}throw new TypeError("Property "+r+" of "+e.type+" expected node to be of a type "+JSON.stringify(t)+" but instead got "+JSON.stringify(null==n?void 0:n.type))}return n.oneOfNodeOrValueTypes=t,n}function vo(e){function t(t,r,n){if(!(so(n)===e))throw new TypeError("Property "+r+" expected type of "+e+" but got "+so(n))}return t.type=e,t}function bo(){return function(e){for(var t,r=e;e;){var n=r.type;if("OptionalCallExpression"!==n){if("OptionalMemberExpression"!==n)break;if(r.optional)return;r=r.object}else{if(r.optional)return;r=r.callee}}throw new TypeError("Non-optional "+e.type+" must chain from an optional OptionalMemberExpression or OptionalCallExpression. Found chain from "+(null==(t=r)?void 0:t.type))}}function xo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];function n(){for(var e,r=U(t);!(e=r()).done;){var n=e.value;n.apply(void 0,arguments)}}return n.chainOf=t,n}var Eo=["aliases","builder","deprecatedAlias","fields","inherits","visitor","validate"],wo=["default","optional","validate"];function So(e,t){void 0===t&&(t={});var r=t.inherits&&To[t.inherits]||{},n=t.fields;if(!n&&(n={},r.fields))for(var a=0,s=Object.getOwnPropertyNames(r.fields);a<s.length;a++){var i=s[a],o=r.fields[i];n[i]={default:o.default,optional:o.optional,validate:o.validate}}for(var l=t.visitor||r.visitor||[],c=t.aliases||r.aliases||[],u=t.builder||r.builder||t.visitor||[],p=0,d=Object.keys(t);p<d.length;p++){var f=d[p];if(-1===Eo.indexOf(f))throw new Error('Unknown type option "'+f+'" on '+e)}t.deprecatedAlias&&(no[t.deprecatedAlias]=e);for(var h=0,m=l.concat(u);h<m.length;h++){var y=m[h];n[y]=n[y]||{}}for(var g=0,v=Object.keys(n);g<v.length;g++){var b=v[g],x=n[b];void 0!==x.default&&-1===u.indexOf(b)&&(x.optional=!0),void 0===x.default?x.default=null:x.validate||null==x.default||(x.validate=vo(so(x.default)));for(var E=0,w=Object.keys(x);E<w.length;E++){var S=w[E];if(-1===wo.indexOf(S))throw new Error('Unknown field key "'+S+'" on '+e+"."+b)}}Qi[e]=t.visitor=l,ro[e]=t.builder=u,to[e]=t.fields=n,Zi[e]=t.aliases=c,c.forEach(function(t){eo[t]=eo[t]||[],eo[t].push(e)}),t.validate&&(ao[e]=t.validate),To[e]=t}var To={};So("ArrayExpression",{fields:{elements:{validate:xo(vo("array"),ho(go("null","Expression","SpreadElement"))),default:si.env.BABEL_TYPES_8_BREAKING?void 0:[]}},visitor:["elements"],aliases:["Expression"]}),So("AssignmentExpression",{fields:{operator:{validate:function(){if(!si.env.BABEL_TYPES_8_BREAKING)return vo("string");var e=mo.apply(void 0,Wi),t=mo("=");return function(r,n,a){(li("Pattern",r.left)?t:e)(r,n,a)}}()},left:{validate:si.env.BABEL_TYPES_8_BREAKING?yo("Identifier","MemberExpression","ArrayPattern","ObjectPattern"):yo("LVal")},right:{validate:yo("Expression")}},builder:["operator","left","right"],visitor:["left","right"],aliases:["Expression"]}),So("BinaryExpression",{builder:["operator","left","right"],fields:{operator:{validate:mo.apply(void 0,Ui)},left:{validate:function(){var e=yo("Expression"),t=yo("Expression","PrivateName"),r=function(r,n,a){var s="in"===r.operator?t:e;s(r,n,a)};return r.oneOfNodeTypes=["Expression","PrivateName"],r}()},right:{validate:yo("Expression")}},visitor:["left","right"],aliases:["Binary","Expression"]}),So("InterpreterDirective",{builder:["value"],fields:{value:{validate:vo("string")}}}),So("Directive",{visitor:["value"],fields:{value:{validate:yo("DirectiveLiteral")}}}),So("DirectiveLiteral",{builder:["value"],fields:{value:{validate:vo("string")}}}),So("BlockStatement",{builder:["body","directives"],visitor:["directives","body"],fields:{directives:{validate:xo(vo("array"),ho(yo("Directive"))),default:[]},body:{validate:xo(vo("array"),ho(yo("Statement")))}},aliases:["Scopable","BlockParent","Block","Statement"]}),So("BreakStatement",{visitor:["label"],fields:{label:{validate:yo("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),So("CallExpression",{visitor:["callee","arguments","typeParameters","typeArguments"],builder:["callee","arguments"],aliases:["Expression"],fields:Object.assign({callee:{validate:yo("Expression","V8IntrinsicIdentifier")},arguments:{validate:xo(vo("array"),ho(yo("Expression","SpreadElement","JSXNamespacedName","ArgumentPlaceholder")))}},si.env.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:mo(!0,!1),optional:!0}},{typeArguments:{validate:yo("TypeParameterInstantiation"),optional:!0},typeParameters:{validate:yo("TSTypeParameterInstantiation"),optional:!0}})}),So("CatchClause",{visitor:["param","body"],fields:{param:{validate:yo("Identifier","ArrayPattern","ObjectPattern"),optional:!0},body:{validate:yo("BlockStatement")}},aliases:["Scopable","BlockParent"]}),So("ConditionalExpression",{visitor:["test","consequent","alternate"],fields:{test:{validate:yo("Expression")},consequent:{validate:yo("Expression")},alternate:{validate:yo("Expression")}},aliases:["Expression","Conditional"]}),So("ContinueStatement",{visitor:["label"],fields:{label:{validate:yo("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]}),So("DebuggerStatement",{aliases:["Statement"]}),So("DoWhileStatement",{visitor:["test","body"],fields:{test:{validate:yo("Expression")},body:{validate:yo("Statement")}},aliases:["Statement","BlockParent","Loop","While","Scopable"]}),So("EmptyStatement",{aliases:["Statement"]}),So("ExpressionStatement",{visitor:["expression"],fields:{expression:{validate:yo("Expression")}},aliases:["Statement","ExpressionWrapper"]}),So("File",{builder:["program","comments","tokens"],visitor:["program"],fields:{program:{validate:yo("Program")},comments:{validate:si.env.BABEL_TYPES_8_BREAKING?ho(yo("CommentBlock","CommentLine")):Object.assign(function(){},{each:{oneOfNodeTypes:["CommentBlock","CommentLine"]}}),optional:!0},tokens:{validate:ho(Object.assign(function(){},{type:"any"})),optional:!0}}}),So("ForInStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:si.env.BABEL_TYPES_8_BREAKING?yo("VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern"):yo("VariableDeclaration","LVal")},right:{validate:yo("Expression")},body:{validate:yo("Statement")}}}),So("ForStatement",{visitor:["init","test","update","body"],aliases:["Scopable","Statement","For","BlockParent","Loop"],fields:{init:{validate:yo("VariableDeclaration","Expression"),optional:!0},test:{validate:yo("Expression"),optional:!0},update:{validate:yo("Expression"),optional:!0},body:{validate:yo("Statement")}}});var jo={params:{validate:xo(vo("array"),ho(yo("Identifier","Pattern","RestElement","TSParameterProperty")))},generator:{default:!1},async:{default:!1}},Ao={returnType:{validate:yo("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:yo("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0}},Po=Object.assign({},jo,{declare:{validate:vo("boolean"),optional:!0},id:{validate:yo("Identifier"),optional:!0}});So("FunctionDeclaration",{builder:["id","params","body","generator","async"],visitor:["id","params","body","returnType","typeParameters"],fields:Object.assign({},Po,Ao,{body:{validate:yo("BlockStatement")}}),aliases:["Scopable","Function","BlockParent","FunctionParent","Statement","Pureish","Declaration"],validate:function(){if(!si.env.BABEL_TYPES_8_BREAKING)return function(){};var e=yo("Identifier");return function(t,r,n){li("ExportDefaultDeclaration",t)||e(n,"id",n.id)}}()}),So("FunctionExpression",{inherits:"FunctionDeclaration",aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},jo,Ao,{id:{validate:yo("Identifier"),optional:!0},body:{validate:yo("BlockStatement")}})});var ko,Co,Do,_o,Io,Oo={typeAnnotation:{validate:yo("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:xo(vo("array"),ho(yo("Decorator")))}};So("Identifier",{builder:["name"],visitor:["typeAnnotation","decorators"],aliases:["Expression","PatternLike","LVal","TSEntityName"],fields:Object.assign({},Oo,{name:{validate:xo(vo("string"),Object.assign(function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING&&!Ci(r,!1))throw new TypeError('"'+r+'" is not a valid identifier name')},{type:"string"}))},optional:{validate:vo("boolean"),optional:!0}}),validate:function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING){var n=/\.(\w+)$/.exec(t);if(n){var a=n[1],s={computed:!1};if("property"===a){if(li("MemberExpression",e,s))return;if(li("OptionalMemberExpression",e,s))return}else if("key"===a){if(li("Property",e,s))return;if(li("Method",e,s))return}else if("exported"===a){if(li("ExportSpecifier",e))return}else if("imported"===a){if(li("ImportSpecifier",e,{imported:r}))return}else if("meta"===a&&li("MetaProperty",e,{meta:r}))return;if((ki(r.name)||Ti(r.name))&&"this"!==r.name)throw new TypeError('"'+r.name+'" is not a valid identifier')}}}}),So("IfStatement",{visitor:["test","consequent","alternate"],aliases:["Statement","Conditional"],fields:{test:{validate:yo("Expression")},consequent:{validate:yo("Statement")},alternate:{optional:!0,validate:yo("Statement")}}}),So("LabeledStatement",{visitor:["label","body"],aliases:["Statement"],fields:{label:{validate:yo("Identifier")},body:{validate:yo("Statement")}}}),So("StringLiteral",{builder:["value"],fields:{value:{validate:vo("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),So("NumericLiteral",{builder:["value"],deprecatedAlias:"NumberLiteral",fields:{value:{validate:vo("number")}},aliases:["Expression","Pureish","Literal","Immutable"]}),So("NullLiteral",{aliases:["Expression","Pureish","Literal","Immutable"]}),So("BooleanLiteral",{builder:["value"],fields:{value:{validate:vo("boolean")}},aliases:["Expression","Pureish","Literal","Immutable"]}),So("RegExpLiteral",{builder:["pattern","flags"],deprecatedAlias:"RegexLiteral",aliases:["Expression","Pureish","Literal"],fields:{pattern:{validate:vo("string")},flags:{validate:xo(vo("string"),Object.assign(function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING){var n=/[^gimsuy]/.exec(r);if(n)throw new TypeError('"'+n[0]+'" is not a valid RegExp flag')}},{type:"string"})),default:""}}}),So("LogicalExpression",{builder:["operator","left","right"],visitor:["left","right"],aliases:["Binary","Expression"],fields:{operator:{validate:mo.apply(void 0,Oi)},left:{validate:yo("Expression")},right:{validate:yo("Expression")}}}),So("MemberExpression",{builder:["object","property","computed","optional"],visitor:["object","property"],aliases:["Expression","LVal"],fields:Object.assign({object:{validate:yo("Expression")},property:{validate:(ko=yo("Identifier","PrivateName"),Co=yo("Expression"),Do=function(e,t,r){var n=e.computed?Co:ko;n(e,t,r)},Do.oneOfNodeTypes=["Expression","Identifier","PrivateName"],Do)},computed:{default:!1}},si.env.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:mo(!0,!1),optional:!0}})}),So("NewExpression",{inherits:"CallExpression"}),So("Program",{visitor:["directives","body"],builder:["body","directives","sourceType","interpreter"],fields:{sourceFile:{validate:vo("string")},sourceType:{validate:mo("script","module"),default:"script"},interpreter:{validate:yo("InterpreterDirective"),default:null,optional:!0},directives:{validate:xo(vo("array"),ho(yo("Directive"))),default:[]},body:{validate:xo(vo("array"),ho(yo("Statement")))}},aliases:["Scopable","BlockParent","Block"]}),So("ObjectExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:{validate:xo(vo("array"),ho(yo("ObjectMethod","ObjectProperty","SpreadElement")))}}}),So("ObjectMethod",{builder:["kind","key","params","body","computed","generator","async"],fields:Object.assign({},jo,Ao,{kind:Object.assign({validate:mo("method","get","set")},si.env.BABEL_TYPES_8_BREAKING?{}:{default:"method"}),computed:{default:!1},key:{validate:function(){var e=yo("Identifier","StringLiteral","NumericLiteral"),t=yo("Expression"),r=function(r,n,a){var s=r.computed?t:e;s(r,n,a)};return r.oneOfNodeTypes=["Expression","Identifier","StringLiteral","NumericLiteral"],r}()},decorators:{validate:xo(vo("array"),ho(yo("Decorator"))),optional:!0},body:{validate:yo("BlockStatement")}}),visitor:["key","params","body","decorators","returnType","typeParameters"],aliases:["UserWhitespacable","Function","Scopable","BlockParent","FunctionParent","Method","ObjectMember"]}),So("ObjectProperty",{builder:["key","value","computed","shorthand"].concat(si.env.BABEL_TYPES_8_BREAKING?[]:["decorators"]),fields:{computed:{default:!1},key:{validate:function(){var e=yo("Identifier","StringLiteral","NumericLiteral"),t=yo("Expression"),r=function(r,n,a){var s=r.computed?t:e;s(r,n,a)};return r.oneOfNodeTypes=["Expression","Identifier","StringLiteral","NumericLiteral"],r}()},value:{validate:yo("Expression","PatternLike")},shorthand:{validate:xo(vo("boolean"),Object.assign(function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING&&r&&e.computed)throw new TypeError("Property shorthand of ObjectProperty cannot be true if computed is true")},{type:"boolean"}),function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING&&r&&!li("Identifier",e.key))throw new TypeError("Property shorthand of ObjectProperty cannot be true if key is not an Identifier")}),default:!1},decorators:{validate:xo(vo("array"),ho(yo("Decorator"))),optional:!0}},visitor:["key","value","decorators"],aliases:["UserWhitespacable","Property","ObjectMember"],validate:function(){var e=yo("Identifier","Pattern"),t=yo("Expression");return function(r,n,a){si.env.BABEL_TYPES_8_BREAKING&&(li("ObjectPattern",r)?e:t)(a,"value",a.value)}}()}),So("RestElement",{visitor:["argument","typeAnnotation"],builder:["argument"],aliases:["LVal","PatternLike"],deprecatedAlias:"RestProperty",fields:Object.assign({},Oo,{argument:{validate:si.env.BABEL_TYPES_8_BREAKING?yo("Identifier","Pattern","MemberExpression"):yo("LVal")}}),validate:function(e,t){if(si.env.BABEL_TYPES_8_BREAKING){var r=/(\w+)\[(\d+)\]/.exec(t);if(!r)throw new Error("Internal Babel error: malformed key.");var n=r[1],a=r[2];if(e[n].length>a+1)throw new TypeError("RestElement must be last element of "+n)}}}),So("ReturnStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:yo("Expression"),optional:!0}}}),So("SequenceExpression",{visitor:["expressions"],fields:{expressions:{validate:xo(vo("array"),ho(yo("Expression")))}},aliases:["Expression"]}),So("ParenthesizedExpression",{visitor:["expression"],aliases:["Expression","ExpressionWrapper"],fields:{expression:{validate:yo("Expression")}}}),So("SwitchCase",{visitor:["test","consequent"],fields:{test:{validate:yo("Expression"),optional:!0},consequent:{validate:xo(vo("array"),ho(yo("Statement")))}}}),So("SwitchStatement",{visitor:["discriminant","cases"],aliases:["Statement","BlockParent","Scopable"],fields:{discriminant:{validate:yo("Expression")},cases:{validate:xo(vo("array"),ho(yo("SwitchCase")))}}}),So("ThisExpression",{aliases:["Expression"]}),So("ThrowStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:yo("Expression")}}}),So("TryStatement",{visitor:["block","handler","finalizer"],aliases:["Statement"],fields:{block:{validate:xo(yo("BlockStatement"),Object.assign(function(e){if(si.env.BABEL_TYPES_8_BREAKING&&!e.handler&&!e.finalizer)throw new TypeError("TryStatement expects either a handler or finalizer, or both")},{oneOfNodeTypes:["BlockStatement"]}))},handler:{optional:!0,validate:yo("CatchClause")},finalizer:{optional:!0,validate:yo("BlockStatement")}}}),So("UnaryExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!0},argument:{validate:yo("Expression")},operator:{validate:mo.apply(void 0,Hi)}},visitor:["argument"],aliases:["UnaryLike","Expression"]}),So("UpdateExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!1},argument:{validate:si.env.BABEL_TYPES_8_BREAKING?yo("Identifier","MemberExpression"):yo("Expression")},operator:{validate:mo.apply(void 0,Ni)}},visitor:["argument"],aliases:["Expression"]}),So("VariableDeclaration",{builder:["kind","declarations"],visitor:["declarations"],aliases:["Statement","Declaration"],fields:{declare:{validate:vo("boolean"),optional:!0},kind:{validate:mo("var","let","const")},declarations:{validate:xo(vo("array"),ho(yo("VariableDeclarator")))}},validate:function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING&&li("ForXStatement",e,{left:r})&&1!==r.declarations.length)throw new TypeError("Exactly one VariableDeclarator is required in the VariableDeclaration of a "+e.type)}}),So("VariableDeclarator",{visitor:["id","init"],fields:{id:{validate:function(){if(!si.env.BABEL_TYPES_8_BREAKING)return yo("LVal");var e=yo("Identifier","ArrayPattern","ObjectPattern"),t=yo("Identifier");return function(r,n,a){(r.init?e:t)(r,n,a)}}()},definite:{optional:!0,validate:vo("boolean")},init:{optional:!0,validate:yo("Expression")}}}),So("WhileStatement",{visitor:["test","body"],aliases:["Statement","BlockParent","Loop","While","Scopable"],fields:{test:{validate:yo("Expression")},body:{validate:yo("Statement")}}}),So("WithStatement",{visitor:["object","body"],aliases:["Statement"],fields:{object:{validate:yo("Expression")},body:{validate:yo("Statement")}}}),So("AssignmentPattern",{visitor:["left","right","decorators"],builder:["left","right"],aliases:["Pattern","PatternLike","LVal"],fields:Object.assign({},Oo,{left:{validate:yo("Identifier","ObjectPattern","ArrayPattern","MemberExpression")},right:{validate:yo("Expression")},decorators:{validate:xo(vo("array"),ho(yo("Decorator"))),optional:!0}})}),So("ArrayPattern",{visitor:["elements","typeAnnotation"],builder:["elements"],aliases:["Pattern","PatternLike","LVal"],fields:Object.assign({},Oo,{elements:{validate:xo(vo("array"),ho(go("null","PatternLike")))},decorators:{validate:xo(vo("array"),ho(yo("Decorator"))),optional:!0}})}),So("ArrowFunctionExpression",{builder:["params","body","async"],visitor:["params","body","returnType","typeParameters"],aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},jo,Ao,{expression:{validate:vo("boolean")},body:{validate:yo("BlockStatement","Expression")}})}),So("ClassBody",{visitor:["body"],fields:{body:{validate:xo(vo("array"),ho(yo("ClassMethod","ClassPrivateMethod","ClassProperty","ClassPrivateProperty","TSDeclareMethod","TSIndexSignature")))}}}),So("ClassExpression",{builder:["id","superClass","body","decorators"],visitor:["id","body","superClass","mixins","typeParameters","superTypeParameters","implements","decorators"],aliases:["Scopable","Class","Expression"],fields:{id:{validate:yo("Identifier"),optional:!0},typeParameters:{validate:yo("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:yo("ClassBody")},superClass:{optional:!0,validate:yo("Expression")},superTypeParameters:{validate:yo("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:xo(vo("array"),ho(yo("TSExpressionWithTypeArguments","ClassImplements"))),optional:!0},decorators:{validate:xo(vo("array"),ho(yo("Decorator"))),optional:!0},mixins:{validate:yo("InterfaceExtends"),optional:!0}}}),So("ClassDeclaration",{inherits:"ClassExpression",aliases:["Scopable","Class","Statement","Declaration"],fields:{id:{validate:yo("Identifier")},typeParameters:{validate:yo("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:yo("ClassBody")},superClass:{optional:!0,validate:yo("Expression")},superTypeParameters:{validate:yo("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:xo(vo("array"),ho(yo("TSExpressionWithTypeArguments","ClassImplements"))),optional:!0},decorators:{validate:xo(vo("array"),ho(yo("Decorator"))),optional:!0},mixins:{validate:yo("InterfaceExtends"),optional:!0},declare:{validate:vo("boolean"),optional:!0},abstract:{validate:vo("boolean"),optional:!0}},validate:function(){var e=yo("Identifier");return function(t,r,n){si.env.BABEL_TYPES_8_BREAKING&&(li("ExportDefaultDeclaration",t)||e(n,"id",n.id))}}()}),So("ExportAllDeclaration",{visitor:["source"],aliases:["Statement","Declaration","ModuleDeclaration","ExportDeclaration"],fields:{source:{validate:yo("StringLiteral")}}}),So("ExportDefaultDeclaration",{visitor:["declaration"],aliases:["Statement","Declaration","ModuleDeclaration","ExportDeclaration"],fields:{declaration:{validate:yo("FunctionDeclaration","TSDeclareFunction","ClassDeclaration","Expression")}}}),So("ExportNamedDeclaration",{visitor:["declaration","specifiers","source"],aliases:["Statement","Declaration","ModuleDeclaration","ExportDeclaration"],fields:{declaration:{optional:!0,validate:xo(yo("Declaration"),Object.assign(function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING&&r&&e.specifiers.length)throw new TypeError("Only declaration or specifiers is allowed on ExportNamedDeclaration")},{oneOfNodeTypes:["Declaration"]}),function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING&&r&&e.source)throw new TypeError("Cannot export a declaration from a source")})},specifiers:{default:[],validate:xo(vo("array"),ho((_o=yo("ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"),Io=yo("ExportSpecifier"),si.env.BABEL_TYPES_8_BREAKING?function(e,t,r){(e.source?_o:Io)(e,t,r)}:_o)))},source:{validate:yo("StringLiteral"),optional:!0},exportKind:co(mo("type","value"))}}),So("ExportSpecifier",{visitor:["local","exported"],aliases:["ModuleSpecifier"],fields:{local:{validate:yo("Identifier")},exported:{validate:yo("Identifier","StringLiteral")}}}),So("ForOfStatement",{visitor:["left","right","body"],builder:["left","right","body","await"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:function(){if(!si.env.BABEL_TYPES_8_BREAKING)return yo("VariableDeclaration","LVal");var e=yo("VariableDeclaration"),t=yo("Identifier","MemberExpression","ArrayPattern","ObjectPattern");return function(r,n,a){li("VariableDeclaration",a)?e(r,n,a):t(r,n,a)}}()},right:{validate:yo("Expression")},body:{validate:yo("Statement")},await:{default:!1}}}),So("ImportDeclaration",{visitor:["specifiers","source"],aliases:["Statement","Declaration","ModuleDeclaration"],fields:{specifiers:{validate:xo(vo("array"),ho(yo("ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier")))},source:{validate:yo("StringLiteral")},importKind:{validate:mo("type","typeof","value"),optional:!0}}}),So("ImportDefaultSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:yo("Identifier")}}}),So("ImportNamespaceSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:yo("Identifier")}}}),So("ImportSpecifier",{visitor:["local","imported"],aliases:["ModuleSpecifier"],fields:{local:{validate:yo("Identifier")},imported:{validate:yo("Identifier","StringLiteral")},importKind:{validate:mo("type","typeof"),optional:!0}}}),So("MetaProperty",{visitor:["meta","property"],aliases:["Expression"],fields:{meta:{validate:xo(yo("Identifier"),Object.assign(function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING){var n;switch(r.name){case"function":n="sent";break;case"new":n="target";break;case"import":n="meta"}if(!li("Identifier",e.property,{name:n}))throw new TypeError("Unrecognised MetaProperty")}},{oneOfNodeTypes:["Identifier"]}))},property:{validate:yo("Identifier")}}});var No={abstract:{validate:vo("boolean"),optional:!0},accessibility:{validate:mo("public","private","protected"),optional:!0},static:{default:!1},computed:{default:!1},optional:{validate:vo("boolean"),optional:!0},key:{validate:xo(function(){var e=yo("Identifier","StringLiteral","NumericLiteral"),t=yo("Expression");return function(r,n,a){(r.computed?t:e)(r,n,a)}}(),yo("Identifier","StringLiteral","NumericLiteral","Expression"))}},Bo=Object.assign({},jo,No,{kind:{validate:mo("get","set","method","constructor"),default:"method"},access:{validate:xo(vo("string"),mo("public","private","protected")),optional:!0},decorators:{validate:xo(vo("array"),ho(yo("Decorator"))),optional:!0}});So("ClassMethod",{aliases:["Function","Scopable","BlockParent","FunctionParent","Method"],builder:["kind","key","params","body","computed","static","generator","async"],visitor:["key","params","body","decorators","returnType","typeParameters"],fields:Object.assign({},Bo,Ao,{body:{validate:yo("BlockStatement")}})}),So("ObjectPattern",{visitor:["properties","typeAnnotation","decorators"],builder:["properties"],aliases:["Pattern","PatternLike","LVal"],fields:Object.assign({},Oo,{properties:{validate:xo(vo("array"),ho(yo("RestElement","ObjectProperty")))}})}),So("SpreadElement",{visitor:["argument"],aliases:["UnaryLike"],deprecatedAlias:"SpreadProperty",fields:{argument:{validate:yo("Expression")}}}),So("Super",{aliases:["Expression"]}),So("TaggedTemplateExpression",{visitor:["tag","quasi"],aliases:["Expression"],fields:{tag:{validate:yo("Expression")},quasi:{validate:yo("TemplateLiteral")},typeParameters:{validate:yo("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}}),So("TemplateElement",{builder:["value","tail"],fields:{value:{validate:function(e){function t(t,r,n){for(var a=[],s=0,i=Object.keys(e);s<i.length;s++){var o=i[s];try{Yi(t,o,n[o],e[o])}catch(e){if(e instanceof TypeError){a.push(e.message);continue}throw e}}if(a.length)throw new TypeError("Property "+r+" of "+t.type+" expected to have the following:\n"+a.join("\n"))}return t.shapeOf=e,t}({raw:{validate:vo("string")},cooked:{validate:vo("string"),optional:!0}})},tail:{default:!1}}}),So("TemplateLiteral",{visitor:["quasis","expressions"],aliases:["Expression","Literal"],fields:{quasis:{validate:xo(vo("array"),ho(yo("TemplateElement")))},expressions:{validate:xo(vo("array"),ho(yo("Expression","TSType")),function(e,t,r){if(e.quasis.length!==r.length+1)throw new TypeError("Number of "+e.type+" quasis should be exactly one more than the number of expressions.\nExpected "+(r.length+1)+" quasis but got "+e.quasis.length)})}}}),So("YieldExpression",{builder:["argument","delegate"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{delegate:{validate:xo(vo("boolean"),Object.assign(function(e,t,r){if(si.env.BABEL_TYPES_8_BREAKING&&r&&!e.argument)throw new TypeError("Property delegate of YieldExpression cannot be true if there is no argument")},{type:"boolean"})),default:!1},argument:{optional:!0,validate:yo("Expression")}}}),So("AwaitExpression",{builder:["argument"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{argument:{validate:yo("Expression")}}}),So("Import",{aliases:["Expression"]}),So("BigIntLiteral",{builder:["value"],fields:{value:{validate:vo("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),So("ExportNamespaceSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:yo("Identifier")}}}),So("OptionalMemberExpression",{builder:["object","property","computed","optional"],visitor:["object","property"],aliases:["Expression"],fields:{object:{validate:yo("Expression")},property:{validate:function(){var e=yo("Identifier"),t=yo("Expression"),r=function(r,n,a){var s=r.computed?t:e;s(r,n,a)};return r.oneOfNodeTypes=["Expression","Identifier"],r}()},computed:{default:!1},optional:{validate:si.env.BABEL_TYPES_8_BREAKING?xo(vo("boolean"),bo()):vo("boolean")}}}),So("OptionalCallExpression",{visitor:["callee","arguments","typeParameters","typeArguments"],builder:["callee","arguments","optional"],aliases:["Expression"],fields:{callee:{validate:yo("Expression")},arguments:{validate:xo(vo("array"),ho(yo("Expression","SpreadElement","JSXNamespacedName")))},optional:{validate:si.env.BABEL_TYPES_8_BREAKING?xo(vo("boolean"),bo()):vo("boolean")},typeArguments:{validate:yo("TypeParameterInstantiation"),optional:!0},typeParameters:{validate:yo("TSTypeParameterInstantiation"),optional:!0}}});var Fo=function(e,t){void 0===t&&(t="TypeParameterDeclaration"),So(e,{builder:["id","typeParameters","extends","body"],visitor:["id","typeParameters","extends","mixins","implements","body"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{id:lo("Identifier"),typeParameters:uo(t),extends:co(po("InterfaceExtends")),mixins:co(po("InterfaceExtends")),implements:co(po("ClassImplements")),body:lo("ObjectTypeAnnotation")}})};So("AnyTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("ArrayTypeAnnotation",{visitor:["elementType"],aliases:["Flow","FlowType"],fields:{elementType:lo("FlowType")}}),So("BooleanTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("BooleanLiteralTypeAnnotation",{builder:["value"],aliases:["Flow","FlowType"],fields:{value:io(vo("boolean"))}}),So("NullLiteralTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("ClassImplements",{visitor:["id","typeParameters"],aliases:["Flow"],fields:{id:lo("Identifier"),
typeParameters:uo("TypeParameterInstantiation")}}),Fo("DeclareClass"),So("DeclareFunction",{visitor:["id"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{id:lo("Identifier"),predicate:uo("DeclaredPredicate")}}),Fo("DeclareInterface"),So("DeclareModule",{builder:["id","body","kind"],visitor:["id","body"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{id:lo(["Identifier","StringLiteral"]),body:lo("BlockStatement"),kind:co(mo("CommonJS","ES"))}}),So("DeclareModuleExports",{visitor:["typeAnnotation"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{typeAnnotation:lo("TypeAnnotation")}}),So("DeclareTypeAlias",{visitor:["id","typeParameters","right"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{id:lo("Identifier"),typeParameters:uo("TypeParameterDeclaration"),right:lo("FlowType")}}),So("DeclareOpaqueType",{visitor:["id","typeParameters","supertype"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{id:lo("Identifier"),typeParameters:uo("TypeParameterDeclaration"),supertype:uo("FlowType")}}),So("DeclareVariable",{visitor:["id"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{id:lo("Identifier")}}),So("DeclareExportDeclaration",{visitor:["declaration","specifiers","source"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{declaration:uo("Flow"),specifiers:co(po(["ExportSpecifier","ExportNamespaceSpecifier"])),source:uo("StringLiteral"),default:co(vo("boolean"))}}),So("DeclareExportAllDeclaration",{visitor:["source"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{source:lo("StringLiteral"),exportKind:co(mo("type","value"))}}),So("DeclaredPredicate",{visitor:["value"],aliases:["Flow","FlowPredicate"],fields:{value:lo("Flow")}}),So("ExistsTypeAnnotation",{aliases:["Flow","FlowType"]}),So("FunctionTypeAnnotation",{visitor:["typeParameters","params","rest","returnType"],aliases:["Flow","FlowType"],fields:{typeParameters:uo("TypeParameterDeclaration"),params:io(po("FunctionTypeParam")),rest:uo("FunctionTypeParam"),returnType:lo("FlowType")}}),So("FunctionTypeParam",{visitor:["name","typeAnnotation"],aliases:["Flow"],fields:{name:uo("Identifier"),typeAnnotation:lo("FlowType"),optional:co(vo("boolean"))}}),So("GenericTypeAnnotation",{visitor:["id","typeParameters"],aliases:["Flow","FlowType"],fields:{id:lo(["Identifier","QualifiedTypeIdentifier"]),typeParameters:uo("TypeParameterInstantiation")}}),So("InferredPredicate",{aliases:["Flow","FlowPredicate"]}),So("InterfaceExtends",{visitor:["id","typeParameters"],aliases:["Flow"],fields:{id:lo(["Identifier","QualifiedTypeIdentifier"]),typeParameters:uo("TypeParameterInstantiation")}}),Fo("InterfaceDeclaration"),So("InterfaceTypeAnnotation",{visitor:["extends","body"],aliases:["Flow","FlowType"],fields:{extends:co(po("InterfaceExtends")),body:lo("ObjectTypeAnnotation")}}),So("IntersectionTypeAnnotation",{visitor:["types"],aliases:["Flow","FlowType"],fields:{types:io(po("FlowType"))}}),So("MixedTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("EmptyTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("NullableTypeAnnotation",{visitor:["typeAnnotation"],aliases:["Flow","FlowType"],fields:{typeAnnotation:lo("FlowType")}}),So("NumberLiteralTypeAnnotation",{builder:["value"],aliases:["Flow","FlowType"],fields:{value:io(vo("number"))}}),So("NumberTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("ObjectTypeAnnotation",{visitor:["properties","indexers","callProperties","internalSlots"],aliases:["Flow","FlowType"],builder:["properties","indexers","callProperties","internalSlots","exact"],fields:{properties:io(po(["ObjectTypeProperty","ObjectTypeSpreadProperty"])),indexers:co(po("ObjectTypeIndexer")),callProperties:co(po("ObjectTypeCallProperty")),internalSlots:co(po("ObjectTypeInternalSlot")),exact:{validate:vo("boolean"),default:!1},inexact:co(vo("boolean"))}}),So("ObjectTypeInternalSlot",{visitor:["id","value","optional","static","method"],aliases:["Flow","UserWhitespacable"],fields:{id:lo("Identifier"),value:lo("FlowType"),optional:io(vo("boolean")),static:io(vo("boolean")),method:io(vo("boolean"))}}),So("ObjectTypeCallProperty",{visitor:["value"],aliases:["Flow","UserWhitespacable"],fields:{value:lo("FlowType"),static:io(vo("boolean"))}}),So("ObjectTypeIndexer",{visitor:["id","key","value","variance"],aliases:["Flow","UserWhitespacable"],fields:{id:uo("Identifier"),key:lo("FlowType"),value:lo("FlowType"),static:io(vo("boolean")),variance:uo("Variance")}}),So("ObjectTypeProperty",{visitor:["key","value","variance"],aliases:["Flow","UserWhitespacable"],fields:{key:lo(["Identifier","StringLiteral"]),value:lo("FlowType"),kind:io(mo("init","get","set")),static:io(vo("boolean")),proto:io(vo("boolean")),optional:io(vo("boolean")),variance:uo("Variance")}}),So("ObjectTypeSpreadProperty",{visitor:["argument"],aliases:["Flow","UserWhitespacable"],fields:{argument:lo("FlowType")}}),So("OpaqueType",{visitor:["id","typeParameters","supertype","impltype"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{id:lo("Identifier"),typeParameters:uo("TypeParameterDeclaration"),supertype:uo("FlowType"),impltype:lo("FlowType")}}),So("QualifiedTypeIdentifier",{visitor:["id","qualification"],aliases:["Flow"],fields:{id:lo("Identifier"),qualification:lo(["Identifier","QualifiedTypeIdentifier"])}}),So("StringLiteralTypeAnnotation",{builder:["value"],aliases:["Flow","FlowType"],fields:{value:io(vo("string"))}}),So("StringTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("SymbolTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("ThisTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("TupleTypeAnnotation",{visitor:["types"],aliases:["Flow","FlowType"],fields:{types:io(po("FlowType"))}}),So("TypeofTypeAnnotation",{visitor:["argument"],aliases:["Flow","FlowType"],fields:{argument:lo("FlowType")}}),So("TypeAlias",{visitor:["id","typeParameters","right"],aliases:["Flow","FlowDeclaration","Statement","Declaration"],fields:{id:lo("Identifier"),typeParameters:uo("TypeParameterDeclaration"),right:lo("FlowType")}}),So("TypeAnnotation",{aliases:["Flow"],visitor:["typeAnnotation"],fields:{typeAnnotation:lo("FlowType")}}),So("TypeCastExpression",{visitor:["expression","typeAnnotation"],aliases:["Flow","ExpressionWrapper","Expression"],fields:{expression:lo("Expression"),typeAnnotation:lo("TypeAnnotation")}}),So("TypeParameter",{aliases:["Flow"],visitor:["bound","default","variance"],fields:{name:io(vo("string")),bound:uo("TypeAnnotation"),default:uo("FlowType"),variance:uo("Variance")}}),So("TypeParameterDeclaration",{aliases:["Flow"],visitor:["params"],fields:{params:io(po("TypeParameter"))}}),So("TypeParameterInstantiation",{aliases:["Flow"],visitor:["params"],fields:{params:io(po("FlowType"))}}),So("UnionTypeAnnotation",{visitor:["types"],aliases:["Flow","FlowType"],fields:{types:io(po("FlowType"))}}),So("Variance",{aliases:["Flow"],builder:["kind"],fields:{kind:io(mo("minus","plus"))}}),So("VoidTypeAnnotation",{aliases:["Flow","FlowType","FlowBaseAnnotation"]}),So("EnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{id:lo("Identifier"),body:lo(["EnumBooleanBody","EnumNumberBody","EnumStringBody","EnumSymbolBody"])}}),So("EnumBooleanBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicit:io(vo("boolean")),members:fo("EnumBooleanMember")}}),So("EnumNumberBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicit:io(vo("boolean")),members:fo("EnumNumberMember")}}),So("EnumStringBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicit:io(vo("boolean")),members:fo(["EnumStringMember","EnumDefaultedMember"])}}),So("EnumSymbolBody",{aliases:["EnumBody"],visitor:["members"],fields:{members:fo("EnumDefaultedMember")}}),So("EnumBooleanMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:lo("Identifier"),init:lo("BooleanLiteral")}}),So("EnumNumberMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:lo("Identifier"),init:lo("NumericLiteral")}}),So("EnumStringMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:lo("Identifier"),init:lo("StringLiteral")}}),So("EnumDefaultedMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:lo("Identifier")}}),So("JSXAttribute",{visitor:["name","value"],aliases:["JSX","Immutable"],fields:{name:{validate:yo("JSXIdentifier","JSXNamespacedName")},value:{optional:!0,validate:yo("JSXElement","JSXFragment","StringLiteral","JSXExpressionContainer")}}}),So("JSXClosingElement",{visitor:["name"],aliases:["JSX","Immutable"],fields:{name:{validate:yo("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")}}}),So("JSXElement",{builder:["openingElement","closingElement","children","selfClosing"],visitor:["openingElement","children","closingElement"],aliases:["JSX","Immutable","Expression"],fields:{openingElement:{validate:yo("JSXOpeningElement")},closingElement:{optional:!0,validate:yo("JSXClosingElement")},children:{validate:xo(vo("array"),ho(yo("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")))},selfClosing:{validate:vo("boolean"),optional:!0}}}),So("JSXEmptyExpression",{aliases:["JSX"]}),So("JSXExpressionContainer",{visitor:["expression"],aliases:["JSX","Immutable"],fields:{expression:{validate:yo("Expression","JSXEmptyExpression")}}}),So("JSXSpreadChild",{visitor:["expression"],aliases:["JSX","Immutable"],fields:{expression:{validate:yo("Expression")}}}),So("JSXIdentifier",{builder:["name"],aliases:["JSX"],fields:{name:{validate:vo("string")}}}),So("JSXMemberExpression",{visitor:["object","property"],aliases:["JSX"],fields:{object:{validate:yo("JSXMemberExpression","JSXIdentifier")},property:{validate:yo("JSXIdentifier")}}}),So("JSXNamespacedName",{visitor:["namespace","name"],aliases:["JSX"],fields:{namespace:{validate:yo("JSXIdentifier")},name:{validate:yo("JSXIdentifier")}}}),So("JSXOpeningElement",{builder:["name","attributes","selfClosing"],visitor:["name","attributes"],aliases:["JSX","Immutable"],fields:{name:{validate:yo("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")},selfClosing:{default:!1},attributes:{validate:xo(vo("array"),ho(yo("JSXAttribute","JSXSpreadAttribute")))},typeParameters:{validate:yo("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}}),So("JSXSpreadAttribute",{visitor:["argument"],aliases:["JSX"],fields:{argument:{validate:yo("Expression")}}}),So("JSXText",{aliases:["JSX","Immutable"],builder:["value"],fields:{value:{validate:vo("string")}}}),So("JSXFragment",{builder:["openingFragment","closingFragment","children"],visitor:["openingFragment","children","closingFragment"],aliases:["JSX","Immutable","Expression"],fields:{openingFragment:{validate:yo("JSXOpeningFragment")},closingFragment:{validate:yo("JSXClosingFragment")},children:{validate:xo(vo("array"),ho(yo("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")))}}}),So("JSXOpeningFragment",{aliases:["JSX","Immutable"]}),So("JSXClosingFragment",{aliases:["JSX","Immutable"]});for(var Ro=["Identifier","StringLiteral","Expression","Statement","Declaration","BlockStatement","ClassBody","Pattern"],Mo={Declaration:["Statement"],Pattern:["PatternLike","LVal"]},Lo=0,Uo=Ro;Lo<Uo.length;Lo++){var Wo=Uo[Lo],Vo=Zi[Wo];(null==Vo?void 0:Vo.length)&&(Mo[Wo]=Vo)}var Go={};Object.keys(Mo).forEach(function(e){Mo[e].forEach(function(t){Object.hasOwnProperty.call(Go,t)||(Go[t]=[]),Go[t].push(e)})}),So("Noop",{visitor:[]}),So("Placeholder",{visitor:[],builder:["expectedNode","name"],fields:{name:{validate:yo("Identifier")},expectedNode:{validate:mo.apply(void 0,Ro)}}}),So("V8IntrinsicIdentifier",{builder:["name"],fields:{name:{validate:vo("string")}}}),So("ArgumentPlaceholder",{}),So("BindExpression",{visitor:["object","callee"],aliases:["Expression"],fields:si.env.BABEL_TYPES_8_BREAKING?{object:{validate:yo("Expression")},callee:{validate:yo("Expression")}}:{object:{validate:Object.assign(function(){},{oneOfNodeTypes:["Expression"]})},callee:{validate:Object.assign(function(){},{oneOfNodeTypes:["Expression"]})}}}),So("ClassProperty",{visitor:["key","value","typeAnnotation","decorators"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property"],fields:Object.assign({},No,{value:{validate:yo("Expression"),optional:!0},definite:{validate:vo("boolean"),optional:!0},typeAnnotation:{validate:yo("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:xo(vo("array"),ho(yo("Decorator"))),optional:!0},readonly:{validate:vo("boolean"),optional:!0},declare:{validate:vo("boolean"),optional:!0}})}),So("PipelineTopicExpression",{builder:["expression"],visitor:["expression"],fields:{expression:{validate:yo("Expression")}}}),So("PipelineBareFunction",{builder:["callee"],visitor:["callee"],fields:{callee:{validate:yo("Expression")}}}),So("PipelinePrimaryTopicReference",{aliases:["Expression"]}),So("ClassPrivateProperty",{visitor:["key","value","decorators"],builder:["key","value","decorators","static"],aliases:["Property","Private"],fields:{key:{validate:yo("PrivateName")},value:{validate:yo("Expression"),optional:!0},decorators:{validate:xo(vo("array"),ho(yo("Decorator"))),optional:!0}}}),So("ClassPrivateMethod",{builder:["kind","key","params","body","static"],visitor:["key","params","body","decorators","returnType","typeParameters"],aliases:["Function","Scopable","BlockParent","FunctionParent","Method","Private"],fields:Object.assign({},Bo,Ao,{key:{validate:yo("PrivateName")},body:{validate:yo("BlockStatement")}})}),So("ImportAttribute",{visitor:["key","value"],fields:{key:{validate:yo("Identifier","StringLiteral")},value:{validate:yo("StringLiteral")}}}),So("Decorator",{visitor:["expression"],fields:{expression:{validate:yo("Expression")}}}),So("DoExpression",{visitor:["body"],aliases:["Expression"],fields:{body:{validate:yo("BlockStatement")}}}),So("ExportDefaultSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:yo("Identifier")}}}),So("PrivateName",{visitor:["id"],aliases:["Private"],fields:{id:{validate:yo("Identifier")}}}),So("RecordExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:{validate:xo(vo("array"),ho(yo("ObjectProperty","SpreadElement")))}}}),So("TupleExpression",{fields:{elements:{validate:xo(vo("array"),ho(yo("Expression","SpreadElement"))),default:[]}},visitor:["elements"],aliases:["Expression"]}),So("DecimalLiteral",{builder:["value"],fields:{value:{validate:vo("string")}},aliases:["Expression","Pureish","Literal","Immutable"]}),So("StaticBlock",{visitor:["body"],fields:{body:{validate:xo(vo("array"),ho(yo("Statement")))}},aliases:["Scopable","BlockParent"]});var Ko=vo("boolean"),Ho={returnType:{validate:yo("TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:yo("TSTypeParameterDeclaration","Noop"),optional:!0}};So("TSParameterProperty",{aliases:["LVal"],visitor:["parameter"],fields:{accessibility:{validate:mo("public","private","protected"),optional:!0},readonly:{validate:vo("boolean"),optional:!0},parameter:{validate:yo("Identifier","AssignmentPattern")}}}),So("TSDeclareFunction",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","params","returnType"],fields:Object.assign({},Po,Ho)}),So("TSDeclareMethod",{visitor:["decorators","key","typeParameters","params","returnType"],fields:Object.assign({},Bo,Ho)}),So("TSQualifiedName",{aliases:["TSEntityName"],visitor:["left","right"],fields:{left:lo("TSEntityName"),right:lo("Identifier")}});var zo={typeParameters:uo("TSTypeParameterDeclaration"),parameters:fo(["Identifier","RestElement"]),typeAnnotation:uo("TSTypeAnnotation")},qo={aliases:["TSTypeElement"],visitor:["typeParameters","parameters","typeAnnotation"],fields:zo};So("TSCallSignatureDeclaration",qo),So("TSConstructSignatureDeclaration",qo);var Xo={key:lo("Expression"),computed:io(Ko),optional:co(Ko)};So("TSPropertySignature",{aliases:["TSTypeElement"],visitor:["key","typeAnnotation","initializer"],fields:Object.assign({},Xo,{readonly:co(Ko),typeAnnotation:uo("TSTypeAnnotation"),initializer:uo("Expression")})}),So("TSMethodSignature",{aliases:["TSTypeElement"],visitor:["key","typeParameters","parameters","typeAnnotation"],fields:Object.assign({},zo,Xo)}),So("TSIndexSignature",{aliases:["TSTypeElement"],visitor:["parameters","typeAnnotation"],fields:{readonly:co(Ko),parameters:fo("Identifier"),typeAnnotation:uo("TSTypeAnnotation")}});for(var Jo=0,Yo=["TSAnyKeyword","TSBooleanKeyword","TSBigIntKeyword","TSIntrinsicKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword"];Jo<Yo.length;Jo++){So(Yo[Jo],{aliases:["TSType","TSBaseType"],visitor:[],fields:{}})}So("TSThisType",{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});var $o={aliases:["TSType"],visitor:["typeParameters","parameters","typeAnnotation"],fields:zo};So("TSFunctionType",$o),So("TSConstructorType",$o),So("TSTypeReference",{aliases:["TSType"],visitor:["typeName","typeParameters"],fields:{typeName:lo("TSEntityName"),typeParameters:uo("TSTypeParameterInstantiation")}}),So("TSTypePredicate",{aliases:["TSType"],visitor:["parameterName","typeAnnotation"],builder:["parameterName","typeAnnotation","asserts"],fields:{parameterName:lo(["Identifier","TSThisType"]),typeAnnotation:uo("TSTypeAnnotation"),asserts:co(Ko)}}),So("TSTypeQuery",{aliases:["TSType"],visitor:["exprName"],fields:{exprName:lo(["TSEntityName","TSImportType"])}}),So("TSTypeLiteral",{aliases:["TSType"],visitor:["members"],fields:{members:fo("TSTypeElement")}}),So("TSArrayType",{aliases:["TSType"],visitor:["elementType"],fields:{elementType:lo("TSType")}}),So("TSTupleType",{aliases:["TSType"],visitor:["elementTypes"],fields:{elementTypes:fo(["TSType","TSNamedTupleMember"])}}),So("TSOptionalType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:lo("TSType")}}),So("TSRestType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:lo("TSType")}}),So("TSNamedTupleMember",{visitor:["label","elementType"],builder:["label","elementType","optional"],fields:{label:lo("Identifier"),optional:{validate:Ko,default:!1},elementType:lo("TSType")}});var Qo={aliases:["TSType"],visitor:["types"],fields:{types:fo("TSType")}};So("TSUnionType",Qo),So("TSIntersectionType",Qo),So("TSConditionalType",{aliases:["TSType"],visitor:["checkType","extendsType","trueType","falseType"],fields:{checkType:lo("TSType"),extendsType:lo("TSType"),trueType:lo("TSType"),falseType:lo("TSType")}}),So("TSInferType",{aliases:["TSType"],visitor:["typeParameter"],fields:{typeParameter:lo("TSTypeParameter")}}),So("TSParenthesizedType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:lo("TSType")}}),So("TSTypeOperator",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{operator:io(vo("string")),typeAnnotation:lo("TSType")}}),So("TSIndexedAccessType",{aliases:["TSType"],visitor:["objectType","indexType"],fields:{objectType:lo("TSType"),indexType:lo("TSType")}}),So("TSMappedType",{aliases:["TSType"],visitor:["typeParameter","typeAnnotation","nameType"],fields:{readonly:co(Ko),typeParameter:lo("TSTypeParameter"),optional:co(Ko),typeAnnotation:uo("TSType"),nameType:uo("TSType")}}),So("TSLiteralType",{aliases:["TSType","TSBaseType"],visitor:["literal"],fields:{literal:lo(["NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral"])}}),So("TSExpressionWithTypeArguments",{aliases:["TSType"],visitor:["expression","typeParameters"],fields:{expression:lo("TSEntityName"),typeParameters:uo("TSTypeParameterInstantiation")}}),So("TSInterfaceDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","extends","body"],fields:{declare:co(Ko),id:lo("Identifier"),typeParameters:uo("TSTypeParameterDeclaration"),extends:co(po("TSExpressionWithTypeArguments")),body:lo("TSInterfaceBody")}}),So("TSInterfaceBody",{visitor:["body"],fields:{body:fo("TSTypeElement")}}),So("TSTypeAliasDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","typeAnnotation"],fields:{declare:co(Ko),id:lo("Identifier"),typeParameters:uo("TSTypeParameterDeclaration"),typeAnnotation:lo("TSType")}}),So("TSAsExpression",{aliases:["Expression"],visitor:["expression","typeAnnotation"],fields:{expression:lo("Expression"),typeAnnotation:lo("TSType")}}),So("TSTypeAssertion",{aliases:["Expression"],visitor:["typeAnnotation","expression"],fields:{typeAnnotation:lo("TSType"),expression:lo("Expression")}}),So("TSEnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","members"],fields:{declare:co(Ko),const:co(Ko),id:lo("Identifier"),members:fo("TSEnumMember"),initializer:uo("Expression")}}),So("TSEnumMember",{visitor:["id","initializer"],fields:{id:lo(["Identifier","StringLiteral"]),initializer:uo("Expression")}}),So("TSModuleDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{declare:co(Ko),global:co(Ko),id:lo(["Identifier","StringLiteral"]),body:lo(["TSModuleBlock","TSModuleDeclaration"])}}),So("TSModuleBlock",{aliases:["Scopable","Block","BlockParent"],visitor:["body"],fields:{body:fo("Statement")}}),So("TSImportType",{aliases:["TSType"],visitor:["argument","qualifier","typeParameters"],fields:{argument:lo("StringLiteral"),qualifier:uo("TSEntityName"),typeParameters:uo("TSTypeParameterInstantiation")}}),So("TSImportEqualsDeclaration",{aliases:["Statement"],visitor:["id","moduleReference"],fields:{isExport:io(Ko),id:lo("Identifier"),moduleReference:lo(["TSEntityName","TSExternalModuleReference"])}}),So("TSExternalModuleReference",{visitor:["expression"],fields:{expression:lo("StringLiteral")}}),So("TSNonNullExpression",{aliases:["Expression"],visitor:["expression"],fields:{expression:lo("Expression")}}),So("TSExportAssignment",{aliases:["Statement"],visitor:["expression"],fields:{expression:lo("Expression")}}),So("TSNamespaceExportDeclaration",{aliases:["Statement"],visitor:["id"],fields:{id:lo("Identifier")}}),So("TSTypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:{validate:yo("TSType")}}}),So("TSTypeParameterInstantiation",{visitor:["params"],fields:{params:{validate:xo(vo("array"),ho(yo("TSType")))}}}),So("TSTypeParameterDeclaration",{visitor:["params"],fields:{params:{validate:xo(vo("array"),ho(yo("TSTypeParameter")))}}}),So("TSTypeParameter",{builder:["constraint","default","name"],visitor:["constraint","default"],fields:{name:{validate:vo("string")},constraint:{validate:yo("TSType"),optional:!0},default:{validate:yo("TSType"),optional:!0}}}),Ns(Qi),Ns(Zi),Ns(eo),Ns(to),Ns(ro),Ns(no),Ns(Mo),Ns(Go);var Zo=Object.keys(Qi).concat(Object.keys(eo)).concat(Object.keys(no));function el(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=ro[e],s=r.length;if(s>a.length)throw new Error(e+": Too many arguments passed. Received "+s+" but can receive no more than "+a.length);var i={type:e},o=0;a.forEach(function(t){var n,a=to[e][t];o<s&&(n=r[o]),void 0===n&&(n=_s(a.default)),i[t]=n,o++});for(var l=0,c=Object.keys(i);l<c.length;l++){var u=c[l];Ji(i,u,i[u])}return i}function tl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ArrayExpression"].concat(t))}function rl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["AssignmentExpression"].concat(t))}function nl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["BinaryExpression"].concat(t))}function al(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["InterpreterDirective"].concat(t))}function sl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["Directive"].concat(t))}function il(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DirectiveLiteral"].concat(t))}function ol(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["BlockStatement"].concat(t))}function ll(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["BreakStatement"].concat(t))}function cl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["CallExpression"].concat(t))}function ul(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["CatchClause"].concat(t))}function pl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ConditionalExpression"].concat(t))}function dl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ContinueStatement"].concat(t))}function fl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DebuggerStatement"].concat(t))}function hl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DoWhileStatement"].concat(t))}function ml(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EmptyStatement"].concat(t))}function yl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ExpressionStatement"].concat(t))}function gl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["File"].concat(t))}function vl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ForInStatement"].concat(t))}function bl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ForStatement"].concat(t))}function xl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["FunctionDeclaration"].concat(t))}function El(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["FunctionExpression"].concat(t))}function wl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["Identifier"].concat(t))}function Sl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["IfStatement"].concat(t))}function Tl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["LabeledStatement"].concat(t))}function jl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["StringLiteral"].concat(t))}function Al(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["NumericLiteral"].concat(t))}function Pl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["NullLiteral"].concat(t))}function kl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["BooleanLiteral"].concat(t))}function Cl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["RegExpLiteral"].concat(t))}function Dl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["LogicalExpression"].concat(t))}function _l(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["MemberExpression"].concat(t))}function Il(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["NewExpression"].concat(t))}function Ol(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["Program"].concat(t))}function Nl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectExpression"].concat(t))}function Bl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectMethod"].concat(t))}function Fl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectProperty"].concat(t))}function Rl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["RestElement"].concat(t))}function Ml(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ReturnStatement"].concat(t))}function Ll(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["SequenceExpression"].concat(t))}function Ul(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ParenthesizedExpression"].concat(t))}function Wl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["SwitchCase"].concat(t))}function Vl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["SwitchStatement"].concat(t))}function Gl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ThisExpression"].concat(t))}function Kl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ThrowStatement"].concat(t))}function Hl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TryStatement"].concat(t))}function zl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["UnaryExpression"].concat(t))}function ql(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["UpdateExpression"].concat(t))}function Xl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["VariableDeclaration"].concat(t))}function Jl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["VariableDeclarator"].concat(t))}function Yl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["WhileStatement"].concat(t))}function $l(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["WithStatement"].concat(t))}function Ql(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["AssignmentPattern"].concat(t))}function Zl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ArrayPattern"].concat(t))}function ec(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ArrowFunctionExpression"].concat(t))}function tc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ClassBody"].concat(t))}function rc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ClassExpression"].concat(t))}function nc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ClassDeclaration"].concat(t))}function ac(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ExportAllDeclaration"].concat(t))}function sc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ExportDefaultDeclaration"].concat(t))}function ic(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ExportNamedDeclaration"].concat(t))}function oc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ExportSpecifier"].concat(t))}function lc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ForOfStatement"].concat(t))}function cc(){
for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ImportDeclaration"].concat(t))}function uc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ImportDefaultSpecifier"].concat(t))}function pc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ImportNamespaceSpecifier"].concat(t))}function dc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ImportSpecifier"].concat(t))}function fc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["MetaProperty"].concat(t))}function hc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ClassMethod"].concat(t))}function mc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectPattern"].concat(t))}function yc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["SpreadElement"].concat(t))}function gc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["Super"].concat(t))}function vc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TaggedTemplateExpression"].concat(t))}function bc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TemplateElement"].concat(t))}function xc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TemplateLiteral"].concat(t))}function Ec(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["YieldExpression"].concat(t))}function wc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["AwaitExpression"].concat(t))}function Sc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["Import"].concat(t))}function Tc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["BigIntLiteral"].concat(t))}function jc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ExportNamespaceSpecifier"].concat(t))}function Ac(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["OptionalMemberExpression"].concat(t))}function Pc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["OptionalCallExpression"].concat(t))}function kc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["AnyTypeAnnotation"].concat(t))}function Cc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ArrayTypeAnnotation"].concat(t))}function Dc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["BooleanTypeAnnotation"].concat(t))}function _c(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["BooleanLiteralTypeAnnotation"].concat(t))}function Ic(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["NullLiteralTypeAnnotation"].concat(t))}function Oc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ClassImplements"].concat(t))}function Nc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareClass"].concat(t))}function Bc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareFunction"].concat(t))}function Fc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareInterface"].concat(t))}function Rc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareModule"].concat(t))}function Mc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareModuleExports"].concat(t))}function Lc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareTypeAlias"].concat(t))}function Uc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareOpaqueType"].concat(t))}function Wc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareVariable"].concat(t))}function Vc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareExportDeclaration"].concat(t))}function Gc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclareExportAllDeclaration"].concat(t))}function Kc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DeclaredPredicate"].concat(t))}function Hc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ExistsTypeAnnotation"].concat(t))}function zc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["FunctionTypeAnnotation"].concat(t))}function qc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["FunctionTypeParam"].concat(t))}function Xc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["GenericTypeAnnotation"].concat(t))}function Jc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["InferredPredicate"].concat(t))}function Yc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["InterfaceExtends"].concat(t))}function $c(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["InterfaceDeclaration"].concat(t))}function Qc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["InterfaceTypeAnnotation"].concat(t))}function Zc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["IntersectionTypeAnnotation"].concat(t))}function eu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["MixedTypeAnnotation"].concat(t))}function tu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EmptyTypeAnnotation"].concat(t))}function ru(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["NullableTypeAnnotation"].concat(t))}function nu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["NumberLiteralTypeAnnotation"].concat(t))}function au(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["NumberTypeAnnotation"].concat(t))}function su(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectTypeAnnotation"].concat(t))}function iu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectTypeInternalSlot"].concat(t))}function ou(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectTypeCallProperty"].concat(t))}function lu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectTypeIndexer"].concat(t))}function cu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectTypeProperty"].concat(t))}function uu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ObjectTypeSpreadProperty"].concat(t))}function pu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["OpaqueType"].concat(t))}function du(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["QualifiedTypeIdentifier"].concat(t))}function fu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["StringLiteralTypeAnnotation"].concat(t))}function hu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["StringTypeAnnotation"].concat(t))}function mu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["SymbolTypeAnnotation"].concat(t))}function yu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ThisTypeAnnotation"].concat(t))}function gu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TupleTypeAnnotation"].concat(t))}function vu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TypeofTypeAnnotation"].concat(t))}function bu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TypeAlias"].concat(t))}function xu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TypeAnnotation"].concat(t))}function Eu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TypeCastExpression"].concat(t))}function wu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TypeParameter"].concat(t))}function Su(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TypeParameterDeclaration"].concat(t))}function Tu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TypeParameterInstantiation"].concat(t))}function ju(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["UnionTypeAnnotation"].concat(t))}function Au(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["Variance"].concat(t))}function Pu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["VoidTypeAnnotation"].concat(t))}function ku(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EnumDeclaration"].concat(t))}function Cu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EnumBooleanBody"].concat(t))}function Du(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EnumNumberBody"].concat(t))}function _u(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EnumStringBody"].concat(t))}function Iu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EnumSymbolBody"].concat(t))}function Ou(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EnumBooleanMember"].concat(t))}function Nu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EnumNumberMember"].concat(t))}function Bu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EnumStringMember"].concat(t))}function Fu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["EnumDefaultedMember"].concat(t))}function Ru(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXAttribute"].concat(t))}function Mu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXClosingElement"].concat(t))}function Lu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXElement"].concat(t))}function Uu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXEmptyExpression"].concat(t))}function Wu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXExpressionContainer"].concat(t))}function Vu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXSpreadChild"].concat(t))}function Gu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXIdentifier"].concat(t))}function Ku(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXMemberExpression"].concat(t))}function Hu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXNamespacedName"].concat(t))}function zu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXOpeningElement"].concat(t))}function qu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXSpreadAttribute"].concat(t))}function Xu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXText"].concat(t))}function Ju(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXFragment"].concat(t))}function Yu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXOpeningFragment"].concat(t))}function $u(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["JSXClosingFragment"].concat(t))}function Qu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["Noop"].concat(t))}function Zu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["Placeholder"].concat(t))}function ep(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["V8IntrinsicIdentifier"].concat(t))}function tp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ArgumentPlaceholder"].concat(t))}function rp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["BindExpression"].concat(t))}function np(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ClassProperty"].concat(t))}function ap(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["PipelineTopicExpression"].concat(t))}function sp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["PipelineBareFunction"].concat(t))}function ip(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["PipelinePrimaryTopicReference"].concat(t))}function op(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ClassPrivateProperty"].concat(t))}function lp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ClassPrivateMethod"].concat(t))}function cp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ImportAttribute"].concat(t))}function up(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["Decorator"].concat(t))}function pp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DoExpression"].concat(t))}function dp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["ExportDefaultSpecifier"].concat(t))}function fp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["PrivateName"].concat(t))}function hp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["RecordExpression"].concat(t))}function mp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TupleExpression"].concat(t))}function yp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["DecimalLiteral"].concat(t))}function gp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["StaticBlock"].concat(t))}function vp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSParameterProperty"].concat(t))}function bp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSDeclareFunction"].concat(t))}function xp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSDeclareMethod"].concat(t))}function Ep(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSQualifiedName"].concat(t))}function wp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSCallSignatureDeclaration"].concat(t))}function Sp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSConstructSignatureDeclaration"].concat(t))}function Tp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSPropertySignature"].concat(t))}function jp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSMethodSignature"].concat(t))}function Ap(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSIndexSignature"].concat(t))}function Pp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSAnyKeyword"].concat(t))}function kp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSBooleanKeyword"].concat(t))}function Cp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSBigIntKeyword"].concat(t))}function Dp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSIntrinsicKeyword"].concat(t))}function _p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSNeverKeyword"].concat(t))}function Ip(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSNullKeyword"].concat(t))}function Op(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSNumberKeyword"].concat(t))}function Np(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSObjectKeyword"].concat(t))}function Bp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSStringKeyword"].concat(t))}function Fp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSSymbolKeyword"].concat(t))}function Rp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSUndefinedKeyword"].concat(t))}function Mp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSUnknownKeyword"].concat(t))}function Lp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSVoidKeyword"].concat(t))}function Up(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSThisType"].concat(t))}function Wp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSFunctionType"].concat(t))}function Vp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSConstructorType"].concat(t))}function Gp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeReference"].concat(t))}function Kp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypePredicate"].concat(t))}function Hp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeQuery"].concat(t))}function zp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeLiteral"].concat(t))}function qp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSArrayType"].concat(t))}function Xp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTupleType"].concat(t))}function Jp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSOptionalType"].concat(t))}function Yp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSRestType"].concat(t))}function $p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSNamedTupleMember"].concat(t))}function Qp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSUnionType"].concat(t))}function Zp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSIntersectionType"].concat(t))}function ed(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSConditionalType"].concat(t))}function td(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSInferType"].concat(t))}function rd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSParenthesizedType"].concat(t))}function nd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeOperator"].concat(t))}function ad(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSIndexedAccessType"].concat(t))}function sd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSMappedType"].concat(t))}function id(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSLiteralType"].concat(t))}function od(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSExpressionWithTypeArguments"].concat(t))}function ld(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSInterfaceDeclaration"].concat(t))}function cd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSInterfaceBody"].concat(t))}function ud(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeAliasDeclaration"].concat(t))}function pd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSAsExpression"].concat(t))}function dd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeAssertion"].concat(t))}function fd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSEnumDeclaration"].concat(t))}function hd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSEnumMember"].concat(t))}function md(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSModuleDeclaration"].concat(t))}function yd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSModuleBlock"].concat(t))}function gd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSImportType"].concat(t))}function vd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSImportEqualsDeclaration"].concat(t))}function bd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSExternalModuleReference"].concat(t))}function xd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSNonNullExpression"].concat(t))}function Ed(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSExportAssignment"].concat(t))}function wd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSNamespaceExportDeclaration"].concat(t))}function Sd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeAnnotation"].concat(t))}function Td(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeParameterInstantiation"].concat(t))}function jd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeParameterDeclaration"].concat(t))}function Ad(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["TSTypeParameter"].concat(t))}function Pd(){console.trace("The node type NumberLiteral has been renamed to NumericLiteral");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["NumberLiteral"].concat(t))}function kd(){console.trace("The node type RegexLiteral has been renamed to RegExpLiteral");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["RegexLiteral"].concat(t))}function Cd(){console.trace("The node type RestProperty has been renamed to RestElement");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["RestProperty"].concat(t))}function Dd(){console.trace("The node type SpreadProperty has been renamed to SpreadElement");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return el.apply(void 0,["SpreadProperty"].concat(t))}function _d(e,t){for(var r=e.value.split(/\r\n|\n|\r/),n=0,a=0;a<r.length;a++)r[a].match(/[^ \t]/)&&(n=a);for(var s="",i=0;i<r.length;i++){var o=r[i],l=0===i,c=i===r.length-1,u=i===n,p=o.replace(/\t/g," ");l||(p=p.replace(/^[ ]+/,"")),c||(p=p.replace(/[ ]+$/,"")),p&&(u||(p+=" "),s+=p)}s&&t.push(jl(s))}function Id(e){return!(!e||!Qi[e.type])}function Od(e,t,r){if(!li(e,t,r))throw new Error('Expected type "'+e+'" with option '+JSON.stringify(r)+', but instead got "'+t.type+'".')}function Nd(e,t){void 0===t&&(t={}),Od("Identifier",e,t)}function Bd(e,t){void 0===t&&(t={}),Od("RestElement",e,t)}function Fd(e){if("string"===e)return hu();if("number"===e)return au();if("undefined"===e)return Pu();if("boolean"===e)return Dc();if("function"===e)return Xc(wl("Function"));if("object"===e)return Xc(wl("Object"));if("symbol"===e)return Xc(wl("Symbol"));throw new Error("Invalid typeof value")}function Rd(e){for(var t={},r={},n=[],a=[],s=0;s<e.length;s++){var i=e[s];if(i&&!(a.indexOf(i)>=0)){if(pt(i))return[i];if(vr(i))r[i.type]=i;else if(Tt(i))n.indexOf(i.types)<0&&(e=e.concat(i.types),n.push(i.types));else if(mt(i)){var o=i.id.name;if(t[o]){var l=t[o];l.typeParameters?i.typeParameters&&(l.typeParameters.params=Rd(l.typeParameters.params.concat(i.typeParameters.params))):l=i.typeParameters}else t[o]=i}else a.push(i)}}for(var c=0,u=Object.keys(r);c<u.length;c++){var p=u[c];a.push(r[p])}for(var d=0,f=Object.keys(t);d<f.length;d++){var h=f[d];a.push(t[h])}return a}function Md(e){var t=Rd(e);return 1===t.length?t[0]:ju(t)}function Ld(e){var t=function(e){for(var t={},r={},n=[],a=[],s=0;s<e.length;s++){var i=e[s];if(i&&!(a.indexOf(i)>=0)){if(Wt(i.type))return[i];br(i)?r[i.type]=i:Ht(i)?n.indexOf(i.types)<0&&(e=e.concat(i.types),n.push(i.types)):a.push(i)}}for(var o=0,l=Object.keys(r);o<l.length;o++){var c=l[o];a.push(r[c])}for(var u=0,p=Object.keys(t);u<p.length;u++){var d=p[u];a.push(t[d])}return a}(e.map(function(e){return e.typeAnnotations}));return 1===t.length?t[0]:Qp(t)}var Ud=Function.call.bind(Object.prototype.hasOwnProperty);function Wd(e,t,r){return e&&"string"==typeof e.type?Gd(e,t,r):e}function Vd(e,t,r){return Array.isArray(e)?e.map(function(e){return Wd(e,t,r)}):Wd(e,t,r)}function Gd(e,t,r){if(void 0===t&&(t=!0),void 0===r&&(r=!1),!e)return e;var n=e.type,a={type:n};if("Identifier"===n)a.name=e.name,Ud(e,"optional")&&"boolean"==typeof e.optional&&(a.optional=e.optional),Ud(e,"typeAnnotation")&&(a.typeAnnotation=t?Vd(e.typeAnnotation,!0,r):e.typeAnnotation);else{if(!Ud(to,n))throw new Error('Unknown node type: "'+n+'"');for(var s=0,i=Object.keys(to[n]);s<i.length;s++){var o=i[s];Ud(e,o)&&(a[o]=t?"File"===n&&"comments"===o?Kd(e.comments,t,r):Vd(e[o],!0,r):e[o])}}return Ud(e,"loc")&&(a.loc=r?null:e.loc),Ud(e,"leadingComments")&&(a.leadingComments=Kd(e.leadingComments,t,r)),Ud(e,"innerComments")&&(a.innerComments=Kd(e.innerComments,t,r)),Ud(e,"trailingComments")&&(a.trailingComments=Kd(e.trailingComments,t,r)),Ud(e,"extra")&&(a.extra=Object.assign({},e.extra)),a}function Kd(e,t,r){return t&&r?function(e){return e.map(function(e){return{type:e.type,value:e.value,loc:null}})}(e):e}function Hd(e){return Gd(e,!1)}function zd(e,t,r){if(!r||!e)return e;var n=t+"Comments";return e[n]?e[n]="leading"===t?r.concat(e[n]):e[n].concat(r):e[n]=r,e}function qd(e,t,r,n){return zd(e,t,[{type:n?"CommentLine":"CommentBlock",value:r}])}function Xd(e,t,r){t&&r&&(t[e]=Array.from(new Set([].concat(t[e],r[e]).filter(Boolean))))}function Jd(e,t){Xd("innerComments",e,t)}function Yd(e,t){Xd("leadingComments",e,t)}function $d(e,t){Xd("trailingComments",e,t)}function Qd(e,t){return $d(e,t),Yd(e,t),Jd(e,t),e}function Zd(e){return Ii.forEach(function(t){e[t]=null}),e}var ef=eo.Expression,tf=eo.Binary,rf=eo.Scopable,nf=eo.BlockParent,af=eo.Block,sf=eo.Statement,of=eo.Terminatorless,lf=eo.CompletionStatement,cf=eo.Conditional,uf=eo.Loop,pf=eo.While,df=eo.ExpressionWrapper,ff=eo.For,hf=eo.ForXStatement,mf=eo.Function,yf=eo.FunctionParent,gf=eo.Pureish,vf=eo.Declaration,bf=eo.PatternLike,xf=eo.LVal,Ef=eo.TSEntityName,wf=eo.Literal,Sf=eo.Immutable,Tf=eo.UserWhitespacable,jf=eo.Method,Af=eo.ObjectMember,Pf=eo.Property,kf=eo.UnaryLike,Cf=eo.Pattern,Df=eo.Class,_f=eo.ModuleDeclaration,If=eo.ExportDeclaration,Of=eo.ModuleSpecifier,Nf=eo.Flow,Bf=eo.FlowType,Ff=eo.FlowBaseAnnotation,Rf=eo.FlowDeclaration,Mf=eo.FlowPredicate,Lf=eo.EnumBody,Uf=eo.EnumMember,Wf=eo.JSX,Vf=eo.Private,Gf=eo.TSTypeElement,Kf=eo.TSType,Hf=eo.TSBaseType;function zf(e,t){if(te(e))return e;var r=[];return oe(e)?r=[]:(er(e)||(e=sr(t)?Ml(e):yl(e)),r=[e]),ol(r)}function qf(e,t){return void 0===t&&(t="body"),e[t]=zf(e[t],e)}function Xf(e){return Ci(e=(e=(e=(e+="").replace(/[^a-zA-Z0-9$_]/g,"-")).replace(/^[-0-9]+/,"")).replace(/[-\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}))||(e="_"+e),e||"_"}function Jf(e){return"eval"!==(e=Xf(e))&&"arguments"!==e||(e="_"+e),e}function Yf(e,t){return void 0===t&&(t=e.key||e.property),!e.computed&&he(t)&&(t=jl(t.name)),t}function $f(e){if(le(e)&&(e=e.expression),$t(e))return e;if(fr(e)?e.type="ClassExpression":sr(e)&&(e.type="FunctionExpression"),!$t(e))throw new Error("cannot turn "+e.type+" to an expression");return e}function Qf(e,t,r){if(e){var n=Qi[e.type];if(n){t(e,r=r||{});for(var a,s=U(n);!(a=s()).done;){var i=e[a.value];if(Array.isArray(i))for(var o,l=U(i);!(o=l()).done;){Qf(o.value,t,r)}else Qf(i,t,r)}}}}var Zf=["tokens","start","end","loc","raw","rawValue"],eh=Ii.concat(["comments"]).concat(Zf);function th(e,t){void 0===t&&(t={});for(var r,n=U(t.preserveComments?Zf:eh);!(r=n()).done;){
var a=r.value;null!=e[a]&&(e[a]=void 0)}for(var s=0,i=Object.keys(e);s<i.length;s++){var o=i[s];"_"===o[0]&&null!=e[o]&&(e[o]=void 0)}for(var l,c=U(Object.getOwnPropertySymbols(e));!(l=c()).done;){e[l.value]=null}}function rh(e,t){return Qf(e,th,t),e}function nh(e,t){var r;return void 0===t&&(t=e.key),"method"===e.kind?nh.increment()+"":(r=he(t)?t.name:ge(t)?JSON.stringify(t.value):JSON.stringify(rh(Gd(t))),e.computed&&(r="["+r+"]"),e.static&&(r="static:"+r),r)}function ah(e,t,r){for(var n=[].concat(e),a=Object.create(null);n.length;){var s=n.shift();if(s){var i=ah.keys[s.type];if(he(s))t?(a[s.name]=a[s.name]||[]).push(s):a[s.name]=s;else if(mr(s))or(s.declaration)&&n.push(s.declaration);else{if(r){if(de(s)){n.push(s.id);continue}if(fe(s))continue}if(i)for(var o=0;o<i.length;o++){var l=i[o];s[l]&&(n=n.concat(s[l]))}}}}return a}function sh(e,t){if(null==e?void 0:e.length){var r=[],n=function e(t,r,n){for(var a,s=[],i=!0,o=U(t);!(a=o()).done;){var l=a.value;if(oe(l)||(i=!1),$t(l))s.push(l);else if(le(l))s.push(l.expression);else if(Fe(l)){if("var"!==l.kind)return;for(var c=0,u=l.declarations;c<u.length;c++){for(var p=u[c],d=ah(p),f=0,h=Object.keys(d);f<h.length;f++){var m=h[f];n.push({kind:l.kind,id:Gd(d[m])})}p.init&&s.push(rl("=",p.id,p.init))}i=!0}else if(me(l)){var y=l.consequent?e([l.consequent],r,n):r.buildUndefinedNode(),g=l.alternate?e([l.alternate],r,n):r.buildUndefinedNode();if(!y||!g)return;s.push(pl(l.test,y,g))}else if(te(l)){var v=e(l.body,r,n);if(!v)return;s.push(v)}else{if(!oe(l))return;0===t.indexOf(l)&&(i=!0)}}return i&&s.push(r.buildUndefinedNode()),1===s.length?s[0]:Ll(s)}(e,t,r);if(n){for(var a=0,s=r;a<s.length;a++){var i=s[a];t.push(i)}return n}}}function ih(e,t){if(er(e))return e;var r,n=!1;if(fr(e))n=!0,r="ClassDeclaration";else if(sr(e))n=!0,r="FunctionDeclaration";else if(Z(e))return yl(e);if(n&&!e.id&&(r=!1),!r){if(t)return!1;throw new Error("cannot turn "+e.type+" to a statement")}return e.type=r,e}nh.uid=0,nh.increment=function(){return nh.uid>=Number.MAX_SAFE_INTEGER?nh.uid=0:nh.uid++},ah.keys={DeclareClass:["id"],DeclareFunction:["id"],DeclareModule:["id"],DeclareVariable:["id"],DeclareInterface:["id"],DeclareTypeAlias:["id"],DeclareOpaqueType:["id"],InterfaceDeclaration:["id"],TypeAlias:["id"],OpaqueType:["id"],CatchClause:["param"],LabeledStatement:["label"],UnaryExpression:["argument"],AssignmentExpression:["left"],ImportSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportDefaultSpecifier:["local"],ImportDeclaration:["specifiers"],ExportSpecifier:["exported"],ExportNamespaceSpecifier:["exported"],ExportDefaultSpecifier:["exported"],FunctionDeclaration:["id","params"],FunctionExpression:["id","params"],ArrowFunctionExpression:["params"],ObjectMethod:["params"],ClassMethod:["params"],ForInStatement:["left"],ForOfStatement:["left"],ClassDeclaration:["id"],ClassExpression:["id"],RestElement:["argument"],UpdateExpression:["argument"],ObjectProperty:["value"],AssignmentPattern:["left"],ArrayPattern:["elements"],ObjectPattern:["properties"],VariableDeclaration:["declarations"],VariableDeclarator:["id"]};var oh=Function.prototype,lh=Object.prototype,ch=oh.toString,uh=lh.hasOwnProperty,ph=ch.call(Object);var dh=function(e){if(!Xn(e)||"[object Object]"!=en(e))return!1;var t=Ra(e);if(null===t)return!0;var r=uh.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ch.call(r)==ph};var fh=function(e){return Xn(e)&&"[object RegExp]"==en(e)},hh=ca&&ca.isRegExp,mh=hh?la(hh):fh;function yh(e){if(void 0===e)return wl("undefined");if(!0===e||!1===e)return kl(e);if(null===e)return Pl();if("string"==typeof e)return jl(e);if("number"==typeof e){var t;if(Number.isFinite(e))t=Al(Math.abs(e));else t=nl("/",Number.isNaN(e)?Al(0):Al(1),Al(0));return(e<0||Object.is(e,-0))&&(t=zl("-",t)),t}if(mh(e))return Cl(e.source,e.toString().match(/\/([a-z]+|)$/)[1]);if(Array.isArray(e))return tl(e.map(yh));if(dh(e)){for(var r=[],n=0,a=Object.keys(e);n<a.length;n++){var s=a[n],i=void 0;i=Ci(s)?wl(s):jl(s),r.push(Fl(i,yh(e[s])))}return Nl(r)}throw new Error("don't know how to turn this value into a node")}function gh(e,t){if(!e||!t)return e;for(var r=0,n=zi.optional;r<n.length;r++){var a=n[r];null==e[a]&&(e[a]=t[a])}for(var s=0,i=Object.keys(t);s<i.length;s++){var o=i[s];"_"===o[0]&&"__clone"!==o&&(e[o]=t[o])}for(var l=0,c=zi.force;l<c.length;l++){var u=c[l];e[u]=t[u]}return Qd(e,t),e}function vh(e,t){return ah(e,t,!0)}function bh(e,t,r){"function"==typeof t&&(t={enter:t});var n=t;!function e(t,r,n,a,s){var i=Qi[t.type];if(!i)return;r&&r(t,s,a);for(var o,l=U(i);!(o=l()).done;){var c=o.value,u=t[c];if(Array.isArray(u))for(var p=0;p<u.length;p++){var d=u[p];d&&(s.push({node:t,key:c,index:p}),e(d,r,n,a,s),s.pop())}else u&&(s.push({node:t,key:c}),e(u,r,n,a,s),s.pop())}n&&n(t,s,a)}(e,n.enter,n.exit,r,[])}function xh(e,t,r){if(r&&"Identifier"===e.type&&"ObjectProperty"===t.type&&"ObjectExpression"===r.type)return!1;var n=ah.keys[t.type];if(n)for(var a=0;a<n.length;a++){var s=t[n[a]];if(Array.isArray(s)){if(s.indexOf(e)>=0)return!0}else if(s===e)return!0}return!1}function Eh(e){return Fe(e)&&("var"!==e.kind||e[qi])}function wh(e){return de(e)||Ke(e)||Eh(e)}function Sh(e,t,r){switch(t.type){case"MemberExpression":case"JSXMemberExpression":case"OptionalMemberExpression":return t.property===e?!!t.computed:t.object===e;case"VariableDeclarator":return t.init===e;case"ArrowFunctionExpression":return t.body===e;case"ExportSpecifier":return!t.source&&t.local===e;case"PrivateName":return!1;case"ClassMethod":case"ClassPrivateMethod":case"ObjectMethod":if(t.params.includes(e))return!1;case"ObjectProperty":case"ClassProperty":case"ClassPrivateProperty":return t.key===e?!!t.computed:t.value!==e||(!r||"ObjectPattern"!==r.type);case"ClassDeclaration":case"ClassExpression":return t.superClass===e;case"AssignmentExpression":case"AssignmentPattern":return t.right===e;case"LabeledStatement":case"CatchClause":case"RestElement":return!1;case"BreakStatement":case"ContinueStatement":return!1;case"FunctionDeclaration":case"FunctionExpression":return!1;case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":return!1;case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"JSXAttribute":return!1;case"ObjectPattern":case"ArrayPattern":case"MetaProperty":return!1;case"ObjectTypeProperty":return t.key!==e;case"TSEnumMember":return t.id!==e;case"TSPropertySignature":return t.key!==e||!!t.computed}return!0}function Th(e,t){return(!te(e)||!sr(t)&&!ae(t))&&(!(!dr(e)||!sr(t)&&!ae(t))||Zt(e))}var jh=new Set(["abstract","boolean","byte","char","double","enum","final","float","goto","implements","int","interface","long","native","package","private","protected","public","short","static","synchronized","throws","transient","volatile"]);function Ah(e){return Ci(e)&&!jh.has(e)}function Ph(e){return Fe(e,{kind:"var"})&&!e[qi]}var kh={isReactComponent:wr,isCompatTag:function(e){return!!e&&/^[a-z]/.test(e)},buildChildren:function(e){for(var t=[],r=0;r<e.children.length;r++){var n=e.children[r];Nt(n)?_d(n,t):(Ct(n)&&(n=n.expression),kt(n)||t.push(n))}return t}},Ch=Object.freeze({__proto__:null,react:kh,assertNode:function(e){if(!Id(e)){var t,r=null!=(t=null==e?void 0:e.type)?t:JSON.stringify(e);throw new TypeError('Not a valid node of type "'+r+'"')}},createTypeAnnotationBasedOnTypeof:Fd,createUnionTypeAnnotation:Md,createFlowUnionType:Md,createTSUnionType:Ld,cloneNode:Gd,clone:Hd,cloneDeep:function(e){return Gd(e)},cloneDeepWithoutLoc:function(e){return Gd(e,!0,!0)},cloneWithoutLoc:function(e){return Gd(e,!1,!0)},addComment:qd,addComments:zd,inheritInnerComments:Jd,inheritLeadingComments:Yd,inheritsComments:Qd,inheritTrailingComments:$d,removeComments:Zd,ensureBlock:qf,toBindingIdentifierName:Jf,toBlock:zf,toComputedKey:Yf,toExpression:$f,toIdentifier:Xf,toKeyAlias:nh,toSequenceExpression:sh,toStatement:ih,valueToNode:yh,appendToMemberExpression:function(e,t,r){return void 0===r&&(r=!1),e.object=_l(e.object,e.property,e.computed),e.property=t,e.computed=!!r,e},inherits:gh,prependToMemberExpression:function(e,t){return e.object=_l(t,e.object),e},removeProperties:th,removePropertiesDeep:rh,removeTypeDuplicates:Rd,getBindingIdentifiers:ah,getOuterBindingIdentifiers:vh,traverse:bh,traverseFast:Qf,shallowEqual:$,is:li,isBinding:xh,isBlockScoped:wh,isImmutable:function(e){return!!ii(e.type,"Immutable")||!!he(e)&&"undefined"===e.name},isLet:Eh,isNode:Id,isNodesEquivalent:function e(t,r){if("object"!=typeof t||"object"!=typeof r||null==t||null==r)return t===r;if(t.type!==r.type)return!1;for(var n=Object.keys(to[t.type]||t.type),a=Qi[t.type],s=0,i=n;s<i.length;s++){var o=i[s];if(typeof t[o]!=typeof r[o])return!1;if(null!=t[o]||null!=r[o]){if(null==t[o]||null==r[o])return!1;if(Array.isArray(t[o])){if(!Array.isArray(r[o]))return!1;if(t[o].length!==r[o].length)return!1;for(var l=0;l<t[o].length;l++)if(!e(t[o][l],r[o][l]))return!1}else if("object"!=typeof t[o]||(null==a?void 0:a.includes(o))){if(!e(t[o],r[o]))return!1}else for(var c=0,u=Object.keys(t[o]);c<u.length;c++){var p=u[c];if(t[o][p]!==r[o][p])return!1}}}return!0},isPlaceholderType:oi,isReferenced:Sh,isScope:Th,isSpecifierDefault:function(e){return Ye(e)||he(e.imported||e.exported,{name:"default"})},isType:ii,isValidES3Identifier:Ah,isValidIdentifier:Ci,isVar:Ph,matchesPattern:xr,validate:Ji,buildMatchMemberExpression:Er,assertArrayExpression:function(e,t){void 0===t&&(t={}),Od("ArrayExpression",e,t)},assertAssignmentExpression:function(e,t){void 0===t&&(t={}),Od("AssignmentExpression",e,t)},assertBinaryExpression:function(e,t){void 0===t&&(t={}),Od("BinaryExpression",e,t)},assertInterpreterDirective:function(e,t){void 0===t&&(t={}),Od("InterpreterDirective",e,t)},assertDirective:function(e,t){void 0===t&&(t={}),Od("Directive",e,t)},assertDirectiveLiteral:function(e,t){void 0===t&&(t={}),Od("DirectiveLiteral",e,t)},assertBlockStatement:function(e,t){void 0===t&&(t={}),Od("BlockStatement",e,t)},assertBreakStatement:function(e,t){void 0===t&&(t={}),Od("BreakStatement",e,t)},assertCallExpression:function(e,t){void 0===t&&(t={}),Od("CallExpression",e,t)},assertCatchClause:function(e,t){void 0===t&&(t={}),Od("CatchClause",e,t)},assertConditionalExpression:function(e,t){void 0===t&&(t={}),Od("ConditionalExpression",e,t)},assertContinueStatement:function(e,t){void 0===t&&(t={}),Od("ContinueStatement",e,t)},assertDebuggerStatement:function(e,t){void 0===t&&(t={}),Od("DebuggerStatement",e,t)},assertDoWhileStatement:function(e,t){void 0===t&&(t={}),Od("DoWhileStatement",e,t)},assertEmptyStatement:function(e,t){void 0===t&&(t={}),Od("EmptyStatement",e,t)},assertExpressionStatement:function(e,t){void 0===t&&(t={}),Od("ExpressionStatement",e,t)},assertFile:function(e,t){void 0===t&&(t={}),Od("File",e,t)},assertForInStatement:function(e,t){void 0===t&&(t={}),Od("ForInStatement",e,t)},assertForStatement:function(e,t){void 0===t&&(t={}),Od("ForStatement",e,t)},assertFunctionDeclaration:function(e,t){void 0===t&&(t={}),Od("FunctionDeclaration",e,t)},assertFunctionExpression:function(e,t){void 0===t&&(t={}),Od("FunctionExpression",e,t)},assertIdentifier:Nd,assertIfStatement:function(e,t){void 0===t&&(t={}),Od("IfStatement",e,t)},assertLabeledStatement:function(e,t){void 0===t&&(t={}),Od("LabeledStatement",e,t)},assertStringLiteral:function(e,t){void 0===t&&(t={}),Od("StringLiteral",e,t)},assertNumericLiteral:function(e,t){void 0===t&&(t={}),Od("NumericLiteral",e,t)},assertNullLiteral:function(e,t){void 0===t&&(t={}),Od("NullLiteral",e,t)},assertBooleanLiteral:function(e,t){void 0===t&&(t={}),Od("BooleanLiteral",e,t)},assertRegExpLiteral:function(e,t){void 0===t&&(t={}),Od("RegExpLiteral",e,t)},assertLogicalExpression:function(e,t){void 0===t&&(t={}),Od("LogicalExpression",e,t)},assertMemberExpression:function(e,t){void 0===t&&(t={}),Od("MemberExpression",e,t)},assertNewExpression:function(e,t){void 0===t&&(t={}),Od("NewExpression",e,t)},assertProgram:function(e,t){void 0===t&&(t={}),Od("Program",e,t)},assertObjectExpression:function(e,t){void 0===t&&(t={}),Od("ObjectExpression",e,t)},assertObjectMethod:function(e,t){void 0===t&&(t={}),Od("ObjectMethod",e,t)},assertObjectProperty:function(e,t){void 0===t&&(t={}),Od("ObjectProperty",e,t)},assertRestElement:Bd,assertReturnStatement:function(e,t){void 0===t&&(t={}),Od("ReturnStatement",e,t)},assertSequenceExpression:function(e,t){void 0===t&&(t={}),Od("SequenceExpression",e,t)},assertParenthesizedExpression:function(e,t){void 0===t&&(t={}),Od("ParenthesizedExpression",e,t)},assertSwitchCase:function(e,t){void 0===t&&(t={}),Od("SwitchCase",e,t)},assertSwitchStatement:function(e,t){void 0===t&&(t={}),Od("SwitchStatement",e,t)},assertThisExpression:function(e,t){void 0===t&&(t={}),Od("ThisExpression",e,t)},assertThrowStatement:function(e,t){void 0===t&&(t={}),Od("ThrowStatement",e,t)},assertTryStatement:function(e,t){void 0===t&&(t={}),Od("TryStatement",e,t)},assertUnaryExpression:function(e,t){void 0===t&&(t={}),Od("UnaryExpression",e,t)},assertUpdateExpression:function(e,t){void 0===t&&(t={}),Od("UpdateExpression",e,t)},assertVariableDeclaration:function(e,t){void 0===t&&(t={}),Od("VariableDeclaration",e,t)},assertVariableDeclarator:function(e,t){void 0===t&&(t={}),Od("VariableDeclarator",e,t)},assertWhileStatement:function(e,t){void 0===t&&(t={}),Od("WhileStatement",e,t)},assertWithStatement:function(e,t){void 0===t&&(t={}),Od("WithStatement",e,t)},assertAssignmentPattern:function(e,t){void 0===t&&(t={}),Od("AssignmentPattern",e,t)},assertArrayPattern:function(e,t){void 0===t&&(t={}),Od("ArrayPattern",e,t)},assertArrowFunctionExpression:function(e,t){void 0===t&&(t={}),Od("ArrowFunctionExpression",e,t)},assertClassBody:function(e,t){void 0===t&&(t={}),Od("ClassBody",e,t)},assertClassExpression:function(e,t){void 0===t&&(t={}),Od("ClassExpression",e,t)},assertClassDeclaration:function(e,t){void 0===t&&(t={}),Od("ClassDeclaration",e,t)},assertExportAllDeclaration:function(e,t){void 0===t&&(t={}),Od("ExportAllDeclaration",e,t)},assertExportDefaultDeclaration:function(e,t){void 0===t&&(t={}),Od("ExportDefaultDeclaration",e,t)},assertExportNamedDeclaration:function(e,t){void 0===t&&(t={}),Od("ExportNamedDeclaration",e,t)},assertExportSpecifier:function(e,t){void 0===t&&(t={}),Od("ExportSpecifier",e,t)},assertForOfStatement:function(e,t){void 0===t&&(t={}),Od("ForOfStatement",e,t)},assertImportDeclaration:function(e,t){void 0===t&&(t={}),Od("ImportDeclaration",e,t)},assertImportDefaultSpecifier:function(e,t){void 0===t&&(t={}),Od("ImportDefaultSpecifier",e,t)},assertImportNamespaceSpecifier:function(e,t){void 0===t&&(t={}),Od("ImportNamespaceSpecifier",e,t)},assertImportSpecifier:function(e,t){void 0===t&&(t={}),Od("ImportSpecifier",e,t)},assertMetaProperty:function(e,t){void 0===t&&(t={}),Od("MetaProperty",e,t)},assertClassMethod:function(e,t){void 0===t&&(t={}),Od("ClassMethod",e,t)},assertObjectPattern:function(e,t){void 0===t&&(t={}),Od("ObjectPattern",e,t)},assertSpreadElement:function(e,t){void 0===t&&(t={}),Od("SpreadElement",e,t)},assertSuper:function(e,t){void 0===t&&(t={}),Od("Super",e,t)},assertTaggedTemplateExpression:function(e,t){void 0===t&&(t={}),Od("TaggedTemplateExpression",e,t)},assertTemplateElement:function(e,t){void 0===t&&(t={}),Od("TemplateElement",e,t)},assertTemplateLiteral:function(e,t){void 0===t&&(t={}),Od("TemplateLiteral",e,t)},assertYieldExpression:function(e,t){void 0===t&&(t={}),Od("YieldExpression",e,t)},assertAwaitExpression:function(e,t){void 0===t&&(t={}),Od("AwaitExpression",e,t)},assertImport:function(e,t){void 0===t&&(t={}),Od("Import",e,t)},assertBigIntLiteral:function(e,t){void 0===t&&(t={}),Od("BigIntLiteral",e,t)},assertExportNamespaceSpecifier:function(e,t){void 0===t&&(t={}),Od("ExportNamespaceSpecifier",e,t)},assertOptionalMemberExpression:function(e,t){void 0===t&&(t={}),Od("OptionalMemberExpression",e,t)},assertOptionalCallExpression:function(e,t){void 0===t&&(t={}),Od("OptionalCallExpression",e,t)},assertAnyTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("AnyTypeAnnotation",e,t)},assertArrayTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("ArrayTypeAnnotation",e,t)},assertBooleanTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("BooleanTypeAnnotation",e,t)},assertBooleanLiteralTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("BooleanLiteralTypeAnnotation",e,t)},assertNullLiteralTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("NullLiteralTypeAnnotation",e,t)},assertClassImplements:function(e,t){void 0===t&&(t={}),Od("ClassImplements",e,t)},assertDeclareClass:function(e,t){void 0===t&&(t={}),Od("DeclareClass",e,t)},assertDeclareFunction:function(e,t){void 0===t&&(t={}),Od("DeclareFunction",e,t)},assertDeclareInterface:function(e,t){void 0===t&&(t={}),Od("DeclareInterface",e,t)},assertDeclareModule:function(e,t){void 0===t&&(t={}),Od("DeclareModule",e,t)},assertDeclareModuleExports:function(e,t){void 0===t&&(t={}),Od("DeclareModuleExports",e,t)},assertDeclareTypeAlias:function(e,t){void 0===t&&(t={}),Od("DeclareTypeAlias",e,t)},assertDeclareOpaqueType:function(e,t){void 0===t&&(t={}),Od("DeclareOpaqueType",e,t)},assertDeclareVariable:function(e,t){void 0===t&&(t={}),Od("DeclareVariable",e,t)},assertDeclareExportDeclaration:function(e,t){void 0===t&&(t={}),Od("DeclareExportDeclaration",e,t)},assertDeclareExportAllDeclaration:function(e,t){void 0===t&&(t={}),Od("DeclareExportAllDeclaration",e,t)},assertDeclaredPredicate:function(e,t){void 0===t&&(t={}),Od("DeclaredPredicate",e,t)},assertExistsTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("ExistsTypeAnnotation",e,t)},assertFunctionTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("FunctionTypeAnnotation",e,t)},assertFunctionTypeParam:function(e,t){void 0===t&&(t={}),Od("FunctionTypeParam",e,t)},assertGenericTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("GenericTypeAnnotation",e,t)},assertInferredPredicate:function(e,t){void 0===t&&(t={}),Od("InferredPredicate",e,t)},assertInterfaceExtends:function(e,t){void 0===t&&(t={}),Od("InterfaceExtends",e,t)},assertInterfaceDeclaration:function(e,t){void 0===t&&(t={}),Od("InterfaceDeclaration",e,t)},assertInterfaceTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("InterfaceTypeAnnotation",e,t)},assertIntersectionTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("IntersectionTypeAnnotation",e,t)},assertMixedTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("MixedTypeAnnotation",e,t)},assertEmptyTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("EmptyTypeAnnotation",e,t)},assertNullableTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("NullableTypeAnnotation",e,t)},assertNumberLiteralTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("NumberLiteralTypeAnnotation",e,t)},assertNumberTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("NumberTypeAnnotation",e,t)},assertObjectTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("ObjectTypeAnnotation",e,t)},assertObjectTypeInternalSlot:function(e,t){void 0===t&&(t={}),Od("ObjectTypeInternalSlot",e,t)},assertObjectTypeCallProperty:function(e,t){void 0===t&&(t={}),Od("ObjectTypeCallProperty",e,t)},assertObjectTypeIndexer:function(e,t){void 0===t&&(t={}),Od("ObjectTypeIndexer",e,t)},assertObjectTypeProperty:function(e,t){void 0===t&&(t={}),Od("ObjectTypeProperty",e,t)},assertObjectTypeSpreadProperty:function(e,t){void 0===t&&(t={}),Od("ObjectTypeSpreadProperty",e,t)},assertOpaqueType:function(e,t){void 0===t&&(t={}),Od("OpaqueType",e,t)},assertQualifiedTypeIdentifier:function(e,t){void 0===t&&(t={}),Od("QualifiedTypeIdentifier",e,t)},assertStringLiteralTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("StringLiteralTypeAnnotation",e,t)},assertStringTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("StringTypeAnnotation",e,t)},assertSymbolTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("SymbolTypeAnnotation",e,t)},assertThisTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("ThisTypeAnnotation",e,t)},assertTupleTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("TupleTypeAnnotation",e,t)},assertTypeofTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("TypeofTypeAnnotation",e,t)},assertTypeAlias:function(e,t){void 0===t&&(t={}),Od("TypeAlias",e,t)},assertTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("TypeAnnotation",e,t)},assertTypeCastExpression:function(e,t){void 0===t&&(t={}),Od("TypeCastExpression",e,t)},assertTypeParameter:function(e,t){void 0===t&&(t={}),Od("TypeParameter",e,t)},assertTypeParameterDeclaration:function(e,t){void 0===t&&(t={}),Od("TypeParameterDeclaration",e,t)},assertTypeParameterInstantiation:function(e,t){void 0===t&&(t={}),Od("TypeParameterInstantiation",e,t)},assertUnionTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("UnionTypeAnnotation",e,t)},assertVariance:function(e,t){void 0===t&&(t={}),Od("Variance",e,t)},assertVoidTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("VoidTypeAnnotation",e,t)},assertEnumDeclaration:function(e,t){void 0===t&&(t={}),Od("EnumDeclaration",e,t)},assertEnumBooleanBody:function(e,t){void 0===t&&(t={}),Od("EnumBooleanBody",e,t)},assertEnumNumberBody:function(e,t){void 0===t&&(t={}),Od("EnumNumberBody",e,t)},assertEnumStringBody:function(e,t){void 0===t&&(t={}),Od("EnumStringBody",e,t)},assertEnumSymbolBody:function(e,t){void 0===t&&(t={}),Od("EnumSymbolBody",e,t)},assertEnumBooleanMember:function(e,t){void 0===t&&(t={}),Od("EnumBooleanMember",e,t)},assertEnumNumberMember:function(e,t){void 0===t&&(t={}),Od("EnumNumberMember",e,t)},assertEnumStringMember:function(e,t){void 0===t&&(t={}),Od("EnumStringMember",e,t)},assertEnumDefaultedMember:function(e,t){void 0===t&&(t={}),Od("EnumDefaultedMember",e,t)},assertJSXAttribute:function(e,t){void 0===t&&(t={}),Od("JSXAttribute",e,t)},assertJSXClosingElement:function(e,t){void 0===t&&(t={}),Od("JSXClosingElement",e,t)},assertJSXElement:function(e,t){void 0===t&&(t={}),Od("JSXElement",e,t)},assertJSXEmptyExpression:function(e,t){void 0===t&&(t={}),Od("JSXEmptyExpression",e,t)},assertJSXExpressionContainer:function(e,t){void 0===t&&(t={}),Od("JSXExpressionContainer",e,t)},assertJSXSpreadChild:function(e,t){void 0===t&&(t={}),Od("JSXSpreadChild",e,t)},assertJSXIdentifier:function(e,t){void 0===t&&(t={}),Od("JSXIdentifier",e,t)},assertJSXMemberExpression:function(e,t){void 0===t&&(t={}),Od("JSXMemberExpression",e,t)},assertJSXNamespacedName:function(e,t){void 0===t&&(t={}),Od("JSXNamespacedName",e,t)},assertJSXOpeningElement:function(e,t){void 0===t&&(t={}),Od("JSXOpeningElement",e,t)},assertJSXSpreadAttribute:function(e,t){void 0===t&&(t={}),Od("JSXSpreadAttribute",e,t)},assertJSXText:function(e,t){void 0===t&&(t={}),Od("JSXText",e,t)},assertJSXFragment:function(e,t){void 0===t&&(t={}),Od("JSXFragment",e,t)},assertJSXOpeningFragment:function(e,t){void 0===t&&(t={}),Od("JSXOpeningFragment",e,t)},assertJSXClosingFragment:function(e,t){void 0===t&&(t={}),Od("JSXClosingFragment",e,t)},assertNoop:function(e,t){void 0===t&&(t={}),Od("Noop",e,t)},assertPlaceholder:function(e,t){void 0===t&&(t={}),Od("Placeholder",e,t)},assertV8IntrinsicIdentifier:function(e,t){void 0===t&&(t={}),Od("V8IntrinsicIdentifier",e,t)},assertArgumentPlaceholder:function(e,t){void 0===t&&(t={}),Od("ArgumentPlaceholder",e,t)},assertBindExpression:function(e,t){void 0===t&&(t={}),Od("BindExpression",e,t)},assertClassProperty:function(e,t){void 0===t&&(t={}),Od("ClassProperty",e,t)},assertPipelineTopicExpression:function(e,t){void 0===t&&(t={}),Od("PipelineTopicExpression",e,t)},assertPipelineBareFunction:function(e,t){void 0===t&&(t={}),Od("PipelineBareFunction",e,t)},assertPipelinePrimaryTopicReference:function(e,t){void 0===t&&(t={}),Od("PipelinePrimaryTopicReference",e,t)},assertClassPrivateProperty:function(e,t){void 0===t&&(t={}),Od("ClassPrivateProperty",e,t)},assertClassPrivateMethod:function(e,t){void 0===t&&(t={}),Od("ClassPrivateMethod",e,t)},assertImportAttribute:function(e,t){void 0===t&&(t={}),Od("ImportAttribute",e,t)},assertDecorator:function(e,t){void 0===t&&(t={}),Od("Decorator",e,t)},assertDoExpression:function(e,t){void 0===t&&(t={}),Od("DoExpression",e,t)},assertExportDefaultSpecifier:function(e,t){void 0===t&&(t={}),Od("ExportDefaultSpecifier",e,t)},assertPrivateName:function(e,t){void 0===t&&(t={}),Od("PrivateName",e,t)},assertRecordExpression:function(e,t){void 0===t&&(t={}),Od("RecordExpression",e,t)},assertTupleExpression:function(e,t){void 0===t&&(t={}),Od("TupleExpression",e,t)},assertDecimalLiteral:function(e,t){void 0===t&&(t={}),Od("DecimalLiteral",e,t)},assertStaticBlock:function(e,t){void 0===t&&(t={}),Od("StaticBlock",e,t)},assertTSParameterProperty:function(e,t){void 0===t&&(t={}),Od("TSParameterProperty",e,t)},assertTSDeclareFunction:function(e,t){void 0===t&&(t={}),Od("TSDeclareFunction",e,t)},assertTSDeclareMethod:function(e,t){void 0===t&&(t={}),Od("TSDeclareMethod",e,t)},assertTSQualifiedName:function(e,t){void 0===t&&(t={}),Od("TSQualifiedName",e,t)},assertTSCallSignatureDeclaration:function(e,t){void 0===t&&(t={}),Od("TSCallSignatureDeclaration",e,t)},assertTSConstructSignatureDeclaration:function(e,t){void 0===t&&(t={}),Od("TSConstructSignatureDeclaration",e,t)},assertTSPropertySignature:function(e,t){void 0===t&&(t={}),Od("TSPropertySignature",e,t)},assertTSMethodSignature:function(e,t){void 0===t&&(t={}),Od("TSMethodSignature",e,t)},assertTSIndexSignature:function(e,t){void 0===t&&(t={}),Od("TSIndexSignature",e,t)},assertTSAnyKeyword:function(e,t){void 0===t&&(t={}),Od("TSAnyKeyword",e,t)},assertTSBooleanKeyword:function(e,t){void 0===t&&(t={}),Od("TSBooleanKeyword",e,t)},assertTSBigIntKeyword:function(e,t){void 0===t&&(t={}),Od("TSBigIntKeyword",e,t)},assertTSIntrinsicKeyword:function(e,t){void 0===t&&(t={}),Od("TSIntrinsicKeyword",e,t)},assertTSNeverKeyword:function(e,t){void 0===t&&(t={}),Od("TSNeverKeyword",e,t)},assertTSNullKeyword:function(e,t){void 0===t&&(t={}),Od("TSNullKeyword",e,t)},assertTSNumberKeyword:function(e,t){void 0===t&&(t={}),Od("TSNumberKeyword",e,t)},assertTSObjectKeyword:function(e,t){void 0===t&&(t={}),Od("TSObjectKeyword",e,t)},assertTSStringKeyword:function(e,t){void 0===t&&(t={}),Od("TSStringKeyword",e,t)},assertTSSymbolKeyword:function(e,t){void 0===t&&(t={}),Od("TSSymbolKeyword",e,t)},assertTSUndefinedKeyword:function(e,t){void 0===t&&(t={}),Od("TSUndefinedKeyword",e,t)},assertTSUnknownKeyword:function(e,t){void 0===t&&(t={}),Od("TSUnknownKeyword",e,t)},assertTSVoidKeyword:function(e,t){void 0===t&&(t={}),Od("TSVoidKeyword",e,t)},assertTSThisType:function(e,t){void 0===t&&(t={}),Od("TSThisType",e,t)},assertTSFunctionType:function(e,t){void 0===t&&(t={}),Od("TSFunctionType",e,t)},assertTSConstructorType:function(e,t){void 0===t&&(t={}),Od("TSConstructorType",e,t)},assertTSTypeReference:function(e,t){void 0===t&&(t={}),Od("TSTypeReference",e,t)},assertTSTypePredicate:function(e,t){void 0===t&&(t={}),Od("TSTypePredicate",e,t)},assertTSTypeQuery:function(e,t){void 0===t&&(t={}),Od("TSTypeQuery",e,t)},assertTSTypeLiteral:function(e,t){void 0===t&&(t={}),Od("TSTypeLiteral",e,t)},assertTSArrayType:function(e,t){void 0===t&&(t={}),Od("TSArrayType",e,t)},assertTSTupleType:function(e,t){void 0===t&&(t={}),Od("TSTupleType",e,t)},assertTSOptionalType:function(e,t){void 0===t&&(t={}),Od("TSOptionalType",e,t)},assertTSRestType:function(e,t){void 0===t&&(t={}),Od("TSRestType",e,t)},assertTSNamedTupleMember:function(e,t){void 0===t&&(t={}),Od("TSNamedTupleMember",e,t)},assertTSUnionType:function(e,t){void 0===t&&(t={}),Od("TSUnionType",e,t)},assertTSIntersectionType:function(e,t){void 0===t&&(t={}),Od("TSIntersectionType",e,t)},assertTSConditionalType:function(e,t){void 0===t&&(t={}),Od("TSConditionalType",e,t)},assertTSInferType:function(e,t){void 0===t&&(t={}),Od("TSInferType",e,t)},assertTSParenthesizedType:function(e,t){void 0===t&&(t={}),Od("TSParenthesizedType",e,t)},assertTSTypeOperator:function(e,t){void 0===t&&(t={}),Od("TSTypeOperator",e,t)},assertTSIndexedAccessType:function(e,t){void 0===t&&(t={}),Od("TSIndexedAccessType",e,t)},assertTSMappedType:function(e,t){void 0===t&&(t={}),Od("TSMappedType",e,t)},assertTSLiteralType:function(e,t){void 0===t&&(t={}),Od("TSLiteralType",e,t)},assertTSExpressionWithTypeArguments:function(e,t){void 0===t&&(t={}),Od("TSExpressionWithTypeArguments",e,t)},assertTSInterfaceDeclaration:function(e,t){void 0===t&&(t={}),Od("TSInterfaceDeclaration",e,t)},assertTSInterfaceBody:function(e,t){void 0===t&&(t={}),Od("TSInterfaceBody",e,t)},assertTSTypeAliasDeclaration:function(e,t){void 0===t&&(t={}),Od("TSTypeAliasDeclaration",e,t)},assertTSAsExpression:function(e,t){void 0===t&&(t={}),Od("TSAsExpression",e,t)},assertTSTypeAssertion:function(e,t){void 0===t&&(t={}),Od("TSTypeAssertion",e,t)},assertTSEnumDeclaration:function(e,t){void 0===t&&(t={}),Od("TSEnumDeclaration",e,t)},assertTSEnumMember:function(e,t){void 0===t&&(t={}),Od("TSEnumMember",e,t)},assertTSModuleDeclaration:function(e,t){void 0===t&&(t={}),Od("TSModuleDeclaration",e,t)},assertTSModuleBlock:function(e,t){void 0===t&&(t={}),Od("TSModuleBlock",e,t)},assertTSImportType:function(e,t){void 0===t&&(t={}),Od("TSImportType",e,t)},assertTSImportEqualsDeclaration:function(e,t){void 0===t&&(t={}),Od("TSImportEqualsDeclaration",e,t)},assertTSExternalModuleReference:function(e,t){void 0===t&&(t={}),Od("TSExternalModuleReference",e,t)},assertTSNonNullExpression:function(e,t){void 0===t&&(t={}),Od("TSNonNullExpression",e,t)},assertTSExportAssignment:function(e,t){void 0===t&&(t={}),Od("TSExportAssignment",e,t)},assertTSNamespaceExportDeclaration:function(e,t){void 0===t&&(t={}),Od("TSNamespaceExportDeclaration",e,t)},assertTSTypeAnnotation:function(e,t){void 0===t&&(t={}),Od("TSTypeAnnotation",e,t)},assertTSTypeParameterInstantiation:function(e,t){void 0===t&&(t={}),Od("TSTypeParameterInstantiation",e,t)},assertTSTypeParameterDeclaration:function(e,t){void 0===t&&(t={}),Od("TSTypeParameterDeclaration",e,t)},assertTSTypeParameter:function(e,t){void 0===t&&(t={}),Od("TSTypeParameter",e,t)},assertExpression:function(e,t){void 0===t&&(t={}),Od("Expression",e,t)},assertBinary:function(e,t){void 0===t&&(t={}),Od("Binary",e,t)},assertScopable:function(e,t){void 0===t&&(t={}),Od("Scopable",e,t)},assertBlockParent:function(e,t){void 0===t&&(t={}),Od("BlockParent",e,t)},assertBlock:function(e,t){void 0===t&&(t={}),Od("Block",e,t)},assertStatement:function(e,t){void 0===t&&(t={}),Od("Statement",e,t)},assertTerminatorless:function(e,t){void 0===t&&(t={}),Od("Terminatorless",e,t)},assertCompletionStatement:function(e,t){void 0===t&&(t={}),Od("CompletionStatement",e,t)},assertConditional:function(e,t){void 0===t&&(t={}),Od("Conditional",e,t)},assertLoop:function(e,t){void 0===t&&(t={}),Od("Loop",e,t)},assertWhile:function(e,t){void 0===t&&(t={}),Od("While",e,t)},assertExpressionWrapper:function(e,t){void 0===t&&(t={}),Od("ExpressionWrapper",e,t)},assertFor:function(e,t){void 0===t&&(t={}),Od("For",e,t)},assertForXStatement:function(e,t){void 0===t&&(t={}),Od("ForXStatement",e,t)},assertFunction:function(e,t){void 0===t&&(t={}),Od("Function",e,t)},assertFunctionParent:function(e,t){void 0===t&&(t={}),Od("FunctionParent",e,t)},assertPureish:function(e,t){void 0===t&&(t={}),Od("Pureish",e,t)},assertDeclaration:function(e,t){void 0===t&&(t={}),Od("Declaration",e,t)},assertPatternLike:function(e,t){void 0===t&&(t={}),Od("PatternLike",e,t)},assertLVal:function(e,t){void 0===t&&(t={}),Od("LVal",e,t)},assertTSEntityName:function(e,t){void 0===t&&(t={}),Od("TSEntityName",e,t)},assertLiteral:function(e,t){void 0===t&&(t={}),Od("Literal",e,t)},assertImmutable:function(e,t){void 0===t&&(t={}),Od("Immutable",e,t)},assertUserWhitespacable:function(e,t){void 0===t&&(t={}),Od("UserWhitespacable",e,t)},assertMethod:function(e,t){void 0===t&&(t={}),Od("Method",e,t)},assertObjectMember:function(e,t){void 0===t&&(t={}),Od("ObjectMember",e,t)},assertProperty:function(e,t){void 0===t&&(t={}),Od("Property",e,t)},assertUnaryLike:function(e,t){void 0===t&&(t={}),Od("UnaryLike",e,t)},assertPattern:function(e,t){void 0===t&&(t={}),Od("Pattern",e,t)},assertClass:function(e,t){void 0===t&&(t={}),Od("Class",e,t)},
assertModuleDeclaration:function(e,t){void 0===t&&(t={}),Od("ModuleDeclaration",e,t)},assertExportDeclaration:function(e,t){void 0===t&&(t={}),Od("ExportDeclaration",e,t)},assertModuleSpecifier:function(e,t){void 0===t&&(t={}),Od("ModuleSpecifier",e,t)},assertFlow:function(e,t){void 0===t&&(t={}),Od("Flow",e,t)},assertFlowType:function(e,t){void 0===t&&(t={}),Od("FlowType",e,t)},assertFlowBaseAnnotation:function(e,t){void 0===t&&(t={}),Od("FlowBaseAnnotation",e,t)},assertFlowDeclaration:function(e,t){void 0===t&&(t={}),Od("FlowDeclaration",e,t)},assertFlowPredicate:function(e,t){void 0===t&&(t={}),Od("FlowPredicate",e,t)},assertEnumBody:function(e,t){void 0===t&&(t={}),Od("EnumBody",e,t)},assertEnumMember:function(e,t){void 0===t&&(t={}),Od("EnumMember",e,t)},assertJSX:function(e,t){void 0===t&&(t={}),Od("JSX",e,t)},assertPrivate:function(e,t){void 0===t&&(t={}),Od("Private",e,t)},assertTSTypeElement:function(e,t){void 0===t&&(t={}),Od("TSTypeElement",e,t)},assertTSType:function(e,t){void 0===t&&(t={}),Od("TSType",e,t)},assertTSBaseType:function(e,t){void 0===t&&(t={}),Od("TSBaseType",e,t)},assertNumberLiteral:function(e,t){console.trace("The node type NumberLiteral has been renamed to NumericLiteral"),Od("NumberLiteral",e,t)},assertRegexLiteral:function(e,t){console.trace("The node type RegexLiteral has been renamed to RegExpLiteral"),Od("RegexLiteral",e,t)},assertRestProperty:function(e,t){console.trace("The node type RestProperty has been renamed to RestElement"),Od("RestProperty",e,t)},assertSpreadProperty:function(e,t){console.trace("The node type SpreadProperty has been renamed to SpreadElement"),Od("SpreadProperty",e,t)},arrayExpression:tl,ArrayExpression:tl,assignmentExpression:rl,AssignmentExpression:rl,binaryExpression:nl,BinaryExpression:nl,interpreterDirective:al,InterpreterDirective:al,directive:sl,Directive:sl,directiveLiteral:il,DirectiveLiteral:il,blockStatement:ol,BlockStatement:ol,breakStatement:ll,BreakStatement:ll,callExpression:cl,CallExpression:cl,catchClause:ul,CatchClause:ul,conditionalExpression:pl,ConditionalExpression:pl,continueStatement:dl,ContinueStatement:dl,debuggerStatement:fl,DebuggerStatement:fl,doWhileStatement:hl,DoWhileStatement:hl,emptyStatement:ml,EmptyStatement:ml,expressionStatement:yl,ExpressionStatement:yl,file:gl,File:gl,forInStatement:vl,ForInStatement:vl,forStatement:bl,ForStatement:bl,functionDeclaration:xl,FunctionDeclaration:xl,functionExpression:El,FunctionExpression:El,identifier:wl,Identifier:wl,ifStatement:Sl,IfStatement:Sl,labeledStatement:Tl,LabeledStatement:Tl,stringLiteral:jl,StringLiteral:jl,numericLiteral:Al,NumericLiteral:Al,nullLiteral:Pl,NullLiteral:Pl,booleanLiteral:kl,BooleanLiteral:kl,regExpLiteral:Cl,RegExpLiteral:Cl,logicalExpression:Dl,LogicalExpression:Dl,memberExpression:_l,MemberExpression:_l,newExpression:Il,NewExpression:Il,program:Ol,Program:Ol,objectExpression:Nl,ObjectExpression:Nl,objectMethod:Bl,ObjectMethod:Bl,objectProperty:Fl,ObjectProperty:Fl,restElement:Rl,RestElement:Rl,returnStatement:Ml,ReturnStatement:Ml,sequenceExpression:Ll,SequenceExpression:Ll,parenthesizedExpression:Ul,ParenthesizedExpression:Ul,switchCase:Wl,SwitchCase:Wl,switchStatement:Vl,SwitchStatement:Vl,thisExpression:Gl,ThisExpression:Gl,throwStatement:Kl,ThrowStatement:Kl,tryStatement:Hl,TryStatement:Hl,unaryExpression:zl,UnaryExpression:zl,updateExpression:ql,UpdateExpression:ql,variableDeclaration:Xl,VariableDeclaration:Xl,variableDeclarator:Jl,VariableDeclarator:Jl,whileStatement:Yl,WhileStatement:Yl,withStatement:$l,WithStatement:$l,assignmentPattern:Ql,AssignmentPattern:Ql,arrayPattern:Zl,ArrayPattern:Zl,arrowFunctionExpression:ec,ArrowFunctionExpression:ec,classBody:tc,ClassBody:tc,classExpression:rc,ClassExpression:rc,classDeclaration:nc,ClassDeclaration:nc,exportAllDeclaration:ac,ExportAllDeclaration:ac,exportDefaultDeclaration:sc,ExportDefaultDeclaration:sc,exportNamedDeclaration:ic,ExportNamedDeclaration:ic,exportSpecifier:oc,ExportSpecifier:oc,forOfStatement:lc,ForOfStatement:lc,importDeclaration:cc,ImportDeclaration:cc,importDefaultSpecifier:uc,ImportDefaultSpecifier:uc,importNamespaceSpecifier:pc,ImportNamespaceSpecifier:pc,importSpecifier:dc,ImportSpecifier:dc,metaProperty:fc,MetaProperty:fc,classMethod:hc,ClassMethod:hc,objectPattern:mc,ObjectPattern:mc,spreadElement:yc,SpreadElement:yc,Super:gc,super:gc,taggedTemplateExpression:vc,TaggedTemplateExpression:vc,templateElement:bc,TemplateElement:bc,templateLiteral:xc,TemplateLiteral:xc,yieldExpression:Ec,YieldExpression:Ec,awaitExpression:wc,AwaitExpression:wc,Import:Sc,import:Sc,bigIntLiteral:Tc,BigIntLiteral:Tc,exportNamespaceSpecifier:jc,ExportNamespaceSpecifier:jc,optionalMemberExpression:Ac,OptionalMemberExpression:Ac,optionalCallExpression:Pc,OptionalCallExpression:Pc,anyTypeAnnotation:kc,AnyTypeAnnotation:kc,arrayTypeAnnotation:Cc,ArrayTypeAnnotation:Cc,booleanTypeAnnotation:Dc,BooleanTypeAnnotation:Dc,booleanLiteralTypeAnnotation:_c,BooleanLiteralTypeAnnotation:_c,nullLiteralTypeAnnotation:Ic,NullLiteralTypeAnnotation:Ic,classImplements:Oc,ClassImplements:Oc,declareClass:Nc,DeclareClass:Nc,declareFunction:Bc,DeclareFunction:Bc,declareInterface:Fc,DeclareInterface:Fc,declareModule:Rc,DeclareModule:Rc,declareModuleExports:Mc,DeclareModuleExports:Mc,declareTypeAlias:Lc,DeclareTypeAlias:Lc,declareOpaqueType:Uc,DeclareOpaqueType:Uc,declareVariable:Wc,DeclareVariable:Wc,declareExportDeclaration:Vc,DeclareExportDeclaration:Vc,declareExportAllDeclaration:Gc,DeclareExportAllDeclaration:Gc,declaredPredicate:Kc,DeclaredPredicate:Kc,existsTypeAnnotation:Hc,ExistsTypeAnnotation:Hc,functionTypeAnnotation:zc,FunctionTypeAnnotation:zc,functionTypeParam:qc,FunctionTypeParam:qc,genericTypeAnnotation:Xc,GenericTypeAnnotation:Xc,inferredPredicate:Jc,InferredPredicate:Jc,interfaceExtends:Yc,InterfaceExtends:Yc,interfaceDeclaration:$c,InterfaceDeclaration:$c,interfaceTypeAnnotation:Qc,InterfaceTypeAnnotation:Qc,intersectionTypeAnnotation:Zc,IntersectionTypeAnnotation:Zc,mixedTypeAnnotation:eu,MixedTypeAnnotation:eu,emptyTypeAnnotation:tu,EmptyTypeAnnotation:tu,nullableTypeAnnotation:ru,NullableTypeAnnotation:ru,numberLiteralTypeAnnotation:nu,NumberLiteralTypeAnnotation:nu,numberTypeAnnotation:au,NumberTypeAnnotation:au,objectTypeAnnotation:su,ObjectTypeAnnotation:su,objectTypeInternalSlot:iu,ObjectTypeInternalSlot:iu,objectTypeCallProperty:ou,ObjectTypeCallProperty:ou,objectTypeIndexer:lu,ObjectTypeIndexer:lu,objectTypeProperty:cu,ObjectTypeProperty:cu,objectTypeSpreadProperty:uu,ObjectTypeSpreadProperty:uu,opaqueType:pu,OpaqueType:pu,qualifiedTypeIdentifier:du,QualifiedTypeIdentifier:du,stringLiteralTypeAnnotation:fu,StringLiteralTypeAnnotation:fu,stringTypeAnnotation:hu,StringTypeAnnotation:hu,symbolTypeAnnotation:mu,SymbolTypeAnnotation:mu,thisTypeAnnotation:yu,ThisTypeAnnotation:yu,tupleTypeAnnotation:gu,TupleTypeAnnotation:gu,typeofTypeAnnotation:vu,TypeofTypeAnnotation:vu,typeAlias:bu,TypeAlias:bu,typeAnnotation:xu,TypeAnnotation:xu,typeCastExpression:Eu,TypeCastExpression:Eu,typeParameter:wu,TypeParameter:wu,typeParameterDeclaration:Su,TypeParameterDeclaration:Su,typeParameterInstantiation:Tu,TypeParameterInstantiation:Tu,unionTypeAnnotation:ju,UnionTypeAnnotation:ju,variance:Au,Variance:Au,voidTypeAnnotation:Pu,VoidTypeAnnotation:Pu,enumDeclaration:ku,EnumDeclaration:ku,enumBooleanBody:Cu,EnumBooleanBody:Cu,enumNumberBody:Du,EnumNumberBody:Du,enumStringBody:_u,EnumStringBody:_u,enumSymbolBody:Iu,EnumSymbolBody:Iu,enumBooleanMember:Ou,EnumBooleanMember:Ou,enumNumberMember:Nu,EnumNumberMember:Nu,enumStringMember:Bu,EnumStringMember:Bu,enumDefaultedMember:Fu,EnumDefaultedMember:Fu,jsxAttribute:Ru,JSXAttribute:Ru,jSXAttribute:Ru,jsxClosingElement:Mu,JSXClosingElement:Mu,jSXClosingElement:Mu,jsxElement:Lu,JSXElement:Lu,jSXElement:Lu,jsxEmptyExpression:Uu,JSXEmptyExpression:Uu,jSXEmptyExpression:Uu,jsxExpressionContainer:Wu,JSXExpressionContainer:Wu,jSXExpressionContainer:Wu,jsxSpreadChild:Vu,JSXSpreadChild:Vu,jSXSpreadChild:Vu,jsxIdentifier:Gu,JSXIdentifier:Gu,jSXIdentifier:Gu,jsxMemberExpression:Ku,JSXMemberExpression:Ku,jSXMemberExpression:Ku,jsxNamespacedName:Hu,JSXNamespacedName:Hu,jSXNamespacedName:Hu,jsxOpeningElement:zu,JSXOpeningElement:zu,jSXOpeningElement:zu,jsxSpreadAttribute:qu,JSXSpreadAttribute:qu,jSXSpreadAttribute:qu,jsxText:Xu,JSXText:Xu,jSXText:Xu,jsxFragment:Ju,JSXFragment:Ju,jSXFragment:Ju,jsxOpeningFragment:Yu,JSXOpeningFragment:Yu,jSXOpeningFragment:Yu,jsxClosingFragment:$u,JSXClosingFragment:$u,jSXClosingFragment:$u,noop:Qu,Noop:Qu,placeholder:Zu,Placeholder:Zu,v8IntrinsicIdentifier:ep,V8IntrinsicIdentifier:ep,argumentPlaceholder:tp,ArgumentPlaceholder:tp,bindExpression:rp,BindExpression:rp,classProperty:np,ClassProperty:np,pipelineTopicExpression:ap,PipelineTopicExpression:ap,pipelineBareFunction:sp,PipelineBareFunction:sp,pipelinePrimaryTopicReference:ip,PipelinePrimaryTopicReference:ip,classPrivateProperty:op,ClassPrivateProperty:op,classPrivateMethod:lp,ClassPrivateMethod:lp,importAttribute:cp,ImportAttribute:cp,decorator:up,Decorator:up,doExpression:pp,DoExpression:pp,exportDefaultSpecifier:dp,ExportDefaultSpecifier:dp,privateName:fp,PrivateName:fp,recordExpression:hp,RecordExpression:hp,tupleExpression:mp,TupleExpression:mp,decimalLiteral:yp,DecimalLiteral:yp,staticBlock:gp,StaticBlock:gp,tsParameterProperty:vp,TSParameterProperty:vp,tSParameterProperty:vp,tsDeclareFunction:bp,TSDeclareFunction:bp,tSDeclareFunction:bp,tsDeclareMethod:xp,TSDeclareMethod:xp,tSDeclareMethod:xp,tsQualifiedName:Ep,TSQualifiedName:Ep,tSQualifiedName:Ep,tsCallSignatureDeclaration:wp,TSCallSignatureDeclaration:wp,tSCallSignatureDeclaration:wp,tsConstructSignatureDeclaration:Sp,TSConstructSignatureDeclaration:Sp,tSConstructSignatureDeclaration:Sp,tsPropertySignature:Tp,TSPropertySignature:Tp,tSPropertySignature:Tp,tsMethodSignature:jp,TSMethodSignature:jp,tSMethodSignature:jp,tsIndexSignature:Ap,TSIndexSignature:Ap,tSIndexSignature:Ap,tsAnyKeyword:Pp,TSAnyKeyword:Pp,tSAnyKeyword:Pp,tsBooleanKeyword:kp,TSBooleanKeyword:kp,tSBooleanKeyword:kp,tsBigIntKeyword:Cp,TSBigIntKeyword:Cp,tSBigIntKeyword:Cp,tsIntrinsicKeyword:Dp,TSIntrinsicKeyword:Dp,tSIntrinsicKeyword:Dp,tsNeverKeyword:_p,TSNeverKeyword:_p,tSNeverKeyword:_p,tsNullKeyword:Ip,TSNullKeyword:Ip,tSNullKeyword:Ip,tsNumberKeyword:Op,TSNumberKeyword:Op,tSNumberKeyword:Op,tsObjectKeyword:Np,TSObjectKeyword:Np,tSObjectKeyword:Np,tsStringKeyword:Bp,TSStringKeyword:Bp,tSStringKeyword:Bp,tsSymbolKeyword:Fp,TSSymbolKeyword:Fp,tSSymbolKeyword:Fp,tsUndefinedKeyword:Rp,TSUndefinedKeyword:Rp,tSUndefinedKeyword:Rp,tsUnknownKeyword:Mp,TSUnknownKeyword:Mp,tSUnknownKeyword:Mp,tsVoidKeyword:Lp,TSVoidKeyword:Lp,tSVoidKeyword:Lp,tsThisType:Up,TSThisType:Up,tSThisType:Up,tsFunctionType:Wp,TSFunctionType:Wp,tSFunctionType:Wp,tsConstructorType:Vp,TSConstructorType:Vp,tSConstructorType:Vp,tsTypeReference:Gp,TSTypeReference:Gp,tSTypeReference:Gp,tsTypePredicate:Kp,TSTypePredicate:Kp,tSTypePredicate:Kp,tsTypeQuery:Hp,TSTypeQuery:Hp,tSTypeQuery:Hp,tsTypeLiteral:zp,TSTypeLiteral:zp,tSTypeLiteral:zp,tsArrayType:qp,TSArrayType:qp,tSArrayType:qp,tsTupleType:Xp,TSTupleType:Xp,tSTupleType:Xp,tsOptionalType:Jp,TSOptionalType:Jp,tSOptionalType:Jp,tsRestType:Yp,TSRestType:Yp,tSRestType:Yp,tsNamedTupleMember:$p,TSNamedTupleMember:$p,tSNamedTupleMember:$p,tsUnionType:Qp,TSUnionType:Qp,tSUnionType:Qp,tsIntersectionType:Zp,TSIntersectionType:Zp,tSIntersectionType:Zp,tsConditionalType:ed,TSConditionalType:ed,tSConditionalType:ed,tsInferType:td,TSInferType:td,tSInferType:td,tsParenthesizedType:rd,TSParenthesizedType:rd,tSParenthesizedType:rd,tsTypeOperator:nd,TSTypeOperator:nd,tSTypeOperator:nd,tsIndexedAccessType:ad,TSIndexedAccessType:ad,tSIndexedAccessType:ad,tsMappedType:sd,TSMappedType:sd,tSMappedType:sd,tsLiteralType:id,TSLiteralType:id,tSLiteralType:id,tsExpressionWithTypeArguments:od,TSExpressionWithTypeArguments:od,tSExpressionWithTypeArguments:od,tsInterfaceDeclaration:ld,TSInterfaceDeclaration:ld,tSInterfaceDeclaration:ld,tsInterfaceBody:cd,TSInterfaceBody:cd,tSInterfaceBody:cd,tsTypeAliasDeclaration:ud,TSTypeAliasDeclaration:ud,tSTypeAliasDeclaration:ud,tsAsExpression:pd,TSAsExpression:pd,tSAsExpression:pd,tsTypeAssertion:dd,TSTypeAssertion:dd,tSTypeAssertion:dd,tsEnumDeclaration:fd,TSEnumDeclaration:fd,tSEnumDeclaration:fd,tsEnumMember:hd,TSEnumMember:hd,tSEnumMember:hd,tsModuleDeclaration:md,TSModuleDeclaration:md,tSModuleDeclaration:md,tsModuleBlock:yd,TSModuleBlock:yd,tSModuleBlock:yd,tsImportType:gd,TSImportType:gd,tSImportType:gd,tsImportEqualsDeclaration:vd,TSImportEqualsDeclaration:vd,tSImportEqualsDeclaration:vd,tsExternalModuleReference:bd,TSExternalModuleReference:bd,tSExternalModuleReference:bd,tsNonNullExpression:xd,TSNonNullExpression:xd,tSNonNullExpression:xd,tsExportAssignment:Ed,TSExportAssignment:Ed,tSExportAssignment:Ed,tsNamespaceExportDeclaration:wd,TSNamespaceExportDeclaration:wd,tSNamespaceExportDeclaration:wd,tsTypeAnnotation:Sd,TSTypeAnnotation:Sd,tSTypeAnnotation:Sd,tsTypeParameterInstantiation:Td,TSTypeParameterInstantiation:Td,tSTypeParameterInstantiation:Td,tsTypeParameterDeclaration:jd,TSTypeParameterDeclaration:jd,tSTypeParameterDeclaration:jd,tsTypeParameter:Ad,TSTypeParameter:Ad,tSTypeParameter:Ad,NumberLiteral:Pd,numberLiteral:Pd,RegexLiteral:kd,regexLiteral:kd,RestProperty:Cd,restProperty:Cd,SpreadProperty:Dd,spreadProperty:Dd,EXPRESSION_TYPES:ef,BINARY_TYPES:tf,SCOPABLE_TYPES:rf,BLOCKPARENT_TYPES:nf,BLOCK_TYPES:af,STATEMENT_TYPES:sf,TERMINATORLESS_TYPES:of,COMPLETIONSTATEMENT_TYPES:lf,CONDITIONAL_TYPES:cf,LOOP_TYPES:uf,WHILE_TYPES:pf,EXPRESSIONWRAPPER_TYPES:df,FOR_TYPES:ff,FORXSTATEMENT_TYPES:hf,FUNCTION_TYPES:mf,FUNCTIONPARENT_TYPES:yf,PUREISH_TYPES:gf,DECLARATION_TYPES:vf,PATTERNLIKE_TYPES:bf,LVAL_TYPES:xf,TSENTITYNAME_TYPES:Ef,LITERAL_TYPES:wf,IMMUTABLE_TYPES:Sf,USERWHITESPACABLE_TYPES:Tf,METHOD_TYPES:jf,OBJECTMEMBER_TYPES:Af,PROPERTY_TYPES:Pf,UNARYLIKE_TYPES:kf,PATTERN_TYPES:Cf,CLASS_TYPES:Df,MODULEDECLARATION_TYPES:_f,EXPORTDECLARATION_TYPES:If,MODULESPECIFIER_TYPES:Of,FLOW_TYPES:Nf,FLOWTYPE_TYPES:Bf,FLOWBASEANNOTATION_TYPES:Ff,FLOWDECLARATION_TYPES:Rf,FLOWPREDICATE_TYPES:Mf,ENUMBODY_TYPES:Lf,ENUMMEMBER_TYPES:Uf,JSX_TYPES:Wf,PRIVATE_TYPES:Vf,TSTYPEELEMENT_TYPES:Gf,TSTYPE_TYPES:Kf,TSBASETYPE_TYPES:Hf,STATEMENT_OR_BLOCK_KEYS:Di,FLATTENABLE_KEYS:["body","expressions"],FOR_INIT_KEYS:_i,COMMENT_KEYS:Ii,LOGICAL_OPERATORS:Oi,UPDATE_OPERATORS:Ni,BOOLEAN_NUMBER_BINARY_OPERATORS:Bi,EQUALITY_BINARY_OPERATORS:Fi,COMPARISON_BINARY_OPERATORS:Ri,BOOLEAN_BINARY_OPERATORS:Mi,NUMBER_BINARY_OPERATORS:Li,BINARY_OPERATORS:Ui,ASSIGNMENT_OPERATORS:Wi,BOOLEAN_UNARY_OPERATORS:Vi,NUMBER_UNARY_OPERATORS:Gi,STRING_UNARY_OPERATORS:Ki,UNARY_OPERATORS:Hi,INHERIT_KEYS:zi,BLOCK_SCOPED_SYMBOL:qi,NOT_LOCAL_BINDING:Xi,VISITOR_KEYS:Qi,ALIAS_KEYS:Zi,FLIPPED_ALIAS_KEYS:eo,NODE_FIELDS:to,BUILDER_KEYS:ro,DEPRECATED_KEYS:no,NODE_PARENT_VALIDATIONS:ao,PLACEHOLDERS:Ro,PLACEHOLDERS_ALIAS:Mo,PLACEHOLDERS_FLIPPED_ALIAS:Go,TYPES:Zo,isArrayExpression:Q,isAssignmentExpression:Z,isBinaryExpression:ee,isInterpreterDirective:function(e,t){return!!e&&("InterpreterDirective"===e.type&&(void 0===t||$(e,t)))},isDirective:function(e,t){return!!e&&("Directive"===e.type&&(void 0===t||$(e,t)))},isDirectiveLiteral:function(e,t){return!!e&&("DirectiveLiteral"===e.type&&(void 0===t||$(e,t)))},isBlockStatement:te,isBreakStatement:re,isCallExpression:ne,isCatchClause:ae,isConditionalExpression:se,isContinueStatement:ie,isDebuggerStatement:function(e,t){return!!e&&("DebuggerStatement"===e.type&&(void 0===t||$(e,t)))},isDoWhileStatement:function(e,t){return!!e&&("DoWhileStatement"===e.type&&(void 0===t||$(e,t)))},isEmptyStatement:oe,isExpressionStatement:le,isFile:ce,isForInStatement:ue,isForStatement:pe,isFunctionDeclaration:de,isFunctionExpression:fe,isIdentifier:he,isIfStatement:me,isLabeledStatement:ye,isStringLiteral:ge,isNumericLiteral:ve,isNullLiteral:be,isBooleanLiteral:function(e,t){return!!e&&("BooleanLiteral"===e.type&&(void 0===t||$(e,t)))},isRegExpLiteral:xe,isLogicalExpression:Ee,isMemberExpression:we,isNewExpression:Se,isProgram:Te,isObjectExpression:je,isObjectMethod:Ae,isObjectProperty:Pe,isRestElement:ke,isReturnStatement:Ce,isSequenceExpression:De,isParenthesizedExpression:_e,isSwitchCase:function(e,t){return!!e&&("SwitchCase"===e.type&&(void 0===t||$(e,t)))},isSwitchStatement:Ie,isThisExpression:Oe,isThrowStatement:Ne,isTryStatement:function(e,t){return!!e&&("TryStatement"===e.type&&(void 0===t||$(e,t)))},isUnaryExpression:Be,isUpdateExpression:function(e,t){return!!e&&("UpdateExpression"===e.type&&(void 0===t||$(e,t)))},isVariableDeclaration:Fe,isVariableDeclarator:Re,isWhileStatement:Me,isWithStatement:function(e,t){return!!e&&("WithStatement"===e.type&&(void 0===t||$(e,t)))},isAssignmentPattern:Le,isArrayPattern:Ue,isArrowFunctionExpression:We,isClassBody:Ve,isClassExpression:Ge,isClassDeclaration:Ke,isExportAllDeclaration:He,isExportDefaultDeclaration:ze,isExportNamedDeclaration:qe,isExportSpecifier:Xe,isForOfStatement:function(e,t){return!!e&&("ForOfStatement"===e.type&&(void 0===t||$(e,t)))},isImportDeclaration:Je,isImportDefaultSpecifier:Ye,isImportNamespaceSpecifier:$e,isImportSpecifier:Qe,isMetaProperty:function(e,t){return!!e&&("MetaProperty"===e.type&&(void 0===t||$(e,t)))},isClassMethod:Ze,isObjectPattern:et,isSpreadElement:tt,isSuper:rt,isTaggedTemplateExpression:nt,isTemplateElement:function(e,t){return!!e&&("TemplateElement"===e.type&&(void 0===t||$(e,t)))},isTemplateLiteral:at,isYieldExpression:st,isAwaitExpression:it,isImport:ot,isBigIntLiteral:function(e,t){return!!e&&("BigIntLiteral"===e.type&&(void 0===t||$(e,t)))},isExportNamespaceSpecifier:lt,isOptionalMemberExpression:ct,isOptionalCallExpression:ut,isAnyTypeAnnotation:pt,isArrayTypeAnnotation:dt,isBooleanTypeAnnotation:ft,isBooleanLiteralTypeAnnotation:function(e,t){return!!e&&("BooleanLiteralTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isNullLiteralTypeAnnotation:function(e,t){return!!e&&("NullLiteralTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isClassImplements:function(e,t){return!!e&&("ClassImplements"===e.type&&(void 0===t||$(e,t)))},isDeclareClass:function(e,t){return!!e&&("DeclareClass"===e.type&&(void 0===t||$(e,t)))},isDeclareFunction:function(e,t){return!!e&&("DeclareFunction"===e.type&&(void 0===t||$(e,t)))},isDeclareInterface:function(e,t){return!!e&&("DeclareInterface"===e.type&&(void 0===t||$(e,t)))},isDeclareModule:function(e,t){return!!e&&("DeclareModule"===e.type&&(void 0===t||$(e,t)))},isDeclareModuleExports:function(e,t){return!!e&&("DeclareModuleExports"===e.type&&(void 0===t||$(e,t)))},isDeclareTypeAlias:function(e,t){return!!e&&("DeclareTypeAlias"===e.type&&(void 0===t||$(e,t)))},isDeclareOpaqueType:function(e,t){return!!e&&("DeclareOpaqueType"===e.type&&(void 0===t||$(e,t)))},isDeclareVariable:function(e,t){return!!e&&("DeclareVariable"===e.type&&(void 0===t||$(e,t)))},isDeclareExportDeclaration:ht,isDeclareExportAllDeclaration:function(e,t){return!!e&&("DeclareExportAllDeclaration"===e.type&&(void 0===t||$(e,t)))},isDeclaredPredicate:function(e,t){return!!e&&("DeclaredPredicate"===e.type&&(void 0===t||$(e,t)))},isExistsTypeAnnotation:function(e,t){return!!e&&("ExistsTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isFunctionTypeAnnotation:function(e,t){return!!e&&("FunctionTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isFunctionTypeParam:function(e,t){return!!e&&("FunctionTypeParam"===e.type&&(void 0===t||$(e,t)))},isGenericTypeAnnotation:mt,isInferredPredicate:function(e,t){return!!e&&("InferredPredicate"===e.type&&(void 0===t||$(e,t)))},isInterfaceExtends:function(e,t){return!!e&&("InterfaceExtends"===e.type&&(void 0===t||$(e,t)))},isInterfaceDeclaration:function(e,t){return!!e&&("InterfaceDeclaration"===e.type&&(void 0===t||$(e,t)))},isInterfaceTypeAnnotation:function(e,t){return!!e&&("InterfaceTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isIntersectionTypeAnnotation:yt,isMixedTypeAnnotation:gt,isEmptyTypeAnnotation:vt,isNullableTypeAnnotation:bt,isNumberLiteralTypeAnnotation:function(e,t){return!!e&&("NumberLiteralTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isNumberTypeAnnotation:xt,isObjectTypeAnnotation:function(e,t){return!!e&&("ObjectTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isObjectTypeInternalSlot:function(e,t){return!!e&&("ObjectTypeInternalSlot"===e.type&&(void 0===t||$(e,t)))},isObjectTypeCallProperty:function(e,t){return!!e&&("ObjectTypeCallProperty"===e.type&&(void 0===t||$(e,t)))},isObjectTypeIndexer:function(e,t){return!!e&&("ObjectTypeIndexer"===e.type&&(void 0===t||$(e,t)))},isObjectTypeProperty:function(e,t){return!!e&&("ObjectTypeProperty"===e.type&&(void 0===t||$(e,t)))},isObjectTypeSpreadProperty:function(e,t){return!!e&&("ObjectTypeSpreadProperty"===e.type&&(void 0===t||$(e,t)))},isOpaqueType:function(e,t){return!!e&&("OpaqueType"===e.type&&(void 0===t||$(e,t)))},isQualifiedTypeIdentifier:function(e,t){return!!e&&("QualifiedTypeIdentifier"===e.type&&(void 0===t||$(e,t)))},isStringLiteralTypeAnnotation:function(e,t){return!!e&&("StringLiteralTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isStringTypeAnnotation:Et,isSymbolTypeAnnotation:function(e,t){return!!e&&("SymbolTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isThisTypeAnnotation:function(e,t){return!!e&&("ThisTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isTupleTypeAnnotation:function(e,t){return!!e&&("TupleTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isTypeofTypeAnnotation:function(e,t){return!!e&&("TypeofTypeAnnotation"===e.type&&(void 0===t||$(e,t)))},isTypeAlias:function(e,t){return!!e&&("TypeAlias"===e.type&&(void 0===t||$(e,t)))},isTypeAnnotation:wt,isTypeCastExpression:St,isTypeParameter:function(e,t){return!!e&&("TypeParameter"===e.type&&(void 0===t||$(e,t)))},isTypeParameterDeclaration:function(e,t){return!!e&&("TypeParameterDeclaration"===e.type&&(void 0===t||$(e,t)))},isTypeParameterInstantiation:function(e,t){return!!e&&("TypeParameterInstantiation"===e.type&&(void 0===t||$(e,t)))},isUnionTypeAnnotation:Tt,isVariance:function(e,t){return!!e&&("Variance"===e.type&&(void 0===t||$(e,t)))},isVoidTypeAnnotation:jt,isEnumDeclaration:function(e,t){return!!e&&("EnumDeclaration"===e.type&&(void 0===t||$(e,t)))},isEnumBooleanBody:function(e,t){return!!e&&("EnumBooleanBody"===e.type&&(void 0===t||$(e,t)))},isEnumNumberBody:function(e,t){return!!e&&("EnumNumberBody"===e.type&&(void 0===t||$(e,t)))},isEnumStringBody:function(e,t){return!!e&&("EnumStringBody"===e.type&&(void 0===t||$(e,t)))},isEnumSymbolBody:function(e,t){return!!e&&("EnumSymbolBody"===e.type&&(void 0===t||$(e,t)))},isEnumBooleanMember:function(e,t){return!!e&&("EnumBooleanMember"===e.type&&(void 0===t||$(e,t)))},isEnumNumberMember:function(e,t){return!!e&&("EnumNumberMember"===e.type&&(void 0===t||$(e,t)))},isEnumStringMember:function(e,t){return!!e&&("EnumStringMember"===e.type&&(void 0===t||$(e,t)))},isEnumDefaultedMember:function(e,t){return!!e&&("EnumDefaultedMember"===e.type&&(void 0===t||$(e,t)))},isJSXAttribute:At,isJSXClosingElement:function(e,t){return!!e&&("JSXClosingElement"===e.type&&(void 0===t||$(e,t)))},isJSXElement:Pt,isJSXEmptyExpression:kt,isJSXExpressionContainer:Ct,isJSXSpreadChild:function(e,t){return!!e&&("JSXSpreadChild"===e.type&&(void 0===t||$(e,t)))},isJSXIdentifier:Dt,isJSXMemberExpression:_t,isJSXNamespacedName:It,isJSXOpeningElement:function(e,t){return!!e&&("JSXOpeningElement"===e.type&&(void 0===t||$(e,t)))},isJSXSpreadAttribute:Ot,isJSXText:Nt,isJSXFragment:function(e,t){return!!e&&("JSXFragment"===e.type&&(void 0===t||$(e,t)))},isJSXOpeningFragment:function(e,t){return!!e&&("JSXOpeningFragment"===e.type&&(void 0===t||$(e,t)))},isJSXClosingFragment:function(e,t){return!!e&&("JSXClosingFragment"===e.type&&(void 0===t||$(e,t)))},isNoop:function(e,t){return!!e&&("Noop"===e.type&&(void 0===t||$(e,t)))},isPlaceholder:Bt,isV8IntrinsicIdentifier:function(e,t){return!!e&&("V8IntrinsicIdentifier"===e.type&&(void 0===t||$(e,t)))},isArgumentPlaceholder:function(e,t){return!!e&&("ArgumentPlaceholder"===e.type&&(void 0===t||$(e,t)))},isBindExpression:Ft,isClassProperty:Rt,isPipelineTopicExpression:Mt,isPipelineBareFunction:function(e,t){return!!e&&("PipelineBareFunction"===e.type&&(void 0===t||$(e,t)))},isPipelinePrimaryTopicReference:function(e,t){return!!e&&("PipelinePrimaryTopicReference"===e.type&&(void 0===t||$(e,t)))},isClassPrivateProperty:Lt,isClassPrivateMethod:function(e,t){return!!e&&("ClassPrivateMethod"===e.type&&(void 0===t||$(e,t)))},isImportAttribute:function(e,t){return!!e&&("ImportAttribute"===e.type&&(void 0===t||$(e,t)))},isDecorator:function(e,t){return!!e&&("Decorator"===e.type&&(void 0===t||$(e,t)))},isDoExpression:function(e,t){return!!e&&("DoExpression"===e.type&&(void 0===t||$(e,t)))},isExportDefaultSpecifier:Ut,isPrivateName:function(e,t){return!!e&&("PrivateName"===e.type&&(void 0===t||$(e,t)))},isRecordExpression:function(e,t){return!!e&&("RecordExpression"===e.type&&(void 0===t||$(e,t)))},isTupleExpression:function(e,t){return!!e&&("TupleExpression"===e.type&&(void 0===t||$(e,t)))},isDecimalLiteral:function(e,t){return!!e&&("DecimalLiteral"===e.type&&(void 0===t||$(e,t)))},isStaticBlock:function(e,t){return!!e&&("StaticBlock"===e.type&&(void 0===t||$(e,t)))},isTSParameterProperty:function(e,t){return!!e&&("TSParameterProperty"===e.type&&(void 0===t||$(e,t)))},isTSDeclareFunction:function(e,t){return!!e&&("TSDeclareFunction"===e.type&&(void 0===t||$(e,t)))},isTSDeclareMethod:function(e,t){return!!e&&("TSDeclareMethod"===e.type&&(void 0===t||$(e,t)))},isTSQualifiedName:function(e,t){return!!e&&("TSQualifiedName"===e.type&&(void 0===t||$(e,t)))},isTSCallSignatureDeclaration:function(e,t){return!!e&&("TSCallSignatureDeclaration"===e.type&&(void 0===t||$(e,t)))},isTSConstructSignatureDeclaration:function(e,t){return!!e&&("TSConstructSignatureDeclaration"===e.type&&(void 0===t||$(e,t)))},isTSPropertySignature:function(e,t){return!!e&&("TSPropertySignature"===e.type&&(void 0===t||$(e,t)))},isTSMethodSignature:function(e,t){return!!e&&("TSMethodSignature"===e.type&&(void 0===t||$(e,t)))},isTSIndexSignature:function(e,t){return!!e&&("TSIndexSignature"===e.type&&(void 0===t||$(e,t)))},isTSAnyKeyword:Wt,isTSBooleanKeyword:function(e,t){return!!e&&("TSBooleanKeyword"===e.type&&(void 0===t||$(e,t)))},isTSBigIntKeyword:function(e,t){return!!e&&("TSBigIntKeyword"===e.type&&(void 0===t||$(e,t)))},isTSIntrinsicKeyword:function(e,t){return!!e&&("TSIntrinsicKeyword"===e.type&&(void 0===t||$(e,t)))},isTSNeverKeyword:function(e,t){return!!e&&("TSNeverKeyword"===e.type&&(void 0===t||$(e,t)))},isTSNullKeyword:function(e,t){return!!e&&("TSNullKeyword"===e.type&&(void 0===t||$(e,t)))},isTSNumberKeyword:function(e,t){return!!e&&("TSNumberKeyword"===e.type&&(void 0===t||$(e,t)))},isTSObjectKeyword:function(e,t){return!!e&&("TSObjectKeyword"===e.type&&(void 0===t||$(e,t)))},isTSStringKeyword:function(e,t){return!!e&&("TSStringKeyword"===e.type&&(void 0===t||$(e,t)))},isTSSymbolKeyword:function(e,t){return!!e&&("TSSymbolKeyword"===e.type&&(void 0===t||$(e,t)))},isTSUndefinedKeyword:function(e,t){return!!e&&("TSUndefinedKeyword"===e.type&&(void 0===t||$(e,t)))},isTSUnknownKeyword:function(e,t){return!!e&&("TSUnknownKeyword"===e.type&&(void 0===t||$(e,t)))},isTSVoidKeyword:function(e,t){return!!e&&("TSVoidKeyword"===e.type&&(void 0===t||$(e,t)))},isTSThisType:function(e,t){return!!e&&("TSThisType"===e.type&&(void 0===t||$(e,t)))},isTSFunctionType:function(e,t){return!!e&&("TSFunctionType"===e.type&&(void 0===t||$(e,t)))},isTSConstructorType:function(e,t){return!!e&&("TSConstructorType"===e.type&&(void 0===t||$(e,t)))},isTSTypeReference:function(e,t){return!!e&&("TSTypeReference"===e.type&&(void 0===t||$(e,t)))},isTSTypePredicate:function(e,t){return!!e&&("TSTypePredicate"===e.type&&(void 0===t||$(e,t)))},isTSTypeQuery:function(e,t){return!!e&&("TSTypeQuery"===e.type&&(void 0===t||$(e,t)))},isTSTypeLiteral:function(e,t){return!!e&&("TSTypeLiteral"===e.type&&(void 0===t||$(e,t)))},isTSArrayType:Vt,isTSTupleType:function(e,t){return!!e&&("TSTupleType"===e.type&&(void 0===t||$(e,t)))},isTSOptionalType:Gt,isTSRestType:Kt,isTSNamedTupleMember:function(e,t){return!!e&&("TSNamedTupleMember"===e.type&&(void 0===t||$(e,t)))},isTSUnionType:Ht,isTSIntersectionType:zt,isTSConditionalType:function(e,t){return!!e&&("TSConditionalType"===e.type&&(void 0===t||$(e,t)))},isTSInferType:function(e,t){return!!e&&("TSInferType"===e.type&&(void 0===t||$(e,t)))},isTSParenthesizedType:function(e,t){return!!e&&("TSParenthesizedType"===e.type&&(void 0===t||$(e,t)))},isTSTypeOperator:function(e,t){return!!e&&("TSTypeOperator"===e.type&&(void 0===t||$(e,t)))},isTSIndexedAccessType:function(e,t){return!!e&&("TSIndexedAccessType"===e.type&&(void 0===t||$(e,t)))},isTSMappedType:function(e,t){return!!e&&("TSMappedType"===e.type&&(void 0===t||$(e,t)))},isTSLiteralType:function(e,t){return!!e&&("TSLiteralType"===e.type&&(void 0===t||$(e,t)))},isTSExpressionWithTypeArguments:function(e,t){return!!e&&("TSExpressionWithTypeArguments"===e.type&&(void 0===t||$(e,t)))},isTSInterfaceDeclaration:function(e,t){return!!e&&("TSInterfaceDeclaration"===e.type&&(void 0===t||$(e,t)))},isTSInterfaceBody:function(e,t){return!!e&&("TSInterfaceBody"===e.type&&(void 0===t||$(e,t)))},isTSTypeAliasDeclaration:function(e,t){return!!e&&("TSTypeAliasDeclaration"===e.type&&(void 0===t||$(e,t)))},isTSAsExpression:qt,isTSTypeAssertion:Xt,isTSEnumDeclaration:function(e,t){return!!e&&("TSEnumDeclaration"===e.type&&(void 0===t||$(e,t)))},isTSEnumMember:function(e,t){return!!e&&("TSEnumMember"===e.type&&(void 0===t||$(e,t)))},isTSModuleDeclaration:function(e,t){return!!e&&("TSModuleDeclaration"===e.type&&(void 0===t||$(e,t)))},isTSModuleBlock:function(e,t){return!!e&&("TSModuleBlock"===e.type&&(void 0===t||$(e,t)))},isTSImportType:function(e,t){return!!e&&("TSImportType"===e.type&&(void 0===t||$(e,t)))},isTSImportEqualsDeclaration:function(e,t){return!!e&&("TSImportEqualsDeclaration"===e.type&&(void 0===t||$(e,t)))},isTSExternalModuleReference:function(e,t){return!!e&&("TSExternalModuleReference"===e.type&&(void 0===t||$(e,t)))},isTSNonNullExpression:Jt,isTSExportAssignment:function(e,t){return!!e&&("TSExportAssignment"===e.type&&(void 0===t||$(e,t)))},isTSNamespaceExportDeclaration:function(e,t){return!!e&&("TSNamespaceExportDeclaration"===e.type&&(void 0===t||$(e,t)))},isTSTypeAnnotation:Yt,isTSTypeParameterInstantiation:function(e,t){return!!e&&("TSTypeParameterInstantiation"===e.type&&(void 0===t||$(e,t)))},isTSTypeParameterDeclaration:function(e,t){return!!e&&("TSTypeParameterDeclaration"===e.type&&(void 0===t||$(e,t)))},isTSTypeParameter:function(e,t){return!!e&&("TSTypeParameter"===e.type&&(void 0===t||$(e,t)))},isExpression:$t,isBinary:Qt,isScopable:Zt,isBlockParent:function(e,t){if(!e)return!1;var r=e.type;return("BlockParent"===r||"BlockStatement"===r||"CatchClause"===r||"DoWhileStatement"===r||"ForInStatement"===r||"ForStatement"===r||"FunctionDeclaration"===r||"FunctionExpression"===r||"Program"===r||"ObjectMethod"===r||"SwitchStatement"===r||"WhileStatement"===r||"ArrowFunctionExpression"===r||"ForOfStatement"===r||"ClassMethod"===r||"ClassPrivateMethod"===r||"StaticBlock"===r||"TSModuleBlock"===r||"Placeholder"===r&&"BlockStatement"===e.expectedNode)&&(void 0===t||$(e,t))},isBlock:function(e,t){if(!e)return!1;var r=e.type;return("Block"===r||"BlockStatement"===r||"Program"===r||"TSModuleBlock"===r||"Placeholder"===r&&"BlockStatement"===e.expectedNode)&&(void 0===t||$(e,t))},isStatement:er,isTerminatorless:function(e,t){if(!e)return!1;var r=e.type;return("Terminatorless"===r||"BreakStatement"===r||"ContinueStatement"===r||"ReturnStatement"===r||"ThrowStatement"===r||"YieldExpression"===r||"AwaitExpression"===r)&&(void 0===t||$(e,t))},isCompletionStatement:function(e,t){if(!e)return!1;var r=e.type;return("CompletionStatement"===r||"BreakStatement"===r||"ContinueStatement"===r||"ReturnStatement"===r||"ThrowStatement"===r)&&(void 0===t||$(e,t))},isConditional:tr,isLoop:rr,isWhile:function(e,t){if(!e)return!1
;var r=e.type;return("While"===r||"DoWhileStatement"===r||"WhileStatement"===r)&&(void 0===t||$(e,t))},isExpressionWrapper:function(e,t){if(!e)return!1;var r=e.type;return("ExpressionWrapper"===r||"ExpressionStatement"===r||"ParenthesizedExpression"===r||"TypeCastExpression"===r)&&(void 0===t||$(e,t))},isFor:nr,isForXStatement:ar,isFunction:sr,isFunctionParent:function(e,t){if(!e)return!1;var r=e.type;return("FunctionParent"===r||"FunctionDeclaration"===r||"FunctionExpression"===r||"ObjectMethod"===r||"ArrowFunctionExpression"===r||"ClassMethod"===r||"ClassPrivateMethod"===r)&&(void 0===t||$(e,t))},isPureish:ir,isDeclaration:or,isPatternLike:function(e,t){if(!e)return!1;var r=e.type;return("PatternLike"===r||"Identifier"===r||"RestElement"===r||"AssignmentPattern"===r||"ArrayPattern"===r||"ObjectPattern"===r||"Placeholder"===r&&("Pattern"===e.expectedNode||"Identifier"===e.expectedNode))&&(void 0===t||$(e,t))},isLVal:function(e,t){if(!e)return!1;var r=e.type;return("LVal"===r||"Identifier"===r||"MemberExpression"===r||"RestElement"===r||"AssignmentPattern"===r||"ArrayPattern"===r||"ObjectPattern"===r||"TSParameterProperty"===r||"Placeholder"===r&&("Pattern"===e.expectedNode||"Identifier"===e.expectedNode))&&(void 0===t||$(e,t))},isTSEntityName:function(e,t){if(!e)return!1;var r=e.type;return("TSEntityName"===r||"Identifier"===r||"TSQualifiedName"===r||"Placeholder"===r&&"Identifier"===e.expectedNode)&&(void 0===t||$(e,t))},isLiteral:lr,isUserWhitespacable:function(e,t){if(!e)return!1;var r=e.type;return("UserWhitespacable"===r||"ObjectMethod"===r||"ObjectProperty"===r||"ObjectTypeInternalSlot"===r||"ObjectTypeCallProperty"===r||"ObjectTypeIndexer"===r||"ObjectTypeProperty"===r||"ObjectTypeSpreadProperty"===r)&&(void 0===t||$(e,t))},isMethod:cr,isObjectMember:function(e,t){if(!e)return!1;var r=e.type;return("ObjectMember"===r||"ObjectMethod"===r||"ObjectProperty"===r)&&(void 0===t||$(e,t))},isProperty:ur,isUnaryLike:pr,isPattern:dr,isClass:fr,isModuleDeclaration:hr,isExportDeclaration:mr,isModuleSpecifier:yr,isFlow:gr,isFlowType:function(e,t){if(!e)return!1;var r=e.type;return("FlowType"===r||"AnyTypeAnnotation"===r||"ArrayTypeAnnotation"===r||"BooleanTypeAnnotation"===r||"BooleanLiteralTypeAnnotation"===r||"NullLiteralTypeAnnotation"===r||"ExistsTypeAnnotation"===r||"FunctionTypeAnnotation"===r||"GenericTypeAnnotation"===r||"InterfaceTypeAnnotation"===r||"IntersectionTypeAnnotation"===r||"MixedTypeAnnotation"===r||"EmptyTypeAnnotation"===r||"NullableTypeAnnotation"===r||"NumberLiteralTypeAnnotation"===r||"NumberTypeAnnotation"===r||"ObjectTypeAnnotation"===r||"StringLiteralTypeAnnotation"===r||"StringTypeAnnotation"===r||"SymbolTypeAnnotation"===r||"ThisTypeAnnotation"===r||"TupleTypeAnnotation"===r||"TypeofTypeAnnotation"===r||"UnionTypeAnnotation"===r||"VoidTypeAnnotation"===r)&&(void 0===t||$(e,t))},isFlowBaseAnnotation:vr,isFlowDeclaration:function(e,t){if(!e)return!1;var r=e.type;return("FlowDeclaration"===r||"DeclareClass"===r||"DeclareFunction"===r||"DeclareInterface"===r||"DeclareModule"===r||"DeclareModuleExports"===r||"DeclareTypeAlias"===r||"DeclareOpaqueType"===r||"DeclareVariable"===r||"DeclareExportDeclaration"===r||"DeclareExportAllDeclaration"===r||"InterfaceDeclaration"===r||"OpaqueType"===r||"TypeAlias"===r)&&(void 0===t||$(e,t))},isFlowPredicate:function(e,t){if(!e)return!1;var r=e.type;return("FlowPredicate"===r||"DeclaredPredicate"===r||"InferredPredicate"===r)&&(void 0===t||$(e,t))},isEnumBody:function(e,t){if(!e)return!1;var r=e.type;return("EnumBody"===r||"EnumBooleanBody"===r||"EnumNumberBody"===r||"EnumStringBody"===r||"EnumSymbolBody"===r)&&(void 0===t||$(e,t))},isEnumMember:function(e,t){if(!e)return!1;var r=e.type;return("EnumMember"===r||"EnumBooleanMember"===r||"EnumNumberMember"===r||"EnumStringMember"===r||"EnumDefaultedMember"===r)&&(void 0===t||$(e,t))},isJSX:function(e,t){if(!e)return!1;var r=e.type;return("JSX"===r||"JSXAttribute"===r||"JSXClosingElement"===r||"JSXElement"===r||"JSXEmptyExpression"===r||"JSXExpressionContainer"===r||"JSXSpreadChild"===r||"JSXIdentifier"===r||"JSXMemberExpression"===r||"JSXNamespacedName"===r||"JSXOpeningElement"===r||"JSXSpreadAttribute"===r||"JSXText"===r||"JSXFragment"===r||"JSXOpeningFragment"===r||"JSXClosingFragment"===r)&&(void 0===t||$(e,t))},isPrivate:function(e,t){if(!e)return!1;var r=e.type;return("Private"===r||"ClassPrivateProperty"===r||"ClassPrivateMethod"===r||"PrivateName"===r)&&(void 0===t||$(e,t))},isTSTypeElement:function(e,t){if(!e)return!1;var r=e.type;return("TSTypeElement"===r||"TSCallSignatureDeclaration"===r||"TSConstructSignatureDeclaration"===r||"TSPropertySignature"===r||"TSMethodSignature"===r||"TSIndexSignature"===r)&&(void 0===t||$(e,t))},isTSType:function(e,t){if(!e)return!1;var r=e.type;return("TSType"===r||"TSAnyKeyword"===r||"TSBooleanKeyword"===r||"TSBigIntKeyword"===r||"TSIntrinsicKeyword"===r||"TSNeverKeyword"===r||"TSNullKeyword"===r||"TSNumberKeyword"===r||"TSObjectKeyword"===r||"TSStringKeyword"===r||"TSSymbolKeyword"===r||"TSUndefinedKeyword"===r||"TSUnknownKeyword"===r||"TSVoidKeyword"===r||"TSThisType"===r||"TSFunctionType"===r||"TSConstructorType"===r||"TSTypeReference"===r||"TSTypePredicate"===r||"TSTypeQuery"===r||"TSTypeLiteral"===r||"TSArrayType"===r||"TSTupleType"===r||"TSOptionalType"===r||"TSRestType"===r||"TSUnionType"===r||"TSIntersectionType"===r||"TSConditionalType"===r||"TSInferType"===r||"TSParenthesizedType"===r||"TSTypeOperator"===r||"TSIndexedAccessType"===r||"TSMappedType"===r||"TSLiteralType"===r||"TSExpressionWithTypeArguments"===r||"TSImportType"===r)&&(void 0===t||$(e,t))},isTSBaseType:br,isNumberLiteral:function(e,t){return console.trace("The node type NumberLiteral has been renamed to NumericLiteral"),!!e&&("NumberLiteral"===e.type&&(void 0===t||$(e,t)))},isRegexLiteral:function(e,t){return console.trace("The node type RegexLiteral has been renamed to RegExpLiteral"),!!e&&("RegexLiteral"===e.type&&(void 0===t||$(e,t)))},isRestProperty:function(e,t){return console.trace("The node type RestProperty has been renamed to RestElement"),!!e&&("RestProperty"===e.type&&(void 0===t||$(e,t)))},isSpreadProperty:function(e,t){return console.trace("The node type SpreadProperty has been renamed to SpreadElement"),!!e&&("SpreadProperty"===e.type&&(void 0===t||$(e,t)))}}),Dh={types:["Identifier","JSXIdentifier"],checkPath:function(e,t){var r=e.node,n=e.parent;if(!he(r,t)&&!_t(n,t)){if(!Dt(r,t))return!1;if(kh.isCompatTag(r.name))return!1}return Sh(r,n,e.parentPath.parent)}},_h={types:["MemberExpression"],checkPath:function(e){var t=e.node,r=e.parent;return we(t)&&Sh(t,r)}},Ih={types:["Identifier"],checkPath:function(e){var t=e.node,r=e.parent,n=e.parentPath.parent;return he(t)&&xh(t,r,n)}},Oh={types:["Statement"],checkPath:function(e){var t=e.node,r=e.parent;if(er(t)){if(Fe(t)){if(ar(r,{left:t}))return!1;if(pe(r,{init:t}))return!1}return!0}return!1}},Nh={types:["Expression"],checkPath:function(e){return e.isIdentifier()?e.isReferencedIdentifier():$t(e.node)}},Bh={types:["Scopable","Pattern"],checkPath:function(e){return Th(e.node,e.parent)}},Fh={checkPath:function(e){return Sh(e.node,e.parent)}},Rh={checkPath:function(e){return wh(e.node)}},Mh={types:["VariableDeclaration"],checkPath:function(e){return Ph(e.node)}},Lh={types:["Flow","ImportDeclaration","ExportDeclaration","ImportSpecifier"],checkPath:function(e){var t=e.node;return!!gr(t)||(Je(t)?"type"===t.importKind||"typeof"===t.importKind:mr(t)?"type"===t.exportKind:!!Qe(t)&&("type"===t.importKind||"typeof"===t.importKind))}},Uh=Object.freeze({__proto__:null,ReferencedIdentifier:Dh,ReferencedMemberExpression:_h,BindingIdentifier:Ih,Statement:Oh,Expression:Nh,Scope:Bh,Referenced:Fh,BlockScoped:Rh,Var:Mh,User:{checkPath:function(e){return e.node&&!!e.node.loc}},Generated:{checkPath:function(e){return!e.isUser()}},Pure:{checkPath:function(e,t){return e.scope.isPure(e.node,t)}},Flow:Lh,RestProperty:{types:["RestElement"],checkPath:function(e){return e.parentPath&&e.parentPath.isObjectPattern()}},SpreadProperty:{types:["RestElement"],checkPath:function(e){return e.parentPath&&e.parentPath.isObjectExpression()}},ExistentialTypeParam:{types:["ExistsTypeAnnotation"]},NumericLiteralTypeAnnotation:{types:["NumberLiteralTypeAnnotation"]},ForAwaitStatement:{types:["ForOfStatement"],checkPath:function(e){return!0===e.node.await}}}),Wh=1e3,Vh=60*Wh,Gh=60*Vh,Kh=24*Gh,Hh=7*Kh,zh=365.25*Kh,qh=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*zh;case"weeks":case"week":case"w":return r*Hh;case"days":case"day":case"d":return r*Kh;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Gh;case"minutes":case"minute":case"mins":case"min":case"m":return r*Vh;case"seconds":case"second":case"secs":case"sec":case"s":return r*Wh;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Kh)return Xh(e,t,Kh,"day");if(t>=Gh)return Xh(e,t,Gh,"hour");if(t>=Vh)return Xh(e,t,Vh,"minute");if(t>=Wh)return Xh(e,t,Wh,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Kh)return Math.round(e/Kh)+"d";if(t>=Gh)return Math.round(e/Gh)+"h";if(t>=Vh)return Math.round(e/Vh)+"m";if(t>=Wh)return Math.round(e/Wh)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Xh(e,t,r,n){var a=t>=1.5*r;return Math.round(e/r)+" "+n+(a?"s":"")}var Jh=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var s;function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(i.enabled){var a=i,o=Number(new Date),l=o-(s||o);a.diff=l,a.prev=s,a.curr=o,s=o,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;c++;var s=r.formatters[n];if("function"==typeof s){var i=t[c];e=s.call(a,i),t.splice(c,1),c--}return e}),r.formatArgs.call(a,t);var u=a.log||r.log;u.apply(a,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=n,i.extend=a,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function n(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function a(e,t){var n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){var e=[].concat(r.names.map(s),r.skips.map(s).map(function(e){return"-"+e})).join(",");return r.enable(""),e},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),a=n.length;for(t=0;t<a;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var s=r.instances[t];s.enabled=r.enabled(s.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=qh,Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r},Yh=Lr(function(e,t){t.log=function(){var e;return"object"==typeof console&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,a=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))}),t.splice(a,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==si&&"env"in si&&(e=si.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=Jh(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),$h=function(){function e(e){var t=e.identifier,r=e.scope,n=e.path,a=e.kind;this.constantViolations=void 0,this.constant=void 0,this.referencePaths=void 0,this.referenced=void 0,this.references=void 0,this.hasDeoptedValue=void 0,this.hasValue=void 0,this.value=void 0,this.identifier=t,this.scope=r,this.path=n,this.kind=a,this.constantViolations=[],this.constant=!0,this.referencePaths=[],this.referenced=!1,this.references=0,this.clearValue()}var t=e.prototype;return t.deoptValue=function(){this.clearValue(),this.hasDeoptedValue=!0},t.setValue=function(e){this.hasDeoptedValue||(this.hasValue=!0,this.value=e)},t.clearValue=function(){this.hasDeoptedValue=!1,this.hasValue=!1,this.value=null},t.reassign=function(e){this.constant=!1,-1===this.constantViolations.indexOf(e)&&this.constantViolations.push(e)},t.reference=function(e){-1===this.referencePaths.indexOf(e)&&(this.referenced=!0,this.references++,this.referencePaths.push(e))},t.dereference=function(){this.references--,this.referenced=!!this.references},e}();function Qh(e){if(!e.isExportDeclaration())throw new Error("Only export declarations can be split.");var t=e.isExportDefaultDeclaration(),r=e.get("declaration"),n=r.isClassDeclaration();if(t){var a=r.isFunctionDeclaration()||n,s=r.isScope()?r.scope.parent:r.scope,i=r.node.id,o=!1;i||(o=!0,i=s.generateUidIdentifier("default"),(a||r.isFunctionExpression()||r.isClassExpression())&&(r.node.id=Gd(i)));var l=a?r:Xl("var",[Jl(Gd(i),r.node)]),c=ic(null,[oc(Gd(i),wl("default"))]);return e.insertAfter(c),e.replaceWith(l),o&&s.registerDeclaration(e),e}if(e.get("specifiers").length>0)throw new Error("It doesn't make sense to split exported specifiers.");var u=r.getOuterBindingIdentifiers(),p=ic(null,Object.keys(u).map(function(e){return oc(wl(e),wl(e))}));return e.insertAfter(p),e.replaceWith(r.node),e}var Zh={ReferencedIdentifier:function(e,t){var r=e.node;r.name===t.oldName&&(r.name=t.newName)},Scope:function(e,t){e.scope.bindingIdentifierEquals(t.oldName,t.binding.identifier)||e.skip()},"AssignmentExpression|Declaration|VariableDeclarator":function(e,t){if(!e.isVariableDeclaration()){var r=e.getOuterBindingIdentifiers();for(var n in r)n===t.oldName&&(r[n].name=t.newName)}}},em=function(){function e(e,t,r){this.oldName=void 0,this.newName=void 0,this.binding=void 0,this.newName=r,this.oldName=t,this.binding=e}var t=e.prototype;return t.maybeConvertFromExportDeclaration=function(e){var t=e.parentPath;t.isExportDeclaration()&&(t.isExportDefaultDeclaration()&&!t.get("declaration").node.id||Qh(t))},t.maybeConvertFromClassFunctionDeclaration=function(e){},t.maybeConvertFromClassFunctionExpression=function(e){},t.rename=function(e){var t=this.binding,r=this.oldName,n=this.newName,a=t.scope,s=t.path.find(function(e){return e.isDeclaration()||e.isFunctionExpression()||e.isClassExpression()});s&&(s.getOuterBindingIdentifiers()[r]===t.identifier&&this.maybeConvertFromExportDeclaration(s));a.traverse(e||a.block,Zh,this),e||(a.removeOwnBinding(r),a.bindings[n]=t,this.binding.identifier.name=n),t.type,s&&(this.maybeConvertFromClassFunctionDeclaration(s),this.maybeConvertFromClassFunctionExpression(s))},e}(),tm={Array:!1,ArrayBuffer:!1,Atomics:!1,BigInt:!1,BigInt64Array:!1,BigUint64Array:!1,Boolean:!1,constructor:!1,DataView:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,escape:!1,eval:!1,EvalError:!1,Float32Array:!1,Float64Array:!1,Function:!1,globalThis:!1,hasOwnProperty:!1,Infinity:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,isFinite:!1,isNaN:!1,isPrototypeOf:!1,JSON:!1,Map:!1,Math:!1,NaN:!1,Number:!1,Object:!1,parseFloat:!1,parseInt:!1,Promise:!1,propertyIsEnumerable:!1,Proxy:!1,RangeError:!1,ReferenceError:!1,Reflect:!1,RegExp:!1,Set:!1,SharedArrayBuffer:!1,String:!1,Symbol:!1,SyntaxError:!1,toLocaleString:!1,toString:!1,TypeError:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1,undefined:!1,unescape:!1,URIError:!1,valueOf:!1,WeakMap:!1,WeakSet:!1},rm={Array:!1,Boolean:!1,constructor:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,escape:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,Infinity:!1,isFinite:!1,isNaN:!1,isPrototypeOf:!1,JSON:!1,Math:!1,NaN:!1,Number:!1,Object:!1,parseFloat:!1,parseInt:!1,propertyIsEnumerable:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,toLocaleString:!1,toString:!1,TypeError:!1,undefined:!1,unescape:!1,URIError:!1,valueOf:!1},nm={Array:!1,ArrayBuffer:!1,Boolean:!1,constructor:!1,DataView:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,escape:!1,eval:!1,EvalError:!1,Float32Array:!1,Float64Array:!1,Function:!1,hasOwnProperty:!1,Infinity:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,isFinite:!1,isNaN:!1,isPrototypeOf:!1,JSON:!1,Map:!1,Math:!1,NaN:!1,Number:!1,Object:!1,parseFloat:!1,parseInt:!1,Promise:!1,propertyIsEnumerable:!1,Proxy:!1,RangeError:!1,ReferenceError:!1,Reflect:!1,RegExp:!1,Set:!1,String:!1,Symbol:!1,SyntaxError:!1,toLocaleString:!1,toString:!1,TypeError:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1,undefined:!1,unescape:!1,URIError:!1,valueOf:!1,WeakMap:!1,WeakSet:!1},am={Array:!1,ArrayBuffer:!1,Atomics:!1,Boolean:!1,constructor:!1,DataView:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,escape:!1,eval:!1,EvalError:!1,Float32Array:!1,Float64Array:!1,Function:!1,hasOwnProperty:!1,Infinity:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,isFinite:!1,isNaN:!1,isPrototypeOf:!1,JSON:!1,Map:!1,Math:!1,NaN:!1,Number:!1,Object:!1,parseFloat:!1,parseInt:!1,Promise:!1,propertyIsEnumerable:!1,Proxy:!1,RangeError:!1,ReferenceError:!1,Reflect:!1,RegExp:!1,Set:!1,SharedArrayBuffer:!1,String:!1,Symbol:!1,SyntaxError:!1,toLocaleString:!1,toString:!1,TypeError:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1,undefined:!1,unescape:!1,URIError:!1,valueOf:!1,WeakMap:!1,WeakSet:!1},sm={AbortController:!1,AbortSignal:!1,addEventListener:!1,alert:!1,AnalyserNode:!1,Animation:!1,AnimationEffectReadOnly:!1,AnimationEffectTiming:!1,AnimationEffectTimingReadOnly:!1,AnimationEvent:!1,AnimationPlaybackEvent:!1,AnimationTimeline:!1,applicationCache:!1,ApplicationCache:!1,ApplicationCacheErrorEvent:!1,atob:!1,Attr:!1,Audio:!1,AudioBuffer:!1,AudioBufferSourceNode:!1,AudioContext:!1,AudioDestinationNode:!1,AudioListener:!1,AudioNode:!1,AudioParam:!1,AudioProcessingEvent:!1,AudioScheduledSourceNode:!1,"AudioWorkletGlobalScope ":!1,AudioWorkletNode:!1,AudioWorkletProcessor:!1,BarProp:!1,BaseAudioContext:!1,BatteryManager:!1,BeforeUnloadEvent:!1,BiquadFilterNode:!1,Blob:!1,BlobEvent:!1,blur:!1,BroadcastChannel:!1,btoa:!1,BudgetService:!1,ByteLengthQueuingStrategy:!1,Cache:!1,caches:!1,CacheStorage:!1,cancelAnimationFrame:!1,cancelIdleCallback:!1,CanvasCaptureMediaStreamTrack:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,ChannelMergerNode:!1,ChannelSplitterNode:!1,CharacterData:!1,clearInterval:!1,clearTimeout:!1,clientInformation:!1,ClipboardEvent:!1,close:!1,closed:!1,CloseEvent:!1,Comment:!1,CompositionEvent:!1,confirm:!1,console:!1,ConstantSourceNode:!1,ConvolverNode:!1,CountQueuingStrategy:!1,createImageBitmap:!1,Credential:!1,CredentialsContainer:!1,crypto:!1,Crypto:!1,CryptoKey:!1,CSS:!1,CSSConditionRule:!1,CSSFontFaceRule:!1,CSSGroupingRule:!1,CSSImportRule:!1,CSSKeyframeRule:!1,CSSKeyframesRule:!1,CSSMediaRule:!1,CSSNamespaceRule:!1,CSSPageRule:!1,CSSRule:!1,CSSRuleList:!1,CSSStyleDeclaration:!1,CSSStyleRule:!1,CSSStyleSheet:!1,CSSSupportsRule:!1,CustomElementRegistry:!1,customElements:!1,CustomEvent:!1,DataTransfer:!1,DataTransferItem:!1,DataTransferItemList:!1,defaultstatus:!1,defaultStatus:!1,DelayNode:!1,DeviceMotionEvent:!1,DeviceOrientationEvent:!1,devicePixelRatio:!1,dispatchEvent:!1,document:!1,Document:!1,DocumentFragment:!1,DocumentType:!1,DOMError:!1,DOMException:!1,DOMImplementation:!1,DOMMatrix:!1,DOMMatrixReadOnly:!1,DOMParser:!1,DOMPoint:!1,DOMPointReadOnly:!1,DOMQuad:!1,DOMRect:!1,DOMRectReadOnly:!1,DOMStringList:!1,DOMStringMap:!1,DOMTokenList:!1,DragEvent:!1,DynamicsCompressorNode:!1,Element:!1,ErrorEvent:!1,event:!1,Event:!1,EventSource:!1,EventTarget:!1,external:!1,fetch:!1,File:!1,FileList:!1,FileReader:!1,find:!1,focus:!1,FocusEvent:!1,FontFace:!1,FontFaceSetLoadEvent:!1,FormData:!1,frameElement:!1,frames:!1,GainNode:!1,Gamepad:!1,GamepadButton:!1,GamepadEvent:!1,getComputedStyle:!1,getSelection:!1,HashChangeEvent:!1,Headers:!1,history:!1,History:!1,HTMLAllCollection:!1,HTMLAnchorElement:!1,HTMLAreaElement:!1,HTMLAudioElement:!1,HTMLBaseElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLContentElement:!1,HTMLDataElement:!1,HTMLDataListElement:!1,HTMLDetailsElement:!1,HTMLDialogElement:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLDocument:!1,HTMLElement:!1,HTMLEmbedElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormControlsCollection:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLLabelElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMarqueeElement:!1,HTMLMediaElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLMeterElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLOptionsCollection:!1,HTMLOutputElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPictureElement:!1,HTMLPreElement:!1,HTMLProgressElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLShadowElement:!1,HTMLSlotElement:!1,HTMLSourceElement:!1,HTMLSpanElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTimeElement:!1,HTMLTitleElement:!1,HTMLTrackElement:!1,HTMLUListElement:!1,HTMLUnknownElement:!1,HTMLVideoElement:!1,IDBCursor:!1,IDBCursorWithValue:!1,IDBDatabase:!1,IDBFactory:!1,IDBIndex:!1,IDBKeyRange:!1,IDBObjectStore:!1,IDBOpenDBRequest:!1,IDBRequest:!1,IDBTransaction:!1,IDBVersionChangeEvent:!1,IdleDeadline:!1,IIRFilterNode:!1,Image:!1,ImageBitmap:!1,ImageBitmapRenderingContext:!1,ImageCapture:!1,ImageData:!1,indexedDB:!1,innerHeight:!1,innerWidth:!1,InputEvent:!1,IntersectionObserver:!1,IntersectionObserverEntry:!1,Intl:!1,isSecureContext:!1,KeyboardEvent:!1,KeyframeEffect:!1,KeyframeEffectReadOnly:!1,length:!1,localStorage:!1,location:!0,Location:!1,locationbar:!1,matchMedia:!1,MediaDeviceInfo:!1,MediaDevices:!1,MediaElementAudioSourceNode:!1,MediaEncryptedEvent:!1,MediaError:!1,MediaKeyMessageEvent:!1,MediaKeySession:!1,MediaKeyStatusMap:!1,MediaKeySystemAccess:!1,MediaList:!1,MediaQueryList:!1,MediaQueryListEvent:!1,MediaRecorder:!1,MediaSettingsRange:!1,MediaSource:!1,MediaStream:!1,MediaStreamAudioDestinationNode:!1,MediaStreamAudioSourceNode:!1,MediaStreamEvent:!1,MediaStreamTrack:!1,MediaStreamTrackEvent:!1,menubar:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MIDIAccess:!1,MIDIConnectionEvent:!1,MIDIInput:!1,MIDIInputMap:!1,MIDIMessageEvent:!1,MIDIOutput:!1,MIDIOutputMap:!1,MIDIPort:!1,MimeType:!1,MimeTypeArray:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationEvent:!1,MutationObserver:!1,MutationRecord:!1,name:!1,NamedNodeMap:!1,NavigationPreloadManager:!1,navigator:!1,Navigator:!1,NetworkInformation:!1,Node:!1,NodeFilter:!1,NodeIterator:!1,NodeList:!1,Notification:!1,OfflineAudioCompletionEvent:!1,OfflineAudioContext:!1,offscreenBuffering:!1,OffscreenCanvas:!0,onabort:!0,onafterprint:!0,onanimationend:!0,onanimationiteration:!0,onanimationstart:!0,onappinstalled:!0,onauxclick:!0,onbeforeinstallprompt:!0,onbeforeprint:!0,onbeforeunload:!0,onblur:!0,oncancel:!0,oncanplay:!0,oncanplaythrough:!0,onchange:!0,onclick:!0,onclose:!0,oncontextmenu:!0,oncuechange:!0,ondblclick:!0,ondevicemotion:!0,ondeviceorientation:!0,ondeviceorientationabsolute:!0,ondrag:!0,ondragend:!0,ondragenter:!0,ondragleave:!0,ondragover:!0,ondragstart:!0,ondrop:!0,ondurationchange:!0,onemptied:!0,onended:!0,onerror:!0,onfocus:!0,ongotpointercapture:!0,onhashchange:!0,oninput:!0,oninvalid:!0,onkeydown:!0,onkeypress:!0,onkeyup:!0,onlanguagechange:!0,onload:!0,onloadeddata:!0,onloadedmetadata:!0,onloadstart:!0,onlostpointercapture:!0,onmessage:!0,onmessageerror:!0,onmousedown:!0,onmouseenter:!0,onmouseleave:!0,onmousemove:!0,onmouseout:!0,onmouseover:!0,onmouseup:!0,onmousewheel:!0,onoffline:!0,ononline:!0,onpagehide:!0,onpageshow:!0,onpause:!0,onplay:!0,onplaying:!0,onpointercancel:!0,onpointerdown:!0,onpointerenter:!0,onpointerleave:!0,onpointermove:!0,onpointerout:!0,onpointerover:!0,onpointerup:!0,onpopstate:!0,onprogress:!0,onratechange:!0,onrejectionhandled:!0,onreset:!0,onresize:!0,onscroll:!0,onsearch:!0,onseeked:!0,onseeking:!0,onselect:!0,onstalled:!0,onstorage:!0,onsubmit:!0,onsuspend:!0,ontimeupdate:!0,ontoggle:!0,ontransitionend:!0,onunhandledrejection:!0,onunload:!0,onvolumechange:!0,onwaiting:!0,onwheel:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,origin:!1,OscillatorNode:!1,outerHeight:!1,outerWidth:!1,PageTransitionEvent:!1,pageXOffset:!1,pageYOffset:!1,PannerNode:!1,parent:!1,Path2D:!1,PaymentAddress:!1,PaymentRequest:!1,PaymentRequestUpdateEvent:!1,PaymentResponse:!1,performance:!1,Performance:!1,PerformanceEntry:!1,PerformanceLongTaskTiming:!1,PerformanceMark:!1,PerformanceMeasure:!1,PerformanceNavigation:!1,PerformanceNavigationTiming:!1,PerformanceObserver:!1,PerformanceObserverEntryList:!1,PerformancePaintTiming:!1,PerformanceResourceTiming:!1,PerformanceTiming:!1,PeriodicWave:!1,Permissions:!1,PermissionStatus:!1,personalbar:!1,PhotoCapabilities:!1,Plugin:!1,PluginArray:!1,PointerEvent:!1,PopStateEvent:!1,postMessage:!1,Presentation:!1,PresentationAvailability:!1,PresentationConnection:!1,PresentationConnectionAvailableEvent:!1,PresentationConnectionCloseEvent:!1,PresentationConnectionList:!1,PresentationReceiver:!1,PresentationRequest:!1,print:!1,ProcessingInstruction:!1,ProgressEvent:!1,PromiseRejectionEvent:!1,prompt:!1,PushManager:!1,PushSubscription:!1,PushSubscriptionOptions:!1,queueMicrotask:!1,RadioNodeList:!1,Range:!1,ReadableStream:!1,registerProcessor:!1,RemotePlayback:!1,removeEventListener:!1,Request:!1,requestAnimationFrame:!1,requestIdleCallback:!1,resizeBy:!1,ResizeObserver:!1,ResizeObserverEntry:!1,resizeTo:!1,Response:!1,RTCCertificate:!1,RTCDataChannel:!1,RTCDataChannelEvent:!1,RTCDtlsTransport:!1,RTCIceCandidate:!1,RTCIceGatherer:!1,RTCIceTransport:!1,RTCPeerConnection:!1,RTCPeerConnectionIceEvent:!1,RTCRtpContributingSource:!1,RTCRtpReceiver:!1,RTCRtpSender:!1,RTCSctpTransport:!1,RTCSessionDescription:!1,RTCStatsReport:!1,RTCTrackEvent:!1,screen:!1,Screen:!1,screenLeft:!1,ScreenOrientation:!1,screenTop:!1,screenX:!1,screenY:!1,ScriptProcessorNode:!1,scroll:!1,scrollbars:!1,scrollBy:!1,scrollTo:!1,scrollX:!1,scrollY:!1,SecurityPolicyViolationEvent:!1,Selection:!1,self:!1,ServiceWorker:!1,ServiceWorkerContainer:!1,ServiceWorkerRegistration:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,ShadowRoot:!1,SharedWorker:!1,SourceBuffer:!1,SourceBufferList:!1,speechSynthesis:!1,SpeechSynthesisEvent:!1,SpeechSynthesisUtterance:!1,StaticRange:!1,status:!1,statusbar:!1,StereoPannerNode:!1,stop:!1,Storage:!1,StorageEvent:!1,StorageManager:!1,styleMedia:!1,StyleSheet:!1,StyleSheetList:!1,SubtleCrypto:!1,SVGAElement:!1,SVGAngle:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimationElement:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGComponentTransferFunctionElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDiscardElement:!1,SVGElement:!1,SVGEllipseElement:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEDropShadowElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGeometryElement:!1,SVGGradientElement:!1,SVGGraphicsElement:!1,SVGImageElement:!1,SVGLength:!1,SVGLengthList:!1,SVGLinearGradientElement:!1,SVGLineElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMPathElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPathElement:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStyleElement:!1,SVGSVGElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTSpanElement:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGViewElement:!1,TaskAttributionTiming:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TextEvent:!1,TextMetrics:!1,TextTrack:!1,TextTrackCue:!1,
TextTrackCueList:!1,TextTrackList:!1,TimeRanges:!1,toolbar:!1,top:!1,Touch:!1,TouchEvent:!1,TouchList:!1,TrackEvent:!1,TransitionEvent:!1,TreeWalker:!1,UIEvent:!1,URL:!1,URLSearchParams:!1,ValidityState:!1,visualViewport:!1,VisualViewport:!1,VTTCue:!1,WaveShaperNode:!1,WebAssembly:!1,WebGL2RenderingContext:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLQuery:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLSampler:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLSync:!1,WebGLTexture:!1,WebGLTransformFeedback:!1,WebGLUniformLocation:!1,WebGLVertexArrayObject:!1,WebSocket:!1,WheelEvent:!1,window:!1,Window:!1,Worker:!1,WritableStream:!1,XMLDocument:!1,XMLHttpRequest:!1,XMLHttpRequestEventTarget:!1,XMLHttpRequestUpload:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathExpression:!1,XPathResult:!1,XSLTProcessor:!1},im={addEventListener:!1,applicationCache:!1,atob:!1,Blob:!1,BroadcastChannel:!1,btoa:!1,Cache:!1,caches:!1,clearInterval:!1,clearTimeout:!1,close:!0,console:!1,fetch:!1,FileReaderSync:!1,FormData:!1,Headers:!1,IDBCursor:!1,IDBCursorWithValue:!1,IDBDatabase:!1,IDBFactory:!1,IDBIndex:!1,IDBKeyRange:!1,IDBObjectStore:!1,IDBOpenDBRequest:!1,IDBRequest:!1,IDBTransaction:!1,IDBVersionChangeEvent:!1,ImageData:!1,importScripts:!0,indexedDB:!1,location:!1,MessageChannel:!1,MessagePort:!1,name:!1,navigator:!1,Notification:!1,onclose:!0,onconnect:!0,onerror:!0,onlanguagechange:!0,onmessage:!0,onoffline:!0,ononline:!0,onrejectionhandled:!0,onunhandledrejection:!0,performance:!1,Performance:!1,PerformanceEntry:!1,PerformanceMark:!1,PerformanceMeasure:!1,PerformanceNavigation:!1,PerformanceResourceTiming:!1,PerformanceTiming:!1,postMessage:!0,Promise:!1,queueMicrotask:!1,removeEventListener:!1,Request:!1,Response:!1,self:!0,ServiceWorkerRegistration:!1,setInterval:!1,setTimeout:!1,TextDecoder:!1,TextEncoder:!1,URL:!1,URLSearchParams:!1,WebSocket:!1,Worker:!1,WorkerGlobalScope:!1,XMLHttpRequest:!1},om={__dirname:!1,__filename:!1,Buffer:!1,clearImmediate:!1,clearInterval:!1,clearTimeout:!1,console:!1,exports:!0,global:!1,Intl:!1,module:!1,process:!1,queueMicrotask:!1,require:!1,setImmediate:!1,setInterval:!1,setTimeout:!1,TextDecoder:!1,TextEncoder:!1,URL:!1,URLSearchParams:!1},lm={exports:!0,global:!1,module:!1,require:!1},cm={define:!1,require:!1},um={after:!1,afterEach:!1,before:!1,beforeEach:!1,context:!1,describe:!1,it:!1,mocha:!1,run:!1,setup:!1,specify:!1,suite:!1,suiteSetup:!1,suiteTeardown:!1,teardown:!1,test:!1,xcontext:!1,xdescribe:!1,xit:!1,xspecify:!1},pm={afterAll:!1,afterEach:!1,beforeAll:!1,beforeEach:!1,describe:!1,expect:!1,fail:!1,fdescribe:!1,fit:!1,it:!1,jasmine:!1,pending:!1,runs:!1,spyOn:!1,spyOnProperty:!1,waits:!1,waitsFor:!1,xdescribe:!1,xit:!1},dm={afterAll:!1,afterEach:!1,beforeAll:!1,beforeEach:!1,describe:!1,expect:!1,fdescribe:!1,fit:!1,it:!1,jest:!1,pit:!1,require:!1,test:!1,xdescribe:!1,xit:!1,xtest:!1},fm={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notOk:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,throws:!1},hm={console:!0,exports:!0,phantom:!0,require:!0,WebPage:!0},mm={emit:!1,exports:!1,getRow:!1,log:!1,module:!1,provides:!1,require:!1,respond:!1,send:!1,start:!1,sum:!1},ym={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},gm={__DIR__:!1,__FILE__:!1,__LINE__:!1,com:!1,edu:!1,exit:!1,java:!1,Java:!1,javafx:!1,JavaImporter:!1,javax:!1,JSAdapter:!1,load:!1,loadWithNewGlobal:!1,org:!1,Packages:!1,print:!1,quit:!1},vm={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WScript:!0,WSH:!0,XDomainRequest:!0},bm={$:!1,jQuery:!1},xm={YAHOO:!1,YAHOO_config:!1,YUI:!1,YUI_config:!1},Em={cat:!1,cd:!1,chmod:!1,config:!1,cp:!1,dirs:!1,echo:!1,env:!1,error:!1,exec:!1,exit:!1,find:!1,grep:!1,ln:!1,ls:!1,mkdir:!1,mv:!1,popd:!1,pushd:!1,pwd:!1,rm:!1,sed:!1,set:!1,target:!1,tempdir:!1,test:!1,touch:!1,which:!1},wm={$:!1,$$:!1,$A:!1,$break:!1,$continue:!1,$F:!1,$H:!1,$R:!1,$w:!1,Abstract:!1,Ajax:!1,Autocompleter:!1,Builder:!1,Class:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Element:!1,Enumerable:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Scriptaculous:!1,Selector:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Template:!1,Toggle:!1,Try:!1},Sm={_:!1,$:!1,Accounts:!1,AccountsClient:!1,AccountsCommon:!1,AccountsServer:!1,App:!1,Assets:!1,Blaze:!1,check:!1,Cordova:!1,DDP:!1,DDPRateLimiter:!1,DDPServer:!1,Deps:!1,EJSON:!1,Email:!1,HTTP:!1,Log:!1,Match:!1,Meteor:!1,Mongo:!1,MongoInternals:!1,Npm:!1,Package:!1,Plugin:!1,process:!1,Random:!1,ReactiveDict:!1,ReactiveVar:!1,Router:!1,ServiceConfiguration:!1,Session:!1,share:!1,Spacebars:!1,Template:!1,Tinytest:!1,Tracker:!1,UI:!1,Utils:!1,WebApp:!1,WebAppInternals:!1},Tm={_isWindows:!1,_rand:!1,BulkWriteResult:!1,cat:!1,cd:!1,connect:!1,db:!1,getHostName:!1,getMemInfo:!1,hostname:!1,ISODate:!1,listFiles:!1,load:!1,ls:!1,md5sumFile:!1,mkdir:!1,Mongo:!1,NumberInt:!1,NumberLong:!1,ObjectId:!1,PlanCache:!1,print:!1,printjson:!1,pwd:!1,quit:!1,removeFile:!1,rs:!1,sh:!1,UUID:!1,version:!1,WriteResult:!1},jm={$:!1,Application:!1,Automation:!1,console:!1,delay:!1,Library:!1,ObjC:!1,ObjectSpecifier:!1,Path:!1,Progress:!1,Ref:!1},Am={addEventListener:!1,applicationCache:!1,atob:!1,Blob:!1,BroadcastChannel:!1,btoa:!1,Cache:!1,caches:!1,CacheStorage:!1,clearInterval:!1,clearTimeout:!1,Client:!1,clients:!1,Clients:!1,close:!0,console:!1,ExtendableEvent:!1,ExtendableMessageEvent:!1,fetch:!1,FetchEvent:!1,FileReaderSync:!1,FormData:!1,Headers:!1,IDBCursor:!1,IDBCursorWithValue:!1,IDBDatabase:!1,IDBFactory:!1,IDBIndex:!1,IDBKeyRange:!1,IDBObjectStore:!1,IDBOpenDBRequest:!1,IDBRequest:!1,IDBTransaction:!1,IDBVersionChangeEvent:!1,ImageData:!1,importScripts:!1,indexedDB:!1,location:!1,MessageChannel:!1,MessagePort:!1,name:!1,navigator:!1,Notification:!1,onclose:!0,onconnect:!0,onerror:!0,onfetch:!0,oninstall:!0,onlanguagechange:!0,onmessage:!0,onmessageerror:!0,onnotificationclick:!0,onnotificationclose:!0,onoffline:!0,ononline:!0,onpush:!0,onpushsubscriptionchange:!0,onrejectionhandled:!0,onsync:!0,onunhandledrejection:!0,performance:!1,Performance:!1,PerformanceEntry:!1,PerformanceMark:!1,PerformanceMeasure:!1,PerformanceNavigation:!1,PerformanceResourceTiming:!1,PerformanceTiming:!1,postMessage:!0,Promise:!1,queueMicrotask:!1,registration:!1,removeEventListener:!1,Request:!1,Response:!1,self:!1,ServiceWorker:!1,ServiceWorkerContainer:!1,ServiceWorkerGlobalScope:!1,ServiceWorkerMessageEvent:!1,ServiceWorkerRegistration:!1,setInterval:!1,setTimeout:!1,skipWaiting:!1,TextDecoder:!1,TextEncoder:!1,URL:!1,URLSearchParams:!1,WebSocket:!1,WindowClient:!1,Worker:!1,WorkerGlobalScope:!1,XMLHttpRequest:!1},Pm={advanceClock:!1,fakeClearInterval:!1,fakeClearTimeout:!1,fakeSetInterval:!1,fakeSetTimeout:!1,resetTimeouts:!1,waitsForPromise:!1},km={andThen:!1,click:!1,currentPath:!1,currentRouteName:!1,currentURL:!1,fillIn:!1,find:!1,findAll:!1,findWithAssert:!1,keyEvent:!1,pauseTest:!1,resumeTest:!1,triggerEvent:!1,visit:!1,wait:!1},Cm={$:!1,$$:!1,browser:!1,by:!1,By:!1,DartObject:!1,element:!1,protractor:!1},Dm={browser:!1,chrome:!1,opr:!1},_m={cloneInto:!1,createObjectIn:!1,exportFunction:!1,GM:!1,GM_addStyle:!1,GM_deleteValue:!1,GM_getResourceText:!1,GM_getResourceURL:!1,GM_getValue:!1,GM_info:!1,GM_listValues:!1,GM_log:!1,GM_openInTab:!1,GM_registerMenuCommand:!1,GM_setClipboard:!1,GM_setValue:!1,GM_xmlhttpRequest:!1,unsafeWindow:!1},Im={$:!1,$_:!1,$$:!1,$0:!1,$1:!1,$2:!1,$3:!1,$4:!1,$x:!1,chrome:!1,clear:!1,copy:!1,debug:!1,dir:!1,dirxml:!1,getEventListeners:!1,inspect:!1,keys:!1,monitor:!1,monitorEvents:!1,profile:!1,profileEnd:!1,queryObjects:!1,table:!1,undebug:!1,unmonitor:!1,unmonitorEvents:!1,values:!1},Om={builtin:tm,es5:rm,es2015:nm,es2017:am,browser:sm,worker:im,node:om,commonjs:lm,amd:cm,mocha:um,jasmine:pm,jest:dm,qunit:fm,phantomjs:hm,couch:mm,rhino:ym,nashorn:gm,wsh:vm,jquery:bm,yui:xm,shelljs:Em,prototypejs:wm,meteor:Sm,mongo:Tm,applescript:jm,serviceworker:Am,atomtest:Pm,embertest:km,protractor:Cm,"shared-node-browser":{clearInterval:!1,clearTimeout:!1,console:!1,setInterval:!1,setTimeout:!1,URL:!1,URLSearchParams:!1},webextensions:Dm,greasemonkey:_m,devtools:Im},Nm=Ur(Object.freeze({__proto__:null,builtin:tm,es5:rm,es2015:nm,es2017:am,browser:sm,worker:im,node:om,commonjs:lm,amd:cm,mocha:um,jasmine:pm,jest:dm,qunit:fm,phantomjs:hm,couch:mm,rhino:ym,nashorn:gm,wsh:vm,jquery:bm,yui:xm,shelljs:Em,prototypejs:wm,meteor:Sm,mongo:Tm,applescript:jm,serviceworker:Am,atomtest:Pm,embertest:km,protractor:Cm,webextensions:Dm,greasemonkey:_m,devtools:Im,default:Om})),Bm=new WeakMap,Fm=new WeakMap;function Rm(){Bm=new WeakMap}function Mm(){Fm=new WeakMap}var Lm=Object.freeze({__proto__:null,get path(){return Bm},get scope(){return Fm},clear:function(){Rm(),Mm()},clearPath:Rm,clearScope:Mm});var Um={For:function(e){for(var t=0,r=_i;t<r.length;t++){var n=r[t],a=e.get(n);if(a.isVar())(e.scope.getFunctionParent()||e.scope.getProgramParent()).registerBinding("var",a)}},Declaration:function(e){e.isBlockScoped()||(e.isExportDeclaration()&&e.get("declaration").isDeclaration()||(e.scope.getFunctionParent()||e.scope.getProgramParent()).registerDeclaration(e))},ReferencedIdentifier:function(e,t){t.references.push(e)},ForXStatement:function(e,t){var r=e.get("left");(r.isPattern()||r.isIdentifier())&&t.constantViolations.push(e)},ExportDeclaration:{exit:function(e){var t=e.node,r=e.scope,n=t.declaration;if(Ke(n)||de(n)){var a=n.id;if(!a)return;var s=r.getBinding(a.name);s&&s.reference(e)}else if(Fe(n))for(var i=0,o=n.declarations;i<o.length;i++)for(var l=o[i],c=0,u=Object.keys(ah(l));c<u.length;c++){var p=u[c],d=r.getBinding(p);d&&d.reference(e)}}},LabeledStatement:function(e){e.scope.getProgramParent().addGlobal(e.node),e.scope.getBlockParent().registerDeclaration(e)},AssignmentExpression:function(e,t){t.assignments.push(e)},UpdateExpression:function(e,t){t.constantViolations.push(e)},UnaryExpression:function(e,t){"delete"===e.node.operator&&t.constantViolations.push(e)},BlockScoped:function(e){var t=e.scope;if(t.path===e&&(t=t.parent),t.getBlockParent().registerDeclaration(e),e.isClassDeclaration()&&e.node.id){var r=e.node.id.name;e.scope.bindings[r]=e.scope.parent.getBinding(r)}},Block:function(e){for(var t=0,r=e.get("body");t<r.length;t++){var n=r[t];n.isFunctionDeclaration()&&e.scope.getBlockParent().registerDeclaration(n)}},CatchClause:function(e){e.scope.registerBinding("let",e)},Function:function(e){e.isFunctionExpression()&&e.has("id")&&!e.get("id").node[Xi]&&e.scope.registerBinding("local",e.get("id"),e);for(var t,r=U(e.get("params"));!(t=r()).done;){var n=t.value;e.scope.registerBinding("param",n)}},ClassExpression:function(e){e.has("id")&&!e.get("id").node[Xi]&&e.scope.registerBinding("local",e)}},Wm=0,Vm=function(){function e(e){var t=e.node,r=Fm.get(t);if((null==r?void 0:r.path)===e)return r;Fm.set(t,this),this.uid=Wm++,this.block=t,this.path=e,this.labels=new Map,this.inited=!1}var t=e.prototype;return t.traverse=function(e,t,r){Kw(e,t,this,r,this.path)},t.generateDeclaredUidIdentifier=function(e){var t=this.generateUidIdentifier(e);return this.push({id:t}),Gd(t)},t.generateUidIdentifier=function(e){return wl(this.generateUid(e))},t.generateUid=function(e){var t;void 0===e&&(e="temp"),e=Xf(e).replace(/^_+/,"").replace(/[0-9]+$/g,"");var r=1;do{t=this._generateUid(e,r),r++}while(this.hasLabel(t)||this.hasBinding(t)||this.hasGlobal(t)||this.hasReference(t));var n=this.getProgramParent();return n.references[t]=!0,n.uids[t]=!0,t},t._generateUid=function(e,t){var r=e;return t>1&&(r+=t),"_"+r},t.generateUidBasedOnNode=function(e,t){var r=[];!function e(t,r){switch(null==t?void 0:t.type){default:if(hr(t))if(t.source)e(t.source,r);else if(t.specifiers&&t.specifiers.length)for(var n,a=U(t.specifiers);!(n=a()).done;)e(n.value,r);else t.declaration&&e(t.declaration,r);else yr(t)?e(t.local,r):lr(t)&&r.push(t.value);break;case"MemberExpression":case"OptionalMemberExpression":case"JSXMemberExpression":e(t.object,r),e(t.property,r);break;case"Identifier":case"JSXIdentifier":r.push(t.name);break;case"CallExpression":case"OptionalCallExpression":case"NewExpression":e(t.callee,r);break;case"ObjectExpression":case"ObjectPattern":for(var s,i=U(t.properties);!(s=i()).done;)e(s.value,r);break;case"SpreadElement":case"RestElement":e(t.argument,r);break;case"ObjectProperty":case"ObjectMethod":case"ClassProperty":case"ClassMethod":case"ClassPrivateProperty":case"ClassPrivateMethod":e(t.key,r);break;case"ThisExpression":r.push("this");break;case"Super":r.push("super");break;case"Import":r.push("import");break;case"DoExpression":r.push("do");break;case"YieldExpression":r.push("yield"),e(t.argument,r);break;case"AwaitExpression":r.push("await"),e(t.argument,r);break;case"AssignmentExpression":e(t.left,r);break;case"VariableDeclarator":e(t.id,r);break;case"FunctionExpression":case"FunctionDeclaration":case"ClassExpression":case"ClassDeclaration":case"PrivateName":e(t.id,r);break;case"ParenthesizedExpression":e(t.expression,r);break;case"UnaryExpression":case"UpdateExpression":e(t.argument,r);break;case"MetaProperty":e(t.meta,r),e(t.property,r);break;case"JSXElement":e(t.openingElement,r);break;case"JSXOpeningElement":r.push(t.name);break;case"JSXFragment":e(t.openingFragment,r);break;case"JSXOpeningFragment":r.push("Fragment");break;case"JSXNamespacedName":e(t.namespace,r),e(t.name,r)}}(e,r);var n=r.join("$");return n=n.replace(/^_/,"")||t||"ref",this.generateUid(n.slice(0,20))},t.generateUidIdentifierBasedOnNode=function(e,t){return wl(this.generateUidBasedOnNode(e,t))},t.isStatic=function(e){if(Oe(e)||rt(e))return!0;if(he(e)){var t=this.getBinding(e.name);return t?t.constant:this.hasBinding(e.name)}return!1},t.maybeGenerateMemoised=function(e,t){if(this.isStatic(e))return null;var r=this.generateUidIdentifierBasedOnNode(e);return t?r:(this.push({id:r}),Gd(r))},t.checkBlockScopedCollisions=function(e,t,r,n){if("param"!==t&&("local"!==e.kind&&("let"===t||"let"===e.kind||"const"===e.kind||"module"===e.kind||"param"===e.kind&&("let"===t||"const"===t))))throw this.hub.buildError(n,'Duplicate declaration "'+r+'"',TypeError)},t.rename=function(e,t,r){var n=this.getBinding(e);if(n)return t=t||this.generateUidIdentifier(e).name,new em(n,e,t).rename(r)},t._renameFromMap=function(e,t,r,n){e[t]&&(e[r]=n,e[t]=null)},t.dump=function(){var e="-".repeat(60);console.log(e);var t=this;do{console.log("#",t.block.type);for(var r=0,n=Object.keys(t.bindings);r<n.length;r++){var a=n[r],s=t.bindings[a];console.log(" -",a,{constant:s.constant,references:s.references,violations:s.constantViolations.length,kind:s.kind})}}while(t=t.parent);console.log(e)},t.toArray=function(e,t,r){if(he(e)){var n=this.getBinding(e.name);if((null==n?void 0:n.constant)&&n.path.isGenericType("Array"))return e}if(Q(e))return e;if(he(e,{name:"arguments"}))return cl(_l(_l(_l(wl("Array"),wl("prototype")),wl("slice")),wl("call")),[e]);var a,s=[e];return!0===t?a="toConsumableArray":t?(s.push(Al(t)),a="slicedToArray"):a="toArray",r&&(s.unshift(this.hub.addHelper(a)),a="maybeArrayLike"),cl(this.hub.addHelper(a),s)},t.hasLabel=function(e){return!!this.getLabel(e)},t.getLabel=function(e){return this.labels.get(e)},t.registerLabel=function(e){this.labels.set(e.node.label.name,e)},t.registerDeclaration=function(e){if(e.isLabeledStatement())this.registerLabel(e);else if(e.isFunctionDeclaration())this.registerBinding("hoisted",e.get("id"),e);else if(e.isVariableDeclaration())for(var t=0,r=e.get("declarations");t<r.length;t++){var n=r[t];this.registerBinding(e.node.kind,n)}else if(e.isClassDeclaration())this.registerBinding("let",e);else if(e.isImportDeclaration())for(var a=0,s=e.get("specifiers");a<s.length;a++){var i=s[a];this.registerBinding("module",i)}else if(e.isExportDeclaration()){var o=e.get("declaration");(o.isClassDeclaration()||o.isFunctionDeclaration()||o.isVariableDeclaration())&&this.registerDeclaration(o)}else this.registerBinding("unknown",e)},t.buildUndefinedNode=function(){return zl("void",Al(0),!0)},t.registerConstantViolation=function(e){for(var t=e.getBindingIdentifiers(),r=0,n=Object.keys(t);r<n.length;r++){var a=n[r],s=this.getBinding(a);s&&s.reassign(e)}},t.registerBinding=function(e,t,r){if(void 0===r&&(r=t),!e)throw new ReferenceError("no `kind`");if(t.isVariableDeclaration())for(var n,a=U(t.get("declarations"));!(n=a()).done;){var s=n.value;this.registerBinding(e,s)}else for(var i=this.getProgramParent(),o=t.getOuterBindingIdentifiers(!0),l=0,c=Object.keys(o);l<c.length;l++){var u=c[l];i.references[u]=!0;for(var p=0,d=o[u];p<d.length;p++){var f=d[p],h=this.getOwnBinding(u);if(h){if(h.identifier===f)continue;this.checkBlockScopedCollisions(h,e,u,f)}h?this.registerConstantViolation(r):this.bindings[u]=new $h({identifier:f,scope:this,path:r,kind:e})}}},t.addGlobal=function(e){this.globals[e.name]=e},t.hasUid=function(e){var t=this;do{if(t.uids[e])return!0}while(t=t.parent);return!1},t.hasGlobal=function(e){var t=this;do{if(t.globals[e])return!0}while(t=t.parent);return!1},t.hasReference=function(e){return!!this.getProgramParent().references[e]},t.isPure=function(e,t){if(he(e)){var r=this.getBinding(e.name);return!!r&&(!t||r.constant)}if(fr(e))return!(e.superClass&&!this.isPure(e.superClass,t))&&this.isPure(e.body,t);if(Ve(e)){for(var n,a=U(e.body);!(n=a()).done;){var s=n.value;if(!this.isPure(s,t))return!1}return!0}if(Qt(e))return this.isPure(e.left,t)&&this.isPure(e.right,t);if(Q(e)){for(var i=0,o=e.elements;i<o.length;i++){var l=o[i];if(!this.isPure(l,t))return!1}return!0}if(je(e)){for(var c=0,u=e.properties;c<u.length;c++){var p=u[c];if(!this.isPure(p,t))return!1}return!0}if(cr(e))return!(e.computed&&!this.isPure(e.key,t))&&("get"!==e.kind&&"set"!==e.kind);if(ur(e))return!(e.computed&&!this.isPure(e.key,t))&&this.isPure(e.value,t);if(Be(e))return this.isPure(e.argument,t);if(nt(e))return xr(e.tag,"String.raw")&&!this.hasBinding("String",!0)&&this.isPure(e.quasi,t);if(at(e)){for(var d=0,f=e.expressions;d<f.length;d++){var h=f[d];if(!this.isPure(h,t))return!1}return!0}return ir(e)},t.setData=function(e,t){return this.data[e]=t},t.getData=function(e){var t=this;do{var r=t.data[e];if(null!=r)return r}while(t=t.parent)},t.removeData=function(e){var t=this;do{null!=t.data[e]&&(t.data[e]=null)}while(t=t.parent)},t.init=function(){this.inited||(this.inited=!0,this.crawl())},t.crawl=function(){var e=this.path;if(this.references=Object.create(null),this.bindings=Object.create(null),this.globals=Object.create(null),this.uids=Object.create(null),this.data=Object.create(null),e.isFunction()){e.isFunctionExpression()&&e.has("id")&&!e.get("id").node[Xi]&&this.registerBinding("local",e.get("id"),e);for(var t,r=U(e.get("params"));!(t=r()).done;){var n=t.value;this.registerBinding("param",n)}}var a=this.getProgramParent();if(!a.crawling){var s={references:[],constantViolations:[],assignments:[]};this.crawling=!0,e.traverse(Um,s),this.crawling=!1;for(var i,o=U(s.assignments);!(i=o()).done;){for(var l=i.value,c=l.getBindingIdentifiers(),u=0,p=Object.keys(c);u<p.length;u++){var d=p[u];l.scope.getBinding(d)||a.addGlobal(c[d])}l.scope.registerConstantViolation(l)}for(var f,h=U(s.references);!(f=h()).done;){var m=f.value,y=m.scope.getBinding(m.node.name);y?y.reference(m):a.addGlobal(m.node)}for(var g,v=U(s.constantViolations);!(g=v()).done;){var b=g.value;b.scope.registerConstantViolation(b)}}},t.push=function(e){var t=this.path;t.isBlockStatement()||t.isProgram()||(t=this.getBlockParent().path),t.isSwitchStatement()&&(t=(this.getFunctionParent()||this.getProgramParent()).path),(t.isLoop()||t.isCatchClause()||t.isFunction())&&(t.ensureBlock(),t=t.get("body"));var r=e.unique,n=e.kind||"var",a=null==e._blockHoist?2:e._blockHoist,s="declaration:"+n+":"+a,i=!r&&t.getData(s);if(!i){var o=Xl(n,[]);o._blockHoist=a,i=t.unshiftContainer("body",[o])[0],r||t.setData(s,i)}var l=Jl(e.id,e.init);i.node.declarations.push(l),this.registerBinding(n,i.get("declarations").pop())},t.getProgramParent=function(){var e=this;do{if(e.path.isProgram())return e}while(e=e.parent);throw new Error("Couldn't find a Program")},t.getFunctionParent=function(){var e=this;do{if(e.path.isFunctionParent())return e}while(e=e.parent);return null},t.getBlockParent=function(){var e=this;do{if(e.path.isBlockParent())return e}while(e=e.parent);throw new Error("We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...")},t.getAllBindings=function(){var e=Object.create(null),t=this;do{for(var r=0,n=Object.keys(t.bindings);r<n.length;r++){var a=n[r];a in e==!1&&(e[a]=t.bindings[a])}t=t.parent}while(t);return e},t.getAllBindingsOfKind=function(){for(var e=Object.create(null),t=0,r=arguments;t<r.length;t++){var n=r[t],a=this;do{for(var s=0,i=Object.keys(a.bindings);s<i.length;s++){var o=i[s],l=a.bindings[o];l.kind===n&&(e[o]=l)}a=a.parent}while(a)}return e},t.bindingIdentifierEquals=function(e,t){return this.getBindingIdentifier(e)===t},t.getBinding=function(e){var t,r=this;do{var n,a=r.getOwnBinding(e);if(a)if(!(null==(n=t)?void 0:n.isPattern())||"param"===a.kind)return a;t=r.path}while(r=r.parent)},t.getOwnBinding=function(e){return this.bindings[e]},t.getBindingIdentifier=function(e){var t;return null==(t=this.getBinding(e))?void 0:t.identifier},t.getOwnBindingIdentifier=function(e){var t=this.bindings[e];return null==t?void 0:t.identifier},t.hasOwnBinding=function(e){return!!this.getOwnBinding(e)},t.hasBinding=function(t,r){return!!t&&(!!this.hasOwnBinding(t)||(!!this.parentHasBinding(t,r)||(!!this.hasUid(t)||(!(r||!e.globals.includes(t))||!(r||!e.contextVariables.includes(t))))))},t.parentHasBinding=function(e,t){var r;return null==(r=this.parent)?void 0:r.hasBinding(e,t)},t.moveBindingTo=function(e,t){var r=this.getBinding(e);r&&(r.scope.removeOwnBinding(e),r.scope=t,t.bindings[e]=r)},t.removeOwnBinding=function(e){delete this.bindings[e]},t.removeBinding=function(e){var t;null==(t=this.getBinding(e))||t.scope.removeOwnBinding(e);var r=this;do{r.uids[e]&&(r.uids[e]=!1)}while(r=r.parent)},l(e,[{key:"parent",get:function(){var e=this.path.findParent(function(e){return e.isScope()});return null==e?void 0:e.scope}},{key:"parentBlock",get:function(){return this.path.parent}},{key:"hub",get:function(){return this.path.hub}}]),e}();Vm.globals=Object.keys(Nm.builtin),Vm.contextVariables=["arguments","undefined","Infinity","NaN"];var Gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Km=function(e){if(0<=e&&e<Gm.length)return Gm[e];throw new TypeError("Must be between 0 and 63: "+e)},Hm=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var zm=function(e){var t,r="",n=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&n,(n>>>=5)>0&&(t|=32),r+=Km(t)}while(n>0);return r},qm=function(e,t,r){var n,a,s,i,o=e.length,l=0,c=0;do{if(t>=o)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(a=Hm(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));n=!!(32&a),l+=(a&=31)<<c,c+=5}while(n);r.value=(i=(s=l)>>1,1==(1&s)?-i:i),r.rest=t},Xm=Lr(function(e,t){t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,n=/^data:.+\,.+$/;function a(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function s(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function i(e){var r=e,n=a(e);if(n){if(!n.path)return e;r=n.path}for(var i,o=t.isAbsolute(r),l=r.split(/\/+/),c=0,u=l.length-1;u>=0;u--)"."===(i=l[u])?l.splice(u,1):".."===i?c++:c>0&&(""===i?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));return""===(r=l.join("/"))&&(r=o?"/":"."),n?(n.path=r,s(n)):r}t.urlParse=a,t.urlGenerate=s,t.normalize=i,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var r=a(t),o=a(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),s(r);if(r||t.match(n))return t;if(o&&!o.host&&!o.path)return o.host=t,s(o);var l="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=l,s(o)):l},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(r)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var o=!("__proto__"in Object.create(null));function l(e){return e}function c(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function u(e,t){return e===t?0:e>t?1:-1}t.toSetString=o?l:function(e){return c(e)?"$"+e:e},t.fromSetString=o?l:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){var n=e.source-t.source;return 0!==n||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)||r||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=e.generatedLine-t.generatedLine)?n:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=e.source-t.source)||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=u(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:u(e.name,t.name)}}),Jm=Object.prototype.hasOwnProperty,Ym="undefined"!=typeof Map;function $m(){this._array=[],this._set=Ym?new Map:Object.create(null)}$m.fromArray=function(e,t){for(var r=new $m,n=0,a=e.length;n<a;n++)r.add(e[n],t);return r},$m.prototype.size=function(){return Ym?this._set.size:Object.getOwnPropertyNames(this._set).length},$m.prototype.add=function(e,t){var r=Ym?e:Xm.toSetString(e),n=Ym?this.has(e):Jm.call(this._set,r),a=this._array.length;n&&!t||this._array.push(e),n||(Ym?this._set.set(e,a):this._set[r]=a)},$m.prototype.has=function(e){if(Ym)return this._set.has(e);var t=Xm.toSetString(e);return Jm.call(this._set,t)},$m.prototype.indexOf=function(e){if(Ym){var t=this._set.get(e);if(t>=0)return t}else{var r=Xm.toSetString(e);if(Jm.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},$m.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},$m.prototype.toArray=function(){return this._array.slice()};var Qm={ArraySet:$m};function Zm(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}Zm.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},Zm.prototype.add=function(e){var t,r,n,a,s,i;t=this._last,r=e,n=t.generatedLine,a=r.generatedLine,s=t.generatedColumn,i=r.generatedColumn,a>n||a==n&&i>=s||Xm.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},Zm.prototype.toArray=function(){return this._sorted||(this._array.sort(Xm.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};var ey=Qm.ArraySet,ty={MappingList:Zm}.MappingList;function ry(e){e||(e={}),this._file=Xm.getArg(e,"file",null),this._sourceRoot=Xm.getArg(e,"sourceRoot",null),this._skipValidation=Xm.getArg(e,"skipValidation",!1),this._sources=new ey,this._names=new ey,this._mappings=new ty,this._sourcesContents=null}ry.prototype._version=3,ry.fromSourceMap=function(e){var t=e.sourceRoot,r=new ry({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=Xm.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)}),e.sources.forEach(function(t){var n=e.sourceContentFor(t);null!=n&&r.setSourceContent(t,n)}),r},ry.prototype.addMapping=function(e){var t=Xm.getArg(e,"generated"),r=Xm.getArg(e,"original",null),n=Xm.getArg(e,"source",null),a=Xm.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,a),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=a&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:a})},ry.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=Xm.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Xm.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[Xm.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},ry.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var a=this._sourceRoot;null!=a&&(n=Xm.relative(a,n));var s=new ey,i=new ey;this._mappings.unsortedForEach(function(t){if(t.source===n&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=r&&(t.source=Xm.join(r,t.source)),null!=a&&(t.source=Xm.relative(a,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var l=t.source;null==l||s.has(l)||s.add(l);var c=t.name;null==c||i.has(c)||i.add(c)},this),this._sources=s,this._names=i,e.sources.forEach(function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=Xm.join(r,t)),null!=a&&(t=Xm.relative(a,t)),this.setSourceContent(t,n))},this)},ry.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},ry.prototype._serializeMappings=function(){for(var e,t,r,n,a=0,s=1,i=0,o=0,l=0,c=0,u="",p=this._mappings.toArray(),d=0,f=p.length;d<f;d++){if(e="",(t=p[d]).generatedLine!==s)for(a=0;t.generatedLine!==s;)e+=";",s++;else if(d>0){if(!Xm.compareByGeneratedPositionsInflated(t,p[d-1]))continue;e+=","}e+=zm(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(n=this._sources.indexOf(t.source),e+=zm(n-c),c=n,e+=zm(t.originalLine-1-o),o=t.originalLine-1,e+=zm(t.originalColumn-i),i=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=zm(r-l),l=r)),u+=e}return u},ry.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=Xm.relative(t,e));var r=Xm.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)},
ry.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},ry.prototype.toString=function(){return JSON.stringify(this.toJSON())};var ny={SourceMapGenerator:ry},ay=Lr(function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,n,a){if(0===r.length)return-1;var s=function e(r,n,a,s,i,o){var l=Math.floor((n-r)/2)+r,c=i(a,s[l],!0);return 0===c?l:c>0?n-l>1?e(l,n,a,s,i,o):o==t.LEAST_UPPER_BOUND?n<s.length?n:-1:l:l-r>1?e(r,l,a,s,i,o):o==t.LEAST_UPPER_BOUND?l:r<0?-1:r}(-1,r.length,e,r,n,a||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===n(r[s],r[s-1],!0);)--s;return s}});function sy(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function iy(e,t,r,n){if(r<n){var a=r-1;sy(e,(l=r,c=n,Math.round(l+Math.random()*(c-l))),n);for(var s=e[n],i=r;i<n;i++)t(e[i],s)<=0&&sy(e,a+=1,i);sy(e,a+1,i);var o=a+1;iy(e,t,r,o-1),iy(e,t,o+1,n)}var l,c}var oy=Qm.ArraySet,ly=function(e,t){iy(e,t,0,e.length-1)};function cy(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new hy(t):new py(t)}cy.fromSourceMap=function(e){return py.fromSourceMap(e)},cy.prototype._version=3,cy.prototype.__generatedMappings=null,Object.defineProperty(cy.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),cy.prototype.__originalMappings=null,Object.defineProperty(cy.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),cy.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},cy.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},cy.GENERATED_ORDER=1,cy.ORIGINAL_ORDER=2,cy.GREATEST_LOWER_BOUND=1,cy.LEAST_UPPER_BOUND=2,cy.prototype.eachMapping=function(e,t,r){var n,a=t||null;switch(r||cy.GENERATED_ORDER){case cy.GENERATED_ORDER:n=this._generatedMappings;break;case cy.ORIGINAL_ORDER:n=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;n.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=s&&(t=Xm.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,a)},cy.prototype.allGeneratedPositionsFor=function(e){var t=Xm.getArg(e,"line"),r={source:Xm.getArg(e,"source"),originalLine:t,originalColumn:Xm.getArg(e,"column",0)};if(null!=this.sourceRoot&&(r.source=Xm.relative(this.sourceRoot,r.source)),!this._sources.has(r.source))return[];r.source=this._sources.indexOf(r.source);var n=[],a=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",Xm.compareByOriginalPositions,ay.LEAST_UPPER_BOUND);if(a>=0){var s=this._originalMappings[a];if(void 0===e.column)for(var i=s.originalLine;s&&s.originalLine===i;)n.push({line:Xm.getArg(s,"generatedLine",null),column:Xm.getArg(s,"generatedColumn",null),lastColumn:Xm.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a];else for(var o=s.originalColumn;s&&s.originalLine===t&&s.originalColumn==o;)n.push({line:Xm.getArg(s,"generatedLine",null),column:Xm.getArg(s,"generatedColumn",null),lastColumn:Xm.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++a]}return n};var uy=cy;function py(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=Xm.getArg(t,"version"),n=Xm.getArg(t,"sources"),a=Xm.getArg(t,"names",[]),s=Xm.getArg(t,"sourceRoot",null),i=Xm.getArg(t,"sourcesContent",null),o=Xm.getArg(t,"mappings"),l=Xm.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);n=n.map(String).map(Xm.normalize).map(function(e){return s&&Xm.isAbsolute(s)&&Xm.isAbsolute(e)?Xm.relative(s,e):e}),this._names=oy.fromArray(a.map(String),!0),this._sources=oy.fromArray(n,!0),this.sourceRoot=s,this.sourcesContent=i,this._mappings=o,this.file=l}function dy(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}py.prototype=Object.create(cy.prototype),py.prototype.consumer=cy,py.fromSourceMap=function(e){var t=Object.create(py.prototype),r=t._names=oy.fromArray(e._names.toArray(),!0),n=t._sources=oy.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var a=e._mappings.toArray().slice(),s=t.__generatedMappings=[],i=t.__originalMappings=[],o=0,l=a.length;o<l;o++){var c=a[o],u=new dy;u.generatedLine=c.generatedLine,u.generatedColumn=c.generatedColumn,c.source&&(u.source=n.indexOf(c.source),u.originalLine=c.originalLine,u.originalColumn=c.originalColumn,c.name&&(u.name=r.indexOf(c.name)),i.push(u)),s.push(u)}return ly(t.__originalMappings,Xm.compareByOriginalPositions),t},py.prototype._version=3,Object.defineProperty(py.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?Xm.join(this.sourceRoot,e):e},this)}}),py.prototype._parseMappings=function(e,t){for(var r,n,a,s,i,o=1,l=0,c=0,u=0,p=0,d=0,f=e.length,h=0,m={},y={},g=[],v=[];h<f;)if(";"===e.charAt(h))o++,h++,l=0;else if(","===e.charAt(h))h++;else{for((r=new dy).generatedLine=o,s=h;s<f&&!this._charIsMappingSeparator(e,s);s++);if(a=m[n=e.slice(h,s)])h+=n.length;else{for(a=[];h<s;)qm(e,h,y),i=y.value,h=y.rest,a.push(i);if(2===a.length)throw new Error("Found a source, but no line and column");if(3===a.length)throw new Error("Found a source and line, but no column");m[n]=a}r.generatedColumn=l+a[0],l=r.generatedColumn,a.length>1&&(r.source=p+a[1],p+=a[1],r.originalLine=c+a[2],c=r.originalLine,r.originalLine+=1,r.originalColumn=u+a[3],u=r.originalColumn,a.length>4&&(r.name=d+a[4],d+=a[4])),v.push(r),"number"==typeof r.originalLine&&g.push(r)}ly(v,Xm.compareByGeneratedPositionsDeflated),this.__generatedMappings=v,ly(g,Xm.compareByOriginalPositions),this.__originalMappings=g},py.prototype._findMapping=function(e,t,r,n,a,s){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return ay.search(e,t,a,s)},py.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},py.prototype.originalPositionFor=function(e){var t={generatedLine:Xm.getArg(e,"line"),generatedColumn:Xm.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",Xm.compareByGeneratedPositionsDeflated,Xm.getArg(e,"bias",cy.GREATEST_LOWER_BOUND));if(r>=0){var n=this._generatedMappings[r];if(n.generatedLine===t.generatedLine){var a=Xm.getArg(n,"source",null);null!==a&&(a=this._sources.at(a),null!=this.sourceRoot&&(a=Xm.join(this.sourceRoot,a)));var s=Xm.getArg(n,"name",null);return null!==s&&(s=this._names.at(s)),{source:a,line:Xm.getArg(n,"originalLine",null),column:Xm.getArg(n,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},py.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},py.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=Xm.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var r;if(null!=this.sourceRoot&&(r=Xm.urlParse(this.sourceRoot))){var n=e.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!r.path||"/"==r.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},py.prototype.generatedPositionFor=function(e){var t=Xm.getArg(e,"source");if(null!=this.sourceRoot&&(t=Xm.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var r={source:t=this._sources.indexOf(t),originalLine:Xm.getArg(e,"line"),originalColumn:Xm.getArg(e,"column")},n=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",Xm.compareByOriginalPositions,Xm.getArg(e,"bias",cy.GREATEST_LOWER_BOUND));if(n>=0){var a=this._originalMappings[n];if(a.source===r.source)return{line:Xm.getArg(a,"generatedLine",null),column:Xm.getArg(a,"generatedColumn",null),lastColumn:Xm.getArg(a,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};var fy=py;function hy(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=Xm.getArg(t,"version"),n=Xm.getArg(t,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new oy,this._names=new oy;var a={line:-1,column:0};this._sections=n.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=Xm.getArg(e,"offset"),r=Xm.getArg(t,"line"),n=Xm.getArg(t,"column");if(r<a.line||r===a.line&&n<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=t,{generatedOffset:{generatedLine:r+1,generatedColumn:n+1},consumer:new cy(Xm.getArg(e,"map"))}})}hy.prototype=Object.create(cy.prototype),hy.prototype.constructor=cy,hy.prototype._version=3,Object.defineProperty(hy.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),hy.prototype.originalPositionFor=function(e){var t={generatedLine:Xm.getArg(e,"line"),generatedColumn:Xm.getArg(e,"column")},r=ay.search(t,this._sections,function(e,t){var r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn}),n=this._sections[r];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},hy.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},hy.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},hy.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer.sources.indexOf(Xm.getArg(e,"source"))){var n=r.consumer.generatedPositionFor(e);if(n)return{line:n.line+(r.generatedOffset.generatedLine-1),column:n.column+(r.generatedOffset.generatedLine===n.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},hy.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var n=this._sections[r],a=n.consumer._generatedMappings,s=0;s<a.length;s++){var i=a[s],o=n.consumer._sources.at(i.source);null!==n.consumer.sourceRoot&&(o=Xm.join(n.consumer.sourceRoot,o)),this._sources.add(o),o=this._sources.indexOf(o);var l=n.consumer._names.at(i.name);this._names.add(l),l=this._names.indexOf(l);var c={source:o,generatedLine:i.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:i.generatedColumn+(n.generatedOffset.generatedLine===i.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:i.originalLine,originalColumn:i.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}ly(this.__generatedMappings,Xm.compareByGeneratedPositionsDeflated),ly(this.__originalMappings,Xm.compareByOriginalPositions)};var my={SourceMapConsumer:uy,BasicSourceMapConsumer:fy,IndexedSourceMapConsumer:hy},yy=ny.SourceMapGenerator,gy=/(\r?\n)/,vy="$$$isSourceNode$$$";function by(e,t,r,n,a){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==a?null:a,this[vy]=!0,null!=n&&this.add(n)}by.fromStringWithSourceMap=function(e,t,r){var n=new by,a=e.split(gy),s=0,i=function(){return e()+(e()||"");function e(){return s<a.length?a[s++]:void 0}},o=1,l=0,c=null;return t.eachMapping(function(e){if(null!==c){if(!(o<e.generatedLine)){var t=(r=a[s]).substr(0,e.generatedColumn-l);return a[s]=r.substr(e.generatedColumn-l),l=e.generatedColumn,u(c,t),void(c=e)}u(c,i()),o++,l=0}for(;o<e.generatedLine;)n.add(i()),o++;if(l<e.generatedColumn){var r=a[s];n.add(r.substr(0,e.generatedColumn)),a[s]=r.substr(e.generatedColumn),l=e.generatedColumn}c=e},this),s<a.length&&(c&&u(c,i()),n.add(a.splice(s).join(""))),t.sources.forEach(function(e){var a=t.sourceContentFor(e);null!=a&&(null!=r&&(e=Xm.join(r,e)),n.setSourceContent(e,a))}),n;function u(e,t){if(null===e||void 0===e.source)n.add(t);else{var a=r?Xm.join(r,e.source):e.source;n.add(new by(e.originalLine,e.originalColumn,a,t,e.name))}}},by.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[vy]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},by.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[vy]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},by.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[vy]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},by.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},by.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[vy]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},by.prototype.setSourceContent=function(e,t){this.sourceContents[Xm.toSetString(e)]=t},by.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][vy]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(Xm.fromSetString(n[t]),this.sourceContents[n[t]])},by.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},by.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new yy(e),n=!1,a=null,s=null,i=null,o=null;return this.walk(function(e,l){t.code+=e,null!==l.source&&null!==l.line&&null!==l.column?(a===l.source&&s===l.line&&i===l.column&&o===l.name||r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name}),a=l.source,s=l.line,i=l.column,o=l.name,n=!0):n&&(r.addMapping({generated:{line:t.line,column:t.column}}),a=null,n=!1);for(var c=0,u=e.length;c<u;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===u?(a=null,n=!1):n&&r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name})):t.column++}),this.walkSourceContents(function(e,t){r.setSourceContent(e,t)}),{code:t.code,map:r}};var xy={SourceMapGenerator:ny.SourceMapGenerator,SourceMapConsumer:my.SourceMapConsumer,SourceNode:{SourceNode:by}.SourceNode},Ey=function(){function e(e,t){this._cachedMap=null,this._code=t,this._opts=e,this._rawMappings=[]}var t=e.prototype;return t.get=function(){if(!this._cachedMap){var e=this._cachedMap=new xy.SourceMapGenerator({sourceRoot:this._opts.sourceRoot}),t=this._code;"string"==typeof t?e.setSourceContent(this._opts.sourceFileName.replace(/\\/g,"/"),t):"object"==typeof t&&Object.keys(t).forEach(function(r){e.setSourceContent(r.replace(/\\/g,"/"),t[r])}),this._rawMappings.forEach(function(t){return e.addMapping(t)},e)}return this._cachedMap.toJSON()},t.getRawMappings=function(){return this._rawMappings.slice()},t.mark=function(e,t,r,n,a,s,i){this._lastGenLine!==e&&null===r||(i||this._lastGenLine!==e||this._lastSourceLine!==r||this._lastSourceColumn!==n)&&(this._cachedMap=null,this._lastGenLine=e,this._lastSourceLine=r,this._lastSourceColumn=n,this._rawMappings.push({name:a||void 0,generated:{line:e,column:t},source:null==r?void 0:(s||this._opts.sourceFileName).replace(/\\/g,"/"),original:null==r?void 0:{line:r,column:n}}))},e}(),wy=/^[ \t]+$/,Sy=function(){function e(e){this._map=null,this._buf=[],this._last="",this._queue=[],this._position={line:1,column:0},this._sourcePosition={identifierName:null,line:null,column:null,filename:null},this._disallowedPop=null,this._map=e}var t=e.prototype;return t.get=function(){this._flush();var e=this._map,t={code:this._buf.join("").trimRight(),map:null,rawMappings:null==e?void 0:e.getRawMappings()};return e&&Object.defineProperty(t,"map",{configurable:!0,enumerable:!0,get:function(){return this.map=e.get()},set:function(e){Object.defineProperty(this,"map",{value:e,writable:!0})}}),t},t.append=function(e){this._flush();var t=this._sourcePosition,r=t.line,n=t.column,a=t.filename,s=t.identifierName,i=t.force;this._append(e,r,n,s,a,i)},t.queue=function(e){if("\n"===e)for(;this._queue.length>0&&wy.test(this._queue[0][0]);)this._queue.shift();var t=this._sourcePosition,r=t.line,n=t.column,a=t.filename,s=t.identifierName,i=t.force;this._queue.unshift([e,r,n,s,a,i])},t._flush=function(){for(var e;e=this._queue.pop();)this._append.apply(this,e)},t._append=function(e,t,r,n,a,s){this._buf.push(e),this._last=e[e.length-1];var i=e.indexOf("\n"),o=0;for(0!==i&&this._mark(t,r,n,a,s);-1!==i;)this._position.line++,this._position.column=0,(o=i+1)<e.length&&this._mark(++t,0,n,a,s),i=e.indexOf("\n",o);this._position.column+=e.length-o},t._mark=function(e,t,r,n,a){var s;null==(s=this._map)||s.mark(this._position.line,this._position.column,e,t,r,n,a)},t.removeTrailingNewline=function(){this._queue.length>0&&"\n"===this._queue[0][0]&&this._queue.shift()},t.removeLastSemicolon=function(){this._queue.length>0&&";"===this._queue[0][0]&&this._queue.shift()},t.endsWith=function(e){if(1===e.length){var t;if(this._queue.length>0){var r=this._queue[0][0];t=r[r.length-1]}else t=this._last;return t===e}var n=this._last+this._queue.reduce(function(e,t){return t[0]+e},"");return e.length<=n.length&&n.slice(-e.length)===e},t.hasContent=function(){return this._queue.length>0||!!this._last},t.exactSource=function(e,t){this.source("start",e,!0),t(),this.source("end",e),this._disallowPop("start",e)},t.source=function(e,t,r){e&&!t||this._normalizePosition(e,t,this._sourcePosition,r)},t.withSource=function(e,t,r){if(!this._map)return r();var n=this._sourcePosition.line,a=this._sourcePosition.column,s=this._sourcePosition.filename,i=this._sourcePosition.identifierName;this.source(e,t),r(),this._sourcePosition.force&&this._sourcePosition.line===n&&this._sourcePosition.column===a&&this._sourcePosition.filename===s||this._disallowedPop&&this._disallowedPop.line===n&&this._disallowedPop.column===a&&this._disallowedPop.filename===s||(this._sourcePosition.line=n,this._sourcePosition.column=a,this._sourcePosition.filename=s,this._sourcePosition.identifierName=i,this._sourcePosition.force=!1,this._disallowedPop=null)},t._disallowPop=function(e,t){e&&!t||(this._disallowedPop=this._normalizePosition(e,t))},t._normalizePosition=function(e,t,r,n){var a=t?t[e]:null;void 0===r&&(r={identifierName:null,line:null,column:null,filename:null,force:!1});var s=r.line,i=r.column,o=r.filename;return r.identifierName="start"===e&&(null==t?void 0:t.identifierName)||null,r.line=null==a?void 0:a.line,r.column=null==a?void 0:a.column,r.filename=null==t?void 0:t.filename,(n||r.line!==s||r.column!==i||r.filename!==o)&&(r.force=n),r},t.getCurrentColumn=function(){var e=this._queue.reduce(function(e,t){return t[0]+e},""),t=e.lastIndexOf("\n");return-1===t?this._position.column+e.length:e.length-1-t},t.getCurrentLine=function(){for(var e=this._queue.reduce(function(e,t){return t[0]+e},""),t=0,r=0;r<e.length;r++)"\n"===e[r]&&t++;return this._position.line+t},e}();function Ty(e,t){return void 0===t&&(t={}),we(e)||ct(e)?(Ty(e.object,t),e.computed&&Ty(e.property,t)):Qt(e)||Z(e)?(Ty(e.left,t),Ty(e.right,t)):ne(e)||ut(e)?(t.hasCall=!0,Ty(e.callee,t)):sr(e)?t.hasFunction=!0:he(e)&&(t.hasHelper=t.hasHelper||jy(e.callee)),t}function jy(e){return we(e)?jy(e.object)||jy(e.property):he(e)?"require"===e.name||"_"===e.name[0]:ne(e)?jy(e.callee):!(!Qt(e)&&!Z(e))&&(he(e.left)&&jy(e.left)||jy(e.right))}function Ay(e){return lr(e)||je(e)||Q(e)||he(e)||we(e)}var Py={AssignmentExpression:function(e){var t=Ty(e.right);if(t.hasCall&&t.hasHelper||t.hasFunction)return{before:t.hasFunction,after:!0}},SwitchCase:function(e,t){return{before:e.consequent.length||t.cases[0]===e,after:!e.consequent.length&&t.cases[t.cases.length-1]===e}},LogicalExpression:function(e){if(sr(e.left)||sr(e.right))return{after:!0}},Literal:function(e){if("use strict"===e.value)return{after:!0}},CallExpression:function(e){if(sr(e.callee)||jy(e))return{before:!0,after:!0}},OptionalCallExpression:function(e){if(sr(e.callee))return{before:!0,after:!0}},VariableDeclaration:function(e){for(var t=0;t<e.declarations.length;t++){var r=e.declarations[t],n=jy(r.id)&&!Ay(r.init);if(!n){var a=Ty(r.init);n=jy(r.init)&&a.hasCall||a.hasFunction}if(n)return{before:!0,after:!0}}},IfStatement:function(e){if(te(e.consequent))return{before:!0,after:!0}}};Py.ObjectProperty=Py.ObjectTypeProperty=Py.ObjectMethod=function(e,t){if(t.properties[0]===e)return{before:!0}},Py.ObjectTypeCallProperty=function(e,t){var r;if(t.callProperties[0]===e&&!(null==(r=t.properties)?void 0:r.length))return{before:!0}},Py.ObjectTypeIndexer=function(e,t){var r,n;if(t.indexers[0]===e&&!(null==(r=t.properties)?void 0:r.length)&&!(null==(n=t.callProperties)?void 0:n.length))return{before:!0}},Py.ObjectTypeInternalSlot=function(e,t){var r,n,a;if(t.internalSlots[0]===e&&!(null==(r=t.properties)?void 0:r.length)&&!(null==(n=t.callProperties)?void 0:n.length)&&!(null==(a=t.indexers)?void 0:a.length))return{before:!0}};[["Function",!0],["Class",!0],["Loop",!0],["LabeledStatement",!0],["SwitchStatement",!0],["TryStatement",!0]].forEach(function(e){var t=e[0],r=e[1];"boolean"==typeof r&&(r={after:r,before:r}),[t].concat(eo[t]||[]).forEach(function(e){Py[e]=function(){return r}})});var ky={"||":0,"??":0,"&&":1,"|":2,"^":3,"&":4,"==":5,"===":5,"!=":5,"!==":5,"<":6,">":6,"<=":6,">=":6,in:6,instanceof:6,">>":7,"<<":7,">>>":7,"+":8,"-":8,"*":9,"/":9,"%":9,"**":10},Cy=function(e,t){return(Ke(t)||Ge(t))&&t.superClass===e},Dy=function(e,t){return(we(t)||ct(t))&&t.object===e||(ne(t)||ut(t)||Se(t))&&t.callee===e||nt(t)&&t.tag===e||Jt(t)};function _y(e,t){return dt(t)||bt(t)||yt(t)||Tt(t)}function Iy(e,t){return Vt(t)||Gt(t)||zt(t)||Ht(t)||Kt(t)}function Oy(e,t){return Qt(t)||pr(t)||Dy(e,t)||it(t)&&st(e)||se(t)&&e===t.test||Cy(e,t)}function Ny(e,t){return Dy(e,t)||ee(t,{operator:"**",left:e})||Cy(e,t)}function By(e,t){return!!(pr(t)||Qt(t)||se(t,{test:e})||it(t)||Xt(t)||qt(t))||Ny(e,t)}function Fy(e,t){return ne(t,{callee:e})||we(t,{object:e})}function Ry(e,t){for(var r=void 0===t?{}:t,n=r.considerArrow,a=void 0!==n&&n,s=r.considerDefaultExports,i=void 0!==s&&s,o=e.length-1,l=e[o],c=e[--o];o>=0;){if(le(c,{expression:l})||i&&ze(c,{declaration:l})||a&&We(c,{body:l}))return!0;if(!(Dy(l,c)&&!Se(c)||De(c)&&c.expressions[0]===l||tr(c,{test:l})||Qt(c,{left:l})||Z(c,{left:l})))return!1;l=c,c=e[--o]}return!1}function My(e){var t={};function r(e,r){var n=t[e];t[e]=n?function(e,t,a){var s=n(e,t,a);return null==s?r(e,t,a):s}:r}for(var n=0,a=Object.keys(e);n<a.length;n++){var s=a[n],i=eo[s];if(i)for(var o,l=U(i);!(o=l()).done;){r(o.value,e[s])}else r(s,e[s])}return t}var Ly=My(Object.freeze({__proto__:null,NullableTypeAnnotation:function(e,t){return dt(t)},FunctionTypeAnnotation:function(e,t,r){return Tt(t)||yt(t)||dt(t)||wt(t)&&We(r[r.length-3])},UpdateExpression:function(e,t){return Dy(e,t)||Cy(e,t)},ObjectExpression:function(e,t,r){return Ry(r,{considerArrow:!0})},DoExpression:function(e,t,r){return Ry(r)},Binary:function(e,t){if("**"===e.operator&&ee(t,{operator:"**"}))return t.left===e;if(Cy(e,t))return!0;if(Dy(e,t)||pr(t)||it(t))return!0;if(Qt(t)){var r=t.operator,n=ky[r],a=e.operator,s=ky[a];if(n===s&&t.right===e&&!Ee(t)||n>s)return!0}},UnionTypeAnnotation:_y,IntersectionTypeAnnotation:_y,TSAsExpression:function(){return!0},TSTypeAssertion:function(){return!0},TSUnionType:Iy,TSIntersectionType:Iy,TSInferType:function(e,t){return Vt(t)||Gt(t)},BinaryExpression:function(e,t){return"in"===e.operator&&(Re(t)||nr(t))},SequenceExpression:function(e,t){return!(pe(t)||Ne(t)||Ce(t)||me(t)&&t.test===e||Me(t)&&t.test===e||ue(t)&&t.right===e||Ie(t)&&t.discriminant===e||le(t)&&t.expression===e)},YieldExpression:Oy,AwaitExpression:Oy,ClassExpression:function(e,t,r){return Ry(r,{considerDefaultExports:!0})},UnaryLike:Ny,FunctionExpression:function(e,t,r){return Ry(r,{considerDefaultExports:!0})},ArrowFunctionExpression:function(e,t){return mr(t)||By(e,t)},ConditionalExpression:By,OptionalMemberExpression:Fy,OptionalCallExpression:Fy,AssignmentExpression:function(e,t,r){return!!et(e.left)||By(e,t)},LogicalExpression:function(e,t){switch(e.operator){case"||":return!!Ee(t)&&("??"===t.operator||"&&"===t.operator);case"&&":return Ee(t,{operator:"??"});case"??":return Ee(t)&&"??"!==t.operator}}})),Uy=My(Py),Wy=My({VariableDeclaration:function(e){return e.declarations.map(function(e){return e.init})},ArrayExpression:function(e){return e.elements},ObjectExpression:function(e){return e.properties}});function Vy(e,t,r,n){var a=e[t.type];return a?a(t,r,n):null}function Gy(e,t,r){if(!e)return 0;le(e)&&(e=e.expression);var n=Vy(Uy,e,t);if(!n){var a=Vy(Wy,e,t);if(a)for(var s=0;s<a.length&&!(n=Gy(a[s],e,r));s++);}return"object"==typeof n&&null!==n&&n[r]||0}function Ky(e,t){return Gy(e,t,"before")}function Hy(e,t){return Gy(e,t,"after")}function zy(e,t,r){return!!t&&(!(!Se(t)||t.callee!==e||!function e(t){return!!ne(t)||we(t)&&e(t.object)}(e))||Vy(Ly,e,t,r))}function qy(e){return function(t){if(this.word(e),t.delegate&&this.token("*"),t.argument){this.space();var r=this.startTerminatorless();this.print(t.argument,t),this.endTerminatorless(r)}}}var Xy=qy("yield"),Jy=qy("await");function Yy(e,t){var r=this.inForStatementInitCounter&&"in"===e.operator&&!zy(e,t);r&&this.token("("),this.print(e.left,e),this.space(),"in"===e.operator||"instanceof"===e.operator?this.word(e.operator):this.token(e.operator),this.space(),this.print(e.right,e),r&&this.token(")")}var $y=function(e){return function(t){this.word("for"),this.space(),"of"===e&&t.await&&(this.word("await"),this.space()),this.token("("),this.print(t.left,t),this.space(),this.word(e),this.space(),this.print(t.right,t),this.token(")"),this.printBlock(t)}},Qy=$y("in"),Zy=$y("of");function eg(e,t){return void 0===t&&(t="label"),function(r){this.word(e);var n=r[t];if(n){this.space();var a="label"==t,s=this.startTerminatorless(a);this.print(n,r),this.endTerminatorless(s)}this.semicolon()}}var tg=eg("continue"),rg=eg("return","argument"),ng=eg("break"),ag=eg("throw","argument");function sg(){if(this.token(","),this.newline(),this.endsWith("\n"))for(var e=0;e<4;e++)this.space(!0)}function ig(){if(this.token(","),this.newline(),this.endsWith("\n"))for(var e=0;e<6;e++)this.space(!0)}function og(e,t){this.format.decoratorsBeforeExport&&(ze(t)||qe(t))||this.printJoin(e.decorators,e),e.declare&&(this.word("declare"),this.space()),e.abstract&&(this.word("abstract"),this.space()),this.word("class"),e.id&&(this.space(),this.print(e.id,e)),this.print(e.typeParameters,e),e.superClass&&(this.space(),this.word("extends"),this.space(),this.print(e.superClass,e),this.print(e.superTypeParameters,e)),e.implements&&(this.space(),this.word("implements"),this.space(),this.printList(e.implements,e)),this.space(),this.print(e.body,e)}function lg(e){this._functionHead(e),this.space(),this.print(e.body,e)}function cg(e){this.word("export"),this.space(),"type"===e.exportKind&&(this.word("type"),this.space()),this.token("*"),this.space(),this.word("from"),this.space(),this.print(e.source,e),this.semicolon()}function ug(e){if(e.declaration){var t=e.declaration;this.print(t,e),er(t)||this.semicolon()}else{"type"===e.exportKind&&(this.word("type"),this.space());for(var r=e.specifiers.slice(0),n=!1;;){var a=r[0];if(!Ut(a)&&!lt(a))break;n=!0,this.print(r.shift(),e),r.length&&(this.token(","),this.space())}(r.length||!r.length&&!n)&&(this.token("{"),r.length&&(this.space(),this.printList(r,e),this.space()),this.token("}")),e.source&&(this.space(),this.word("from"),this.space(),this.print(e.source,e)),this.semicolon()}}var pg=[],dg=[],fg="undefined"!=typeof Uint8Array?Uint8Array:Array,hg=!1;function mg(){hg=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)pg[t]=e[t],dg[e.charCodeAt(t)]=t;dg["-".charCodeAt(0)]=62,dg["_".charCodeAt(0)]=63}function yg(e,t,r){for(var n,a,s=[],i=t;i<r;i+=3)n=(e[i]<<16)+(e[i+1]<<8)+e[i+2],s.push(pg[(a=n)>>18&63]+pg[a>>12&63]+pg[a>>6&63]+pg[63&a]);return s.join("")}function gg(e){var t;hg||mg();for(var r=e.length,n=r%3,a="",s=[],i=16383,o=0,l=r-n;o<l;o+=i)s.push(yg(e,o,o+i>l?l:o+i));return 1===n?(t=e[r-1],a+=pg[t>>2],a+=pg[t<<4&63],a+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],a+=pg[t>>10],a+=pg[t>>4&63],a+=pg[t<<2&63],a+="="),s.push(a),s.join("")}function vg(e,t,r,n,a){var s,i,o=8*a-n-1,l=(1<<o)-1,c=l>>1,u=-7,p=r?a-1:0,d=r?-1:1,f=e[t+p];for(p+=d,s=f&(1<<-u)-1,f>>=-u,u+=o;u>0;s=256*s+e[t+p],p+=d,u-=8);for(i=s&(1<<-u)-1,s>>=-u,u+=n;u>0;i=256*i+e[t+p],p+=d,u-=8);if(0===s)s=1-c;else{if(s===l)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,n),s-=c}return(f?-1:1)*i*Math.pow(2,s-n)}function bg(e,t,r,n,a,s){var i,o,l,c=8*s-a-1,u=(1<<c)-1,p=u>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+p>=1?d/l:d*Math.pow(2,1-p))*l>=2&&(i++,l/=2),i+p>=u?(o=0,i=u):i+p>=1?(o=(t*l-1)*Math.pow(2,a),i+=p):(o=t*Math.pow(2,p-1)*Math.pow(2,a),i=0));a>=8;e[r+f]=255&o,f+=h,o/=256,a-=8);for(i=i<<a|o,c+=a;c>0;e[r+f]=255&i,f+=h,i/=256,c-=8);e[r+f-h]|=128*m}var xg={}.toString,Eg=Array.isArray||function(e){return"[object Array]"==xg.call(e)};jg.TYPED_ARRAY_SUPPORT=void 0===Bs.TYPED_ARRAY_SUPPORT||Bs.TYPED_ARRAY_SUPPORT;var wg=Sg();function Sg(){return jg.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Tg(e,t){if(Sg()<t)throw new RangeError("Invalid typed array length");return jg.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=jg.prototype:(null===e&&(e=new jg(t)),e.length=t),e}function jg(e,t,r){if(!(jg.TYPED_ARRAY_SUPPORT||this instanceof jg))return new jg(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return kg(this,e)}return Ag(this,e,t,r)}function Ag(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,
r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);jg.TYPED_ARRAY_SUPPORT?(e=t).__proto__=jg.prototype:e=Cg(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!jg.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Ig(t,r),a=(e=Tg(e,n)).write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function(e,t){if(_g(t)){var r=0|Dg(t.length);return 0===(e=Tg(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?Tg(e,0):Cg(e,t);if("Buffer"===t.type&&Eg(t.data))return Cg(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function Pg(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function kg(e,t){if(Pg(t),e=Tg(e,t<0?0:0|Dg(t)),!jg.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function Cg(e,t){var r=t.length<0?0:0|Dg(t.length);e=Tg(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function Dg(e){if(e>=Sg())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Sg().toString(16)+" bytes");return 0|e}function _g(e){return!(null==e||!e._isBuffer)}function Ig(e,t){if(_g(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return sv(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return iv(e).length;default:if(n)return sv(e).length;t=(""+t).toLowerCase(),n=!0}}function Og(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Xg(this,t,r);case"utf8":case"utf-8":return Kg(this,t,r);case"ascii":return zg(this,t,r);case"latin1":case"binary":return qg(this,t,r);case"base64":return Gg(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jg(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Ng(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Bg(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=jg.from(t,n)),_g(t))return 0===t.length?-1:Fg(e,t,r,n,a);if("number"==typeof t)return t&=255,jg.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Fg(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function Fg(e,t,r,n,a){var s,i=1,o=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,o/=2,l/=2,r/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var u=-1;for(s=r;s<o;s++)if(c(e,s)===c(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*i}else-1!==u&&(s-=s-u),u=-1}else for(r+l>o&&(r=o-l),s=r;s>=0;s--){for(var p=!0,d=0;d<l;d++)if(c(e,s+d)!==c(t,d)){p=!1;break}if(p)return s}return-1}function Rg(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var i=0;i<n;++i){var o=parseInt(t.substr(2*i,2),16);if(isNaN(o))return i;e[r+i]=o}return i}function Mg(e,t,r,n){return ov(sv(t,e.length-r),e,r,n)}function Lg(e,t,r,n){return ov(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function Ug(e,t,r,n){return Lg(e,t,r,n)}function Wg(e,t,r,n){return ov(iv(t),e,r,n)}function Vg(e,t,r,n){return ov(function(e,t){for(var r,n,a,s=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,a=r%256,s.push(a),s.push(n);return s}(t,e.length-r),e,r,n)}function Gg(e,t,r){return 0===t&&r===e.length?gg(e):gg(e.slice(t,r))}function Kg(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var s,i,o,l,c=e[a],u=null,p=c>239?4:c>223?3:c>191?2:1;if(a+p<=r)switch(p){case 1:c<128&&(u=c);break;case 2:128==(192&(s=e[a+1]))&&(l=(31&c)<<6|63&s)>127&&(u=l);break;case 3:s=e[a+1],i=e[a+2],128==(192&s)&&128==(192&i)&&(l=(15&c)<<12|(63&s)<<6|63&i)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=e[a+1],i=e[a+2],o=e[a+3],128==(192&s)&&128==(192&i)&&128==(192&o)&&(l=(15&c)<<18|(63&s)<<12|(63&i)<<6|63&o)>65535&&l<1114112&&(u=l)}null===u?(u=65533,p=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),a+=p}return function(e){var t=e.length;if(t<=Hg)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Hg));return r}(n)}jg.poolSize=8192,jg._augment=function(e){return e.__proto__=jg.prototype,e},jg.from=function(e,t,r){return Ag(null,e,t,r)},jg.TYPED_ARRAY_SUPPORT&&(jg.prototype.__proto__=Uint8Array.prototype,jg.__proto__=Uint8Array),jg.alloc=function(e,t,r){return function(e,t,r,n){return Pg(t),t<=0?Tg(e,t):void 0!==r?"string"==typeof n?Tg(e,t).fill(r,n):Tg(e,t).fill(r):Tg(e,t)}(null,e,t,r)},jg.allocUnsafe=function(e){return kg(null,e)},jg.allocUnsafeSlow=function(e){return kg(null,e)},jg.isBuffer=lv,jg.compare=function(e,t){if(!_g(e)||!_g(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,s=Math.min(r,n);a<s;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},jg.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},jg.concat=function(e,t){if(!Eg(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return jg.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=jg.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var s=e[r];if(!_g(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,a),a+=s.length}return n},jg.byteLength=Ig,jg.prototype._isBuffer=!0,jg.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Ng(this,t,t+1);return this},jg.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Ng(this,t,t+3),Ng(this,t+1,t+2);return this},jg.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Ng(this,t,t+7),Ng(this,t+1,t+6),Ng(this,t+2,t+5),Ng(this,t+3,t+4);return this},jg.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Kg(this,0,e):Og.apply(this,arguments)},jg.prototype.equals=function(e){if(!_g(e))throw new TypeError("Argument must be a Buffer");return this===e||0===jg.compare(this,e)},jg.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},jg.prototype.compare=function(e,t,r,n,a){if(!_g(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(a>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0),o=Math.min(s,i),l=this.slice(n,a),c=e.slice(t,r),u=0;u<o;++u)if(l[u]!==c[u]){s=l[u],i=c[u];break}return s<i?-1:i<s?1:0},jg.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},jg.prototype.indexOf=function(e,t,r){return Bg(this,e,t,r,!0)},jg.prototype.lastIndexOf=function(e,t,r){return Bg(this,e,t,r,!1)},jg.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return Rg(this,e,t,r);case"utf8":case"utf-8":return Mg(this,e,t,r);case"ascii":return Lg(this,e,t,r);case"latin1":case"binary":return Ug(this,e,t,r);case"base64":return Wg(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vg(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},jg.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Hg=4096;function zg(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function qg(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function Xg(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",s=t;s<r;++s)a+=av(e[s]);return a}function Jg(e,t,r){for(var n=e.slice(t,r),a="",s=0;s<n.length;s+=2)a+=String.fromCharCode(n[s]+256*n[s+1]);return a}function Yg(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function $g(e,t,r,n,a,s){if(!_g(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Qg(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,s=Math.min(e.length-r,2);a<s;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function Zg(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,s=Math.min(e.length-r,4);a<s;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function ev(e,t,r,n,a,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function tv(e,t,r,n,a){return a||ev(e,0,r,4),bg(e,t,r,n,23,4),r+4}function rv(e,t,r,n,a){return a||ev(e,0,r,8),bg(e,t,r,n,52,8),r+8}jg.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),jg.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=jg.prototype;else{var a=t-e;r=new jg(a,void 0);for(var s=0;s<a;++s)r[s]=this[s+e]}return r},jg.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Yg(e,t,this.length);for(var n=this[e],a=1,s=0;++s<t&&(a*=256);)n+=this[e+s]*a;return n},jg.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Yg(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},jg.prototype.readUInt8=function(e,t){return t||Yg(e,1,this.length),this[e]},jg.prototype.readUInt16LE=function(e,t){return t||Yg(e,2,this.length),this[e]|this[e+1]<<8},jg.prototype.readUInt16BE=function(e,t){return t||Yg(e,2,this.length),this[e]<<8|this[e+1]},jg.prototype.readUInt32LE=function(e,t){return t||Yg(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},jg.prototype.readUInt32BE=function(e,t){return t||Yg(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},jg.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Yg(e,t,this.length);for(var n=this[e],a=1,s=0;++s<t&&(a*=256);)n+=this[e+s]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},jg.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Yg(e,t,this.length);for(var n=t,a=1,s=this[e+--n];n>0&&(a*=256);)s+=this[e+--n]*a;return s>=(a*=128)&&(s-=Math.pow(2,8*t)),s},jg.prototype.readInt8=function(e,t){return t||Yg(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},jg.prototype.readInt16LE=function(e,t){t||Yg(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},jg.prototype.readInt16BE=function(e,t){t||Yg(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},jg.prototype.readInt32LE=function(e,t){return t||Yg(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},jg.prototype.readInt32BE=function(e,t){return t||Yg(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},jg.prototype.readFloatLE=function(e,t){return t||Yg(e,4,this.length),vg(this,e,!0,23,4)},jg.prototype.readFloatBE=function(e,t){return t||Yg(e,4,this.length),vg(this,e,!1,23,4)},jg.prototype.readDoubleLE=function(e,t){return t||Yg(e,8,this.length),vg(this,e,!0,52,8)},jg.prototype.readDoubleBE=function(e,t){return t||Yg(e,8,this.length),vg(this,e,!1,52,8)},jg.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||$g(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,s=0;for(this[t]=255&e;++s<r&&(a*=256);)this[t+s]=e/a&255;return t+r},jg.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||$g(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,s=1;for(this[t+a]=255&e;--a>=0&&(s*=256);)this[t+a]=e/s&255;return t+r},jg.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,1,255,0),jg.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},jg.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,2,65535,0),jg.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Qg(this,e,t,!0),t+2},jg.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,2,65535,0),jg.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Qg(this,e,t,!1),t+2},jg.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,4,4294967295,0),jg.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Zg(this,e,t,!0),t+4},jg.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,4,4294967295,0),jg.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Zg(this,e,t,!1),t+4},jg.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);$g(this,e,t,r,a-1,-a)}var s=0,i=1,o=0;for(this[t]=255&e;++s<r&&(i*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/i>>0)-o&255;return t+r},jg.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);$g(this,e,t,r,a-1,-a)}var s=r-1,i=1,o=0;for(this[t+s]=255&e;--s>=0&&(i*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/i>>0)-o&255;return t+r},jg.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,1,127,-128),jg.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},jg.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,2,32767,-32768),jg.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Qg(this,e,t,!0),t+2},jg.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,2,32767,-32768),jg.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Qg(this,e,t,!1),t+2},jg.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,4,2147483647,-2147483648),jg.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Zg(this,e,t,!0),t+4},jg.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||$g(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),jg.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Zg(this,e,t,!1),t+4},jg.prototype.writeFloatLE=function(e,t,r){return tv(this,e,t,!0,r)},jg.prototype.writeFloatBE=function(e,t,r){return tv(this,e,t,!1,r)},jg.prototype.writeDoubleLE=function(e,t,r){return rv(this,e,t,!0,r)},jg.prototype.writeDoubleBE=function(e,t,r){return rv(this,e,t,!1,r)},jg.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,s=n-r;if(this===e&&r<t&&t<n)for(a=s-1;a>=0;--a)e[a+t]=this[a+r];else if(s<1e3||!jg.TYPED_ARRAY_SUPPORT)for(a=0;a<s;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},jg.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!jg.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var i=_g(e)?e:sv(new jg(e,n).toString()),o=i.length;for(s=0;s<r-t;++s)this[s+t]=i[s%o]}return this};var nv=/[^+\/0-9A-Za-z-_]/g;function av(e){return e<16?"0"+e.toString(16):e.toString(16)}function sv(e,t){var r;t=t||1/0;for(var n=e.length,a=null,s=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&s.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&s.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function iv(e){return function(e){var t,r,n,a,s,i;hg||mg();var o=e.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s="="===e[o-2]?2:"="===e[o-1]?1:0,i=new fg(3*o/4-s),n=s>0?o-4:o;var l=0;for(t=0,r=0;t<n;t+=4,r+=3)a=dg[e.charCodeAt(t)]<<18|dg[e.charCodeAt(t+1)]<<12|dg[e.charCodeAt(t+2)]<<6|dg[e.charCodeAt(t+3)],i[l++]=a>>16&255,i[l++]=a>>8&255,i[l++]=255&a;return 2===s?(a=dg[e.charCodeAt(t)]<<2|dg[e.charCodeAt(t+1)]>>4,i[l++]=255&a):1===s&&(a=dg[e.charCodeAt(t)]<<10|dg[e.charCodeAt(t+1)]<<4|dg[e.charCodeAt(t+2)]>>2,i[l++]=a>>8&255,i[l++]=255&a),i}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(nv,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ov(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}function lv(e){return null!=e&&(!!e._isBuffer||cv(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&cv(e.slice(0,0))}(e))}function cv(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var uv=Object.freeze({__proto__:null,Buffer:jg,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),jg.alloc(+e)},isBuffer:lv,kMaxLength:wg}),pv={},dv=pv.hasOwnProperty,fv=function(e,t){for(var r in e)dv.call(e,r)&&t(r,e[r])},hv=pv.toString,mv=Array.isArray,yv=jg.isBuffer,gv={'"':'\\"',"'":"\\'","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},vv=/["'\\\b\f\n\r\t]/,bv=/[0-9]/,xv=/[ !#-&\(-\[\]-_a-~]/,Ev=function e(t,r){var n,a,s=function(){f=d,++r.indentLevel,d=r.indent.repeat(r.indentLevel)},i={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"\t",indentLevel:0,__inline1__:!1,__inline2__:!1},o=r&&r.json;o&&(i.quotes="double",i.wrap=!0),n=i,"single"!=(r=(a=r)?(fv(a,function(e,t){n[e]=t}),n):n).quotes&&"double"!=r.quotes&&"backtick"!=r.quotes&&(r.quotes="single");var l,c="double"==r.quotes?'"':"backtick"==r.quotes?"`":"'",u=r.compact,p=r.lowercaseHex,d=r.indent.repeat(r.indentLevel),f="",h=r.__inline1__,m=r.__inline2__,y=u?"":"\n",g=!0,v="binary"==r.numbers,b="octal"==r.numbers,x="decimal"==r.numbers,E="hexadecimal"==r.numbers;if(o&&t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!function(e){return"string"==typeof e||"[object String]"==hv.call(e)}(t)){if(function(e){return"[object Map]"==hv.call(e)}(t))return 0==t.size?"new Map()":(u||(r.__inline1__=!0,r.__inline2__=!1),"new Map("+e(Array.from(t),r)+")");if(function(e){return"[object Set]"==hv.call(e)}(t))return 0==t.size?"new Set()":"new Set("+e(Array.from(t),r)+")";if(yv(t))return 0==t.length?"Buffer.from([])":"Buffer.from("+e(Array.from(t),r)+")";if(mv(t))return l=[],r.wrap=!0,h&&(r.__inline1__=!1,r.__inline2__=!0),m||s(),function(e,t){for(var r=e.length,n=-1;++n<r;)t(e[n])}(t,function(t){g=!1,m&&(r.__inline2__=!1),l.push((u||m?"":d)+e(t,r))}),g?"[]":m?"["+l.join(", ")+"]":"["+y+l.join(","+y)+y+(u?"":f)+"]";if(!function(e){return"number"==typeof e||"[object Number]"==hv.call(e)}(t))return function(e){return"[object Object]"==hv.call(e)}(t)?(l=[],r.wrap=!0,s(),fv(t,function(t,n){g=!1,l.push((u?"":d)+e(t,r)+":"+(u?"":" ")+e(n,r))}),g?"{}":"{"+y+l.join(","+y)+y+(u?"":f)+"}"):o?JSON.stringify(t)||"null":String(t);if(o)return JSON.stringify(t);if(x)return String(t);if(E){var w=t.toString(16);return p||(w=w.toUpperCase()),"0x"+w}if(v)return"0b"+t.toString(2);if(b)return"0o"+t.toString(8)}var S=t,T=-1,j=S.length;for(l="";++T<j;){var A=S.charAt(T);if(r.es6){var P=S.charCodeAt(T);if(P>=55296&&P<=56319&&j>T+1){var k=S.charCodeAt(T+1);if(k>=56320&&k<=57343){var C=(1024*(P-55296)+k-56320+65536).toString(16);p||(C=C.toUpperCase()),l+="\\u{"+C+"}",++T;continue}}}if(!r.escapeEverything){if(xv.test(A)){l+=A;continue}if('"'==A){l+=c==A?'\\"':A;continue}if("`"==A){l+=c==A?"\\`":A;continue}if("'"==A){l+=c==A?"\\'":A;continue}}if("\0"!=A||o||bv.test(S.charAt(T+1)))if(vv.test(A))l+=gv[A];else{var D=A.charCodeAt(0);if(r.minimal&&8232!=D&&8233!=D)l+=A;else{var _=D.toString(16);p||(_=_.toUpperCase());var I=_.length>2||o,O="\\"+(I?"u":"x")+("0000"+_).slice(I?-4:-2);l+=O}}else l+="\\0"}return r.wrap&&(l=c+l+c),"`"==c&&(l=l.replace(/\$\{/g,"\\${")),r.isScriptContext?l.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,o?"\\u003C!--":"\\x3C!--"):l};Ev.version="2.5.2";var wv=Ev;function Sv(e){this.token("..."),this.print(e.argument,e)}function Tv(e){var t=e.properties;this.token("{"),this.printInnerComments(e),t.length&&(this.space(),this.printList(t,e,{indent:!0,statement:!0}),this.space()),this.token("}")}function jv(e){var t=e.elements,r=t.length;this.token("["),this.printInnerComments(e);for(var n=0;n<t.length;n++){var a=t[n];a?(n>0&&this.space(),this.print(a,e),n<r-1&&this.token(",")):this.token(",")}this.token("]")}function Av(e){var t=this.getPossibleRaw(e),r=this.format.jsescOption,n=e.value+"";r.numbers?this.number(wv(e.value,r)):null==t?this.number(n):this.format.minified?this.number(t.length<n.length?t:n):this.number(t)}function Pv(e){var t=this.getPossibleRaw(e);if(this.format.minified||null==t){var r=this.format.jsescOption;this.format.jsonCompatibleStrings&&(r.json=!0);var n=wv(e.value,r);return this.token(n)}this.token(t)}function kv(e,t,r){r&&(e.space(),e.word("of"),e.space(),e.word(t)),e.space()}function Cv(e,t){var r=t.members;e.token("{"),e.indent(),e.newline();for(var n,a=U(r);!(n=a()).done;){var s=n.value;e.print(s,t),e.newline()}e.dedent(),e.token("}")}function Dv(e,t){var r=t.id,n=t.init;e.print(r,t),e.space(),e.token("="),e.space(),e.print(n,t),e.token(",")}function _v(e){if(e.declaration){var t=e.declaration;this.print(t,e),er(t)||this.semicolon()}else this.token("{"),e.specifiers.length&&(this.space(),this.printList(e.specifiers,e),this.space()),this.token("}"),e.source&&(this.space(),this.word("from"),this.space(),this.print(e.source,e)),this.semicolon()}function Iv(e){this.print(e.id,e),this.print(e.typeParameters,e)}function Ov(){this.space(),this.token("&"),this.space()}function Nv(e){this.token("<"),this.printList(e.params,e,{}),this.token(">")}function Bv(){this.space(),this.token("|"),this.space()}var Fv=/(?:^|[^\\])(?:\\\\)*'/,Rv=/(?:^|[^\\])(?:\\\\)*"/;function Mv(){this.space()}function Lv(e){this.token("<"),this.printList(e.params,e,{}),this.token(">")}function Uv(e,t){!0!==t&&e.token(t)}var Wv=Object.freeze({__proto__:null,TaggedTemplateExpression:function(e){this.print(e.tag,e),this.print(e.typeParameters,e),this.print(e.quasi,e)},TemplateElement:function(e,t){var r=t.quasis[0]===e,n=t.quasis[t.quasis.length-1]===e,a=(r?"`":"}")+e.value.raw+(n?"`":"${");this.token(a)},TemplateLiteral:function(e){for(var t=e.quasis,r=0;r<t.length;r++)this.print(t[r],e),r+1<t.length&&this.print(e.expressions[r],e)},UnaryExpression:function(e){"void"===e.operator||"delete"===e.operator||"typeof"===e.operator||"throw"===e.operator?(this.word(e.operator),this.space()):this.token(e.operator),this.print(e.argument,e)},DoExpression:function(e){this.word("do"),this.space(),this.print(e.body,e)},ParenthesizedExpression:function(e){this.token("("),this.print(e.expression,e),this.token(")")},UpdateExpression:function(e){e.prefix?(this.token(e.operator),this.print(e.argument,e)):(this.startTerminatorless(!0),this.print(e.argument,e),this.endTerminatorless(),this.token(e.operator))},ConditionalExpression:function(e){this.print(e.test,e),this.space(),this.token("?"),this.space(),this.print(e.consequent,e),this.space(),this.token(":"),this.space(),this.print(e.alternate,e)},NewExpression:function(e,t){this.word("new"),this.space(),this.print(e.callee,e),(!this.format.minified||0!==e.arguments.length||e.optional||ne(t,{callee:e})||we(t)||Se(t))&&(this.print(e.typeArguments,e),this.print(e.typeParameters,e),e.optional&&this.token("?."),this.token("("),this.printList(e.arguments,e),this.token(")"))},SequenceExpression:function(e){this.printList(e.expressions,e)},ThisExpression:function(){this.word("this")},Super:function(){this.word("super")},Decorator:function(e){this.token("@"),this.print(e.expression,e),this.newline()},OptionalMemberExpression:function(e){if(this.print(e.object,e),!e.computed&&we(e.property))throw new TypeError("Got a MemberExpression for MemberExpression property");var t=e.computed;lr(e.property)&&"number"==typeof e.property.value&&(t=!0),e.optional&&this.token("?."),t?(this.token("["),this.print(e.property,e),this.token("]")):(e.optional||this.token("."),this.print(e.property,e))},OptionalCallExpression:function(e){this.print(e.callee,e),this.print(e.typeArguments,e),this.print(e.typeParameters,e),e.optional&&this.token("?."),this.token("("),this.printList(e.arguments,e),this.token(")")},CallExpression:function(e){this.print(e.callee,e),this.print(e.typeArguments,e),this.print(e.typeParameters,e),this.token("("),this.printList(e.arguments,e),this.token(")")},Import:function(){this.word("import")},YieldExpression:Xy,AwaitExpression:Jy,EmptyStatement:function(){this.semicolon(!0)},ExpressionStatement:function(e){this.print(e.expression,e),this.semicolon()},AssignmentPattern:function(e){this.print(e.left,e),e.left.optional&&this.token("?"),this.print(e.left.typeAnnotation,e),this.space(),this.token("="),this.space(),this.print(e.right,e)},AssignmentExpression:Yy,BindExpression:function(e){this.print(e.object,e),this.token("::"),this.print(e.callee,e)},BinaryExpression:Yy,LogicalExpression:Yy,MemberExpression:function(e){if(this.print(e.object,e),!e.computed&&we(e.property))throw new TypeError("Got a MemberExpression for MemberExpression property");var t=e.computed;lr(e.property)&&"number"==typeof e.property.value&&(t=!0),t?(this.token("["),this.print(e.property,e),this.token("]")):(this.token("."),this.print(e.property,e))},MetaProperty:function(e){this.print(e.meta,e),this.token("."),this.print(e.property,e)},PrivateName:function(e){this.token("#"),this.print(e.id,e)},V8IntrinsicIdentifier:function(e){this.token("%"),this.word(e.name)},WithStatement:function(e){this.word("with"),this.space(),this.token("("),this.print(e.object,e),this.token(")"),this.printBlock(e)},IfStatement:function(e){this.word("if"),this.space(),this.token("("),this.print(e.test,e),this.token(")"),this.space();var t=e.alternate&&me(function e(t){return er(t.body)?e(t.body):t}(e.consequent));t&&(this.token("{"),this.newline(),this.indent()),this.printAndIndentOnComments(e.consequent,e),t&&(this.dedent(),this.newline(),this.token("}")),e.alternate&&(this.endsWith("}")&&this.space(),this.word("else"),this.space(),this.printAndIndentOnComments(e.alternate,e))},ForStatement:function(e){this.word("for"),this.space(),this.token("("),this.inForStatementInitCounter++,this.print(e.init,e),this.inForStatementInitCounter--,this.token(";"),e.test&&(this.space(),this.print(e.test,e)),this.token(";"),e.update&&(this.space(),this.print(e.update,e)),this.token(")"),this.printBlock(e)},WhileStatement:function(e){this.word("while"),this.space(),this.token("("),this.print(e.test,e),this.token(")"),this.printBlock(e)},ForInStatement:Qy,ForOfStatement:Zy,DoWhileStatement:function(e){this.word("do"),this.space(),this.print(e.body,e),this.space(),this.word("while"),this.space(),this.token("("),this.print(e.test,e),this.token(")"),this.semicolon()},ContinueStatement:tg,ReturnStatement:rg,BreakStatement:ng,ThrowStatement:ag,LabeledStatement:function(e){this.print(e.label,e),this.token(":"),this.space(),this.print(e.body,e)},TryStatement:function(e){this.word("try"),this.space(),this.print(e.block,e),this.space(),e.handlers?this.print(e.handlers[0],e):this.print(e.handler,e),e.finalizer&&(this.space(),this.word("finally"),this.space(),this.print(e.finalizer,e))},CatchClause:function(e){this.word("catch"),this.space(),e.param&&(this.token("("),this.print(e.param,e),this.print(e.param.typeAnnotation,e),this.token(")"),this.space()),this.print(e.body,e)},SwitchStatement:function(e){this.word("switch"),this.space(),this.token("("),this.print(e.discriminant,e),this.token(")"),this.space(),this.token("{"),this.printSequence(e.cases,e,{indent:!0,addNewlines:function(t,r){if(!t&&e.cases[e.cases.length-1]===r)return-1}}),this.token("}")},SwitchCase:function(e){e.test?(this.word("case"),this.space(),this.print(e.test,e),this.token(":")):(this.word("default"),this.token(":")),e.consequent.length&&(this.newline(),this.printSequence(e.consequent,e,{indent:!0}))},DebuggerStatement:function(){this.word("debugger"),this.semicolon()},VariableDeclaration:function(e,t){e.declare&&(this.word("declare"),this.space()),this.word(e.kind),this.space();var r,n=!1;if(!nr(t))for(var a=0,s=e.declarations;a<s.length;a++){s[a].init&&(n=!0)}n&&(r="const"===e.kind?ig:sg),this.printList(e.declarations,e,{separator:r}),(!nr(t)||t.left!==e&&t.init!==e)&&this.semicolon()},VariableDeclarator:function(e){this.print(e.id,e),e.definite&&this.token("!"),this.print(e.id.typeAnnotation,e),e.init&&(this.space(),this.token("="),this.space(),this.print(e.init,e))},ClassDeclaration:og,ClassExpression:og,ClassBody:function(e){this.token("{"),this.printInnerComments(e),0===e.body.length?this.token("}"):(this.newline(),this.indent(),this.printSequence(e.body,e),this.dedent(),this.endsWith("\n")||this.newline(),this.rightBrace())},ClassProperty:function(e){this.printJoin(e.decorators,e),this.tsPrintClassMemberModifiers(e,!0),e.computed?(this.token("["),this.print(e.key,e),this.token("]")):(this._variance(e),this.print(e.key,e)),e.optional&&this.token("?"),e.definite&&this.token("!"),this.print(e.typeAnnotation,e),e.value&&(this.space(),this.token("="),this.space(),this.print(e.value,e)),this.semicolon()},ClassPrivateProperty:function(e){this.printJoin(e.decorators,e),e.static&&(this.word("static"),this.space()),this.print(e.key,e),this.print(e.typeAnnotation,e),e.value&&(this.space(),this.token("="),this.space(),
this.print(e.value,e)),this.semicolon()},ClassMethod:function(e){this._classMethodHead(e),this.space(),this.print(e.body,e)},ClassPrivateMethod:function(e){this._classMethodHead(e),this.space(),this.print(e.body,e)},_classMethodHead:function(e){this.printJoin(e.decorators,e),this.tsPrintClassMemberModifiers(e,!1),this._methodHead(e)},StaticBlock:function(e){this.word("static"),this.space(),this.token("{"),0===e.body.length?this.token("}"):(this.newline(),this.printSequence(e.body,e,{indent:!0}),this.rightBrace())},_params:function(e){this.print(e.typeParameters,e),this.token("("),this._parameters(e.params,e),this.token(")"),this.print(e.returnType,e)},_parameters:function(e,t){for(var r=0;r<e.length;r++)this._param(e[r],t),r<e.length-1&&(this.token(","),this.space())},_param:function(e,t){this.printJoin(e.decorators,e),this.print(e,t),e.optional&&this.token("?"),this.print(e.typeAnnotation,e)},_methodHead:function(e){var t=e.kind,r=e.key;"get"!==t&&"set"!==t||(this.word(t),this.space()),e.async&&(this._catchUp("start",r.loc),this.word("async"),this.space()),"method"!==t&&"init"!==t||e.generator&&this.token("*"),e.computed?(this.token("["),this.print(r,e),this.token("]")):this.print(r,e),e.optional&&this.token("?"),this._params(e)},_predicate:function(e){e.predicate&&(e.returnType||this.token(":"),this.space(),this.print(e.predicate,e))},_functionHead:function(e){e.async&&(this.word("async"),this.space()),this.word("function"),e.generator&&this.token("*"),this.space(),e.id&&this.print(e.id,e),this._params(e),this._predicate(e)},FunctionExpression:lg,FunctionDeclaration:lg,ArrowFunctionExpression:function(e){e.async&&(this.word("async"),this.space());var t=e.params[0];1===e.params.length&&he(t)&&!function(e,t){return e.typeParameters||e.returnType||t.typeAnnotation||t.optional||t.trailingComments}(e,t)?(this.format.retainLines||e.async)&&e.loc&&e.body.loc&&e.loc.start.line<e.body.loc.start.line?(this.token("("),t.loc&&t.loc.start.line>e.loc.start.line?(this.indent(),this.print(t,e),this.dedent(),this._catchUp("start",e.body.loc)):this.print(t,e),this.token(")")):this.print(t,e):this._params(e),this._predicate(e),this.space(),this.token("=>"),this.space(),this.print(e.body,e)},ImportSpecifier:function(e){"type"!==e.importKind&&"typeof"!==e.importKind||(this.word(e.importKind),this.space()),this.print(e.imported,e),e.local&&e.local.name!==e.imported.name&&(this.space(),this.word("as"),this.space(),this.print(e.local,e))},ImportDefaultSpecifier:function(e){this.print(e.local,e)},ExportDefaultSpecifier:function(e){this.print(e.exported,e)},ExportSpecifier:function(e){this.print(e.local,e),e.exported&&e.local.name!==e.exported.name&&(this.space(),this.word("as"),this.space(),this.print(e.exported,e))},ExportNamespaceSpecifier:function(e){this.token("*"),this.space(),this.word("as"),this.space(),this.print(e.exported,e)},ExportAllDeclaration:cg,ExportNamedDeclaration:function(e){this.format.decoratorsBeforeExport&&Ke(e.declaration)&&this.printJoin(e.declaration.decorators,e),this.word("export"),this.space(),ug.apply(this,arguments)},ExportDefaultDeclaration:function(e){this.format.decoratorsBeforeExport&&Ke(e.declaration)&&this.printJoin(e.declaration.decorators,e),this.word("export"),this.space(),this.word("default"),this.space(),ug.apply(this,arguments)},ImportDeclaration:function(e){var t,r;this.word("import"),this.space(),"type"!==e.importKind&&"typeof"!==e.importKind||(this.word(e.importKind),this.space());var n=e.specifiers.slice(0);if(null==n?void 0:n.length){for(;;){var a=n[0];if(!Ye(a)&&!$e(a))break;this.print(n.shift(),e),n.length&&(this.token(","),this.space())}n.length&&(this.token("{"),this.space(),this.printList(n,e),this.space(),this.token("}")),this.space(),this.word("from"),this.space()}this.print(e.source,e),(null==(t=e.assertions)?void 0:t.length)?(this.space(),this.word("assert"),this.space(),this.token("{"),this.space(),this.printList(e.assertions,e),this.space(),this.token("}")):(null==(r=e.attributes)?void 0:r.length)&&(this.space(),this.word("with"),this.space(),this.printList(e.attributes,e)),this.semicolon()},ImportAttribute:function(e){this.print(e.key),this.token(":"),this.space(),this.print(e.value)},ImportNamespaceSpecifier:function(e){this.token("*"),this.space(),this.word("as"),this.space(),this.print(e.local,e)},Identifier:function(e){var t=this;this.exactSource(e.loc,function(){t.word(e.name)})},ArgumentPlaceholder:function(){this.token("?")},RestElement:Sv,SpreadElement:Sv,ObjectExpression:Tv,ObjectPattern:Tv,ObjectMethod:function(e){this.printJoin(e.decorators,e),this._methodHead(e),this.space(),this.print(e.body,e)},ObjectProperty:function(e){if(this.printJoin(e.decorators,e),e.computed)this.token("["),this.print(e.key,e),this.token("]");else{if(Le(e.value)&&he(e.key)&&e.key.name===e.value.left.name)return void this.print(e.value,e);if(this.print(e.key,e),e.shorthand&&he(e.key)&&he(e.value)&&e.key.name===e.value.name)return}this.token(":"),this.space(),this.print(e.value,e)},ArrayExpression:jv,ArrayPattern:jv,RecordExpression:function(e){var t,r,n=e.properties;if("bar"===this.format.recordAndTupleSyntaxType)t="{|",r="|}";else{if("hash"!==this.format.recordAndTupleSyntaxType)throw new Error('The "recordAndTupleSyntaxType" generator option must be "bar" or "hash" ('+JSON.stringify(this.format.recordAndTupleSyntaxType)+" received).");t="#{",r="}"}this.token(t),this.printInnerComments(e),n.length&&(this.space(),this.printList(n,e,{indent:!0,statement:!0}),this.space()),this.token(r)},TupleExpression:function(e){var t,r,n=e.elements,a=n.length;if("bar"===this.format.recordAndTupleSyntaxType)t="[|",r="|]";else{if("hash"!==this.format.recordAndTupleSyntaxType)throw new Error(this.format.recordAndTupleSyntaxType+" is not a valid recordAndTuple syntax type");t="#[",r="]"}this.token(t),this.printInnerComments(e);for(var s=0;s<n.length;s++){var i=n[s];i&&(s>0&&this.space(),this.print(i,e),s<a-1&&this.token(","))}this.token(r)},RegExpLiteral:function(e){this.word("/"+e.pattern+"/"+e.flags)},BooleanLiteral:function(e){this.word(e.value?"true":"false")},NullLiteral:function(){this.word("null")},NumericLiteral:Av,StringLiteral:Pv,BigIntLiteral:function(e){var t=this.getPossibleRaw(e);this.format.minified||null==t?this.token(e.value+"n"):this.token(t)},DecimalLiteral:function(e){var t=this.getPossibleRaw(e);this.format.minified||null==t?this.token(e.value+"m"):this.token(t)},PipelineTopicExpression:function(e){this.print(e.expression,e)},PipelineBareFunction:function(e){this.print(e.callee,e)},PipelinePrimaryTopicReference:function(){this.token("#")},NumberLiteralTypeAnnotation:Av,StringLiteralTypeAnnotation:Pv,AnyTypeAnnotation:function(){this.word("any")},ArrayTypeAnnotation:function(e){this.print(e.elementType,e),this.token("["),this.token("]")},BooleanTypeAnnotation:function(){this.word("boolean")},BooleanLiteralTypeAnnotation:function(e){this.word(e.value?"true":"false")},NullLiteralTypeAnnotation:function(){this.word("null")},DeclareClass:function(e,t){ht(t)||(this.word("declare"),this.space()),this.word("class"),this.space(),this._interfaceish(e)},DeclareFunction:function(e,t){ht(t)||(this.word("declare"),this.space()),this.word("function"),this.space(),this.print(e.id,e),this.print(e.id.typeAnnotation.typeAnnotation,e),e.predicate&&(this.space(),this.print(e.predicate,e)),this.semicolon()},InferredPredicate:function(){this.token("%"),this.word("checks")},DeclaredPredicate:function(e){this.token("%"),this.word("checks"),this.token("("),this.print(e.value,e),this.token(")")},DeclareInterface:function(e){this.word("declare"),this.space(),this.InterfaceDeclaration(e)},DeclareModule:function(e){this.word("declare"),this.space(),this.word("module"),this.space(),this.print(e.id,e),this.space(),this.print(e.body,e)},DeclareModuleExports:function(e){this.word("declare"),this.space(),this.word("module"),this.token("."),this.word("exports"),this.print(e.typeAnnotation,e)},DeclareTypeAlias:function(e){this.word("declare"),this.space(),this.TypeAlias(e)},DeclareOpaqueType:function(e,t){ht(t)||(this.word("declare"),this.space()),this.OpaqueType(e)},DeclareVariable:function(e,t){ht(t)||(this.word("declare"),this.space()),this.word("var"),this.space(),this.print(e.id,e),this.print(e.id.typeAnnotation,e),this.semicolon()},DeclareExportDeclaration:function(e){this.word("declare"),this.space(),this.word("export"),this.space(),e.default&&(this.word("default"),this.space()),_v.apply(this,arguments)},DeclareExportAllDeclaration:function(){this.word("declare"),this.space(),cg.apply(this,arguments)},EnumDeclaration:function(e){var t=e.id,r=e.body;this.word("enum"),this.space(),this.print(t,e),this.print(r,e)},EnumBooleanBody:function(e){kv(this,"boolean",e.explicitType),Cv(this,e)},EnumNumberBody:function(e){kv(this,"number",e.explicitType),Cv(this,e)},EnumStringBody:function(e){kv(this,"string",e.explicitType),Cv(this,e)},EnumSymbolBody:function(e){kv(this,"symbol",!0),Cv(this,e)},EnumDefaultedMember:function(e){var t=e.id;this.print(t,e),this.token(",")},EnumBooleanMember:function(e){Dv(this,e)},EnumNumberMember:function(e){Dv(this,e)},EnumStringMember:function(e){Dv(this,e)},ExistsTypeAnnotation:function(){this.token("*")},FunctionTypeAnnotation:function(e,t){this.print(e.typeParameters,e),this.token("("),this.printList(e.params,e),e.rest&&(e.params.length&&(this.token(","),this.space()),this.token("..."),this.print(e.rest,e)),this.token(")"),"ObjectTypeCallProperty"===t.type||"DeclareFunction"===t.type||"ObjectTypeProperty"===t.type&&t.method?this.token(":"):(this.space(),this.token("=>")),this.space(),this.print(e.returnType,e)},FunctionTypeParam:function(e){this.print(e.name,e),e.optional&&this.token("?"),e.name&&(this.token(":"),this.space()),this.print(e.typeAnnotation,e)},InterfaceExtends:Iv,ClassImplements:Iv,GenericTypeAnnotation:Iv,_interfaceish:function(e){this.print(e.id,e),this.print(e.typeParameters,e),e.extends.length&&(this.space(),this.word("extends"),this.space(),this.printList(e.extends,e)),e.mixins&&e.mixins.length&&(this.space(),this.word("mixins"),this.space(),this.printList(e.mixins,e)),e.implements&&e.implements.length&&(this.space(),this.word("implements"),this.space(),this.printList(e.implements,e)),this.space(),this.print(e.body,e)},_variance:function(e){e.variance&&("plus"===e.variance.kind?this.token("+"):"minus"===e.variance.kind&&this.token("-"))},InterfaceDeclaration:function(e){this.word("interface"),this.space(),this._interfaceish(e)},InterfaceTypeAnnotation:function(e){this.word("interface"),e.extends&&e.extends.length&&(this.space(),this.word("extends"),this.space(),this.printList(e.extends,e)),this.space(),this.print(e.body,e)},IntersectionTypeAnnotation:function(e){this.printJoin(e.types,e,{separator:Ov})},MixedTypeAnnotation:function(){this.word("mixed")},EmptyTypeAnnotation:function(){this.word("empty")},NullableTypeAnnotation:function(e){this.token("?"),this.print(e.typeAnnotation,e)},NumberTypeAnnotation:function(){this.word("number")},StringTypeAnnotation:function(){this.word("string")},ThisTypeAnnotation:function(){this.word("this")},TupleTypeAnnotation:function(e){this.token("["),this.printList(e.types,e),this.token("]")},TypeofTypeAnnotation:function(e){this.word("typeof"),this.space(),this.print(e.argument,e)},TypeAlias:function(e){this.word("type"),this.space(),this.print(e.id,e),this.print(e.typeParameters,e),this.space(),this.token("="),this.space(),this.print(e.right,e),this.semicolon()},TypeAnnotation:function(e){this.token(":"),this.space(),e.optional&&this.token("?"),this.print(e.typeAnnotation,e)},TypeParameterInstantiation:Nv,TypeParameterDeclaration:Nv,TypeParameter:function(e){this._variance(e),this.word(e.name),e.bound&&this.print(e.bound,e),e.default&&(this.space(),this.token("="),this.space(),this.print(e.default,e))},OpaqueType:function(e){this.word("opaque"),this.space(),this.word("type"),this.space(),this.print(e.id,e),this.print(e.typeParameters,e),e.supertype&&(this.token(":"),this.space(),this.print(e.supertype,e)),e.impltype&&(this.space(),this.token("="),this.space(),this.print(e.impltype,e)),this.semicolon()},ObjectTypeAnnotation:function(e){var t=this;e.exact?this.token("{|"):this.token("{");var r=e.properties.concat(e.callProperties||[],e.indexers||[],e.internalSlots||[]);r.length&&(this.space(),this.printJoin(r,e,{addNewlines:function(e){if(e&&!r[0])return 1},indent:!0,statement:!0,iterator:function(){(1!==r.length||e.inexact)&&(t.token(","),t.space())}}),this.space()),e.inexact&&(this.indent(),this.token("..."),r.length&&this.newline(),this.dedent()),e.exact?this.token("|}"):this.token("}")},ObjectTypeInternalSlot:function(e){e.static&&(this.word("static"),this.space()),this.token("["),this.token("["),this.print(e.id,e),this.token("]"),this.token("]"),e.optional&&this.token("?"),e.method||(this.token(":"),this.space()),this.print(e.value,e)},ObjectTypeCallProperty:function(e){e.static&&(this.word("static"),this.space()),this.print(e.value,e)},ObjectTypeIndexer:function(e){e.static&&(this.word("static"),this.space()),this._variance(e),this.token("["),e.id&&(this.print(e.id,e),this.token(":"),this.space()),this.print(e.key,e),this.token("]"),this.token(":"),this.space(),this.print(e.value,e)},ObjectTypeProperty:function(e){e.proto&&(this.word("proto"),this.space()),e.static&&(this.word("static"),this.space()),"get"!==e.kind&&"set"!==e.kind||(this.word(e.kind),this.space()),this._variance(e),this.print(e.key,e),e.optional&&this.token("?"),e.method||(this.token(":"),this.space()),this.print(e.value,e)},ObjectTypeSpreadProperty:function(e){this.token("..."),this.print(e.argument,e)},QualifiedTypeIdentifier:function(e){this.print(e.qualification,e),this.token("."),this.print(e.id,e)},SymbolTypeAnnotation:function(){this.word("symbol")},UnionTypeAnnotation:function(e){this.printJoin(e.types,e,{separator:Bv})},TypeCastExpression:function(e){this.token("("),this.print(e.expression,e),this.print(e.typeAnnotation,e),this.token(")")},Variance:function(e){"plus"===e.kind?this.token("+"):this.token("-")},VoidTypeAnnotation:function(){this.word("void")},File:function(e){e.program&&this.print(e.program.interpreter,e),this.print(e.program,e)},Program:function(e){this.printInnerComments(e,!1),this.printSequence(e.directives,e),e.directives&&e.directives.length&&this.newline(),this.printSequence(e.body,e)},BlockStatement:function(e){var t;this.token("{"),this.printInnerComments(e);var r=null==(t=e.directives)?void 0:t.length;e.body.length||r?(this.newline(),this.printSequence(e.directives,e,{indent:!0}),r&&this.newline(),this.printSequence(e.body,e,{indent:!0}),this.removeTrailingNewline(),this.source("end",e.loc),this.endsWith("\n")||this.newline(),this.rightBrace()):(this.source("end",e.loc),this.token("}"))},Noop:function(){},Directive:function(e){this.print(e.value,e),this.semicolon()},DirectiveLiteral:function(e){var t=this.getPossibleRaw(e);if(null==t){var r=e.value;if(Rv.test(r)){if(Fv.test(r))throw new Error("Malformed AST: it is not possible to print a directive containing both unescaped single and double quotes.");this.token("'"+r+"'")}else this.token('"'+r+'"')}else this.token(t)},InterpreterDirective:function(e){this.token("#!"+e.value+"\n")},Placeholder:function(e){this.token("%%"),this.print(e.name),this.token("%%"),"Statement"===e.expectedNode&&this.semicolon()},JSXAttribute:function(e){this.print(e.name,e),e.value&&(this.token("="),this.print(e.value,e))},JSXIdentifier:function(e){this.word(e.name)},JSXNamespacedName:function(e){this.print(e.namespace,e),this.token(":"),this.print(e.name,e)},JSXMemberExpression:function(e){this.print(e.object,e),this.token("."),this.print(e.property,e)},JSXSpreadAttribute:function(e){this.token("{"),this.token("..."),this.print(e.argument,e),this.token("}")},JSXExpressionContainer:function(e){this.token("{"),this.print(e.expression,e),this.token("}")},JSXSpreadChild:function(e){this.token("{"),this.token("..."),this.print(e.expression,e),this.token("}")},JSXText:function(e){var t=this.getPossibleRaw(e);null!=t?this.token(t):this.token(e.value)},JSXElement:function(e){var t=e.openingElement;if(this.print(t,e),!t.selfClosing){this.indent();for(var r=0,n=e.children;r<n.length;r++){var a=n[r];this.print(a,e)}this.dedent(),this.print(e.closingElement,e)}},JSXOpeningElement:function(e){this.token("<"),this.print(e.name,e),this.print(e.typeParameters,e),e.attributes.length>0&&(this.space(),this.printJoin(e.attributes,e,{separator:Mv})),e.selfClosing?(this.space(),this.token("/>")):this.token(">")},JSXClosingElement:function(e){this.token("</"),this.print(e.name,e),this.token(">")},JSXEmptyExpression:function(e){this.printInnerComments(e)},JSXFragment:function(e){this.print(e.openingFragment,e),this.indent();for(var t=0,r=e.children;t<r.length;t++){var n=r[t];this.print(n,e)}this.dedent(),this.print(e.closingFragment,e)},JSXOpeningFragment:function(){this.token("<"),this.token(">")},JSXClosingFragment:function(){this.token("</"),this.token(">")},TSTypeAnnotation:function(e){this.token(":"),this.space(),e.optional&&this.token("?"),this.print(e.typeAnnotation,e)},TSTypeParameterInstantiation:Lv,TSTypeParameterDeclaration:Lv,TSTypeParameter:function(e){this.word(e.name),e.constraint&&(this.space(),this.word("extends"),this.space(),this.print(e.constraint,e)),e.default&&(this.space(),this.token("="),this.space(),this.print(e.default,e))},TSParameterProperty:function(e){e.accessibility&&(this.word(e.accessibility),this.space()),e.readonly&&(this.word("readonly"),this.space()),this._param(e.parameter)},TSDeclareFunction:function(e){e.declare&&(this.word("declare"),this.space()),this._functionHead(e),this.token(";")},TSDeclareMethod:function(e){this._classMethodHead(e),this.token(";")},TSQualifiedName:function(e){this.print(e.left,e),this.token("."),this.print(e.right,e)},TSCallSignatureDeclaration:function(e){this.tsPrintSignatureDeclarationBase(e),this.token(";")},TSConstructSignatureDeclaration:function(e){this.word("new"),this.space(),this.tsPrintSignatureDeclarationBase(e),this.token(";")},TSPropertySignature:function(e){var t=e.readonly,r=e.initializer;t&&(this.word("readonly"),this.space()),this.tsPrintPropertyOrMethodName(e),this.print(e.typeAnnotation,e),r&&(this.space(),this.token("="),this.space(),this.print(r,e)),this.token(";")},tsPrintPropertyOrMethodName:function(e){e.computed&&this.token("["),this.print(e.key,e),e.computed&&this.token("]"),e.optional&&this.token("?")},TSMethodSignature:function(e){this.tsPrintPropertyOrMethodName(e),this.tsPrintSignatureDeclarationBase(e),this.token(";")},TSIndexSignature:function(e){e.readonly&&(this.word("readonly"),this.space()),this.token("["),this._parameters(e.parameters,e),this.token("]"),this.print(e.typeAnnotation,e),this.token(";")},TSAnyKeyword:function(){this.word("any")},TSBigIntKeyword:function(){this.word("bigint")},TSUnknownKeyword:function(){this.word("unknown")},TSNumberKeyword:function(){this.word("number")},TSObjectKeyword:function(){this.word("object")},TSBooleanKeyword:function(){this.word("boolean")},TSStringKeyword:function(){this.word("string")},TSSymbolKeyword:function(){this.word("symbol")},TSVoidKeyword:function(){this.word("void")},TSUndefinedKeyword:function(){this.word("undefined")},TSNullKeyword:function(){this.word("null")},TSNeverKeyword:function(){this.word("never")},TSIntrinsicKeyword:function(){this.word("intrinsic")},TSThisType:function(){this.word("this")},TSFunctionType:function(e){this.tsPrintFunctionOrConstructorType(e)},TSConstructorType:function(e){this.word("new"),this.space(),this.tsPrintFunctionOrConstructorType(e)},tsPrintFunctionOrConstructorType:function(e){var t=e.typeParameters,r=e.parameters;this.print(t,e),this.token("("),this._parameters(r,e),this.token(")"),this.space(),this.token("=>"),this.space(),this.print(e.typeAnnotation.typeAnnotation,e)},TSTypeReference:function(e){this.print(e.typeName,e),this.print(e.typeParameters,e)},TSTypePredicate:function(e){e.asserts&&(this.word("asserts"),this.space()),this.print(e.parameterName),e.typeAnnotation&&(this.space(),this.word("is"),this.space(),this.print(e.typeAnnotation.typeAnnotation))},TSTypeQuery:function(e){this.word("typeof"),this.space(),this.print(e.exprName)},TSTypeLiteral:function(e){this.tsPrintTypeLiteralOrInterfaceBody(e.members,e)},tsPrintTypeLiteralOrInterfaceBody:function(e,t){this.tsPrintBraced(e,t)},tsPrintBraced:function(e,t){if(this.token("{"),e.length){this.indent(),this.newline();for(var r,n=U(e);!(r=n()).done;){var a=r.value;this.print(a,t),this.newline()}this.dedent(),this.rightBrace()}else this.token("}")},TSArrayType:function(e){this.print(e.elementType,e),this.token("[]")},TSTupleType:function(e){this.token("["),this.printList(e.elementTypes,e),this.token("]")},TSOptionalType:function(e){this.print(e.typeAnnotation,e),this.token("?")},TSRestType:function(e){this.token("..."),this.print(e.typeAnnotation,e)},TSNamedTupleMember:function(e){this.print(e.label,e),e.optional&&this.token("?"),this.token(":"),this.space(),this.print(e.elementType,e)},TSUnionType:function(e){this.tsPrintUnionOrIntersectionType(e,"|")},TSIntersectionType:function(e){this.tsPrintUnionOrIntersectionType(e,"&")},tsPrintUnionOrIntersectionType:function(e,t){this.printJoin(e.types,e,{separator:function(){this.space(),this.token(t),this.space()}})},TSConditionalType:function(e){this.print(e.checkType),this.space(),this.word("extends"),this.space(),this.print(e.extendsType),this.space(),this.token("?"),this.space(),this.print(e.trueType),this.space(),this.token(":"),this.space(),this.print(e.falseType)},TSInferType:function(e){this.token("infer"),this.space(),this.print(e.typeParameter)},TSParenthesizedType:function(e){this.token("("),this.print(e.typeAnnotation,e),this.token(")")},TSTypeOperator:function(e){this.word(e.operator),this.space(),this.print(e.typeAnnotation,e)},TSIndexedAccessType:function(e){this.print(e.objectType,e),this.token("["),this.print(e.indexType,e),this.token("]")},TSMappedType:function(e){var t=e.nameType,r=e.optional,n=e.readonly,a=e.typeParameter;this.token("{"),this.space(),n&&(Uv(this,n),this.word("readonly"),this.space()),this.token("["),this.word(a.name),this.space(),this.word("in"),this.space(),this.print(a.constraint,a),t&&(this.space(),this.word("as"),this.space(),this.print(t,e)),this.token("]"),r&&(Uv(this,r),this.token("?")),this.token(":"),this.space(),this.print(e.typeAnnotation,e),this.space(),this.token("}")},TSLiteralType:function(e){this.print(e.literal,e)},TSExpressionWithTypeArguments:function(e){this.print(e.expression,e),this.print(e.typeParameters,e)},TSInterfaceDeclaration:function(e){var t=e.declare,r=e.id,n=e.typeParameters,a=e.extends,s=e.body;t&&(this.word("declare"),this.space()),this.word("interface"),this.space(),this.print(r,e),this.print(n,e),a&&(this.space(),this.word("extends"),this.space(),this.printList(a,e)),this.space(),this.print(s,e)},TSInterfaceBody:function(e){this.tsPrintTypeLiteralOrInterfaceBody(e.body,e)},TSTypeAliasDeclaration:function(e){var t=e.declare,r=e.id,n=e.typeParameters,a=e.typeAnnotation;t&&(this.word("declare"),this.space()),this.word("type"),this.space(),this.print(r,e),this.print(n,e),this.space(),this.token("="),this.space(),this.print(a,e),this.token(";")},TSAsExpression:function(e){var t=e.expression,r=e.typeAnnotation;this.print(t,e),this.space(),this.word("as"),this.space(),this.print(r,e)},TSTypeAssertion:function(e){var t=e.typeAnnotation,r=e.expression;this.token("<"),this.print(t,e),this.token(">"),this.space(),this.print(r,e)},TSEnumDeclaration:function(e){var t=e.declare,r=e.const,n=e.id,a=e.members;t&&(this.word("declare"),this.space()),r&&(this.word("const"),this.space()),this.word("enum"),this.space(),this.print(n,e),this.space(),this.tsPrintBraced(a,e)},TSEnumMember:function(e){var t=e.id,r=e.initializer;this.print(t,e),r&&(this.space(),this.token("="),this.space(),this.print(r,e)),this.token(",")},TSModuleDeclaration:function(e){var t=e.declare,r=e.id;if(t&&(this.word("declare"),this.space()),e.global||(this.word("Identifier"===r.type?"namespace":"module"),this.space()),this.print(r,e),e.body){for(var n=e.body;"TSModuleDeclaration"===n.type;)this.token("."),this.print(n.id,n),n=n.body;this.space(),this.print(n,e)}else this.token(";")},TSModuleBlock:function(e){this.tsPrintBraced(e.body,e)},TSImportType:function(e){var t=e.argument,r=e.qualifier,n=e.typeParameters;this.word("import"),this.token("("),this.print(t,e),this.token(")"),r&&(this.token("."),this.print(r,e)),n&&this.print(n,e)},TSImportEqualsDeclaration:function(e){var t=e.isExport,r=e.id,n=e.moduleReference;t&&(this.word("export"),this.space()),this.word("import"),this.space(),this.print(r,e),this.space(),this.token("="),this.space(),this.print(n,e),this.token(";")},TSExternalModuleReference:function(e){this.token("require("),this.print(e.expression,e),this.token(")")},TSNonNullExpression:function(e){this.print(e.expression,e),this.token("!")},TSExportAssignment:function(e){this.word("export"),this.space(),this.token("="),this.space(),this.print(e.expression,e),this.token(";")},TSNamespaceExportDeclaration:function(e){this.word("export"),this.space(),this.word("as"),this.space(),this.word("namespace"),this.space(),this.print(e.id,e)},tsPrintSignatureDeclarationBase:function(e){var t=e.typeParameters,r=e.parameters;this.print(t,e),this.token("("),this._parameters(r,e),this.token(")"),this.print(e.typeAnnotation,e)},tsPrintClassMemberModifiers:function(e,t){t&&e.declare&&(this.word("declare"),this.space()),e.accessibility&&(this.word(e.accessibility),this.space()),e.static&&(this.word("static"),this.space()),e.abstract&&(this.word("abstract"),this.space()),t&&e.readonly&&(this.word("readonly"),this.space())}}),Vv=/e/i,Gv=/\.0+$/,Kv=/^0[box]/,Hv=/^\s*[@#]__PURE__\s*$/,zv=function(){function e(e,t){this.format=void 0,this.inForStatementInitCounter=0,this._buf=void 0,this._printStack=[],this._indent=0,this._insideAux=!1,this._printedCommentStarts={},this._parenPushNewlineState=null,this._noLineTerminator=!1,this._printAuxAfterOnNextUserNode=!1,this._printedComments=new WeakSet,this._endsWithInteger=!1,this._endsWithWord=!1,this.format=e||{},this._buf=new Sy(t)}var t=e.prototype;return t.generate=function(e){return this.print(e),this._maybeAddAuxComment(),this._buf.get()},t.indent=function(){this.format.compact||this.format.concise||this._indent++},t.dedent=function(){this.format.compact||this.format.concise||this._indent--},t.semicolon=function(e){void 0===e&&(e=!1),this._maybeAddAuxComment(),this._append(";",!e)},t.rightBrace=function(){this.format.minified&&this._buf.removeLastSemicolon(),this.token("}")},t.space=function(e){void 0===e&&(e=!1),this.format.compact||(this._buf.hasContent()&&!this.endsWith(" ")&&!this.endsWith("\n")||e)&&this._space()},t.word=function(e){(this._endsWithWord||this.endsWith("/")&&0===e.indexOf("/"))&&this._space(),this._maybeAddAuxComment(),this._append(e),this._endsWithWord=!0},t.number=function(e){this.word(e),this._endsWithInteger=Number.isInteger(+e)&&!Kv.test(e)&&!Vv.test(e)&&!Gv.test(e)&&"."!==e[e.length-1]},t.token=function(e){("--"===e&&this.endsWith("!")||"+"===e[0]&&this.endsWith("+")||"-"===e[0]&&this.endsWith("-")||"."===e[0]&&this._endsWithInteger)&&this._space(),this._maybeAddAuxComment(),this._append(e)},t.newline=function(e){if(!this.format.retainLines&&!this.format.compact)if(this.format.concise)this.space();else if(!(this.endsWith("\n\n")||("number"!=typeof e&&(e=1),e=Math.min(2,e),(this.endsWith("{\n")||this.endsWith(":\n"))&&e--,e<=0)))for(var t=0;t<e;t++)this._newline()},t.endsWith=function(e){return this._buf.endsWith(e)},t.removeTrailingNewline=function(){this._buf.removeTrailingNewline()},t.exactSource=function(e,t){this._catchUp("start",e),this._buf.exactSource(e,t)},t.source=function(e,t){this._catchUp(e,t),this._buf.source(e,t)},t.withSource=function(e,t,r){this._catchUp(e,t),this._buf.withSource(e,t,r)},t._space=function(){this._append(" ",!0)},t._newline=function(){this._append("\n",!0)},t._append=function(e,t){void 0===t&&(t=!1),this._maybeAddParen(e),this._maybeIndent(e),t?this._buf.queue(e):this._buf.append(e),this._endsWithWord=!1,this._endsWithInteger=!1},t._maybeIndent=function(e){this._indent&&this.endsWith("\n")&&"\n"!==e[0]&&this._buf.queue(this._getIndent())},t._maybeAddParen=function(e){var t=this._parenPushNewlineState;if(t){var r;for(r=0;r<e.length&&" "===e[r];r++);if(r!==e.length){var n=e[r];if("\n"!==n){if("/"!==n||r+1===e.length)return void(this._parenPushNewlineState=null);var a=e[r+1];if("*"===a){if(Hv.test(e.slice(r+2,e.length-2)))return}else if("/"!==a)return void(this._parenPushNewlineState=null)}this.token("("),this.indent(),t.printed=!0}}},t._catchUp=function(e,t){if(this.format.retainLines){var r=t?t[e]:null;if(null!=(null==r?void 0:r.line))for(var n=r.line-this._buf.getCurrentLine(),a=0;a<n;a++)this._newline()}},t._getIndent=function(){return this.format.indent.style.repeat(this._indent)},t.startTerminatorless=function(e){return void 0===e&&(e=!1),e?(this._noLineTerminator=!0,null):this._parenPushNewlineState={printed:!1}},t.endTerminatorless=function(e){this._noLineTerminator=!1,(null==e?void 0:e.printed)&&(this.dedent(),this.newline(),this.token(")"))},t.print=function(e,t){var r=this;if(e){var n=this.format.concise;e._compact&&(this.format.concise=!0);var a=this[e.type];if(!a)throw new ReferenceError("unknown node of type "+JSON.stringify(e.type)+" with constructor "+JSON.stringify(null==e?void 0:e.constructor.name));this._printStack.push(e);var s=this._insideAux;this._insideAux=!e.loc,this._maybeAddAuxComment(this._insideAux&&!s);var i=zy(e,t,this._printStack);this.format.retainFunctionParens&&"FunctionExpression"===e.type&&e.extra&&e.extra.parenthesized&&(i=!0),i&&this.token("("),this._printLeadingComments(e);var o=Te(e)||ce(e)?null:e.loc;this.withSource("start",o,function(){a.call(r,e,t)}),this._printTrailingComments(e),i&&this.token(")"),this._printStack.pop(),this.format.concise=n,this._insideAux=s}},t._maybeAddAuxComment=function(e){e&&this._printAuxBeforeComment(),this._insideAux||this._printAuxAfterComment()},t._printAuxBeforeComment=function(){if(!this._printAuxAfterOnNextUserNode){this._printAuxAfterOnNextUserNode=!0;var e=this.format.auxiliaryCommentBefore;e&&this._printComment({type:"CommentBlock",value:e})}},t._printAuxAfterComment=function(){if(this._printAuxAfterOnNextUserNode){this._printAuxAfterOnNextUserNode=!1;var e=this.format.auxiliaryCommentAfter;e&&this._printComment({type:"CommentBlock",value:e})}},t.getPossibleRaw=function(e){var t=e.extra;if(t&&null!=t.raw&&null!=t.rawValue&&e.value===t.rawValue)return t.raw},t.printJoin=function(e,t,r){if(void 0===r&&(r={}),null==e?void 0:e.length){r.indent&&this.indent();for(var n={addNewlines:r.addNewlines},a=0;a<e.length;a++){var s=e[a];s&&(r.statement&&this._printNewline(!0,s,t,n),this.print(s,t),r.iterator&&r.iterator(s,a),r.separator&&a<e.length-1&&r.separator.call(this),r.statement&&this._printNewline(!1,s,t,n))}r.indent&&this.dedent()}},t.printAndIndentOnComments=function(e,t){var r=e.leadingComments&&e.leadingComments.length>0;r&&this.indent(),this.print(e,t),r&&this.dedent()},t.printBlock=function(e){var t=e.body;oe(t)||this.space(),this.print(t,e)},t._printTrailingComments=function(e){this._printComments(this._getComments(!1,e))},t._printLeadingComments=function(e){this._printComments(this._getComments(!0,e),!0)},t.printInnerComments=function(e,t){var r;void 0===t&&(t=!0),(null==(r=e.innerComments)?void 0:r.length)&&(t&&this.indent(),this._printComments(e.innerComments),t&&this.dedent())},t.printSequence=function(e,t,r){return void 0===r&&(r={}),r.statement=!0,this.printJoin(e,t,r)},t.printList=function(e,t,r){return void 0===r&&(r={}),null==r.separator&&(r.separator=qv),this.printJoin(e,t,r)},t._printNewline=function(e,t,r,n){if(!this.format.retainLines&&!this.format.compact)if(this.format.concise)this.space();else{var a=0;if(this._buf.hasContent())e||a++,n.addNewlines&&(a+=n.addNewlines(e,t)||0),(e?Ky:Hy)(t,r)&&a++;this.newline(a)}
},t._getComments=function(e,t){return t&&(e?t.leadingComments:t.trailingComments)||[]},t._printComment=function(e,t){var r=this;if(this.format.shouldPrintComment(e.value)&&!e.ignore&&!this._printedComments.has(e)){if(this._printedComments.add(e),null!=e.start){if(this._printedCommentStarts[e.start])return;this._printedCommentStarts[e.start]=!0}var n="CommentBlock"===e.type,a=n&&!t&&!this._noLineTerminator;a&&this._buf.hasContent()&&this.newline(1),this.endsWith("[")||this.endsWith("{")||this.space();var s=n||this._noLineTerminator?"/*"+e.value+"*/":"//"+e.value+"\n";if(n&&this.format.indent.adjustMultilineComment){var i,o=null==(i=e.loc)?void 0:i.start.column;if(o){var l=new RegExp("\\n\\s{1,"+o+"}","g");s=s.replace(l,"\n")}var c=Math.max(this._getIndent().length,this._buf.getCurrentColumn());s=s.replace(/\n(?!$)/g,"\n"+" ".repeat(c))}this.endsWith("/")&&this._space(),this.withSource("start",e.loc,function(){r._append(s)}),a&&this.newline(1)}},t._printComments=function(e,t){if(null==e?void 0:e.length)if(t&&1===e.length&&Hv.test(e[0].value))this._printComment(e[0],this._buf.hasContent()&&!this.endsWith("\n"));else for(var r,n=U(e);!(r=n()).done;){var a=r.value;this._printComment(a)}},e}();function qv(){this.token(","),this.space()}Object.assign(zv.prototype,Wv);var Xv=function(e){function t(t,r,n){var a;void 0===r&&(r={});var s=function(e,t){var r={auxiliaryCommentBefore:t.auxiliaryCommentBefore,auxiliaryCommentAfter:t.auxiliaryCommentAfter,shouldPrintComment:t.shouldPrintComment,retainLines:t.retainLines,retainFunctionParens:t.retainFunctionParens,comments:null==t.comments||t.comments,compact:t.compact,minified:t.minified,concise:t.concise,jsonCompatibleStrings:t.jsonCompatibleStrings,indent:{adjustMultilineComment:!0,style:"  ",base:0},decoratorsBeforeExport:!!t.decoratorsBeforeExport,jsescOption:Object.assign({quotes:"double",wrap:!0},t.jsescOption),recordAndTupleSyntaxType:t.recordAndTupleSyntaxType};r.minified?(r.compact=!0,r.shouldPrintComment=r.shouldPrintComment||function(){return r.comments}):r.shouldPrintComment=r.shouldPrintComment||function(e){return r.comments||e.indexOf("@license")>=0||e.indexOf("@preserve")>=0};"auto"===r.compact&&(r.compact=e.length>5e5,r.compact&&console.error("[BABEL] Note: The code generator has deoptimised the styling of "+t.filename+" as it exceeds the max of 500KB."));r.compact&&(r.indent.adjustMultilineComment=!1);return r}(n,r),i=r.sourceMaps?new Ey(r,n):null;return(a=e.call(this,s,i)||this).ast=void 0,a.ast=t,a}return f(t,e),t.prototype.generate=function(){return e.prototype.generate.call(this,this.ast)},t}(zv);function Jv(e,t,r){return new Xv(e,t,r).generate()}var Yv=Object.freeze({__proto__:null,findParent:function(e){for(var t=this;t=t.parentPath;)if(e(t))return t;return null},find:function(e){var t=this;do{if(e(t))return t}while(t=t.parentPath);return null},getFunctionParent:function(){return this.findParent(function(e){return e.isFunction()})},getStatementParent:function(){var e=this;do{if(!e.parentPath||Array.isArray(e.container)&&e.isStatement())break;e=e.parentPath}while(e);if(e&&(e.isProgram()||e.isFile()))throw new Error("File/Program node, we can't possibly find a statement parent to this");return e},getEarliestCommonAncestorFrom:function(e){return this.getDeepestCommonAncestorFrom(e,function(e,t,r){for(var n,a=Qi[e.type],s=0,i=r;s<i.length;s++){var o=i[s][t+1];if(n)if(o.listKey&&n.listKey===o.listKey&&o.key<n.key)n=o;else a.indexOf(n.parentKey)>a.indexOf(o.parentKey)&&(n=o);else n=o}return n})},getDeepestCommonAncestorFrom:function(e,t){var r=this;if(!e.length)return this;if(1===e.length)return e[0];var n,a,s=1/0,i=e.map(function(e){var t=[];do{t.unshift(e)}while((e=e.parentPath)&&e!==r);return t.length<s&&(s=t.length),t}),o=i[0];e:for(var l=0;l<s;l++){for(var c=o[l],u=0,p=i;u<p.length;u++){if(p[u][l]!==c)break e}n=l,a=c}if(a)return t?t(a,n,i):a;throw new Error("Couldn't find intersection")},getAncestry:function(){var e=this,t=[];do{t.push(e)}while(e=e.parentPath);return t},isAncestor:function(e){return e.isDescendant(this)},isDescendant:function(e){return!!this.findParent(function(t){return t===e})},inType:function(){for(var e=this;e;){for(var t=0,r=arguments;t<r.length;t++){var n=r[t];if(e.node.type===n)return!0}e=e.parentPath}return!1}});function $v(e,t,r){var n=e.constantViolations.slice();return n.unshift(e.path),n.filter(function(e){var n=(e=e.resolve())._guessExecutionStatusRelativeTo(t);return r&&"unknown"===n&&r.push(e),"before"===n})}function Qv(e,t){var r,n,a,s=t.node.operator,i=t.get("right").resolve(),o=t.get("left").resolve();if(o.isIdentifier({name:e})?r=i:i.isIdentifier({name:e})&&(r=o),r)return"==="===s?r.getTypeAnnotation():Bi.indexOf(s)>=0?au():void 0;if(("==="===s||"=="===s)&&(o.isUnaryExpression({operator:"typeof"})?(n=o,a=i):i.isUnaryExpression({operator:"typeof"})&&(n=i,a=o),n&&n.get("argument").isIdentifier({name:e})&&(a=a.resolve()).isLiteral())){var l=a.node.value;if("string"==typeof l)return Fd(l)}}function Zv(e){return e.typeAnnotation}function eb(){return Xc(wl("Array"))}function tb(){return eb()}function rb(){return Xc(wl("Function"))}Zv.validParent=!0,tb.validParent=!0;var nb=Er("Array.from"),ab=Er("Object.keys"),sb=Er("Object.values"),ib=Er("Object.entries");function ob(e){if((e=e.resolve()).isFunction()){if(e.is("async"))return e.is("generator")?Xc(wl("AsyncIterator")):Xc(wl("Promise"));if(e.node.returnType)return e.node.returnType}}var lb=Object.freeze({__proto__:null,VariableDeclarator:function(){var e;if(this.get("id").isIdentifier()){var t=this.get("init"),r=t.getTypeAnnotation();return"AnyTypeAnnotation"===(null==(e=r)?void 0:e.type)&&t.isCallExpression()&&t.get("callee").isIdentifier({name:"Array"})&&!t.scope.hasBinding("Array",!0)&&(r=eb()),r}},TypeCastExpression:Zv,NewExpression:function(e){if(this.get("callee").isIdentifier())return Xc(e.callee)},TemplateLiteral:function(){return hu()},UnaryExpression:function(e){var t=e.operator;return"void"===t?Pu():Gi.indexOf(t)>=0?au():Ki.indexOf(t)>=0?hu():Vi.indexOf(t)>=0?Dc():void 0},BinaryExpression:function(e){var t=e.operator;if(Li.indexOf(t)>=0)return au();if(Mi.indexOf(t)>=0)return Dc();if("+"===t){var r=this.get("right"),n=this.get("left");return n.isBaseType("number")&&r.isBaseType("number")?au():n.isBaseType("string")||r.isBaseType("string")?hu():ju([hu(),au()])}},LogicalExpression:function(){var e=[this.get("left").getTypeAnnotation(),this.get("right").getTypeAnnotation()];return Yt(e[0])&&Ld?Ld(e):Md(e)},ConditionalExpression:function(){var e=[this.get("consequent").getTypeAnnotation(),this.get("alternate").getTypeAnnotation()];return Yt(e[0])&&Ld?Ld(e):Md(e)},SequenceExpression:function(){return this.get("expressions").pop().getTypeAnnotation()},ParenthesizedExpression:function(){return this.get("expression").getTypeAnnotation()},AssignmentExpression:function(){return this.get("right").getTypeAnnotation()},UpdateExpression:function(e){var t=e.operator;if("++"===t||"--"===t)return au()},StringLiteral:function(){return hu()},NumericLiteral:function(){return au()},BooleanLiteral:function(){return Dc()},NullLiteral:function(){return Ic()},RegExpLiteral:function(){return Xc(wl("RegExp"))},ObjectExpression:function(){return Xc(wl("Object"))},ArrayExpression:eb,RestElement:tb,FunctionExpression:rb,ArrowFunctionExpression:rb,FunctionDeclaration:rb,ClassExpression:rb,ClassDeclaration:rb,CallExpression:function(){var e=this.node.callee;return ab(e)?Cc(hu()):nb(e)||sb(e)?Cc(kc()):ib(e)?Cc(gu([hu(),kc()])):ob(this.get("callee"))},TaggedTemplateExpression:function(){return ob(this.get("tag"))},Identifier:function(e){if(this.isReferenced()){var t=this.scope.getBinding(e.name);return t?t.identifier.typeAnnotation?t.identifier.typeAnnotation:function(e,t,r){var n=[],a=[],s=$v(e,t,a),i=function e(t,r,n){var a=function(e,t,r){var n;for(;n=t.parentPath;){if(n.isIfStatement()||n.isConditionalExpression()){if("test"===t.key)return;return n}if(n.isFunction()&&n.parentPath.scope.getBinding(r)!==e)return;t=n}}(t,r,n);if(!a)return;for(var s=[a.get("test")],i=[],o=0;o<s.length;o++){var l=s[o];if(l.isLogicalExpression())"&&"===l.node.operator&&(s.push(l.get("left")),s.push(l.get("right")));else if(l.isBinaryExpression()){var c=Qv(n,l);c&&i.push(c)}}if(i.length)return Yt(i[0])&&Ld?{typeAnnotation:Ld(i),ifStatement:a}:{typeAnnotation:Md(i),ifStatement:a};return e(a,n)}(e,t,r);if(i){var o=$v(e,i.ifStatement);s=s.filter(function(e){return o.indexOf(e)<0}),n.push(i.typeAnnotation)}if(s.length)for(var l=0,c=s=s.concat(a);l<c.length;l++){var u=c[l];n.push(u.getTypeAnnotation())}if(!n.length)return;if(Yt(n[0])&&Ld)return Ld(n);if(Md)return Md(n);return Md(n)}(t,this,e.name):"undefined"===e.name?Pu():"NaN"===e.name||"Infinity"===e.name?au():void e.name}}});function cb(e,t,r){if("string"===e)return Et(t);if("number"===e)return xt(t);if("boolean"===e)return ft(t);if("any"===e)return pt(t);if("mixed"===e)return gt(t);if("empty"===e)return vt(t);if("void"===e)return jt(t);if(r)return!1;throw new Error("Unknown base type "+e)}var ub=Object.freeze({__proto__:null,getTypeAnnotation:function(){if(this.typeAnnotation)return this.typeAnnotation;var e=this._getTypeAnnotation()||kc();return wt(e)&&(e=e.typeAnnotation),this.typeAnnotation=e},_getTypeAnnotation:function(){var e,t=this.node;if(t){if(t.typeAnnotation)return t.typeAnnotation;var r=lb[t.type];return r?r.call(this,t):(null==(e=r=lb[this.parentPath.type])?void 0:e.validParent)?this.parentPath.getTypeAnnotation():void 0}if("init"===this.key&&this.parentPath.isVariableDeclarator()){var n=this.parentPath.parentPath,a=n.parentPath;return"left"===n.key&&a.isForInStatement()?hu():"left"===n.key&&a.isForOfStatement()?kc():Pu()}},isBaseType:function(e,t){return cb(e,this.getTypeAnnotation(),t)},couldBeBaseType:function(e){var t=this.getTypeAnnotation();if(pt(t))return!0;if(Tt(t)){for(var r=0,n=t.types;r<n.length;r++){var a=n[r];if(pt(a)||cb(e,a,!0))return!0}return!1}return cb(e,t,!0)},baseTypeStrictlyMatches:function(e){var t=this.getTypeAnnotation();if(e=e.getTypeAnnotation(),!pt(t)&&vr(t))return e.type===t.type},isGenericType:function(e){var t=this.getTypeAnnotation();return mt(t)&&he(t.id,{name:e})}}),pb=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,t.matchToToken=function(e){var t={type:"invalid",value:e[0],closed:void 0};return e[1]?(t.type="string",t.closed=!(!e[3]&&!e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}})),db=/[|\\{}()[\]^$+*?.]/g,fb=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(db,"\\$&")},hb={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},mb=Lr(function(e){var t={};for(var r in hb)hb.hasOwnProperty(r)&&(t[hb[r]]=r);var n=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in n)if(n.hasOwnProperty(a)){if(!("channels"in n[a]))throw new Error("missing channels property: "+a);if(!("labels"in n[a]))throw new Error("missing channel labels property: "+a);if(n[a].labels.length!==n[a].channels)throw new Error("channel and label counts mismatch: "+a);var s=n[a].channels,i=n[a].labels;delete n[a].channels,delete n[a].labels,Object.defineProperty(n[a],"channels",{value:s}),Object.defineProperty(n[a],"labels",{value:i})}function o(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}n.rgb.hsl=function(e){var t,r,n=e[0]/255,a=e[1]/255,s=e[2]/255,i=Math.min(n,a,s),o=Math.max(n,a,s),l=o-i;return o===i?t=0:n===o?t=(a-s)/l:a===o?t=2+(s-n)/l:s===o&&(t=4+(n-a)/l),(t=Math.min(60*t,360))<0&&(t+=360),r=(i+o)/2,[t,100*(o===i?0:r<=.5?l/(o+i):l/(2-o-i)),100*r]},n.rgb.hsv=function(e){var t,r,n,a,s,i=e[0]/255,o=e[1]/255,l=e[2]/255,c=Math.max(i,o,l),u=c-Math.min(i,o,l),p=function(e){return(c-e)/6/u+.5};return 0===u?a=s=0:(s=u/c,t=p(i),r=p(o),n=p(l),i===c?a=n-r:o===c?a=1/3+t-n:l===c&&(a=2/3+r-t),a<0?a+=1:a>1&&(a-=1)),[360*a,100*s,100*c]},n.rgb.hwb=function(e){var t=e[0],r=e[1],a=e[2];return[n.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,a))),100*(a=1-1/255*Math.max(t,Math.max(r,a)))]},n.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,a=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-a)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-a-t)/(1-t)||0),100*t]},n.rgb.keyword=function(e){var r=t[e];if(r)return r;var n,a=1/0;for(var s in hb)if(hb.hasOwnProperty(s)){var i=o(e,hb[s]);i<a&&(a=i,n=s)}return n},n.keyword.rgb=function(e){return hb[e]},n.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},n.rgb.lab=function(e){var t=n.rgb.xyz(e),r=t[0],a=t[1],s=t[2];return a/=100,s/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,500*(r-a),200*(a-(s=s>.008856?Math.pow(s,1/3):7.787*s+16/116))]},n.hsl.rgb=function(e){var t,r,n,a,s,i=e[0]/360,o=e[1]/100,l=e[2]/100;if(0===o)return[s=255*l,s,s];t=2*l-(r=l<.5?l*(1+o):l+o-l*o),a=[0,0,0];for(var c=0;c<3;c++)(n=i+1/3*-(c-1))<0&&n++,n>1&&n--,s=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,a[c]=255*s;return a},n.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,a=r,s=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,a*=s<=1?s:2-s,[t,100*(0===n?2*a/(s+a):2*r/(n+r)),100*((n+r)/2)]},n.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,a=Math.floor(t)%6,s=t-Math.floor(t),i=255*n*(1-r),o=255*n*(1-r*s),l=255*n*(1-r*(1-s));switch(n*=255,a){case 0:return[n,l,i];case 1:return[o,n,i];case 2:return[i,n,l];case 3:return[i,o,n];case 4:return[l,i,n];case 5:return[n,i,o]}},n.hsv.hsl=function(e){var t,r,n,a=e[0],s=e[1]/100,i=e[2]/100,o=Math.max(i,.01);return n=(2-s)*i,r=s*o,[a,100*(r=(r/=(t=(2-s)*o)<=1?t:2-t)||0),100*(n/=2)]},n.hwb.rgb=function(e){var t,r,n,a,s,i,o,l=e[0]/360,c=e[1]/100,u=e[2]/100,p=c+u;switch(p>1&&(c/=p,u/=p),n=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(n=1-n),a=c+n*((r=1-u)-c),t){default:case 6:case 0:s=r,i=a,o=c;break;case 1:s=a,i=r,o=c;break;case 2:s=c,i=r,o=a;break;case 3:s=c,i=a,o=r;break;case 4:s=a,i=c,o=r;break;case 5:s=r,i=c,o=a}return[255*s,255*i,255*o]},n.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,a=e[3]/100;return[255*(1-Math.min(1,t*(1-a)+a)),255*(1-Math.min(1,r*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a))]},n.xyz.rgb=function(e){var t,r,n,a=e[0]/100,s=e[1]/100,i=e[2]/100;return r=-.9689*a+1.8758*s+.0415*i,n=.0557*a+-.204*s+1.057*i,t=(t=3.2406*a+-1.5372*s+-.4986*i)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},n.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},n.lab.xyz=function(e){var t,r,n,a=e[0];t=e[1]/500+(r=(a+16)/116),n=r-e[2]/200;var s=Math.pow(r,3),i=Math.pow(t,3),o=Math.pow(n,3);return r=s>.008856?s:(r-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},n.lab.lch=function(e){var t,r=e[0],n=e[1],a=e[2];return(t=360*Math.atan2(a,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+a*a),t]},n.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},n.rgb.ansi16=function(e){var t=e[0],r=e[1],a=e[2],s=1 in arguments?arguments[1]:n.rgb.hsv(e)[2];if(0===(s=Math.round(s/50)))return 30;var i=30+(Math.round(a/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===s&&(i+=60),i},n.hsv.ansi16=function(e){return n.rgb.ansi16(n.hsv.rgb(e),e[2])},n.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},n.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},n.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},n.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},n.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map(function(e){return e+e}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},n.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,a=e[2]/255,s=Math.max(Math.max(r,n),a),i=Math.min(Math.min(r,n),a),o=s-i;return t=o<=0?0:s===r?(n-a)/o%6:s===n?2+(a-r)/o:4+(r-n)/o+4,t/=6,[360*(t%=1),100*o,100*(o<1?i/(1-o):0)]},n.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,a=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(a=(r-.5*n)/(1-n)),[e[0],100*n,100*a]},n.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,a=0;return n<1&&(a=(r-n)/(1-n)),[e[0],100*n,100*a]},n.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var a,s=[0,0,0],i=t%1*6,o=i%1,l=1-o;switch(Math.floor(i)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=l,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=l,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=l}return a=(1-r)*n,[255*(r*s[0]+a),255*(r*s[1]+a),255*(r*s[2]+a)]},n.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},n.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},n.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},n.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,a=0;return n<1&&(a=(r-n)/(1-n)),[e[0],100*n,100*a]},n.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},n.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},n.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},n.gray.hsl=n.gray.hsv=function(e){return[0,0,e[0]]},n.gray.hwb=function(e){return[0,100,e[0]]},n.gray.cmyk=function(e){return[0,0,0,e[0]]},n.gray.lab=function(e){return[e[0],0,0]},n.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},n.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});function yb(e){var t=function(){for(var e={},t=Object.keys(mb),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),a=Object.keys(mb[n]),s=a.length,i=0;i<s;i++){var o=a[i],l=t[o];-1===l.distance&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(o))}return t}function gb(e,t){return function(r){return t(e(r))}}function vb(e,t){for(var r=[t[e].parent,e],n=mb[t[e].parent][e],a=t[e].parent;t[a].parent;)r.unshift(t[a].parent),n=gb(mb[t[a].parent][a],n),a=t[a].parent;return n.conversion=r,n}var bb={};Object.keys(mb).forEach(function(e){bb[e]={},Object.defineProperty(bb[e],"channels",{value:mb[e].channels}),Object.defineProperty(bb[e],"labels",{value:mb[e].labels});var t=function(e){for(var t=yb(e),r={},n=Object.keys(t),a=n.length,s=0;s<a;s++){var i=n[s];null!==t[i].parent&&(r[i]=vb(i,t))}return r}(e);Object.keys(t).forEach(function(r){var n=t[r];bb[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,a=0;a<n;a++)r[a]=Math.round(r[a]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),bb[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)})});var xb=bb,Eb=Lr(function(e){var t=function(e,t){return function(){var r=e.apply(xb,arguments);return"["+(r+t)+"m"}},r=function(e,t){return function(){var r=e.apply(xb,arguments);return"["+(38+t)+";5;"+r+"m"}},n=function(e,t){return function(){var r=e.apply(xb,arguments);return"["+(38+t)+";2;"+r[0]+";"+r[1]+";"+r[2]+"m"}};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){var e=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.grey=a.color.gray;for(var s=0,i=Object.keys(a);s<i.length;s++){for(var o=i[s],l=a[o],c=0,u=Object.keys(l);c<u.length;c++){var p=u[c],d=l[p];a[p]={open:"["+d[0]+"m",close:"["+d[1]+"m"},l[p]=a[p],e.set(d[0],d[1])}Object.defineProperty(a,o,{value:l,enumerable:!1}),Object.defineProperty(a,"codes",{value:e,enumerable:!1})}var f=function(e){return e},h=function(e,t,r){return[e,t,r]};a.color.close="[39m",a.bgColor.close="[49m",a.color.ansi={ansi:t(f,0)},a.color.ansi256={ansi256:r(f,0)},a.color.ansi16m={rgb:n(h,0)},a.bgColor.ansi={ansi:t(f,10)},a.bgColor.ansi256={ansi256:r(f,10)},a.bgColor.ansi16m={rgb:n(h,10)};for(var m=0,y=Object.keys(xb);m<y.length;m++){var g=y[m];if("object"==typeof xb[g]){var v=xb[g];"ansi16"===g&&(g="ansi"),"ansi16"in v&&(a.color.ansi[g]=t(v.ansi16,0),a.bgColor.ansi[g]=t(v.ansi16,10)),"ansi256"in v&&(a.color.ansi256[g]=r(v.ansi256,0),a.bgColor.ansi256[g]=r(v.ansi256,10)),"rgb"in v&&(a.color.ansi16m[g]=n(v.rgb,0),a.bgColor.ansi16m[g]=n(v.rgb,10))}}return a}})}),wb=!1,Sb=Ur(Y),Tb=Sb.createForOfIteratorHelperLoose,jb=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Ab=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Pb=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,kb=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,Cb=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function Db(e){return"u"===e[0]&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):Cb.get(e)||e}function _b(e,t){for(var r,n,a=[],s=t.trim().split(/\s*,\s*/g),i=Tb(s);!(n=i()).done;){var o=n.value;if(isNaN(o)){if(!(r=o.match(Pb)))throw new Error("Invalid Chalk template style argument: "+o+" (in style '"+e+"')");a.push(r[2].replace(kb,function(e,t,r){return t?Db(t):r}))}else a.push(Number(o))}return a}function Ib(e){Ab.lastIndex=0;for(var t,r=[];null!==(t=Ab.exec(e));){var n=t[1];if(t[2]){var a=_b(n,t[2]);r.push([n].concat(a))}else r.push([n])}return r}function Ob(e,t){for(var r,n={},a=Tb(t);!(r=a()).done;)for(var s,i=r.value,o=Tb(i.styles);!(s=o()).done;){var l=s.value;n[l[0]]=i.inverse?null:l.slice(1)}for(var c=e,u=0,p=Object.keys(n);u<p.length;u++){var d=p[u];if(Array.isArray(n[d])){if(!(d in c))throw new Error("Unknown Chalk style: "+d);c=n[d].length>0?c[d].apply(c,n[d]):c[d]}}return c}var Nb=function(e,t){var r=[],n=[],a=[];if(t.replace(jb,function(t,s,i,o,l,c){if(s)a.push(Db(s));else if(o){var u=a.join("");a=[],n.push(0===r.length?u:Ob(e,r)(u)),r.push({inverse:i,styles:Ib(o)})}else if(l){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");n.push(Ob(e,r)(a.join(""))),a=[],r.pop()}else a.push(c)}),n.push(a.join("")),r.length>0){var s="Chalk template literal is missing "+r.length+" closing bracket"+(1===r.length?"":"s")+" (`}`)";throw new Error(s)}return n.join("")},Bb=Lr(function(e){var t=Sb.createForOfIteratorHelperLoose,r=wb,n="win32"===si.platform&&!(si.env.TERM||"").toLowerCase().startsWith("xterm"),a=["ansi","ansi","ansi256","ansi16m"],s=new Set(["gray"]),i=Object.create(null);function o(e,t){t=t||{};e.level=void 0===t.level?0:t.level,e.enabled="enabled"in t?t.enabled:e.level>0}function l(e){if(!this||!(this instanceof l)||this.template){var t={};return o(t,e),t.template=function(){var e=[].slice.call(arguments);return E.apply(null,[t.template].concat(e))},Object.setPrototypeOf(t,l.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=l,t.template}o(this,e)}n&&(Eb.blue.open="[94m");for(var c=function(){var e=p[u];Eb[e].closeRe=new RegExp(fb(Eb[e].close),"g"),i[e]={get:function(){var t=Eb[e];return b.call(this,this._styles?this._styles.concat(t):[t],this._empty,e)}}},u=0,p=Object.keys(Eb);u<p.length;u++)c();i.visible={get:function(){return b.call(this,this._styles||[],!0,"visible")}},Eb.color.closeRe=new RegExp(fb(Eb.color.close),"g");for(var d=function(){var e=h[f];if(s.has(e))return"continue";i[e]={get:function(){var t=this.level;return function(){var r=Eb.color[a[t]][e].apply(null,arguments),n={open:r,close:Eb.color.close,closeRe:Eb.color.closeRe};return b.call(this,this._styles?this._styles.concat(n):[n],this._empty,e)}}}},f=0,h=Object.keys(Eb.color.ansi);f<h.length;f++)d();Eb.bgColor.closeRe=new RegExp(fb(Eb.bgColor.close),"g");for(var m=function(){var e=g[y];if(s.has(e))return"continue";var t="bg"+e[0].toUpperCase()+e.slice(1);i[t]={get:function(){var t=this.level;return function(){var r=Eb.bgColor[a[t]][e].apply(null,arguments),n={open:r,close:Eb.bgColor.close,closeRe:Eb.bgColor.closeRe};return b.call(this,this._styles?this._styles.concat(n):[n],this._empty,e)}}}},y=0,g=Object.keys(Eb.bgColor.ansi);y<g.length;y++)m();var v=Object.defineProperties(function(){},i);function b(e,t,r){var n=function e(){return x.apply(e,arguments)};n._styles=e,n._empty=t;var a=this;return Object.defineProperty(n,"level",{enumerable:!0,get:function(){return a.level},set:function(e){a.level=e}}),Object.defineProperty(n,"enabled",{enumerable:!0,get:function(){return a.enabled},set:function(e){a.enabled=e}}),n.hasGrey=this.hasGrey||"gray"===r||"grey"===r,n.__proto__=v,n}function x(){var e=arguments,r=e.length,a=String(arguments[0]);if(0===r)return"";if(r>1)for(var s=1;s<r;s++)a+=" "+e[s];if(!this.enabled||this.level<=0||!a)return this._empty?"":a;var i=Eb.dim.open;n&&this.hasGrey&&(Eb.dim.open="");for(var o,l=t(this._styles.slice().reverse());!(o=l()).done;){var c=o.value;a=(a=c.open+a.replace(c.closeRe,c.open)+c.close).replace(/\r?\n/g,c.close+"$&"+c.open)}return Eb.dim.open=i,a}function E(e,t){if(!Array.isArray(t))return[].slice.call(arguments,1).join(" ");for(var r=[].slice.call(arguments,2),n=[t.raw[0]],a=1;a<t.length;a++)n.push(String(r[a-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(t.raw[a]));return Nb(e,n.join(""))}Object.defineProperties(l.prototype,i),e.exports=l(),e.exports.supportsColor=r,e.exports.default=e.exports});var Fb=/\r\n|[\n\r\u2028\u2029]/,Rb=/^[a-z][\w-]*$/i,Mb=/^[()[\]{}]$/;function Lb(e){var t=e.slice(-2),r=t[0],n=t[1],a=pb.matchToToken(e);if("name"===a.type){if(ki(a.value)||Ti(a.value))return"keyword";if(Rb.test(a.value)&&("<"===n[r-1]||"</"==n.substr(r-2,2)))return"jsx_tag";if(a.value[0]!==a.value[0].toLowerCase())return"capitalized"}
return"punctuator"===a.type&&Mb.test(a.value)?"bracket":"invalid"!==a.type||"@"!==a.value&&"#"!==a.value?a.type:"punctuator"}function Ub(e){return Bb.supportsColor||e.forceColor}function Wb(e){var t=Bb;return e.forceColor&&(t=new Bb.constructor({enabled:!0,level:1})),t}function Vb(e,t){return void 0===t&&(t={}),Ub(t)?function(e,t){return t.replace(pb,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=Lb(r),s=e[a];return s?r[0].split(Fb).map(function(e){return s(e)}).join("\n"):r[0]})}(function(e){return{keyword:e.cyan,capitalized:e.yellow,jsx_tag:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.grey,invalid:e.white.bgRed.bold}}(Wb(t)),e):e}var Gb=/\r\n|[\n\r\u2028\u2029]/;function Kb(e,t,r){void 0===r&&(r={});var n=(r.highlightCode||r.forceColor)&&Ub(r),a=Wb(r),s=function(e){return{gutter:e.grey,marker:e.red.bold,message:e.red.bold}}(a),i=function(e,t){return n?e(t):t},o=function(e,t,r){var n=Object.assign({column:0,line:-1},e.start),a=Object.assign({},n,e.end),s=r||{},i=s.linesAbove,o=void 0===i?2:i,l=s.linesBelow,c=void 0===l?3:l,u=n.line,p=n.column,d=a.line,f=a.column,h=Math.max(u-(o+1),0),m=Math.min(t.length,d+c);-1===u&&(h=0),-1===d&&(m=t.length);var y=d-u,g={};if(y)for(var v=0;v<=y;v++){var b=v+u;if(p)if(0===v){var x=t[b-1].length;g[b]=[p,x-p+1]}else if(v===y)g[b]=[0,f];else{var E=t[b-v].length;g[b]=[0,E]}else g[b]=!0}else g[u]=p===f?!p||[p,0]:[p,f-p];return{start:h,end:m,markerLines:g}}(t,e.split(Gb),r),l=o.start,c=o.end,u=o.markerLines,p=t.start&&"number"==typeof t.start.column,d=String(c).length,f=(n?Vb(e,r):e).split(Gb).slice(l,c).map(function(e,t){var n=l+1+t,a=" "+(" "+n).slice(-d)+" | ",o=u[n],c=!u[n+1];if(o){var p="";if(Array.isArray(o)){var f=e.slice(0,Math.max(o[0]-1,0)).replace(/[^\t]/g," "),h=o[1]||1;p=["\n ",i(s.gutter,a.replace(/\d/g," ")),f,i(s.marker,"^").repeat(h)].join(""),c&&r.message&&(p+=" "+i(s.message,r.message))}return[i(s.marker,">"),i(s.gutter,a),e,p].join("")}return" "+i(s.gutter,a)+e}).join("\n");return r.message&&!p&&(f=""+" ".repeat(d+1)+r.message+"\n"+f),n?a.reset(f):f}var Hb=!0,zb=!0,qb=!0,Xb=!0,Jb=function(e,t){void 0===t&&(t={}),this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.updateContext=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=null!=t.binop?t.binop:null,this.updateContext=null},Yb=new Map;function $b(e,t){void 0===t&&(t={}),t.keyword=e;var r=new Jb(e,t);return Yb.set(e,r),r}function Qb(e,t){return new Jb(e,{beforeExpr:Hb,binop:t})}var Zb={num:new Jb("num",{startsExpr:zb}),bigint:new Jb("bigint",{startsExpr:zb}),decimal:new Jb("decimal",{startsExpr:zb}),regexp:new Jb("regexp",{startsExpr:zb}),string:new Jb("string",{startsExpr:zb}),name:new Jb("name",{startsExpr:zb}),eof:new Jb("eof"),bracketL:new Jb("[",{beforeExpr:Hb,startsExpr:zb}),bracketHashL:new Jb("#[",{beforeExpr:Hb,startsExpr:zb}),bracketBarL:new Jb("[|",{beforeExpr:Hb,startsExpr:zb}),bracketR:new Jb("]"),bracketBarR:new Jb("|]"),braceL:new Jb("{",{beforeExpr:Hb,startsExpr:zb}),braceBarL:new Jb("{|",{beforeExpr:Hb,startsExpr:zb}),braceHashL:new Jb("#{",{beforeExpr:Hb,startsExpr:zb}),braceR:new Jb("}"),braceBarR:new Jb("|}"),parenL:new Jb("(",{beforeExpr:Hb,startsExpr:zb}),parenR:new Jb(")"),comma:new Jb(",",{beforeExpr:Hb}),semi:new Jb(";",{beforeExpr:Hb}),colon:new Jb(":",{beforeExpr:Hb}),doubleColon:new Jb("::",{beforeExpr:Hb}),dot:new Jb("."),question:new Jb("?",{beforeExpr:Hb}),questionDot:new Jb("?."),arrow:new Jb("=>",{beforeExpr:Hb}),template:new Jb("template"),ellipsis:new Jb("...",{beforeExpr:Hb}),backQuote:new Jb("`",{startsExpr:zb}),dollarBraceL:new Jb("${",{beforeExpr:Hb,startsExpr:zb}),at:new Jb("@"),hash:new Jb("#",{startsExpr:zb}),interpreterDirective:new Jb("#!..."),eq:new Jb("=",{beforeExpr:Hb,isAssign:true}),assign:new Jb("_=",{beforeExpr:Hb,isAssign:true}),incDec:new Jb("++/--",{prefix:Xb,postfix:!0,startsExpr:zb}),bang:new Jb("!",{beforeExpr:Hb,prefix:Xb,startsExpr:zb}),tilde:new Jb("~",{beforeExpr:Hb,prefix:Xb,startsExpr:zb}),pipeline:Qb("|>",0),nullishCoalescing:Qb("??",1),logicalOR:Qb("||",1),logicalAND:Qb("&&",2),bitwiseOR:Qb("|",3),bitwiseXOR:Qb("^",4),bitwiseAND:Qb("&",5),equality:Qb("==/!=/===/!==",6),relational:Qb("</>/<=/>=",7),bitShift:Qb("<</>>/>>>",8),plusMin:new Jb("+/-",{beforeExpr:Hb,binop:9,prefix:Xb,startsExpr:zb}),modulo:new Jb("%",{beforeExpr:Hb,binop:10,startsExpr:zb}),star:new Jb("*",{binop:10}),slash:Qb("/",10),exponent:new Jb("**",{beforeExpr:Hb,binop:11,rightAssociative:!0}),_break:$b("break"),_case:$b("case",{beforeExpr:Hb}),_catch:$b("catch"),_continue:$b("continue"),_debugger:$b("debugger"),_default:$b("default",{beforeExpr:Hb}),_do:$b("do",{isLoop:qb,beforeExpr:Hb}),_else:$b("else",{beforeExpr:Hb}),_finally:$b("finally"),_for:$b("for",{isLoop:qb}),_function:$b("function",{startsExpr:zb}),_if:$b("if"),_return:$b("return",{beforeExpr:Hb}),_switch:$b("switch"),_throw:$b("throw",{beforeExpr:Hb,prefix:Xb,startsExpr:zb}),_try:$b("try"),_var:$b("var"),_const:$b("const"),_while:$b("while",{isLoop:qb}),_with:$b("with"),_new:$b("new",{beforeExpr:Hb,startsExpr:zb}),_this:$b("this",{startsExpr:zb}),_super:$b("super",{startsExpr:zb}),_class:$b("class",{startsExpr:zb}),_extends:$b("extends",{beforeExpr:Hb}),_export:$b("export"),_import:$b("import",{startsExpr:zb}),_null:$b("null",{startsExpr:zb}),_true:$b("true",{startsExpr:zb}),_false:$b("false",{startsExpr:zb}),_in:$b("in",{beforeExpr:Hb,binop:7}),_instanceof:$b("instanceof",{beforeExpr:Hb,binop:7}),_typeof:$b("typeof",{beforeExpr:Hb,prefix:Xb,startsExpr:zb}),_void:$b("void",{beforeExpr:Hb,prefix:Xb,startsExpr:zb}),_delete:$b("delete",{beforeExpr:Hb,prefix:Xb,startsExpr:zb})},ex=64,tx=128,rx=128,nx=256,ax=512,sx=1024,ix=1024,ox=64,lx=/\r\n?|[\n\u2028\u2029]/,cx=new RegExp(lx.source,"g");function ux(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}var px=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g;function dx(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}var fx=function(e,t){this.line=void 0,this.column=void 0,this.line=e,this.column=t},hx=function(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t};function mx(e){return e[e.length-1]}var yx=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.addComment=function(e){this.filename&&(e.loc.filename=this.filename),this.state.trailingComments.push(e),this.state.leadingComments.push(e)},r.adjustCommentsAfterTrailingComma=function(e,t,r){if(0!==this.state.leadingComments.length){for(var n=null,a=t.length;null===n&&a>0;)n=t[--a];if(null!==n){for(var s=0;s<this.state.leadingComments.length;s++)this.state.leadingComments[s].end<this.state.commentPreviousNode.end&&(this.state.leadingComments.splice(s,1),s--);for(var i=[],o=0;o<this.state.leadingComments.length;o++){var l=this.state.leadingComments[o];l.end<e.end?(i.push(l),r||(this.state.leadingComments.splice(o,1),o--)):(void 0===e.trailingComments&&(e.trailingComments=[]),e.trailingComments.push(l))}r&&(this.state.leadingComments=[]),i.length>0?n.trailingComments=i:void 0!==n.trailingComments&&(n.trailingComments=[])}}},r.processComment=function(e){if(!("Program"===e.type&&e.body.length>0)){var t,r,n,a,s,i=this.state.commentStack;if(this.state.trailingComments.length>0)this.state.trailingComments[0].start>=e.end?(n=this.state.trailingComments,this.state.trailingComments=[]):this.state.trailingComments.length=0;else if(i.length>0){var o=mx(i);o.trailingComments&&o.trailingComments[0].start>=e.end&&(n=o.trailingComments,delete o.trailingComments)}for(i.length>0&&mx(i).start>=e.start&&(t=i.pop());i.length>0&&mx(i).start>=e.start;)r=i.pop();if(!r&&t&&(r=t),t)switch(e.type){case"ObjectExpression":this.adjustCommentsAfterTrailingComma(e,e.properties);break;case"ObjectPattern":this.adjustCommentsAfterTrailingComma(e,e.properties,!0);break;case"CallExpression":this.adjustCommentsAfterTrailingComma(e,e.arguments);break;case"ArrayExpression":this.adjustCommentsAfterTrailingComma(e,e.elements);break;case"ArrayPattern":this.adjustCommentsAfterTrailingComma(e,e.elements,!0)}else this.state.commentPreviousNode&&("ImportSpecifier"===this.state.commentPreviousNode.type&&"ImportSpecifier"!==e.type||"ExportSpecifier"===this.state.commentPreviousNode.type&&"ExportSpecifier"!==e.type)&&this.adjustCommentsAfterTrailingComma(e,[this.state.commentPreviousNode]);if(r){if(r.leadingComments)if(r!==e&&r.leadingComments.length>0&&mx(r.leadingComments).end<=e.start)e.leadingComments=r.leadingComments,delete r.leadingComments;else for(a=r.leadingComments.length-2;a>=0;--a)if(r.leadingComments[a].end<=e.start){e.leadingComments=r.leadingComments.splice(0,a+1);break}}else if(this.state.leadingComments.length>0)if(mx(this.state.leadingComments).end<=e.start){if(this.state.commentPreviousNode)for(s=0;s<this.state.leadingComments.length;s++)this.state.leadingComments[s].end<this.state.commentPreviousNode.end&&(this.state.leadingComments.splice(s,1),s--);this.state.leadingComments.length>0&&(e.leadingComments=this.state.leadingComments,this.state.leadingComments=[])}else{for(a=0;a<this.state.leadingComments.length&&!(this.state.leadingComments[a].end>e.start);a++);var l=this.state.leadingComments.slice(0,a);l.length&&(e.leadingComments=l),0===(n=this.state.leadingComments.slice(a)).length&&(n=null)}if(this.state.commentPreviousNode=e,n)if(n.length&&n[0].start>=e.start&&mx(n).end<=e.end)e.innerComments=n;else{var c=n.findIndex(function(t){return t.end>=e.end});c>0?(e.innerComments=n.slice(0,c),e.trailingComments=n.slice(c)):e.trailingComments=n}i.push(e)}},t}(function(){function e(){this.options=void 0,this.inModule=void 0,this.scope=void 0,this.classScope=void 0,this.prodParam=void 0,this.plugins=void 0,this.filename=void 0,this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1,this.state=void 0,this.input=void 0,this.length=void 0}var t=e.prototype;return t.hasPlugin=function(e){return this.plugins.has(e)},t.getPluginOption=function(e,t){if(this.hasPlugin(e))return this.plugins.get(e)[t]},e}()),gx=Object.freeze({AccessorIsGenerator:"A %0ter cannot be a generator",ArgumentsInClass:"'arguments' is only allowed in functions and class methods",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function",AwaitExpressionFormalParameter:"await is not allowed in async function parameters",AwaitNotInAsyncFunction:"Can not use keyword 'await' outside an async function",BadGetterArity:"getter must not have any formal parameters",BadSetterArity:"setter must have exactly one formal parameter",BadSetterRestParameter:"setter function argument must not be a rest parameter",ConstructorClassField:"Classes may not have a field named 'constructor'",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'",ConstructorIsAccessor:"Class constructor may not be an accessor",ConstructorIsAsync:"Constructor can't be an async function",ConstructorIsGenerator:"Constructor can't be a generator",DeclarationMissingInitializer:"%0 require an initialization value",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. You can set the 'decoratorsBeforeExport' option to false to use the 'export @decorator class {}' syntax",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Using the export keyword between a decorator and a class is not allowed. Please use `export @dec class` instead.",DecoratorSemicolon:"Decorators must not be followed by a semicolon",DecoratorStaticBlock:"Decorators can't be used with a static block",DeletePrivateField:"Deleting a private field is not allowed",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:"`%0` has already been exported. Exported identifiers must be unique.",DuplicateProto:"Redefinition of __proto__ property",DuplicateRegExpFlags:"Duplicate regular expression flag",DuplicateStaticBlock:"Duplicate static block in the same class",ElementAfterRest:"Rest element must be last element",EscapedCharNotAnIdentifier:"Invalid Unicode escape",ExportBindingIsString:"A string literal cannot be used as an exported binding without `from`.\n- Did you mean `export { %0 as '%1' } from 'some-module'`?",ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block",IllegalBreakContinue:"Unsyntactic %0",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"'return' outside of function",ImportBindingIsString:'A string literal cannot be used as an imported binding.\n- Did you mean `import { "%0" as foo }`?',ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments",ImportCallArity:"import() requires exactly %0",ImportCallNotNewExpression:"Cannot use new with import(...)",ImportCallSpreadArgument:"... is not allowed in import()",ImportMetaOutsideModule:"import.meta may appear only with 'sourceType: \"module\"'",ImportOutsideModule:"'import' and 'export' may appear only with 'sourceType: \"module\"'",InvalidBigIntLiteral:"Invalid BigIntLiteral",InvalidCodePoint:"Code point out of bounds",InvalidDecimal:"Invalid decimal",InvalidDigit:"Expected number in radix %0",InvalidEscapeSequence:"Bad character escape sequence",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template",InvalidEscapedReservedWord:"Escape sequence in keyword %0",InvalidIdentifier:"Invalid identifier %0",InvalidLhs:"Invalid left-hand side in %0",InvalidLhsBinding:"Binding invalid left-hand side in %0",InvalidNumber:"Invalid number",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'",InvalidOrUnexpectedToken:"Unexpected character '%0'",InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern",InvalidPrivateFieldResolution:"Private name #%0 is not defined",InvalidPropertyBindingPattern:"Binding member expression",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions",InvalidRestAssignmentPattern:"Invalid rest operator's argument",LabelRedeclaration:"Label '%0' is already declared",LetInLexicalBinding:"'let' is not allowed to be used as a name in 'let' or 'const' declarations.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'",MalformedRegExpFlags:"Invalid regular expression flag",MissingClassName:"A class name is required",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values",ModuleAttributesWithDuplicateKeys:'Duplicate key "%0" is not allowed in module attributes',ModuleExportNameHasLoneSurrogate:"An export name cannot include a lone surrogate, found '\\u%0'",ModuleExportUndefined:"Export '%0' is not defined",MultipleDefaultsInSwitch:"Multiple default clauses",NewlineAfterThrow:"Illegal newline after throw",NoCatchOrFinally:"Missing catch or finally clause",NumberIdentifier:"Identifier directly after number",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences",ObsoleteAwaitStar:"await* has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"constructors in/after an Optional Chain are not allowed",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain",ParamDupe:"Argument name clash",PatternHasAccessor:"Object pattern can't contain getter or setter",PatternHasMethod:"Object pattern can't contain methods",PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding",PrimaryTopicRequiresSmartPipeline:"Primary Topic Reference found but pipelineOperator not passed 'smart' for 'proposal' option.",PrivateInExpectedIn:"Private names are only allowed in property accesses (`obj.#%0`) or in `in` expressions (`#%0 in obj`)",PrivateNameRedeclaration:"Duplicate private name #%0",RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'",RecordNoProto:"'__proto__' is not allowed in Record expressions",RestTrailingComma:"Unexpected trailing comma after rest element",SloppyFunction:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement",StaticPrototype:"Classes may not have static property named prototype",StrictDelete:"Deleting local variable in strict mode",StrictEvalArguments:"Assigning to '%0' in strict mode",StrictEvalArgumentsBinding:"Binding '%0' in strict mode",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode",StrictWith:"'with' in strict mode",SuperNotAllowed:"super() is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super",TrailingDecorator:"Decorators must be attached to a class element",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal',UnexpectedDigitAfterHash:"Unexpected digit after hash token",UnexpectedImportExport:"'import' and 'export' may only appear at the top level",UnexpectedKeyword:"Unexpected keyword '%0'",UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context",UnexpectedNewTarget:"new.target can only be used in functions",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits",UnexpectedPrivateField:"Private names can only be used as the name of a class element (i.e. class C { #p = 42; #m() {} } )\n or a property of member expression (i.e. this.#p).",UnexpectedReservedWord:"Unexpected reserved word '%0'",UnexpectedSuper:"super is only allowed in object methods and classes",UnexpectedToken:"Unexpected token '%0'",UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"import can only be used in import() or import.meta",UnsupportedMetaProperty:"The only valid meta property for %0 is %0.%1",UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties",UnsupportedSuper:"super can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop])",UnterminatedComment:"Unterminated comment",UnterminatedRegExp:"Unterminated regular expression",UnterminatedString:"Unterminated string constant",UnterminatedTemplate:"Unterminated template",VarRedeclaration:"Identifier '%0' has already been declared",YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator",YieldInParameter:"yield is not allowed in generator parameters",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0"}),vx=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.getLocationForPosition=function(e){return e===this.state.start?this.state.startLoc:e===this.state.lastTokStart?this.state.lastTokStartLoc:e===this.state.end?this.state.endLoc:e===this.state.lastTokEnd?this.state.lastTokEndLoc:function(e,t){var r,n=1,a=0;for(cx.lastIndex=0;(r=cx.exec(e))&&r.index<t;)n++,a=cx.lastIndex;return new fx(n,t-a)}(this.input,e)},r.raise=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return this.raiseWithData.apply(this,[e,void 0,t].concat(n))},r.raiseWithData=function(e,t,r){for(var n=arguments.length,a=new Array(n>3?n-3:0),s=3;s<n;s++)a[s-3]=arguments[s];var i=this.getLocationForPosition(e),o=r.replace(/%(\d+)/g,function(e,t){return a[t]})+" ("+i.line+":"+i.column+")";return this._raise(Object.assign({loc:i,pos:e},t),o)},r._raise=function(e,t){var r=new SyntaxError(t);if(Object.assign(r,e),this.options.errorRecovery)return this.isLookahead||this.state.errors.push(r),r;throw r},t}(yx);function bx(e){return null!=e&&"Property"===e.type&&"init"===e.kind&&!1===e.method}var xx=function(e,t,r,n){this.token=void 0,this.isExpr=void 0,this.preserveSpace=void 0,this.override=void 0,this.token=e,this.isExpr=!!t,this.preserveSpace=!!r,this.override=n},Ex={braceStatement:new xx("{",!1),braceExpression:new xx("{",!0),recordExpression:new xx("#{",!0),templateQuasi:new xx("${",!1),parenStatement:new xx("(",!1),parenExpression:new xx("(",!0),template:new xx("`",!0,!0,function(e){return e.readTmplToken()}),functionExpression:new xx("function",!0),functionStatement:new xx("function",!1)};Zb.parenR.updateContext=Zb.braceR.updateContext=function(){if(1!==this.state.context.length){var e=this.state.context.pop();e===Ex.braceStatement&&"function"===this.curContext().token&&(e=this.state.context.pop()),this.state.exprAllowed=!e.isExpr}else this.state.exprAllowed=!0},Zb.name.updateContext=function(e){var t=!1;e!==Zb.dot&&("of"===this.state.value&&!this.state.exprAllowed&&e!==Zb._function&&e!==Zb._class||"yield"===this.state.value&&this.prodParam.hasYield)&&(t=!0),this.state.exprAllowed=t,this.state.isIterator&&(this.state.isIterator=!1)},Zb.braceL.updateContext=function(e){this.state.context.push(this.braceIsBlock(e)?Ex.braceStatement:Ex.braceExpression),this.state.exprAllowed=!0},Zb.dollarBraceL.updateContext=function(){this.state.context.push(Ex.templateQuasi),this.state.exprAllowed=!0},Zb.parenL.updateContext=function(e){var t=e===Zb._if||e===Zb._for||e===Zb._with||e===Zb._while;this.state.context.push(t?Ex.parenStatement:Ex.parenExpression),this.state.exprAllowed=!0},Zb.incDec.updateContext=function(){},Zb._function.updateContext=Zb._class.updateContext=function(e){!e.beforeExpr||e===Zb.semi||e===Zb._else||e===Zb._return&&this.hasPrecedingLineBreak()||(e===Zb.colon||e===Zb.braceL)&&this.curContext()===Ex.b_stat?this.state.context.push(Ex.functionStatement):this.state.context.push(Ex.functionExpression),this.state.exprAllowed=!1},Zb.backQuote.updateContext=function(){this.curContext()===Ex.template?this.state.context.pop():this.state.context.push(Ex.template),this.state.exprAllowed=!1},Zb.braceHashL.updateContext=function(){this.state.context.push(Ex.recordExpression),this.state.exprAllowed=!0};var wx=/^in(stanceof)?$/;var Sx=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),Tx=Object.freeze({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module",AssignReservedType:"Cannot overwrite reserved type %0",DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement",EnumBooleanMemberNotInitialized:"Boolean enum members need to be initialized. Use either `%0 = true,` or `%0 = false,` in enum `%1`.",EnumDuplicateMemberName:"Enum member names need to be unique, but the name `%0` has already been used before in enum `%1`.",EnumInconsistentMemberValues:"Enum `%0` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.",EnumInvalidExplicitType:"Enum type `%1` is not valid. Use one of `boolean`, `number`, `string`, or `symbol` in enum `%0`.",EnumInvalidExplicitTypeUnknownSupplied:"Supplied enum type is not valid. Use one of `boolean`, `number`, `string`, or `symbol` in enum `%0`.",EnumInvalidMemberInitializerPrimaryType:"Enum `%0` has type `%2`, so the initializer of `%1` needs to be a %2 literal.",EnumInvalidMemberInitializerSymbolType:"Symbol enum members cannot be initialized. Use `%1,` in enum `%0`.",EnumInvalidMemberInitializerUnknownType:"The enum member initializer for `%1` needs to be a literal (either a boolean, number, or string) in enum `%0`.",EnumInvalidMemberName:"Enum member names cannot start with lowercase 'a' through 'z'. Instead of using `%0`, consider using `%1`, in enum `%2`.",EnumNumberMemberNotInitialized:"Number enum members need to be initialized, e.g. `%1 = 1` in enum `%0`.",EnumStringMemberInconsistentlyInitailized:"String enum members need to consistently either all use initializers, or use no initializers, in enum `%0`.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions",InexactVariance:"Explicit inexact syntax cannot have variance",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`",NestedFlowComment:"Cannot have a flow comment inside another flow comment",OptionalBindingPattern:"A binding pattern parameter cannot be optional in an implementation signature.",SpreadVariance:"Spread properties cannot have variance",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object",UnexpectedReservedType:"Unexpected reserved type %0",UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint"',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`",UnsupportedDeclareExportKind:"`declare export %0` is not supported. Use `%1` instead",UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module",UnterminatedFlowComment:"Unterminated flow-comment"});function jx(e){return"type"===e.importKind||"typeof"===e.importKind}function Ax(e){return(e.type===Zb.name||!!e.type.keyword)&&"from"!==e.value}var Px={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};var kx=/\*?\s*@((?:no)?flow)\b/,Cx={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",
rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"},Dx=/^[\da-fA-F]+$/,_x=/^\d+$/,Ix=Object.freeze({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression",MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>",MissingClosingTagElement:"Expected corresponding JSX closing tag for <%0>",UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text",UnterminatedJsxContent:"Unterminated JSX contents",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function Ox(e){return!!e&&("JSXOpeningFragment"===e.type||"JSXClosingFragment"===e.type)}function Nx(e){if("JSXIdentifier"===e.type)return e.name;if("JSXNamespacedName"===e.type)return e.namespace.name+":"+e.name.name;if("JSXMemberExpression"===e.type)return Nx(e.object)+"."+Nx(e.property);throw new Error("Node had unexpected type: "+e.type)}Ex.j_oTag=new xx("<tag",!1),Ex.j_cTag=new xx("</tag",!1),Ex.j_expr=new xx("<tag>...</tag>",!0,!0),Zb.jsxName=new Jb("jsxName"),Zb.jsxText=new Jb("jsxText",{beforeExpr:!0}),Zb.jsxTagStart=new Jb("jsxTagStart",{startsExpr:!0}),Zb.jsxTagEnd=new Jb("jsxTagEnd"),Zb.jsxTagStart.updateContext=function(){this.state.context.push(Ex.j_expr),this.state.context.push(Ex.j_oTag),this.state.exprAllowed=!1},Zb.jsxTagEnd.updateContext=function(e){var t=this.state.context.pop();t===Ex.j_oTag&&e===Zb.slash||t===Ex.j_cTag?(this.state.context.pop(),this.state.exprAllowed=this.curContext()===Ex.j_expr):this.state.exprAllowed=!0};var Bx=function(e){this.flags=void 0,this.var=[],this.lexical=[],this.functions=[],this.flags=e},Fx=function(){function e(e,t){this.scopeStack=[],this.raise=void 0,this.inModule=void 0,this.undefinedExports=new Map,this.undefinedPrivateNames=new Map,this.raise=e,this.inModule=t}var t=e.prototype;return t.createScope=function(e){return new Bx(e)},t.enter=function(e){this.scopeStack.push(this.createScope(e))},t.exit=function(){this.scopeStack.pop()},t.treatFunctionsAsVarInScope=function(e){return!!(2&e.flags||!this.inModule&&1&e.flags)},t.declareName=function(e,t,r){var n=this.currentScope();if(8&t||16&t)this.checkRedeclarationInScope(n,e,t,r),16&t?n.functions.push(e):n.lexical.push(e),8&t&&this.maybeExportDefined(n,e);else if(4&t)for(var a=this.scopeStack.length-1;a>=0&&(n=this.scopeStack[a],this.checkRedeclarationInScope(n,e,t,r),n.var.push(e),this.maybeExportDefined(n,e),!(131&n.flags));--a);this.inModule&&1&n.flags&&this.undefinedExports.delete(e)},t.maybeExportDefined=function(e,t){this.inModule&&1&e.flags&&this.undefinedExports.delete(t)},t.checkRedeclarationInScope=function(e,t,r,n){this.isRedeclaredInScope(e,t,r)&&this.raise(n,gx.VarRedeclaration,t)},t.isRedeclaredInScope=function(e,t,r){return!!(1&r)&&(8&r?e.lexical.indexOf(t)>-1||e.functions.indexOf(t)>-1||e.var.indexOf(t)>-1:16&r?e.lexical.indexOf(t)>-1||!this.treatFunctionsAsVarInScope(e)&&e.var.indexOf(t)>-1:e.lexical.indexOf(t)>-1&&!(8&e.flags&&e.lexical[0]===t)||!this.treatFunctionsAsVarInScope(e)&&e.functions.indexOf(t)>-1)},t.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&-1===this.scopeStack[0].functions.indexOf(e.name)&&this.undefinedExports.set(e.name,e.start)},t.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},t.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(131&t.flags)return t}},t.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if((131&t.flags||t.flags&ex)&&!(4&t.flags))return t}},l(e,[{key:"inFunction",get:function(){return(2&this.currentVarScope().flags)>0}},{key:"allowSuper",get:function(){return(16&this.currentThisScope().flags)>0}},{key:"allowDirectSuper",get:function(){return(32&this.currentThisScope().flags)>0}},{key:"inClass",get:function(){return(this.currentThisScope().flags&ex)>0}},{key:"inNonArrowFunction",get:function(){return(2&this.currentThisScope().flags)>0}},{key:"treatFunctionsAsVar",get:function(){return this.treatFunctionsAsVarInScope(this.currentScope())}}]),e}(),Rx=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).types=[],t.enums=[],t.constEnums=[],t.classes=[],t.exportOnlyBindings=[],t}return f(t,e),t}(Bx),Mx=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.createScope=function(e){return new Rx(e)},r.declareName=function(t,r,n){var a=this.currentScope();if(r&sx)return this.maybeExportDefined(a,t),void a.exportOnlyBindings.push(t);e.prototype.declareName.apply(this,arguments),2&r&&(1&r||(this.checkRedeclarationInScope(a,t,r,n),this.maybeExportDefined(a,t)),a.types.push(t)),r&nx&&a.enums.push(t),r&ax&&a.constEnums.push(t),r&rx&&a.classes.push(t)},r.isRedeclaredInScope=function(t,r,n){if(t.enums.indexOf(r)>-1){if(n&nx){var a=!!(n&ax),s=t.constEnums.indexOf(r)>-1;return a!==s}return!0}return n&rx&&t.classes.indexOf(r)>-1?t.lexical.indexOf(r)>-1&&!!(1&n):!!(2&n&&t.types.indexOf(r)>-1)||e.prototype.isRedeclaredInScope.apply(this,arguments)},r.checkLocalExport=function(t){-1===this.scopeStack[0].types.indexOf(t.name)&&-1===this.scopeStack[0].exportOnlyBindings.indexOf(t.name)&&e.prototype.checkLocalExport.call(this,t)},t}(Fx),Lx=function(){function e(){this.stacks=[]}var t=e.prototype;return t.enter=function(e){this.stacks.push(e)},t.exit=function(){this.stacks.pop()},t.currentFlags=function(){return this.stacks[this.stacks.length-1]},l(e,[{key:"hasAwait",get:function(){return(2&this.currentFlags())>0}},{key:"hasYield",get:function(){return(1&this.currentFlags())>0}},{key:"hasReturn",get:function(){return(4&this.currentFlags())>0}},{key:"hasIn",get:function(){return(8&this.currentFlags())>0}}]),e}();function Ux(e,t){return(e?2:0)|(t?1:0)}function Wx(e){if(null==e)throw new Error("Unexpected "+e+" value.");return e}function Vx(e){if(!e)throw new Error("Assert fail")}var Gx=Object.freeze({ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateModifier:"Duplicate modifier: '%0'",EmptyHeritageClauseType:"'%0' list cannot be empty.",EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier",IndexSignatureHasAccessibility:"Index signatures cannot have an accessibility modifier ('%0')",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier",IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MixedLabeledAndUnlabeledElements:"Tuple members must all have names or all not have names.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:"Private elements cannot have an accessibility modifier ('%0')",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:"Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got %0"});Zb.placeholder=new Jb("%%",{startsExpr:!0});function Kx(e,t){return e.some(function(e){return Array.isArray(e)?e[0]===t:e===t})}function Hx(e,t,r){var n=e.find(function(e){return Array.isArray(e)?e[0]===t:e===t});return n&&Array.isArray(n)?n[1][r]:null}var zx=["minimal","smart","fsharp"],qx=["hash","bar"];var Xx={estree:function(e){return function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.estreeParseRegExpLiteral=function(e){var t=e.pattern,r=e.flags,n=null;try{n=new RegExp(t,r)}catch(e){}var a=this.estreeParseLiteral(n);return a.regex={pattern:t,flags:r},a},r.estreeParseBigIntLiteral=function(e){var t="undefined"!=typeof BigInt?BigInt(e):null,r=this.estreeParseLiteral(t);return r.bigint=String(r.value||e),r},r.estreeParseDecimalLiteral=function(e){var t=this.estreeParseLiteral(null);return t.decimal=String(t.value||e),t},r.estreeParseLiteral=function(e){return this.parseLiteral(e,"Literal")},r.directiveToStmt=function(e){var t=e.value,r=this.startNodeAt(e.start,e.loc.start),n=this.startNodeAt(t.start,t.loc.start);return n.value=t.value,n.raw=t.extra.raw,r.expression=this.finishNodeAt(n,"Literal",t.end,t.loc.end),r.directive=t.extra.raw.slice(1,-1),this.finishNodeAt(r,"ExpressionStatement",e.end,e.loc.end)},r.initFunction=function(t,r){e.prototype.initFunction.call(this,t,r),t.expression=!1},r.checkDeclaration=function(t){bx(t)?this.checkDeclaration(t.value):e.prototype.checkDeclaration.call(this,t)},r.getObjectOrClassMethodParams=function(e){return e.value.params},r.checkLVal=function(t,r,n,a,s){var i=this;switch(void 0===r&&(r=ox),t.type){case"ObjectPattern":t.properties.forEach(function(e){i.checkLVal("Property"===e.type?e.value:e,r,n,"object destructuring pattern",s)});break;default:e.prototype.checkLVal.call(this,t,r,n,a,s)}},r.checkProto=function(t,r,n,a){t.method||e.prototype.checkProto.call(this,t,r,n,a)},r.isValidDirective=function(e){var t;return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&!(null==(t=e.expression.extra)?void 0:t.parenthesized)},r.stmtToDirective=function(t){var r=e.prototype.stmtToDirective.call(this,t),n=t.expression.value;return r.value.value=n,r},r.parseBlockBody=function(t,r,n,a){var s=this;e.prototype.parseBlockBody.call(this,t,r,n,a);var i=t.directives.map(function(e){return s.directiveToStmt(e)});t.body=i.concat(t.body),delete t.directives},r.pushClassMethod=function(e,t,r,n,a,s){this.parseMethod(t,r,n,a,s,"ClassMethod",!0),t.typeParameters&&(t.value.typeParameters=t.typeParameters,delete t.typeParameters),e.body.push(t)},r.parseExprAtom=function(t){switch(this.state.type){case Zb.num:case Zb.string:return this.estreeParseLiteral(this.state.value);case Zb.regexp:return this.estreeParseRegExpLiteral(this.state.value);case Zb.bigint:return this.estreeParseBigIntLiteral(this.state.value);case Zb.decimal:return this.estreeParseDecimalLiteral(this.state.value);case Zb._null:return this.estreeParseLiteral(null);case Zb._true:return this.estreeParseLiteral(!0);case Zb._false:return this.estreeParseLiteral(!1);default:return e.prototype.parseExprAtom.call(this,t)}},r.parseLiteral=function(t,r,n,a){var s=e.prototype.parseLiteral.call(this,t,r,n,a);return s.raw=s.extra.raw,delete s.extra,s},r.parseFunctionBody=function(t,r,n){void 0===n&&(n=!1),e.prototype.parseFunctionBody.call(this,t,r,n),t.expression="BlockStatement"!==t.body.type},r.parseMethod=function(t,r,n,a,s,i,o){void 0===o&&(o=!1);var l=this.startNode();return l.kind=t.kind,(l=e.prototype.parseMethod.call(this,l,r,n,a,s,i,o)).type="FunctionExpression",delete l.kind,t.value=l,i="ClassMethod"===i?"MethodDefinition":i,this.finishNode(t,i)},r.parseObjectMethod=function(t,r,n,a,s){var i=e.prototype.parseObjectMethod.call(this,t,r,n,a,s);return i&&(i.type="Property","method"===i.kind&&(i.kind="init"),i.shorthand=!1),i},r.parseObjectProperty=function(t,r,n,a,s){var i=e.prototype.parseObjectProperty.call(this,t,r,n,a,s);return i&&(i.kind="init",i.type="Property"),i},r.toAssignable=function(t){return bx(t)?(this.toAssignable(t.value),t):e.prototype.toAssignable.call(this,t)},r.toAssignableObjectExpressionProp=function(t,r){if("get"===t.kind||"set"===t.kind)throw this.raise(t.key.start,gx.PatternHasAccessor);if(t.method)throw this.raise(t.key.start,gx.PatternHasMethod);e.prototype.toAssignableObjectExpressionProp.call(this,t,r)},r.finishCallExpression=function(t,r){return e.prototype.finishCallExpression.call(this,t,r),"Import"===t.callee.type&&(t.type="ImportExpression",t.source=t.arguments[0],delete t.arguments,delete t.callee),t},r.toReferencedListDeep=function(t,r){t&&e.prototype.toReferencedListDeep.call(this,t,r)},r.parseExport=function(t){switch(e.prototype.parseExport.call(this,t),t.type){case"ExportAllDeclaration":t.exported=null;break;case"ExportNamedDeclaration":1===t.specifiers.length&&"ExportNamespaceSpecifier"===t.specifiers[0].type&&(t.type="ExportAllDeclaration",t.exported=t.specifiers[0].exported,delete t.specifiers)}return t},r.parseSubscript=function(t,r,n,a,s){var i=e.prototype.parseSubscript.call(this,t,r,n,a,s);if(s.optionalChainMember){if("OptionalMemberExpression"!==i.type&&"OptionalCallExpression"!==i.type||(i.type=i.type.substring(8)),s.stop){var o=this.startNodeAtNode(i);return o.expression=i,this.finishNode(o,"ChainExpression")}}else"MemberExpression"!==i.type&&"CallExpression"!==i.type||(i.optional=!1);return i},t}(e)},jsx:function(e){return function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.jsxReadToken=function(){for(var t="",r=this.state.pos;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,Ix.UnterminatedJsxContent);var n=this.input.charCodeAt(this.state.pos);switch(n){case 60:case 123:return this.state.pos===this.state.start?60===n&&this.state.exprAllowed?(++this.state.pos,this.finishToken(Zb.jsxTagStart)):e.prototype.getTokenFromCode.call(this,n):(t+=this.input.slice(r,this.state.pos),this.finishToken(Zb.jsxText,t));case 38:t+=this.input.slice(r,this.state.pos),t+=this.jsxReadEntity(),r=this.state.pos;break;default:ux(n)?(t+=this.input.slice(r,this.state.pos),t+=this.jsxReadNewLine(!0),r=this.state.pos):++this.state.pos}}},r.jsxReadNewLine=function(e){var t,r=this.input.charCodeAt(this.state.pos);return++this.state.pos,13===r&&10===this.input.charCodeAt(this.state.pos)?(++this.state.pos,t=e?"\n":"\r\n"):t=String.fromCharCode(r),++this.state.curLine,this.state.lineStart=this.state.pos,t},r.jsxReadString=function(e){for(var t="",r=++this.state.pos;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,gx.UnterminatedString);var n=this.input.charCodeAt(this.state.pos);if(n===e)break;38===n?(t+=this.input.slice(r,this.state.pos),t+=this.jsxReadEntity(),r=this.state.pos):ux(n)?(t+=this.input.slice(r,this.state.pos),t+=this.jsxReadNewLine(!1),r=this.state.pos):++this.state.pos}return t+=this.input.slice(r,this.state.pos++),this.finishToken(Zb.string,t)},r.jsxReadEntity=function(){for(var e,t="",r=0,n=this.input[this.state.pos],a=++this.state.pos;this.state.pos<this.length&&r++<10;){if(";"===(n=this.input[this.state.pos++])){"#"===t[0]?"x"===t[1]?(t=t.substr(2),Dx.test(t)&&(e=String.fromCodePoint(parseInt(t,16)))):(t=t.substr(1),_x.test(t)&&(e=String.fromCodePoint(parseInt(t,10)))):e=Cx[t];break}t+=n}return e||(this.state.pos=a,"&")},r.jsxReadWord=function(){var e,t=this.state.pos;do{e=this.input.charCodeAt(++this.state.pos)}while(gi(e)||45===e);return this.finishToken(Zb.jsxName,this.input.slice(t,this.state.pos))},r.jsxParseIdentifier=function(){var e=this.startNode();return this.match(Zb.jsxName)?e.name=this.state.value:this.state.type.keyword?e.name=this.state.type.keyword:this.unexpected(),this.next(),this.finishNode(e,"JSXIdentifier")},r.jsxParseNamespacedName=function(){var e=this.state.start,t=this.state.startLoc,r=this.jsxParseIdentifier();if(!this.eat(Zb.colon))return r;var n=this.startNodeAt(e,t);return n.namespace=r,n.name=this.jsxParseIdentifier(),this.finishNode(n,"JSXNamespacedName")},r.jsxParseElementName=function(){var e=this.state.start,t=this.state.startLoc,r=this.jsxParseNamespacedName();if("JSXNamespacedName"===r.type)return r;for(;this.eat(Zb.dot);){var n=this.startNodeAt(e,t);n.object=r,n.property=this.jsxParseIdentifier(),r=this.finishNode(n,"JSXMemberExpression")}return r},r.jsxParseAttributeValue=function(){var e;switch(this.state.type){case Zb.braceL:return e=this.startNode(),this.next(),"JSXEmptyExpression"===(e=this.jsxParseExpressionContainer(e)).expression.type&&this.raise(e.start,Ix.AttributeIsEmpty),e;case Zb.jsxTagStart:case Zb.string:return this.parseExprAtom();default:throw this.raise(this.state.start,Ix.UnsupportedJsxValue)}},r.jsxParseEmptyExpression=function(){var e=this.startNodeAt(this.state.lastTokEnd,this.state.lastTokEndLoc);return this.finishNodeAt(e,"JSXEmptyExpression",this.state.start,this.state.startLoc)},r.jsxParseSpreadChild=function(e){return this.next(),e.expression=this.parseExpression(),this.expect(Zb.braceR),this.finishNode(e,"JSXSpreadChild")},r.jsxParseExpressionContainer=function(e){return this.match(Zb.braceR)?e.expression=this.jsxParseEmptyExpression():e.expression=this.parseExpression(),this.expect(Zb.braceR),this.finishNode(e,"JSXExpressionContainer")},r.jsxParseAttribute=function(){var e=this.startNode();return this.eat(Zb.braceL)?(this.expect(Zb.ellipsis),e.argument=this.parseMaybeAssignAllowIn(),this.expect(Zb.braceR),this.finishNode(e,"JSXSpreadAttribute")):(e.name=this.jsxParseNamespacedName(),e.value=this.eat(Zb.eq)?this.jsxParseAttributeValue():null,this.finishNode(e,"JSXAttribute"))},r.jsxParseOpeningElementAt=function(e,t){var r=this.startNodeAt(e,t);return this.match(Zb.jsxTagEnd)?(this.expect(Zb.jsxTagEnd),this.finishNode(r,"JSXOpeningFragment")):(r.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(r))},r.jsxParseOpeningElementAfterName=function(e){for(var t=[];!this.match(Zb.slash)&&!this.match(Zb.jsxTagEnd);)t.push(this.jsxParseAttribute());return e.attributes=t,e.selfClosing=this.eat(Zb.slash),this.expect(Zb.jsxTagEnd),this.finishNode(e,"JSXOpeningElement")},r.jsxParseClosingElementAt=function(e,t){var r=this.startNodeAt(e,t);return this.match(Zb.jsxTagEnd)?(this.expect(Zb.jsxTagEnd),this.finishNode(r,"JSXClosingFragment")):(r.name=this.jsxParseElementName(),this.expect(Zb.jsxTagEnd),this.finishNode(r,"JSXClosingElement"))},r.jsxParseElementAt=function(e,t){var r=this.startNodeAt(e,t),n=[],a=this.jsxParseOpeningElementAt(e,t),s=null;if(!a.selfClosing){e:for(;;)switch(this.state.type){case Zb.jsxTagStart:if(e=this.state.start,t=this.state.startLoc,this.next(),this.eat(Zb.slash)){s=this.jsxParseClosingElementAt(e,t);break e}n.push(this.jsxParseElementAt(e,t));break;case Zb.jsxText:n.push(this.parseExprAtom());break;case Zb.braceL:var i=this.startNode();this.next(),this.match(Zb.ellipsis)?n.push(this.jsxParseSpreadChild(i)):n.push(this.jsxParseExpressionContainer(i));break;default:throw this.unexpected()}Ox(a)&&!Ox(s)?this.raise(s.start,Ix.MissingClosingTagFragment):!Ox(a)&&Ox(s)?this.raise(s.start,Ix.MissingClosingTagElement,Nx(a.name)):Ox(a)||Ox(s)||Nx(s.name)!==Nx(a.name)&&this.raise(s.start,Ix.MissingClosingTagElement,Nx(a.name))}if(Ox(a)?(r.openingFragment=a,r.closingFragment=s):(r.openingElement=a,r.closingElement=s),r.children=n,this.isRelational("<"))throw this.raise(this.state.start,Ix.UnwrappedAdjacentJSXElements);return Ox(a)?this.finishNode(r,"JSXFragment"):this.finishNode(r,"JSXElement")},r.jsxParseElement=function(){var e=this.state.start,t=this.state.startLoc;return this.next(),this.jsxParseElementAt(e,t)},r.parseExprAtom=function(t){return this.match(Zb.jsxText)?this.parseLiteral(this.state.value,"JSXText"):this.match(Zb.jsxTagStart)?this.jsxParseElement():this.isRelational("<")&&33!==this.input.charCodeAt(this.state.pos)?(this.finishToken(Zb.jsxTagStart),this.jsxParseElement()):e.prototype.parseExprAtom.call(this,t)},r.getTokenFromCode=function(t){if(this.state.inPropertyName)return e.prototype.getTokenFromCode.call(this,t);var r=this.curContext();if(r===Ex.j_expr)return this.jsxReadToken();if(r===Ex.j_oTag||r===Ex.j_cTag){if(yi(t))return this.jsxReadWord();if(62===t)return++this.state.pos,this.finishToken(Zb.jsxTagEnd);if((34===t||39===t)&&r===Ex.j_oTag)return this.jsxReadString(t)}return 60===t&&this.state.exprAllowed&&33!==this.input.charCodeAt(this.state.pos+1)?(++this.state.pos,this.finishToken(Zb.jsxTagStart)):e.prototype.getTokenFromCode.call(this,t)},r.updateContext=function(t){if(this.match(Zb.braceL)){var r=this.curContext();r===Ex.j_oTag?this.state.context.push(Ex.braceExpression):r===Ex.j_expr?this.state.context.push(Ex.templateQuasi):e.prototype.updateContext.call(this,t),this.state.exprAllowed=!0}else{if(!this.match(Zb.slash)||t!==Zb.jsxTagStart)return e.prototype.updateContext.call(this,t);this.state.context.length-=2,this.state.context.push(Ex.j_cTag),this.state.exprAllowed=!1}},t}(e)},flow:function(e){return function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).flowPragma=void 0,n.flowPragma=void 0,n}f(t,e);var r=t.prototype;return r.shouldParseTypes=function(){return this.getPluginOption("flow","all")||"flow"===this.flowPragma},r.shouldParseEnums=function(){return!!this.getPluginOption("flow","enums")},r.finishToken=function(t,r){return t!==Zb.string&&t!==Zb.semi&&t!==Zb.interpreterDirective&&void 0===this.flowPragma&&(this.flowPragma=null),e.prototype.finishToken.call(this,t,r)},r.addComment=function(t){if(void 0===this.flowPragma){var r=kx.exec(t.value);if(r)if("flow"===r[1])this.flowPragma="flow";else{if("noflow"!==r[1])throw new Error("Unexpected flow pragma");this.flowPragma="noflow"}else;}return e.prototype.addComment.call(this,t)},r.flowParseTypeInitialiser=function(e){var t=this.state.inType;this.state.inType=!0,this.expect(e||Zb.colon);var r=this.flowParseType();return this.state.inType=t,r},r.flowParsePredicate=function(){var e=this.startNode(),t=this.state.startLoc,r=this.state.start;this.expect(Zb.modulo);var n=this.state.startLoc;return this.expectContextual("checks"),t.line===n.line&&t.column===n.column-1||this.raise(r,Tx.UnexpectedSpaceBetweenModuloChecks),this.eat(Zb.parenL)?(e.value=this.parseExpression(),this.expect(Zb.parenR),this.finishNode(e,"DeclaredPredicate")):this.finishNode(e,"InferredPredicate")},r.flowParseTypeAndPredicateInitialiser=function(){var e=this.state.inType;this.state.inType=!0,this.expect(Zb.colon);var t=null,r=null;return this.match(Zb.modulo)?(this.state.inType=e,r=this.flowParsePredicate()):(t=this.flowParseType(),this.state.inType=e,this.match(Zb.modulo)&&(r=this.flowParsePredicate())),[t,r]},r.flowParseDeclareClass=function(e){return this.next(),this.flowParseInterfaceish(e,!0),this.finishNode(e,"DeclareClass")},r.flowParseDeclareFunction=function(e){this.next();var t=e.id=this.parseIdentifier(),r=this.startNode(),n=this.startNode();this.isRelational("<")?r.typeParameters=this.flowParseTypeParameterDeclaration():r.typeParameters=null,this.expect(Zb.parenL);var a=this.flowParseFunctionTypeParams();r.params=a.params,r.rest=a.rest,this.expect(Zb.parenR);var s=this.flowParseTypeAndPredicateInitialiser();return r.returnType=s[0],e.predicate=s[1],n.typeAnnotation=this.finishNode(r,"FunctionTypeAnnotation"),t.typeAnnotation=this.finishNode(n,"TypeAnnotation"),this.resetEndLocation(t),this.semicolon(),this.finishNode(e,"DeclareFunction")},r.flowParseDeclare=function(e,t){if(this.match(Zb._class))return this.flowParseDeclareClass(e);if(this.match(Zb._function))return this.flowParseDeclareFunction(e);if(this.match(Zb._var))return this.flowParseDeclareVariable(e);if(this.eatContextual("module"))return this.match(Zb.dot)?this.flowParseDeclareModuleExports(e):(t&&this.raise(this.state.lastTokStart,Tx.NestedDeclareModule),this.flowParseDeclareModule(e));if(this.isContextual("type"))return this.flowParseDeclareTypeAlias(e);if(this.isContextual("opaque"))return this.flowParseDeclareOpaqueType(e);if(this.isContextual("interface"))return this.flowParseDeclareInterface(e);if(this.match(Zb._export))return this.flowParseDeclareExportDeclaration(e,t);throw this.unexpected()},r.flowParseDeclareVariable=function(e){return this.next(),e.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(e.id.name,5,e.id.start),this.semicolon(),this.finishNode(e,"DeclareVariable")},r.flowParseDeclareModule=function(e){var t=this;this.scope.enter(0),this.match(Zb.string)?e.id=this.parseExprAtom():e.id=this.parseIdentifier();var r=e.body=this.startNode(),n=r.body=[];for(this.expect(Zb.braceL);!this.match(Zb.braceR);){var a=this.startNode();this.match(Zb._import)?(this.next(),this.isContextual("type")||this.match(Zb._typeof)||this.raise(this.state.lastTokStart,Tx.InvalidNonTypeImportInDeclareModule),this.parseImport(a)):(this.expectContextual("declare",Tx.UnsupportedStatementInDeclareModule),a=this.flowParseDeclare(a,!0)),n.push(a)}this.scope.exit(),this.expect(Zb.braceR),this.finishNode(r,"BlockStatement");var s=null,i=!1;return n.forEach(function(e){!function(e){return"DeclareExportAllDeclaration"===e.type||"DeclareExportDeclaration"===e.type&&(!e.declaration||"TypeAlias"!==e.declaration.type&&"InterfaceDeclaration"!==e.declaration.type)}(e)?"DeclareModuleExports"===e.type&&(i&&t.raise(e.start,Tx.DuplicateDeclareModuleExports),"ES"===s&&t.raise(e.start,Tx.AmbiguousDeclareModuleKind),s="CommonJS",i=!0):("CommonJS"===s&&t.raise(e.start,Tx.AmbiguousDeclareModuleKind),s="ES")}),e.kind=s||"CommonJS",this.finishNode(e,"DeclareModule")},r.flowParseDeclareExportDeclaration=function(e,t){if(this.expect(Zb._export),this.eat(Zb._default))return this.match(Zb._function)||this.match(Zb._class)?e.declaration=this.flowParseDeclare(this.startNode()):(e.declaration=this.flowParseType(),this.semicolon()),e.default=!0,this.finishNode(e,"DeclareExportDeclaration");if(this.match(Zb._const)||this.isLet()||(this.isContextual("type")||this.isContextual("interface"))&&!t){var r=this.state.value,n=Px[r];throw this.raise(this.state.start,Tx.UnsupportedDeclareExportKind,r,n)}if(this.match(Zb._var)||this.match(Zb._function)||this.match(Zb._class)||this.isContextual("opaque"))return e.declaration=this.flowParseDeclare(this.startNode()),e.default=!1,this.finishNode(e,"DeclareExportDeclaration");if(this.match(Zb.star)||this.match(Zb.braceL)||this.isContextual("interface")||this.isContextual("type")||this.isContextual("opaque"))return"ExportNamedDeclaration"===(e=this.parseExport(e)).type&&(e.type="ExportDeclaration",e.default=!1,delete e.exportKind),e.type="Declare"+e.type,e;throw this.unexpected()},r.flowParseDeclareModuleExports=function(e){return this.next(),this.expectContextual("exports"),e.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(e,"DeclareModuleExports")},r.flowParseDeclareTypeAlias=function(e){return this.next(),this.flowParseTypeAlias(e),e.type="DeclareTypeAlias",e},r.flowParseDeclareOpaqueType=function(e){return this.next(),this.flowParseOpaqueType(e,!0),e.type="DeclareOpaqueType",e},r.flowParseDeclareInterface=function(e){return this.next(),this.flowParseInterfaceish(e),this.finishNode(e,"DeclareInterface")},r.flowParseInterfaceish=function(e,t){if(void 0===t&&(t=!1),e.id=this.flowParseRestrictedIdentifier(!t,!0),this.scope.declareName(e.id.name,t?17:9,e.id.start),this.isRelational("<")?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.extends=[],e.implements=[],e.mixins=[],this.eat(Zb._extends))do{e.extends.push(this.flowParseInterfaceExtends())}while(!t&&this.eat(Zb.comma));if(this.isContextual("mixins")){this.next();do{e.mixins.push(this.flowParseInterfaceExtends())}while(this.eat(Zb.comma))}if(this.isContextual("implements")){this.next();do{e.implements.push(this.flowParseInterfaceExtends())}while(this.eat(Zb.comma))}e.body=this.flowParseObjectType({allowStatic:t,allowExact:!1,allowSpread:!1,allowProto:t,allowInexact:!1})},r.flowParseInterfaceExtends=function(){var e=this.startNode();return e.id=this.flowParseQualifiedTypeIdentifier(),this.isRelational("<")?e.typeParameters=this.flowParseTypeParameterInstantiation():e.typeParameters=null,this.finishNode(e,"InterfaceExtends")},r.flowParseInterface=function(e){return this.flowParseInterfaceish(e),this.finishNode(e,"InterfaceDeclaration")},r.checkNotUnderscore=function(e){"_"===e&&this.raise(this.state.start,Tx.UnexpectedReservedUnderscore)},r.checkReservedType=function(e,t,r){Sx.has(e)&&this.raise(t,r?Tx.AssignReservedType:Tx.UnexpectedReservedType,e)},r.flowParseRestrictedIdentifier=function(e,t){return this.checkReservedType(this.state.value,this.state.start,t),this.parseIdentifier(e)},r.flowParseTypeAlias=function(e){return e.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(e.id.name,9,e.id.start),this.isRelational("<")?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.right=this.flowParseTypeInitialiser(Zb.eq),this.semicolon(),this.finishNode(e,"TypeAlias")},r.flowParseOpaqueType=function(e,t){return this.expectContextual("type"),e.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(e.id.name,9,e.id.start),this.isRelational("<")?e.typeParameters=this.flowParseTypeParameterDeclaration():e.typeParameters=null,e.supertype=null,this.match(Zb.colon)&&(e.supertype=this.flowParseTypeInitialiser(Zb.colon)),e.impltype=null,t||(e.impltype=this.flowParseTypeInitialiser(Zb.eq)),this.semicolon(),this.finishNode(e,"OpaqueType")},r.flowParseTypeParameter=function(e){void 0===e&&(e=!1);var t=this.state.start,r=this.startNode(),n=this.flowParseVariance(),a=this.flowParseTypeAnnotatableIdentifier();return r.name=a.name,r.variance=n,r.bound=a.typeAnnotation,this.match(Zb.eq)?(this.eat(Zb.eq),r.default=this.flowParseType()):e&&this.raise(t,Tx.MissingTypeParamDefault),this.finishNode(r,"TypeParameter")},r.flowParseTypeParameterDeclaration=function(){var e=this.state.inType,t=this.startNode();t.params=[],this.state.inType=!0,this.isRelational("<")||this.match(Zb.jsxTagStart)?this.next():this.unexpected();var r=!1;do{var n=this.flowParseTypeParameter(r);t.params.push(n),n.default&&(r=!0),this.isRelational(">")||this.expect(Zb.comma)}while(!this.isRelational(">"));return this.expectRelational(">"),this.state.inType=e,this.finishNode(t,"TypeParameterDeclaration")},r.flowParseTypeParameterInstantiation=function(){var e=this.startNode(),t=this.state.inType;e.params=[],this.state.inType=!0,this.expectRelational("<");var r=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.isRelational(">");)e.params.push(this.flowParseType()),this.isRelational(">")||this.expect(Zb.comma);return this.state.noAnonFunctionType=r,this.expectRelational(">"),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")},r.flowParseTypeParameterInstantiationCallOrNew=function(){var e=this.startNode(),t=this.state.inType;for(e.params=[],this.state.inType=!0,
this.expectRelational("<");!this.isRelational(">");)e.params.push(this.flowParseTypeOrImplicitInstantiation()),this.isRelational(">")||this.expect(Zb.comma);return this.expectRelational(">"),this.state.inType=t,this.finishNode(e,"TypeParameterInstantiation")},r.flowParseInterfaceType=function(){var e=this.startNode();if(this.expectContextual("interface"),e.extends=[],this.eat(Zb._extends))do{e.extends.push(this.flowParseInterfaceExtends())}while(this.eat(Zb.comma));return e.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(e,"InterfaceTypeAnnotation")},r.flowParseObjectPropertyKey=function(){return this.match(Zb.num)||this.match(Zb.string)?this.parseExprAtom():this.parseIdentifier(!0)},r.flowParseObjectTypeIndexer=function(e,t,r){return e.static=t,this.lookahead().type===Zb.colon?(e.id=this.flowParseObjectPropertyKey(),e.key=this.flowParseTypeInitialiser()):(e.id=null,e.key=this.flowParseType()),this.expect(Zb.bracketR),e.value=this.flowParseTypeInitialiser(),e.variance=r,this.finishNode(e,"ObjectTypeIndexer")},r.flowParseObjectTypeInternalSlot=function(e,t){return e.static=t,e.id=this.flowParseObjectPropertyKey(),this.expect(Zb.bracketR),this.expect(Zb.bracketR),this.isRelational("<")||this.match(Zb.parenL)?(e.method=!0,e.optional=!1,e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.start,e.loc.start))):(e.method=!1,this.eat(Zb.question)&&(e.optional=!0),e.value=this.flowParseTypeInitialiser()),this.finishNode(e,"ObjectTypeInternalSlot")},r.flowParseObjectTypeMethodish=function(e){for(e.params=[],e.rest=null,e.typeParameters=null,this.isRelational("<")&&(e.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(Zb.parenL);!this.match(Zb.parenR)&&!this.match(Zb.ellipsis);)e.params.push(this.flowParseFunctionTypeParam()),this.match(Zb.parenR)||this.expect(Zb.comma);return this.eat(Zb.ellipsis)&&(e.rest=this.flowParseFunctionTypeParam()),this.expect(Zb.parenR),e.returnType=this.flowParseTypeInitialiser(),this.finishNode(e,"FunctionTypeAnnotation")},r.flowParseObjectTypeCallProperty=function(e,t){var r=this.startNode();return e.static=t,e.value=this.flowParseObjectTypeMethodish(r),this.finishNode(e,"ObjectTypeCallProperty")},r.flowParseObjectType=function(e){var t=e.allowStatic,r=e.allowExact,n=e.allowSpread,a=e.allowProto,s=e.allowInexact,i=this.state.inType;this.state.inType=!0;var o,l,c=this.startNode();c.callProperties=[],c.properties=[],c.indexers=[],c.internalSlots=[];var u=!1;for(r&&this.match(Zb.braceBarL)?(this.expect(Zb.braceBarL),o=Zb.braceBarR,l=!0):(this.expect(Zb.braceL),o=Zb.braceR,l=!1),c.exact=l;!this.match(o);){var p=!1,d=null,f=null,h=this.startNode();if(a&&this.isContextual("proto")){var m=this.lookahead();m.type!==Zb.colon&&m.type!==Zb.question&&(this.next(),d=this.state.start,t=!1)}if(t&&this.isContextual("static")){var y=this.lookahead();y.type!==Zb.colon&&y.type!==Zb.question&&(this.next(),p=!0)}var g=this.flowParseVariance();if(this.eat(Zb.bracketL))null!=d&&this.unexpected(d),this.eat(Zb.bracketL)?(g&&this.unexpected(g.start),c.internalSlots.push(this.flowParseObjectTypeInternalSlot(h,p))):c.indexers.push(this.flowParseObjectTypeIndexer(h,p,g));else if(this.match(Zb.parenL)||this.isRelational("<"))null!=d&&this.unexpected(d),g&&this.unexpected(g.start),c.callProperties.push(this.flowParseObjectTypeCallProperty(h,p));else{var v="init";if(this.isContextual("get")||this.isContextual("set")){var b=this.lookahead();b.type!==Zb.name&&b.type!==Zb.string&&b.type!==Zb.num||(v=this.state.value,this.next())}var x=this.flowParseObjectTypeProperty(h,p,d,g,v,n,null!=s?s:!l);null===x?(u=!0,f=this.state.lastTokStart):c.properties.push(x)}this.flowObjectTypeSemicolon(),!f||this.match(Zb.braceR)||this.match(Zb.braceBarR)||this.raise(f,Tx.UnexpectedExplicitInexactInObject)}this.expect(o),n&&(c.inexact=u);var E=this.finishNode(c,"ObjectTypeAnnotation");return this.state.inType=i,E},r.flowParseObjectTypeProperty=function(e,t,r,n,a,s,i){if(this.eat(Zb.ellipsis))return this.match(Zb.comma)||this.match(Zb.semi)||this.match(Zb.braceR)||this.match(Zb.braceBarR)?(s?i||this.raise(this.state.lastTokStart,Tx.InexactInsideExact):this.raise(this.state.lastTokStart,Tx.InexactInsideNonObject),n&&this.raise(n.start,Tx.InexactVariance),null):(s||this.raise(this.state.lastTokStart,Tx.UnexpectedSpreadType),null!=r&&this.unexpected(r),n&&this.raise(n.start,Tx.SpreadVariance),e.argument=this.flowParseType(),this.finishNode(e,"ObjectTypeSpreadProperty"));e.key=this.flowParseObjectPropertyKey(),e.static=t,e.proto=null!=r,e.kind=a;var o=!1;return this.isRelational("<")||this.match(Zb.parenL)?(e.method=!0,null!=r&&this.unexpected(r),n&&this.unexpected(n.start),e.value=this.flowParseObjectTypeMethodish(this.startNodeAt(e.start,e.loc.start)),"get"!==a&&"set"!==a||this.flowCheckGetterSetterParams(e)):("init"!==a&&this.unexpected(),e.method=!1,this.eat(Zb.question)&&(o=!0),e.value=this.flowParseTypeInitialiser(),e.variance=n),e.optional=o,this.finishNode(e,"ObjectTypeProperty")},r.flowCheckGetterSetterParams=function(e){var t="get"===e.kind?0:1,r=e.start;e.value.params.length+(e.value.rest?1:0)!==t&&("get"===e.kind?this.raise(r,gx.BadGetterArity):this.raise(r,gx.BadSetterArity)),"set"===e.kind&&e.value.rest&&this.raise(r,gx.BadSetterRestParameter)},r.flowObjectTypeSemicolon=function(){this.eat(Zb.semi)||this.eat(Zb.comma)||this.match(Zb.braceR)||this.match(Zb.braceBarR)||this.unexpected()},r.flowParseQualifiedTypeIdentifier=function(e,t,r){e=e||this.state.start,t=t||this.state.startLoc;for(var n=r||this.flowParseRestrictedIdentifier(!0);this.eat(Zb.dot);){var a=this.startNodeAt(e,t);a.qualification=n,a.id=this.flowParseRestrictedIdentifier(!0),n=this.finishNode(a,"QualifiedTypeIdentifier")}return n},r.flowParseGenericType=function(e,t,r){var n=this.startNodeAt(e,t);return n.typeParameters=null,n.id=this.flowParseQualifiedTypeIdentifier(e,t,r),this.isRelational("<")&&(n.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(n,"GenericTypeAnnotation")},r.flowParseTypeofType=function(){var e=this.startNode();return this.expect(Zb._typeof),e.argument=this.flowParsePrimaryType(),this.finishNode(e,"TypeofTypeAnnotation")},r.flowParseTupleType=function(){var e=this.startNode();for(e.types=[],this.expect(Zb.bracketL);this.state.pos<this.length&&!this.match(Zb.bracketR)&&(e.types.push(this.flowParseType()),!this.match(Zb.bracketR));)this.expect(Zb.comma);return this.expect(Zb.bracketR),this.finishNode(e,"TupleTypeAnnotation")},r.flowParseFunctionTypeParam=function(){var e=null,t=!1,r=null,n=this.startNode(),a=this.lookahead();return a.type===Zb.colon||a.type===Zb.question?(e=this.parseIdentifier(),this.eat(Zb.question)&&(t=!0),r=this.flowParseTypeInitialiser()):r=this.flowParseType(),n.name=e,n.optional=t,n.typeAnnotation=r,this.finishNode(n,"FunctionTypeParam")},r.reinterpretTypeAsFunctionTypeParam=function(e){var t=this.startNodeAt(e.start,e.loc.start);return t.name=null,t.optional=!1,t.typeAnnotation=e,this.finishNode(t,"FunctionTypeParam")},r.flowParseFunctionTypeParams=function(e){void 0===e&&(e=[]);for(var t=null;!this.match(Zb.parenR)&&!this.match(Zb.ellipsis);)e.push(this.flowParseFunctionTypeParam()),this.match(Zb.parenR)||this.expect(Zb.comma);return this.eat(Zb.ellipsis)&&(t=this.flowParseFunctionTypeParam()),{params:e,rest:t}},r.flowIdentToTypeAnnotation=function(e,t,r,n){switch(n.name){case"any":return this.finishNode(r,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(r,"BooleanTypeAnnotation");case"mixed":return this.finishNode(r,"MixedTypeAnnotation");case"empty":return this.finishNode(r,"EmptyTypeAnnotation");case"number":return this.finishNode(r,"NumberTypeAnnotation");case"string":return this.finishNode(r,"StringTypeAnnotation");case"symbol":return this.finishNode(r,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(n.name),this.flowParseGenericType(e,t,n)}},r.flowParsePrimaryType=function(){var t,r,n=this.state.start,a=this.state.startLoc,s=this.startNode(),i=!1,o=this.state.noAnonFunctionType;switch(this.state.type){case Zb.name:return this.isContextual("interface")?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(n,a,s,this.parseIdentifier());case Zb.braceL:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case Zb.braceBarL:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case Zb.bracketL:return this.state.noAnonFunctionType=!1,r=this.flowParseTupleType(),this.state.noAnonFunctionType=o,r;case Zb.relational:if("<"===this.state.value)return s.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(Zb.parenL),t=this.flowParseFunctionTypeParams(),s.params=t.params,s.rest=t.rest,this.expect(Zb.parenR),this.expect(Zb.arrow),s.returnType=this.flowParseType(),this.finishNode(s,"FunctionTypeAnnotation");break;case Zb.parenL:if(this.next(),!this.match(Zb.parenR)&&!this.match(Zb.ellipsis))if(this.match(Zb.name)){var l=this.lookahead().type;i=l!==Zb.question&&l!==Zb.colon}else i=!0;if(i){if(this.state.noAnonFunctionType=!1,r=this.flowParseType(),this.state.noAnonFunctionType=o,this.state.noAnonFunctionType||!(this.match(Zb.comma)||this.match(Zb.parenR)&&this.lookahead().type===Zb.arrow))return this.expect(Zb.parenR),r;this.eat(Zb.comma)}return t=r?this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(r)]):this.flowParseFunctionTypeParams(),s.params=t.params,s.rest=t.rest,this.expect(Zb.parenR),this.expect(Zb.arrow),s.returnType=this.flowParseType(),s.typeParameters=null,this.finishNode(s,"FunctionTypeAnnotation");case Zb.string:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case Zb._true:case Zb._false:return s.value=this.match(Zb._true),this.next(),this.finishNode(s,"BooleanLiteralTypeAnnotation");case Zb.plusMin:if("-"===this.state.value){if(this.next(),this.match(Zb.num))return this.parseLiteral(-this.state.value,"NumberLiteralTypeAnnotation",s.start,s.loc.start);if(this.match(Zb.bigint))return this.parseLiteral(-this.state.value,"BigIntLiteralTypeAnnotation",s.start,s.loc.start);throw this.raise(this.state.start,Tx.UnexpectedSubtractionOperand)}throw this.unexpected();case Zb.num:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case Zb.bigint:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case Zb._void:return this.next(),this.finishNode(s,"VoidTypeAnnotation");case Zb._null:return this.next(),this.finishNode(s,"NullLiteralTypeAnnotation");case Zb._this:return this.next(),this.finishNode(s,"ThisTypeAnnotation");case Zb.star:return this.next(),this.finishNode(s,"ExistsTypeAnnotation");default:if("typeof"===this.state.type.keyword)return this.flowParseTypeofType();if(this.state.type.keyword){var c=this.state.type.label;return this.next(),e.prototype.createIdentifier.call(this,s,c)}}throw this.unexpected()},r.flowParsePostfixType=function(){for(var e=this.state.start,t=this.state.startLoc,r=this.flowParsePrimaryType();this.match(Zb.bracketL)&&!this.canInsertSemicolon();){var n=this.startNodeAt(e,t);n.elementType=r,this.expect(Zb.bracketL),this.expect(Zb.bracketR),r=this.finishNode(n,"ArrayTypeAnnotation")}return r},r.flowParsePrefixType=function(){var e=this.startNode();return this.eat(Zb.question)?(e.typeAnnotation=this.flowParsePrefixType(),this.finishNode(e,"NullableTypeAnnotation")):this.flowParsePostfixType()},r.flowParseAnonFunctionWithoutParens=function(){var e=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(Zb.arrow)){var t=this.startNodeAt(e.start,e.loc.start);return t.params=[this.reinterpretTypeAsFunctionTypeParam(e)],t.rest=null,t.returnType=this.flowParseType(),t.typeParameters=null,this.finishNode(t,"FunctionTypeAnnotation")}return e},r.flowParseIntersectionType=function(){var e=this.startNode();this.eat(Zb.bitwiseAND);var t=this.flowParseAnonFunctionWithoutParens();for(e.types=[t];this.eat(Zb.bitwiseAND);)e.types.push(this.flowParseAnonFunctionWithoutParens());return 1===e.types.length?t:this.finishNode(e,"IntersectionTypeAnnotation")},r.flowParseUnionType=function(){var e=this.startNode();this.eat(Zb.bitwiseOR);var t=this.flowParseIntersectionType();for(e.types=[t];this.eat(Zb.bitwiseOR);)e.types.push(this.flowParseIntersectionType());return 1===e.types.length?t:this.finishNode(e,"UnionTypeAnnotation")},r.flowParseType=function(){var e=this.state.inType;this.state.inType=!0;var t=this.flowParseUnionType();return this.state.inType=e,this.state.exprAllowed=this.state.exprAllowed||this.state.noAnonFunctionType,t},r.flowParseTypeOrImplicitInstantiation=function(){if(this.state.type===Zb.name&&"_"===this.state.value){var e=this.state.start,t=this.state.startLoc,r=this.parseIdentifier();return this.flowParseGenericType(e,t,r)}return this.flowParseType()},r.flowParseTypeAnnotation=function(){var e=this.startNode();return e.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(e,"TypeAnnotation")},r.flowParseTypeAnnotatableIdentifier=function(e){var t=e?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(Zb.colon)&&(t.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t)),t},r.typeCastToParameter=function(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.end,e.typeAnnotation.loc.end),e.expression},r.flowParseVariance=function(){var e=null;return this.match(Zb.plusMin)&&(e=this.startNode(),"+"===this.state.value?e.kind="plus":e.kind="minus",this.next(),this.finishNode(e,"Variance")),e},r.parseFunctionBody=function(t,r,n){var a=this;return void 0===n&&(n=!1),r?this.forwardNoArrowParamsConversionAt(t,function(){return e.prototype.parseFunctionBody.call(a,t,!0,n)}):e.prototype.parseFunctionBody.call(this,t,!1,n)},r.parseFunctionBodyAndFinish=function(t,r,n){if(void 0===n&&(n=!1),this.match(Zb.colon)){var a=this.startNode(),s=this.flowParseTypeAndPredicateInitialiser();a.typeAnnotation=s[0],t.predicate=s[1],t.returnType=a.typeAnnotation?this.finishNode(a,"TypeAnnotation"):null}e.prototype.parseFunctionBodyAndFinish.call(this,t,r,n)},r.parseStatement=function(t,r){if(this.state.strict&&this.match(Zb.name)&&"interface"===this.state.value){var n=this.startNode();return this.next(),this.flowParseInterface(n)}if(this.shouldParseEnums()&&this.isContextual("enum")){var a=this.startNode();return this.next(),this.flowParseEnumDeclaration(a)}var s=e.prototype.parseStatement.call(this,t,r);return void 0!==this.flowPragma||this.isValidDirective(s)||(this.flowPragma=null),s},r.parseExpressionStatement=function(t,r){if("Identifier"===r.type)if("declare"===r.name){if(this.match(Zb._class)||this.match(Zb.name)||this.match(Zb._function)||this.match(Zb._var)||this.match(Zb._export))return this.flowParseDeclare(t)}else if(this.match(Zb.name)){if("interface"===r.name)return this.flowParseInterface(t);if("type"===r.name)return this.flowParseTypeAlias(t);if("opaque"===r.name)return this.flowParseOpaqueType(t,!1)}return e.prototype.parseExpressionStatement.call(this,t,r)},r.shouldParseExportDeclaration=function(){return this.isContextual("type")||this.isContextual("interface")||this.isContextual("opaque")||this.shouldParseEnums()&&this.isContextual("enum")||e.prototype.shouldParseExportDeclaration.call(this)},r.isExportDefaultSpecifier=function(){return(!this.match(Zb.name)||!("type"===this.state.value||"interface"===this.state.value||"opaque"===this.state.value||this.shouldParseEnums()&&"enum"===this.state.value))&&e.prototype.isExportDefaultSpecifier.call(this)},r.parseExportDefaultExpression=function(){if(this.shouldParseEnums()&&this.isContextual("enum")){var t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return e.prototype.parseExportDefaultExpression.call(this)},r.parseConditional=function(t,r,n,a){var s=this;if(!this.match(Zb.question))return t;if(a){var i=this.tryParse(function(){return e.prototype.parseConditional.call(s,t,r,n)});return i.node?(i.error&&(this.state=i.failState),i.node):(a.start=i.error.pos||this.state.start,t)}this.expect(Zb.question);var o=this.state.clone(),l=this.state.noArrowAt,c=this.startNodeAt(r,n),u=this.tryParseConditionalConsequent(),p=u.consequent,d=u.failed,f=this.getArrowLikeExpressions(p),h=f[0],m=f[1];if(d||m.length>0){var y=[].concat(l);if(m.length>0){this.state=o,this.state.noArrowAt=y;for(var g=0;g<m.length;g++)y.push(m[g].start);var v=this.tryParseConditionalConsequent();p=v.consequent,d=v.failed;var b=this.getArrowLikeExpressions(p);h=b[0],m=b[1]}if(d&&h.length>1&&this.raise(o.start,Tx.AmbiguousConditionalArrow),d&&1===h.length){this.state=o,this.state.noArrowAt=y.concat(h[0].start);var x=this.tryParseConditionalConsequent();p=x.consequent,d=x.failed}}return this.getArrowLikeExpressions(p,!0),this.state.noArrowAt=l,this.expect(Zb.colon),c.test=t,c.consequent=p,c.alternate=this.forwardNoArrowParamsConversionAt(c,function(){return s.parseMaybeAssign(void 0,void 0,void 0)}),this.finishNode(c,"ConditionalExpression")},r.tryParseConditionalConsequent=function(){this.state.noArrowParamsConversionAt.push(this.state.start);var e=this.parseMaybeAssignAllowIn(),t=!this.match(Zb.colon);return this.state.noArrowParamsConversionAt.pop(),{consequent:e,failed:t}},r.getArrowLikeExpressions=function(e,t){for(var r=this,n=[e],a=[];0!==n.length;){var s=n.pop();"ArrowFunctionExpression"===s.type?(s.typeParameters||!s.returnType?this.finishArrowValidation(s):a.push(s),n.push(s.body)):"ConditionalExpression"===s.type&&(n.push(s.consequent),n.push(s.alternate))}return t?(a.forEach(function(e){return r.finishArrowValidation(e)}),[a,[]]):function(e,t){for(var r=[],n=[],a=0;a<e.length;a++)(t(e[a],a,e)?r:n).push(e[a]);return[r,n]}(a,function(e){return e.params.every(function(e){return r.isAssignable(e,!0)})})},r.finishArrowValidation=function(t){var r;this.toAssignableList(t.params,null==(r=t.extra)?void 0:r.trailingComma),this.scope.enter(6),e.prototype.checkParams.call(this,t,!1,!0),this.scope.exit()},r.forwardNoArrowParamsConversionAt=function(e,t){var r;return-1!==this.state.noArrowParamsConversionAt.indexOf(e.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),r=t(),this.state.noArrowParamsConversionAt.pop()):r=t(),r},r.parseParenItem=function(t,r,n){if(t=e.prototype.parseParenItem.call(this,t,r,n),this.eat(Zb.question)&&(t.optional=!0,this.resetEndLocation(t)),this.match(Zb.colon)){var a=this.startNodeAt(r,n);return a.expression=t,a.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(a,"TypeCastExpression")}return t},r.assertModuleNodeAllowed=function(t){"ImportDeclaration"===t.type&&("type"===t.importKind||"typeof"===t.importKind)||"ExportNamedDeclaration"===t.type&&"type"===t.exportKind||"ExportAllDeclaration"===t.type&&"type"===t.exportKind||e.prototype.assertModuleNodeAllowed.call(this,t)},r.parseExport=function(t){var r=e.prototype.parseExport.call(this,t);return"ExportNamedDeclaration"!==r.type&&"ExportAllDeclaration"!==r.type||(r.exportKind=r.exportKind||"value"),r},r.parseExportDeclaration=function(t){if(this.isContextual("type")){t.exportKind="type";var r=this.startNode();return this.next(),this.match(Zb.braceL)?(t.specifiers=this.parseExportSpecifiers(),this.parseExportFrom(t),null):this.flowParseTypeAlias(r)}if(this.isContextual("opaque")){t.exportKind="type";var n=this.startNode();return this.next(),this.flowParseOpaqueType(n,!1)}if(this.isContextual("interface")){t.exportKind="type";var a=this.startNode();return this.next(),this.flowParseInterface(a)}if(this.shouldParseEnums()&&this.isContextual("enum")){t.exportKind="value";var s=this.startNode();return this.next(),this.flowParseEnumDeclaration(s)}return e.prototype.parseExportDeclaration.call(this,t)},r.eatExportStar=function(t){return!!e.prototype.eatExportStar.apply(this,arguments)||!(!this.isContextual("type")||this.lookahead().type!==Zb.star)&&(t.exportKind="type",this.next(),this.next(),!0)},r.maybeParseExportNamespaceSpecifier=function(t){var r=this.state.start,n=e.prototype.maybeParseExportNamespaceSpecifier.call(this,t);return n&&"type"===t.exportKind&&this.unexpected(r),n},r.parseClassId=function(t,r,n){e.prototype.parseClassId.call(this,t,r,n),this.isRelational("<")&&(t.typeParameters=this.flowParseTypeParameterDeclaration())},r.parseClassMember=function(t,r,n){var a=this.state.start;if(this.isContextual("declare")){if(this.parseClassMemberFromModifier(t,r))return;r.declare=!0}e.prototype.parseClassMember.call(this,t,r,n),r.declare&&("ClassProperty"!==r.type&&"ClassPrivateProperty"!==r.type?this.raise(a,Tx.DeclareClassElement):r.value&&this.raise(r.value.start,Tx.DeclareClassFieldInitializer))},r.getTokenFromCode=function(t){var r=this.input.charCodeAt(this.state.pos+1);return 123===t&&124===r?this.finishOp(Zb.braceBarL,2):!this.state.inType||62!==t&&60!==t?this.state.inType&&63===t?this.finishOp(Zb.question,1):function(e,t){return 64===e&&64===t}(t,r)?(this.state.isIterator=!0,e.prototype.readWord.call(this)):e.prototype.getTokenFromCode.call(this,t):this.finishOp(Zb.relational,1)},r.isAssignable=function(e,t){var r=this;switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":return!0;case"ObjectExpression":var n=e.properties.length-1;return e.properties.every(function(e,t){return"ObjectMethod"!==e.type&&(t===n||"SpreadElement"===e.type)&&r.isAssignable(e)});case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every(function(e){return r.isAssignable(e)});case"AssignmentExpression":return"="===e.operator;case"ParenthesizedExpression":case"TypeCastExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}},r.toAssignable=function(t){return"TypeCastExpression"===t.type?e.prototype.toAssignable.call(this,this.typeCastToParameter(t)):e.prototype.toAssignable.call(this,t)},r.toAssignableList=function(t,r){for(var n=0;n<t.length;n++){var a=t[n];"TypeCastExpression"===(null==a?void 0:a.type)&&(t[n]=this.typeCastToParameter(a))}return e.prototype.toAssignableList.call(this,t,r)},r.toReferencedList=function(e,t){for(var r=0;r<e.length;r++){var n,a=e[r];a&&"TypeCastExpression"===a.type&&!(null==(n=a.extra)?void 0:n.parenthesized)&&(e.length>1||!t)&&this.raise(a.typeAnnotation.start,Tx.TypeCastInPattern)}return e},r.checkLVal=function(t,r,n,a){if(void 0===r&&(r=ox),"TypeCastExpression"!==t.type)return e.prototype.checkLVal.call(this,t,r,n,a)},r.parseClassProperty=function(t){return this.match(Zb.colon)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),e.prototype.parseClassProperty.call(this,t)},r.parseClassPrivateProperty=function(t){return this.match(Zb.colon)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),e.prototype.parseClassPrivateProperty.call(this,t)},r.isClassMethod=function(){return this.isRelational("<")||e.prototype.isClassMethod.call(this)},r.isClassProperty=function(){return this.match(Zb.colon)||e.prototype.isClassProperty.call(this)},r.isNonstaticConstructor=function(t){return!this.match(Zb.colon)&&e.prototype.isNonstaticConstructor.call(this,t)},r.pushClassMethod=function(t,r,n,a,s,i){r.variance&&this.unexpected(r.variance.start),delete r.variance,this.isRelational("<")&&(r.typeParameters=this.flowParseTypeParameterDeclaration()),e.prototype.pushClassMethod.call(this,t,r,n,a,s,i)},r.pushClassPrivateMethod=function(t,r,n,a){r.variance&&this.unexpected(r.variance.start),delete r.variance,this.isRelational("<")&&(r.typeParameters=this.flowParseTypeParameterDeclaration()),e.prototype.pushClassPrivateMethod.call(this,t,r,n,a)},r.parseClassSuper=function(t){if(e.prototype.parseClassSuper.call(this,t),t.superClass&&this.isRelational("<")&&(t.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual("implements")){this.next();var r=t.implements=[];do{var n=this.startNode();n.id=this.flowParseRestrictedIdentifier(!0),this.isRelational("<")?n.typeParameters=this.flowParseTypeParameterInstantiation():n.typeParameters=null,r.push(this.finishNode(n,"ClassImplements"))}while(this.eat(Zb.comma))}},r.parsePropertyName=function(t,r){var n=this.flowParseVariance(),a=e.prototype.parsePropertyName.call(this,t,r);return t.variance=n,a},r.parseObjPropValue=function(t,r,n,a,s,i,o,l){var c;t.variance&&this.unexpected(t.variance.start),delete t.variance,this.isRelational("<")&&!o&&(c=this.flowParseTypeParameterDeclaration(),this.match(Zb.parenL)||this.unexpected()),e.prototype.parseObjPropValue.call(this,t,r,n,a,s,i,o,l),c&&((t.value||t).typeParameters=c)},r.parseAssignableListItemTypes=function(e){return this.eat(Zb.question)&&("Identifier"!==e.type&&this.raise(e.start,Tx.OptionalBindingPattern),e.optional=!0),this.match(Zb.colon)&&(e.typeAnnotation=this.flowParseTypeAnnotation()),this.resetEndLocation(e),e},r.parseMaybeDefault=function(t,r,n){var a=e.prototype.parseMaybeDefault.call(this,t,r,n);return"AssignmentPattern"===a.type&&a.typeAnnotation&&a.right.start<a.typeAnnotation.start&&this.raise(a.typeAnnotation.start,Tx.TypeBeforeInitializer),a},r.shouldParseDefaultImport=function(t){return jx(t)?Ax(this.state):e.prototype.shouldParseDefaultImport.call(this,t)},r.parseImportSpecifierLocal=function(e,t,r,n){t.local=jx(e)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),this.checkLVal(t.local,9,void 0,n),e.specifiers.push(this.finishNode(t,r))},r.maybeParseDefaultImportSpecifier=function(t){t.importKind="value";var r=null;if(this.match(Zb._typeof)?r="typeof":this.isContextual("type")&&(r="type"),r){var n=this.lookahead();"type"===r&&n.type===Zb.star&&this.unexpected(n.start),(Ax(n)||n.type===Zb.braceL||n.type===Zb.star)&&(this.next(),t.importKind=r)}return e.prototype.maybeParseDefaultImportSpecifier.call(this,t)},r.parseImportSpecifier=function(e){var t=this.startNode(),r=this.state.start,n=this.parseIdentifier(!0),a=null;"type"===n.name?a="type":"typeof"===n.name&&(a="typeof");var s=!1;if(this.isContextual("as")&&!this.isLookaheadContextual("as")){var i=this.parseIdentifier(!0);null===a||this.match(Zb.name)||this.state.type.keyword?(t.imported=n,t.importKind=null,t.local=this.parseIdentifier()):(t.imported=i,t.importKind=a,t.local=i.__clone())}else null!==a&&(this.match(Zb.name)||this.state.type.keyword)?(t.imported=this.parseIdentifier(!0),t.importKind=a,this.eatContextual("as")?t.local=this.parseIdentifier():(s=!0,t.local=t.imported.__clone())):(s=!0,t.imported=n,t.importKind=null,t.local=t.imported.__clone());var o=jx(e),l=jx(t);o&&l&&this.raise(r,Tx.ImportTypeShorthandOnlyInPureImport),(o||l)&&this.checkReservedType(t.local.name,t.local.start,!0),!s||o||l||this.checkReservedWord(t.local.name,t.start,!0,!0),this.checkLVal(t.local,9,void 0,"import specifier"),e.specifiers.push(this.finishNode(t,"ImportSpecifier"))},r.parseFunctionParams=function(t,r){var n=t.kind;"get"!==n&&"set"!==n&&this.isRelational("<")&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),e.prototype.parseFunctionParams.call(this,t,r)},r.parseVarId=function(t,r){e.prototype.parseVarId.call(this,t,r),this.match(Zb.colon)&&(t.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t.id))},r.parseAsyncArrowFromCallExpression=function(t,r){if(this.match(Zb.colon)){var n=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,t.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=n}return e.prototype.parseAsyncArrowFromCallExpression.call(this,t,r)},r.shouldParseAsyncArrow=function(){return this.match(Zb.colon)||e.prototype.shouldParseAsyncArrow.call(this)},r.parseMaybeAssign=function(t,r,n){var a,s,i=this,o=null;if(this.hasPlugin("jsx")&&(this.match(Zb.jsxTagStart)||this.isRelational("<"))){if(o=this.state.clone(),!(s=this.tryParse(function(){return e.prototype.parseMaybeAssign.call(i,t,r,n)},o)).error)return s.node;var l=this.state.context;l[l.length-1]===Ex.j_oTag?l.length-=2:l[l.length-1]===Ex.j_expr&&(l.length-=1)}if((null==(a=s)?void 0:a.error)||this.isRelational("<")){var c,u,p;o=o||this.state.clone();var d=this.tryParse(function(a){var s;p=i.flowParseTypeParameterDeclaration();var o=i.forwardNoArrowParamsConversionAt(p,function(){var a=e.prototype.parseMaybeAssign.call(i,t,r,n);return i.resetStartLocationFromNode(a,p),a});"ArrowFunctionExpression"!==o.type&&(null==(s=o.extra)?void 0:s.parenthesized)&&a();var l=i.maybeUnwrapTypeCastExpression(o);return l.typeParameters=p,i.resetStartLocationFromNode(l,p),o},o),f=null;if(d.node&&"ArrowFunctionExpression"===this.maybeUnwrapTypeCastExpression(d.node).type){if(!d.error&&!d.aborted)return d.node.async&&this.raise(p.start,Tx.UnexpectedTypeParameterBeforeAsyncArrowFunction),d.node;f=d.node}if(null==(c=s)?void 0:c.node)return this.state=s.failState,s.node;if(f)return this.state=d.failState,f;if(null==(u=s)?void 0:u.thrown)throw s.error;if(d.thrown)throw d.error;throw this.raise(p.start,Tx.UnexpectedTokenAfterTypeParameter)}return e.prototype.parseMaybeAssign.call(this,t,r,n)},r.parseArrow=function(t){var r=this;if(this.match(Zb.colon)){var n=this.tryParse(function(){var e=r.state.noAnonFunctionType;r.state.noAnonFunctionType=!0;var n=r.startNode(),a=r.flowParseTypeAndPredicateInitialiser();return n.typeAnnotation=a[0],t.predicate=a[1],r.state.noAnonFunctionType=e,r.canInsertSemicolon()&&r.unexpected(),r.match(Zb.arrow)||r.unexpected(),n});if(n.thrown)return null;n.error&&(this.state=n.failState),t.returnType=n.node.typeAnnotation?this.finishNode(n.node,"TypeAnnotation"):null}return e.prototype.parseArrow.call(this,t)},r.shouldParseArrow=function(){return this.match(Zb.colon)||e.prototype.shouldParseArrow.call(this)},r.setArrowFunctionParameters=function(t,r){-1!==this.state.noArrowParamsConversionAt.indexOf(t.start)?t.params=r:e.prototype.setArrowFunctionParameters.call(this,t,r)},r.checkParams=function(t,r,n){if(!n||-1===this.state.noArrowParamsConversionAt.indexOf(t.start))return e.prototype.checkParams.apply(this,arguments)},r.parseParenAndDistinguishExpression=function(t){return e.prototype.parseParenAndDistinguishExpression.call(this,t&&-1===this.state.noArrowAt.indexOf(this.state.start))},r.parseSubscripts=function(t,r,n,a){var s=this;if("Identifier"===t.type&&"async"===t.name&&-1!==this.state.noArrowAt.indexOf(r)){this.next();var i=this.startNodeAt(r,n);i.callee=t,i.arguments=this.parseCallExpressionArguments(Zb.parenR,!1),t=this.finishNode(i,"CallExpression")}else if("Identifier"===t.type&&"async"===t.name&&this.isRelational("<")){var o=this.state.clone(),l=this.tryParse(function(e){return s.parseAsyncArrowWithTypeParameters(r,n)||e()},o);if(!l.error&&!l.aborted)return l.node;var c=this.tryParse(function(){return e.prototype.parseSubscripts.call(s,t,r,n,a)},o);if(c.node&&!c.error)return c.node;if(l.node)return this.state=l.failState,l.node;if(c.node)return this.state=c.failState,c.node;throw l.error||c.error}return e.prototype.parseSubscripts.call(this,t,r,n,a)},r.parseSubscript=function(t,r,n,a,s){var i=this;if(this.match(Zb.questionDot)&&this.isLookaheadToken_lt()){if(s.optionalChainMember=!0,a)return s.stop=!0,t;this.next();var o=this.startNodeAt(r,n);return o.callee=t,o.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(Zb.parenL),o.arguments=this.parseCallExpressionArguments(Zb.parenR,!1),o.optional=!0,this.finishCallExpression(o,!0)}if(!a&&this.shouldParseTypes()&&this.isRelational("<")){var l=this.startNodeAt(r,n);l.callee=t;var c=this.tryParse(function(){return l.typeArguments=i.flowParseTypeParameterInstantiationCallOrNew(),i.expect(Zb.parenL),l.arguments=i.parseCallExpressionArguments(Zb.parenR,!1),s.optionalChainMember&&(l.optional=!1),i.finishCallExpression(l,s.optionalChainMember)});if(c.node)return c.error&&(this.state=c.failState),c.node}return e.prototype.parseSubscript.call(this,t,r,n,a,s)},r.parseNewArguments=function(t){var r=this,n=null;this.shouldParseTypes()&&this.isRelational("<")&&(n=this.tryParse(function(){
return r.flowParseTypeParameterInstantiationCallOrNew()}).node),t.typeArguments=n,e.prototype.parseNewArguments.call(this,t)},r.parseAsyncArrowWithTypeParameters=function(e,t){var r=this.startNodeAt(e,t);if(this.parseFunctionParams(r),this.parseArrow(r))return this.parseArrowExpression(r,void 0,!0)},r.readToken_mult_modulo=function(t){var r=this.input.charCodeAt(this.state.pos+1);if(42===t&&47===r&&this.state.hasFlowComment)return this.state.hasFlowComment=!1,this.state.pos+=2,void this.nextToken();e.prototype.readToken_mult_modulo.call(this,t)},r.readToken_pipe_amp=function(t){var r=this.input.charCodeAt(this.state.pos+1);124!==t||125!==r?e.prototype.readToken_pipe_amp.call(this,t):this.finishOp(Zb.braceBarR,2)},r.parseTopLevel=function(t,r){var n=e.prototype.parseTopLevel.call(this,t,r);return this.state.hasFlowComment&&this.raise(this.state.pos,Tx.UnterminatedFlowComment),n},r.skipBlockComment=function(){if(this.hasPlugin("flowComments")&&this.skipFlowComment())return this.state.hasFlowComment&&this.unexpected(null,Tx.NestedFlowComment),this.hasFlowCommentCompletion(),this.state.pos+=this.skipFlowComment(),void(this.state.hasFlowComment=!0);if(this.state.hasFlowComment){var t=this.input.indexOf("*-/",this.state.pos+=2);if(-1===t)throw this.raise(this.state.pos-2,gx.UnterminatedComment);this.state.pos=t+3}else e.prototype.skipBlockComment.call(this)},r.skipFlowComment=function(){for(var e=this.state.pos,t=2;[32,9].includes(this.input.charCodeAt(e+t));)t++;var r=this.input.charCodeAt(t+e),n=this.input.charCodeAt(t+e+1);return 58===r&&58===n?t+2:"flow-include"===this.input.slice(t+e,t+e+12)?t+12:58===r&&58!==n&&t},r.hasFlowCommentCompletion=function(){if(-1===this.input.indexOf("*/",this.state.pos))throw this.raise(this.state.pos,gx.UnterminatedComment)},r.flowEnumErrorBooleanMemberNotInitialized=function(e,t){var r=t.enumName,n=t.memberName;this.raise(e,Tx.EnumBooleanMemberNotInitialized,n,r)},r.flowEnumErrorInvalidMemberName=function(e,t){var r=t.enumName,n=t.memberName,a=n[0].toUpperCase()+n.slice(1);this.raise(e,Tx.EnumInvalidMemberName,n,a,r)},r.flowEnumErrorDuplicateMemberName=function(e,t){var r=t.enumName,n=t.memberName;this.raise(e,Tx.EnumDuplicateMemberName,n,r)},r.flowEnumErrorInconsistentMemberValues=function(e,t){var r=t.enumName;this.raise(e,Tx.EnumInconsistentMemberValues,r)},r.flowEnumErrorInvalidExplicitType=function(e,t){var r=t.enumName,n=t.suppliedType;return this.raise(e,null===n?Tx.EnumInvalidExplicitTypeUnknownSupplied:Tx.EnumInvalidExplicitType,r,n)},r.flowEnumErrorInvalidMemberInitializer=function(e,t){var r=t.enumName,n=t.explicitType,a=t.memberName,s=null;switch(n){case"boolean":case"number":case"string":s=Tx.EnumInvalidMemberInitializerPrimaryType;break;case"symbol":s=Tx.EnumInvalidMemberInitializerSymbolType;break;default:s=Tx.EnumInvalidMemberInitializerUnknownType}return this.raise(e,s,r,a,n)},r.flowEnumErrorNumberMemberNotInitialized=function(e,t){var r=t.enumName,n=t.memberName;this.raise(e,Tx.EnumNumberMemberNotInitialized,r,n)},r.flowEnumErrorStringMemberInconsistentlyInitailized=function(e,t){var r=t.enumName;this.raise(e,Tx.EnumStringMemberInconsistentlyInitailized,r)},r.flowEnumMemberInit=function(){var e=this,t=this.state.start,r=function(){return e.match(Zb.comma)||e.match(Zb.braceR)};switch(this.state.type){case Zb.num:var n=this.parseLiteral(this.state.value,"NumericLiteral");return r()?{type:"number",pos:n.start,value:n}:{type:"invalid",pos:t};case Zb.string:var a=this.parseLiteral(this.state.value,"StringLiteral");return r()?{type:"string",pos:a.start,value:a}:{type:"invalid",pos:t};case Zb._true:case Zb._false:var s=this.parseBooleanLiteral();return r()?{type:"boolean",pos:s.start,value:s}:{type:"invalid",pos:t};default:return{type:"invalid",pos:t}}},r.flowEnumMemberRaw=function(){var e=this.state.start;return{id:this.parseIdentifier(!0),init:this.eat(Zb.eq)?this.flowEnumMemberInit():{type:"none",pos:e}}},r.flowEnumCheckExplicitTypeMismatch=function(e,t,r){var n=t.explicitType;null!==n&&n!==r&&this.flowEnumErrorInvalidMemberInitializer(e,t)},r.flowEnumMembers=function(e){for(var t=e.enumName,r=e.explicitType,n=new Set,a={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]};!this.match(Zb.braceR);){var s=this.startNode(),i=this.flowEnumMemberRaw(),o=i.id,l=i.init,c=o.name;if(""!==c){/^[a-z]/.test(c)&&this.flowEnumErrorInvalidMemberName(o.start,{enumName:t,memberName:c}),n.has(c)&&this.flowEnumErrorDuplicateMemberName(o.start,{enumName:t,memberName:c}),n.add(c);var u={enumName:t,explicitType:r,memberName:c};switch(s.id=o,l.type){case"boolean":this.flowEnumCheckExplicitTypeMismatch(l.pos,u,"boolean"),s.init=l.value,a.booleanMembers.push(this.finishNode(s,"EnumBooleanMember"));break;case"number":this.flowEnumCheckExplicitTypeMismatch(l.pos,u,"number"),s.init=l.value,a.numberMembers.push(this.finishNode(s,"EnumNumberMember"));break;case"string":this.flowEnumCheckExplicitTypeMismatch(l.pos,u,"string"),s.init=l.value,a.stringMembers.push(this.finishNode(s,"EnumStringMember"));break;case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(l.pos,u);case"none":switch(r){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(l.pos,u);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(l.pos,u);break;default:a.defaultedMembers.push(this.finishNode(s,"EnumDefaultedMember"))}}this.match(Zb.braceR)||this.expect(Zb.comma)}}return a},r.flowEnumStringMembers=function(e,t,r){var n=r.enumName;if(0===e.length)return t;if(0===t.length)return e;if(t.length>e.length){for(var a=0;a<e.length;a++){var s=e[a];this.flowEnumErrorStringMemberInconsistentlyInitailized(s.start,{enumName:n})}return t}for(var i=0;i<t.length;i++){var o=t[i];this.flowEnumErrorStringMemberInconsistentlyInitailized(o.start,{enumName:n})}return e},r.flowEnumParseExplicitType=function(e){var t=e.enumName;if(this.eatContextual("of")){if(!this.match(Zb.name))throw this.flowEnumErrorInvalidExplicitType(this.state.start,{enumName:t,suppliedType:null});var r=this.state.value;return this.next(),"boolean"!==r&&"number"!==r&&"string"!==r&&"symbol"!==r&&this.flowEnumErrorInvalidExplicitType(this.state.start,{enumName:t,suppliedType:r}),r}return null},r.flowEnumBody=function(e,t){var r=this,n=t.enumName,a=t.nameLoc,s=this.flowEnumParseExplicitType({enumName:n});this.expect(Zb.braceL);var i=this.flowEnumMembers({enumName:n,explicitType:s});switch(s){case"boolean":return e.explicitType=!0,e.members=i.booleanMembers,this.expect(Zb.braceR),this.finishNode(e,"EnumBooleanBody");case"number":return e.explicitType=!0,e.members=i.numberMembers,this.expect(Zb.braceR),this.finishNode(e,"EnumNumberBody");case"string":return e.explicitType=!0,e.members=this.flowEnumStringMembers(i.stringMembers,i.defaultedMembers,{enumName:n}),this.expect(Zb.braceR),this.finishNode(e,"EnumStringBody");case"symbol":return e.members=i.defaultedMembers,this.expect(Zb.braceR),this.finishNode(e,"EnumSymbolBody");default:var o=function(){return e.members=[],r.expect(Zb.braceR),r.finishNode(e,"EnumStringBody")};e.explicitType=!1;var l=i.booleanMembers.length,c=i.numberMembers.length,u=i.stringMembers.length,p=i.defaultedMembers.length;if(l||c||u||p){if(l||c){if(!c&&!u&&l>=p){for(var d=0,f=i.defaultedMembers;d<f.length;d++){var h=f[d];this.flowEnumErrorBooleanMemberNotInitialized(h.start,{enumName:n,memberName:h.id.name})}return e.members=i.booleanMembers,this.expect(Zb.braceR),this.finishNode(e,"EnumBooleanBody")}if(!l&&!u&&c>=p){for(var m=0,y=i.defaultedMembers;m<y.length;m++){var g=y[m];this.flowEnumErrorNumberMemberNotInitialized(g.start,{enumName:n,memberName:g.id.name})}return e.members=i.numberMembers,this.expect(Zb.braceR),this.finishNode(e,"EnumNumberBody")}return this.flowEnumErrorInconsistentMemberValues(a,{enumName:n}),o()}return e.members=this.flowEnumStringMembers(i.stringMembers,i.defaultedMembers,{enumName:n}),this.expect(Zb.braceR),this.finishNode(e,"EnumStringBody")}return o()}},r.flowParseEnumDeclaration=function(e){var t=this.parseIdentifier();return e.id=t,e.body=this.flowEnumBody(this.startNode(),{enumName:t.name,nameLoc:t.start}),this.finishNode(e,"EnumDeclaration")},r.updateContext=function(t){this.match(Zb.name)&&"of"===this.state.value&&t===Zb.name&&"interface"===this.input.slice(this.state.lastTokStart,this.state.lastTokEnd)?this.state.exprAllowed=!1:e.prototype.updateContext.call(this,t)},r.isLookaheadToken_lt=function(){var e=this.nextTokenStart();if(60===this.input.charCodeAt(e)){var t=this.input.charCodeAt(e+1);return 60!==t&&61!==t}return!1},r.maybeUnwrapTypeCastExpression=function(e){return"TypeCastExpression"===e.type?e.expression:e},t}(e)},typescript:function(e){return function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.getScopeHandler=function(){return Mx},r.tsIsIdentifier=function(){return this.match(Zb.name)},r.tsNextTokenCanFollowModifier=function(){return this.next(),!(this.hasPrecedingLineBreak()||this.match(Zb.parenL)||this.match(Zb.parenR)||this.match(Zb.colon)||this.match(Zb.eq)||this.match(Zb.question)||this.match(Zb.bang))},r.tsParseModifier=function(e){if(this.match(Zb.name)){var t=this.state.value;return-1!==e.indexOf(t)&&this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this))?t:void 0}},r.tsParseModifiers=function(e,t){for(;;){var r=this.state.start,n=this.tsParseModifier(t);if(!n)break;Object.hasOwnProperty.call(e,n)&&this.raise(r,Gx.DuplicateModifier,n),e[n]=!0}},r.tsIsListTerminator=function(e){switch(e){case"EnumMembers":case"TypeMembers":return this.match(Zb.braceR);case"HeritageClauseElement":return this.match(Zb.braceL);case"TupleElementTypes":return this.match(Zb.bracketR);case"TypeParametersOrArguments":return this.isRelational(">")}throw new Error("Unreachable")},r.tsParseList=function(e,t){for(var r=[];!this.tsIsListTerminator(e);)r.push(t());return r},r.tsParseDelimitedList=function(e,t){return Wx(this.tsParseDelimitedListWorker(e,t,!0))},r.tsParseDelimitedListWorker=function(e,t,r){for(var n=[];!this.tsIsListTerminator(e);){var a=t();if(null==a)return;if(n.push(a),!this.eat(Zb.comma)){if(this.tsIsListTerminator(e))break;return void(r&&this.expect(Zb.comma))}}return n},r.tsParseBracketedList=function(e,t,r,n){n||(r?this.expect(Zb.bracketL):this.expectRelational("<"));var a=this.tsParseDelimitedList(e,t);return r?this.expect(Zb.bracketR):this.expectRelational(">"),a},r.tsParseImportType=function(){var e=this.startNode();return this.expect(Zb._import),this.expect(Zb.parenL),this.match(Zb.string)||this.raise(this.state.start,Gx.UnsupportedImportTypeArgument),e.argument=this.parseExprAtom(),this.expect(Zb.parenR),this.eat(Zb.dot)&&(e.qualifier=this.tsParseEntityName(!0)),this.isRelational("<")&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSImportType")},r.tsParseEntityName=function(e){for(var t=this.parseIdentifier();this.eat(Zb.dot);){var r=this.startNodeAtNode(t);r.left=t,r.right=this.parseIdentifier(e),t=this.finishNode(r,"TSQualifiedName")}return t},r.tsParseTypeReference=function(){var e=this.startNode();return e.typeName=this.tsParseEntityName(!1),!this.hasPrecedingLineBreak()&&this.isRelational("<")&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSTypeReference")},r.tsParseThisTypePredicate=function(e){this.next();var t=this.startNodeAtNode(e);return t.parameterName=e,t.typeAnnotation=this.tsParseTypeAnnotation(!1),this.finishNode(t,"TSTypePredicate")},r.tsParseThisTypeNode=function(){var e=this.startNode();return this.next(),this.finishNode(e,"TSThisType")},r.tsParseTypeQuery=function(){var e=this.startNode();return this.expect(Zb._typeof),this.match(Zb._import)?e.exprName=this.tsParseImportType():e.exprName=this.tsParseEntityName(!0),this.finishNode(e,"TSTypeQuery")},r.tsParseTypeParameter=function(){var e=this.startNode();return e.name=this.parseIdentifierName(e.start),e.constraint=this.tsEatThenParseType(Zb._extends),e.default=this.tsEatThenParseType(Zb.eq),this.finishNode(e,"TSTypeParameter")},r.tsTryParseTypeParameters=function(){if(this.isRelational("<"))return this.tsParseTypeParameters()},r.tsParseTypeParameters=function(){var e=this.startNode();return this.isRelational("<")||this.match(Zb.jsxTagStart)?this.next():this.unexpected(),e.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this),!1,!0),0===e.params.length&&this.raise(e.start,Gx.EmptyTypeParameters),this.finishNode(e,"TSTypeParameterDeclaration")},r.tsTryNextParseConstantContext=function(){return this.lookahead().type===Zb._const?(this.next(),this.tsParseTypeReference()):null},r.tsFillSignature=function(e,t){var r=e===Zb.arrow;t.typeParameters=this.tsTryParseTypeParameters(),this.expect(Zb.parenL),t.parameters=this.tsParseBindingListForSignature(),(r||this.match(e))&&(t.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(e))},r.tsParseBindingListForSignature=function(){var e=this;return this.parseBindingList(Zb.parenR,41).map(function(t){return"Identifier"!==t.type&&"RestElement"!==t.type&&"ObjectPattern"!==t.type&&"ArrayPattern"!==t.type&&e.raise(t.start,Gx.UnsupportedSignatureParameterKind,t.type),t})},r.tsParseTypeMemberSemicolon=function(){this.eat(Zb.comma)||this.semicolon()},r.tsParseSignatureMember=function(e,t){return this.tsFillSignature(Zb.colon,t),this.tsParseTypeMemberSemicolon(),this.finishNode(t,e)},r.tsIsUnambiguouslyIndexSignature=function(){return this.next(),this.eat(Zb.name)&&this.match(Zb.colon)},r.tsTryParseIndexSignature=function(e){if(this.match(Zb.bracketL)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))){this.expect(Zb.bracketL);var t=this.parseIdentifier();t.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(t),this.expect(Zb.bracketR),e.parameters=[t];var r=this.tsTryParseTypeAnnotation();return r&&(e.typeAnnotation=r),this.tsParseTypeMemberSemicolon(),this.finishNode(e,"TSIndexSignature")}},r.tsParsePropertyOrMethodSignature=function(e,t){this.eat(Zb.question)&&(e.optional=!0);var r=e;if(t||!this.match(Zb.parenL)&&!this.isRelational("<")){var n=r;t&&(n.readonly=!0);var a=this.tsTryParseTypeAnnotation();return a&&(n.typeAnnotation=a),this.tsParseTypeMemberSemicolon(),this.finishNode(n,"TSPropertySignature")}var s=r;return this.tsFillSignature(Zb.colon,s),this.tsParseTypeMemberSemicolon(),this.finishNode(s,"TSMethodSignature")},r.tsParseTypeMember=function(){var e=this.startNode();if(this.match(Zb.parenL)||this.isRelational("<"))return this.tsParseSignatureMember("TSCallSignatureDeclaration",e);if(this.match(Zb._new)){var t=this.startNode();return this.next(),this.match(Zb.parenL)||this.isRelational("<")?this.tsParseSignatureMember("TSConstructSignatureDeclaration",e):(e.key=this.createIdentifier(t,"new"),this.tsParsePropertyOrMethodSignature(e,!1))}var r=!!this.tsParseModifier(["readonly"]),n=this.tsTryParseIndexSignature(e);return n?(r&&(e.readonly=!0),n):(this.parsePropertyName(e,!1),this.tsParsePropertyOrMethodSignature(e,r))},r.tsParseTypeLiteral=function(){var e=this.startNode();return e.members=this.tsParseObjectTypeMembers(),this.finishNode(e,"TSTypeLiteral")},r.tsParseObjectTypeMembers=function(){this.expect(Zb.braceL);var e=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(Zb.braceR),e},r.tsIsStartOfMappedType=function(){return this.next(),this.eat(Zb.plusMin)?this.isContextual("readonly"):(this.isContextual("readonly")&&this.next(),!!this.match(Zb.bracketL)&&(this.next(),!!this.tsIsIdentifier()&&(this.next(),this.match(Zb._in))))},r.tsParseMappedTypeParameter=function(){var e=this.startNode();return e.name=this.parseIdentifierName(e.start),e.constraint=this.tsExpectThenParseType(Zb._in),this.finishNode(e,"TSTypeParameter")},r.tsParseMappedType=function(){var e=this.startNode();return this.expect(Zb.braceL),this.match(Zb.plusMin)?(e.readonly=this.state.value,this.next(),this.expectContextual("readonly")):this.eatContextual("readonly")&&(e.readonly=!0),this.expect(Zb.bracketL),e.typeParameter=this.tsParseMappedTypeParameter(),e.nameType=this.eatContextual("as")?this.tsParseType():null,this.expect(Zb.bracketR),this.match(Zb.plusMin)?(e.optional=this.state.value,this.next(),this.expect(Zb.question)):this.eat(Zb.question)&&(e.optional=!0),e.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(Zb.braceR),this.finishNode(e,"TSMappedType")},r.tsParseTupleType=function(){var e=this,t=this.startNode();t.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);var r=!1,n=null;return t.elementTypes.forEach(function(t){var a,s=t.type;!r||"TSRestType"===s||"TSOptionalType"===s||"TSNamedTupleMember"===s&&t.optional||e.raise(t.start,Gx.OptionalTypeBeforeRequired),r=r||"TSNamedTupleMember"===s&&t.optional||"TSOptionalType"===s,"TSRestType"===s&&(s=(t=t.typeAnnotation).type);var i="TSNamedTupleMember"===s;(n=null!=(a=n)?a:i)!==i&&e.raise(t.start,Gx.MixedLabeledAndUnlabeledElements)}),this.finishNode(t,"TSTupleType")},r.tsParseTupleElementType=function(){var e=this.state,t=e.start,r=e.startLoc,n=this.eat(Zb.ellipsis),a=this.tsParseType(),s=this.eat(Zb.question);if(this.eat(Zb.colon)){var i=this.startNodeAtNode(a);i.optional=s,"TSTypeReference"!==a.type||a.typeParameters||"Identifier"!==a.typeName.type?(this.raise(a.start,Gx.InvalidTupleMemberLabel),i.label=a):i.label=a.typeName,i.elementType=this.tsParseType(),a=this.finishNode(i,"TSNamedTupleMember")}else if(s){var o=this.startNodeAtNode(a);o.typeAnnotation=a,a=this.finishNode(o,"TSOptionalType")}if(n){var l=this.startNodeAt(t,r);l.typeAnnotation=a,a=this.finishNode(l,"TSRestType")}return a},r.tsParseParenthesizedType=function(){var e=this.startNode();return this.expect(Zb.parenL),e.typeAnnotation=this.tsParseType(),this.expect(Zb.parenR),this.finishNode(e,"TSParenthesizedType")},r.tsParseFunctionOrConstructorType=function(e){var t=this.startNode();return"TSConstructorType"===e&&this.expect(Zb._new),this.tsFillSignature(Zb.arrow,t),this.finishNode(t,e)},r.tsParseLiteralTypeNode=function(){var e=this,t=this.startNode();return t.literal=function(){switch(e.state.type){case Zb.num:case Zb.bigint:case Zb.string:case Zb._true:case Zb._false:return e.parseExprAtom();default:throw e.unexpected()}}(),this.finishNode(t,"TSLiteralType")},r.tsParseTemplateLiteralType=function(){var e=this.startNode();return e.literal=this.parseTemplate(!1),this.finishNode(e,"TSLiteralType")},r.parseTemplateSubstitution=function(){return this.state.inType?this.tsParseType():e.prototype.parseTemplateSubstitution.call(this)},r.tsParseThisTypeOrThisTypePredicate=function(){var e=this.tsParseThisTypeNode();return this.isContextual("is")&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(e):e},r.tsParseNonArrayType=function(){switch(this.state.type){case Zb.name:case Zb._void:case Zb._null:var e=this.match(Zb._void)?"TSVoidKeyword":this.match(Zb._null)?"TSNullKeyword":function(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}(this.state.value);if(void 0!==e&&46!==this.lookaheadCharCode()){var t=this.startNode();return this.next(),this.finishNode(t,e)}return this.tsParseTypeReference();case Zb.string:case Zb.num:case Zb.bigint:case Zb._true:case Zb._false:return this.tsParseLiteralTypeNode();case Zb.plusMin:if("-"===this.state.value){var r=this.startNode(),n=this.lookahead();if(n.type!==Zb.num&&n.type!==Zb.bigint)throw this.unexpected();return r.literal=this.parseMaybeUnary(),this.finishNode(r,"TSLiteralType")}break;case Zb._this:return this.tsParseThisTypeOrThisTypePredicate();case Zb._typeof:return this.tsParseTypeQuery();case Zb._import:return this.tsParseImportType();case Zb.braceL:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case Zb.bracketL:return this.tsParseTupleType();case Zb.parenL:return this.tsParseParenthesizedType();case Zb.backQuote:return this.tsParseTemplateLiteralType()}throw this.unexpected()},r.tsParseArrayTypeOrHigher=function(){for(var e=this.tsParseNonArrayType();!this.hasPrecedingLineBreak()&&this.eat(Zb.bracketL);)if(this.match(Zb.bracketR)){var t=this.startNodeAtNode(e);t.elementType=e,this.expect(Zb.bracketR),e=this.finishNode(t,"TSArrayType")}else{var r=this.startNodeAtNode(e);r.objectType=e,r.indexType=this.tsParseType(),this.expect(Zb.bracketR),e=this.finishNode(r,"TSIndexedAccessType")}return e},r.tsParseTypeOperator=function(e){var t=this.startNode();return this.expectContextual(e),t.operator=e,t.typeAnnotation=this.tsParseTypeOperatorOrHigher(),"readonly"===e&&this.tsCheckTypeAnnotationForReadOnly(t),this.finishNode(t,"TSTypeOperator")},r.tsCheckTypeAnnotationForReadOnly=function(e){switch(e.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(e.start,Gx.UnexpectedReadonly)}},r.tsParseInferType=function(){var e=this.startNode();this.expectContextual("infer");var t=this.startNode();return t.name=this.parseIdentifierName(t.start),e.typeParameter=this.finishNode(t,"TSTypeParameter"),this.finishNode(e,"TSInferType")},r.tsParseTypeOperatorOrHigher=function(){var e=this,t=["keyof","unique","readonly"].find(function(t){return e.isContextual(t)});return t?this.tsParseTypeOperator(t):this.isContextual("infer")?this.tsParseInferType():this.tsParseArrayTypeOrHigher()},r.tsParseUnionOrIntersectionType=function(e,t,r){this.eat(r);var n=t();if(this.match(r)){for(var a=[n];this.eat(r);)a.push(t());var s=this.startNodeAtNode(n);s.types=a,n=this.finishNode(s,e)}return n},r.tsParseIntersectionTypeOrHigher=function(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),Zb.bitwiseAND)},r.tsParseUnionTypeOrHigher=function(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),Zb.bitwiseOR)},r.tsIsStartOfFunctionType=function(){return!!this.isRelational("<")||this.match(Zb.parenL)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))},r.tsSkipParameterStart=function(){if(this.match(Zb.name)||this.match(Zb._this))return this.next(),!0;if(this.match(Zb.braceL)){var e=1;for(this.next();e>0;)this.match(Zb.braceL)?++e:this.match(Zb.braceR)&&--e,this.next();return!0}if(this.match(Zb.bracketL)){var t=1;for(this.next();t>0;)this.match(Zb.bracketL)?++t:this.match(Zb.bracketR)&&--t,this.next();return!0}return!1},r.tsIsUnambiguouslyStartOfFunctionType=function(){if(this.next(),this.match(Zb.parenR)||this.match(Zb.ellipsis))return!0;if(this.tsSkipParameterStart()){if(this.match(Zb.colon)||this.match(Zb.comma)||this.match(Zb.question)||this.match(Zb.eq))return!0;if(this.match(Zb.parenR)&&(this.next(),this.match(Zb.arrow)))return!0}return!1},r.tsParseTypeOrTypePredicateAnnotation=function(e){var t=this;return this.tsInType(function(){var r=t.startNode();t.expect(e);var n=!!t.tsTryParse(t.tsParseTypePredicateAsserts.bind(t));if(n&&t.match(Zb._this)){var a=t.tsParseThisTypeOrThisTypePredicate();if("TSThisType"===a.type){var s=t.startNodeAtNode(r);s.parameterName=a,s.asserts=!0,a=t.finishNode(s,"TSTypePredicate")}else a.asserts=!0;return r.typeAnnotation=a,t.finishNode(r,"TSTypeAnnotation")}var i=t.tsIsIdentifier()&&t.tsTryParse(t.tsParseTypePredicatePrefix.bind(t));if(!i){if(!n)return t.tsParseTypeAnnotation(!1,r);var o=t.startNodeAtNode(r);return o.parameterName=t.parseIdentifier(),o.asserts=n,r.typeAnnotation=t.finishNode(o,"TSTypePredicate"),t.finishNode(r,"TSTypeAnnotation")}var l=t.tsParseTypeAnnotation(!1),c=t.startNodeAtNode(r);return c.parameterName=i,c.typeAnnotation=l,c.asserts=n,r.typeAnnotation=t.finishNode(c,"TSTypePredicate"),t.finishNode(r,"TSTypeAnnotation")})},r.tsTryParseTypeOrTypePredicateAnnotation=function(){return this.match(Zb.colon)?this.tsParseTypeOrTypePredicateAnnotation(Zb.colon):void 0},r.tsTryParseTypeAnnotation=function(){return this.match(Zb.colon)?this.tsParseTypeAnnotation():void 0},r.tsTryParseType=function(){return this.tsEatThenParseType(Zb.colon)},r.tsParseTypePredicatePrefix=function(){var e=this.parseIdentifier();if(this.isContextual("is")&&!this.hasPrecedingLineBreak())return this.next(),e},r.tsParseTypePredicateAsserts=function(){if(!this.match(Zb.name)||"asserts"!==this.state.value||this.hasPrecedingLineBreak())return!1;var e=this.state.containsEsc;return this.next(),!(!this.match(Zb.name)&&!this.match(Zb._this))&&(e&&this.raise(this.state.lastTokStart,gx.InvalidEscapedReservedWord,"asserts"),!0)},r.tsParseTypeAnnotation=function(e,t){var r=this;return void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),this.tsInType(function(){e&&r.expect(Zb.colon),t.typeAnnotation=r.tsParseType()}),this.finishNode(t,"TSTypeAnnotation")},r.tsParseType=function(){Vx(this.state.inType);var e=this.tsParseNonConditionalType();if(this.hasPrecedingLineBreak()||!this.eat(Zb._extends))return e;var t=this.startNodeAtNode(e);return t.checkType=e,t.extendsType=this.tsParseNonConditionalType(),this.expect(Zb.question),t.trueType=this.tsParseType(),this.expect(Zb.colon),t.falseType=this.tsParseType(),this.finishNode(t,"TSConditionalType")},r.tsParseNonConditionalType=function(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(Zb._new)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.tsParseUnionTypeOrHigher()},r.tsParseTypeAssertion=function(){var e=this.startNode(),t=this.tsTryNextParseConstantContext();return e.typeAnnotation=t||this.tsNextThenParseType(),this.expectRelational(">"),e.expression=this.parseMaybeUnary(),this.finishNode(e,"TSTypeAssertion")},r.tsParseHeritageClause=function(e){var t=this.state.start,r=this.tsParseDelimitedList("HeritageClauseElement",this.tsParseExpressionWithTypeArguments.bind(this));return r.length||this.raise(t,Gx.EmptyHeritageClauseType,e),r},r.tsParseExpressionWithTypeArguments=function(){var e=this.startNode();return e.expression=this.tsParseEntityName(!1),this.isRelational("<")&&(e.typeParameters=this.tsParseTypeArguments()),this.finishNode(e,"TSExpressionWithTypeArguments")},r.tsParseInterfaceDeclaration=function(e){e.id=this.parseIdentifier(),this.checkLVal(e.id,130,void 0,"typescript interface declaration"),e.typeParameters=this.tsTryParseTypeParameters(),this.eat(Zb._extends)&&(e.extends=this.tsParseHeritageClause("extends"));var t=this.startNode();return t.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),e.body=this.finishNode(t,"TSInterfaceBody"),this.finishNode(e,"TSInterfaceDeclaration")},r.tsParseTypeAliasDeclaration=function(e){var t=this;return e.id=this.parseIdentifier(),this.checkLVal(e.id,2,void 0,"typescript type alias"),e.typeParameters=this.tsTryParseTypeParameters(),e.typeAnnotation=this.tsInType(function(){if(t.expect(Zb.eq),t.isContextual("intrinsic")&&t.lookahead().type!==Zb.dot){var e=t.startNode();return t.next(),t.finishNode(e,"TSIntrinsicKeyword")}return t.tsParseType()}),this.semicolon(),this.finishNode(e,"TSTypeAliasDeclaration")},r.tsInNoContext=function(e){var t=this.state.context;this.state.context=[t[0]];try{return e()}finally{this.state.context=t}},r.tsInType=function(e){var t=this.state.inType;this.state.inType=!0;try{return e()}finally{this.state.inType=t}},r.tsEatThenParseType=function(e){return this.match(e)?this.tsNextThenParseType():void 0},r.tsExpectThenParseType=function(e){var t=this;return this.tsDoThenParseType(function(){return t.expect(e)})},r.tsNextThenParseType=function(){var e=this;return this.tsDoThenParseType(function(){return e.next()})},r.tsDoThenParseType=function(e){var t=this;return this.tsInType(function(){return e(),t.tsParseType()})},r.tsParseEnumMember=function(){var e=this.startNode();return e.id=this.match(Zb.string)?this.parseExprAtom():this.parseIdentifier(!0),this.eat(Zb.eq)&&(e.initializer=this.parseMaybeAssignAllowIn()),this.finishNode(e,"TSEnumMember")},r.tsParseEnumDeclaration=function(e,t){return t&&(e.const=!0),e.id=this.parseIdentifier(),this.checkLVal(e.id,t?779:267,void 0,"typescript enum declaration"),this.expect(Zb.braceL),e.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(Zb.braceR),this.finishNode(e,"TSEnumDeclaration")},r.tsParseModuleBlock=function(){var e=this.startNode();return this.scope.enter(0),this.expect(Zb.braceL),this.parseBlockOrModuleBlockBody(e.body=[],void 0,!0,Zb.braceR),this.scope.exit(),this.finishNode(e,"TSModuleBlock")},r.tsParseModuleOrNamespaceDeclaration=function(e,t){if(void 0===t&&(t=!1),e.id=this.parseIdentifier(),t||this.checkLVal(e.id,1024,null,"module or namespace declaration"),this.eat(Zb.dot)){var r=this.startNode();this.tsParseModuleOrNamespaceDeclaration(r,!0),e.body=r}else this.scope.enter(tx),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(e,"TSModuleDeclaration")},r.tsParseAmbientExternalModuleDeclaration=function(e){return this.isContextual("global")?(e.global=!0,e.id=this.parseIdentifier()):this.match(Zb.string)?e.id=this.parseExprAtom():this.unexpected(),this.match(Zb.braceL)?(this.scope.enter(tx),this.prodParam.enter(0),e.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(e,"TSModuleDeclaration")},r.tsParseImportEqualsDeclaration=function(e,t){return e.isExport=t||!1,e.id=this.parseIdentifier(),this.checkLVal(e.id,9,void 0,"import equals declaration"),this.expect(Zb.eq),e.moduleReference=this.tsParseModuleReference(),this.semicolon(),this.finishNode(e,"TSImportEqualsDeclaration")},r.tsIsExternalModuleReference=function(){return this.isContextual("require")&&40===this.lookaheadCharCode()},r.tsParseModuleReference=function(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)},r.tsParseExternalModuleReference=function(){var e=this.startNode();if(this.expectContextual("require"),this.expect(Zb.parenL),!this.match(Zb.string))throw this.unexpected();return e.expression=this.parseExprAtom(),this.expect(Zb.parenR),this.finishNode(e,"TSExternalModuleReference")},r.tsLookAhead=function(e){var t=this.state.clone(),r=e();return this.state=t,r},r.tsTryParseAndCatch=function(e){var t=this.tryParse(function(t){return e()||t()});if(!t.aborted&&t.node)return t.error&&(this.state=t.failState),t.node},r.tsTryParse=function(e){var t=this.state.clone(),r=e();return void 0!==r&&!1!==r?r:void(this.state=t)},r.tsTryParseDeclare=function(e){var t=this;if(!this.isLineTerminator()){var r,n=this.state.type;return this.isContextual("let")&&(n=Zb._var,r="let"),this.tsInDeclareContext(function(){switch(n){case Zb._function:return e.declare=!0,t.parseFunctionStatement(e,!1,!0);case Zb._class:return e.declare=!0,t.parseClass(e,!0,!1);case Zb._const:if(t.match(Zb._const)&&t.isLookaheadContextual("enum"))return t.expect(Zb._const),t.expectContextual("enum"),t.tsParseEnumDeclaration(e,!0);case Zb._var:return r=r||t.state.value,t.parseVarStatement(e,r);case Zb.name:var a=t.state.value;return"global"===a?t.tsParseAmbientExternalModuleDeclaration(e):t.tsParseDeclaration(e,a,!0)}})}},r.tsTryParseExportDeclaration=function(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0)},r.tsParseExpressionStatement=function(e,t){switch(t.name){case"declare":var r=this.tsTryParseDeclare(e);if(r)return r.declare=!0,r;break;case"global":if(this.match(Zb.braceL)){this.scope.enter(tx),this.prodParam.enter(0);var n=e;return n.global=!0,n.id=t,n.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(n,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(e,t.name,!1)}},r.tsParseDeclaration=function(e,t,r){switch(t){case"abstract":if(this.tsCheckLineTerminatorAndMatch(Zb._class,r)){var n=e;return n.abstract=!0,
r&&(this.next(),this.match(Zb._class)||this.unexpected(null,Zb._class)),this.parseClass(n,!0,!1)}break;case"enum":if(r||this.match(Zb.name))return r&&this.next(),this.tsParseEnumDeclaration(e,!1);break;case"interface":if(this.tsCheckLineTerminatorAndMatch(Zb.name,r))return r&&this.next(),this.tsParseInterfaceDeclaration(e);break;case"module":if(r&&this.next(),this.match(Zb.string))return this.tsParseAmbientExternalModuleDeclaration(e);if(this.tsCheckLineTerminatorAndMatch(Zb.name,r))return this.tsParseModuleOrNamespaceDeclaration(e);break;case"namespace":if(this.tsCheckLineTerminatorAndMatch(Zb.name,r))return r&&this.next(),this.tsParseModuleOrNamespaceDeclaration(e);break;case"type":if(this.tsCheckLineTerminatorAndMatch(Zb.name,r))return r&&this.next(),this.tsParseTypeAliasDeclaration(e)}},r.tsCheckLineTerminatorAndMatch=function(e,t){return(t||this.match(e))&&!this.isLineTerminator()},r.tsTryParseGenericAsyncArrowFunction=function(t,r){var n=this;if(this.isRelational("<")){var a=this.state.maybeInArrowParameters,s=this.state.yieldPos,i=this.state.awaitPos;this.state.maybeInArrowParameters=!0,this.state.yieldPos=-1,this.state.awaitPos=-1;var o=this.tsTryParseAndCatch(function(){var a=n.startNodeAt(t,r);return a.typeParameters=n.tsParseTypeParameters(),e.prototype.parseFunctionParams.call(n,a),a.returnType=n.tsTryParseTypeOrTypePredicateAnnotation(),n.expect(Zb.arrow),a});if(this.state.maybeInArrowParameters=a,this.state.yieldPos=s,this.state.awaitPos=i,o)return this.parseArrowExpression(o,null,!0)}},r.tsParseTypeArguments=function(){var e=this,t=this.startNode();return t.params=this.tsInType(function(){return e.tsInNoContext(function(){return e.expectRelational("<"),e.tsParseDelimitedList("TypeParametersOrArguments",e.tsParseType.bind(e))})}),0===t.params.length&&this.raise(t.start,Gx.EmptyTypeArguments),this.state.exprAllowed=!1,this.expectRelational(">"),this.finishNode(t,"TSTypeParameterInstantiation")},r.tsIsDeclarationStart=function(){if(this.match(Zb.name))switch(this.state.value){case"abstract":case"declare":case"enum":case"interface":case"module":case"namespace":case"type":return!0}return!1},r.isExportDefaultSpecifier=function(){return!this.tsIsDeclarationStart()&&e.prototype.isExportDefaultSpecifier.call(this)},r.parseAssignableListItem=function(e,t){var r,n=this.state.start,a=this.state.startLoc,s=!1;void 0!==e&&(r=this.parseAccessModifier(),s=!!this.tsParseModifier(["readonly"]),!1===e&&(r||s)&&this.raise(n,Gx.UnexpectedParameterModifier));var i=this.parseMaybeDefault();this.parseAssignableListItemTypes(i);var o=this.parseMaybeDefault(i.start,i.loc.start,i);if(r||s){var l=this.startNodeAt(n,a);return t.length&&(l.decorators=t),r&&(l.accessibility=r),s&&(l.readonly=s),"Identifier"!==o.type&&"AssignmentPattern"!==o.type&&this.raise(l.start,Gx.UnsupportedParameterPropertyKind),l.parameter=o,this.finishNode(l,"TSParameterProperty")}return t.length&&(i.decorators=t),o},r.parseFunctionBodyAndFinish=function(t,r,n){void 0===n&&(n=!1),this.match(Zb.colon)&&(t.returnType=this.tsParseTypeOrTypePredicateAnnotation(Zb.colon));var a="FunctionDeclaration"===r?"TSDeclareFunction":"ClassMethod"===r?"TSDeclareMethod":void 0;a&&!this.match(Zb.braceL)&&this.isLineTerminator()?this.finishNode(t,a):"TSDeclareFunction"===a&&this.state.isDeclareContext&&(this.raise(t.start,Gx.DeclareFunctionHasImplementation),t.declare)?e.prototype.parseFunctionBodyAndFinish.call(this,t,a,n):e.prototype.parseFunctionBodyAndFinish.call(this,t,r,n)},r.registerFunctionStatementId=function(t){!t.body&&t.id?this.checkLVal(t.id,ix,null,"function name"):e.prototype.registerFunctionStatementId.apply(this,arguments)},r.tsCheckForInvalidTypeCasts=function(e){var t=this;e.forEach(function(e){"TSTypeCastExpression"===(null==e?void 0:e.type)&&t.raise(e.typeAnnotation.start,Gx.UnexpectedTypeAnnotation)})},r.toReferencedList=function(e,t){return this.tsCheckForInvalidTypeCasts(e),e},r.parseSubscript=function(t,r,n,a,s){var i=this;if(!this.hasPrecedingLineBreak()&&this.match(Zb.bang)){this.state.exprAllowed=!1,this.next();var o=this.startNodeAt(r,n);return o.expression=t,this.finishNode(o,"TSNonNullExpression")}if(this.isRelational("<")){var l=this.tsTryParseAndCatch(function(){if(!a&&i.atPossibleAsyncArrow(t)){var e=i.tsTryParseGenericAsyncArrowFunction(r,n);if(e)return e}var o=i.startNodeAt(r,n);o.callee=t;var l=i.tsParseTypeArguments();if(l){if(!a&&i.eat(Zb.parenL))return o.arguments=i.parseCallExpressionArguments(Zb.parenR,!1),i.tsCheckForInvalidTypeCasts(o.arguments),o.typeParameters=l,i.finishCallExpression(o,s.optionalChainMember);if(i.match(Zb.backQuote)){var c=i.parseTaggedTemplateExpression(t,r,n,s);return c.typeParameters=l,c}}i.unexpected()});if(l)return l}return e.prototype.parseSubscript.call(this,t,r,n,a,s)},r.parseNewArguments=function(t){var r=this;if(this.isRelational("<")){var n=this.tsTryParseAndCatch(function(){var e=r.tsParseTypeArguments();return r.match(Zb.parenL)||r.unexpected(),e});n&&(t.typeParameters=n)}e.prototype.parseNewArguments.call(this,t)},r.parseExprOp=function(t,r,n,a){if(Wx(Zb._in.binop)>a&&!this.hasPrecedingLineBreak()&&this.isContextual("as")){var s=this.startNodeAt(r,n);s.expression=t;var i=this.tsTryNextParseConstantContext();return s.typeAnnotation=i||this.tsNextThenParseType(),this.finishNode(s,"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(s,r,n,a)}return e.prototype.parseExprOp.call(this,t,r,n,a)},r.checkReservedWord=function(e,t,r,n){},r.checkDuplicateExports=function(){},r.parseImport=function(t){if(this.match(Zb.name)||this.match(Zb.star)||this.match(Zb.braceL)){var r=this.lookahead();if(this.match(Zb.name)&&r.type===Zb.eq)return this.tsParseImportEqualsDeclaration(t);!this.isContextual("type")||r.type===Zb.comma||r.type===Zb.name&&"from"===r.value?t.importKind="value":(t.importKind="type",this.next())}var n=e.prototype.parseImport.call(this,t);return"type"===n.importKind&&n.specifiers.length>1&&"ImportDefaultSpecifier"===n.specifiers[0].type&&this.raise(n.start,"A type-only import can specify a default import or named bindings, but not both."),n},r.parseExport=function(t){if(this.match(Zb._import))return this.expect(Zb._import),this.tsParseImportEqualsDeclaration(t,!0);if(this.eat(Zb.eq)){var r=t;return r.expression=this.parseExpression(),this.semicolon(),this.finishNode(r,"TSExportAssignment")}if(this.eatContextual("as")){var n=t;return this.expectContextual("namespace"),n.id=this.parseIdentifier(),this.semicolon(),this.finishNode(n,"TSNamespaceExportDeclaration")}return this.isContextual("type")&&this.lookahead().type===Zb.braceL?(this.next(),t.exportKind="type"):t.exportKind="value",e.prototype.parseExport.call(this,t)},r.isAbstractClass=function(){return this.isContextual("abstract")&&this.lookahead().type===Zb._class},r.parseExportDefaultExpression=function(){if(this.isAbstractClass()){var t=this.startNode();return this.next(),this.parseClass(t,!0,!0),t.abstract=!0,t}if("interface"===this.state.value){var r=this.tsParseDeclaration(this.startNode(),this.state.value,!0);if(r)return r}return e.prototype.parseExportDefaultExpression.call(this)},r.parseStatementContent=function(t,r){if(this.state.type===Zb._const){var n=this.lookahead();if(n.type===Zb.name&&"enum"===n.value){var a=this.startNode();return this.expect(Zb._const),this.expectContextual("enum"),this.tsParseEnumDeclaration(a,!0)}}return e.prototype.parseStatementContent.call(this,t,r)},r.parseAccessModifier=function(){return this.tsParseModifier(["public","protected","private"])},r.parseClassMember=function(t,r,n){var a=this;this.tsParseModifiers(r,["declare"]);var s=this.parseAccessModifier();s&&(r.accessibility=s),this.tsParseModifiers(r,["declare"]);var i=function(){e.prototype.parseClassMember.call(a,t,r,n)};r.declare?this.tsInDeclareContext(i):i()},r.parseClassMemberWithIsStatic=function(t,r,n,a){this.tsParseModifiers(r,["abstract","readonly","declare"]);var s=this.tsTryParseIndexSignature(r);if(s)return t.body.push(s),r.abstract&&this.raise(r.start,Gx.IndexSignatureHasAbstract),a&&this.raise(r.start,Gx.IndexSignatureHasStatic),r.accessibility&&this.raise(r.start,Gx.IndexSignatureHasAccessibility,r.accessibility),void(r.declare&&this.raise(r.start,Gx.IndexSignatureHasDeclare));e.prototype.parseClassMemberWithIsStatic.call(this,t,r,n,a)},r.parsePostMemberNameModifiers=function(e){this.eat(Zb.question)&&(e.optional=!0),e.readonly&&this.match(Zb.parenL)&&this.raise(e.start,Gx.ClassMethodHasReadonly),e.declare&&this.match(Zb.parenL)&&this.raise(e.start,Gx.ClassMethodHasDeclare)},r.parseExpressionStatement=function(t,r){return("Identifier"===r.type?this.tsParseExpressionStatement(t,r):void 0)||e.prototype.parseExpressionStatement.call(this,t,r)},r.shouldParseExportDeclaration=function(){return!!this.tsIsDeclarationStart()||e.prototype.shouldParseExportDeclaration.call(this)},r.parseConditional=function(t,r,n,a){var s=this;if(!a||!this.match(Zb.question))return e.prototype.parseConditional.call(this,t,r,n,a);var i=this.tryParse(function(){return e.prototype.parseConditional.call(s,t,r,n)});return i.node?(i.error&&(this.state=i.failState),i.node):(a.start=i.error.pos||this.state.start,t)},r.parseParenItem=function(t,r,n){if(t=e.prototype.parseParenItem.call(this,t,r,n),this.eat(Zb.question)&&(t.optional=!0,this.resetEndLocation(t)),this.match(Zb.colon)){var a=this.startNodeAt(r,n);return a.expression=t,a.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(a,"TSTypeCastExpression")}return t},r.parseExportDeclaration=function(t){var r,n=this.state.start,a=this.state.startLoc,s=this.eatContextual("declare");return this.match(Zb.name)&&(r=this.tsTryParseExportDeclaration()),r||(r=e.prototype.parseExportDeclaration.call(this,t)),r&&("TSInterfaceDeclaration"===r.type||"TSTypeAliasDeclaration"===r.type||s)&&(t.exportKind="type"),r&&s&&(this.resetStartLocation(r,n,a),r.declare=!0),r},r.parseClassId=function(t,r,n){if(r&&!n||!this.isContextual("implements")){e.prototype.parseClassId.call(this,t,r,n,t.declare?ix:139);var a=this.tsTryParseTypeParameters();a&&(t.typeParameters=a)}},r.parseClassPropertyAnnotation=function(e){!e.optional&&this.eat(Zb.bang)&&(e.definite=!0);var t=this.tsTryParseTypeAnnotation();t&&(e.typeAnnotation=t)},r.parseClassProperty=function(t){return this.parseClassPropertyAnnotation(t),this.state.isDeclareContext&&this.match(Zb.eq)&&this.raise(this.state.start,Gx.DeclareClassFieldHasInitializer),e.prototype.parseClassProperty.call(this,t)},r.parseClassPrivateProperty=function(t){return t.abstract&&this.raise(t.start,Gx.PrivateElementHasAbstract),t.accessibility&&this.raise(t.start,Gx.PrivateElementHasAccessibility,t.accessibility),this.parseClassPropertyAnnotation(t),e.prototype.parseClassPrivateProperty.call(this,t)},r.pushClassMethod=function(t,r,n,a,s,i){var o=this.tsTryParseTypeParameters();o&&s&&this.raise(o.start,Gx.ConstructorHasTypeParameters),o&&(r.typeParameters=o),e.prototype.pushClassMethod.call(this,t,r,n,a,s,i)},r.pushClassPrivateMethod=function(t,r,n,a){var s=this.tsTryParseTypeParameters();s&&(r.typeParameters=s),e.prototype.pushClassPrivateMethod.call(this,t,r,n,a)},r.parseClassSuper=function(t){e.prototype.parseClassSuper.call(this,t),t.superClass&&this.isRelational("<")&&(t.superTypeParameters=this.tsParseTypeArguments()),this.eatContextual("implements")&&(t.implements=this.tsParseHeritageClause("implements"))},r.parseObjPropValue=function(t){var r,n=this.tsTryParseTypeParameters();n&&(t.typeParameters=n);for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];(r=e.prototype.parseObjPropValue).call.apply(r,[this,t].concat(s))},r.parseFunctionParams=function(t,r){var n=this.tsTryParseTypeParameters();n&&(t.typeParameters=n),e.prototype.parseFunctionParams.call(this,t,r)},r.parseVarId=function(t,r){e.prototype.parseVarId.call(this,t,r),"Identifier"===t.id.type&&this.eat(Zb.bang)&&(t.definite=!0);var n=this.tsTryParseTypeAnnotation();n&&(t.id.typeAnnotation=n,this.resetEndLocation(t.id))},r.parseAsyncArrowFromCallExpression=function(t,r){return this.match(Zb.colon)&&(t.returnType=this.tsParseTypeAnnotation()),e.prototype.parseAsyncArrowFromCallExpression.call(this,t,r)},r.parseMaybeAssign=function(){for(var t,r,n,a,s,i,o,l,c,u,p,d,f=this,h=arguments.length,m=new Array(h),y=0;y<h;y++)m[y]=arguments[y];if(this.match(Zb.jsxTagStart)){if(l=this.state.clone(),!(c=this.tryParse(function(){var t;return(t=e.prototype.parseMaybeAssign).call.apply(t,[f].concat(m))},l)).error)return c.node;var g=this.state.context;g[g.length-1]===Ex.j_oTag?g.length-=2:g[g.length-1]===Ex.j_expr&&(g.length-=1)}if(!(null==(t=c)?void 0:t.error)&&!this.isRelational("<"))return(p=e.prototype.parseMaybeAssign).call.apply(p,[this].concat(m));l=l||this.state.clone();var v=this.tryParse(function(t){var r,n;d=f.tsParseTypeParameters();var a=(r=e.prototype.parseMaybeAssign).call.apply(r,[f].concat(m));return("ArrowFunctionExpression"!==a.type||a.extra&&a.extra.parenthesized)&&t(),0!==(null==(n=d)?void 0:n.params.length)&&f.resetStartLocationFromNode(a,d),a.typeParameters=d,a},l);if(!v.error&&!v.aborted)return v.node;if(!c&&(Vx(!this.hasPlugin("jsx")),!(u=this.tryParse(function(){var t;return(t=e.prototype.parseMaybeAssign).call.apply(t,[f].concat(m))},l)).error))return u.node;if(null==(r=c)?void 0:r.node)return this.state=c.failState,c.node;if(v.node)return this.state=v.failState,v.node;if(null==(n=u)?void 0:n.node)return this.state=u.failState,u.node;if(null==(a=c)?void 0:a.thrown)throw c.error;if(v.thrown)throw v.error;if(null==(s=u)?void 0:s.thrown)throw u.error;throw(null==(i=c)?void 0:i.error)||v.error||(null==(o=u)?void 0:o.error)},r.parseMaybeUnary=function(t){return!this.hasPlugin("jsx")&&this.isRelational("<")?this.tsParseTypeAssertion():e.prototype.parseMaybeUnary.call(this,t)},r.parseArrow=function(t){var r=this;if(this.match(Zb.colon)){var n=this.tryParse(function(e){var t=r.tsParseTypeOrTypePredicateAnnotation(Zb.colon);return!r.canInsertSemicolon()&&r.match(Zb.arrow)||e(),t});if(n.aborted)return;n.thrown||(n.error&&(this.state=n.failState),t.returnType=n.node)}return e.prototype.parseArrow.call(this,t)},r.parseAssignableListItemTypes=function(e){this.eat(Zb.question)&&("Identifier"===e.type||this.state.isDeclareContext||this.raise(e.start,Gx.PatternIsOptional),e.optional=!0);var t=this.tsTryParseTypeAnnotation();return t&&(e.typeAnnotation=t),this.resetEndLocation(e),e},r.toAssignable=function(t){switch(t.type){case"TSTypeCastExpression":return e.prototype.toAssignable.call(this,this.typeCastToParameter(t));case"TSParameterProperty":return e.prototype.toAssignable.call(this,t);case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":return t.expression=this.toAssignable(t.expression),t;default:return e.prototype.toAssignable.call(this,t)}},r.checkLVal=function(t,r,n,a){switch(void 0===r&&(r=ox),t.type){case"TSTypeCastExpression":return;case"TSParameterProperty":return void this.checkLVal(t.parameter,r,n,"parameter property");case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":return void this.checkLVal(t.expression,r,n,a);default:return void e.prototype.checkLVal.call(this,t,r,n,a)}},r.parseBindingAtom=function(){switch(this.state.type){case Zb._this:return this.parseIdentifier(!0);default:return e.prototype.parseBindingAtom.call(this)}},r.parseMaybeDecoratorArguments=function(t){if(this.isRelational("<")){var r=this.tsParseTypeArguments();if(this.match(Zb.parenL)){var n=e.prototype.parseMaybeDecoratorArguments.call(this,t);return n.typeParameters=r,n}this.unexpected(this.state.start,Zb.parenL)}return e.prototype.parseMaybeDecoratorArguments.call(this,t)},r.isClassMethod=function(){return this.isRelational("<")||e.prototype.isClassMethod.call(this)},r.isClassProperty=function(){return this.match(Zb.bang)||this.match(Zb.colon)||e.prototype.isClassProperty.call(this)},r.parseMaybeDefault=function(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=(t=e.prototype.parseMaybeDefault).call.apply(t,[this].concat(n));return"AssignmentPattern"===s.type&&s.typeAnnotation&&s.right.start<s.typeAnnotation.start&&this.raise(s.typeAnnotation.start,Gx.TypeAnnotationAfterAssign),s},r.getTokenFromCode=function(t){return!this.state.inType||62!==t&&60!==t?e.prototype.getTokenFromCode.call(this,t):this.finishOp(Zb.relational,1)},r.reScan_lt_gt=function(){if(this.match(Zb.relational)){var e=this.input.charCodeAt(this.state.start);60!==e&&62!==e||(this.state.pos-=1,this.readToken_lt_gt(e))}},r.toAssignableList=function(t){for(var r=0;r<t.length;r++){var n=t[r];if(n)switch(n.type){case"TSTypeCastExpression":t[r]=this.typeCastToParameter(n);break;case"TSAsExpression":case"TSTypeAssertion":this.state.maybeInArrowParameters?this.raise(n.start,Gx.UnexpectedTypeCastInParameter):t[r]=this.typeCastToParameter(n)}}return e.prototype.toAssignableList.apply(this,arguments)},r.typeCastToParameter=function(e){return e.expression.typeAnnotation=e.typeAnnotation,this.resetEndLocation(e.expression,e.typeAnnotation.end,e.typeAnnotation.loc.end),e.expression},r.shouldParseArrow=function(){return this.match(Zb.colon)||e.prototype.shouldParseArrow.call(this)},r.shouldParseAsyncArrow=function(){return this.match(Zb.colon)||e.prototype.shouldParseAsyncArrow.call(this)},r.canHaveLeadingDecorator=function(){return e.prototype.canHaveLeadingDecorator.call(this)||this.isAbstractClass()},r.jsxParseOpeningElementAfterName=function(t){var r=this;if(this.isRelational("<")){var n=this.tsTryParseAndCatch(function(){return r.tsParseTypeArguments()});n&&(t.typeParameters=n)}return e.prototype.jsxParseOpeningElementAfterName.call(this,t)},r.getGetterSetterExpectedParamCount=function(t){var r=e.prototype.getGetterSetterExpectedParamCount.call(this,t),n=t.params[0];return n&&"Identifier"===n.type&&"this"===n.name?r+1:r},r.parseCatchClauseParam=function(){var t=e.prototype.parseCatchClauseParam.call(this),r=this.tsTryParseTypeAnnotation();return r&&(t.typeAnnotation=r,this.resetEndLocation(t)),t},r.tsInDeclareContext=function(e){var t=this.state.isDeclareContext;this.state.isDeclareContext=!0;try{return e()}finally{this.state.isDeclareContext=t}},t}(e)},v8intrinsic:function(e){return function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.parseV8Intrinsic=function(){if(this.match(Zb.modulo)){var e=this.state.start,t=this.startNode();if(this.eat(Zb.modulo),this.match(Zb.name)){var r=this.parseIdentifierName(this.state.start),n=this.createIdentifier(t,r);if(n.type="V8IntrinsicIdentifier",this.match(Zb.parenL))return n}this.unexpected(e)}},r.parseExprAtom=function(){return this.parseV8Intrinsic()||e.prototype.parseExprAtom.apply(this,arguments)},t}(e)},placeholders:function(e){return function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.parsePlaceholder=function(t){if(this.match(Zb.placeholder)){var r=this.startNode();return this.next(),this.assertNoSpace("Unexpected space in placeholder."),r.name=e.prototype.parseIdentifier.call(this,!0),this.assertNoSpace("Unexpected space in placeholder."),this.expect(Zb.placeholder),this.finishPlaceholder(r,t)}},r.finishPlaceholder=function(e,t){var r=!(!e.expectedNode||"Placeholder"!==e.type);return e.expectedNode=t,r?e:this.finishNode(e,"Placeholder")},r.getTokenFromCode=function(t){return 37===t&&37===this.input.charCodeAt(this.state.pos+1)?this.finishOp(Zb.placeholder,2):e.prototype.getTokenFromCode.apply(this,arguments)},r.parseExprAtom=function(){return this.parsePlaceholder("Expression")||e.prototype.parseExprAtom.apply(this,arguments)},r.parseIdentifier=function(){return this.parsePlaceholder("Identifier")||e.prototype.parseIdentifier.apply(this,arguments)},r.checkReservedWord=function(t){void 0!==t&&e.prototype.checkReservedWord.apply(this,arguments)},r.parseBindingAtom=function(){return this.parsePlaceholder("Pattern")||e.prototype.parseBindingAtom.apply(this,arguments)},r.checkLVal=function(t){"Placeholder"!==t.type&&e.prototype.checkLVal.apply(this,arguments)},r.toAssignable=function(t){return t&&"Placeholder"===t.type&&"Expression"===t.expectedNode?(t.expectedNode="Pattern",t):e.prototype.toAssignable.apply(this,arguments)},r.verifyBreakContinue=function(t){t.label&&"Placeholder"===t.label.type||e.prototype.verifyBreakContinue.apply(this,arguments)},r.parseExpressionStatement=function(t,r){if("Placeholder"!==r.type||r.extra&&r.extra.parenthesized)return e.prototype.parseExpressionStatement.apply(this,arguments);if(this.match(Zb.colon)){var n=t;return n.label=this.finishPlaceholder(r,"Identifier"),this.next(),n.body=this.parseStatement("label"),this.finishNode(n,"LabeledStatement")}return this.semicolon(),t.name=r.name,this.finishPlaceholder(t,"Statement")},r.parseBlock=function(){return this.parsePlaceholder("BlockStatement")||e.prototype.parseBlock.apply(this,arguments)},r.parseFunctionId=function(){return this.parsePlaceholder("Identifier")||e.prototype.parseFunctionId.apply(this,arguments)},r.parseClass=function(e,t,r){var n=t?"ClassDeclaration":"ClassExpression";this.next(),this.takeDecorators(e);var a=this.state.strict,s=this.parsePlaceholder("Identifier");if(s)if(this.match(Zb._extends)||this.match(Zb.placeholder)||this.match(Zb.braceL))e.id=s;else{if(r||!t)return e.id=null,e.body=this.finishPlaceholder(s,"ClassBody"),this.finishNode(e,n);this.unexpected(null,"A class name is required")}else this.parseClassId(e,t,r);return this.parseClassSuper(e),e.body=this.parsePlaceholder("ClassBody")||this.parseClassBody(!!e.superClass,a),this.finishNode(e,n)},r.parseExport=function(t){var r=this.parsePlaceholder("Identifier");if(!r)return e.prototype.parseExport.apply(this,arguments);if(!this.isContextual("from")&&!this.match(Zb.comma))return t.specifiers=[],t.source=null,t.declaration=this.finishPlaceholder(r,"Declaration"),this.finishNode(t,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");var n=this.startNode();return n.exported=r,t.specifiers=[this.finishNode(n,"ExportDefaultSpecifier")],e.prototype.parseExport.call(this,t)},r.isExportDefaultSpecifier=function(){if(this.match(Zb._default)){var t=this.nextTokenStart();if(this.isUnparsedContextual(t,"from")&&this.input.startsWith(Zb.placeholder.label,this.nextTokenStartSince(t+4)))return!0}return e.prototype.isExportDefaultSpecifier.call(this)},r.maybeParseExportDefaultSpecifier=function(t){return!!(t.specifiers&&t.specifiers.length>0)||e.prototype.maybeParseExportDefaultSpecifier.apply(this,arguments)},r.checkExport=function(t){var r=t.specifiers;(null==r?void 0:r.length)&&(t.specifiers=r.filter(function(e){return"Placeholder"===e.exported.type})),e.prototype.checkExport.call(this,t),t.specifiers=r},r.parseImport=function(t){var r=this.parsePlaceholder("Identifier");if(!r)return e.prototype.parseImport.apply(this,arguments);if(t.specifiers=[],!this.isContextual("from")&&!this.match(Zb.comma))return t.source=this.finishPlaceholder(r,"StringLiteral"),this.semicolon(),this.finishNode(t,"ImportDeclaration");var n=this.startNodeAtNode(r);if(n.local=r,this.finishNode(n,"ImportDefaultSpecifier"),t.specifiers.push(n),this.eat(Zb.comma)){var a=this.maybeParseStarImportSpecifier(t);a||this.parseNamedImportSpecifiers(t)}return this.expectContextual("from"),t.source=this.parseImportSource(),this.semicolon(),this.finishNode(t,"ImportDeclaration")},r.parseImportSource=function(){return this.parsePlaceholder("StringLiteral")||e.prototype.parseImportSource.apply(this,arguments)},t}(e)}},Jx=Object.keys(Xx),Yx={sourceType:"script",sourceFilename:void 0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createParenthesizedExpressions:!1,errorRecovery:!1};var $x=function(){function e(){this.strict=void 0,this.curLine=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.inParameters=!1,this.maybeInArrowParameters=!1,this.maybeInAsyncArrowHead=!1,this.inPipeline=!1,this.inType=!1,this.noAnonFunctionType=!1,this.inPropertyName=!1,this.hasFlowComment=!1,this.isIterator=!1,this.isDeclareContext=!1,this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.soloAwait=!1,this.inFSharpPipelineDirectBody=!1,this.labels=[],this.decoratorStack=[[]],this.yieldPos=-1,this.awaitPos=-1,this.comments=[],this.trailingComments=[],this.leadingComments=[],this.commentStack=[],this.commentPreviousNode=null,this.pos=0,this.lineStart=0,this.type=Zb.eof,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.lastTokStart=0,this.lastTokEnd=0,this.context=[Ex.braceStatement],this.exprAllowed=!0,this.containsEsc=!1,this.octalPositions=[],this.exportedIdentifiers=[],this.tokensLength=0}var t=e.prototype;return t.init=function(e){this.strict=!1!==e.strictMode&&"module"===e.sourceType,this.curLine=e.startLine,this.startLoc=this.endLoc=this.curPosition()},t.curPosition=function(){return new fx(this.curLine,this.pos-this.lineStart)},t.clone=function(t){for(var r=new e,n=Object.keys(this),a=0,s=n.length;a<s;a++){var i=n[a],o=this[i];!t&&Array.isArray(o)&&(o=o.slice()),r[i]=o}return r},e}(),Qx=function(e){return e>=48&&e<=57},Zx=new Set(["g","m","s","i","y","u"]),eE={decBinOct:[46,66,69,79,95,98,101,111],hex:[46,88,95,120]},tE={bin:[48,49]};tE.oct=[].concat(tE.bin,[50,51,52,53,54,55]),tE.dec=[].concat(tE.oct,[56,57]),tE.hex=[].concat(tE.dec,[65,66,67,68,69,70,97,98,99,100,101,102]);var rE=function(e){this.type=void 0,this.value=void 0,this.start=void 0,this.end=void 0,this.loc=void 0,this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,this.loc=new hx(e.startLoc,e.endLoc)},nE=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.addExtra=function(e,t,r){e&&((e.extra=e.extra||{})[t]=r)},r.isRelational=function(e){return this.match(Zb.relational)&&this.state.value===e},r.expectRelational=function(e){this.isRelational(e)?this.next():this.unexpected(null,Zb.relational)},r.isContextual=function(e){return this.match(Zb.name)&&this.state.value===e&&!this.state.containsEsc},r.isUnparsedContextual=function(e,t){var r=e+t.length;return this.input.slice(e,r)===t&&(r===this.input.length||!gi(this.input.charCodeAt(r)))},r.isLookaheadContextual=function(e){var t=this.nextTokenStart();return this.isUnparsedContextual(t,e)},r.eatContextual=function(e){return this.isContextual(e)&&this.eat(Zb.name)},r.expectContextual=function(e,t){this.eatContextual(e)||this.unexpected(null,t)},r.canInsertSemicolon=function(){return this.match(Zb.eof)||this.match(Zb.braceR)||this.hasPrecedingLineBreak()},r.hasPrecedingLineBreak=function(){return lx.test(this.input.slice(this.state.lastTokEnd,this.state.start))},r.isLineTerminator=function(){return this.eat(Zb.semi)||this.canInsertSemicolon()},r.semicolon=function(){this.isLineTerminator()||this.unexpected(null,Zb.semi)},r.expect=function(e,t){this.eat(e)||this.unexpected(t,e)},r.assertNoSpace=function(e){void 0===e&&(e="Unexpected space."),this.state.start>this.state.lastTokEnd&&this.raise(this.state.lastTokEnd,e)},r.unexpected=function(e,t){throw void 0===t&&(t="Unexpected token"),"string"!=typeof t&&(t='Unexpected token, expected "'+t.label+'"'),this.raise(null!=e?e:this.state.start,t)},r.expectPlugin=function(e,t){if(!this.hasPlugin(e))throw this.raiseWithData(null!=t?t:this.state.start,{missingPlugin:[e]},"This experimental syntax requires enabling the parser plugin: '"+e+"'");return!0},r.expectOnePlugin=function(e,t){var r=this;if(!e.some(function(e){return r.hasPlugin(e)}))throw this.raiseWithData(null!=t?t:this.state.start,{missingPlugin:e},"This experimental syntax requires enabling one of the following parser plugin(s): '"+e.join(", ")+"'")},r.checkYieldAwaitInDefaultParams=function(){-1!==this.state.yieldPos&&(-1===this.state.awaitPos||this.state.yieldPos<this.state.awaitPos)&&this.raise(this.state.yieldPos,gx.YieldBindingIdentifier),-1!==this.state.awaitPos&&this.raise(this.state.awaitPos,gx.AwaitBindingIdentifier)},r.tryParse=function(e,t){void 0===t&&(t=this.state.clone());var r={node:null};try{var n=e(function(e){throw void 0===e&&(e=null),r.node=e,r});if(this.state.errors.length>t.errors.length){var a=this.state;return this.state=t,{node:n,error:a.errors[t.errors.length],thrown:!1,aborted:!1,failState:a}}return{node:n,error:null,thrown:!1,aborted:!1,failState:null}}catch(e){var s=this.state;if(this.state=t,e instanceof SyntaxError)return{node:null,error:e,thrown:!0,aborted:!1,failState:s};if(e===r)return{node:r.node,error:null,thrown:!1,aborted:!0,failState:s};throw e}},r.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,n=e.doubleProto;if(!t)return r>=0||n>=0;r>=0&&this.unexpected(r),n>=0&&this.raise(n,gx.DuplicateProto)},r.isLiteralPropertyName=function(){return this.match(Zb.name)||!!this.state.type.keyword||this.match(Zb.string)||this.match(Zb.num)||this.match(Zb.bigint)||this.match(Zb.decimal)},t}(function(e){function t(t,r){var n;return(n=e.call(this)||this).isLookahead=void 0,n.tokens=[],n.state=new $x,n.state.init(t),n.input=r,n.length=r.length,n.isLookahead=!1,n}f(t,e);var r=t.prototype;return r.pushToken=function(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength},r.next=function(){this.isLookahead||(this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new rE(this.state))),this.state.lastTokEnd=this.state.end,this.state.lastTokStart=this.state.start,this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()},r.eat=function(e){return!!this.match(e)&&(this.next(),!0)},r.match=function(e){return this.state.type===e},r.lookahead=function(){var e=this.state;this.state=e.clone(!0),this.isLookahead=!0,this.next(),this.isLookahead=!1;var t=this.state;return this.state=e,t},r.nextTokenStart=function(){return this.nextTokenStartSince(this.state.pos)},r.nextTokenStartSince=function(e){return px.lastIndex=e,e+px.exec(this.input)[0].length},r.lookaheadCharCode=function(){return this.input.charCodeAt(this.nextTokenStart())},r.setStrict=function(e){if(this.state.strict=e,this.match(Zb.num)||this.match(Zb.string)){for(this.state.pos=this.state.start;this.state.pos<this.state.lineStart;)this.state.lineStart=this.input.lastIndexOf("\n",this.state.lineStart-2)+1,--this.state.curLine;this.nextToken()}},r.curContext=function(){return this.state.context[this.state.context.length-1]},r.nextToken=function(){var e=this.curContext();if((null==e?void 0:e.preserveSpace)||this.skipSpace(),this.state.octalPositions=[],this.state.start=this.state.pos,this.state.startLoc=this.state.curPosition(),this.state.pos>=this.length)this.finishToken(Zb.eof);else{var t=null==e?void 0:e.override;t?t(this):this.getTokenFromCode(this.input.codePointAt(this.state.pos))}},r.pushComment=function(e,t,r,n,a,s){var i={type:e?"CommentBlock":"CommentLine",value:t,start:r,end:n,loc:new hx(a,s)};this.options.tokens&&this.pushToken(i),this.state.comments.push(i),this.addComment(i)},r.skipBlockComment=function(){var e,t=this.state.curPosition(),r=this.state.pos,n=this.input.indexOf("*/",this.state.pos+2);if(-1===n)throw this.raise(r,gx.UnterminatedComment);for(this.state.pos=n+2,cx.lastIndex=r;(e=cx.exec(this.input))&&e.index<this.state.pos;)++this.state.curLine,this.state.lineStart=e.index+e[0].length;this.isLookahead||this.pushComment(!0,this.input.slice(r+2,n),r,this.state.pos,t,this.state.curPosition())},r.skipLineComment=function(e){var t=this.state.pos,r=this.state.curPosition(),n=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!ux(n)&&++this.state.pos<this.length;)n=this.input.charCodeAt(this.state.pos);this.isLookahead||this.pushComment(!1,this.input.slice(t+e,this.state.pos),t,this.state.pos,r,this.state.curPosition())},r.skipSpace=function(){e:for(;this.state.pos<this.length;){var e=this.input.charCodeAt(this.state.pos);switch(e){case 32:case 160:
case 9:++this.state.pos;break;case 13:10===this.input.charCodeAt(this.state.pos+1)&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!dx(e))break e;++this.state.pos}}},r.finishToken=function(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();var r=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||this.updateContext(r)},r.readToken_numberSign=function(){if(0!==this.state.pos||!this.readToken_interpreter()){var e=this.state.pos+1,t=this.input.charCodeAt(e);if(t>=48&&t<=57)throw this.raise(this.state.pos,gx.UnexpectedDigitAfterHash);if(123===t||91===t&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),"hash"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,123===t?gx.RecordExpressionHashIncorrectStartSyntaxType:gx.TupleExpressionHashIncorrectStartSyntaxType);123===t?this.finishToken(Zb.braceHashL):this.finishToken(Zb.bracketHashL),this.state.pos+=2}else this.finishOp(Zb.hash,1)}},r.readToken_dot=function(){var e=this.input.charCodeAt(this.state.pos+1);e>=48&&e<=57?this.readNumber(!0):46===e&&46===this.input.charCodeAt(this.state.pos+2)?(this.state.pos+=3,this.finishToken(Zb.ellipsis)):(++this.state.pos,this.finishToken(Zb.dot))},r.readToken_slash=function(){if(this.state.exprAllowed&&!this.state.inType)return++this.state.pos,void this.readRegexp();61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(Zb.assign,2):this.finishOp(Zb.slash,1)},r.readToken_interpreter=function(){if(0!==this.state.pos||this.length<2)return!1;var e=this.input.charCodeAt(this.state.pos+1);if(33!==e)return!1;var t=this.state.pos;for(this.state.pos+=1;!ux(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);var r=this.input.slice(t+2,this.state.pos);return this.finishToken(Zb.interpreterDirective,r),!0},r.readToken_mult_modulo=function(e){var t=42===e?Zb.star:Zb.modulo,r=1,n=this.input.charCodeAt(this.state.pos+1),a=this.state.exprAllowed;42===e&&42===n&&(r++,n=this.input.charCodeAt(this.state.pos+2),t=Zb.exponent),61!==n||a||(r++,t=Zb.assign),this.finishOp(t,r)},r.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.state.pos+1);if(t!==e){if(124===e){if(62===t)return void this.finishOp(Zb.pipeline,2);if(this.hasPlugin("recordAndTuple")&&125===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,gx.RecordExpressionBarIncorrectEndSyntaxType);return void this.finishOp(Zb.braceBarR,2)}if(this.hasPlugin("recordAndTuple")&&93===t){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,gx.TupleExpressionBarIncorrectEndSyntaxType);return void this.finishOp(Zb.bracketBarR,2)}}61!==t?this.finishOp(124===e?Zb.bitwiseOR:Zb.bitwiseAND,1):this.finishOp(Zb.assign,2)}else 61===this.input.charCodeAt(this.state.pos+2)?this.finishOp(Zb.assign,3):this.finishOp(124===e?Zb.logicalOR:Zb.logicalAND,2)},r.readToken_caret=function(){61===this.input.charCodeAt(this.state.pos+1)?this.finishOp(Zb.assign,2):this.finishOp(Zb.bitwiseXOR,1)},r.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.state.pos+1);if(t===e)return 45!==t||this.inModule||62!==this.input.charCodeAt(this.state.pos+2)||0!==this.state.lastTokEnd&&!this.hasPrecedingLineBreak()?void this.finishOp(Zb.incDec,2):(this.skipLineComment(3),this.skipSpace(),void this.nextToken());61===t?this.finishOp(Zb.assign,2):this.finishOp(Zb.plusMin,1)},r.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.state.pos+1),r=1;return t===e?(r=62===e&&62===this.input.charCodeAt(this.state.pos+2)?3:2,61===this.input.charCodeAt(this.state.pos+r)?void this.finishOp(Zb.assign,r+1):void this.finishOp(Zb.bitShift,r)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.state.pos+2)||45!==this.input.charCodeAt(this.state.pos+3)?(61===t&&(r=2),void this.finishOp(Zb.relational,r)):(this.skipLineComment(4),this.skipSpace(),void this.nextToken())},r.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.state.pos+1);if(61!==t)return 61===e&&62===t?(this.state.pos+=2,void this.finishToken(Zb.arrow)):void this.finishOp(61===e?Zb.eq:Zb.bang,1);this.finishOp(Zb.equality,61===this.input.charCodeAt(this.state.pos+2)?3:2)},r.readToken_question=function(){var e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);63===e?61===t?this.finishOp(Zb.assign,3):this.finishOp(Zb.nullishCoalescing,2):46!==e||t>=48&&t<=57?(++this.state.pos,this.finishToken(Zb.question)):(this.state.pos+=2,this.finishToken(Zb.questionDot))},r.getTokenFromCode=function(e){switch(e){case 46:return void this.readToken_dot();case 40:return++this.state.pos,void this.finishToken(Zb.parenL);case 41:return++this.state.pos,void this.finishToken(Zb.parenR);case 59:return++this.state.pos,void this.finishToken(Zb.semi);case 44:return++this.state.pos,void this.finishToken(Zb.comma);case 91:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,gx.TupleExpressionBarIncorrectStartSyntaxType);this.finishToken(Zb.bracketBarL),this.state.pos+=2}else++this.state.pos,this.finishToken(Zb.bracketL);return;case 93:return++this.state.pos,void this.finishToken(Zb.bracketR);case 123:if(this.hasPlugin("recordAndTuple")&&124===this.input.charCodeAt(this.state.pos+1)){if("bar"!==this.getPluginOption("recordAndTuple","syntaxType"))throw this.raise(this.state.pos,gx.RecordExpressionBarIncorrectStartSyntaxType);this.finishToken(Zb.braceBarL),this.state.pos+=2}else++this.state.pos,this.finishToken(Zb.braceL);return;case 125:return++this.state.pos,void this.finishToken(Zb.braceR);case 58:return void(this.hasPlugin("functionBind")&&58===this.input.charCodeAt(this.state.pos+1)?this.finishOp(Zb.doubleColon,2):(++this.state.pos,this.finishToken(Zb.colon)));case 63:return void this.readToken_question();case 96:return++this.state.pos,void this.finishToken(Zb.backQuote);case 48:var t=this.input.charCodeAt(this.state.pos+1);if(120===t||88===t)return void this.readRadixNumber(16);if(111===t||79===t)return void this.readRadixNumber(8);if(98===t||66===t)return void this.readRadixNumber(2);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return void this.readNumber(!1);case 34:case 39:return void this.readString(e);case 47:return void this.readToken_slash();case 37:case 42:return void this.readToken_mult_modulo(e);case 124:case 38:return void this.readToken_pipe_amp(e);case 94:return void this.readToken_caret();case 43:case 45:return void this.readToken_plus_min(e);case 60:case 62:return void this.readToken_lt_gt(e);case 61:case 33:return void this.readToken_eq_excl(e);case 126:return void this.finishOp(Zb.tilde,1);case 64:return++this.state.pos,void this.finishToken(Zb.at);case 35:return void this.readToken_numberSign();case 92:return void this.readWord();default:if(yi(e))return void this.readWord()}throw this.raise(this.state.pos,gx.InvalidOrUnexpectedToken,String.fromCodePoint(e))},r.finishOp=function(e,t){var r=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,r)},r.readRegexp=function(){for(var e,t,r=this.state.pos;;){if(this.state.pos>=this.length)throw this.raise(r,gx.UnterminatedRegExp);var n=this.input.charAt(this.state.pos);if(lx.test(n))throw this.raise(r,gx.UnterminatedRegExp);if(e)e=!1;else{if("["===n)t=!0;else if("]"===n&&t)t=!1;else if("/"===n&&!t)break;e="\\"===n}++this.state.pos}var a=this.input.slice(r,this.state.pos);++this.state.pos;for(var s="";this.state.pos<this.length;){var i=this.input[this.state.pos],o=this.input.codePointAt(this.state.pos);if(Zx.has(i))s.indexOf(i)>-1&&this.raise(this.state.pos+1,gx.DuplicateRegExpFlags);else{if(!gi(o)&&92!==o)break;this.raise(this.state.pos+1,gx.MalformedRegExpFlags)}++this.state.pos,s+=i}this.finishToken(Zb.regexp,{pattern:a,flags:s})},r.readInt=function(e,t,r,n){void 0===n&&(n=!0);for(var a=this.state.pos,s=16===e?eE.hex:eE.decBinOct,i=16===e?tE.hex:10===e?tE.dec:8===e?tE.oct:tE.bin,o=!1,l=0,c=0,u=null==t?1/0:t;c<u;++c){var p=this.input.charCodeAt(this.state.pos),d=void 0;if(95!==p){if((d=p>=97?p-97+10:p>=65?p-65+10:Qx(p)?p-48:1/0)>=e)if(this.options.errorRecovery&&d<=9)d=0,this.raise(this.state.start+c+2,gx.InvalidDigit,e);else{if(!r)break;d=0,o=!0}++this.state.pos,l=l*e+d}else{var f=this.input.charCodeAt(this.state.pos-1),h=this.input.charCodeAt(this.state.pos+1);(-1===i.indexOf(h)||s.indexOf(f)>-1||s.indexOf(h)>-1||Number.isNaN(h))&&this.raise(this.state.pos,gx.UnexpectedNumericSeparator),n||this.raise(this.state.pos,gx.NumericSeparatorInEscapeSequence),++this.state.pos}}return this.state.pos===a||null!=t&&this.state.pos-a!==t||o?null:l},r.readRadixNumber=function(e){var t=this.state.pos,r=!1;this.state.pos+=2;var n=this.readInt(e);null==n&&this.raise(this.state.start+2,gx.InvalidDigit,e);var a=this.input.charCodeAt(this.state.pos);if(110===a)++this.state.pos,r=!0;else if(109===a)throw this.raise(t,gx.InvalidDecimal);if(yi(this.input.codePointAt(this.state.pos)))throw this.raise(this.state.pos,gx.NumberIdentifier);if(r){var s=this.input.slice(t,this.state.pos).replace(/[_n]/g,"");this.finishToken(Zb.bigint,s)}else this.finishToken(Zb.num,n)},r.readNumber=function(e){var t=this.state.pos,r=!1,n=!1,a=!1,s=!1,i=!1;e||null!==this.readInt(10)||this.raise(t,gx.InvalidNumber);var o=this.state.pos-t>=2&&48===this.input.charCodeAt(t);if(o){var l=this.input.slice(t,this.state.pos);if(this.state.strict)this.raise(t,gx.StrictOctalLiteral);else{var c=l.indexOf("_");c>0&&this.raise(c+t,gx.ZeroDigitNumericSeparator)}i=o&&!/[89]/.test(l)}var u=this.input.charCodeAt(this.state.pos);if(46!==u||i||(++this.state.pos,this.readInt(10),r=!0,u=this.input.charCodeAt(this.state.pos)),69!==u&&101!==u||i||(43!==(u=this.input.charCodeAt(++this.state.pos))&&45!==u||++this.state.pos,null===this.readInt(10)&&this.raise(t,gx.InvalidOrMissingExponent),r=!0,s=!0,u=this.input.charCodeAt(this.state.pos)),110===u&&((r||o)&&this.raise(t,gx.InvalidBigIntLiteral),++this.state.pos,n=!0),109===u&&(this.expectPlugin("decimal",this.state.pos),(s||o)&&this.raise(t,gx.InvalidDecimal),++this.state.pos,a=!0),yi(this.input.codePointAt(this.state.pos)))throw this.raise(this.state.pos,gx.NumberIdentifier);var p=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(n)this.finishToken(Zb.bigint,p);else if(a)this.finishToken(Zb.decimal,p);else{var d=i?parseInt(p,8):parseFloat(p);this.finishToken(Zb.num,d)}},r.readCodePoint=function(e){var t;if(123===this.input.charCodeAt(this.state.pos)){var r=++this.state.pos;if(t=this.readHexChar(this.input.indexOf("}",this.state.pos)-this.state.pos,!0,e),++this.state.pos,null!==t&&t>1114111){if(!e)return null;this.raise(r,gx.InvalidCodePoint)}}else t=this.readHexChar(4,!1,e);return t},r.readString=function(e){for(var t="",r=++this.state.pos;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,gx.UnterminatedString);var n=this.input.charCodeAt(this.state.pos);if(n===e)break;if(92===n)t+=this.input.slice(r,this.state.pos),t+=this.readEscapedChar(!1),r=this.state.pos;else if(8232===n||8233===n)++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;else{if(ux(n))throw this.raise(this.state.start,gx.UnterminatedString);++this.state.pos}}t+=this.input.slice(r,this.state.pos++),this.finishToken(Zb.string,t)},r.readTmplToken=function(){for(var e="",t=this.state.pos,r=!1;;){if(this.state.pos>=this.length)throw this.raise(this.state.start,gx.UnterminatedTemplate);var n=this.input.charCodeAt(this.state.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.state.pos+1))return this.state.pos===this.state.start&&this.match(Zb.template)?36===n?(this.state.pos+=2,void this.finishToken(Zb.dollarBraceL)):(++this.state.pos,void this.finishToken(Zb.backQuote)):(e+=this.input.slice(t,this.state.pos),void this.finishToken(Zb.template,r?null:e));if(92===n){e+=this.input.slice(t,this.state.pos);var a=this.readEscapedChar(!0);null===a?r=!0:e+=a,t=this.state.pos}else if(ux(n)){switch(e+=this.input.slice(t,this.state.pos),++this.state.pos,n){case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}++this.state.curLine,this.state.lineStart=this.state.pos,t=this.state.pos}else++this.state.pos}},r.readEscapedChar=function(e){var t=!e,r=this.input.charCodeAt(++this.state.pos);switch(++this.state.pos,r){case 110:return"\n";case 114:return"\r";case 120:var n=this.readHexChar(2,!1,t);return null===n?null:String.fromCharCode(n);case 117:var a=this.readCodePoint(t);return null===a?null:String.fromCodePoint(a);case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.state.pos)&&++this.state.pos;case 10:this.state.lineStart=this.state.pos,++this.state.curLine;case 8232:case 8233:return"";case 56:case 57:if(e)return null;this.state.strict&&this.raise(this.state.pos-1,gx.StrictNumericEscape);default:if(r>=48&&r<=55){var s=this.state.pos-1,i=this.input.substr(this.state.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(i,8);o>255&&(i=i.slice(0,-1),o=parseInt(i,8)),this.state.pos+=i.length-1;var l=this.input.charCodeAt(this.state.pos);if("0"!==i||56===l||57===l){if(e)return null;this.state.strict?this.raise(s,gx.StrictNumericEscape):this.state.octalPositions.push(s)}return String.fromCharCode(o)}return String.fromCharCode(r)}},r.readHexChar=function(e,t,r){var n=this.state.pos,a=this.readInt(16,e,t,!1);return null===a&&(r?this.raise(n,gx.InvalidEscapeSequence):this.state.pos=n-1),a},r.readWord1=function(){var e="";this.state.containsEsc=!1;for(var t=this.state.pos,r=this.state.pos;this.state.pos<this.length;){var n=this.input.codePointAt(this.state.pos);if(gi(n))this.state.pos+=n<=65535?1:2;else if(this.state.isIterator&&64===n)++this.state.pos;else{if(92!==n)break;this.state.containsEsc=!0,e+=this.input.slice(r,this.state.pos);var a=this.state.pos,s=this.state.pos===t?yi:gi;if(117!==this.input.charCodeAt(++this.state.pos)){this.raise(this.state.pos,gx.MissingUnicodeEscape);continue}++this.state.pos;var i=this.readCodePoint(!0);null!==i&&(s(i)||this.raise(a,gx.EscapedCharNotAnIdentifier),e+=String.fromCodePoint(i)),r=this.state.pos}}return e+this.input.slice(r,this.state.pos)},r.isIterator=function(e){return"@@iterator"===e||"@@asyncIterator"===e},r.readWord=function(){var e=this.readWord1(),t=Yb.get(e)||Zb.name;!this.state.isIterator||this.isIterator(e)&&this.state.inType||this.raise(this.state.pos,gx.InvalidIdentifier,e),this.finishToken(t,e)},r.checkKeywordEscapes=function(){var e=this.state.type.keyword;e&&this.state.containsEsc&&this.raise(this.state.start,gx.InvalidEscapedReservedWord,e)},r.braceIsBlock=function(e){var t=this.curContext();return t===Ex.functionExpression||t===Ex.functionStatement||(e!==Zb.colon||t!==Ex.braceStatement&&t!==Ex.braceExpression?e===Zb._return||e===Zb.name&&this.state.exprAllowed?this.hasPrecedingLineBreak():e===Zb._else||e===Zb.semi||e===Zb.eof||e===Zb.parenR||e===Zb.arrow||(e===Zb.braceL?t===Ex.braceStatement:e!==Zb._var&&e!==Zb._const&&e!==Zb.name&&(e===Zb.relational||!this.state.exprAllowed)):!t.isExpr)},r.updateContext=function(e){var t,r=this.state.type;!r.keyword||e!==Zb.dot&&e!==Zb.questionDot?(t=r.updateContext)?t.call(this,e):this.state.exprAllowed=r.beforeExpr:this.state.exprAllowed=!1},t}(vx)),aE=function(){this.shorthandAssign=-1,this.doubleProto=-1},sE=function(){function e(e,t,r){this.type=void 0,this.start=void 0,this.end=void 0,this.loc=void 0,this.range=void 0,this.leadingComments=void 0,this.trailingComments=void 0,this.innerComments=void 0,this.extra=void 0,this.type="",this.start=t,this.end=0,this.loc=new hx(r),(null==e?void 0:e.options.ranges)&&(this.range=[t,0]),(null==e?void 0:e.filename)&&(this.loc.filename=e.filename)}return e.prototype.__clone=function(){for(var t=new e,r=Object.keys(this),n=0,a=r.length;n<a;n++){var s=r[n];"leadingComments"!==s&&"trailingComments"!==s&&"innerComments"!==s&&(t[s]=this[s])}return t},e}(),iE=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.startNode=function(){return new sE(this,this.state.start,this.state.startLoc)},r.startNodeAt=function(e,t){return new sE(this,e,t)},r.startNodeAtNode=function(e){return this.startNodeAt(e.start,e.loc.start)},r.finishNode=function(e,t){return this.finishNodeAt(e,t,this.state.lastTokEnd,this.state.lastTokEndLoc)},r.finishNodeAt=function(e,t,r,n){if(e.end>0)throw new Error("Do not call finishNode*() twice on the same node. Instead use resetEndLocation() or change type directly.");return e.type=t,e.end=r,e.loc.end=n,this.options.ranges&&(e.range[1]=r),this.processComment(e),e},r.resetStartLocation=function(e,t,r){e.start=t,e.loc.start=r,this.options.ranges&&(e.range[0]=t)},r.resetEndLocation=function(e,t,r){void 0===t&&(t=this.state.lastTokEnd),void 0===r&&(r=this.state.lastTokEndLoc),e.end=t,e.loc.end=r,this.options.ranges&&(e.range[1]=t)},r.resetStartLocationFromNode=function(e,t){this.resetStartLocation(e,t.start,t.loc.start)},t}(nE),oE=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.checkProto=function(e,t,r,n){if("SpreadElement"!==e.type&&"ObjectMethod"!==e.type&&!e.computed&&!e.shorthand){var a=e.key;if("__proto__"===("Identifier"===a.type?a.name:a.value)){if(t)return void this.raise(a.start,gx.RecordNoProto);r.used&&(n?-1===n.doubleProto&&(n.doubleProto=a.start):this.raise(a.start,gx.DuplicateProto)),r.used=!0}}},r.shouldExitDescending=function(e,t){return"ArrowFunctionExpression"===e.type&&e.start===t},r.getExpression=function(){var e=0;this.hasPlugin("topLevelAwait")&&this.inModule&&(e|=2),this.scope.enter(1),this.prodParam.enter(e),this.nextToken();var t=this.parseExpression();return this.match(Zb.eof)||this.unexpected(),t.comments=this.state.comments,t.errors=this.state.errors,t},r.parseExpression=function(e,t){var r=this;return e?this.disallowInAnd(function(){return r.parseExpressionBase(t)}):this.allowInAnd(function(){return r.parseExpressionBase(t)})},r.parseExpressionBase=function(e){var t=this.state.start,r=this.state.startLoc,n=this.parseMaybeAssign(e);if(this.match(Zb.comma)){var a=this.startNodeAt(t,r);for(a.expressions=[n];this.eat(Zb.comma);)a.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(a.expressions),this.finishNode(a,"SequenceExpression")}return n},r.parseMaybeAssignDisallowIn=function(e,t,r){var n=this;return this.disallowInAnd(function(){return n.parseMaybeAssign(e,t,r)})},r.parseMaybeAssignAllowIn=function(e,t,r){var n=this;return this.allowInAnd(function(){return n.parseMaybeAssign(e,t,r)})},r.parseMaybeAssign=function(e,t,r){var n,a=this.state.start,s=this.state.startLoc;if(this.isContextual("yield")){if(this.prodParam.hasYield){var i=this.parseYield();return t&&(i=t.call(this,i,a,s)),i}this.state.exprAllowed=!1}e?n=!1:(e=new aE,n=!0),(this.match(Zb.parenL)||this.match(Zb.name))&&(this.state.potentialArrowAt=this.state.start);var o=this.parseMaybeConditional(e,r);if(t&&(o=t.call(this,o,a,s)),this.state.type.isAssign){var l=this.startNodeAt(a,s),c=this.state.value;return l.operator=c,this.match(Zb.eq)?(l.left=this.toAssignable(o),e.doubleProto=-1):l.left=o,e.shorthandAssign>=l.left.start&&(e.shorthandAssign=-1),this.checkLVal(o,void 0,void 0,"assignment expression"),this.next(),l.right=this.parseMaybeAssign(),this.finishNode(l,"AssignmentExpression")}return n&&this.checkExpressionErrors(e,!0),o},r.parseMaybeConditional=function(e,t){var r=this.state.start,n=this.state.startLoc,a=this.state.potentialArrowAt,s=this.parseExprOps(e);return this.shouldExitDescending(s,a)?s:this.parseConditional(s,r,n,t)},r.parseConditional=function(e,t,r,n){if(this.eat(Zb.question)){var a=this.startNodeAt(t,r);return a.test=e,a.consequent=this.parseMaybeAssignAllowIn(),this.expect(Zb.colon),a.alternate=this.parseMaybeAssign(),this.finishNode(a,"ConditionalExpression")}return e},r.parseExprOps=function(e){var t=this.state.start,r=this.state.startLoc,n=this.state.potentialArrowAt,a=this.parseMaybeUnary(e);return this.shouldExitDescending(a,n)?a:this.parseExprOp(a,t,r,-1)},r.parseExprOp=function(e,t,r,n){var a=this.state.type.binop;if(null!=a&&(this.prodParam.hasIn||!this.match(Zb._in))&&a>n){var s=this.state.type;if(s===Zb.pipeline){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.state.inPipeline=!0,this.checkPipelineAtInfixOperator(e,t)}var i=this.startNodeAt(t,r);i.left=e,i.operator=this.state.value,s!==Zb.exponent||"UnaryExpression"!==e.type||!this.options.createParenthesizedExpressions&&e.extra&&e.extra.parenthesized||this.raise(e.argument.start,gx.UnexpectedTokenUnaryExponentiation);var o=s===Zb.logicalOR||s===Zb.logicalAND,l=s===Zb.nullishCoalescing;if(l&&(a=Zb.logicalAND.binop),this.next(),s===Zb.pipeline&&"minimal"===this.getPluginOption("pipelineOperator","proposal")&&this.match(Zb.name)&&"await"===this.state.value&&this.prodParam.hasAwait)throw this.raise(this.state.start,gx.UnexpectedAwaitAfterPipelineBody);i.right=this.parseExprOpRightExpr(s,a),this.finishNode(i,o||l?"LogicalExpression":"BinaryExpression");var c=this.state.type;if(l&&(c===Zb.logicalOR||c===Zb.logicalAND)||o&&c===Zb.nullishCoalescing)throw this.raise(this.state.start,gx.MixingCoalesceWithLogical);return this.parseExprOp(i,t,r,n)}return e},r.parseExprOpRightExpr=function(e,t){var r=this,n=this.state.start,a=this.state.startLoc;switch(e){case Zb.pipeline:switch(this.getPluginOption("pipelineOperator","proposal")){case"smart":return this.withTopicPermittingContext(function(){return r.parseSmartPipelineBody(r.parseExprOpBaseRightExpr(e,t),n,a)});case"fsharp":return this.withSoloAwaitPermittingContext(function(){return r.parseFSharpPipelineBody(t)})}default:return this.parseExprOpBaseRightExpr(e,t)}},r.parseExprOpBaseRightExpr=function(e,t){var r=this.state.start,n=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnary(),r,n,e.rightAssociative?t-1:t)},r.parseMaybeUnary=function(e){if(this.isContextual("await")&&this.isAwaitAllowed())return this.parseAwait();var t=this.match(Zb.incDec),r=this.startNode();if(this.state.type.prefix){r.operator=this.state.value,r.prefix=!0,this.match(Zb._throw)&&this.expectPlugin("throwExpressions");var n=this.match(Zb._delete);if(this.next(),r.argument=this.parseMaybeUnary(),this.checkExpressionErrors(e,!0),this.state.strict&&n){var a=r.argument;"Identifier"===a.type?this.raise(r.start,gx.StrictDelete):"MemberExpression"!==a.type&&"OptionalMemberExpression"!==a.type||"PrivateName"!==a.property.type||this.raise(r.start,gx.DeletePrivateField)}if(!t)return this.finishNode(r,"UnaryExpression")}return this.parseUpdate(r,t,e)},r.parseUpdate=function(e,t,r){if(t)return this.checkLVal(e.argument,void 0,void 0,"prefix operation"),this.finishNode(e,"UpdateExpression");var n=this.state.start,a=this.state.startLoc,s=this.parseExprSubscripts(r);if(this.checkExpressionErrors(r,!1))return s;for(;this.state.type.postfix&&!this.canInsertSemicolon();){var i=this.startNodeAt(n,a);i.operator=this.state.value,i.prefix=!1,i.argument=s,this.checkLVal(s,void 0,void 0,"postfix operation"),this.next(),s=this.finishNode(i,"UpdateExpression")}return s},r.parseExprSubscripts=function(e){var t=this.state.start,r=this.state.startLoc,n=this.state.potentialArrowAt,a=this.parseExprAtom(e);return this.shouldExitDescending(a,n)?a:this.parseSubscripts(a,t,r)},r.parseSubscripts=function(e,t,r,n){var a={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do{var s=this.state.maybeInAsyncArrowHead;a.maybeAsyncArrow&&(this.state.maybeInAsyncArrowHead=!0),e=this.parseSubscript(e,t,r,n,a),a.maybeAsyncArrow=!1,this.state.maybeInAsyncArrowHead=s}while(!a.stop);return e},r.parseSubscript=function(e,t,r,n,a){if(!n&&this.eat(Zb.doubleColon))return this.parseBind(e,t,r,n,a);if(this.match(Zb.backQuote))return this.parseTaggedTemplateExpression(e,t,r,a);var s=!1;if(this.match(Zb.questionDot)){if(a.optionalChainMember=s=!0,n&&40===this.lookaheadCharCode())return a.stop=!0,e;this.next()}return!n&&this.match(Zb.parenL)?this.parseCoverCallAndAsyncArrowHead(e,t,r,a,s):s||this.match(Zb.bracketL)||this.eat(Zb.dot)?this.parseMember(e,t,r,a,s):(a.stop=!0,e)},r.parseMember=function(e,t,r,n,a){var s=this.startNodeAt(t,r),i=this.eat(Zb.bracketL);s.object=e,s.computed=i;var o=i?this.parseExpression():this.parseMaybePrivateName(!0);return"PrivateName"===o.type&&("Super"===s.object.type&&this.raise(t,gx.SuperPrivateField),this.classScope.usePrivateName(o.id.name,o.start)),s.property=o,i&&this.expect(Zb.bracketR),n.optionalChainMember?(s.optional=a,this.finishNode(s,"OptionalMemberExpression")):this.finishNode(s,"MemberExpression")},r.parseBind=function(e,t,r,n,a){var s=this.startNodeAt(t,r);return s.object=e,s.callee=this.parseNoCallExpr(),a.stop=!0,this.parseSubscripts(this.finishNode(s,"BindExpression"),t,r,n)},r.parseCoverCallAndAsyncArrowHead=function(e,t,r,n,a){var s=this.state.maybeInArrowParameters,i=this.state.yieldPos,o=this.state.awaitPos;this.state.maybeInArrowParameters=!0,this.state.yieldPos=-1,this.state.awaitPos=-1,this.next();var l=this.startNodeAt(t,r);return l.callee=e,n.optionalChainMember&&(l.optional=a),l.arguments=a?this.parseCallExpressionArguments(Zb.parenR,!1):this.parseCallExpressionArguments(Zb.parenR,n.maybeAsyncArrow,"Import"===e.type,"Super"!==e.type,l),this.finishCallExpression(l,n.optionalChainMember),n.maybeAsyncArrow&&this.shouldParseAsyncArrow()&&!a?(n.stop=!0,l=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t,r),l),this.checkYieldAwaitInDefaultParams(),this.state.yieldPos=i,this.state.awaitPos=o):(this.toReferencedListDeep(l.arguments),-1!==i&&(this.state.yieldPos=i),(this.isAwaitAllowed()||s)&&-1===o||(this.state.awaitPos=o)),this.state.maybeInArrowParameters=s,l},r.parseTaggedTemplateExpression=function(e,t,r,n){var a=this.startNodeAt(t,r);return a.tag=e,a.quasi=this.parseTemplate(!0),n.optionalChainMember&&this.raise(t,gx.OptionalChainingNoTemplate),this.finishNode(a,"TaggedTemplateExpression")},r.atPossibleAsyncArrow=function(e){return"Identifier"===e.type&&"async"===e.name&&this.state.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&e.start===this.state.potentialArrowAt},r.finishCallExpression=function(e,t){if("Import"===e.callee.type)if(2===e.arguments.length&&(this.hasPlugin("moduleAttributes")||this.expectPlugin("importAssertions")),0===e.arguments.length||e.arguments.length>2)this.raise(e.start,gx.ImportCallArity,this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?"one or two arguments":"one argument");else for(var r=0,n=e.arguments;r<n.length;r++){var a=n[r];"SpreadElement"===a.type&&this.raise(a.start,gx.ImportCallSpreadArgument)}return this.finishNode(e,t?"OptionalCallExpression":"CallExpression")},r.parseCallExpressionArguments=function(e,t,r,n,a){var s,i=[],o=!0,l=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(e);){if(o)o=!1;else if(this.expect(Zb.comma),this.match(e)){!r||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")||this.raise(this.state.lastTokStart,gx.ImportCallArgumentTrailingComma),a&&this.addExtra(a,"trailingComma",this.state.lastTokStart),this.next();break}this.match(Zb.parenL)&&!s&&(s=this.state.start),i.push(this.parseExprListItem(!1,t?new aE:void 0,t?{start:0}:void 0,n))}return t&&s&&this.shouldParseAsyncArrow()&&this.unexpected(),this.state.inFSharpPipelineDirectBody=l,i},r.shouldParseAsyncArrow=function(){return this.match(Zb.arrow)&&!this.canInsertSemicolon()},r.parseAsyncArrowFromCallExpression=function(e,t){var r;return this.expect(Zb.arrow),this.parseArrowExpression(e,t.arguments,!0,null==(r=t.extra)?void 0:r.trailingComma),e},r.parseNoCallExpr=function(){var e=this.state.start,t=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,t,!0)},r.parseExprAtom=function(e){this.state.type===Zb.slash&&this.readRegexp();var t,r=this.state.potentialArrowAt===this.state.start;switch(this.state.type){case Zb._super:return this.parseSuper();case Zb._import:return t=this.startNode(),this.next(),this.match(Zb.dot)?this.parseImportMetaProperty(t):(this.match(Zb.parenL)||this.raise(this.state.lastTokStart,gx.UnsupportedImport),this.finishNode(t,"Import"));case Zb._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case Zb.name:var n=this.state.containsEsc,a=this.parseIdentifier();if(!n&&"async"===a.name&&!this.canInsertSemicolon()){if(this.match(Zb._function)){var s=this.state.context.length-1;if(this.state.context[s]!==Ex.functionStatement)throw new Error("Internal error");return this.state.context[s]=Ex.functionExpression,this.next(),this.parseFunction(this.startNodeAtNode(a),void 0,!0)}if(this.match(Zb.name))return this.parseAsyncArrowUnaryFunction(a)}return r&&this.match(Zb.arrow)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(a),[a],!1)):a;case Zb._do:return this.parseDo();case Zb.regexp:var i=this.state.value;return(t=this.parseLiteral(i.value,"RegExpLiteral")).pattern=i.pattern,t.flags=i.flags,t;case Zb.num:return this.parseLiteral(this.state.value,"NumericLiteral");case Zb.bigint:return this.parseLiteral(this.state.value,"BigIntLiteral");case Zb.decimal:return this.parseLiteral(this.state.value,"DecimalLiteral");case Zb.string:return this.parseLiteral(this.state.value,"StringLiteral");case Zb._null:return t=this.startNode(),this.next(),this.finishNode(t,"NullLiteral");case Zb._true:case Zb._false:return this.parseBooleanLiteral();case Zb.parenL:return this.parseParenAndDistinguishExpression(r);case Zb.bracketBarL:case Zb.bracketHashL:return this.parseArrayLike(this.state.type===Zb.bracketBarL?Zb.bracketBarR:Zb.bracketR,!1,!0,e);case Zb.bracketL:return this.parseArrayLike(Zb.bracketR,!0,!1,e);case Zb.braceBarL:case Zb.braceHashL:return this.parseObjectLike(this.state.type===Zb.braceBarL?Zb.braceBarR:Zb.braceR,!1,!0,e);case Zb.braceL:return this.parseObjectLike(Zb.braceR,!1,!1,e);case Zb._function:return this.parseFunctionOrFunctionSent();case Zb.at:this.parseDecorators();case Zb._class:return t=this.startNode(),this.takeDecorators(t),this.parseClass(t,!1);case Zb._new:return this.parseNewOrNewTarget();case Zb.backQuote:return this.parseTemplate(!1);case Zb.doubleColon:t=this.startNode(),this.next(),t.object=null;var o=t.callee=this.parseNoCallExpr();if("MemberExpression"===o.type)return this.finishNode(t,"BindExpression");throw this.raise(o.start,gx.UnsupportedBind);case Zb.hash:if(this.state.inPipeline)return t=this.startNode(),"smart"!==this.getPluginOption("pipelineOperator","proposal")&&this.raise(t.start,gx.PrimaryTopicRequiresSmartPipeline),this.next(),this.primaryTopicReferenceIsAllowedInCurrentTopicContext()||this.raise(t.start,gx.PrimaryTopicNotAllowed),this.registerTopicReference(),this.finishNode(t,"PipelinePrimaryTopicReference");var l=this.input.codePointAt(this.state.end);if(yi(l)||92===l){var c=this.state.start;if(t=this.parseMaybePrivateName(!0),this.match(Zb._in))this.expectPlugin("privateIn"),this.classScope.usePrivateName(t.id.name,t.start);else{if(!this.hasPlugin("privateIn"))throw this.unexpected(c);this.raise(this.state.start,gx.PrivateInExpectedIn,t.id.name)}return t}case Zb.relational:if("<"===this.state.value){var u=this.input.codePointAt(this.nextTokenStart());(yi(u)||62===u)&&this.expectOnePlugin(["jsx","flow","typescript"])}default:throw this.unexpected()}},r.parseAsyncArrowUnaryFunction=function(e){var t=this.startNodeAtNode(e),r=this.state.maybeInArrowParameters,n=this.state.maybeInAsyncArrowHead,a=this.state.yieldPos,s=this.state.awaitPos;this.state.maybeInArrowParameters=!0,this.state.maybeInAsyncArrowHead=!0,this.state.yieldPos=-1,this.state.awaitPos=-1
;var i=[this.parseIdentifier()];return this.hasPrecedingLineBreak()&&this.raise(this.state.pos,gx.LineTerminatorBeforeArrow),this.expect(Zb.arrow),this.checkYieldAwaitInDefaultParams(),this.state.maybeInArrowParameters=r,this.state.maybeInAsyncArrowHead=n,this.state.yieldPos=a,this.state.awaitPos=s,this.parseArrowExpression(t,i,!0),t},r.parseDo=function(){this.expectPlugin("doExpressions");var e=this.startNode();this.next();var t=this.state.labels;return this.state.labels=[],e.body=this.parseBlock(),this.state.labels=t,this.finishNode(e,"DoExpression")},r.parseSuper=function(){var e=this.startNode();return this.next(),!this.match(Zb.parenL)||this.scope.allowDirectSuper||this.options.allowSuperOutsideMethod?this.scope.allowSuper||this.options.allowSuperOutsideMethod||this.raise(e.start,gx.UnexpectedSuper):this.raise(e.start,gx.SuperNotAllowed),this.match(Zb.parenL)||this.match(Zb.bracketL)||this.match(Zb.dot)||this.raise(e.start,gx.UnsupportedSuper),this.finishNode(e,"Super")},r.parseBooleanLiteral=function(){var e=this.startNode();return e.value=this.match(Zb._true),this.next(),this.finishNode(e,"BooleanLiteral")},r.parseMaybePrivateName=function(e){if(this.match(Zb.hash)){this.expectOnePlugin(["classPrivateProperties","classPrivateMethods"]),e||this.raise(this.state.pos,gx.UnexpectedPrivateField);var t=this.startNode();return this.next(),this.assertNoSpace("Unexpected space between # and identifier"),t.id=this.parseIdentifier(!0),this.finishNode(t,"PrivateName")}return this.parseIdentifier(!0)},r.parseFunctionOrFunctionSent=function(){var e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(Zb.dot)){var t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.parseMetaProperty(e,t,"sent")}return this.parseFunction(e)},r.parseMetaProperty=function(e,t,r){e.meta=t,"function"===t.name&&"sent"===r&&(this.isContextual(r)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected());var n=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==r||n)&&this.raise(e.property.start,gx.UnsupportedMetaProperty,t.name,r),this.finishNode(e,"MetaProperty")},r.parseImportMetaProperty=function(e){var t=this.createIdentifier(this.startNodeAtNode(e),"import");return this.next(),this.isContextual("meta")&&(this.inModule||this.raiseWithData(t.start,{code:"BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"},gx.ImportMetaOutsideModule),this.sawUnambiguousESM=!0),this.parseMetaProperty(e,t,"meta")},r.parseLiteral=function(e,t,r,n){r=r||this.state.start,n=n||this.state.startLoc;var a=this.startNodeAt(r,n);return this.addExtra(a,"rawValue",e),this.addExtra(a,"raw",this.input.slice(r,this.state.end)),a.value=e,this.next(),this.finishNode(a,t)},r.parseParenAndDistinguishExpression=function(e){var t,r=this.state.start,n=this.state.startLoc;this.next();var a=this.state.maybeInArrowParameters,s=this.state.yieldPos,i=this.state.awaitPos,o=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.yieldPos=-1,this.state.awaitPos=-1,this.state.inFSharpPipelineDirectBody=!1;for(var l,c,u=this.state.start,p=this.state.startLoc,d=[],f=new aE,h={start:0},m=!0;!this.match(Zb.parenR);){if(m)m=!1;else if(this.expect(Zb.comma,h.start||null),this.match(Zb.parenR)){c=this.state.start;break}if(this.match(Zb.ellipsis)){var y=this.state.start,g=this.state.startLoc;l=this.state.start,d.push(this.parseParenItem(this.parseRestBinding(),y,g)),this.checkCommaAfterRest(41);break}d.push(this.parseMaybeAssignAllowIn(f,this.parseParenItem,h))}var v=this.state.lastTokEnd,b=this.state.lastTokEndLoc;this.expect(Zb.parenR),this.state.maybeInArrowParameters=a,this.state.inFSharpPipelineDirectBody=o;var x=this.startNodeAt(r,n);if(e&&this.shouldParseArrow()&&(x=this.parseArrow(x))){this.isAwaitAllowed()||this.state.maybeInAsyncArrowHead||(this.state.awaitPos=i),this.checkYieldAwaitInDefaultParams(),this.state.yieldPos=s,this.state.awaitPos=i;for(var E=0;E<d.length;E++){var w=d[E];w.extra&&w.extra.parenthesized&&this.unexpected(w.extra.parenStart)}return this.parseArrowExpression(x,d,!1),x}if(-1!==s&&(this.state.yieldPos=s),-1!==i&&(this.state.awaitPos=i),d.length||this.unexpected(this.state.lastTokStart),c&&this.unexpected(c),l&&this.unexpected(l),this.checkExpressionErrors(f,!0),h.start&&this.unexpected(h.start),this.toReferencedListDeep(d,!0),d.length>1?((t=this.startNodeAt(u,p)).expressions=d,this.finishNodeAt(t,"SequenceExpression",v,b)):t=d[0],!this.options.createParenthesizedExpressions)return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",r),t;var S=this.startNodeAt(r,n);return S.expression=t,this.finishNode(S,"ParenthesizedExpression"),S},r.shouldParseArrow=function(){return!this.canInsertSemicolon()},r.parseArrow=function(e){if(this.eat(Zb.arrow))return e},r.parseParenItem=function(e,t,r){return e},r.parseNewOrNewTarget=function(){var e=this.startNode();if(this.next(),this.match(Zb.dot)){var t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();var r=this.parseMetaProperty(e,t,"target");if(!this.scope.inNonArrowFunction&&!this.scope.inClass){var n=gx.UnexpectedNewTarget;this.hasPlugin("classProperties")&&(n+=" or class properties"),this.raise(r.start,n)}return r}return this.parseNew(e)},r.parseNew=function(e){return e.callee=this.parseNoCallExpr(),"Import"===e.callee.type?this.raise(e.callee.start,gx.ImportCallNotNewExpression):"OptionalMemberExpression"===e.callee.type||"OptionalCallExpression"===e.callee.type?this.raise(this.state.lastTokEnd,gx.OptionalChainingNoNew):this.eat(Zb.questionDot)&&this.raise(this.state.start,gx.OptionalChainingNoNew),this.parseNewArguments(e),this.finishNode(e,"NewExpression")},r.parseNewArguments=function(e){if(this.eat(Zb.parenL)){var t=this.parseExprList(Zb.parenR);this.toReferencedList(t),e.arguments=t}else e.arguments=[]},r.parseTemplateElement=function(e){var t=this.startNode();return null===this.state.value&&(e||this.raise(this.state.start+1,gx.InvalidEscapeSequenceTemplate)),t.value={raw:this.input.slice(this.state.start,this.state.end).replace(/\r\n?/g,"\n"),cooked:this.state.value},this.next(),t.tail=this.match(Zb.backQuote),this.finishNode(t,"TemplateElement")},r.parseTemplate=function(e){var t=this.startNode();this.next(),t.expressions=[];var r=this.parseTemplateElement(e);for(t.quasis=[r];!r.tail;)this.expect(Zb.dollarBraceL),t.expressions.push(this.parseTemplateSubstitution()),this.expect(Zb.braceR),t.quasis.push(r=this.parseTemplateElement(e));return this.next(),this.finishNode(t,"TemplateLiteral")},r.parseTemplateSubstitution=function(){return this.parseExpression()},r.parseObjectLike=function(e,t,r,n){r&&this.expectPlugin("recordAndTuple");var a=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;var s=Object.create(null),i=!0,o=this.startNode();for(o.properties=[],this.next();!this.eat(e);){if(i)i=!1;else if(this.expect(Zb.comma),this.match(e)){this.addExtra(o,"trailingComma",this.state.lastTokStart),this.next();break}var l=this.parsePropertyDefinition(t,n);t||this.checkProto(l,r,s,n),r&&"ObjectProperty"!==l.type&&"SpreadElement"!==l.type&&this.raise(l.start,gx.InvalidRecordProperty),l.shorthand&&this.addExtra(l,"shorthand",!0),o.properties.push(l)}this.state.inFSharpPipelineDirectBody=a;var c="ObjectExpression";return t?c="ObjectPattern":r&&(c="RecordExpression"),this.finishNode(o,c)},r.maybeAsyncOrAccessorProp=function(e){return!e.computed&&"Identifier"===e.key.type&&(this.isLiteralPropertyName()||this.match(Zb.bracketL)||this.match(Zb.star))},r.parsePropertyDefinition=function(e,t){var r=[];if(this.match(Zb.at))for(this.hasPlugin("decorators")&&this.raise(this.state.start,gx.UnsupportedPropertyDecorator);this.match(Zb.at);)r.push(this.parseDecorator());var n,a,s=this.startNode(),i=!1,o=!1,l=!1;if(this.match(Zb.ellipsis))return r.length&&this.unexpected(),e?(this.next(),s.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(s,"RestElement")):this.parseSpread();r.length&&(s.decorators=r,r=[]),s.method=!1,(e||t)&&(n=this.state.start,a=this.state.startLoc),e||(i=this.eat(Zb.star));var c=this.state.containsEsc,u=this.parsePropertyName(s,!1);if(!e&&!i&&!c&&this.maybeAsyncOrAccessorProp(s)){var p=u.name;"async"!==p||this.hasPrecedingLineBreak()||(o=!0,i=this.eat(Zb.star),this.parsePropertyName(s,!1)),"get"!==p&&"set"!==p||(l=!0,s.kind=p,this.match(Zb.star)&&(i=!0,this.raise(this.state.pos,gx.AccessorIsGenerator,p),this.next()),this.parsePropertyName(s,!1))}return this.parseObjPropValue(s,n,a,i,o,e,l,t),s},r.getGetterSetterExpectedParamCount=function(e){return"get"===e.kind?0:1},r.getObjectOrClassMethodParams=function(e){return e.params},r.checkGetterSetterParams=function(e){var t,r=this.getGetterSetterExpectedParamCount(e),n=this.getObjectOrClassMethodParams(e),a=e.start;n.length!==r&&("get"===e.kind?this.raise(a,gx.BadGetterArity):this.raise(a,gx.BadSetterArity)),"set"===e.kind&&"RestElement"===(null==(t=n[n.length-1])?void 0:t.type)&&this.raise(a,gx.BadSetterRestParameter)},r.parseObjectMethod=function(e,t,r,n,a){return a?(this.parseMethod(e,t,!1,!1,!1,"ObjectMethod"),this.checkGetterSetterParams(e),e):r||t||this.match(Zb.parenL)?(n&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,r,!1,!1,"ObjectMethod")):void 0},r.parseObjectProperty=function(e,t,r,n,a){return e.shorthand=!1,this.eat(Zb.colon)?(e.value=n?this.parseMaybeDefault(this.state.start,this.state.startLoc):this.parseMaybeAssignAllowIn(a),this.finishNode(e,"ObjectProperty")):e.computed||"Identifier"!==e.key.type?void 0:(this.checkReservedWord(e.key.name,e.key.start,!0,!1),n?e.value=this.parseMaybeDefault(t,r,e.key.__clone()):this.match(Zb.eq)&&a?(-1===a.shorthandAssign&&(a.shorthandAssign=this.state.start),e.value=this.parseMaybeDefault(t,r,e.key.__clone())):e.value=e.key.__clone(),e.shorthand=!0,this.finishNode(e,"ObjectProperty"))},r.parseObjPropValue=function(e,t,r,n,a,s,i,o){var l=this.parseObjectMethod(e,n,a,s,i)||this.parseObjectProperty(e,t,r,s,o);return l||this.unexpected(),l},r.parsePropertyName=function(e,t){if(this.eat(Zb.bracketL))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(Zb.bracketR);else{var r=this.state.inPropertyName;this.state.inPropertyName=!0,e.key=this.match(Zb.num)||this.match(Zb.string)||this.match(Zb.bigint)||this.match(Zb.decimal)?this.parseExprAtom():this.parseMaybePrivateName(t),"PrivateName"!==e.key.type&&(e.computed=!1),this.state.inPropertyName=r}return e.key},r.initFunction=function(e,t){e.id=null,e.generator=!1,e.async=!!t},r.parseMethod=function(e,t,r,n,a,s,i){void 0===i&&(i=!1);var o=this.state.yieldPos,l=this.state.awaitPos;this.state.yieldPos=-1,this.state.awaitPos=-1,this.initFunction(e,r),e.generator=!!t;var c=n;return this.scope.enter(18|(i?ex:0)|(a?32:0)),this.prodParam.enter(Ux(r,e.generator)),this.parseFunctionParams(e,c),this.parseFunctionBodyAndFinish(e,s,!0),this.prodParam.exit(),this.scope.exit(),this.state.yieldPos=o,this.state.awaitPos=l,e},r.parseArrayLike=function(e,t,r,n){r&&this.expectPlugin("recordAndTuple");var a=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;var s=this.startNode();return this.next(),s.elements=this.parseExprList(e,!r,n,s),t&&!this.state.maybeInArrowParameters&&this.toReferencedList(s.elements),this.state.inFSharpPipelineDirectBody=a,this.finishNode(s,r?"TupleExpression":"ArrayExpression")},r.parseArrowExpression=function(e,t,r,n){this.scope.enter(6);var a=Ux(r,!1);!this.match(Zb.bracketL)&&this.prodParam.hasIn&&(a|=8),this.prodParam.enter(a),this.initFunction(e,r);var s=this.state.maybeInArrowParameters,i=this.state.yieldPos,o=this.state.awaitPos;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,n)),this.state.maybeInArrowParameters=!1,this.state.yieldPos=-1,this.state.awaitPos=-1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=s,this.state.yieldPos=i,this.state.awaitPos=o,this.finishNode(e,"ArrowFunctionExpression")},r.setArrowFunctionParameters=function(e,t,r){e.params=this.toAssignableList(t,r)},r.parseFunctionBodyAndFinish=function(e,t,r){void 0===r&&(r=!1),this.parseFunctionBody(e,!1,r),this.finishNode(e,t)},r.parseFunctionBody=function(e,t,r){var n=this;void 0===r&&(r=!1);var a=t&&!this.match(Zb.braceL),s=this.state.inParameters;if(this.state.inParameters=!1,a)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{var i=this.state.strict,o=this.state.labels;this.state.labels=[],this.prodParam.enter(4|this.prodParam.currentFlags()),e.body=this.parseBlock(!0,!1,function(a){var s=!n.isSimpleParamList(e.params);if(a&&s){var o="method"!==e.kind&&"constructor"!==e.kind||!e.key?e.start:e.key.end;n.raise(o,gx.IllegalLanguageModeDirective)}var l=!i&&n.state.strict;n.checkParams(e,!(n.state.strict||t||r||s),t,l),n.state.strict&&e.id&&n.checkLVal(e.id,65,void 0,"function name",void 0,l)}),this.prodParam.exit(),this.state.labels=o}this.state.inParameters=s},r.isSimpleParamList=function(e){for(var t=0,r=e.length;t<r;t++)if("Identifier"!==e[t].type)return!1;return!0},r.checkParams=function(e,t,r,n){void 0===n&&(n=!0);for(var a=Object.create(null),s=0;s<e.params.length;s++)this.checkLVal(e.params[s],5,t?null:a,"function parameter list",void 0,n)},r.parseExprList=function(e,t,r,n){for(var a=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(Zb.comma),this.match(e)){n&&this.addExtra(n,"trailingComma",this.state.lastTokStart),this.next();break}a.push(this.parseExprListItem(t,r))}return a},r.parseExprListItem=function(e,t,r,n){var a;if(this.match(Zb.comma))e||this.raise(this.state.pos,gx.UnexpectedToken,","),a=null;else if(this.match(Zb.ellipsis)){var s=this.state.start,i=this.state.startLoc;a=this.parseParenItem(this.parseSpread(t,r),s,i)}else if(this.match(Zb.question)){this.expectPlugin("partialApplication"),n||this.raise(this.state.start,gx.UnexpectedArgumentPlaceholder);var o=this.startNode();this.next(),a=this.finishNode(o,"ArgumentPlaceholder")}else a=this.parseMaybeAssignAllowIn(t,this.parseParenItem,r);return a},r.parseIdentifier=function(e){var t=this.startNode(),r=this.parseIdentifierName(t.start,e);return this.createIdentifier(t,r)},r.createIdentifier=function(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier")},r.parseIdentifierName=function(e,t){var r,n=this.state,a=n.start,s=n.type;if(s===Zb.name)r=this.state.value;else{if(!s.keyword)throw this.unexpected();r=s.keyword;var i=this.curContext();s!==Zb._class&&s!==Zb._function||i!==Ex.functionStatement&&i!==Ex.functionExpression||this.state.context.pop()}return t?this.state.type=Zb.name:this.checkReservedWord(r,a,!!s.keyword,!1),this.next(),r},r.checkReservedWord=function(e,t,r,n){if(this.prodParam.hasYield&&"yield"===e)this.raise(t,gx.YieldBindingIdentifier);else{if("await"===e){if(this.prodParam.hasAwait)return void this.raise(t,gx.AwaitBindingIdentifier);-1===this.state.awaitPos&&(this.state.maybeInAsyncArrowHead||this.isAwaitAllowed())&&(this.state.awaitPos=this.state.start)}if(!this.scope.inClass||this.scope.inNonArrowFunction||"arguments"!==e)if(r&&ki(e))this.raise(t,gx.UnexpectedKeyword,e);else(this.state.strict?n?Pi:ji:Ti)(e,this.inModule)&&(this.prodParam.hasAwait||"await"!==e?this.raise(t,gx.UnexpectedReservedWord,e):this.raise(t,gx.AwaitNotInAsyncFunction));else this.raise(t,gx.ArgumentsInClass)}},r.isAwaitAllowed=function(){return this.scope.inFunction?this.prodParam.hasAwait:!!this.options.allowAwaitOutsideFunction||!!this.hasPlugin("topLevelAwait")&&(this.inModule&&this.prodParam.hasAwait)},r.parseAwait=function(){var e=this.startNode();return this.next(),this.state.inParameters?this.raise(e.start,gx.AwaitExpressionFormalParameter):-1===this.state.awaitPos&&(this.state.awaitPos=e.start),this.eat(Zb.star)&&this.raise(e.start,gx.ObsoleteAwaitStar),this.scope.inFunction||this.options.allowAwaitOutsideFunction||(this.hasPrecedingLineBreak()||this.match(Zb.plusMin)||this.match(Zb.parenL)||this.match(Zb.bracketL)||this.match(Zb.backQuote)||this.match(Zb.regexp)||this.match(Zb.slash)||this.hasPlugin("v8intrinsic")&&this.match(Zb.modulo)?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(e.argument=this.parseMaybeUnary()),this.finishNode(e,"AwaitExpression")},r.parseYield=function(){var e=this.startNode();return this.state.inParameters?this.raise(e.start,gx.YieldInParameter):-1===this.state.yieldPos&&(this.state.yieldPos=e.start),this.next(),this.match(Zb.semi)||!this.match(Zb.star)&&!this.state.type.startsExpr||this.hasPrecedingLineBreak()?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(Zb.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")},r.checkPipelineAtInfixOperator=function(e,t){"smart"===this.getPluginOption("pipelineOperator","proposal")&&"SequenceExpression"===e.type&&this.raise(t,gx.PipelineHeadSequenceExpression)},r.parseSmartPipelineBody=function(e,t,r){return this.checkSmartPipelineBodyEarlyErrors(e,t),this.parseSmartPipelineBodyInStyle(e,t,r)},r.checkSmartPipelineBodyEarlyErrors=function(e,t){if(this.match(Zb.arrow))throw this.raise(this.state.start,gx.PipelineBodyNoArrow);"SequenceExpression"===e.type&&this.raise(t,gx.PipelineBodySequenceExpression)},r.parseSmartPipelineBodyInStyle=function(e,t,r){var n=this.startNodeAt(t,r),a=this.isSimpleReference(e);return a?n.callee=e:(this.topicReferenceWasUsedInCurrentTopicContext()||this.raise(t,gx.PipelineTopicUnused),n.expression=e),this.finishNode(n,a?"PipelineBareFunction":"PipelineTopicExpression")},r.isSimpleReference=function(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}},r.withTopicPermittingContext=function(e){var t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}},r.withTopicForbiddingContext=function(e){var t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}},r.withSoloAwaitPermittingContext=function(e){var t=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=t}},r.allowInAnd=function(e){var t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(8|t);try{return e()}finally{this.prodParam.exit()}}return e()},r.disallowInAnd=function(e){var t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(-9&t);try{return e()}finally{this.prodParam.exit()}}return e()},r.registerTopicReference=function(){this.state.topicContext.maxTopicIndex=0},r.primaryTopicReferenceIsAllowedInCurrentTopicContext=function(){return this.state.topicContext.maxNumOfResolvableTopics>=1},r.topicReferenceWasUsedInCurrentTopicContext=function(){return null!=this.state.topicContext.maxTopicIndex&&this.state.topicContext.maxTopicIndex>=0},r.parseFSharpPipelineBody=function(e){var t=this.state.start,r=this.state.startLoc;this.state.potentialArrowAt=this.state.start;var n=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;var a=this.parseExprOp(this.parseMaybeUnary(),t,r,e);return this.state.inFSharpPipelineDirectBody=n,a},t}(function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.toAssignable=function(e){var t,r,n=void 0;switch(("ParenthesizedExpression"===e.type||(null==(t=e.extra)?void 0:t.parenthesized))&&"Identifier"!==(n=function e(t){return"ParenthesizedExpression"===t.type?e(t.expression):t}(e)).type&&"MemberExpression"!==n.type&&this.raise(e.start,gx.InvalidParenthesizedAssignment),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":break;case"ObjectExpression":e.type="ObjectPattern";for(var a=0,s=e.properties.length,i=s-1;a<s;a++){var o,l=e.properties[a],c=a===i;this.toAssignableObjectExpressionProp(l,c),c&&"RestElement"===l.type&&(null==(o=e.extra)?void 0:o.trailingComma)&&this.raiseRestNotLast(e.extra.trailingComma)}break;case"ObjectProperty":this.toAssignable(e.value);break;case"SpreadElement":this.checkToRestConversion(e),e.type="RestElement";var u=e.argument;this.toAssignable(u);break;case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,null==(r=e.extra)?void 0:r.trailingComma);break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,gx.MissingEqInAssignment),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left);break;case"ParenthesizedExpression":this.toAssignable(n)}return e},r.toAssignableObjectExpressionProp=function(e,t){if("ObjectMethod"===e.type){var r="get"===e.kind||"set"===e.kind?gx.PatternHasAccessor:gx.PatternHasMethod;this.raise(e.key.start,r)}else"SpreadElement"!==e.type||t?this.toAssignable(e):this.raiseRestNotLast(e.start)},r.toAssignableList=function(e,t){var r=e.length;if(r){var n=e[r-1];if("RestElement"===(null==n?void 0:n.type))--r;else if("SpreadElement"===(null==n?void 0:n.type)){n.type="RestElement";var a=n.argument;this.toAssignable(a),"Identifier"!==a.type&&"MemberExpression"!==a.type&&"ArrayPattern"!==a.type&&"ObjectPattern"!==a.type&&this.unexpected(a.start),t&&this.raiseTrailingCommaAfterRest(t),--r}}for(var s=0;s<r;s++){var i=e[s];i&&(this.toAssignable(i),"RestElement"===i.type&&this.raiseRestNotLast(i.start))}return e},r.toReferencedList=function(e,t){return e},r.toReferencedListDeep=function(e,t){this.toReferencedList(e,t);for(var r=0;r<e.length;r++){var n=e[r];"ArrayExpression"===(null==n?void 0:n.type)&&this.toReferencedListDeep(n.elements)}},r.parseSpread=function(e,t){var r=this.startNode();return this.next(),r.argument=this.parseMaybeAssignAllowIn(e,void 0,t),this.finishNode(r,"SpreadElement")},r.parseRestBinding=function(){var e=this.startNode();return this.next(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},r.parseBindingAtom=function(){switch(this.state.type){case Zb.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(Zb.bracketR,93,!0),this.finishNode(e,"ArrayPattern");case Zb.braceL:return this.parseObjectLike(Zb.braceR,!0)}return this.parseIdentifier()},r.parseBindingList=function(e,t,r,n){for(var a=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(Zb.comma),r&&this.match(Zb.comma))a.push(null);else{if(this.eat(e))break;if(this.match(Zb.ellipsis)){a.push(this.parseAssignableListItemTypes(this.parseRestBinding())),this.checkCommaAfterRest(t),this.expect(e);break}var i=[];for(this.match(Zb.at)&&this.hasPlugin("decorators")&&this.raise(this.state.start,gx.UnsupportedParameterDecorator);this.match(Zb.at);)i.push(this.parseDecorator());a.push(this.parseAssignableListItem(n,i))}return a},r.parseAssignableListItem=function(e,t){var r=this.parseMaybeDefault();this.parseAssignableListItemTypes(r);var n=this.parseMaybeDefault(r.start,r.loc.start,r);return t.length&&(r.decorators=t),n},r.parseAssignableListItemTypes=function(e){return e},r.parseMaybeDefault=function(e,t,r){var n,a,s;if(t=null!=(n=t)?n:this.state.startLoc,e=null!=(a=e)?a:this.state.start,r=null!=(s=r)?s:this.parseBindingAtom(),!this.eat(Zb.eq))return r;var i=this.startNodeAt(e,t);return i.left=r,i.right=this.parseMaybeAssignAllowIn(),this.finishNode(i,"AssignmentPattern")},r.checkLVal=function(e,t,r,n,a,s){switch(void 0===t&&(t=ox),void 0===s&&(s=!1),e.type){case"Identifier":if(this.state.strict&&(s?Pi(e.name,this.inModule):Ai(e.name))&&this.raise(e.start,t===ox?gx.StrictEvalArguments:gx.StrictEvalArgumentsBinding,e.name),r){var i="_"+e.name;r[i]?this.raise(e.start,gx.ParamDupe):r[i]=!0}a&&"let"===e.name&&this.raise(e.start,gx.LetInLexicalBinding),t&ox||this.scope.declareName(e.name,t,e.start);break;case"MemberExpression":t!==ox&&this.raise(e.start,gx.InvalidPropertyBindingPattern);break;case"ObjectPattern":for(var o=0,l=e.properties;o<l.length;o++){var c=l[o];if("ObjectProperty"===c.type)c=c.value;else if("ObjectMethod"===c.type)continue;this.checkLVal(c,t,r,"object destructuring pattern",a)}break;case"ArrayPattern":for(var u=0,p=e.elements;u<p.length;u++){var d=p[u];d&&this.checkLVal(d,t,r,"array destructuring pattern",a)}break;case"AssignmentPattern":this.checkLVal(e.left,t,r,"assignment pattern");break;case"RestElement":this.checkLVal(e.argument,t,r,"rest element");break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,r,"parenthesized expression");break;default:this.raise(e.start,t===ox?gx.InvalidLhs:gx.InvalidLhsBinding,n)}},r.checkToRestConversion=function(e){"Identifier"!==e.argument.type&&"MemberExpression"!==e.argument.type&&this.raise(e.argument.start,gx.InvalidRestAssignmentPattern)},r.checkCommaAfterRest=function(e){this.match(Zb.comma)&&(this.lookaheadCharCode()===e?this.raiseTrailingCommaAfterRest(this.state.start):this.raiseRestNotLast(this.state.start))},r.raiseRestNotLast=function(e){throw this.raise(e,gx.ElementAfterRest)},r.raiseTrailingCommaAfterRest=function(e){this.raise(e,gx.RestTrailingComma)},t}(iE)),lE={kind:"loop"},cE={kind:"switch"},uE=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,pE=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var r=t.prototype;return r.parseTopLevel=function(e,t){if(t.sourceType=this.options.sourceType,t.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(t,!0,!0,Zb.eof),this.inModule&&!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(var r=0,n=Array.from(this.scope.undefinedExports);r<n.length;r++){var a=n[r][0],s=this.scope.undefinedExports.get(a);this.raise(s,gx.ModuleExportUndefined,a)}return e.program=this.finishNode(t,"Program"),e.comments=this.state.comments,this.options.tokens&&(e.tokens=this.tokens),this.finishNode(e,"File")},r.stmtToDirective=function(e){var t=e.expression,r=this.startNodeAt(t.start,t.loc.start),n=this.startNodeAt(e.start,e.loc.start),a=this.input.slice(t.start,t.end),s=r.value=a.slice(1,-1);return this.addExtra(r,"raw",a),this.addExtra(r,"rawValue",s),n.value=this.finishNodeAt(r,"DirectiveLiteral",t.end,t.loc.end),this.finishNodeAt(n,"Directive",e.end,e.loc.end)},r.parseInterpreterDirective=function(){if(!this.match(Zb.interpreterDirective))return null;var e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")},r.isLet=function(e){if(!this.isContextual("let"))return!1;var t=this.nextTokenStart(),r=this.input.charCodeAt(t);if(91===r)return!0;if(e)return!1;if(123===r)return!0;if(yi(r)){for(var n=t+1;gi(this.input.charCodeAt(n));)++n;var a=this.input.slice(t,n);if(!wx.test(a))return!0}return!1},r.parseStatement=function(e,t){return this.match(Zb.at)&&this.parseDecorators(!0),this.parseStatementContent(e,t)},r.parseStatementContent=function(e,t){var r,n=this.state.type,a=this.startNode();switch(this.isLet(e)&&(n=Zb._var,r="let"),n){case Zb._break:case Zb._continue:return this.parseBreakContinueStatement(a,n.keyword);case Zb._debugger:return this.parseDebuggerStatement(a);case Zb._do:return this.parseDoStatement(a);case Zb._for:return this.parseForStatement(a);case Zb._function:if(46===this.lookaheadCharCode())break;return e&&(this.state.strict?this.raise(this.state.start,gx.StrictFunction):"if"!==e&&"label"!==e&&this.raise(this.state.start,gx.SloppyFunction)),this.parseFunctionStatement(a,!1,!e);case Zb._class:return e&&this.unexpected(),this.parseClass(a,!0);case Zb._if:return this.parseIfStatement(a);case Zb._return:return this.parseReturnStatement(a);case Zb._switch:return this.parseSwitchStatement(a);case Zb._throw:return this.parseThrowStatement(a);case Zb._try:return this.parseTryStatement(a);case Zb._const:case Zb._var:return r=r||this.state.value,e&&"var"!==r&&this.raise(this.state.start,gx.UnexpectedLexicalDeclaration),this.parseVarStatement(a,r);case Zb._while:return this.parseWhileStatement(a);case Zb._with:return this.parseWithStatement(a);case Zb.braceL:return this.parseBlock();case Zb.semi:return this.parseEmptyStatement(a);case Zb._import:var s=this.lookaheadCharCode();if(40===s||46===s)break;case Zb._export:var i;return this.options.allowImportExportEverywhere||t||this.raise(this.state.start,gx.UnexpectedImportExport),this.next(),n===Zb._import?"ImportDeclaration"!==(i=this.parseImport(a)).type||i.importKind&&"value"!==i.importKind||(this.sawUnambiguousESM=!0):("ExportNamedDeclaration"!==(i=this.parseExport(a)).type||i.exportKind&&"value"!==i.exportKind)&&("ExportAllDeclaration"!==i.type||i.exportKind&&"value"!==i.exportKind)&&"ExportDefaultDeclaration"!==i.type||(this.sawUnambiguousESM=!0),this.assertModuleNodeAllowed(a),i;default:if(this.isAsyncFunction())return e&&this.raise(this.state.start,gx.AsyncFunctionInSingleStatementContext),this.next(),this.parseFunctionStatement(a,!0,!e)}var o=this.state.value,l=this.parseExpression();return n===Zb.name&&"Identifier"===l.type&&this.eat(Zb.colon)?this.parseLabeledStatement(a,o,l,e):this.parseExpressionStatement(a,l)},r.assertModuleNodeAllowed=function(e){this.options.allowImportExportEverywhere||this.inModule||this.raiseWithData(e.start,{code:"BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"},gx.ImportOutsideModule)},r.takeDecorators=function(e){var t=this.state.decoratorStack[this.state.decoratorStack.length-1];t.length&&(e.decorators=t,this.resetStartLocationFromNode(e,t[0]),this.state.decoratorStack[this.state.decoratorStack.length-1]=[])},r.canHaveLeadingDecorator=function(){return this.match(Zb._class)},r.parseDecorators=function(e){for(var t=this.state.decoratorStack[this.state.decoratorStack.length-1];this.match(Zb.at);){var r=this.parseDecorator();t.push(r)}if(this.match(Zb._export))e||this.unexpected(),this.hasPlugin("decorators")&&!this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(this.state.start,gx.DecoratorExportClass);else if(!this.canHaveLeadingDecorator())throw this.raise(this.state.start,gx.UnexpectedLeadingDecorator)},r.parseDecorator=function(){this.expectOnePlugin(["decorators-legacy","decorators"]);var e=this.startNode();if(this.next(),this.hasPlugin("decorators")){this.state.decoratorStack.push([]);var t,r=this.state.start,n=this.state.startLoc;if(this.eat(Zb.parenL))t=this.parseExpression(),this.expect(Zb.parenR);else for(t=this.parseIdentifier(!1);this.eat(Zb.dot);){var a=this.startNodeAt(r,n);a.object=t,a.property=this.parseIdentifier(!0),a.computed=!1,t=this.finishNode(a,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(t),this.state.decoratorStack.pop()}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")},r.parseMaybeDecoratorArguments=function(e){if(this.eat(Zb.parenL)){var t=this.startNodeAtNode(e);return t.callee=e,t.arguments=this.parseCallExpressionArguments(Zb.parenR,!1),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return e},r.parseBreakContinueStatement=function(e,t){var r="break"===t;return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")},r.verifyBreakContinue=function(e,t){var r,n="break"===t;for(r=0;r<this.state.labels.length;++r){var a=this.state.labels[r];if(null==e.label||a.name===e.label.name){if(null!=a.kind&&(n||"loop"===a.kind))break;if(e.label&&n)break}}r===this.state.labels.length&&this.raise(e.start,gx.IllegalBreakContinue,t)},r.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},r.parseHeaderExpression=function(){this.expect(Zb.parenL);var e=this.parseExpression();return this.expect(Zb.parenR),e},r.parseDoStatement=function(e){var t=this;return this.next(),this.state.labels.push(lE),e.body=this.withTopicForbiddingContext(function(){return t.parseStatement("do")}),this.state.labels.pop(),this.expect(Zb._while),e.test=this.parseHeaderExpression(),this.eat(Zb.semi),this.finishNode(e,"DoWhileStatement")},r.parseForStatement=function(e){this.next(),this.state.labels.push(lE);var t=-1;if(this.isAwaitAllowed()&&this.eatContextual("await")&&(t=this.state.lastTokStart),
this.scope.enter(0),this.expect(Zb.parenL),this.match(Zb.semi))return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.match(Zb._var)||this.match(Zb._const)||r){var n=this.startNode(),a=r?"let":this.state.value;return this.next(),this.parseVar(n,!0,a),this.finishNode(n,"VariableDeclaration"),(this.match(Zb._in)||this.isContextual("of"))&&1===n.declarations.length?this.parseForIn(e,n,t):(t>-1&&this.unexpected(t),this.parseFor(e,n))}var s=new aE,i=this.parseExpression(!0,s);if(this.match(Zb._in)||this.isContextual("of")){this.toAssignable(i);var o=this.isContextual("of")?"for-of statement":"for-in statement";return this.checkLVal(i,void 0,void 0,o),this.parseForIn(e,i,t)}return this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,i)},r.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,1|(r?0:2),t)},r.parseIfStatement=function(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(Zb._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},r.parseReturnStatement=function(e){return this.prodParam.hasReturn||this.options.allowReturnOutsideFunction||this.raise(this.state.start,gx.IllegalReturn),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},r.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseHeaderExpression();var t,r,n=e.cases=[];for(this.expect(Zb.braceL),this.state.labels.push(cE),this.scope.enter(0);!this.match(Zb.braceR);)if(this.match(Zb._case)||this.match(Zb._default)){var a=this.match(Zb._case);t&&this.finishNode(t,"SwitchCase"),n.push(t=this.startNode()),t.consequent=[],this.next(),a?t.test=this.parseExpression():(r&&this.raise(this.state.lastTokStart,gx.MultipleDefaultsInSwitch),r=!0,t.test=null),this.expect(Zb.colon)}else t?t.consequent.push(this.parseStatement(null)):this.unexpected();return this.scope.exit(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")},r.parseThrowStatement=function(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(this.state.lastTokEnd,gx.NewlineAfterThrow),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")},r.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t="Identifier"===e.type;return this.scope.enter(t?8:0),this.checkLVal(e,9,null,"catch clause"),e},r.parseTryStatement=function(e){var t=this;if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(Zb._catch)){var r=this.startNode();this.next(),this.match(Zb.parenL)?(this.expect(Zb.parenL),r.param=this.parseCatchClauseParam(),this.expect(Zb.parenR)):(r.param=null,this.scope.enter(0)),r.body=this.withTopicForbiddingContext(function(){return t.parseBlock(!1,!1)}),this.scope.exit(),e.handler=this.finishNode(r,"CatchClause")}return e.finalizer=this.eat(Zb._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,gx.NoCatchOrFinally),this.finishNode(e,"TryStatement")},r.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},r.parseWhileStatement=function(e){var t=this;return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(lE),e.body=this.withTopicForbiddingContext(function(){return t.parseStatement("while")}),this.state.labels.pop(),this.finishNode(e,"WhileStatement")},r.parseWithStatement=function(e){var t=this;return this.state.strict&&this.raise(this.state.start,gx.StrictWith),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withTopicForbiddingContext(function(){return t.parseStatement("with")}),this.finishNode(e,"WithStatement")},r.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},r.parseLabeledStatement=function(e,t,r,n){for(var a=0,s=this.state.labels;a<s.length;a++){s[a].name===t&&this.raise(r.start,gx.LabelRedeclaration,t)}for(var i=this.state.type.isLoop?"loop":this.match(Zb._switch)?"switch":null,o=this.state.labels.length-1;o>=0;o--){var l=this.state.labels[o];if(l.statementStart!==e.start)break;l.statementStart=this.state.start,l.kind=i}return this.state.labels.push({name:t,kind:i,statementStart:this.state.start}),e.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.state.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")},r.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},r.parseBlock=function(e,t,r){void 0===e&&(e=!1),void 0===t&&(t=!0);var n=this.startNode();return this.expect(Zb.braceL),t&&this.scope.enter(0),this.parseBlockBody(n,e,!1,Zb.braceR,r),t&&this.scope.exit(),this.finishNode(n,"BlockStatement")},r.isValidDirective=function(e){return"ExpressionStatement"===e.type&&"StringLiteral"===e.expression.type&&!e.expression.extra.parenthesized},r.parseBlockBody=function(e,t,r,n,a){var s=e.body=[],i=e.directives=[];this.parseBlockOrModuleBlockBody(s,t?i:void 0,r,n,a)},r.parseBlockOrModuleBlockBody=function(e,t,r,n,a){for(var s=[],i=this.state.strict,o=!1,l=!1;!this.match(n);){!l&&this.state.octalPositions.length&&s.push.apply(s,this.state.octalPositions);var c=this.parseStatement(null,r);if(t&&!l&&this.isValidDirective(c)){var u=this.stmtToDirective(c);t.push(u),o||"use strict"!==u.value.value||(o=!0,this.setStrict(!0))}else l=!0,e.push(c)}if(this.state.strict&&s.length)for(var p=0;p<s.length;p++){var d=s[p];this.raise(d,gx.StrictOctalLiteral)}a&&a.call(this,o),i||this.setStrict(!1),this.next()},r.parseFor=function(e,t){var r=this;return e.init=t,this.expect(Zb.semi),e.test=this.match(Zb.semi)?null:this.parseExpression(),this.expect(Zb.semi),e.update=this.match(Zb.parenR)?null:this.parseExpression(),this.expect(Zb.parenR),e.body=this.withTopicForbiddingContext(function(){return r.parseStatement("for")}),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")},r.parseForIn=function(e,t,r){var n=this,a=this.match(Zb._in);return this.next(),a?r>-1&&this.unexpected(r):e.await=r>-1,"VariableDeclaration"!==t.type||null==t.declarations[0].init||a&&!this.state.strict&&"var"===t.kind&&"Identifier"===t.declarations[0].id.type?"AssignmentPattern"===t.type&&this.raise(t.start,gx.InvalidLhs,"for-loop"):this.raise(t.start,gx.ForInOfLoopInitializer,a?"for-in":"for-of"),e.left=t,e.right=a?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(Zb.parenR),e.body=this.withTopicForbiddingContext(function(){return n.parseStatement("for")}),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,a?"ForInStatement":"ForOfStatement")},r.parseVar=function(e,t,r){var n=e.declarations=[],a=this.hasPlugin("typescript");for(e.kind=r;;){var s=this.startNode();if(this.parseVarId(s,r),this.eat(Zb.eq)?s.init=t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():("const"!==r||this.match(Zb._in)||this.isContextual("of")?"Identifier"===s.id.type||t&&(this.match(Zb._in)||this.isContextual("of"))||this.raise(this.state.lastTokEnd,gx.DeclarationMissingInitializer,"Complex binding patterns"):a||this.raise(this.state.lastTokEnd,gx.DeclarationMissingInitializer,"Const declarations"),s.init=null),n.push(this.finishNode(s,"VariableDeclarator")),!this.eat(Zb.comma))break}return e},r.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?5:9,void 0,"variable declaration","var"!==t)},r.parseFunction=function(e,t,r){var n=this;void 0===t&&(t=0),void 0===r&&(r=!1);var a=1&t,s=2&t,i=!(!a||4&t);this.initFunction(e,r),this.match(Zb.star)&&s&&this.raise(this.state.start,gx.GeneratorInSingleStatementContext),e.generator=this.eat(Zb.star),a&&(e.id=this.parseFunctionId(i));var o=this.state.maybeInArrowParameters,l=this.state.yieldPos,c=this.state.awaitPos;return this.state.maybeInArrowParameters=!1,this.state.yieldPos=-1,this.state.awaitPos=-1,this.scope.enter(2),this.prodParam.enter(Ux(r,e.generator)),a||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withTopicForbiddingContext(function(){n.parseFunctionBodyAndFinish(e,a?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),a&&!s&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=o,this.state.yieldPos=l,this.state.awaitPos=c,e},r.parseFunctionId=function(e){return e||this.match(Zb.name)?this.parseIdentifier():null},r.parseFunctionParams=function(e,t){var r=this.state.inParameters;this.state.inParameters=!0,this.expect(Zb.parenL),e.params=this.parseBindingList(Zb.parenR,41,!1,t),this.state.inParameters=r,this.checkYieldAwaitInDefaultParams()},r.registerFunctionStatementId=function(e){e.id&&this.scope.declareName(e.id.name,this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?5:9:17,e.id.start)},r.parseClass=function(e,t,r){this.next(),this.takeDecorators(e);var n=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,r),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,n),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},r.isClassProperty=function(){return this.match(Zb.eq)||this.match(Zb.semi)||this.match(Zb.braceR)},r.isClassMethod=function(){return this.match(Zb.parenL)},r.isNonstaticConstructor=function(e){return!(e.computed||e.static||"constructor"!==e.key.name&&"constructor"!==e.key.value)},r.parseClassBody=function(e,t){var r=this;this.classScope.enter();var n={constructorAllowsSuper:e,hadConstructor:!1,hadStaticBlock:!1},a=[],s=this.startNode();if(s.body=[],this.expect(Zb.braceL),this.withTopicForbiddingContext(function(){for(;!r.match(Zb.braceR);)if(r.eat(Zb.semi)){if(a.length>0)throw r.raise(r.state.lastTokEnd,gx.DecoratorSemicolon)}else if(r.match(Zb.at))a.push(r.parseDecorator());else{var e=r.startNode();a.length&&(e.decorators=a,r.resetStartLocationFromNode(e,a[0]),a=[]),r.parseClassMember(s,e,n),"constructor"===e.kind&&e.decorators&&e.decorators.length>0&&r.raise(e.start,gx.DecoratorConstructor)}}),this.state.strict=t,this.next(),a.length)throw this.raise(this.state.start,gx.TrailingDecorator);return this.classScope.exit(),this.finishNode(s,"ClassBody")},r.parseClassMemberFromModifier=function(e,t){var r=this.parseIdentifier(!0);if(this.isClassMethod()){var n=t;return n.kind="method",n.computed=!1,n.key=r,n.static=!1,this.pushClassMethod(e,n,!1,!1,!1,!1),!0}if(this.isClassProperty()){var a=t;return a.computed=!1,a.key=r,a.static=!1,e.body.push(this.parseClassProperty(a)),!0}return!1},r.parseClassMember=function(e,t,r){var n=this.isContextual("static");if(n){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(Zb.braceL))return void this.parseClassStaticBlock(e,t,r)}this.parseClassMemberWithIsStatic(e,t,r,n)},r.parseClassMemberWithIsStatic=function(e,t,r,n){var a=t,s=t,i=t,o=t,l=a,c=a;if(t.static=n,this.eat(Zb.star))return l.kind="method",this.parseClassElementName(l),"PrivateName"===l.key.type?void this.pushClassPrivateMethod(e,s,!0,!1):(this.isNonstaticConstructor(a)&&this.raise(a.key.start,gx.ConstructorIsGenerator),void this.pushClassMethod(e,a,!0,!1,!1,!1));var u=this.state.containsEsc,p=this.parseClassElementName(t),d="PrivateName"===p.type,f="Identifier"===p.type,h=this.state.start;if(this.parsePostMemberNameModifiers(c),this.isClassMethod()){if(l.kind="method",d)return void this.pushClassPrivateMethod(e,s,!1,!1);var m=this.isNonstaticConstructor(a),y=!1;m&&(a.kind="constructor",r.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(p.start,gx.DuplicateConstructor),r.hadConstructor=!0,y=r.constructorAllowsSuper),this.pushClassMethod(e,a,!1,!1,m,y)}else if(this.isClassProperty())d?this.pushClassPrivateProperty(e,o):this.pushClassProperty(e,i);else if(!f||"async"!==p.name||u||this.isLineTerminator())!f||"get"!==p.name&&"set"!==p.name||u||this.match(Zb.star)&&this.isLineTerminator()?this.isLineTerminator()?d?this.pushClassPrivateProperty(e,o):this.pushClassProperty(e,i):this.unexpected():(l.kind=p.name,this.parseClassElementName(a),"PrivateName"===l.key.type?this.pushClassPrivateMethod(e,s,!1,!1):(this.isNonstaticConstructor(a)&&this.raise(a.key.start,gx.ConstructorIsAccessor),this.pushClassMethod(e,a,!1,!1,!1,!1)),this.checkGetterSetterParams(a));else{var g=this.eat(Zb.star);c.optional&&this.unexpected(h),l.kind="method",this.parseClassElementName(l),this.parsePostMemberNameModifiers(c),"PrivateName"===l.key.type?this.pushClassPrivateMethod(e,s,g,!0):(this.isNonstaticConstructor(a)&&this.raise(a.key.start,gx.ConstructorIsAsync),this.pushClassMethod(e,a,g,!0,!1,!1))}},r.parseClassElementName=function(e){var t=this.parsePropertyName(e,!0);return e.computed||!e.static||"prototype"!==t.name&&"prototype"!==t.value||this.raise(t.start,gx.StaticPrototype),"PrivateName"===t.type&&"constructor"===t.id.name&&this.raise(t.start,gx.ConstructorClassPrivateField),t},r.parseClassStaticBlock=function(e,t,r){var n;this.expectPlugin("classStaticBlock",t.start),this.scope.enter(80);var a=this.state.labels;this.state.labels=[],this.prodParam.enter(0);var s=t.body=[];this.parseBlockOrModuleBlockBody(s,void 0,!1,Zb.braceR),this.prodParam.exit(),this.scope.exit(),this.state.labels=a,e.body.push(this.finishNode(t,"StaticBlock")),r.hadStaticBlock&&this.raise(t.start,gx.DuplicateStaticBlock),(null==(n=t.decorators)?void 0:n.length)&&this.raise(t.start,gx.DecoratorStaticBlock),r.hadStaticBlock=!0},r.pushClassProperty=function(e,t){t.computed||"constructor"!==t.key.name&&"constructor"!==t.key.value||this.raise(t.key.start,gx.ConstructorClassField),e.body.push(this.parseClassProperty(t))},r.pushClassPrivateProperty=function(e,t){this.expectPlugin("classPrivateProperties",t.key.start);var r=this.parseClassPrivateProperty(t);e.body.push(r),this.classScope.declarePrivateName(r.key.id.name,0,r.key.start)},r.pushClassMethod=function(e,t,r,n,a,s){e.body.push(this.parseMethod(t,r,n,a,s,"ClassMethod",!0))},r.pushClassPrivateMethod=function(e,t,r,n){this.expectPlugin("classPrivateMethods",t.key.start);var a=this.parseMethod(t,r,n,!1,!1,"ClassPrivateMethod",!0);e.body.push(a);var s="get"===a.kind?a.static?6:2:"set"===a.kind?a.static?5:1:0;this.classScope.declarePrivateName(a.key.id.name,s,a.key.start)},r.parsePostMemberNameModifiers=function(e){},r.parseClassPrivateProperty=function(e){return this.scope.enter(80),this.prodParam.enter(0),e.value=this.eat(Zb.eq)?this.parseMaybeAssignAllowIn():null,this.semicolon(),this.prodParam.exit(),this.scope.exit(),this.finishNode(e,"ClassPrivateProperty")},r.parseClassProperty=function(e){return e.typeAnnotation||this.expectPlugin("classProperties"),this.scope.enter(80),this.prodParam.enter(0),this.match(Zb.eq)?(this.expectPlugin("classProperties"),this.next(),e.value=this.parseMaybeAssignAllowIn()):e.value=null,this.semicolon(),this.prodParam.exit(),this.scope.exit(),this.finishNode(e,"ClassProperty")},r.parseClassId=function(e,t,r,n){void 0===n&&(n=139),this.match(Zb.name)?(e.id=this.parseIdentifier(),t&&this.checkLVal(e.id,n,void 0,"class name")):r||!t?e.id=null:this.unexpected(null,gx.MissingClassName)},r.parseClassSuper=function(e){e.superClass=this.eat(Zb._extends)?this.parseExprSubscripts():null},r.parseExport=function(e){var t=this.maybeParseExportDefaultSpecifier(e),r=!t||this.eat(Zb.comma),n=r&&this.eatExportStar(e),a=n&&this.maybeParseExportNamespaceSpecifier(e),s=r&&(!a||this.eat(Zb.comma)),i=t||n;if(n&&!a)return t&&this.unexpected(),this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration");var o,l=this.maybeParseExportNamedSpecifiers(e);if(t&&r&&!n&&!l||a&&s&&!l)throw this.unexpected(null,Zb.braceL);if(i||l?(o=!1,this.parseExportFrom(e,i)):o=this.maybeParseExportDeclaration(e),i||l||o)return this.checkExport(e,!0,!1,!!e.source),this.finishNode(e,"ExportNamedDeclaration");if(this.eat(Zb._default))return e.declaration=this.parseExportDefaultExpression(),this.checkExport(e,!0,!0),this.finishNode(e,"ExportDefaultDeclaration");throw this.unexpected(null,Zb.braceL)},r.eatExportStar=function(e){return this.eat(Zb.star)},r.maybeParseExportDefaultSpecifier=function(e){if(this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom");var t=this.startNode();return t.exported=this.parseIdentifier(!0),e.specifiers=[this.finishNode(t,"ExportDefaultSpecifier")],!0}return!1},r.maybeParseExportNamespaceSpecifier=function(e){if(this.isContextual("as")){e.specifiers||(e.specifiers=[]);var t=this.startNodeAt(this.state.lastTokStart,this.state.lastTokStartLoc);return this.next(),t.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(t,"ExportNamespaceSpecifier")),!0}return!1},r.maybeParseExportNamedSpecifiers=function(e){var t;return!!this.match(Zb.braceL)&&(e.specifiers||(e.specifiers=[]),(t=e.specifiers).push.apply(t,this.parseExportSpecifiers()),e.source=null,e.declaration=null,!0)},r.maybeParseExportDeclaration=function(e){return!!this.shouldParseExportDeclaration()&&(e.specifiers=[],e.source=null,e.declaration=this.parseExportDeclaration(e),!0)},r.isAsyncFunction=function(){if(!this.isContextual("async"))return!1;var e=this.nextTokenStart();return!lx.test(this.input.slice(this.state.pos,e))&&this.isUnparsedContextual(e,"function")},r.parseExportDefaultExpression=function(){var e=this.startNode(),t=this.isAsyncFunction();if(this.match(Zb._function)||t)return this.next(),t&&this.next(),this.parseFunction(e,5,t);if(this.match(Zb._class))return this.parseClass(e,!0,!0);if(this.match(Zb.at))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(this.state.start,gx.DecoratorBeforeExport),this.parseDecorators(!1),this.parseClass(e,!0,!0);if(this.match(Zb._const)||this.match(Zb._var)||this.isLet())throw this.raise(this.state.start,gx.UnsupportedDefaultExport);var r=this.parseMaybeAssignAllowIn();return this.semicolon(),r},r.parseExportDeclaration=function(e){return this.parseStatement(null)},r.isExportDefaultSpecifier=function(){if(this.match(Zb.name)){var e=this.state.value;if("async"===e&&!this.state.containsEsc||"let"===e)return!1;if(("type"===e||"interface"===e)&&!this.state.containsEsc){var t=this.lookahead();if(t.type===Zb.name&&"from"!==t.value||t.type===Zb.braceL)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(Zb._default))return!1;var r=this.nextTokenStart(),n=this.isUnparsedContextual(r,"from");if(44===this.input.charCodeAt(r)||this.match(Zb.name)&&n)return!0;if(this.match(Zb._default)&&n){var a=this.input.charCodeAt(this.nextTokenStartSince(r+4));return 34===a||39===a}return!1},r.parseExportFrom=function(e,t){this.eatContextual("from")?(e.source=this.parseImportSource(),this.checkExport(e)):t?this.unexpected():e.source=null,this.semicolon()},r.shouldParseExportDeclaration=function(){if(this.match(Zb.at)&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))){if(!this.getPluginOption("decorators","decoratorsBeforeExport"))return!0;this.unexpected(this.state.start,gx.DecoratorBeforeExport)}return"var"===this.state.type.keyword||"const"===this.state.type.keyword||"function"===this.state.type.keyword||"class"===this.state.type.keyword||this.isLet()||this.isAsyncFunction()},r.checkExport=function(e,t,r,n){if(t)if(r){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var a,s=e.declaration;"Identifier"!==s.type||"from"!==s.name||s.end-s.start!=4||(null==(a=s.extra)?void 0:a.parenthesized)||this.raise(s.start,gx.ExportDefaultFromAsIdentifier)}}else if(e.specifiers&&e.specifiers.length)for(var i=0,o=e.specifiers;i<o.length;i++){var l=o[i],c=l.exported,u="Identifier"===c.type?c.name:c.value;if(this.checkDuplicateExports(l,u),!n&&l.local){var p=l.local;"StringLiteral"===p.type?this.raise(l.start,gx.ExportBindingIsString,p.extra.raw,u):(this.checkReservedWord(p.name,p.start,!0,!1),this.scope.checkLocalExport(p))}}else if(e.declaration)if("FunctionDeclaration"===e.declaration.type||"ClassDeclaration"===e.declaration.type){var d=e.declaration.id;if(!d)throw new Error("Assertion failure");this.checkDuplicateExports(e,d.name)}else if("VariableDeclaration"===e.declaration.type)for(var f=0,h=e.declaration.declarations;f<h.length;f++){var m=h[f];this.checkDeclaration(m.id)}if(this.state.decoratorStack[this.state.decoratorStack.length-1].length)throw this.raise(e.start,gx.UnsupportedDecoratorExport)},r.checkDeclaration=function(e){if("Identifier"===e.type)this.checkDuplicateExports(e,e.name);else if("ObjectPattern"===e.type)for(var t=0,r=e.properties;t<r.length;t++){var n=r[t];this.checkDeclaration(n)}else if("ArrayPattern"===e.type)for(var a=0,s=e.elements;a<s.length;a++){var i=s[a];i&&this.checkDeclaration(i)}else"ObjectProperty"===e.type?this.checkDeclaration(e.value):"RestElement"===e.type?this.checkDeclaration(e.argument):"AssignmentPattern"===e.type&&this.checkDeclaration(e.left)},r.checkDuplicateExports=function(e,t){this.state.exportedIdentifiers.indexOf(t)>-1&&this.raise(e.start,"default"===t?gx.DuplicateDefaultExport:gx.DuplicateExport,t),this.state.exportedIdentifiers.push(t)},r.parseExportSpecifiers=function(){var e=[],t=!0;for(this.expect(Zb.braceL);!this.eat(Zb.braceR);){if(t)t=!1;else if(this.expect(Zb.comma),this.eat(Zb.braceR))break;var r=this.startNode();r.local=this.parseModuleExportName(),r.exported=this.eatContextual("as")?this.parseModuleExportName():r.local.__clone(),e.push(this.finishNode(r,"ExportSpecifier"))}return e},r.parseModuleExportName=function(){if(this.match(Zb.string)){this.expectPlugin("moduleStringNames");var e=this.parseLiteral(this.state.value,"StringLiteral"),t=e.value.match(uE);return t&&this.raise(e.start,gx.ModuleExportNameHasLoneSurrogate,t[0].charCodeAt(0).toString(16)),e}return this.parseIdentifier(!0)},r.parseImport=function(e){if(e.specifiers=[],!this.match(Zb.string)){var t=!this.maybeParseDefaultImportSpecifier(e)||this.eat(Zb.comma),r=t&&this.maybeParseStarImportSpecifier(e);t&&!r&&this.parseNamedImportSpecifiers(e),this.expectContextual("from")}e.source=this.parseImportSource();var n=this.maybeParseImportAssertions();if(n)e.assertions=n;else{var a=this.maybeParseModuleAttributes();a&&(e.attributes=a)}return this.semicolon(),this.finishNode(e,"ImportDeclaration")},r.parseImportSource=function(){return this.match(Zb.string)||this.unexpected(),this.parseExprAtom()},r.shouldParseDefaultImport=function(e){return this.match(Zb.name)},r.parseImportSpecifierLocal=function(e,t,r,n){t.local=this.parseIdentifier(),this.checkLVal(t.local,9,void 0,n),e.specifiers.push(this.finishNode(t,r))},r.parseAssertEntries=function(){this.expectPlugin("importAssertions");var e=[],t=new Set;do{if(this.match(Zb.braceR))break;var r=this.startNode(),n=void 0;if(n=this.match(Zb.string)?this.parseLiteral(this.state.value,"StringLiteral"):this.parseIdentifier(!0),this.next(),r.key=n,"type"!==r.key.name&&this.raise(r.key.start,gx.ModuleAttributeDifferentFromType,r.key.name),t.has(r.key.name)&&this.raise(r.key.start,gx.ModuleAttributesWithDuplicateKeys,r.key.name),t.add(r.key.name),!this.match(Zb.string))throw this.unexpected(this.state.start,gx.ModuleAttributeInvalidValue);r.value=this.parseLiteral(this.state.value,"StringLiteral"),this.finishNode(r,"ImportAttribute"),e.push(r)}while(this.eat(Zb.comma));return e},r.maybeParseModuleAttributes=function(){if(!this.match(Zb._with)||this.hasPrecedingLineBreak())return this.hasPlugin("moduleAttributes")?[]:null;this.expectPlugin("moduleAttributes"),this.next();var e=[],t=new Set;do{var r=this.startNode();if(r.key=this.parseIdentifier(!0),"type"!==r.key.name&&this.raise(r.key.start,gx.ModuleAttributeDifferentFromType,r.key.name),t.has(r.key.name)&&this.raise(r.key.start,gx.ModuleAttributesWithDuplicateKeys,r.key.name),t.add(r.key.name),this.expect(Zb.colon),!this.match(Zb.string))throw this.unexpected(this.state.start,gx.ModuleAttributeInvalidValue);r.value=this.parseLiteral(this.state.value,"StringLiteral"),this.finishNode(r,"ImportAttribute"),e.push(r)}while(this.eat(Zb.comma));return e},r.maybeParseImportAssertions=function(){if(!this.match(Zb.name)||"assert"!==this.state.value||this.hasPrecedingLineBreak())return this.hasPlugin("importAssertions")?[]:null;this.expectPlugin("importAssertions"),this.next(),this.eat(Zb.braceL);var e=this.parseAssertEntries();return this.eat(Zb.braceR),e},r.maybeParseDefaultImportSpecifier=function(e){return!!this.shouldParseDefaultImport(e)&&(this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier","default import specifier"),!0)},r.maybeParseStarImportSpecifier=function(e){if(this.match(Zb.star)){var t=this.startNode();return this.next(),this.expectContextual("as"),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier","import namespace specifier"),!0}return!1},r.parseNamedImportSpecifiers=function(e){var t=!0;for(this.expect(Zb.braceL);!this.eat(Zb.braceR);){if(t)t=!1;else{if(this.eat(Zb.colon))throw this.raise(this.state.start,gx.DestructureNamedImport);if(this.expect(Zb.comma),this.eat(Zb.braceR))break}this.parseImportSpecifier(e)}},r.parseImportSpecifier=function(e){var t=this.startNode();if(t.imported=this.parseModuleExportName(),this.eatContextual("as"))t.local=this.parseIdentifier();else{var r=t.imported;if("StringLiteral"===r.type)throw this.raise(t.start,gx.ImportBindingIsString,r.value);this.checkReservedWord(r.name,t.start,!0,!0),t.local=r.__clone()}this.checkLVal(t.local,9,void 0,"import specifier"),e.specifiers.push(this.finishNode(t,"ImportSpecifier"))},t}(oE),dE=function(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map},fE=function(){function e(e){this.stack=[],this.raise=void 0,this.undefinedPrivateNames=new Map,this.raise=e}var t=e.prototype;return t.current=function(){return this.stack[this.stack.length-1]},t.enter=function(){this.stack.push(new dE)},t.exit=function(){for(var e=this.stack.pop(),t=this.current(),r=0,n=Array.from(e.undefinedPrivateNames);r<n.length;r++){var a=n[r],s=a[0],i=a[1];t?t.undefinedPrivateNames.has(s)||t.undefinedPrivateNames.set(s,i):this.raise(i,gx.InvalidPrivateFieldResolution,s)}},t.declarePrivateName=function(e,t,r){var n=this.current(),a=n.privateNames.has(e);if(3&t){var s=a&&n.loneAccessors.get(e);if(s)(a=(3&s)===(3&t)||(4&s)!==(4&t))||n.loneAccessors.delete(e);else a||n.loneAccessors.set(e,t)}a&&this.raise(r,gx.PrivateNameRedeclaration,e),n.privateNames.add(e),n.undefinedPrivateNames.delete(e)},t.usePrivateName=function(e,t){for(var r,n=0,a=this.stack;n<a.length;n++)if((r=a[n]).privateNames.has(e))return;r?r.undefinedPrivateNames.set(e,t):this.raise(t,gx.InvalidPrivateFieldResolution,e)},e}(),hE=function(e){function t(t,r){var n;t=function(e){for(var t={},r=0,n=Object.keys(Yx);r<n.length;r++){var a=n[r];t[a]=e&&null!=e[a]?e[a]:Yx[a]}return t}(t);var a=(n=e.call(this,t,r)||this).getScopeHandler();return n.options=t,n.inModule="module"===n.options.sourceType,n.scope=new a(n.raise.bind(w(n)),n.inModule),n.prodParam=new Lx,n.classScope=new fE(n.raise.bind(w(n))),n.plugins=function(e){for(var t=new Map,r=0;r<e.length;r++){var n=e[r],a=Array.isArray(n)?n:[n,{}],s=a[0],i=a[1];t.has(s)||t.set(s,i||{})}return t}(n.options.plugins),n.filename=t.sourceFilename,n}f(t,e);var r=t.prototype;return r.getScopeHandler=function(){return Fx},r.parse=function(){var e=0;this.hasPlugin("topLevelAwait")&&this.inModule&&(e|=2),this.scope.enter(1),this.prodParam.enter(e);var t=this.startNode(),r=this.startNode();return this.nextToken(),t.errors=null,this.parseTopLevel(t,r),t.errors=this.state.errors,t},t}(pE);function mE(e,t){var r;if("unambiguous"!==(null==(r=t)?void 0:r.sourceType))return yE(t,e).parse();t=Object.assign({},t);try{t.sourceType="module";var n=yE(t,e),a=n.parse();if(n.sawUnambiguousESM)return a;if(n.ambiguousScriptDifferentAst)try{return t.sourceType="script",yE(t,e).parse()}catch(e){}else a.program.sourceType="script";return a}catch(r){try{return t.sourceType="script",yE(t,e).parse()}catch(e){}throw r}}function yE(e,t){var r=hE;return(null==e?void 0:e.plugins)&&(!function(e){if(Kx(e,"decorators")){if(Kx(e,"decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");var t=Hx(e,"decorators","decoratorsBeforeExport");if(null==t)throw new Error("The 'decorators' plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you are migrating from Babylon/Babel 6 or want to use the old decorators proposal, you should use the 'decorators-legacy' plugin instead of 'decorators'.");if("boolean"!=typeof t)throw new Error("'decoratorsBeforeExport' must be a boolean.")}if(Kx(e,"flow")&&Kx(e,"typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(Kx(e,"placeholders")&&Kx(e,"v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(Kx(e,"pipelineOperator")&&!zx.includes(Hx(e,"pipelineOperator","proposal")))throw new Error("'pipelineOperator' requires 'proposal' option whose value should be one of: "+zx.map(function(e){return"'"+e+"'"}).join(", "));if(Kx(e,"moduleAttributes")){if(Kx(e,"importAssertions"))throw new Error("Cannot combine importAssertions and moduleAttributes plugins.");if("may-2020"!==Hx(e,"moduleAttributes","version"))throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(Kx(e,"recordAndTuple")&&!qx.includes(Hx(e,"recordAndTuple","syntaxType")))throw new Error("'recordAndTuple' requires 'syntaxType' option whose value should be one of: "+qx.map(function(e){return"'"+e+"'"}).join(", "))}(e.plugins),r=function(e){var t=Jx.filter(function(t){return Kx(e,t)}),r=t.join("/"),n=gE[r];if(!n){n=hE;for(var a=0;a<t.length;a++){var s=t[a];n=Xx[s](n)}gE[r]=n}return n}(e.plugins)),new r(e,t)}var gE={};var vE={Function:function(e){e.skip()},VariableDeclaration:function(e){if("var"===e.node.kind){for(var t=e.getBindingIdentifiers(),r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];e.scope.push({id:t[a]})}for(var s=[],i=0,o=e.node.declarations;i<o.length;i++){var l=o[i];l.init&&s.push(yl(rl("=",l.id,l.init)))}e.replaceWithMultiple(s)}}};var bE=Object.freeze({__proto__:null,replaceWithMultiple:function(e){this.resync(),Yd((e=this._verifyNodeList(e))[0],this.node),$d(e[e.length-1],this.node),this.node=this.container[this.key]=null;var t=this.insertAfter(e);return this.node?this.requeue():this.remove(),t},replaceWithSourceString:function(e){this.resync();try{e=mE(e="("+e+")")}catch(r){var t=r.loc;throw t&&(r.message+=" - make sure this is an expression.\n"+Kb(e,{start:{line:t.line,column:t.column+1}}),r.code="BABEL_REPLACE_SOURCE_ERROR"),r}return e=e.program.body[0].expression,Kw.removeProperties(e),this.replaceWith(e)},replaceWith:function(e){if(this.resync(),this.removed)throw new Error("You can't replace this node, we've already removed it");if(e instanceof Pw&&(e=e.node),!e)throw new Error("You passed `path.replaceWith()` a falsy node, use `path.remove()` instead");if(this.node===e)return[this];if(this.isProgram()&&!Te(e))throw new Error("You can only replace a Program root node with another Program node");if(Array.isArray(e))throw new Error("Don't use `path.replaceWith()` with an array of nodes, use `path.replaceWithMultiple()`");if("string"==typeof e)throw new Error("Don't use `path.replaceWith()` with a source string, use `path.replaceWithSourceString()`");var t="";if(this.isNodeType("Statement")&&$t(e)&&(this.canHaveVariableDeclarationOrExpression()||this.canSwapBetweenExpressionAndStatement(e)||this.parentPath.isExportDefaultDeclaration()||(e=yl(e),t="expression")),this.isNodeType("Expression")&&er(e)&&!this.canHaveVariableDeclarationOrExpression()&&!this.canSwapBetweenExpressionAndStatement(e))return this.replaceExpressionWithStatements([e]);var r=this.node;return r&&(Qd(e,r),Zd(r)),this._replaceWith(e),this.type=e.type,this.setScope(),this.requeue(),[t?this.get(t):this]},_replaceWith:function(e){if(!this.container)throw new ReferenceError("Container is falsy")
;this.inList?Ji(this.parent,this.key,[e]):Ji(this.parent,this.key,e),this.debug("Replace with "+(null==e?void 0:e.type)),this.node=this.container[this.key]=e},replaceExpressionWithStatements:function(e){this.resync();var t=sh(e,this.scope);if(t)return this.replaceWith(t)[0].get("expressions");var r=this.getFunctionParent(),n=null==r?void 0:r.is("async"),a=ec([],ol(e));this.replaceWith(cl(a,[])),this.traverse(vE);for(var s,i=U(this.get("callee").getCompletionRecords());!(s=i()).done;){var o=s.value;if(o.isExpressionStatement()){var l=o.findParent(function(e){return e.isLoop()});if(l){var c=l.getData("expressionReplacementReturnUid");if(c)c=wl(c.name);else{var u=this.get("callee");c=u.scope.generateDeclaredUidIdentifier("ret"),u.get("body").pushContainer("body",Ml(Gd(c))),l.setData("expressionReplacementReturnUid",c)}o.get("expression").replaceWith(rl("=",Gd(c),o.node.expression))}else o.replaceWith(Ml(o.node.expression))}}var p=this.get("callee");return p.arrowFunctionToExpression(),n&&Kw.hasType(this.get("callee.body").node,"AwaitExpression",mf)&&(p.set("async",!0),this.replaceWith(wc(this.node))),p.get("body.body")},replaceInline:function(e){if(this.resync(),Array.isArray(e)){if(Array.isArray(this.container)){e=this._verifyNodeList(e);var t=this._containerInsertAfter(e);return this.remove(),t}return this.replaceWithMultiple(e)}return this.replaceWith(e)}}),xE=["String","Number","Math"],EE=["random"];function wE(e,t){t.confident&&(t.deoptPath=e,t.confident=!1)}function SE(e,t){var r=e.node,n=t.seen;if(n.has(r)){var a=n.get(r);return a.resolved?a.value:void wE(e,t)}var s={resolved:!1};n.set(r,s);var i=function(e,t){if(!t.confident)return;var r=e.node;if(e.isSequenceExpression()){var n=e.get("expressions");return SE(n[n.length-1],t)}if(e.isStringLiteral()||e.isNumericLiteral()||e.isBooleanLiteral())return r.value;if(e.isNullLiteral())return null;if(e.isTemplateLiteral())return TE(e,r.quasis,t);if(e.isTaggedTemplateExpression()&&e.get("tag").isMemberExpression()){var a=e.get("tag.object"),s=a.node.name,i=e.get("tag.property");if(a.isIdentifier()&&"String"===s&&!e.scope.getBinding(s,!0)&&i.isIdentifier&&"raw"===i.node.name)return TE(e,r.quasi.quasis,t,!0)}if(e.isConditionalExpression()){var o=SE(e.get("test"),t);if(!t.confident)return;return SE(o?e.get("consequent"):e.get("alternate"),t)}if(e.isExpressionWrapper())return SE(e.get("expression"),t);if(e.isMemberExpression()&&!e.parentPath.isCallExpression({callee:r})){var l=e.get("property"),c=e.get("object");if(c.isLiteral()&&l.isIdentifier()){var u=c.node.value,p=typeof u;if("number"===p||"string"===p)return u[l.node.name]}}if(e.isReferencedIdentifier()){var d=e.scope.getBinding(r.name);if(d&&d.constantViolations.length>0)return wE(d.path,t);if(d&&e.node.start<d.path.node.end)return wE(d.path,t);if(null==d?void 0:d.hasValue)return d.value;if("undefined"===r.name)return d?wE(d.path,t):void 0;if("Infinity"===r.name)return d?wE(d.path,t):1/0;if("NaN"===r.name)return d?wE(d.path,t):NaN;var f=e.resolve();return f===e?wE(e,t):SE(f,t)}if(e.isUnaryExpression({prefix:!0})){if("void"===r.operator)return;var h=e.get("argument");if("typeof"===r.operator&&(h.isFunction()||h.isClass()))return"function";var m=SE(h,t);if(!t.confident)return;switch(r.operator){case"!":return!m;case"+":return+m;case"-":return-m;case"~":return~m;case"typeof":return typeof m}}if(e.isArrayExpression()){for(var y,g=[],v=U(e.get("elements"));!(y=v()).done;){var b=y.value.evaluate();if(!b.confident)return wE(b.deopt,t);g.push(b.value)}return g}if(e.isObjectExpression()){for(var x,E={},w=U(e.get("properties"));!(x=w()).done;){var S=x.value;if(S.isObjectMethod()||S.isSpreadElement())return wE(S,t);var T=S.get("key");if(S.node.computed){if(!(T=T.evaluate()).confident)return wE(T.deopt,t);T=T.value}else T=T.isIdentifier()?T.node.name:T.node.value;var j=S.get("value").evaluate();if(!j.confident)return wE(j.deopt,t);j=j.value,E[T]=j}return E}if(e.isLogicalExpression()){var A=t.confident,P=SE(e.get("left"),t),k=t.confident;t.confident=A;var C=SE(e.get("right"),t),D=t.confident;switch(r.operator){case"||":if(t.confident=k&&(!!P||D),!t.confident)return;return P||C;case"&&":if(t.confident=k&&(!P||D),!t.confident)return;return P&&C}}if(e.isBinaryExpression()){var _=SE(e.get("left"),t);if(!t.confident)return;var I=SE(e.get("right"),t);if(!t.confident)return;switch(r.operator){case"-":return _-I;case"+":return _+I;case"/":return _/I;case"*":return _*I;case"%":return _%I;case"**":return Math.pow(_,I);case"<":return _<I;case">":return _>I;case"<=":return _<=I;case">=":return _>=I;case"==":return _==I;case"!=":return _!=I;case"===":return _===I;case"!==":return _!==I;case"|":return _|I;case"&":return _&I;case"^":return _^I;case"<<":return _<<I;case">>":return _>>I;case">>>":return _>>>I}}if(e.isCallExpression()){var O,N,B=e.get("callee");if(B.isIdentifier()&&!e.scope.getBinding(B.node.name,!0)&&xE.indexOf(B.node.name)>=0&&(N=Bs[r.callee.name]),B.isMemberExpression()){var F=B.get("object"),R=B.get("property");if(F.isIdentifier()&&R.isIdentifier()&&xE.indexOf(F.node.name)>=0&&EE.indexOf(R.node.name)<0&&(N=(O=Bs[F.node.name])[R.node.name]),F.isLiteral()&&R.isIdentifier()){var M=typeof F.node.value;"string"!==M&&"number"!==M||(N=(O=F.node.value)[R.node.name])}}if(N){var L=e.get("arguments").map(function(e){return SE(e,t)});if(!t.confident)return;return N.apply(O,L)}}wE(e,t)}(e,t);return t.confident&&(s.resolved=!0,s.value=i),i}function TE(e,t,r,n){void 0===n&&(n=!1);for(var a,s="",i=0,o=e.get("expressions"),l=U(t);!(a=l()).done;){var c=a.value;if(!r.confident)break;s+=n?c.value.raw:c.value.cooked;var u=o[i++];u&&(s+=String(SE(u,r)))}if(r.confident)return s}var jE=Object.freeze({__proto__:null,evaluateTruthy:function(){var e=this.evaluate();if(e.confident)return!!e.value},evaluate:function(){var e={confident:!0,deoptPath:null,seen:new Map},t=SE(this,e);return e.confident||(t=void 0),{confident:e.confident,deopt:e.deoptPath,value:t}}});function AE(e){return{code:function(e){return"/* @babel/template */;\n"+e},validate:function(){},unwrap:function(t){return e(t.program.body.slice(1))}}}var PE=AE(function(e){return e.length>1?e:e[0]}),kE=AE(function(e){return e}),CE=AE(function(e){if(0===e.length)throw new Error("Found nothing to return.");if(e.length>1)throw new Error("Found multiple statements but wanted one");return e[0]}),DE={code:function(e){return"(\n"+e+"\n)"},validate:function(e){var t=e.program;if(t.body.length>1)throw new Error("Found multiple statements but wanted one");if(0===t.body[0].expression.start)throw new Error("Parse result included parens.")},unwrap:function(e){return e.program.body[0].expression}};function _E(e,t){var r=t.placeholderWhitelist,n=void 0===r?e.placeholderWhitelist:r,a=t.placeholderPattern,s=void 0===a?e.placeholderPattern:a,i=t.preserveComments,o=void 0===i?e.preserveComments:i,l=t.syntacticPlaceholders,c=void 0===l?e.syntacticPlaceholders:l;return{parser:Object.assign({},e.parser,t.parser),placeholderWhitelist:n,placeholderPattern:s,preserveComments:o,syntacticPlaceholders:c}}function IE(e){if(null!=e&&"object"!=typeof e)throw new Error("Unknown template options.");var t=e||{},r=t.placeholderWhitelist,n=t.placeholderPattern,a=t.preserveComments,s=t.syntacticPlaceholders,i=E(t,["placeholderWhitelist","placeholderPattern","preserveComments","syntacticPlaceholders"]);if(null!=r&&!(r instanceof Set))throw new Error("'.placeholderWhitelist' must be a Set, null, or undefined");if(null!=n&&!(n instanceof RegExp)&&!1!==n)throw new Error("'.placeholderPattern' must be a RegExp, false, null, or undefined");if(null!=a&&"boolean"!=typeof a)throw new Error("'.preserveComments' must be a boolean, null, or undefined");if(null!=s&&"boolean"!=typeof s)throw new Error("'.syntacticPlaceholders' must be a boolean, null, or undefined");if(!0===s&&(null!=r||null!=n))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");return{parser:i,placeholderWhitelist:r||void 0,placeholderPattern:null==n?void 0:n,preserveComments:null==a?void 0:a,syntacticPlaceholders:null==s?void 0:s}}function OE(e){if(Array.isArray(e))return e.reduce(function(e,t,r){return e["$"+r]=t,e},{});if("object"==typeof e||null==e)return e||void 0;throw new Error("Template replacements must be an array, object, null, or undefined")}var NE=/^[_$A-Z0-9]+$/;function BE(e,t,r){var n=r.placeholderWhitelist,a=r.placeholderPattern,s=r.preserveComments,i=r.syntacticPlaceholders,o=function(e,t,r){var n=(t.plugins||[]).slice();!1!==r&&n.push("placeholders");t=Object.assign({allowReturnOutsideFunction:!0,allowSuperOutsideMethod:!0,sourceType:"module"},t,{plugins:n});try{return mE(e,t)}catch(t){var a=t.loc;throw a&&(t.message+="\n"+Kb(e,{start:a}),t.code="BABEL_TEMPLATE_PARSE_ERROR"),t}}(t,r.parser,i);rh(o,{preserveComments:s}),e.validate(o);var l={placeholders:[],placeholderNames:new Set},c={placeholders:[],placeholderNames:new Set},u={value:void 0};return bh(o,FE,{syntactic:l,legacy:c,isLegacyRef:u,placeholderWhitelist:n,placeholderPattern:a,syntacticPlaceholders:i}),Object.assign({ast:o},u.value?c:l)}function FE(e,t,r){var n,a;if(Bt(e)){if(!1===r.syntacticPlaceholders)throw new Error("%%foo%%-style placeholders can't be used when '.syntacticPlaceholders' is false.");a=e.name.name,r.isLegacyRef.value=!1}else{if(!1===r.isLegacyRef.value||r.syntacticPlaceholders)return;if(he(e)||Dt(e))a=e.name,r.isLegacyRef.value=!0;else{if(!ge(e))return;a=e.value,r.isLegacyRef.value=!0}}if(!r.isLegacyRef.value&&(null!=r.placeholderPattern||null!=r.placeholderWhitelist))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");if(!r.isLegacyRef.value||!1!==r.placeholderPattern&&(r.placeholderPattern||NE).test(a)||(null==(n=r.placeholderWhitelist)?void 0:n.has(a))){var s,i=(t=t.slice())[t.length-1],o=i.node,l=i.key;ge(e)||Bt(e,{expectedNode:"StringLiteral"})?s="string":Se(o)&&"arguments"===l||ne(o)&&"arguments"===l||sr(o)&&"params"===l?s="param":le(o)&&!Bt(e)?(s="statement",t=t.slice(0,-1)):s=er(e)&&Bt(e)?"statement":"other";var c=r.isLegacyRef.value?r.legacy:r.syntactic,u=c.placeholders,p=c.placeholderNames;u.push({name:a,type:s,resolve:function(e){return function(e,t){for(var r=e,n=0;n<t.length-1;n++){var a=t[n],s=a.key,i=a.index;r=void 0===i?r[s]:r[s][i]}var o=t[t.length-1],l=o.key,c=o.index;return{parent:r,key:l,index:c}}(e,t)},isDuplicate:p.has(a)}),p.add(a)}}function RE(e,t){var r=Gd(e.ast);return t&&(e.placeholders.forEach(function(e){if(!Object.prototype.hasOwnProperty.call(t,e.name)){var r=e.name;throw new Error('Error: No substitution given for "'+r+"\". If this is not meant to be a\n            placeholder you may want to consider passing one of the following options to @babel/template:\n            - { placeholderPattern: false, placeholderWhitelist: new Set(['"+r+"'])}\n            - { placeholderPattern: /^"+r+"$/ }")}}),Object.keys(t).forEach(function(t){if(!e.placeholderNames.has(t))throw new Error('Unknown substitution "'+t+'" given')})),e.placeholders.slice().reverse().forEach(function(e){try{!function(e,t,r){e.isDuplicate&&(Array.isArray(r)?r=r.map(function(e){return Gd(e)}):"object"==typeof r&&(r=Gd(r)));var n=e.resolve(t),a=n.parent,s=n.key,i=n.index;if("string"===e.type){if("string"==typeof r&&(r=jl(r)),!r||!ge(r))throw new Error("Expected string substitution")}else if("statement"===e.type)void 0===i?r?Array.isArray(r)?r=ol(r):"string"==typeof r?r=yl(wl(r)):er(r)||(r=yl(r)):r=ml():r&&!Array.isArray(r)&&("string"==typeof r&&(r=wl(r)),er(r)||(r=yl(r)));else if("param"===e.type){if("string"==typeof r&&(r=wl(r)),void 0===i)throw new Error("Assertion failure.")}else if("string"==typeof r&&(r=wl(r)),Array.isArray(r))throw new Error("Cannot replace single expression with an array.");if(void 0===i)Ji(a,s,r),a[s]=r;else{var o=a[s].slice();"statement"===e.type||"param"===e.type?null==r?o.splice(i,1):Array.isArray(r)?o.splice.apply(o,[i,1].concat(r)):o[i]=r:o[i]=r,Ji(a,s,o),a[s]=o}}(e,r,t&&t[e.name]||null)}catch(t){throw t.message='@babel/template placeholder "'+e.name+'": '+t.message,t}}),r}function ME(e,t,r){var n;return t=e.code(t),function(a){var s=OE(a);return n||(n=BE(e,t,r)),e.unwrap(RE(n,s))}}function LE(e,t,r){var n=function(e,t,r){var n,a,s,i="";do{var o=UE(t,i+="$");n=o.names,a=new Set(n),s=BE(e,e.code(o.code),{parser:r.parser,placeholderWhitelist:new Set(o.names.concat(r.placeholderWhitelist?Array.from(r.placeholderWhitelist):[])),placeholderPattern:r.placeholderPattern,preserveComments:r.preserveComments,syntacticPlaceholders:r.syntacticPlaceholders})}while(s.placeholders.some(function(e){return e.isDuplicate&&a.has(e.name)}));return{metadata:s,names:n}}(e,t,r),a=n.metadata,s=n.names;return function(t){var r=t.reduce(function(e,t,r){return e[s[r]]=t,e},{});return function(t){var n=OE(t);return n&&Object.keys(n).forEach(function(e){if(Object.prototype.hasOwnProperty.call(r,e))throw new Error("Unexpected replacement overlap.")}),e.unwrap(RE(a,n?Object.assign(n,r):r))}}}function UE(e,t){for(var r=[],n=e[0],a=1;a<e.length;a++){var s=""+t+(a-1);r.push(s),n+=s+e[a]}return{names:r,code:n}}var WE=IE({placeholderPattern:!1});function VE(e,t){var r=new WeakMap,n=new WeakMap,a=t||IE(null);return Object.assign(function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];if("string"==typeof t){if(s.length>1)throw new Error("Unexpected extra params.");return GE(ME(e,t,_E(a,IE(s[0]))))}if(Array.isArray(t)){var o=r.get(t);return o||(o=LE(e,t,a),r.set(t,o)),GE(o(s))}if("object"==typeof t&&t){if(s.length>0)throw new Error("Unexpected extra params.");return VE(e,_E(a,IE(t)))}throw new Error("Unexpected template param "+typeof t)},{ast:function(t){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];if("string"==typeof t){if(s.length>1)throw new Error("Unexpected extra params.");return ME(e,t,_E(_E(a,IE(s[0])),WE))()}if(Array.isArray(t)){var o=n.get(t);return o||(o=LE(e,t,_E(a,WE)),n.set(t,o)),o(s)()}throw new Error("Unexpected template param "+typeof t)}})}function GE(e){var t="";try{throw new Error}catch(e){e.stack&&(t=e.stack.split("\n").slice(3).join("\n"))}return function(r){try{return e(r)}catch(e){throw e.stack+="\n    =============\n"+t,e}}}var KE=VE(PE),HE=VE(CE),zE=VE(kE),qE=VE(DE),XE=VE({code:function(e){return e},validate:function(){},unwrap:function(e){return e.program}}),JE=Object.assign(KE.bind(void 0),{smart:KE,statement:HE,statements:zE,expression:qE,program:XE,ast:KE.ast}),YE=JE("\n  (function (FUNCTION_KEY) {\n    function FUNCTION_ID() {\n      return FUNCTION_KEY.apply(this, arguments);\n    }\n\n    FUNCTION_ID.toString = function () {\n      return FUNCTION_KEY.toString();\n    }\n\n    return FUNCTION_ID;\n  })(FUNCTION)\n"),$E=JE("\n  (function (FUNCTION_KEY) {\n    function* FUNCTION_ID() {\n      return yield* FUNCTION_KEY.apply(this, arguments);\n    }\n\n    FUNCTION_ID.toString = function () {\n      return FUNCTION_KEY.toString();\n    };\n\n    return FUNCTION_ID;\n  })(FUNCTION)\n"),QE={"ReferencedIdentifier|BindingIdentifier":function(e,t){e.node.name===t.name&&(e.scope.getBindingIdentifier(t.name)===t.outerDeclar&&(t.selfReference=!0,e.stop()))}};function ZE(e,t,r,n){if(e.selfReference){if(!n.hasBinding(r.name)||n.hasGlobal(r.name)){if(!sr(t))return;var a=YE;t.generator&&(a=$E);for(var s=a({FUNCTION:t,FUNCTION_ID:r,FUNCTION_KEY:n.generateUidIdentifier(r.name)}).expression,i=s.callee.body.body[0].params,o=0,l=function(e){for(var t=e.params,r=0;r<t.length;r++){var n=t[r];if(Le(n)||ke(n))return r}return t.length}(t);o<l;o++)i.push(n.generateUidIdentifier("x"));return s}n.rename(r.name)}t.id=r,n.getProgramParent().references[r.name]=!0}function ew(e,t){var r=e.node,n=e.parent,a=e.scope,s=e.id;if(void 0===t&&(t=!1),!r.id){if(!Pe(n)&&!Ae(n,{kind:"method"})||n.computed&&!lr(n.key)){if(Re(n)){if(he(s=n.id)&&!t){var i=a.parent.getBinding(s.name);if(i&&i.constant&&a.getBinding(s.name)===i)return r.id=Gd(s),void(r.id[Xi]=!0)}}else if(Z(n,{operator:"="}))s=n.left;else if(!s)return}else s=n.key;var o;if(s&&lr(s)?o=function(e){return be(e)?"null":xe(e)?"_"+e.pattern+"_"+e.flags:at(e)?e.quasis.map(function(e){return e.value.raw}).join(""):void 0!==e.value?e.value+"":""}(s):s&&he(s)&&(o=s.name),void 0!==o)return(s=wl(o=Jf(o)))[Xi]=!0,ZE(function(e,t,r){var n={selfAssignment:!1,selfReference:!1,outerDeclar:r.getBindingIdentifier(t),references:[],name:t},a=r.getOwnBinding(t);return a?"param"===a.kind&&(n.selfReference=!0):(n.outerDeclar||r.hasGlobal(t))&&r.traverse(e,QE,n),n}(r,o,a),r,s,a)||r}}function tw(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!0);var n=e.findParent(function(e){return e.isFunction()&&!e.isArrowFunctionExpression()||e.isProgram()||e.isClassProperty({static:!1})}),a="constructor"===(null==n?void 0:n.node.kind);if(n.isClassProperty())throw e.buildCodeFrameError("Unable to transform arrow inside class property");var s,i=function(e){var t=[],r=[],n=[],a=[],s=[];return e.traverse({ClassProperty:function(e){e.skip()},Function:function(e){e.isArrowFunctionExpression()||e.skip()},ThisExpression:function(e){t.push(e)},JSXIdentifier:function(e){"this"===e.node.name&&(e.parentPath.isJSXMemberExpression({object:e.node})||e.parentPath.isJSXOpeningElement({name:e.node}))&&t.push(e)},CallExpression:function(e){e.get("callee").isSuper()&&s.push(e)},MemberExpression:function(e){e.get("object").isSuper()&&a.push(e)},ReferencedIdentifier:function(e){"arguments"===e.node.name&&r.push(e)},MetaProperty:function(e){e.get("meta").isIdentifier({name:"new"})&&e.get("property").isIdentifier({name:"target"})&&n.push(e)}}),{thisPaths:t,argumentsPaths:r,newTargetPaths:n,superProps:a,superCalls:s}}(e),o=i.thisPaths,l=i.argumentsPaths,c=i.newTargetPaths,u=i.superProps,p=i.superCalls;if(a&&p.length>0){if(!r)throw p[0].buildCodeFrameError("Unable to handle nested super() usage in arrow");var d=[];n.traverse({Function:function(e){e.isArrowFunctionExpression()||e.skip()},ClassProperty:function(e){e.skip()},CallExpression:function(e){e.get("callee").isSuper()&&d.push(e)}});var f=function(e){return nw(e,"supercall",function(){var t=e.scope.generateUidIdentifier("args");return ec([Rl(t)],cl(gc(),[yc(wl(t.name))]))})}(n);d.forEach(function(e){var t=wl(f);t.loc=e.node.callee.loc,e.get("callee").replaceWith(t)})}if(l.length>0){var h=nw(n,"arguments",function(){return wl("arguments")});l.forEach(function(e){var t=wl(h);t.loc=e.node.loc,e.replaceWith(t)})}if(c.length>0){var m=nw(n,"newtarget",function(){return fc(wl("new"),wl("target"))});c.forEach(function(e){var t=wl(m);t.loc=e.node.loc,e.replaceWith(t)})}if(u.length>0){if(!r)throw u[0].buildCodeFrameError("Unable to handle nested super.prop usage");u.reduce(function(e,t){return e.concat(function(e){if(e.parentPath.isAssignmentExpression()&&"="!==e.parentPath.node.operator){var t=e.parentPath,r=t.node.operator.slice(0,-1),n=t.node.right;if(t.node.operator="=",e.node.computed){var a=e.scope.generateDeclaredUidIdentifier("tmp");t.get("left").replaceWith(_l(e.node.object,rl("=",a,e.node.property),!0)),t.get("right").replaceWith(nl(r,_l(e.node.object,wl(a.name),!0),n))}else t.get("left").replaceWith(_l(e.node.object,e.node.property)),t.get("right").replaceWith(nl(r,_l(e.node.object,wl(e.node.property.name)),n));return[t.get("left"),t.get("right").get("left")]}if(e.parentPath.isUpdateExpression()){var s=e.parentPath,i=e.scope.generateDeclaredUidIdentifier("tmp"),o=e.node.computed?e.scope.generateDeclaredUidIdentifier("prop"):null,l=[rl("=",i,_l(e.node.object,o?rl("=",o,e.node.property):e.node.property,e.node.computed)),rl("=",_l(e.node.object,o?wl(o.name):e.node.property,e.node.computed),nl("+",wl(i.name),Al(1)))];return e.parentPath.node.prefix||l.push(wl(i.name)),s.replaceWith(Ll(l)),[s.get("expressions.0.right"),s.get("expressions.1.left")]}return[e]}(t))},[]).forEach(function(e){var t=e.node.computed?"":e.get("property").node.name,r=e.parentPath.isAssignmentExpression({left:e.node}),a=e.parentPath.isCallExpression({callee:e.node}),s=function(e,t,r){return nw(e,"superprop_"+(t?"set":"get")+":"+(r||""),function(){var n,a=[];if(r)n=_l(gc(),wl(r));else{var s=e.scope.generateUidIdentifier("prop");a.unshift(s),n=_l(gc(),wl(s.name),!0)}if(t){var i=e.scope.generateUidIdentifier("value");a.push(i),n=rl("=",n,wl(i.name))}return ec(a,n)})}(n,r,t),i=[];if(e.node.computed&&i.push(e.get("property").node),r){var l=e.parentPath.node.right;i.push(l)}var c=cl(wl(s),i);a?(e.parentPath.unshiftContainer("arguments",Gl()),e.replaceWith(_l(c,wl("call"))),o.push(e.parentPath.get("arguments.0"))):r?e.parentPath.replaceWith(c):e.replaceWith(c)})}return(o.length>0||t)&&(s=function(e,t){return nw(e,"this",function(r){if(!t||!rw(e))return Gl();var n=new WeakSet;e.traverse({Function:function(e){e.isArrowFunctionExpression()||e.skip()},ClassProperty:function(e){e.skip()},CallExpression:function(e){e.get("callee").isSuper()&&(n.has(e.node)||(n.add(e.node),e.replaceWithMultiple([e.node,rl("=",wl(r),wl("this"))])))}})})}(n,a),(!t||a&&rw(n))&&(o.forEach(function(e){var t=e.isJSX()?Gu(s):wl(s);t.loc=e.node.loc,e.replaceWith(t)}),t&&(s=null))),s}function rw(e){return e.isClassMethod()&&!!e.parentPath.parentPath.node.superClass}function nw(e,t,r){var n="binding:"+t,a=e.getData(n);if(!a){var s=e.scope.generateUidIdentifier(t);a=s.name,e.setData(n,a),e.scope.push({id:s,init:r(a)})}return a}var aw=Object.freeze({__proto__:null,toComputedKey:function(){var e,t=this.node;if(this.isMemberExpression())e=t.property;else{if(!this.isProperty()&&!this.isMethod())throw new ReferenceError("todo");e=t.key}return t.computed||he(e)&&(e=jl(e.name)),e},ensureBlock:function(){var e=this.get("body"),t=e.node;if(Array.isArray(e))throw new Error("Can't convert array path to a block statement");if(!t)throw new Error("Can't convert node without a body");if(e.isBlockStatement())return t;var r,n,a=[],s="body";e.isStatement()?(n="body",r=0,a.push(e.node)):(s+=".body.0",this.isFunction()?(r="argument",a.push(Ml(e.node))):(r="expression",a.push(yl(e.node)))),this.node.body=ol(a);var i=this.get(s);return e.setup(i,n?i.node[n]:i.node,n,r),this.node},arrowFunctionToShadowed:function(){this.isArrowFunctionExpression()&&this.arrowFunctionToExpression()},unwrapFunctionEnvironment:function(){if(!this.isArrowFunctionExpression()&&!this.isFunctionExpression()&&!this.isFunctionDeclaration())throw this.buildCodeFrameError("Can only unwrap the environment of a function.");tw(this)},arrowFunctionToExpression:function(e){var t=void 0===e?{}:e,r=t.allowInsertArrow,n=void 0===r||r,a=t.specCompliant,s=void 0!==a&&a;if(!this.isArrowFunctionExpression())throw this.buildCodeFrameError("Cannot convert non-arrow function to a function expression.");var i=tw(this,s,n);if(this.ensureBlock(),this.node.type="FunctionExpression",s){var o=i?null:this.parentPath.scope.generateUidIdentifier("arrowCheckId");o&&this.parentPath.scope.push({id:o,init:Nl([])}),this.get("body").unshiftContainer("body",yl(cl(this.hub.addHelper("newArrowCheck"),[Gl(),wl(o?o.name:i)]))),this.replaceWith(cl(_l(ew(this,!0)||this.node,wl("bind")),[o?wl(o.name):Gl()]))}}});function sw(e){var t=this.node&&this.node[e];return t&&Array.isArray(t)?!!t.length:!!t}var iw=sw;function ow(e){return(e.scope.getFunctionParent()||e.scope.getProgramParent()).path}function lw(e,t){switch(e){case"LogicalExpression":return"right"===t;case"ConditionalExpression":case"IfStatement":return"consequent"===t||"alternate"===t;case"WhileStatement":case"DoWhileStatement":case"ForInStatement":case"ForOfStatement":return"body"===t;case"ForStatement":return"body"===t||"update"===t;case"SwitchStatement":return"cases"===t;case"TryStatement":return"handler"===t;case"AssignmentPattern":return"right"===t;case"OptionalMemberExpression":return"property"===t;case"OptionalCallExpression":return"arguments"===t;default:return!1}}function cw(e,t){for(var r=0;r<t;r++){var n=e[r];if(lw(n.parent.type,n.parentKey))return!0}return!1}var uw=new WeakSet;var pw=Object.freeze({__proto__:null,matchesPattern:function(e,t){return xr(this.node,e,t)},has:sw,isStatic:function(){return this.scope.isStatic(this.node)},is:iw,isnt:function(e){return!this.has(e)},equals:function(e,t){return this.node[e]===t},isNodeType:function(e){return ii(this.type,e)},canHaveVariableDeclarationOrExpression:function(){return("init"===this.key||"left"===this.key)&&this.parentPath.isFor()},canSwapBetweenExpressionAndStatement:function(e){return!("body"!==this.key||!this.parentPath.isArrowFunctionExpression())&&(this.isExpression()?te(e):!!this.isBlockStatement()&&$t(e))},isCompletionRecord:function(e){var t=this,r=!0;do{var n=t.container;if(t.isFunction()&&!r)return!!e;if(r=!1,Array.isArray(n)&&t.key!==n.length-1)return!1}while((t=t.parentPath)&&!t.isProgram());return!0},isStatementOrBlock:function(){return!this.parentPath.isLabeledStatement()&&!te(this.container)&&Di.includes(this.key)},referencesImport:function(e,t){if(!this.isReferencedIdentifier())return!1;var r=this.scope.getBinding(this.node.name);if(!r||"module"!==r.kind)return!1;var n=r.path,a=n.parentPath;return!!a.isImportDeclaration()&&(a.node.source.value===e&&(!t||(!(!n.isImportDefaultSpecifier()||"default"!==t)||(!(!n.isImportNamespaceSpecifier()||"*"!==t)||!(!n.isImportSpecifier()||n.node.imported.name!==t)))))},getSource:function(){var e=this.node;if(e.end){var t=this.hub.getCode();if(t)return t.slice(e.start,e.end)}return""},willIMaybeExecuteBefore:function(e){return"after"!==this._guessExecutionStatusRelativeTo(e)},_guessExecutionStatusRelativeTo:function(e){var t={this:ow(this),target:ow(e)};if(t.target.node!==t.this.node)return this._guessExecutionStatusRelativeToDifferentFunctions(t.target);var r,n={target:e.getAncestry(),this:this.getAncestry()};if(n.target.indexOf(this)>=0)return"after";if(n.this.indexOf(e)>=0)return"before";for(var a={target:0,this:0};!r&&a.this<n.this.length;){var s=n.this[a.this];a.target=n.target.indexOf(s),a.target>=0?r=s:a.this++}if(!r)throw new Error("Internal Babel error - The two compared nodes don't appear to belong to the same program.");if(cw(n.this,a.this-1)||cw(n.target,a.target-1))return"unknown";var i={this:n.this[a.this-1],target:n.target[a.target-1]};if(i.target.listKey&&i.this.listKey&&i.target.container===i.this.container)return i.target.key>i.this.key?"before":"after";var o=Qi[r.type],l=o.indexOf(i.this.parentKey);return o.indexOf(i.target.parentKey)>l?"before":"after"},_guessExecutionStatusRelativeToDifferentFunctions:function(e){if(!e.isFunctionDeclaration()||e.parentPath.isExportDeclaration())return"unknown";var t=e.scope.getBinding(e.node.id.name);if(!t.references)return"before";for(var r,n,a=U(t.referencePaths);!(n=a()).done;){var s=n.value;if(!!!s.find(function(t){return t.node===e.node})){if("callee"!==s.key||!s.parentPath.isCallExpression())return"unknown";if(!uw.has(s.node)){uw.add(s.node);var i=this._guessExecutionStatusRelativeTo(s);if(uw.delete(s.node),r&&r!==i)return"unknown";r=i}}}return r},resolve:function(e,t){return this._resolve(e,t)||this},_resolve:function(e,t){if(!(t&&t.indexOf(this)>=0))if((t=t||[]).push(this),this.isVariableDeclarator()){if(this.get("id").isIdentifier())return this.get("init").resolve(e,t)}else if(this.isReferencedIdentifier()){var r=this.scope.getBinding(this.node.name);if(!r)return;if(!r.constant)return;if("module"===r.kind)return;if(r.path!==this){var n=r.path.resolve(e,t);if(this.find(function(e){return e.node===n.node}))return;return n}}else{if(this.isTypeCastExpression())return this.get("expression").resolve(e,t);if(e&&this.isMemberExpression()){var a=this.toComputedKey();if(!lr(a))return;var s=a.value,i=this.get("object").resolve(e,t);if(i.isObjectExpression())for(var o=0,l=i.get("properties");o<l.length;o++){var c=l[o];if(c.isProperty()){var u=c.get("key"),p=c.isnt("computed")&&u.isIdentifier({name:s});if(p=p||u.isLiteral({value:s}))return c.get("value").resolve(e,t)}}else if(i.isArrayExpression()&&!isNaN(+s)){var d=i.get("elements")[s];if(d)return d.resolve(e,t)}}}},isConstantExpression:function(){if(this.isIdentifier()){var e=this.scope.getBinding(this.node.name);return!!e&&e.constant}return this.isLiteral()?!this.isRegExpLiteral()&&(!this.isTemplateLiteral()||this.get("expressions").every(function(e){return e.isConstantExpression()})):this.isUnaryExpression()?"void"===this.get("operator").node&&this.get("argument").isConstantExpression():!!this.isBinaryExpression()&&(this.get("left").isConstantExpression()&&this.get("right").isConstantExpression())},isInStrictMode:function(){return!!(this.isProgram()?this:this.parentPath).find(function(e){if(e.isProgram({sourceType:"module"}))return!0;if(e.isClass())return!0;if(!e.isProgram()&&!e.isFunction())return!1;if(e.isArrowFunctionExpression()&&!e.get("body").isBlockStatement())return!1;var t=e.node;e.isFunction()&&(t=t.body);for(var r,n=U(t.directives);!(r=n()).done;){if("use strict"===r.value.value.value)return!0}})}});function dw(){var e,t=null!=(e=this.opts.denylist)?e:this.opts.blacklist;return t&&t.indexOf(this.node.type)>-1}var fw=Object.freeze({__proto__:null,call:function(e){var t=this.opts;return this.debug(e),!(!this.node||!this._call(t[e]))||!!this.node&&this._call(t[this.node.type]&&t[this.node.type][e])},_call:function(e){if(!e)return!1;for(var t,r=U(e);!(t=r()).done;){var n=t.value;if(n){var a=this.node;if(!a)return!0;var s=n.call(this.state,this,this.state);if(s&&"object"==typeof s&&"function"==typeof s.then)throw new Error("You appear to be using a plugin with an async traversal visitor, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.");if(s)throw new Error("Unexpected return value from visitor method "+n);if(this.node!==a)return!0;if(this._traverseFlags>0)return!0}}return!1},isDenylisted:dw,isBlacklisted:dw,visit:function(){return!!this.node&&(!this.isDenylisted()&&((!this.opts.shouldSkip||!this.opts.shouldSkip(this))&&(this.shouldSkip||this.call("enter")||this.shouldSkip?(this.debug("Skip..."),this.shouldStop):(this.debug("Recursing into..."),Kw.node(this.node,this.opts,this.scope,this.state,this,this.skipKeys),this.call("exit"),this.shouldStop))))},skip:function(){this.shouldSkip=!0},skipKey:function(e){null==this.skipKeys&&(this.skipKeys={}),this.skipKeys[e]=!0},stop:function(){this._traverseFlags|=Aw|jw},setScope:function(){if(!this.opts||!this.opts.noScope){for(var e,t=this.parentPath;t&&!e;){if(t.opts&&t.opts.noScope)return;e=t.scope,t=t.parentPath}this.scope=this.getScope(e),this.scope&&this.scope.init()}},setContext:function(e){return null!=this.skipKeys&&(this.skipKeys={}),this._traverseFlags=0,e&&(this.context=e,this.state=e.state,this.opts=e.opts),this.setScope(),this},resync:function(){this.removed||(this._resyncParent(),this._resyncList(),this._resyncKey())},_resyncParent:function(){this.parentPath&&(this.parent=this.parentPath.node)},_resyncKey:function(){if(this.container&&this.node!==this.container[this.key]){if(Array.isArray(this.container)){for(var e=0;e<this.container.length;e++)if(this.container[e]===this.node)return this.setKey(e)}else for(var t=0,r=Object.keys(this.container);t<r.length;t++){var n=r[t];if(this.container[n]===this.node)return this.setKey(n)}this.key=null}},_resyncList:function(){if(this.parent&&this.inList){var e=this.parent[this.listKey];this.container!==e&&(this.container=e||null)}},_resyncRemoved:function(){null!=this.key&&this.container&&this.container[this.key]===this.node||this._markRemoved()},popContext:function(){this.contexts.pop(),this.contexts.length>0?this.setContext(this.contexts[this.contexts.length-1]):this.setContext(void 0)},pushContext:function(e){this.contexts.push(e),this.setContext(e)},setup:function(e,t,r,n){this.listKey=r,this.container=t,this.parentPath=e||this.parentPath,this.setKey(n)},setKey:function(e){var t;this.key=e,this.node=this.container[this.key],this.type=null==(t=this.node)?void 0:t.type},requeue:function(e){if(void 0===e&&(e=this),!e.removed)for(var t,r=U(this.contexts);!(t=r()).done;){t.value.maybeQueue(e)}},
_getQueueContexts:function(){for(var e=this,t=this.contexts;!t.length&&(e=e.parentPath);)t=e.contexts;return t}}),hw=[function(e,t){if("test"===e.key&&(t.isWhile()||t.isSwitchCase())||"declaration"===e.key&&t.isExportDeclaration()||"body"===e.key&&t.isLabeledStatement()||"declarations"===e.listKey&&t.isVariableDeclaration()&&1===t.node.declarations.length||"expression"===e.key&&t.isExpressionStatement())return t.remove(),!0},function(e,t){if(t.isSequenceExpression()&&1===t.node.expressions.length)return t.replaceWith(t.node.expressions[0]),!0},function(e,t){if(t.isBinary())return"left"===e.key?t.replaceWith(t.node.right):t.replaceWith(t.node.left),!0},function(e,t){if(t.isIfStatement()&&("consequent"===e.key||"alternate"===e.key)||"body"===e.key&&(t.isLoop()||t.isArrowFunctionExpression()))return e.replaceWith({type:"BlockStatement",body:[]}),!0}];var mw=Object.freeze({__proto__:null,remove:function(){var e;this._assertUnremoved(),this.resync(),(null==(e=this.opts)?void 0:e.noScope)||this._removeFromScope(),this._callRemovalHooks()||(this.shareCommentsWithSiblings(),this._remove()),this._markRemoved()},_removeFromScope:function(){var e=this,t=this.getBindingIdentifiers();Object.keys(t).forEach(function(t){return e.scope.removeBinding(t)})},_callRemovalHooks:function(){for(var e=0,t=hw;e<t.length;e++){if((0,t[e])(this,this.parentPath))return!0}},_remove:function(){Array.isArray(this.container)?(this.container.splice(this.key,1),this.updateSiblingKeys(this.key,-1)):this._replaceWith(null)},_markRemoved:function(){this._traverseFlags|=Aw|Tw,this.node=null},_assertUnremoved:function(){if(this.removed)throw this.buildCodeFrameError("NodePath has been removed so is read-only.")}}),yw={ReferencedIdentifier:function(e,t){if(!e.isJSXIdentifier()||!kh.isCompatTag(e.node.name)||e.parentPath.isJSXMemberExpression()){if("this"===e.node.name){var r=e.scope;do{if(r.path.isFunction()&&!r.path.isArrowFunctionExpression())break}while(r=r.parent);r&&t.breakOnScopePaths.push(r.path)}var n=e.scope.getBinding(e.node.name);if(n){for(var a,s=U(n.constantViolations);!(a=s()).done;){if(a.value.scope!==n.path.scope)return t.mutableBinding=!0,void e.stop()}n===t.scope.getBinding(e.node.name)&&(t.bindings[e.node.name]=n)}}}},gw=function(){function e(e,t){this.breakOnScopePaths=[],this.bindings={},this.mutableBinding=!1,this.scopes=[],this.scope=t,this.path=e,this.attachAfter=!1}var t=e.prototype;return t.isCompatibleScope=function(e){for(var t=0,r=Object.keys(this.bindings);t<r.length;t++){var n=r[t],a=this.bindings[n];if(!e.bindingIdentifierEquals(n,a.identifier))return!1}return!0},t.getCompatibleScopes=function(){var e=this.path.scope;do{if(!this.isCompatibleScope(e))break;if(this.scopes.push(e),this.breakOnScopePaths.indexOf(e.path)>=0)break}while(e=e.parent)},t.getAttachmentPath=function(){var e=this._getAttachmentPath();if(e){var t=e.scope;if(t.path===e&&(t=e.scope.parent),t.path.isProgram()||t.path.isFunction())for(var r=0,n=Object.keys(this.bindings);r<n.length;r++){var a=n[r];if(t.hasOwnBinding(a)){var s=this.bindings[a];if("param"!==s.kind&&"params"!==s.path.parentKey)if(this.getAttachmentParentForPath(s.path).key>=e.key){this.attachAfter=!0,e=s.path;for(var i=0,o=s.constantViolations;i<o.length;i++){var l=o[i];this.getAttachmentParentForPath(l).key>e.key&&(e=l)}}}}return e}},t._getAttachmentPath=function(){var e=this.scopes.pop();if(e)if(e.path.isFunction()){if(!this.hasOwnParamBindings(e))return this.getNextScopeAttachmentParent();if(this.scope===e)return;for(var t=e.path.get("body").get("body"),r=0;r<t.length;r++)if(!t[r].node._blockHoist)return t[r]}else if(e.path.isProgram())return this.getNextScopeAttachmentParent()},t.getNextScopeAttachmentParent=function(){var e=this.scopes.pop();if(e)return this.getAttachmentParentForPath(e.path)},t.getAttachmentParentForPath=function(e){do{if(!e.parentPath||Array.isArray(e.container)&&e.isStatement())return e}while(e=e.parentPath)},t.hasOwnParamBindings=function(e){for(var t=0,r=Object.keys(this.bindings);t<r.length;t++){var n=r[t];if(e.hasOwnBinding(n)){var a=this.bindings[n];if("param"===a.kind&&a.constant)return!0}}return!1},t.run=function(){if(this.path.traverse(yw,this),!this.mutableBinding){this.getCompatibleScopes();var e=this.getAttachmentPath();if(e&&e.getFunctionParent()!==this.path.getFunctionParent()){var t=e.scope.generateUidIdentifier("ref"),r=Jl(t,this.path.node),n=e[this.attachAfter?"insertAfter":"insertBefore"]([e.isVariableDeclarator()?r:Xl("var",[r])])[0],a=this.path.parentPath;return a.isJSXElement()&&this.path.container===a.node.children&&(t=Wu(t)),this.path.replaceWith(Gd(t)),e.isVariableDeclarator()?n.get("init"):n.get("declarations.0.init")}}},e}();var vw=Object.freeze({__proto__:null,insertBefore:function(e){this._assertUnremoved(),e=this._verifyNodeList(e);var t=this.parentPath;if(t.isExpressionStatement()||t.isLabeledStatement()||t.isExportNamedDeclaration()||t.isExportDefaultDeclaration()&&this.isDeclaration())return t.insertBefore(e);if(this.isNodeType("Expression")&&!this.isJSXElement()||t.isForStatement()&&"init"===this.key)return this.node&&e.push(this.node),this.replaceExpressionWithStatements(e);if(Array.isArray(this.container))return this._containerInsertBefore(e);if(this.isStatementOrBlock()){var r=this.node&&(!this.isExpressionStatement()||null!=this.node.expression);return this.replaceWith(ol(r?[this.node]:[])),this.unshiftContainer("body",e)}throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")},_containerInsert:function(e,t){var r;this.updateSiblingKeys(e,t.length);var n=[];(r=this.container).splice.apply(r,[e,0].concat(t));for(var a=0;a<t.length;a++){var s=e+a,i=this.getSibling(s);n.push(i),this.context&&this.context.queue&&i.pushContext(this.context)}for(var o=this._getQueueContexts(),l=0,c=n;l<c.length;l++){var u=c[l];u.setScope(),u.debug("Inserted.");for(var p,d=U(o);!(p=d()).done;){p.value.maybeQueue(u,!0)}}return n},_containerInsertBefore:function(e){return this._containerInsert(this.key,e)},_containerInsertAfter:function(e){return this._containerInsert(this.key+1,e)},insertAfter:function(e){this._assertUnremoved(),e=this._verifyNodeList(e);var t=this.parentPath;if(t.isExpressionStatement()||t.isLabeledStatement()||t.isExportNamedDeclaration()||t.isExportDefaultDeclaration()&&this.isDeclaration())return t.insertAfter(e.map(function(e){return $t(e)?yl(e):e}));if(this.isNodeType("Expression")&&!this.isJSXElement()&&!t.isJSXElement()||t.isForStatement()&&"init"===this.key){if(this.node){var r=this.scope;t.isMethod({computed:!0,key:this.node})&&(r=r.parent);var n=r.generateDeclaredUidIdentifier();e.unshift(yl(rl("=",Gd(n),this.node))),e.push(yl(Gd(n)))}return this.replaceExpressionWithStatements(e)}if(Array.isArray(this.container))return this._containerInsertAfter(e);if(this.isStatementOrBlock()){var a=this.node&&(!this.isExpressionStatement()||null!=this.node.expression);return this.replaceWith(ol(a?[this.node]:[])),this.pushContainer("body",e)}throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")},updateSiblingKeys:function(e,t){if(this.parent)for(var r=Bm.get(this.parent),n=0;n<r.length;n++){var a=r[n];a.key>=e&&(a.key+=t)}},_verifyNodeList:function(e){if(!e)return[];e.constructor!==Array&&(e=[e]);for(var t=0;t<e.length;t++){var r=e[t],n=void 0;if(r?"object"!=typeof r?n="contains a non-object node":r.type?r instanceof Pw&&(n="has a NodePath when it expected a raw object"):n="without a type":n="has falsy node",n){var a=Array.isArray(r)?"array":typeof r;throw new Error("Node list "+n+" with the index of "+t+" and type of "+a)}}return e},unshiftContainer:function(e,t){return this._assertUnremoved(),t=this._verifyNodeList(t),Pw.get({parentPath:this,parent:this.node,container:this.node[e],listKey:e,key:0})._containerInsertBefore(t)},pushContainer:function(e,t){this._assertUnremoved(),t=this._verifyNodeList(t);var r=this.node[e];return Pw.get({parentPath:this,parent:this.node,container:r,listKey:e,key:r.length}).replaceWithMultiple(t)},hoist:function(e){return void 0===e&&(e=this.scope),new gw(this,e).run()}});function bw(e,t){return e?t.concat(e.getCompletionRecords()):t}function xw(e){var t;Array.isArray(e)||(e=[e]);for(var r,n=U(e);!(r=n()).done;){var a=r.value;if(a.isDoExpression()||a.isProgram()||a.isBlockStatement()||a.isCatchClause()||a.isLabeledStatement())t=xw(a.get("body"));else if(a.isIfStatement()){var s;t=null!=(s=xw(a.get("consequent")))?s:xw(a.get("alternate"))}else if(a.isTryStatement()){var i;t=null!=(i=xw(a.get("block")))?i:xw(a.get("handler"))}else a.isBreakStatement()&&(t=a);if(t)return t}return null}var Ew=Object.freeze({__proto__:null,getOpposite:function(){return"left"===this.key?this.getSibling("right"):"right"===this.key?this.getSibling("left"):void 0},getCompletionRecords:function(){var e=[];if(this.isIfStatement())e=bw(this.get("consequent"),e),e=bw(this.get("alternate"),e);else if(this.isDoExpression()||this.isFor()||this.isWhile())e=bw(this.get("body"),e);else if(this.isProgram()||this.isBlockStatement())e=bw(this.get("body").pop(),e);else{if(this.isFunction())return this.get("body").getCompletionRecords();this.isTryStatement()?(e=bw(this.get("block"),e),e=bw(this.get("handler"),e)):this.isCatchClause()?e=bw(this.get("body"),e):this.isSwitchStatement()?e=function(e,t){for(var r=!0,n=e.length-1;n>=0;n--){var a=e[n].get("consequent"),s=xw(a);if(s){for(;0===s.key&&s.parentPath.isBlockStatement();)s=s.parentPath;var i=s.getPrevSibling();s.key>0&&(i.isExpressionStatement()||i.isBlockStatement())?(t=bw(i,t),s.remove()):(s.replaceWith(s.scope.buildUndefinedNode()),t=bw(s,t))}else r&&a.some(function e(t){return!t.isBlockStatement()||t.get("body").some(e)})&&(t=bw(a[a.length-1],t),r=!1)}return t}(this.get("cases"),e):e.push(this)}return e},getSibling:function(e){return Pw.get({parentPath:this.parentPath,parent:this.parent,container:this.container,listKey:this.listKey,key:e})},getPrevSibling:function(){return this.getSibling(this.key-1)},getNextSibling:function(){return this.getSibling(this.key+1)},getAllNextSiblings:function(){for(var e=this.key,t=this.getSibling(++e),r=[];t.node;)r.push(t),t=this.getSibling(++e);return r},getAllPrevSiblings:function(){for(var e=this.key,t=this.getSibling(--e),r=[];t.node;)r.push(t),t=this.getSibling(--e);return r},get:function(e,t){!0===t&&(t=this.context);var r=e.split(".");return 1===r.length?this._getKey(e,t):this._getPattern(r,t)},_getKey:function(e,t){var r=this,n=this.node,a=n[e];return Array.isArray(a)?a.map(function(s,i){return Pw.get({listKey:e,parentPath:r,parent:n,container:a,key:i}).setContext(t)}):Pw.get({parentPath:this,parent:n,container:n,key:e}).setContext(t)},_getPattern:function(e,t){for(var r,n=this,a=U(e);!(r=a()).done;){var s=r.value;n="."===s?n.parentPath:Array.isArray(n)?n[s]:n.get(s,t)}return n},getBindingIdentifiers:function(e){return ah(this.node,e)},getOuterBindingIdentifiers:function(e){return vh(this.node,e)},getBindingIdentifierPaths:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var r=[].concat(this),n=Object.create(null);r.length;){var a=r.shift();if(a&&a.node){var s=ah.keys[a.node.type];if(a.isIdentifier())e?(n[a.node.name]=n[a.node.name]||[]).push(a):n[a.node.name]=a;else if(a.isExportDeclaration()){var i=a.get("declaration");i.isDeclaration()&&r.push(i)}else{if(t){if(a.isFunctionDeclaration()){r.push(a.get("id"));continue}if(a.isFunctionExpression())continue}if(s)for(var o=0;o<s.length;o++){var l=s[o],c=a.get(l);(Array.isArray(c)||c.node)&&(r=r.concat(c))}}}}return n},getOuterBindingIdentifierPaths:function(e){return this.getBindingIdentifierPaths(e,!0)}});var ww=Object.freeze({__proto__:null,shareCommentsWithSiblings:function(){if("string"!=typeof this.key){var e=this.node;if(e){var t=e.trailingComments,r=e.leadingComments;if(t||r){var n=this.getSibling(this.key-1),a=this.getSibling(this.key+1),s=Boolean(n.node),i=Boolean(a.node);s&&!i?n.addComments("trailing",t):i&&!s&&a.addComments("leading",r)}}}},addComment:function(e,t,r){qd(this.node,e,t,r)},addComments:function(e,t){zd(this.node,e,t)}}),Sw=Yh("babel"),Tw=1,jw=2,Aw=4,Pw=function(){function e(e,t){this.parent=void 0,this.hub=void 0,this.contexts=void 0,this.data=void 0,this.shouldSkip=void 0,this.shouldStop=void 0,this.removed=void 0,this.state=void 0,this.opts=void 0,this._traverseFlags=void 0,this.skipKeys=void 0,this.parentPath=void 0,this.context=void 0,this.container=void 0,this.listKey=void 0,this.key=void 0,this.node=void 0,this.scope=void 0,this.type=void 0,this.parent=t,this.hub=e,this.contexts=[],this.data=null,this._traverseFlags=0,this.state=null,this.opts=null,this.skipKeys=null,this.parentPath=null,this.context=null,this.container=null,this.listKey=null,this.key=null,this.node=null,this.scope=null,this.type=null}e.get=function(t){var r=t.hub,n=t.parentPath,a=t.parent,s=t.container,i=t.listKey,o=t.key;if(!r&&n&&(r=n.hub),!a)throw new Error("To get a node path the parent needs to exist");var l,c=s[o],u=Bm.get(a)||[];Bm.has(a)||Bm.set(a,u);for(var p=0;p<u.length;p++){var d=u[p];if(d.node===c){l=d;break}}return l||(l=new e(r,a),u.push(l)),l.setup(n,s,i,o),l};var t=e.prototype;return t.getScope=function(e){return this.isScope()?new Vm(this):e},t.setData=function(e,t){return null==this.data&&(this.data=Object.create(null)),this.data[e]=t},t.getData=function(e,t){null==this.data&&(this.data=Object.create(null));var r=this.data[e];return void 0===r&&void 0!==t&&(r=this.data[e]=t),r},t.buildCodeFrameError=function(e,t){return void 0===t&&(t=SyntaxError),this.hub.buildError(this.node,e,t)},t.traverse=function(e,t){Kw(this.node,e,this.scope,t,this)},t.set=function(e,t){Ji(this.node,e,t),this.node[e]=t},t.getPathLocation=function(){var e=[],t=this;do{var r=t.key;t.inList&&(r=t.listKey+"["+r+"]"),e.unshift(r)}while(t=t.parentPath);return e.join(".")},t.debug=function(e){Sw.enabled&&Sw(this.getPathLocation()+" "+this.type+": "+e)},t.toString=function(){return Jv(this.node).code},l(e,[{key:"inList",get:function(){return!!this.listKey},set:function(e){e||(this.listKey=null)}},{key:"parentKey",get:function(){return this.listKey||this.key}},{key:"shouldSkip",get:function(){return!!(this._traverseFlags&Aw)},set:function(e){e?this._traverseFlags|=Aw:this._traverseFlags&=~Aw}},{key:"shouldStop",get:function(){return!!(this._traverseFlags&jw)},set:function(e){e?this._traverseFlags|=jw:this._traverseFlags&=~jw}},{key:"removed",get:function(){return!!(this._traverseFlags&Tw)},set:function(e){e?this._traverseFlags|=Tw:this._traverseFlags&=~Tw}}]),e}();Object.assign(Pw.prototype,Yv,ub,bE,jE,aw,pw,fw,mw,vw,Ew,ww);for(var kw=function(){var e=Dw[Cw],t="is"+e,r=Ch[t];Pw.prototype[t]=function(e){return r(this.node,e)},Pw.prototype["assert"+e]=function(t){if(!r(this.node,t))throw new TypeError("Expected node path of type "+e)}},Cw=0,Dw=Zo;Cw<Dw.length;Cw++)kw();for(var _w=function(){var e=Ow[Iw];if("_"===e[0])return"continue";Zo.indexOf(e)<0&&Zo.push(e);var t=Uh[e];Pw.prototype["is"+e]=function(e){return t.checkPath(this,e)}},Iw=0,Ow=Object.keys(Uh);Iw<Ow.length;Iw++)_w();var Nw=function(){function e(e,t,r,n){this.parentPath=void 0,this.scope=void 0,this.state=void 0,this.opts=void 0,this.queue=null,this.parentPath=n,this.scope=e,this.state=r,this.opts=t}var t=e.prototype;return t.shouldVisit=function(e){var t=this.opts;if(t.enter||t.exit)return!0;if(t[e.type])return!0;var r=Qi[e.type];if(!(null==r?void 0:r.length))return!1;for(var n,a=U(r);!(n=a()).done;){if(e[n.value])return!0}return!1},t.create=function(e,t,r,n){return Pw.get({parentPath:this.parentPath,parent:e,container:t,key:r,listKey:n})},t.maybeQueue=function(e,t){if(this.trap)throw new Error("Infinite cycle detected");this.queue&&(t?this.queue.push(e):this.priorityQueue.push(e))},t.visitMultiple=function(e,t,r){if(0===e.length)return!1;for(var n=[],a=0;a<e.length;a++){var s=e[a];s&&this.shouldVisit(s)&&n.push(this.create(t,e,a,r))}return this.visitQueue(n)},t.visitSingle=function(e,t){return!!this.shouldVisit(e[t])&&this.visitQueue([this.create(e,e,t)])},t.visitQueue=function(e){this.queue=e,this.priorityQueue=[];for(var t,r=[],n=!1,a=U(e);!(t=a()).done;){var s=t.value;if(s.resync(),0!==s.contexts.length&&s.contexts[s.contexts.length-1]===this||s.pushContext(this),null!==s.key&&!(r.indexOf(s.node)>=0)){if(r.push(s.node),s.visit()){n=!0;break}if(this.priorityQueue.length&&(n=this.visitQueue(this.priorityQueue),this.priorityQueue=[],this.queue=e,n))break}}for(var i,o=U(e);!(i=o()).done;){i.value.popContext()}return this.queue=null,n},t.visit=function(e,t){var r=e[t];return!!r&&(Array.isArray(r)?this.visitMultiple(r,e,t):this.visitSingle(e,t))},e}();function Bw(e){if(e._exploded)return e;e._exploded=!0;for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if(!Ww(n)){var a=n.split("|");if(1!==a.length){var s=e[n];delete e[n];for(var i,o=U(a);!(i=o()).done;){e[i.value]=s}}}}Fw(e),delete e.__esModule,function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if(!Ww(n)){var a=e[n];"function"==typeof a&&(e[n]={enter:a})}}}(e),Lw(e);for(var l=0,c=Object.keys(e);l<c.length;l++){var u=c[l];if(!Ww(u)){var p=Uh[u];if(p){for(var d=e[u],f=0,h=Object.keys(d);f<h.length;f++){var m=h[f];d[m]=Uw(p,d[m])}if(delete e[u],p.types)for(var y=0,g=p.types;y<g.length;y++){var v=g[y];e[v]?Vw(e[v],d):e[v]=d}else Vw(e,d)}}}for(var b=0,x=Object.keys(e);b<x.length;b++){var E=x[b];if(!Ww(E)){var w=e[E],S=eo[E],T=no[E];if(T&&(console.trace("Visitor defined for "+E+" but it has been renamed to "+T),S=[T]),S){delete e[E];for(var j,A=U(S);!(j=A()).done;){var P=j.value,k=e[P];k?Vw(k,w):e[P]=Object.assign({},w)}}}}for(var C=0,D=Object.keys(e);C<D.length;C++){var _=D[C];Ww(_)||Lw(e[_])}return e}function Fw(e){if(!e._verified){if("function"==typeof e)throw new Error("You passed `traverse()` a function when it expected a visitor object, are you sure you didn't mean `{ enter: Function }`?");for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if("enter"!==n&&"exit"!==n||Rw(n,e[n]),!Ww(n)){if(Zo.indexOf(n)<0)throw new Error("You gave us a visitor for the node type "+n+" but it's not a valid type");var a=e[n];if("object"==typeof a)for(var s=0,i=Object.keys(a);s<i.length;s++){var o=i[s];if("enter"!==o&&"exit"!==o)throw new Error("You passed `traverse()` a visitor object with the property "+n+" that has the invalid property "+o);Rw(n+"."+o,a[o])}}}e._verified=!0}}function Rw(e,t){for(var r,n=U([].concat(t));!(r=n()).done;){var a=r.value;if("function"!=typeof a)throw new TypeError("Non-function found defined in "+e+" with type "+typeof a)}}function Mw(e,t,r){for(var n={},a=function(){var a=i[s],o=e[a];if(!Array.isArray(o))return"continue";o=o.map(function(e){var n=e;return t&&(n=function(r){return e.call(t,r,t)}),r&&(n=r(t.key,a,n)),n!==e&&(n.toString=function(){return e.toString()}),n}),n[a]=o},s=0,i=Object.keys(e);s<i.length;s++)a();return n}function Lw(e){e.enter&&!Array.isArray(e.enter)&&(e.enter=[e.enter]),e.exit&&!Array.isArray(e.exit)&&(e.exit=[e.exit])}function Uw(e,t){var r=function(r){if(e.checkPath(r))return t.apply(this,arguments)};return r.toString=function(){return t.toString()},r}function Ww(e){return"_"===e[0]||("enter"===e||"exit"===e||"shouldSkip"===e||("denylist"===e||"noScope"===e||"skipKeys"===e||"blacklist"===e))}function Vw(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];e[a]=[].concat(e[a]||[],t[a])}}var Gw=Object.freeze({__proto__:null,explode:Bw,verify:Fw,merge:function(e,t,r){void 0===t&&(t=[]);for(var n={},a=0;a<e.length;a++){var s=e[a],i=t[a];Bw(s);for(var o=0,l=Object.keys(s);o<l.length;o++){var c=l[o],u=s[c];(i||r)&&(u=Mw(u,i,r)),Vw(n[c]=n[c]||{},u)}}return n}});function Kw(e,t,r,n,a){if(e){if(t||(t={}),!t.noScope&&!r&&"Program"!==e.type&&"File"!==e.type)throw new Error("You must pass a scope and parentPath unless traversing a Program/File. Instead of that you tried to traverse a "+e.type+" node without passing scope and parentPath.");Qi[e.type]&&(Bw(t),Kw.node(e,t,r,n,a))}}function Hw(e,t){e.node.type===t.type&&(t.has=!0,e.stop())}function zw(){var e=P(['\n  import wrapNativeSuper from "wrapNativeSuper";\n  import getPrototypeOf from "getPrototypeOf";\n  import possibleConstructorReturn from "possibleConstructorReturn";\n  import inherits from "inherits";\n\n  export default function _wrapRegExp(re, groups) {\n    _wrapRegExp = function(re, groups) {\n      return new BabelRegExp(re, undefined, groups);\n    };\n\n    var _RegExp = wrapNativeSuper(RegExp);\n    var _super = RegExp.prototype;\n    var _groups = new WeakMap();\n\n    function BabelRegExp(re, flags, groups) {\n      var _this = _RegExp.call(this, re, flags);\n      // if the regex is recreated with \'g\' flag\n      _groups.set(_this, groups || _groups.get(re));\n      return _this;\n    }\n    inherits(BabelRegExp, _RegExp);\n\n    BabelRegExp.prototype.exec = function(str) {\n      var result = _super.exec.call(this, str);\n      if (result) result.groups = buildGroups(result, this);\n      return result;\n    };\n    BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n      if (typeof substitution === "string") {\n        var groups = _groups.get(this);\n        return _super[Symbol.replace].call(\n          this,\n          str,\n          substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n            return "$" + groups[name];\n          })\n        );\n      } else if (typeof substitution === "function") {\n        var _this = this;\n        return _super[Symbol.replace].call(\n          this,\n          str,\n          function() {\n            var args = [];\n            args.push.apply(args, arguments);\n            if (typeof args[args.length - 1] !== "object") {\n              // Modern engines already pass result.groups as the last arg.\n              args.push(buildGroups(args, _this));\n            }\n            return substitution.apply(this, args);\n          }\n        );\n      } else {\n        return _super[Symbol.replace].call(this, str, substitution);\n      }\n    }\n\n    function buildGroups(result, re) {\n      // NOTE: This function should return undefined if there are no groups,\n      // but in that case Babel doesn\'t add the wrapper anyway.\n\n      var g = _groups.get(re);\n      return Object.keys(g).reduce(function(groups, name) {\n        groups[name] = result[g[name]];\n        return groups;\n      }, Object.create(null));\n    }\n\n    return _wrapRegExp.apply(this, arguments);\n  }\n'],['\n  import wrapNativeSuper from "wrapNativeSuper";\n  import getPrototypeOf from "getPrototypeOf";\n  import possibleConstructorReturn from "possibleConstructorReturn";\n  import inherits from "inherits";\n\n  export default function _wrapRegExp(re, groups) {\n    _wrapRegExp = function(re, groups) {\n      return new BabelRegExp(re, undefined, groups);\n    };\n\n    var _RegExp = wrapNativeSuper(RegExp);\n    var _super = RegExp.prototype;\n    var _groups = new WeakMap();\n\n    function BabelRegExp(re, flags, groups) {\n      var _this = _RegExp.call(this, re, flags);\n      // if the regex is recreated with \'g\' flag\n      _groups.set(_this, groups || _groups.get(re));\n      return _this;\n    }\n    inherits(BabelRegExp, _RegExp);\n\n    BabelRegExp.prototype.exec = function(str) {\n      var result = _super.exec.call(this, str);\n      if (result) result.groups = buildGroups(result, this);\n      return result;\n    };\n    BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n      if (typeof substitution === "string") {\n        var groups = _groups.get(this);\n        return _super[Symbol.replace].call(\n          this,\n          str,\n          substitution.replace(/\\\\$<([^>]+)>/g, function(_, name) {\n            return "$" + groups[name];\n          })\n        );\n      } else if (typeof substitution === "function") {\n        var _this = this;\n        return _super[Symbol.replace].call(\n          this,\n          str,\n          function() {\n            var args = [];\n            args.push.apply(args, arguments);\n            if (typeof args[args.length - 1] !== "object") {\n              // Modern engines already pass result.groups as the last arg.\n              args.push(buildGroups(args, _this));\n            }\n            return substitution.apply(this, args);\n          }\n        );\n      } else {\n        return _super[Symbol.replace].call(this, str, substitution);\n      }\n    }\n\n    function buildGroups(result, re) {\n      // NOTE: This function should return undefined if there are no groups,\n      // but in that case Babel doesn\'t add the wrapper anyway.\n\n      var g = _groups.get(re);\n      return Object.keys(g).reduce(function(groups, name) {\n        groups[name] = result[g[name]];\n        return groups;\n      }, Object.create(null));\n    }\n\n    return _wrapRegExp.apply(this, arguments);\n  }\n']);return zw=function(){return e},e}function qw(){var e=P(['\n  export default function _classPrivateMethodSet() {\n    throw new TypeError("attempted to reassign private method");\n  }\n']);return qw=function(){return e},e}function Xw(){var e=P(['\n  export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n      throw new TypeError("attempted to get private field on non-instance");\n    }\n    return fn;\n  }\n']);return Xw=function(){return e},e}function Jw(){
var e=P(['\n  import toArray from "toArray";\n  import toPropertyKey from "toPropertyKey";\n\n  // These comments are stripped by @babel/template\n  /*::\n  type PropertyDescriptor =\n    | {\n        value: any,\n        writable: boolean,\n        configurable: boolean,\n        enumerable: boolean,\n      }\n    | {\n        get?: () => any,\n        set?: (v: any) => void,\n        configurable: boolean,\n        enumerable: boolean,\n      };\n\n  type FieldDescriptor ={\n    writable: boolean,\n    configurable: boolean,\n    enumerable: boolean,\n  };\n\n  type Placement = "static" | "prototype" | "own";\n  type Key = string | symbol; // PrivateName is not supported yet.\n\n  type ElementDescriptor =\n    | {\n        kind: "method",\n        key: Key,\n        placement: Placement,\n        descriptor: PropertyDescriptor\n      }\n    | {\n        kind: "field",\n        key: Key,\n        placement: Placement,\n        descriptor: FieldDescriptor,\n        initializer?: () => any,\n      };\n\n  // This is exposed to the user code\n  type ElementObjectInput = ElementDescriptor & {\n    [@@toStringTag]?: "Descriptor"\n  };\n\n  // This is exposed to the user code\n  type ElementObjectOutput = ElementDescriptor & {\n    [@@toStringTag]?: "Descriptor"\n    extras?: ElementDescriptor[],\n    finisher?: ClassFinisher,\n  };\n\n  // This is exposed to the user code\n  type ClassObject = {\n    [@@toStringTag]?: "Descriptor",\n    kind: "class",\n    elements: ElementDescriptor[],\n  };\n\n  type ElementDecorator = (descriptor: ElementObjectInput) => ?ElementObjectOutput;\n  type ClassDecorator = (descriptor: ClassObject) => ?ClassObject;\n  type ClassFinisher = <A, B>(cl: Class<A>) => Class<B>;\n\n  // Only used by Babel in the transform output, not part of the spec.\n  type ElementDefinition =\n    | {\n        kind: "method",\n        value: any,\n        key: Key,\n        static?: boolean,\n        decorators?: ElementDecorator[],\n      }\n    | {\n        kind: "field",\n        value: () => any,\n        key: Key,\n        static?: boolean,\n        decorators?: ElementDecorator[],\n    };\n\n  declare function ClassFactory<C>(initialize: (instance: C) => void): {\n    F: Class<C>,\n    d: ElementDefinition[]\n  }\n\n  */\n\n  /*::\n  // Various combinations with/without extras and with one or many finishers\n\n  type ElementFinisherExtras = {\n    element: ElementDescriptor,\n    finisher?: ClassFinisher,\n    extras?: ElementDescriptor[],\n  };\n\n  type ElementFinishersExtras = {\n    element: ElementDescriptor,\n    finishers: ClassFinisher[],\n    extras: ElementDescriptor[],\n  };\n\n  type ElementsFinisher = {\n    elements: ElementDescriptor[],\n    finisher?: ClassFinisher,\n  };\n\n  type ElementsFinishers = {\n    elements: ElementDescriptor[],\n    finishers: ClassFinisher[],\n  };\n\n  */\n\n  /*::\n\n  type Placements = {\n    static: Key[],\n    prototype: Key[],\n    own: Key[],\n  };\n\n  */\n\n  // ClassDefinitionEvaluation (Steps 26-*)\n  export default function _decorate(\n    decorators /*: ClassDecorator[] */,\n    factory /*: ClassFactory */,\n    superClass /*: ?Class<*> */,\n    mixins /*: ?Array<Function> */,\n  ) /*: Class<*> */ {\n    var api = _getDecoratorsApi();\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        api = mixins[i](api);\n      }\n    }\n\n    var r = factory(function initialize(O) {\n      api.initializeInstanceElements(O, decorated.elements);\n    }, superClass);\n    var decorated = api.decorateClass(\n      _coalesceClassElements(r.d.map(_createElementDescriptor)),\n      decorators,\n    );\n\n    api.initializeClassElements(r.F, decorated.elements);\n\n    return api.runClassFinishers(r.F, decorated.finishers);\n  }\n\n  function _getDecoratorsApi() {\n    _getDecoratorsApi = function() {\n      return api;\n    };\n\n    var api = {\n      elementsDefinitionOrder: [["method"], ["field"]],\n\n      // InitializeInstanceElements\n      initializeInstanceElements: function(\n        /*::<C>*/ O /*: C */,\n        elements /*: ElementDescriptor[] */,\n      ) {\n        ["method", "field"].forEach(function(kind) {\n          elements.forEach(function(element /*: ElementDescriptor */) {\n            if (element.kind === kind && element.placement === "own") {\n              this.defineClassElement(O, element);\n            }\n          }, this);\n        }, this);\n      },\n\n      // InitializeClassElements\n      initializeClassElements: function(\n        /*::<C>*/ F /*: Class<C> */,\n        elements /*: ElementDescriptor[] */,\n      ) {\n        var proto = F.prototype;\n\n        ["method", "field"].forEach(function(kind) {\n          elements.forEach(function(element /*: ElementDescriptor */) {\n            var placement = element.placement;\n            if (\n              element.kind === kind &&\n              (placement === "static" || placement === "prototype")\n            ) {\n              var receiver = placement === "static" ? F : proto;\n              this.defineClassElement(receiver, element);\n            }\n          }, this);\n        }, this);\n      },\n\n      // DefineClassElement\n      defineClassElement: function(\n        /*::<C>*/ receiver /*: C | Class<C> */,\n        element /*: ElementDescriptor */,\n      ) {\n        var descriptor /*: PropertyDescriptor */ = element.descriptor;\n        if (element.kind === "field") {\n          var initializer = element.initializer;\n          descriptor = {\n            enumerable: descriptor.enumerable,\n            writable: descriptor.writable,\n            configurable: descriptor.configurable,\n            value: initializer === void 0 ? void 0 : initializer.call(receiver),\n          };\n        }\n        Object.defineProperty(receiver, element.key, descriptor);\n      },\n\n      // DecorateClass\n      decorateClass: function(\n        elements /*: ElementDescriptor[] */,\n        decorators /*: ClassDecorator[] */,\n      ) /*: ElementsFinishers */ {\n        var newElements /*: ElementDescriptor[] */ = [];\n        var finishers /*: ClassFinisher[] */ = [];\n        var placements /*: Placements */ = {\n          static: [],\n          prototype: [],\n          own: [],\n        };\n\n        elements.forEach(function(element /*: ElementDescriptor */) {\n          this.addElementPlacement(element, placements);\n        }, this);\n\n        elements.forEach(function(element /*: ElementDescriptor */) {\n          if (!_hasDecorators(element)) return newElements.push(element);\n\n          var elementFinishersExtras /*: ElementFinishersExtras */ = this.decorateElement(\n            element,\n            placements,\n          );\n          newElements.push(elementFinishersExtras.element);\n          newElements.push.apply(newElements, elementFinishersExtras.extras);\n          finishers.push.apply(finishers, elementFinishersExtras.finishers);\n        }, this);\n\n        if (!decorators) {\n          return { elements: newElements, finishers: finishers };\n        }\n\n        var result /*: ElementsFinishers */ = this.decorateConstructor(\n          newElements,\n          decorators,\n        );\n        finishers.push.apply(finishers, result.finishers);\n        result.finishers = finishers;\n\n        return result;\n      },\n\n      // AddElementPlacement\n      addElementPlacement: function(\n        element /*: ElementDescriptor */,\n        placements /*: Placements */,\n        silent /*: boolean */,\n      ) {\n        var keys = placements[element.placement];\n        if (!silent && keys.indexOf(element.key) !== -1) {\n          throw new TypeError("Duplicated element (" + element.key + ")");\n        }\n        keys.push(element.key);\n      },\n\n      // DecorateElement\n      decorateElement: function(\n        element /*: ElementDescriptor */,\n        placements /*: Placements */,\n      ) /*: ElementFinishersExtras */ {\n        var extras /*: ElementDescriptor[] */ = [];\n        var finishers /*: ClassFinisher[] */ = [];\n\n        for (\n          var decorators = element.decorators, i = decorators.length - 1;\n          i >= 0;\n          i--\n        ) {\n          // (inlined) RemoveElementPlacement\n          var keys = placements[element.placement];\n          keys.splice(keys.indexOf(element.key), 1);\n\n          var elementObject /*: ElementObjectInput */ = this.fromElementDescriptor(\n            element,\n          );\n          var elementFinisherExtras /*: ElementFinisherExtras */ = this.toElementFinisherExtras(\n            (0, decorators[i])(elementObject) /*: ElementObjectOutput */ ||\n              elementObject,\n          );\n\n          element = elementFinisherExtras.element;\n          this.addElementPlacement(element, placements);\n\n          if (elementFinisherExtras.finisher) {\n            finishers.push(elementFinisherExtras.finisher);\n          }\n\n          var newExtras /*: ElementDescriptor[] | void */ =\n            elementFinisherExtras.extras;\n          if (newExtras) {\n            for (var j = 0; j < newExtras.length; j++) {\n              this.addElementPlacement(newExtras[j], placements);\n            }\n            extras.push.apply(extras, newExtras);\n          }\n        }\n\n        return { element: element, finishers: finishers, extras: extras };\n      },\n\n      // DecorateConstructor\n      decorateConstructor: function(\n        elements /*: ElementDescriptor[] */,\n        decorators /*: ClassDecorator[] */,\n      ) /*: ElementsFinishers */ {\n        var finishers /*: ClassFinisher[] */ = [];\n\n        for (var i = decorators.length - 1; i >= 0; i--) {\n          var obj /*: ClassObject */ = this.fromClassDescriptor(elements);\n          var elementsAndFinisher /*: ElementsFinisher */ = this.toClassDescriptor(\n            (0, decorators[i])(obj) /*: ClassObject */ || obj,\n          );\n\n          if (elementsAndFinisher.finisher !== undefined) {\n            finishers.push(elementsAndFinisher.finisher);\n          }\n\n          if (elementsAndFinisher.elements !== undefined) {\n            elements = elementsAndFinisher.elements;\n\n            for (var j = 0; j < elements.length - 1; j++) {\n              for (var k = j + 1; k < elements.length; k++) {\n                if (\n                  elements[j].key === elements[k].key &&\n                  elements[j].placement === elements[k].placement\n                ) {\n                  throw new TypeError(\n                    "Duplicated element (" + elements[j].key + ")",\n                  );\n                }\n              }\n            }\n          }\n        }\n\n        return { elements: elements, finishers: finishers };\n      },\n\n      // FromElementDescriptor\n      fromElementDescriptor: function(\n        element /*: ElementDescriptor */,\n      ) /*: ElementObject */ {\n        var obj /*: ElementObject */ = {\n          kind: element.kind,\n          key: element.key,\n          placement: element.placement,\n          descriptor: element.descriptor,\n        };\n\n        var desc = {\n          value: "Descriptor",\n          configurable: true,\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n\n        if (element.kind === "field") obj.initializer = element.initializer;\n\n        return obj;\n      },\n\n      // ToElementDescriptors\n      toElementDescriptors: function(\n        elementObjects /*: ElementObject[] */,\n      ) /*: ElementDescriptor[] */ {\n        if (elementObjects === undefined) return;\n        return toArray(elementObjects).map(function(elementObject) {\n          var element = this.toElementDescriptor(elementObject);\n          this.disallowProperty(elementObject, "finisher", "An element descriptor");\n          this.disallowProperty(elementObject, "extras", "An element descriptor");\n          return element;\n        }, this);\n      },\n\n      // ToElementDescriptor\n      toElementDescriptor: function(\n        elementObject /*: ElementObject */,\n      ) /*: ElementDescriptor */ {\n        var kind = String(elementObject.kind);\n        if (kind !== "method" && kind !== "field") {\n          throw new TypeError(\n            \'An element descriptor\\\'s .kind property must be either "method" or\' +\n              \' "field", but a decorator created an element descriptor with\' +\n              \' .kind "\' +\n              kind +\n              \'"\',\n          );\n        }\n\n        var key = toPropertyKey(elementObject.key);\n\n        var placement = String(elementObject.placement);\n        if (\n          placement !== "static" &&\n          placement !== "prototype" &&\n          placement !== "own"\n        ) {\n          throw new TypeError(\n            \'An element descriptor\\\'s .placement property must be one of "static",\' +\n              \' "prototype" or "own", but a decorator created an element descriptor\' +\n              \' with .placement "\' +\n              placement +\n              \'"\',\n          );\n        }\n\n        var descriptor /*: PropertyDescriptor */ = elementObject.descriptor;\n\n        this.disallowProperty(elementObject, "elements", "An element descriptor");\n\n        var element /*: ElementDescriptor */ = {\n          kind: kind,\n          key: key,\n          placement: placement,\n          descriptor: Object.assign({}, descriptor),\n        };\n\n        if (kind !== "field") {\n          this.disallowProperty(elementObject, "initializer", "A method descriptor");\n        } else {\n          this.disallowProperty(\n            descriptor,\n            "get",\n            "The property descriptor of a field descriptor",\n          );\n          this.disallowProperty(\n            descriptor,\n            "set",\n            "The property descriptor of a field descriptor",\n          );\n          this.disallowProperty(\n            descriptor,\n            "value",\n            "The property descriptor of a field descriptor",\n          );\n\n          element.initializer = elementObject.initializer;\n        }\n\n        return element;\n      },\n\n      toElementFinisherExtras: function(\n        elementObject /*: ElementObject */,\n      ) /*: ElementFinisherExtras */ {\n        var element /*: ElementDescriptor */ = this.toElementDescriptor(\n          elementObject,\n        );\n        var finisher /*: ClassFinisher */ = _optionalCallableProperty(\n          elementObject,\n          "finisher",\n        );\n        var extras /*: ElementDescriptors[] */ = this.toElementDescriptors(\n          elementObject.extras,\n        );\n\n        return { element: element, finisher: finisher, extras: extras };\n      },\n\n      // FromClassDescriptor\n      fromClassDescriptor: function(\n        elements /*: ElementDescriptor[] */,\n      ) /*: ClassObject */ {\n        var obj = {\n          kind: "class",\n          elements: elements.map(this.fromElementDescriptor, this),\n        };\n\n        var desc = { value: "Descriptor", configurable: true };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n\n        return obj;\n      },\n\n      // ToClassDescriptor\n      toClassDescriptor: function(\n        obj /*: ClassObject */,\n      ) /*: ElementsFinisher */ {\n        var kind = String(obj.kind);\n        if (kind !== "class") {\n          throw new TypeError(\n            \'A class descriptor\\\'s .kind property must be "class", but a decorator\' +\n              \' created a class descriptor with .kind "\' +\n              kind +\n              \'"\',\n          );\n        }\n\n        this.disallowProperty(obj, "key", "A class descriptor");\n        this.disallowProperty(obj, "placement", "A class descriptor");\n        this.disallowProperty(obj, "descriptor", "A class descriptor");\n        this.disallowProperty(obj, "initializer", "A class descriptor");\n        this.disallowProperty(obj, "extras", "A class descriptor");\n\n        var finisher = _optionalCallableProperty(obj, "finisher");\n        var elements = this.toElementDescriptors(obj.elements);\n\n        return { elements: elements, finisher: finisher };\n      },\n\n      // RunClassFinishers\n      runClassFinishers: function(\n        constructor /*: Class<*> */,\n        finishers /*: ClassFinisher[] */,\n      ) /*: Class<*> */ {\n        for (var i = 0; i < finishers.length; i++) {\n          var newConstructor /*: ?Class<*> */ = (0, finishers[i])(constructor);\n          if (newConstructor !== undefined) {\n            // NOTE: This should check if IsConstructor(newConstructor) is false.\n            if (typeof newConstructor !== "function") {\n              throw new TypeError("Finishers must return a constructor.");\n            }\n            constructor = newConstructor;\n          }\n        }\n        return constructor;\n      },\n\n      disallowProperty: function(obj, name, objectType) {\n        if (obj[name] !== undefined) {\n          throw new TypeError(objectType + " can\'t have a ." + name + " property.");\n        }\n      }\n    };\n\n    return api;\n  }\n\n  // ClassElementEvaluation\n  function _createElementDescriptor(\n    def /*: ElementDefinition */,\n  ) /*: ElementDescriptor */ {\n    var key = toPropertyKey(def.key);\n\n    var descriptor /*: PropertyDescriptor */;\n    if (def.kind === "method") {\n      descriptor = {\n        value: def.value,\n        writable: true,\n        configurable: true,\n        enumerable: false,\n      };\n    } else if (def.kind === "get") {\n      descriptor = { get: def.value, configurable: true, enumerable: false };\n    } else if (def.kind === "set") {\n      descriptor = { set: def.value, configurable: true, enumerable: false };\n    } else if (def.kind === "field") {\n      descriptor = { configurable: true, writable: true, enumerable: true };\n    }\n\n    var element /*: ElementDescriptor */ = {\n      kind: def.kind === "field" ? "field" : "method",\n      key: key,\n      placement: def.static\n        ? "static"\n        : def.kind === "field"\n        ? "own"\n        : "prototype",\n      descriptor: descriptor,\n    };\n    if (def.decorators) element.decorators = def.decorators;\n    if (def.kind === "field") element.initializer = def.value;\n\n    return element;\n  }\n\n  // CoalesceGetterSetter\n  function _coalesceGetterSetter(\n    element /*: ElementDescriptor */,\n    other /*: ElementDescriptor */,\n  ) {\n    if (element.descriptor.get !== undefined) {\n      other.descriptor.get = element.descriptor.get;\n    } else {\n      other.descriptor.set = element.descriptor.set;\n    }\n  }\n\n  // CoalesceClassElements\n  function _coalesceClassElements(\n    elements /*: ElementDescriptor[] */,\n  ) /*: ElementDescriptor[] */ {\n    var newElements /*: ElementDescriptor[] */ = [];\n\n    var isSameElement = function(\n      other /*: ElementDescriptor */,\n    ) /*: boolean */ {\n      return (\n        other.kind === "method" &&\n        other.key === element.key &&\n        other.placement === element.placement\n      );\n    };\n\n    for (var i = 0; i < elements.length; i++) {\n      var element /*: ElementDescriptor */ = elements[i];\n      var other /*: ElementDescriptor */;\n\n      if (\n        element.kind === "method" &&\n        (other = newElements.find(isSameElement))\n      ) {\n        if (\n          _isDataDescriptor(element.descriptor) ||\n          _isDataDescriptor(other.descriptor)\n        ) {\n          if (_hasDecorators(element) || _hasDecorators(other)) {\n            throw new ReferenceError(\n              "Duplicated methods (" + element.key + ") can\'t be decorated.",\n            );\n          }\n          other.descriptor = element.descriptor;\n        } else {\n          if (_hasDecorators(element)) {\n            if (_hasDecorators(other)) {\n              throw new ReferenceError(\n                "Decorators can\'t be placed on different accessors with for " +\n                  "the same property (" +\n                  element.key +\n                  ").",\n              );\n            }\n            other.decorators = element.decorators;\n          }\n          _coalesceGetterSetter(element, other);\n        }\n      } else {\n        newElements.push(element);\n      }\n    }\n\n    return newElements;\n  }\n\n  function _hasDecorators(element /*: ElementDescriptor */) /*: boolean */ {\n    return element.decorators && element.decorators.length;\n  }\n\n  function _isDataDescriptor(desc /*: PropertyDescriptor */) /*: boolean */ {\n    return (\n      desc !== undefined &&\n      !(desc.value === undefined && desc.writable === undefined)\n    );\n  }\n\n  function _optionalCallableProperty /*::<T>*/(\n    obj /*: T */,\n    name /*: $Keys<T> */,\n  ) /*: ?Function */ {\n    var value = obj[name];\n    if (value !== undefined && typeof value !== "function") {\n      throw new TypeError("Expected \'" + name + "\' to be a function");\n    }\n    return value;\n  }\n\n'],['\n  import toArray from "toArray";\n  import toPropertyKey from "toPropertyKey";\n\n  // These comments are stripped by @babel/template\n  /*::\n  type PropertyDescriptor =\n    | {\n        value: any,\n        writable: boolean,\n        configurable: boolean,\n        enumerable: boolean,\n      }\n    | {\n        get?: () => any,\n        set?: (v: any) => void,\n        configurable: boolean,\n        enumerable: boolean,\n      };\n\n  type FieldDescriptor ={\n    writable: boolean,\n    configurable: boolean,\n    enumerable: boolean,\n  };\n\n  type Placement = "static" | "prototype" | "own";\n  type Key = string | symbol; // PrivateName is not supported yet.\n\n  type ElementDescriptor =\n    | {\n        kind: "method",\n        key: Key,\n        placement: Placement,\n        descriptor: PropertyDescriptor\n      }\n    | {\n        kind: "field",\n        key: Key,\n        placement: Placement,\n        descriptor: FieldDescriptor,\n        initializer?: () => any,\n      };\n\n  // This is exposed to the user code\n  type ElementObjectInput = ElementDescriptor & {\n    [@@toStringTag]?: "Descriptor"\n  };\n\n  // This is exposed to the user code\n  type ElementObjectOutput = ElementDescriptor & {\n    [@@toStringTag]?: "Descriptor"\n    extras?: ElementDescriptor[],\n    finisher?: ClassFinisher,\n  };\n\n  // This is exposed to the user code\n  type ClassObject = {\n    [@@toStringTag]?: "Descriptor",\n    kind: "class",\n    elements: ElementDescriptor[],\n  };\n\n  type ElementDecorator = (descriptor: ElementObjectInput) => ?ElementObjectOutput;\n  type ClassDecorator = (descriptor: ClassObject) => ?ClassObject;\n  type ClassFinisher = <A, B>(cl: Class<A>) => Class<B>;\n\n  // Only used by Babel in the transform output, not part of the spec.\n  type ElementDefinition =\n    | {\n        kind: "method",\n        value: any,\n        key: Key,\n        static?: boolean,\n        decorators?: ElementDecorator[],\n      }\n    | {\n        kind: "field",\n        value: () => any,\n        key: Key,\n        static?: boolean,\n        decorators?: ElementDecorator[],\n    };\n\n  declare function ClassFactory<C>(initialize: (instance: C) => void): {\n    F: Class<C>,\n    d: ElementDefinition[]\n  }\n\n  */\n\n  /*::\n  // Various combinations with/without extras and with one or many finishers\n\n  type ElementFinisherExtras = {\n    element: ElementDescriptor,\n    finisher?: ClassFinisher,\n    extras?: ElementDescriptor[],\n  };\n\n  type ElementFinishersExtras = {\n    element: ElementDescriptor,\n    finishers: ClassFinisher[],\n    extras: ElementDescriptor[],\n  };\n\n  type ElementsFinisher = {\n    elements: ElementDescriptor[],\n    finisher?: ClassFinisher,\n  };\n\n  type ElementsFinishers = {\n    elements: ElementDescriptor[],\n    finishers: ClassFinisher[],\n  };\n\n  */\n\n  /*::\n\n  type Placements = {\n    static: Key[],\n    prototype: Key[],\n    own: Key[],\n  };\n\n  */\n\n  // ClassDefinitionEvaluation (Steps 26-*)\n  export default function _decorate(\n    decorators /*: ClassDecorator[] */,\n    factory /*: ClassFactory */,\n    superClass /*: ?Class<*> */,\n    mixins /*: ?Array<Function> */,\n  ) /*: Class<*> */ {\n    var api = _getDecoratorsApi();\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        api = mixins[i](api);\n      }\n    }\n\n    var r = factory(function initialize(O) {\n      api.initializeInstanceElements(O, decorated.elements);\n    }, superClass);\n    var decorated = api.decorateClass(\n      _coalesceClassElements(r.d.map(_createElementDescriptor)),\n      decorators,\n    );\n\n    api.initializeClassElements(r.F, decorated.elements);\n\n    return api.runClassFinishers(r.F, decorated.finishers);\n  }\n\n  function _getDecoratorsApi() {\n    _getDecoratorsApi = function() {\n      return api;\n    };\n\n    var api = {\n      elementsDefinitionOrder: [["method"], ["field"]],\n\n      // InitializeInstanceElements\n      initializeInstanceElements: function(\n        /*::<C>*/ O /*: C */,\n        elements /*: ElementDescriptor[] */,\n      ) {\n        ["method", "field"].forEach(function(kind) {\n          elements.forEach(function(element /*: ElementDescriptor */) {\n            if (element.kind === kind && element.placement === "own") {\n              this.defineClassElement(O, element);\n            }\n          }, this);\n        }, this);\n      },\n\n      // InitializeClassElements\n      initializeClassElements: function(\n        /*::<C>*/ F /*: Class<C> */,\n        elements /*: ElementDescriptor[] */,\n      ) {\n        var proto = F.prototype;\n\n        ["method", "field"].forEach(function(kind) {\n          elements.forEach(function(element /*: ElementDescriptor */) {\n            var placement = element.placement;\n            if (\n              element.kind === kind &&\n              (placement === "static" || placement === "prototype")\n            ) {\n              var receiver = placement === "static" ? F : proto;\n              this.defineClassElement(receiver, element);\n            }\n          }, this);\n        }, this);\n      },\n\n      // DefineClassElement\n      defineClassElement: function(\n        /*::<C>*/ receiver /*: C | Class<C> */,\n        element /*: ElementDescriptor */,\n      ) {\n        var descriptor /*: PropertyDescriptor */ = element.descriptor;\n        if (element.kind === "field") {\n          var initializer = element.initializer;\n          descriptor = {\n            enumerable: descriptor.enumerable,\n            writable: descriptor.writable,\n            configurable: descriptor.configurable,\n            value: initializer === void 0 ? void 0 : initializer.call(receiver),\n          };\n        }\n        Object.defineProperty(receiver, element.key, descriptor);\n      },\n\n      // DecorateClass\n      decorateClass: function(\n        elements /*: ElementDescriptor[] */,\n        decorators /*: ClassDecorator[] */,\n      ) /*: ElementsFinishers */ {\n        var newElements /*: ElementDescriptor[] */ = [];\n        var finishers /*: ClassFinisher[] */ = [];\n        var placements /*: Placements */ = {\n          static: [],\n          prototype: [],\n          own: [],\n        };\n\n        elements.forEach(function(element /*: ElementDescriptor */) {\n          this.addElementPlacement(element, placements);\n        }, this);\n\n        elements.forEach(function(element /*: ElementDescriptor */) {\n          if (!_hasDecorators(element)) return newElements.push(element);\n\n          var elementFinishersExtras /*: ElementFinishersExtras */ = this.decorateElement(\n            element,\n            placements,\n          );\n          newElements.push(elementFinishersExtras.element);\n          newElements.push.apply(newElements, elementFinishersExtras.extras);\n          finishers.push.apply(finishers, elementFinishersExtras.finishers);\n        }, this);\n\n        if (!decorators) {\n          return { elements: newElements, finishers: finishers };\n        }\n\n        var result /*: ElementsFinishers */ = this.decorateConstructor(\n          newElements,\n          decorators,\n        );\n        finishers.push.apply(finishers, result.finishers);\n        result.finishers = finishers;\n\n        return result;\n      },\n\n      // AddElementPlacement\n      addElementPlacement: function(\n        element /*: ElementDescriptor */,\n        placements /*: Placements */,\n        silent /*: boolean */,\n      ) {\n        var keys = placements[element.placement];\n        if (!silent && keys.indexOf(element.key) !== -1) {\n          throw new TypeError("Duplicated element (" + element.key + ")");\n        }\n        keys.push(element.key);\n      },\n\n      // DecorateElement\n      decorateElement: function(\n        element /*: ElementDescriptor */,\n        placements /*: Placements */,\n      ) /*: ElementFinishersExtras */ {\n        var extras /*: ElementDescriptor[] */ = [];\n        var finishers /*: ClassFinisher[] */ = [];\n\n        for (\n          var decorators = element.decorators, i = decorators.length - 1;\n          i >= 0;\n          i--\n        ) {\n          // (inlined) RemoveElementPlacement\n          var keys = placements[element.placement];\n          keys.splice(keys.indexOf(element.key), 1);\n\n          var elementObject /*: ElementObjectInput */ = this.fromElementDescriptor(\n            element,\n          );\n          var elementFinisherExtras /*: ElementFinisherExtras */ = this.toElementFinisherExtras(\n            (0, decorators[i])(elementObject) /*: ElementObjectOutput */ ||\n              elementObject,\n          );\n\n          element = elementFinisherExtras.element;\n          this.addElementPlacement(element, placements);\n\n          if (elementFinisherExtras.finisher) {\n            finishers.push(elementFinisherExtras.finisher);\n          }\n\n          var newExtras /*: ElementDescriptor[] | void */ =\n            elementFinisherExtras.extras;\n          if (newExtras) {\n            for (var j = 0; j < newExtras.length; j++) {\n              this.addElementPlacement(newExtras[j], placements);\n            }\n            extras.push.apply(extras, newExtras);\n          }\n        }\n\n        return { element: element, finishers: finishers, extras: extras };\n      },\n\n      // DecorateConstructor\n      decorateConstructor: function(\n        elements /*: ElementDescriptor[] */,\n        decorators /*: ClassDecorator[] */,\n      ) /*: ElementsFinishers */ {\n        var finishers /*: ClassFinisher[] */ = [];\n\n        for (var i = decorators.length - 1; i >= 0; i--) {\n          var obj /*: ClassObject */ = this.fromClassDescriptor(elements);\n          var elementsAndFinisher /*: ElementsFinisher */ = this.toClassDescriptor(\n            (0, decorators[i])(obj) /*: ClassObject */ || obj,\n          );\n\n          if (elementsAndFinisher.finisher !== undefined) {\n            finishers.push(elementsAndFinisher.finisher);\n          }\n\n          if (elementsAndFinisher.elements !== undefined) {\n            elements = elementsAndFinisher.elements;\n\n            for (var j = 0; j < elements.length - 1; j++) {\n              for (var k = j + 1; k < elements.length; k++) {\n                if (\n                  elements[j].key === elements[k].key &&\n                  elements[j].placement === elements[k].placement\n                ) {\n                  throw new TypeError(\n                    "Duplicated element (" + elements[j].key + ")",\n                  );\n                }\n              }\n            }\n          }\n        }\n\n        return { elements: elements, finishers: finishers };\n      },\n\n      // FromElementDescriptor\n      fromElementDescriptor: function(\n        element /*: ElementDescriptor */,\n      ) /*: ElementObject */ {\n        var obj /*: ElementObject */ = {\n          kind: element.kind,\n          key: element.key,\n          placement: element.placement,\n          descriptor: element.descriptor,\n        };\n\n        var desc = {\n          value: "Descriptor",\n          configurable: true,\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n\n        if (element.kind === "field") obj.initializer = element.initializer;\n\n        return obj;\n      },\n\n      // ToElementDescriptors\n      toElementDescriptors: function(\n        elementObjects /*: ElementObject[] */,\n      ) /*: ElementDescriptor[] */ {\n        if (elementObjects === undefined) return;\n        return toArray(elementObjects).map(function(elementObject) {\n          var element = this.toElementDescriptor(elementObject);\n          this.disallowProperty(elementObject, "finisher", "An element descriptor");\n          this.disallowProperty(elementObject, "extras", "An element descriptor");\n          return element;\n        }, this);\n      },\n\n      // ToElementDescriptor\n      toElementDescriptor: function(\n        elementObject /*: ElementObject */,\n      ) /*: ElementDescriptor */ {\n        var kind = String(elementObject.kind);\n        if (kind !== "method" && kind !== "field") {\n          throw new TypeError(\n            \'An element descriptor\\\\\'s .kind property must be either "method" or\' +\n              \' "field", but a decorator created an element descriptor with\' +\n              \' .kind "\' +\n              kind +\n              \'"\',\n          );\n        }\n\n        var key = toPropertyKey(elementObject.key);\n\n        var placement = String(elementObject.placement);\n        if (\n          placement !== "static" &&\n          placement !== "prototype" &&\n          placement !== "own"\n        ) {\n          throw new TypeError(\n            \'An element descriptor\\\\\'s .placement property must be one of "static",\' +\n              \' "prototype" or "own", but a decorator created an element descriptor\' +\n              \' with .placement "\' +\n              placement +\n              \'"\',\n          );\n        }\n\n        var descriptor /*: PropertyDescriptor */ = elementObject.descriptor;\n\n        this.disallowProperty(elementObject, "elements", "An element descriptor");\n\n        var element /*: ElementDescriptor */ = {\n          kind: kind,\n          key: key,\n          placement: placement,\n          descriptor: Object.assign({}, descriptor),\n        };\n\n        if (kind !== "field") {\n          this.disallowProperty(elementObject, "initializer", "A method descriptor");\n        } else {\n          this.disallowProperty(\n            descriptor,\n            "get",\n            "The property descriptor of a field descriptor",\n          );\n          this.disallowProperty(\n            descriptor,\n            "set",\n            "The property descriptor of a field descriptor",\n          );\n          this.disallowProperty(\n            descriptor,\n            "value",\n            "The property descriptor of a field descriptor",\n          );\n\n          element.initializer = elementObject.initializer;\n        }\n\n        return element;\n      },\n\n      toElementFinisherExtras: function(\n        elementObject /*: ElementObject */,\n      ) /*: ElementFinisherExtras */ {\n        var element /*: ElementDescriptor */ = this.toElementDescriptor(\n          elementObject,\n        );\n        var finisher /*: ClassFinisher */ = _optionalCallableProperty(\n          elementObject,\n          "finisher",\n        );\n        var extras /*: ElementDescriptors[] */ = this.toElementDescriptors(\n          elementObject.extras,\n        );\n\n        return { element: element, finisher: finisher, extras: extras };\n      },\n\n      // FromClassDescriptor\n      fromClassDescriptor: function(\n        elements /*: ElementDescriptor[] */,\n      ) /*: ClassObject */ {\n        var obj = {\n          kind: "class",\n          elements: elements.map(this.fromElementDescriptor, this),\n        };\n\n        var desc = { value: "Descriptor", configurable: true };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n\n        return obj;\n      },\n\n      // ToClassDescriptor\n      toClassDescriptor: function(\n        obj /*: ClassObject */,\n      ) /*: ElementsFinisher */ {\n        var kind = String(obj.kind);\n        if (kind !== "class") {\n          throw new TypeError(\n            \'A class descriptor\\\\\'s .kind property must be "class", but a decorator\' +\n              \' created a class descriptor with .kind "\' +\n              kind +\n              \'"\',\n          );\n        }\n\n        this.disallowProperty(obj, "key", "A class descriptor");\n        this.disallowProperty(obj, "placement", "A class descriptor");\n        this.disallowProperty(obj, "descriptor", "A class descriptor");\n        this.disallowProperty(obj, "initializer", "A class descriptor");\n        this.disallowProperty(obj, "extras", "A class descriptor");\n\n        var finisher = _optionalCallableProperty(obj, "finisher");\n        var elements = this.toElementDescriptors(obj.elements);\n\n        return { elements: elements, finisher: finisher };\n      },\n\n      // RunClassFinishers\n      runClassFinishers: function(\n        constructor /*: Class<*> */,\n        finishers /*: ClassFinisher[] */,\n      ) /*: Class<*> */ {\n        for (var i = 0; i < finishers.length; i++) {\n          var newConstructor /*: ?Class<*> */ = (0, finishers[i])(constructor);\n          if (newConstructor !== undefined) {\n            // NOTE: This should check if IsConstructor(newConstructor) is false.\n            if (typeof newConstructor !== "function") {\n              throw new TypeError("Finishers must return a constructor.");\n            }\n            constructor = newConstructor;\n          }\n        }\n        return constructor;\n      },\n\n      disallowProperty: function(obj, name, objectType) {\n        if (obj[name] !== undefined) {\n          throw new TypeError(objectType + " can\'t have a ." + name + " property.");\n        }\n      }\n    };\n\n    return api;\n  }\n\n  // ClassElementEvaluation\n  function _createElementDescriptor(\n    def /*: ElementDefinition */,\n  ) /*: ElementDescriptor */ {\n    var key = toPropertyKey(def.key);\n\n    var descriptor /*: PropertyDescriptor */;\n    if (def.kind === "method") {\n      descriptor = {\n        value: def.value,\n        writable: true,\n        configurable: true,\n        enumerable: false,\n      };\n    } else if (def.kind === "get") {\n      descriptor = { get: def.value, configurable: true, enumerable: false };\n    } else if (def.kind === "set") {\n      descriptor = { set: def.value, configurable: true, enumerable: false };\n    } else if (def.kind === "field") {\n      descriptor = { configurable: true, writable: true, enumerable: true };\n    }\n\n    var element /*: ElementDescriptor */ = {\n      kind: def.kind === "field" ? "field" : "method",\n      key: key,\n      placement: def.static\n        ? "static"\n        : def.kind === "field"\n        ? "own"\n        : "prototype",\n      descriptor: descriptor,\n    };\n    if (def.decorators) element.decorators = def.decorators;\n    if (def.kind === "field") element.initializer = def.value;\n\n    return element;\n  }\n\n  // CoalesceGetterSetter\n  function _coalesceGetterSetter(\n    element /*: ElementDescriptor */,\n    other /*: ElementDescriptor */,\n  ) {\n    if (element.descriptor.get !== undefined) {\n      other.descriptor.get = element.descriptor.get;\n    } else {\n      other.descriptor.set = element.descriptor.set;\n    }\n  }\n\n  // CoalesceClassElements\n  function _coalesceClassElements(\n    elements /*: ElementDescriptor[] */,\n  ) /*: ElementDescriptor[] */ {\n    var newElements /*: ElementDescriptor[] */ = [];\n\n    var isSameElement = function(\n      other /*: ElementDescriptor */,\n    ) /*: boolean */ {\n      return (\n        other.kind === "method" &&\n        other.key === element.key &&\n        other.placement === element.placement\n      );\n    };\n\n    for (var i = 0; i < elements.length; i++) {\n      var element /*: ElementDescriptor */ = elements[i];\n      var other /*: ElementDescriptor */;\n\n      if (\n        element.kind === "method" &&\n        (other = newElements.find(isSameElement))\n      ) {\n        if (\n          _isDataDescriptor(element.descriptor) ||\n          _isDataDescriptor(other.descriptor)\n        ) {\n          if (_hasDecorators(element) || _hasDecorators(other)) {\n            throw new ReferenceError(\n              "Duplicated methods (" + element.key + ") can\'t be decorated.",\n            );\n          }\n          other.descriptor = element.descriptor;\n        } else {\n          if (_hasDecorators(element)) {\n            if (_hasDecorators(other)) {\n              throw new ReferenceError(\n                "Decorators can\'t be placed on different accessors with for " +\n                  "the same property (" +\n                  element.key +\n                  ").",\n              );\n            }\n            other.decorators = element.decorators;\n          }\n          _coalesceGetterSetter(element, other);\n        }\n      } else {\n        newElements.push(element);\n      }\n    }\n\n    return newElements;\n  }\n\n  function _hasDecorators(element /*: ElementDescriptor */) /*: boolean */ {\n    return element.decorators && element.decorators.length;\n  }\n\n  function _isDataDescriptor(desc /*: PropertyDescriptor */) /*: boolean */ {\n    return (\n      desc !== undefined &&\n      !(desc.value === undefined && desc.writable === undefined)\n    );\n  }\n\n  function _optionalCallableProperty /*::<T>*/(\n    obj /*: T */,\n    name /*: $Keys<T> */,\n  ) /*: ?Function */ {\n    var value = obj[name];\n    if (value !== undefined && typeof value !== "function") {\n      throw new TypeError("Expected \'" + name + "\' to be a function");\n    }\n    return value;\n  }\n\n'])
;return Jw=function(){return e},e}function Yw(){var e=P(['\n  export default function _classStaticPrivateMethodSet() {\n    throw new TypeError("attempted to set read only static private field");\n  }\n']);return Yw=function(){return e},e}function $w(){var e=P(['\n  export default function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n    if (receiver !== classConstructor) {\n      throw new TypeError("Private static access of wrong provenance");\n    }\n    return method;\n  }\n']);return $w=function(){return e},e}function Qw(){var e=P(['\n  export default function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n    if (receiver !== classConstructor) {\n      throw new TypeError("Private static access of wrong provenance");\n    }\n    if (descriptor.set) {\n      descriptor.set.call(receiver, value);\n    } else {\n      if (!descriptor.writable) {\n        // This should only throw in strict mode, but class bodies are\n        // always strict and private fields can only be used inside\n        // class bodies.\n        throw new TypeError("attempted to set read only private field");\n      }\n      descriptor.value = value;\n    }\n\n    return value;\n  }\n']);return Qw=function(){return e},e}function Zw(){var e=P(['\n  export default function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n    if (receiver !== classConstructor) {\n      throw new TypeError("Private static access of wrong provenance");\n    }\n    if (descriptor.get) {\n      return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n  }\n']);return Zw=function(){return e},e}function eS(){var e=P(['\n  export default function _classPrivateFieldDestructureSet(receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError("attempted to set private field on non-instance");\n    }\n    var descriptor = privateMap.get(receiver);\n    if (descriptor.set) {\n      if (!("__destrObj" in descriptor)) {\n        descriptor.__destrObj = {\n          set value(v) {\n            descriptor.set.call(receiver, v)\n          },\n        };\n      }\n      return descriptor.__destrObj;\n    } else {\n      if (!descriptor.writable) {\n        // This should only throw in strict mode, but class bodies are\n        // always strict and private fields can only be used inside\n        // class bodies.\n        throw new TypeError("attempted to set read only private field");\n      }\n\n      return descriptor;\n    }\n  }\n']);return eS=function(){return e},e}function tS(){var e=P(['\n  export default function _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = privateMap.get(receiver);\n    if (!descriptor) {\n      throw new TypeError("attempted to set private field on non-instance");\n    }\n    if (descriptor.set) {\n      descriptor.set.call(receiver, value);\n    } else {\n      if (!descriptor.writable) {\n        // This should only throw in strict mode, but class bodies are\n        // always strict and private fields can only be used inside\n        // class bodies.\n        throw new TypeError("attempted to set read only private field");\n      }\n\n      descriptor.value = value;\n    }\n\n    return value;\n  }\n']);return tS=function(){return e},e}function rS(){var e=P(['\n  export default function _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = privateMap.get(receiver);\n    if (!descriptor) {\n      throw new TypeError("attempted to get private field on non-instance");\n    }\n    if (descriptor.get) {\n      return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n  }\n']);return rS=function(){return e},e}function nS(){var e=P(['\n  export default function _classPrivateFieldBase(receiver, privateKey) {\n    if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n      throw new TypeError("attempted to use private field on non-instance");\n    }\n    return receiver;\n  }\n']);return nS=function(){return e},e}function aS(){var e=P(['\n  var id = 0;\n  export default function _classPrivateFieldKey(name) {\n    return "__private_" + (id++) + "_" + name;\n  }\n']);return aS=function(){return e},e}function sS(){var e=P(["\n    export default function _applyDecoratedDescriptor(target, property, decorators, descriptor, context){\n        var desc = {};\n        Object.keys(descriptor).forEach(function(key){\n            desc[key] = descriptor[key];\n        });\n        desc.enumerable = !!desc.enumerable;\n        desc.configurable = !!desc.configurable;\n        if ('value' in desc || desc.initializer){\n            desc.writable = true;\n        }\n\n        desc = decorators.slice().reverse().reduce(function(desc, decorator){\n            return decorator(target, property, desc) || desc;\n        }, desc);\n\n        if (context && desc.initializer !== void 0){\n            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n            desc.initializer = undefined;\n        }\n\n        if (desc.initializer === void 0){\n            Object.defineProperty(target, property, desc);\n            desc = null;\n        }\n\n        return desc;\n    }\n"]);return sS=function(){return e},e}function iS(){var e=P(["\n    export default function _initializerDefineProperty(target, property, descriptor, context){\n        if (!descriptor) return;\n\n        Object.defineProperty(target, property, {\n            enumerable: descriptor.enumerable,\n            configurable: descriptor.configurable,\n            writable: descriptor.writable,\n            value: descriptor.initializer ? descriptor.initializer.call(context) : void 0,\n        });\n    }\n"]);return iS=function(){return e},e}function oS(){var e=P(["\n    export default function _initializerWarningHelper(descriptor, context){\n        throw new Error(\n          'Decorating class property failed. Please ensure that ' +\n          'proposal-class-properties is enabled and runs after the decorators transform.'\n        );\n    }\n"]);return oS=function(){return e},e}function lS(){var e=P(['\n  import toPrimitive from "toPrimitive";\n\n  export default function _toPropertyKey(arg) {\n    var key = toPrimitive(arg, "string");\n    return typeof key === "symbol" ? key : String(key);\n  }\n']);return lS=function(){return e},e}function cS(){var e=P(['\n  export default function _toPrimitive(\n    input,\n    hint /*: "default" | "string" | "number" | void */\n  ) {\n    if (typeof input !== "object" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || "default");\n      if (typeof res !== "object") return res;\n      throw new TypeError("@@toPrimitive must return a primitive value.");\n    }\n    return (hint === "string" ? String : Number)(input);\n  }\n']);return cS=function(){return e},e}function uS(){var e=P(["\n  export default function _skipFirstGeneratorNext(fn) {\n    return function () {\n      var it = fn.apply(this, arguments);\n      it.next();\n      return it;\n    }\n  }\n"]);return uS=function(){return e},e}function pS(){var e=P(['\n  import unsupportedIterableToArray from "unsupportedIterableToArray";\n\n  export default function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it;\n\n    if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {\n      // Fallback for engines without symbol support\n      if (\n        Array.isArray(o) ||\n        (it = unsupportedIterableToArray(o)) ||\n        (allowArrayLike && o && typeof o.length === "number")\n      ) {\n        if (it) o = it;\n        var i = 0;\n        return function() {\n          if (i >= o.length) return { done: true };\n          return { done: false, value: o[i++] };\n        }\n      }\n\n      throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n    }\n\n    it = o[Symbol.iterator]();\n    return it.next.bind(it);\n  }\n'],['\n  import unsupportedIterableToArray from "unsupportedIterableToArray";\n\n  export default function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it;\n\n    if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {\n      // Fallback for engines without symbol support\n      if (\n        Array.isArray(o) ||\n        (it = unsupportedIterableToArray(o)) ||\n        (allowArrayLike && o && typeof o.length === "number")\n      ) {\n        if (it) o = it;\n        var i = 0;\n        return function() {\n          if (i >= o.length) return { done: true };\n          return { done: false, value: o[i++] };\n        }\n      }\n\n      throw new TypeError("Invalid attempt to iterate non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n    }\n\n    it = o[Symbol.iterator]();\n    return it.next.bind(it);\n  }\n']);return pS=function(){return e},e}function dS(){var e=P(['\n  import unsupportedIterableToArray from "unsupportedIterableToArray";\n\n  // s: start (create the iterator)\n  // n: next\n  // e: error (called whenever something throws)\n  // f: finish (always called at the end)\n\n  export default function _createForOfIteratorHelper(o, allowArrayLike) {\n    var it;\n    if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {\n      // Fallback for engines without symbol support\n      if (\n        Array.isArray(o) ||\n        (it = unsupportedIterableToArray(o)) ||\n        (allowArrayLike && o && typeof o.length === "number")\n      ) {\n        if (it) o = it;\n        var i = 0;\n        var F = function(){};\n        return {\n          s: F,\n          n: function() {\n            if (i >= o.length) return { done: true };\n            return { done: false, value: o[i++] };\n          },\n          e: function(e) { throw e; },\n          f: F,\n        };\n      }\n\n      throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n    }\n\n    var normalCompletion = true, didErr = false, err;\n\n    return {\n      s: function() {\n        it = o[Symbol.iterator]();\n      },\n      n: function() {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function(e) {\n        didErr = true;\n        err = e;\n      },\n      f: function() {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      }\n    };\n  }\n'],['\n  import unsupportedIterableToArray from "unsupportedIterableToArray";\n\n  // s: start (create the iterator)\n  // n: next\n  // e: error (called whenever something throws)\n  // f: finish (always called at the end)\n\n  export default function _createForOfIteratorHelper(o, allowArrayLike) {\n    var it;\n    if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {\n      // Fallback for engines without symbol support\n      if (\n        Array.isArray(o) ||\n        (it = unsupportedIterableToArray(o)) ||\n        (allowArrayLike && o && typeof o.length === "number")\n      ) {\n        if (it) o = it;\n        var i = 0;\n        var F = function(){};\n        return {\n          s: F,\n          n: function() {\n            if (i >= o.length) return { done: true };\n            return { done: false, value: o[i++] };\n          },\n          e: function(e) { throw e; },\n          f: F,\n        };\n      }\n\n      throw new TypeError("Invalid attempt to iterate non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n    }\n\n    var normalCompletion = true, didErr = false, err;\n\n    return {\n      s: function() {\n        it = o[Symbol.iterator]();\n      },\n      n: function() {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function(e) {\n        didErr = true;\n        err = e;\n      },\n      f: function() {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      }\n    };\n  }\n']);return dS=function(){return e},e}function fS(){var e=P(['\n  export default function _nonIterableRest() {\n    throw new TypeError(\n      "Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."\n    );\n  }\n'],['\n  export default function _nonIterableRest() {\n    throw new TypeError(\n      "Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."\n    );\n  }\n']);return fS=function(){return e},e}function hS(){var e=P(['\n  export default function _nonIterableSpread() {\n    throw new TypeError(\n      "Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."\n    );\n  }\n'],['\n  export default function _nonIterableSpread() {\n    throw new TypeError(\n      "Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."\n    );\n  }\n']);return hS=function(){return e},e}function mS(){var e=P(["\n  export default function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n    return arr2;\n  }\n"]);return mS=function(){return e},e}function yS(){var e=P(['\n  import arrayLikeToArray from "arrayLikeToArray";\n\n  export default function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === "string") return arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === "Object" && o.constructor) n = o.constructor.name;\n    if (n === "Map" || n === "Set") return Array.from(o);\n    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n      return arrayLikeToArray(o, minLen);\n  }\n']);return yS=function(){return e},e}function gS(){var e=P(['\n  export default function _iterableToArrayLimitLoose(arr, i) {\n    if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;\n\n    var _arr = [];\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n      if (i && _arr.length === i) break;\n    }\n    return _arr;\n  }\n']);return gS=function(){return e},e}function vS(){var e=P(['\n  export default function _iterableToArrayLimit(arr, i) {\n    // this is an expanded form of `for...of` that properly supports abrupt completions of\n    // iterators etc. variable names have been minimised to reduce the size of this massive\n    // helper. sometimes spec compliance is annoying :(\n    //\n    // _n = _iteratorNormalCompletion\n    // _d = _didIteratorError\n    // _e = _iteratorError\n    // _i = _iterator\n    // _s = _step\n\n    if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;\n\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i["return"] != null) _i["return"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n'],['\n  export default function _iterableToArrayLimit(arr, i) {\n    // this is an expanded form of \\`for...of\\` that properly supports abrupt completions of\n    // iterators etc. variable names have been minimised to reduce the size of this massive\n    // helper. sometimes spec compliance is annoying :(\n    //\n    // _n = _iteratorNormalCompletion\n    // _d = _didIteratorError\n    // _e = _iteratorError\n    // _i = _iterator\n    // _s = _step\n\n    if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;\n\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i["return"] != null) _i["return"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n']);return vS=function(){return e},e}function bS(){var e=P(['\n  export default function _iterableToArray(iter) {\n    if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n']);return bS=function(){return e},e}function xS(){var e=P(['\n  import arrayLikeToArray from "arrayLikeToArray";\n\n  export default function _maybeArrayLike(next, arr, i) {\n    if (arr && !Array.isArray(arr) && typeof arr.length === "number") {\n      var len = arr.length;\n      return arrayLikeToArray(arr, i !== void 0 && i < len ? i : len);\n    }\n    return next(arr, i);\n  }\n']);return xS=function(){return e},e}function ES(){var e=P(["\n  export default function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n"]);return ES=function(){return e},e}function wS(){var e=P(['\n  import arrayLikeToArray from "arrayLikeToArray";\n\n  export default function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return arrayLikeToArray(arr);\n  }\n']);return wS=function(){return e},e}function SS(){var e=P(['\n  import arrayWithoutHoles from "arrayWithoutHoles";\n  import iterableToArray from "iterableToArray";\n  import unsupportedIterableToArray from "unsupportedIterableToArray";\n  import nonIterableSpread from "nonIterableSpread";\n\n  export default function _toConsumableArray(arr) {\n    return (\n      arrayWithoutHoles(arr) ||\n      iterableToArray(arr) ||\n      unsupportedIterableToArray(arr) ||\n      nonIterableSpread()\n    );\n  }\n']);return SS=function(){return e},e}function TS(){var e=P(['\n  import arrayWithHoles from "arrayWithHoles";\n  import iterableToArray from "iterableToArray";\n  import unsupportedIterableToArray from "unsupportedIterableToArray";\n  import nonIterableRest from "nonIterableRest";\n\n  export default function _toArray(arr) {\n    return (\n      arrayWithHoles(arr) ||\n      iterableToArray(arr) ||\n      unsupportedIterableToArray(arr) ||\n      nonIterableRest()\n    );\n  }\n']);return TS=function(){return e},e}function jS(){var e=P(['\n  import arrayWithHoles from "arrayWithHoles";\n  import iterableToArrayLimitLoose from "iterableToArrayLimitLoose";\n  import unsupportedIterableToArray from "unsupportedIterableToArray";\n  import nonIterableRest from "nonIterableRest";\n\n  export default function _slicedToArrayLoose(arr, i) {\n    return (\n      arrayWithHoles(arr) ||\n      iterableToArrayLimitLoose(arr, i) ||\n      unsupportedIterableToArray(arr, i) ||\n      nonIterableRest()\n    );\n  }\n']);return jS=function(){return e},e}function AS(){var e=P(['\n  import arrayWithHoles from "arrayWithHoles";\n  import iterableToArrayLimit from "iterableToArrayLimit";\n  import unsupportedIterableToArray from "unsupportedIterableToArray";\n  import nonIterableRest from "nonIterableRest";\n\n  export default function _slicedToArray(arr, i) {\n    return (\n      arrayWithHoles(arr) ||\n      iterableToArrayLimit(arr, i) ||\n      unsupportedIterableToArray(arr, i) ||\n      nonIterableRest()\n    );\n  }\n']);return AS=function(){return e},e}function PS(){var e=P(['\n  import undef from "temporalUndefined";\n  import err from "tdz";\n\n  export default function _temporalRef(val, name) {\n    return val === undef ? err(name) : val;\n  }\n']);return PS=function(){return e},e}function kS(){var e=P(['\n  export default function _tdzError(name) {\n    throw new ReferenceError(name + " is not defined - temporal dead zone");\n  }\n']);return kS=function(){return e},e}function CS(){var e=P(["\n  // This function isn't mean to be called, but to be used as a reference.\n  // We can't use a normal object because it isn't hoisted.\n  export default function _temporalUndefined() {}\n"]);return CS=function(){return e},e}function DS(){var e=P(['\n  export default function _classNameTDZError(name) {\n    throw new Error("Class \\"" + name + "\\" cannot be referenced in computed property keys.");\n  }\n'],['\n  export default function _classNameTDZError(name) {\n    throw new Error("Class \\\\"" + name + "\\\\" cannot be referenced in computed property keys.");\n  }\n']);return DS=function(){return e},e}function _S(){var e=P(['\n  export default function _readOnlyError(name) {\n    throw new Error("\\"" + name + "\\" is read-only");\n  }\n'],['\n  export default function _readOnlyError(name) {\n    throw new Error("\\\\"" + name + "\\\\" is read-only");\n  }\n']);return _S=function(){return e},e}function IS(){var e=P(["\n  export default function _taggedTemplateLiteralLoose(strings, raw) {\n    if (!raw) { raw = strings.slice(0); }\n    strings.raw = raw;\n    return strings;\n  }\n"]);return IS=function(){return e},e}function OS(){var e=P(["\n  export default function _taggedTemplateLiteral(strings, raw) {\n    if (!raw) { raw = strings.slice(0); }\n    return Object.freeze(Object.defineProperties(strings, {\n        raw: { value: Object.freeze(raw) }\n    }));\n  }\n"]);return OS=function(){return e},e}function NS(){var e=P(['\n  import superPropBase from "superPropBase";\n  import defineProperty from "defineProperty";\n\n  function set(target, property, value, receiver) {\n    if (typeof Reflect !== "undefined" && Reflect.set) {\n      set = Reflect.set;\n    } else {\n      set = function set(target, property, value, receiver) {\n        var base = superPropBase(target, property);\n        var desc;\n\n        if (base) {\n          desc = Object.getOwnPropertyDescriptor(base, property);\n          if (desc.set) {\n            desc.set.call(receiver, value);\n            return true;\n          } else if (!desc.writable) {\n            // Both getter and non-writable fall into this.\n            return false;\n          }\n        }\n\n        // Without a super that defines the property, spec boils down to\n        // "define on receiver" for some reason.\n        desc = Object.getOwnPropertyDescriptor(receiver, property);\n        if (desc) {\n          if (!desc.writable) {\n            // Setter, getter, and non-writable fall into this.\n            return false;\n          }\n\n          desc.value = value;\n          Object.defineProperty(receiver, property, desc);\n        } else {\n          // Avoid setters that may be defined on Sub\'s prototype, but not on\n          // the instance.\n          defineProperty(receiver, property, value);\n        }\n\n        return true;\n      };\n    }\n\n    return set(target, property, value, receiver);\n  }\n\n  export default function _set(target, property, value, receiver, isStrict) {\n    var s = set(target, property, value, receiver || target);\n    if (!s && isStrict) {\n      throw new Error(\'failed to set property\');\n    }\n\n    return value;\n  }\n']);return NS=function(){return e},e}function BS(){var e=P(['\n  import superPropBase from "superPropBase";\n\n  export default function _get(target, property, receiver) {\n    if (typeof Reflect !== "undefined" && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = superPropBase(target, property);\n\n        if (!base) return;\n\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n    return _get(target, property, receiver || target);\n  }\n']);return BS=function(){return e},e}function FS(){var e=P(['\n  import getPrototypeOf from "getPrototypeOf";\n\n  export default function _superPropBase(object, property) {\n    // Yes, this throws if object is null to being with, that\'s on purpose.\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = getPrototypeOf(object);\n      if (object === null) break;\n    }\n    return object;\n  }\n']);return FS=function(){return e},e}function RS(){var e=P(['\n  import getPrototypeOf from "getPrototypeOf";\n  import isNativeReflectConstruct from "isNativeReflectConstruct";\n  import possibleConstructorReturn from "possibleConstructorReturn";\n\n  export default function _createSuper(Derived) {\n    var hasNativeReflectConstruct = isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = getPrototypeOf(Derived), result;\n      if (hasNativeReflectConstruct) {\n        // NOTE: This doesn\'t work if this.__proto__.constructor has been modified.\n        var NewTarget = getPrototypeOf(this).constructor;\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n      return possibleConstructorReturn(this, result);\n    }\n  }\n ']);return RS=function(){return e},e}function MS(){var e=P(['\n  import assertThisInitialized from "assertThisInitialized";\n\n  export default function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === "object" || typeof call === "function")) {\n      return call;\n    }\n    return assertThisInitialized(self);\n  }\n']);return MS=function(){return e},e}function LS(){var e=P(["\n  export default function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n    return self;\n  }\n"]);return LS=function(){return e},e}function US(){var e=P(['\n  import objectWithoutPropertiesLoose from "objectWithoutPropertiesLoose";\n\n  export default function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n']);return US=function(){return e},e}function WS(){var e=P(["\n  export default function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n"]);return WS=function(){return e},e}function VS(){var e=P(['\n  export default function _objectDestructuringEmpty(obj) {\n    if (obj == null) throw new TypeError("Cannot destructure undefined");\n  }\n']);return VS=function(){return e},e}function GS(){var e=P(['\n  export default function _newArrowCheck(innerThis, boundThis) {\n    if (innerThis !== boundThis) {\n      throw new TypeError("Cannot instantiate an arrow function");\n    }\n  }\n']);return GS=function(){return e},e}function KS(){var e=P(['\n  function _getRequireWildcardCache() {\n    if (typeof WeakMap !== "function") return null;\n\n    var cache = new WeakMap();\n    _getRequireWildcardCache = function () { return cache; };\n    return cache;\n  }\n\n  export default function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    }\n\n    if (obj === null || (typeof obj !== "object" && typeof obj !== "function")) {\n      return { default: obj }\n    }\n\n    var cache = _getRequireWildcardCache();\n    if (cache && cache.has(obj)) {\n      return cache.get(obj);\n    }\n\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor\n          ? Object.getOwnPropertyDescriptor(obj, key)\n          : null;\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n    newObj.default = obj;\n    if (cache) {\n      cache.set(obj, newObj);\n    }\n    return newObj;\n  }\n']);return KS=function(){return e},e}function HS(){var e=P(["\n  export default function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n  }\n"]);return HS=function(){return e},e}function zS(){var e=P(['\n  export default function _instanceof(left, right) {\n    if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) {\n      return !!right[Symbol.hasInstance](left);\n    } else {\n      return left instanceof right;\n    }\n  }\n']);return zS=function(){return e},e}function qS(){var e=P(['\n  import getPrototypeOf from "getPrototypeOf";\n  import setPrototypeOf from "setPrototypeOf";\n  import isNativeFunction from "isNativeFunction";\n  import construct from "construct";\n\n  export default function _wrapNativeSuper(Class) {\n    var _cache = typeof Map === "function" ? new Map() : undefined;\n\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n      if (Class === null || !isNativeFunction(Class)) return Class;\n      if (typeof Class !== "function") {\n        throw new TypeError("Super expression must either be null or a function");\n      }\n      if (typeof _cache !== "undefined") {\n        if (_cache.has(Class)) return _cache.get(Class);\n        _cache.set(Class, Wrapper);\n      }\n      function Wrapper() {\n        return construct(Class, arguments, getPrototypeOf(this).constructor)\n      }\n      Wrapper.prototype = Object.create(Class.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: false,\n          writable: true,\n          configurable: true,\n        }\n      });\n\n      return setPrototypeOf(Wrapper, Class);\n    }\n\n    return _wrapNativeSuper(Class)\n  }\n']);return qS=function(){return e},e}function XS(){var e=P(['\n  export default function _isNativeFunction(fn) {\n    // Note: This function returns "true" for core-js functions.\n    return Function.toString.call(fn).indexOf("[native code]") !== -1;\n  }\n']);return XS=function(){return e},e}function JS(){
var e=P(['\n  import setPrototypeOf from "setPrototypeOf";\n  import isNativeReflectConstruct from "isNativeReflectConstruct";\n\n  export default function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      // NOTE: If Parent !== Class, the correct __proto__ is set *after*\n      //       calling the constructor.\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n    // Avoid issues with Class being present but undefined when it wasn\'t\n    // present in the original call.\n    return _construct.apply(null, arguments);\n  }\n']);return JS=function(){return e},e}function YS(){var e=P(["\n  export default function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n\n    // core-js@3\n    if (Reflect.construct.sham) return false;\n\n    // Proxy can't be polyfilled. Every browser implemented\n    // proxies before or at the same time as Reflect.construct,\n    // so if they support Proxy they also support Reflect.construct.\n    if (typeof Proxy === \"function\") return true;\n\n    // Since Reflect.construct can't be properly polyfilled, some\n    // implementations (e.g. core-js@2) don't set the correct internal slots.\n    // Those polyfills don't allow us to subclass built-ins, so we need to\n    // use our fallback implementation.\n    try {\n      // If the internal slots aren't set, this throws an error similar to\n      //   TypeError: this is not a Date object.\n      Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n"]);return YS=function(){return e},e}function $S(){var e=P(["\n  export default function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n    return _setPrototypeOf(o, p);\n  }\n"]);return $S=function(){return e},e}function QS(){var e=P(["\n  export default function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n      ? Object.getPrototypeOf\n      : function _getPrototypeOf(o) {\n          return o.__proto__ || Object.getPrototypeOf(o);\n        };\n    return _getPrototypeOf(o);\n  }\n"]);return QS=function(){return e},e}function ZS(){var e=P(["\n  export default function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n"]);return ZS=function(){return e},e}function eT(){var e=P(['\n  import setPrototypeOf from "setPrototypeOf";\n\n  export default function _inherits(subClass, superClass) {\n    if (typeof superClass !== "function" && superClass !== null) {\n      throw new TypeError("Super expression must either be null or a function");\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) setPrototypeOf(subClass, superClass);\n  }\n']);return eT=function(){return e},e}function tT(){var e=P(['\n  import defineProperty from "defineProperty";\n\n  // This function is different to "Reflect.ownKeys". The enumerableOnly\n  // filters on symbol properties only. Returned string properties are always\n  // enumerable. It is good to use in objectSpread.\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n    return keys;\n  }\n\n  export default function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = (arguments[i] != null) ? arguments[i] : {};\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(\n            target,\n            key,\n            Object.getOwnPropertyDescriptor(source, key)\n          );\n        });\n      }\n    }\n    return target;\n  }\n']);return tT=function(){return e},e}function rT(){var e=P(["\n  import defineProperty from \"defineProperty\";\n\n  export default function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = (arguments[i] != null) ? Object(arguments[i]) : {};\n      var ownKeys = Object.keys(source);\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n      }\n      ownKeys.forEach(function(key) {\n        defineProperty(target, key, source[key]);\n      });\n    }\n    return target;\n  }\n"]);return rT=function(){return e},e}function nT(){var e=P(["\n  export default function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n"]);return nT=function(){return e},e}function aT(){var e=P(["\n  export default function _defineProperty(obj, key, value) {\n    // Shortcircuit the slow defineProperty path when possible.\n    // We are trying to avoid issues where setters defined on the\n    // prototype cause side effects under the fast path of simple\n    // assignment. By checking for existence of the property with\n    // the in operator, we can optimize most of this overhead away.\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n"]);return aT=function(){return e},e}function sT(){var e=P(["\n  export default function _defaults(obj, defaults) {\n    var keys = Object.getOwnPropertyNames(defaults);\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var value = Object.getOwnPropertyDescriptor(defaults, key);\n      if (value && value.configurable && obj[key] === undefined) {\n        Object.defineProperty(obj, key, value);\n      }\n    }\n    return obj;\n  }\n"]);return sT=function(){return e},e}function iT(){var e=P(['\n  export default function _defineEnumerableProperties(obj, descs) {\n    for (var key in descs) {\n      var desc = descs[key];\n      desc.configurable = desc.enumerable = true;\n      if ("value" in desc) desc.writable = true;\n      Object.defineProperty(obj, key, desc);\n    }\n\n    // Symbols are not enumerated over by for-in loops. If native\n    // Symbols are available, fetch all of the descs object\'s own\n    // symbol properties and define them on our target object too.\n    if (Object.getOwnPropertySymbols) {\n      var objectSymbols = Object.getOwnPropertySymbols(descs);\n      for (var i = 0; i < objectSymbols.length; i++) {\n        var sym = objectSymbols[i];\n        var desc = descs[sym];\n        desc.configurable = desc.enumerable = true;\n        if ("value" in desc) desc.writable = true;\n        Object.defineProperty(obj, sym, desc);\n      }\n    }\n    return obj;\n  }\n']);return iT=function(){return e},e}function oT(){var e=P(['\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i ++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ("value" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  export default function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n']);return oT=function(){return e},e}function lT(){var e=P(['\n  export default function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError("Cannot call a class as a function");\n    }\n  }\n']);return lT=function(){return e},e}function cT(){var e=P(['\n  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n      var info = gen[key](arg);\n      var value = info.value;\n    } catch (error) {\n      reject(error);\n      return;\n    }\n\n    if (info.done) {\n      resolve(value);\n    } else {\n      Promise.resolve(value).then(_next, _throw);\n    }\n  }\n\n  export default function _asyncToGenerator(fn) {\n    return function () {\n      var self = this, args = arguments;\n      return new Promise(function (resolve, reject) {\n        var gen = fn.apply(self, args);\n        function _next(value) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);\n        }\n        function _throw(err) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);\n        }\n\n        _next(undefined);\n      });\n    };\n  }\n']);return cT=function(){return e},e}function uT(){var e=P(['\n  export default function _asyncGeneratorDelegate(inner, awaitWrap) {\n    var iter = {}, waiting = false;\n\n    function pump(key, value) {\n      waiting = true;\n      value = new Promise(function (resolve) { resolve(inner[key](value)); });\n      return { done: false, value: awaitWrap(value) };\n    };\n\n    if (typeof Symbol === "function" && Symbol.iterator) {\n      iter[Symbol.iterator] = function () { return this; };\n    }\n\n    iter.next = function (value) {\n      if (waiting) {\n        waiting = false;\n        return value;\n      }\n      return pump("next", value);\n    };\n\n    if (typeof inner.throw === "function") {\n      iter.throw = function (value) {\n        if (waiting) {\n          waiting = false;\n          throw value;\n        }\n        return pump("throw", value);\n      };\n    }\n\n    if (typeof inner.return === "function") {\n      iter.return = function (value) {\n        if (waiting) {\n          waiting = false;\n          return value;\n        }\n        return pump("return", value);\n      };\n    }\n\n    return iter;\n  }\n']);return uT=function(){return e},e}function pT(){var e=P(['\n  import AwaitValue from "AwaitValue";\n\n  export default function _awaitAsyncGenerator(value) {\n    return new AwaitValue(value);\n  }\n']);return pT=function(){return e},e}function dT(){var e=P(['\n  import AsyncGenerator from "AsyncGenerator";\n\n  export default function _wrapAsyncGenerator(fn) {\n    return function () {\n      return new AsyncGenerator(fn.apply(this, arguments));\n    };\n  }\n']);return dT=function(){return e},e}function fT(){var e=P(['\n  import AwaitValue from "AwaitValue";\n\n  export default function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null,\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg)\n        var value = result.value;\n        var wrappedAwait = value instanceof AwaitValue;\n\n        Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n          function (arg) {\n            if (wrappedAwait) {\n              resume(key === "return" ? "return" : "next", arg);\n              return\n            }\n\n            settle(result.done ? "return" : "normal", arg);\n          },\n          function (err) { resume("throw", err); });\n      } catch (err) {\n        settle("throw", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case "return":\n          front.resolve({ value: value, done: true });\n          break;\n        case "throw":\n          front.reject(value);\n          break;\n        default:\n          front.resolve({ value: value, done: false });\n          break;\n      }\n\n      front = front.next;\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    // Hide "return" method if generator return is not supported\n    if (typeof gen.return !== "function") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === "function" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () { return this; };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) { return this._invoke("next", arg); };\n  AsyncGenerator.prototype.throw = function (arg) { return this._invoke("throw", arg); };\n  AsyncGenerator.prototype.return = function (arg) { return this._invoke("return", arg); };\n']);return fT=function(){return e},e}function hT(){var e=P(["\n  export default function _AwaitValue(value) {\n    this.wrapped = value;\n  }\n"]);return hT=function(){return e},e}function mT(){var e=P(['\n  export default function _asyncIterator(iterable) {\n    var method\n    if (typeof Symbol !== "undefined") {\n      if (Symbol.asyncIterator) {\n        method = iterable[Symbol.asyncIterator]\n        if (method != null) return method.call(iterable);\n      }\n      if (Symbol.iterator) {\n        method = iterable[Symbol.iterator]\n        if (method != null) return method.call(iterable);\n      }\n    }\n    throw new TypeError("Object is not async iterable");\n  }\n']);return mT=function(){return e},e}function yT(){var e=P(['\n  var REACT_ELEMENT_TYPE;\n\n  export default function _createRawReactElement(type, props, key, children) {\n    if (!REACT_ELEMENT_TYPE) {\n      REACT_ELEMENT_TYPE = (\n        typeof Symbol === "function" && Symbol["for"] && Symbol["for"]("react.element")\n      ) || 0xeac7;\n    }\n\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      // If we\'re going to assign props.children, we create a new object now\n      // to avoid mutating defaultProps.\n      props = {\n        children: void 0,\n      };\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = new Array(childrenLength);\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n      props.children = childArray;\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : \'\' + key,\n      ref: null,\n      props: props,\n      _owner: null,\n    };\n  }\n']);return yT=function(){return e},e}function gT(){var e=P(['\n  export default function _typeof(obj) {\n    "@babel/helpers - typeof";\n\n    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {\n      _typeof = function (obj) { return typeof obj; };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype\n          ? "symbol"\n          : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n']);return gT=function(){return e},e}Kw.visitors=Gw,Kw.verify=Fw,Kw.explode=Bw,Kw.cheap=function(e,t){return Qf(e,t)},Kw.node=function(e,t,r,n,a,s){var i=Qi[e.type];if(i)for(var o,l=new Nw(r,t,n,a),c=U(i);!(o=c()).done;){var u=o.value;if((!s||!s[u])&&l.visit(e,u))return}},Kw.clearNode=function(e,t){th(e,t),Bm.delete(e)},Kw.removeProperties=function(e,t){return Qf(e,Kw.clearNode,t),e},Kw.hasType=function(e,t,r){if(null==r?void 0:r.includes(e.type))return!1;if(e.type===t)return!0;var n={has:!1,type:t};return Kw(e,{noScope:!0,denylist:r,enter:Hw},null,n),n.has},Kw.cache=Lm;var vT=Object.create(null),bT=function(e){return function(t){return{minVersion:e,ast:function(){return JE.program.ast(t)}}}};function xT(e){for(var t=[];e.parentPath;e=e.parentPath)t.push(e.key),e.inList&&t.push(e.listKey);return t.reverse().join(".")}vT.typeof=bT("7.0.0-beta.0")(gT()),vT.jsx=bT("7.0.0-beta.0")(yT()),vT.asyncIterator=bT("7.0.0-beta.0")(mT()),vT.AwaitValue=bT("7.0.0-beta.0")(hT()),vT.AsyncGenerator=bT("7.0.0-beta.0")(fT()),vT.wrapAsyncGenerator=bT("7.0.0-beta.0")(dT()),vT.awaitAsyncGenerator=bT("7.0.0-beta.0")(pT()),vT.asyncGeneratorDelegate=bT("7.0.0-beta.0")(uT()),vT.asyncToGenerator=bT("7.0.0-beta.0")(cT()),vT.classCallCheck=bT("7.0.0-beta.0")(lT()),vT.createClass=bT("7.0.0-beta.0")(oT()),vT.defineEnumerableProperties=bT("7.0.0-beta.0")(iT()),vT.defaults=bT("7.0.0-beta.0")(sT()),vT.defineProperty=bT("7.0.0-beta.0")(aT()),vT.extends=bT("7.0.0-beta.0")(nT()),vT.objectSpread=bT("7.0.0-beta.0")(rT()),vT.objectSpread2=bT("7.5.0")(tT()),vT.inherits=bT("7.0.0-beta.0")(eT()),vT.inheritsLoose=bT("7.0.0-beta.0")(ZS()),vT.getPrototypeOf=bT("7.0.0-beta.0")(QS()),vT.setPrototypeOf=bT("7.0.0-beta.0")($S()),vT.isNativeReflectConstruct=bT("7.9.0")(YS()),vT.construct=bT("7.0.0-beta.0")(JS()),vT.isNativeFunction=bT("7.0.0-beta.0")(XS()),vT.wrapNativeSuper=bT("7.0.0-beta.0")(qS()),vT.instanceof=bT("7.0.0-beta.0")(zS()),vT.interopRequireDefault=bT("7.0.0-beta.0")(HS()),vT.interopRequireWildcard=bT("7.0.0-beta.0")(KS()),vT.newArrowCheck=bT("7.0.0-beta.0")(GS()),vT.objectDestructuringEmpty=bT("7.0.0-beta.0")(VS()),vT.objectWithoutPropertiesLoose=bT("7.0.0-beta.0")(WS()),vT.objectWithoutProperties=bT("7.0.0-beta.0")(US()),vT.assertThisInitialized=bT("7.0.0-beta.0")(LS()),vT.possibleConstructorReturn=bT("7.0.0-beta.0")(MS()),vT.createSuper=bT("7.9.0")(RS()),vT.superPropBase=bT("7.0.0-beta.0")(FS()),vT.get=bT("7.0.0-beta.0")(BS()),vT.set=bT("7.0.0-beta.0")(NS()),vT.taggedTemplateLiteral=bT("7.0.0-beta.0")(OS()),vT.taggedTemplateLiteralLoose=bT("7.0.0-beta.0")(IS()),vT.readOnlyError=bT("7.0.0-beta.0")(_S()),vT.classNameTDZError=bT("7.0.0-beta.0")(DS()),vT.temporalUndefined=bT("7.0.0-beta.0")(CS()),vT.tdz=bT("7.5.5")(kS()),vT.temporalRef=bT("7.0.0-beta.0")(PS()),vT.slicedToArray=bT("7.0.0-beta.0")(AS()),vT.slicedToArrayLoose=bT("7.0.0-beta.0")(jS()),vT.toArray=bT("7.0.0-beta.0")(TS()),vT.toConsumableArray=bT("7.0.0-beta.0")(SS()),vT.arrayWithoutHoles=bT("7.0.0-beta.0")(wS()),vT.arrayWithHoles=bT("7.0.0-beta.0")(ES()),vT.maybeArrayLike=bT("7.9.0")(xS()),vT.iterableToArray=bT("7.0.0-beta.0")(bS()),vT.iterableToArrayLimit=bT("7.0.0-beta.0")(vS()),vT.iterableToArrayLimitLoose=bT("7.0.0-beta.0")(gS()),vT.unsupportedIterableToArray=bT("7.9.0")(yS()),vT.arrayLikeToArray=bT("7.9.0")(mS()),vT.nonIterableSpread=bT("7.0.0-beta.0")(hS()),vT.nonIterableRest=bT("7.0.0-beta.0")(fS()),vT.createForOfIteratorHelper=bT("7.9.0")(dS()),vT.createForOfIteratorHelperLoose=bT("7.9.0")(pS()),vT.skipFirstGeneratorNext=bT("7.0.0-beta.0")(uS()),vT.toPrimitive=bT("7.1.5")(cS()),vT.toPropertyKey=bT("7.1.5")(lS()),vT.initializerWarningHelper=bT("7.0.0-beta.0")(oS()),vT.initializerDefineProperty=bT("7.0.0-beta.0")(iS()),vT.applyDecoratedDescriptor=bT("7.0.0-beta.0")(sS()),vT.classPrivateFieldLooseKey=bT("7.0.0-beta.0")(aS()),vT.classPrivateFieldLooseBase=bT("7.0.0-beta.0")(nS()),vT.classPrivateFieldGet=bT("7.0.0-beta.0")(rS()),vT.classPrivateFieldSet=bT("7.0.0-beta.0")(tS()),vT.classPrivateFieldDestructureSet=bT("7.4.4")(eS()),vT.classStaticPrivateFieldSpecGet=bT("7.0.2")(Zw()),vT.classStaticPrivateFieldSpecSet=bT("7.0.2")(Qw()),vT.classStaticPrivateMethodGet=bT("7.3.2")($w()),vT.classStaticPrivateMethodSet=bT("7.3.2")(Yw()),vT.decorate=bT("7.1.5")(Jw()),vT.classPrivateMethodGet=bT("7.1.6")(Xw()),vT.classPrivateMethodSet=bT("7.1.6")(qw()),vT.wrapRegExp=bT("7.2.6")(zw());var ET=void 0;var wT=Object.create(null);function ST(e){if(!wT[e]){var t=vT[e];if(!t)throw Object.assign(new ReferenceError("Unknown helper "+e),{code:"BABEL_HELPER_UNKNOWN",helper:e});var r=function(){var r={ast:gl(t.ast())};return ET?new ET({filename:"babel-helper://"+e},r):r},n=function(e){var t,r,n=new Set,a=new Set,s=new Map,i=[],o=[],l=[],c={ImportDeclaration:function(e){var t=e.node.source.value;if(!vT[t])throw e.buildCodeFrameError("Unknown helper "+t);if(1!==e.get("specifiers").length||!e.get("specifiers.0").isImportDefaultSpecifier())throw e.buildCodeFrameError("Helpers can only import a default value");var r=e.node.specifiers[0].local;s.set(r,t),o.push(xT(e))},ExportDefaultDeclaration:function(e){var n=e.get("declaration");if(n.isFunctionDeclaration()){if(!n.node.id)throw n.buildCodeFrameError("Helpers should give names to their exported func declaration");t=n.node.id.name}r=xT(e)},ExportAllDeclaration:function(e){throw e.buildCodeFrameError("Helpers can only export default")},ExportNamedDeclaration:function(e){throw e.buildCodeFrameError("Helpers can only export default")},Statement:function(e){e.isModuleDeclaration()||e.skip()}},u={Program:function(e){var r=e.scope.getAllBindings();Object.keys(r).forEach(function(e){e!==t&&(s.has(r[e].identifier)||a.add(e))})},ReferencedIdentifier:function(e){var t=e.node.name,r=e.scope.getBinding(t,!0);r?s.has(r.identifier)&&l.push(xT(e)):n.add(t)},AssignmentExpression:function(e){var r=e.get("left");if(t in r.getBindingIdentifiers()){if(!r.isIdentifier())throw r.buildCodeFrameError("Only simple assignments to exports are allowed in helpers");var n=e.scope.getBinding(t);(null==n?void 0:n.scope.path.isProgram())&&i.push(xT(e))}}};if(Kw(e.ast,c,e.scope),Kw(e.ast,u,e.scope),!r)throw new Error("Helpers must default-export something.");return i.reverse(),{globals:Array.from(n),localBindingNames:Array.from(a),dependencies:s,exportBindingAssignments:i,exportPath:r,exportName:t,importBindingsReferences:l,importPaths:o}}(r());wT[e]={build:function(e,t,a){var s=r();return function(e,t,r,n,a){if(n&&!r)throw new Error("Unexpected local bindings for module-based helpers.");if(r){var s=t.localBindingNames,i=t.dependencies,o=t.exportBindingAssignments,l=t.exportPath,c=t.exportName,u=t.importBindingsReferences,p=t.importPaths,d={};i.forEach(function(e,t){d[t.name]="function"==typeof a&&a(e)||t});var f={},h=new Set(n||[]);s.forEach(function(e){for(var t=e;h.has(t);)t="_"+t;t!==e&&(f[e]=t)}),"Identifier"===r.type&&c!==r.name&&(f[c]=r.name);var m={Program:function(e){var t=e.get(l),n=p.map(function(t){return e.get(t)}),a=u.map(function(t){return e.get(t)}),s=t.get("declaration");if("Identifier"===r.type)s.isFunctionDeclaration()?t.replaceWith(s):t.replaceWith(Xl("var",[Jl(r,s.node)]));else{if("MemberExpression"!==r.type)throw new Error("Unexpected helper format.");s.isFunctionDeclaration()?(o.forEach(function(t){var n=e.get(t);n.replaceWith(rl("=",r,n.node))}),t.replaceWith(s),e.pushContainer("body",yl(rl("=",r,wl(c))))):t.replaceWith(yl(rl("=",r,s.node)))}Object.keys(f).forEach(function(t){e.scope.rename(t,f[t])});for(var i,h=U(n);!(i=h()).done;)i.value.remove();for(var m,y=U(a);!(m=y()).done;){var g=m.value,v=Gd(d[g.node.name]);g.replaceWith(v)}e.stop()}};Kw(e.ast,m,e.scope)}}(s,n,t,a,e),{nodes:s.ast.program.body,globals:n.globals}},minVersion:function(){return t.minVersion},dependencies:n.dependencies}}return wT[e]}function TT(e,t,r,n){return ST(e).build(t,r,n)}function jT(e,t){ET||(ET=t),ST(e)}var AT=Object.keys(vT).map(function(e){return e.replace(/^_/,"")}).filter(function(e){return"__esModule"!==e}),PT="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};function kT(e,t){var r={seen:[],stylize:DT};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),BT(t)?r.showHidden=t:t&&qT(r,t),LT(r.showHidden)&&(r.showHidden=!1),LT(r.depth)&&(r.depth=2),LT(r.colors)&&(r.colors=!1),LT(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=CT),_T(r,e,r.depth)}function CT(e,t){var r=kT.styles[t];return r?"["+kT.colors[r][0]+"m"+e+"["+kT.colors[r][1]+"m":e}function DT(e,t){return e}function _T(e,t,r){if(e.customInspect&&t&&KT(t.inspect)&&t.inspect!==kT&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return MT(n)||(n=_T(e,n,r)),n}var a=function(e,t){if(LT(t))return e.stylize("undefined","undefined");if(MT(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(RT(t))return e.stylize(""+t,"number");if(BT(t))return e.stylize(""+t,"boolean");if(FT(t))return e.stylize("null","null")}(e,t);if(a)return a;var s=Object.keys(t),i=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),GT(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return IT(t);if(0===s.length){if(KT(t)){var o=t.name?": "+t.name:"";return e.stylize("[Function"+o+"]","special")}if(UT(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(VT(t))return e.stylize(Date.prototype.toString.call(t),"date");if(GT(t))return IT(t)}var l,c="",u=!1,p=["{","}"];(NT(t)&&(u=!0,p=["[","]"]),KT(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return UT(t)&&(c=" "+RegExp.prototype.toString.call(t)),VT(t)&&(c=" "+Date.prototype.toUTCString.call(t)),GT(t)&&(c=" "+IT(t)),0!==s.length||u&&0!=t.length?r<0?UT(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=u?function(e,t,r,n,a){for(var s=[],i=0,o=t.length;i<o;++i)XT(t,String(i))?s.push(OT(e,t,r,n,String(i),!0)):s.push("");return a.forEach(function(a){a.match(/^\d+$/)||s.push(OT(e,t,r,n,a,!0))}),s}(e,t,r,i,s):s.map(function(n){return OT(e,t,r,i,n,u)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(l,c,p)):p[0]+c+p[1]}function IT(e){return"["+Error.prototype.toString.call(e)+"]"}function OT(e,t,r,n,a,s){var i,o,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),XT(n,a)||(i="["+a+"]"),o||(e.seen.indexOf(l.value)<0?(o=FT(r)?_T(e,l.value,null):_T(e,l.value,r-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),LT(i)){if(s&&a.match(/^\d+$/))return o;(i=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+o}function NT(e){return Array.isArray(e)}function BT(e){return"boolean"==typeof e}function FT(e){return null===e}function RT(e){return"number"==typeof e}function MT(e){return"string"==typeof e}function LT(e){return void 0===e}function UT(e){return WT(e)&&"[object RegExp]"===zT(e)}function WT(e){return"object"==typeof e&&null!==e}function VT(e){return WT(e)&&"[object Date]"===zT(e)}function GT(e){return WT(e)&&("[object Error]"===zT(e)||e instanceof Error)}function KT(e){return"function"==typeof e}function HT(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function zT(e){return Object.prototype.toString.call(e)}kT.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},kT.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function qT(e,t){if(!t||!WT(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function XT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var JT=PT;function YT(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,a=0,s=Math.min(r,n);a<s;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0}var $T,QT=Object.prototype.hasOwnProperty,ZT=Object.keys||function(e){var t=[];for(var r in e)QT.call(e,r)&&t.push(r);return t},ej=Array.prototype.slice;function tj(){return void 0!==$T?$T:$T="foo"===function(){}.name}function rj(e){return Object.prototype.toString.call(e)}function nj(e){return!lv(e)&&("function"==typeof Bs.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function aj(e,t){e||uj(e,!0,t,"==",pj)}var sj=/\s*function\s+([^\(\s]*)\s*/;function ij(e){if(KT(e)){if(tj())return e.name;var t=e.toString().match(sj);return t&&t[1]}}function oj(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return lj(cj(e.actual),128)+" "+e.operator+" "+lj(cj(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||uj;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,a=ij(t),s=n.indexOf("\n"+a);if(s>=0){var i=n.indexOf("\n",s+1);n=n.substring(i+1)}this.stack=n}}}function lj(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function cj(e){if(tj()||!KT(e))return kT(e);var t=ij(e);return"[Function"+(t?": "+t:"")+"]"}function uj(e,t,r,n,a){throw new oj({message:r,actual:e,expected:t,operator:n,stackStartFunction:a})}function pj(e,t){e||uj(e,!0,t,"==",pj)}function dj(e,t,r,n){if(e===t)return!0;if(lv(e)&&lv(t))return 0===YT(e,t);if(VT(e)&&VT(t))return e.getTime()===t.getTime();if(UT(e)&&UT(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(nj(e)&&nj(t)&&rj(e)===rj(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===YT(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(lv(e)!==lv(t))return!1;var a=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(HT(e)||HT(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=fj(e),s=fj(t);if(a&&!s||!a&&s)return!1;if(a)return dj(e=ej.call(e),t=ej.call(t),r);var i,o,l=ZT(e),c=ZT(t);if(l.length!==c.length)return!1;for(l.sort(),c.sort(),o=l.length-1;o>=0;o--)if(l[o]!==c[o])return!1
;for(o=l.length-1;o>=0;o--)if(!dj(e[i=l[o]],t[i],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function fj(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function hj(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function mj(e,t,r,n){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),a=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!a&&uj(a,r,"Missing expected exception"+n);var s="string"==typeof n,i=!e&&a&&!r;if((!e&&GT(a)&&s&&hj(a,r)||i)&&uj(a,r,"Got unwanted exception"+n),e&&a&&r&&!hj(a,r)||!e&&a)throw a}aj.AssertionError=oj,PT(oj,Error),aj.fail=uj,aj.ok=pj,aj.equal=function e(t,r,n){t!=r&&uj(t,r,n,"==",e)},aj.notEqual=function e(t,r,n){t==r&&uj(t,r,n,"!=",e)},aj.deepEqual=function e(t,r,n){dj(t,r,!1)||uj(t,r,n,"deepEqual",e)},aj.deepStrictEqual=function e(t,r,n){dj(t,r,!0)||uj(t,r,n,"deepStrictEqual",e)},aj.notDeepEqual=function e(t,r,n){dj(t,r,!1)&&uj(t,r,n,"notDeepEqual",e)},aj.notDeepStrictEqual=function e(t,r,n){dj(t,r,!0)&&uj(t,r,n,"notDeepStrictEqual",e)},aj.strictEqual=function e(t,r,n){t!==r&&uj(t,r,n,"===",e)},aj.notStrictEqual=function e(t,r,n){t===r&&uj(t,r,n,"!==",e)},aj.throws=function(e,t,r){mj(!0,e,t,r)},aj.doesNotThrow=function(e,t,r){mj(!1,e,t,r)},aj.ifError=function(e){if(e)throw e};var yj=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s};var gj=function(e,t,r){if(!tn(r))return!1;var n=typeof t;return!!("number"==n?xa(r)&&aa(t,r.length):"string"==n&&t in r)&&Tr(r[t],e)};var vj=function(e){return"symbol"==typeof e||Xn(e)&&"[object Symbol]"==en(e)},bj=/^\s+|\s+$/g,xj=/^[-+]0x[0-9a-f]+$/i,Ej=/^0b[01]+$/i,wj=/^0o[0-7]+$/i,Sj=parseInt;var Tj=function(e){if("number"==typeof e)return e;if(vj(e))return NaN;if(tn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(bj,"");var r=Ej.test(e);return r||wj.test(e)?Sj(e.slice(2),r?2:8):xj.test(e)?NaN:+e},jj=1/0;var Aj=function(e){return e?(e=Tj(e))===jj||e===-1/0?1.7976931348623157e308*(e<0?-1:1):e==e?e:0:0===e?e:0};var Pj=function(e){var t=Aj(e),r=t%1;return t==t?r?t-r:t:0},kj=Math.ceil,Cj=Math.max;var Dj=function(e,t,r){t=(r?gj(e,t,r):void 0===t)?1:Cj(Pj(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var a=0,s=0,i=Array(kj(n/t));a<n;)i[s++]=yj(e,a,a+=t);return i},_j=function(){function e(e,t,r){this._statements=[],this._resultName=null,this._scope=null,this._hub=null,this._scope=t,this._hub=r,this._importedSource=e}var t=e.prototype;return t.done=function(){return{statements:this._statements,resultName:this._resultName}},t.import=function(){return this._statements.push(cc([],jl(this._importedSource))),this},t.require=function(){return this._statements.push(yl(cl(wl("require"),[jl(this._importedSource)]))),this},t.namespace=function(e){void 0===e&&(e="namespace"),e=this._scope.generateUidIdentifier(e);var t=this._statements[this._statements.length-1];return aj("ImportDeclaration"===t.type),aj(0===t.specifiers.length),t.specifiers=[pc(e)],this._resultName=Gd(e),this},t.default=function(e){e=this._scope.generateUidIdentifier(e);var t=this._statements[this._statements.length-1];return aj("ImportDeclaration"===t.type),aj(0===t.specifiers.length),t.specifiers=[uc(e)],this._resultName=Gd(e),this},t.named=function(e,t){if("default"===t)return this.default(e);e=this._scope.generateUidIdentifier(e);var r=this._statements[this._statements.length-1];return aj("ImportDeclaration"===r.type),aj(0===r.specifiers.length),r.specifiers=[dc(e,wl(t))],this._resultName=Gd(e),this},t.var=function(e){e=this._scope.generateUidIdentifier(e);var t=this._statements[this._statements.length-1];return"ExpressionStatement"!==t.type&&(aj(this._resultName),t=yl(this._resultName),this._statements.push(t)),this._statements[this._statements.length-1]=Xl("var",[Jl(e,t.expression)]),this._resultName=Gd(e),this},t.defaultInterop=function(){return this._interop(this._hub.addHelper("interopRequireDefault"))},t.wildcardInterop=function(){return this._interop(this._hub.addHelper("interopRequireWildcard"))},t._interop=function(e){var t=this._statements[this._statements.length-1];return"ExpressionStatement"===t.type?t.expression=cl(e,[t.expression]):"VariableDeclaration"===t.type?(aj(1===t.declarations.length),t.declarations[0].init=cl(e,[t.declarations[0].init])):aj.fail("Unexpected type."),this},t.prop=function(e){var t=this._statements[this._statements.length-1];return"ExpressionStatement"===t.type?t.expression=_l(t.expression,wl(e)):"VariableDeclaration"===t.type?(aj(1===t.declarations.length),t.declarations[0].init=_l(t.declarations[0].init,wl(e))):aj.fail("Unexpected type:"+t.type),this},t.read=function(e){this._resultName=_l(this._resultName,wl(e))},e}();function Ij(e){var t=e.node.sourceType;if("module"!==t&&"script"!==t)throw e.buildCodeFrameError('Unknown sourceType "'+t+'", cannot transform.');return"module"===e.node.sourceType}var Oj=function(){function e(e,t,r){this._programPath=void 0,this._programScope=void 0,this._hub=void 0,this._defaultOpts={importedSource:null,importedType:"commonjs",importedInterop:"babel",importingInterop:"babel",ensureLiveReference:!1,ensureNoContext:!1};var n=e.find(function(e){return e.isProgram()});this._programPath=n,this._programScope=n.scope,this._hub=n.hub,this._defaultOpts=this._applyDefaults(t,r,!0)}var t=e.prototype;return t.addDefault=function(e,t){return this.addNamed("default",e,t)},t.addNamed=function(e,t,r){return aj("string"==typeof e),this._generateImport(this._applyDefaults(t,r),e)},t.addNamespace=function(e,t){return this._generateImport(this._applyDefaults(e,t),null)},t.addSideEffect=function(e,t){return this._generateImport(this._applyDefaults(e,t),!1)},t._applyDefaults=function(e,t,r){void 0===r&&(r=!1);var n=[];"string"==typeof e?(n.push({importedSource:e}),n.push(t)):(aj(!t,"Unexpected secondary arguments."),n.push(e));for(var a=Object.assign({},this._defaultOpts),s=function(){var e=o[i];if(!e)return"continue";Object.keys(a).forEach(function(t){void 0!==e[t]&&(a[t]=e[t])}),r||(void 0!==e.nameHint&&(a.nameHint=e.nameHint),void 0!==e.blockHoist&&(a.blockHoist=e.blockHoist))},i=0,o=n;i<o.length;i++)s();return a},t._generateImport=function(e,t){var r="default"===t,n=!!t&&!r,a=null===t,s=e.importedSource,i=e.importedType,o=e.importedInterop,l=e.importingInterop,c=e.ensureLiveReference,u=e.ensureNoContext,p=e.nameHint,d=e.blockHoist,f=p||t,h=Ij(this._programPath),m=h&&"node"===l,y=h&&"babel"===l,g=new _j(s,this._programScope,this._hub);if("es6"===i){if(!m&&!y)throw new Error("Cannot import an ES6 module from CommonJS");g.import(),a?g.namespace(p||s):(r||n)&&g.named(f,t)}else{if("commonjs"!==i)throw new Error('Unexpected interopType "'+i+'"');if("babel"===o)if(m){f="default"!==f?f:s;var v=s+"$es6Default";g.import(),a?g.default(v).var(f||s).wildcardInterop():r?c?g.default(v).var(f||s).defaultInterop().read("default"):g.default(v).var(f).defaultInterop().prop(t):n&&g.default(v).read(t)}else y?(g.import(),a?g.namespace(f||s):(r||n)&&g.named(f,t)):(g.require(),a?g.var(f||s).wildcardInterop():(r||n)&&c?r?(f="default"!==f?f:s,g.var(f).read(t),g.defaultInterop()):g.var(s).read(t):r?g.var(f).defaultInterop().prop(t):n&&g.var(f).prop(t));else if("compiled"===o)m?(g.import(),a?g.default(f||s):(r||n)&&g.default(s).read(f)):y?(g.import(),a?g.namespace(f||s):(r||n)&&g.named(f,t)):(g.require(),a?g.var(f||s):(r||n)&&(c?g.var(s).read(f):g.prop(t).var(f)));else{if("uncompiled"!==o)throw new Error('Unknown importedInterop "'+o+'".');if(r&&c)throw new Error("No live reference for commonjs default");m?(g.import(),a?g.default(f||s):r?g.default(f):n&&g.default(s).read(f)):y?(g.import(),a?g.default(f||s):r?g.default(f):n&&g.named(f,t)):(g.require(),a?g.var(f||s):r?g.var(f):n&&(c?g.var(s).read(f):g.var(f).prop(t)))}}var b=g.done(),x=b.statements,E=b.resultName;return this._insertStatements(x,d),(r||n)&&u&&"Identifier"!==E.type?Ll([Al(0),E]):E},t._insertStatements=function(e,t){void 0===t&&(t=3),e.forEach(function(e){e._blockHoist=t});var r=this._programPath.get("body").find(function(e){var t=e.node._blockHoist;return Number.isFinite(t)&&t<4});r?r.insertBefore(e):this._programPath.unshiftContainer("body",e)},e}();function Nj(e,t,r,n){return new Oj(e).addNamed(t,r,n)}var Bj=function(){function e(){this._map=new WeakMap}var t=e.prototype;return t.has=function(e){return this._map.has(e)},t.get=function(e){if(this.has(e)){var t=this._map.get(e),r=t.value;return t.count--,0===t.count?rl("=",r,e):r}},t.set=function(e,t,r){return this._map.set(e,{count:r,value:t})},e}();function Fj(e,t){var r=e.node;if(e.isOptionalMemberExpression())return _l(t,r.property,r.computed);if(e.isOptionalCallExpression()){var n=e.get("callee");if(e.node.optional&&n.isOptionalMemberExpression()){var a=n.node.object,s=e.scope.maybeGenerateMemoised(a)||a;return n.get("object").replaceWith(rl("=",s,a)),cl(_l(t,wl("call")),[s].concat(r.arguments))}return cl(t,r.arguments)}return e.node}var Rj,Mj={memoise:function(){},handle:function(e){var t=e.node,r=e.parent,n=e.parentPath,a=e.scope;if(e.isOptionalMemberExpression()){if(function(e){for(;e&&!e.isProgram();){var t=e,r=t.parentPath,n=t.container,a=t.listKey,s=r.node;if(a){if(n!==s[a])return!0}else if(n!==s)return!0;e=r}return!1}(e))return;var s=e.find(function(t){var r=t.node,n=t.parent,a=t.parentPath;return a.isOptionalMemberExpression()?n.optional||n.object!==r:!a.isOptionalCallExpression()||(r!==e.node&&n.optional||n.callee!==r)});if(a.path.isPattern())return void s.replaceWith(cl(ec([],s.node),[]));var i=s.parentPath;if(i.isUpdateExpression({argument:t})||i.isAssignmentExpression({left:t}))throw e.buildCodeFrameError("can't handle assignment");var o=i.isUnaryExpression({operator:"delete"});if(o&&s.isOptionalMemberExpression()&&s.get("property").isPrivateName())throw e.buildCodeFrameError("can't delete a private class element");for(var l=e;;)if(l.isOptionalMemberExpression()){if(l.node.optional)break;l=l.get("object")}else{if(!l.isOptionalCallExpression())throw new Error("Internal error: unexpected "+l.node.type);if(l.node.optional)break;l=l.get("callee")}var c=l.isOptionalMemberExpression()?"object":"callee",u=l.node[c],p=a.maybeGenerateMemoised(u),d=null!=p?p:u,f=n.isOptionalCallExpression({callee:t}),h=n.isCallExpression({callee:t});l.replaceWith(Fj(l,d)),f?r.optional?n.replaceWith(this.optionalCall(e,r.arguments)):n.replaceWith(this.call(e,r.arguments)):h?e.replaceWith(this.boundGet(e)):e.replaceWith(this.get(e));for(var m,y=e.node,g=e;g!==s;){var v=g.parentPath;if(v===s&&f&&r.optional){y=v.node;break}y=Fj(v,y),g=v}var b=s.parentPath;if(we(y)&&b.isOptionalCallExpression({callee:s.node,optional:!0})){var x=y.object;(m=e.scope.maybeGenerateMemoised(x))&&(y.object=rl("=",m,x))}var E=s;if(o&&(E=b,y=b.node),E.replaceWith(pl(Dl("||",nl("===",p?rl("=",Gd(d),Gd(u)):Gd(d),Pl()),nl("===",Gd(d),a.buildUndefinedNode())),o?kl(!0):a.buildUndefinedNode(),y)),m){var w=b.node;b.replaceWith(Pc(Ac(w.callee,wl("call"),!1,!0),[Gd(m)].concat(w.arguments),!1))}}else if(n.isUpdateExpression({argument:t})){if(this.simpleSet)return void e.replaceWith(this.simpleSet(e));var S=r.operator,T=r.prefix;this.memoise(e,2);var j=nl(S[0],zl("+",this.get(e)),Al(1));if(T)n.replaceWith(this.set(e,j));else{var A=e.scope,P=A.generateUidIdentifierBasedOnNode(t);A.push({id:P}),j.left=rl("=",Gd(P),j.left),n.replaceWith(Ll([this.set(e,j),Gd(P)]))}}else if(n.isAssignmentExpression({left:t})){if(this.simpleSet)return void e.replaceWith(this.simpleSet(e));var k=r.operator,C=r.right;if("="===k)n.replaceWith(this.set(e,C));else{var D=k.slice(0,-1);Oi.includes(D)?(this.memoise(e,1),n.replaceWith(Dl(D,this.get(e),this.set(e,C)))):(this.memoise(e,2),n.replaceWith(this.set(e,nl(D,this.get(e),C))))}}else{if(!n.isCallExpression({callee:t}))return n.isOptionalCallExpression({callee:t})?a.path.isPattern()?void n.replaceWith(cl(ec([],n.node),[])):void n.replaceWith(this.optionalCall(e,r.arguments)):void(n.isForXStatement({left:t})||n.isObjectProperty({value:t})&&n.parentPath.isObjectPattern()||n.isAssignmentPattern({left:t})&&n.parentPath.isObjectProperty({value:r})&&n.parentPath.parentPath.isObjectPattern()||n.isArrayPattern()||n.isAssignmentPattern({left:t})&&n.parentPath.isArrayPattern()||n.isRestElement()?e.replaceWith(this.destructureSet(e)):e.replaceWith(this.get(e)));n.replaceWith(this.call(e,r.arguments))}}};function Lj(e,t,r){e.traverse(t,Object.assign({},Mj,r,{memoiser:new Bj}))}function Uj(e,t,r,n){return 1===r.length&&tt(r[0])&&he(r[0].argument,{name:"arguments"})?cl(_l(e,wl("apply")),[t,r[0].argument]):n?Pc(Ac(e,wl("call"),!1,!0),[t].concat(r),!1):cl(_l(e,wl("call")),[t].concat(r))}function Wj(e,t,r,n){e=Gd(e);var a=t||n?e:_l(e,wl("prototype"));return cl(r.addHelper("getPrototypeOf"),[a])}var Vj=((Rj={})[(gp?"StaticBlock|":"")+"ClassPrivateProperty|TypeAnnotation"]=function(e){e.skip()},Rj.Function=function(e){e.isMethod()||e.isArrowFunctionExpression()||e.skip()},Rj["Method|ClassProperty"]=function(e){!function(e){if(e.node.computed)for(var t,r=U(Qi[e.type]);!(t=r()).done;){var n=t.value;"key"!==n&&e.skipKey(n)}else e.skip()}(e)},Rj),Gj=Kw.visitors.merge([Vj,{Super:function(e,t){var r=e.node,n=e.parentPath;n.isMemberExpression({object:r})&&t.handle(n)}}]),Kj={memoise:function(e,t){var r=e.scope,n=e.node,a=n.computed,s=n.property;if(a){var i=r.maybeGenerateMemoised(s);i&&this.memoiser.set(s,i,t)}},prop:function(e){var t=e.node,r=t.computed,n=t.property;return this.memoiser.has(n)?Gd(this.memoiser.get(n)):r?Gd(n):jl(n.name)},get:function(e){return this._get(e,this._getThisRefs())},_get:function(e,t){var r=Wj(this.getObjectRef(),this.isStatic,this.file,this.isPrivateMethod);return cl(this.file.addHelper("get"),[t.memo?Ll([t.memo,r]):r,this.prop(e),t.this])},_getThisRefs:function(){if(!this.isDerivedConstructor)return{this:Gl()};var e=this.scope.generateDeclaredUidIdentifier("thisSuper");return{memo:rl("=",e,Gl()),this:Gd(e)}},set:function(e,t){var r=this._getThisRefs(),n=Wj(this.getObjectRef(),this.isStatic,this.file,this.isPrivateMethod);return cl(this.file.addHelper("set"),[r.memo?Ll([r.memo,n]):n,this.prop(e),t,r.this,kl(e.isInStrictMode())])},destructureSet:function(e){throw e.buildCodeFrameError("Destructuring to a super field is not supported yet.")},call:function(e,t){var r=this._getThisRefs();return Uj(this._get(e,r),Gd(r.this),t,!1)}},Hj=Object.assign({},Kj,{prop:function(e){var t=e.node.property;return this.memoiser.has(t)?Gd(this.memoiser.get(t)):Gd(t)},get:function(e){var t,r=this.isStatic,n=this.superRef,a=e.node.computed,s=this.prop(e);return t=r?n?Gd(n):_l(wl("Function"),wl("prototype")):_l(n?Gd(n):wl("Object"),wl("prototype")),_l(t,s,a)},set:function(e,t){var r=e.node.computed,n=this.prop(e);return rl("=",_l(Gl(),n,r),t)},destructureSet:function(e){var t=e.node.computed,r=this.prop(e);return _l(Gl(),r,t)},call:function(e,t){return Uj(this.get(e),Gl(),t,!1)}}),zj=function(){function e(e){this.file=void 0,this.isDerivedConstructor=void 0,this.isLoose=void 0,this.isPrivateMethod=void 0,this.isStatic=void 0,this.methodPath=void 0,this.opts=void 0,this.superRef=void 0;var t=e.methodPath;this.methodPath=t,this.isDerivedConstructor=t.isClassMethod({kind:"constructor"})&&!!e.superRef,this.isStatic=t.isObjectMethod()||t.node.static,this.isPrivateMethod=t.isPrivate()&&t.isMethod(),this.file=e.file,this.superRef=e.superRef,this.isLoose=e.isLoose,this.opts=e}var t=e.prototype;return t.getObjectRef=function(){return Gd(this.opts.objectRef||this.opts.getObjectRef())},t.replace=function(){var e=this.isLoose?Hj:Kj;Lj(this.methodPath,Gj,Object.assign({file:this.file,scope:this.methodPath.scope,isDerivedConstructor:this.isDerivedConstructor,isStatic:this.isStatic,isPrivateMethod:this.isPrivateMethod,getObjectRef:this.getObjectRef.bind(this),superRef:this.superRef},e))},e}();function qj(e){Kw(e.node,Object.assign({},Xj,{noScope:!0}))}var Xj=Kw.visitors.merge([Vj,{ThisExpression:function(e){e.replaceWith(zl("void",Al(0),!0))}}]);function Jj(e,t){e.traverse(Yj,{scope:e.scope,bindingNames:t,seen:new WeakSet})}var Yj={UpdateExpression:{exit:function(e){var t=this.scope,r=this.bindingNames,n=e.get("argument");if(n.isIdentifier()){var a=n.node.name;if(r.has(a)&&t.getBinding(a)===e.scope.getBinding(a))if(e.parentPath.isExpressionStatement()&&!e.isCompletionRecord()){var s="++"==e.node.operator?"+=":"-=";e.replaceWith(rl(s,n.node,Al(1)))}else if(e.node.prefix)e.replaceWith(rl("=",wl(a),nl(e.node.operator[0],zl("+",n.node),Al(1))));else{var i=e.scope.generateUidIdentifierBasedOnNode(n.node,"old"),o=i.name;e.scope.push({id:i});var l=nl(e.node.operator[0],wl(o),Al(1));e.replaceWith(Ll([rl("=",wl(o),zl("+",n.node)),rl("=",Gd(n.node),l),wl(o)]))}}}},AssignmentExpression:{exit:function(e){var t=this.scope,r=this.seen,n=this.bindingNames;if("="!==e.node.operator&&!r.has(e.node)){r.add(e.node);var a=e.get("left");if(a.isIdentifier()){var s=a.node.name;n.has(s)&&t.getBinding(s)===e.scope.getBinding(s)&&(e.node.right=nl(e.node.operator.slice(0,-1),Gd(e.node.left),e.node.right),e.node.operator="=")}}}}};function $j(){var e=P(["\n    (function() {\n      throw new Error('\"' + '","' + '\" is read-only.');\n    })()\n  "]);return $j=function(){return e},e}var Qj={Scope:function(e){e.skip()},ClassDeclaration:function(e){var t=this.requeueInParent,r=this.exported,n=this.metadata,a=e.node.id;if(!a)throw new Error("Expected class to have a name");var s=a.name,i=r.get(s)||[];if(i.length>0){var o=yl(Zj(n,i,wl(s)));o._blockHoist=e.node._blockHoist,t(e.insertAfter(o)[0])}},VariableDeclaration:function(e){var t=this.requeueInParent,r=this.exported,n=this.metadata;Object.keys(e.getOuterBindingIdentifiers()).forEach(function(a){var s=r.get(a)||[];if(s.length>0){var i=yl(Zj(n,s,wl(a)));i._blockHoist=e.node._blockHoist,t(e.insertAfter(i)[0])}})}},Zj=function(e,t,r){return(t||[]).reduce(function(t,r){var n=e.stringSpecifiers.has(r);return rl("=",_l(wl(e.exportName),n?jl(r):wl(r),n),t)},r)},eA=function(e){return JE.expression.ast($j(),e)},tA={ReferencedIdentifier:function(e){var t=this.seen,r=this.buildImportReference,n=this.scope,a=this.imported,s=this.requeueInParent;if(!t.has(e.node)){t.add(e.node);var i=e.node.name,o=e.scope.getBinding(i);if(n.getBinding(i)===o){var l=a.get(i);if(l){var c=r(l,e.node);if(c.loc=e.node.loc,(e.parentPath.isCallExpression({callee:e.node})||e.parentPath.isOptionalCallExpression({callee:e.node})||e.parentPath.isTaggedTemplateExpression({tag:e.node}))&&we(c))e.replaceWith(Ll([Al(0),c]));else if(e.isJSXIdentifier()&&we(c)){var u=c.object,p=c.property;e.replaceWith(Ku(Gu(u.name),Gu(p.name)))}else e.replaceWith(c);s(e),e.skip()}}}},AssignmentExpression:{exit:function(e){var t=this,r=this.scope,n=this.seen,a=this.imported,s=this.exported,i=this.requeueInParent,o=this.buildImportReference;if(!n.has(e.node)){n.add(e.node);var l=e.get("left");if(!l.isMemberExpression())if(l.isIdentifier()){var c=l.node.name;if(r.getBinding(c)!==e.scope.getBinding(c))return;var u=s.get(c),p=a.get(c);if((null==u?void 0:u.length)>0||p){aj("="===e.node.operator,"Path was not simplified");var d=e.node;p&&(d.left=o(p,d.left),d.right=Ll([d.right,eA(c)])),e.replaceWith(Zj(this.metadata,u,d)),i(e)}}else{var f=l.getOuterBindingIdentifiers(),h=Object.keys(f).filter(function(t){return r.getBinding(t)===e.scope.getBinding(t)}),m=h.find(function(e){return a.has(e)});m&&(e.node.right=Ll([e.node.right,eA(m)]));var y=[];if(h.forEach(function(e){var r=s.get(e)||[];r.length>0&&y.push(Zj(t.metadata,r,wl(e)))}),y.length>0){var g=Ll(y);e.parentPath.isExpressionStatement()&&((g=yl(g))._blockHoist=e.parentPath.node._blockHoist),i(e.insertAfter(g)[0])}}}}},"ForOfStatement|ForInStatement":function(e){var t=e.scope,r=e.node.left,n=this.exported,a=this.scope;if(!Fe(r)){for(var s=!1,i=e.get("body"),o=i.scope,l=0,c=Object.keys(vh(r));l<c.length;l++){var u=c[l];n.get(u)&&a.getBinding(u)===t.getBinding(u)&&(s=!0,o.hasOwnBinding(u)&&o.rename(u))}if(!s)return;var p=t.generateUidIdentifierBasedOnNode(r);i.unshiftContainer("body",yl(rl("=",r,p))),e.get("left").replaceWith(Xl("let",[Jl(Gd(p))])),t.registerDeclaration(e.get("left"))}}};function rA(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var nA=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,aA=function(e){return nA.exec(e).slice(1)};function sA(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=rA(pA(e.split("/"),function(e){return!!e}),!t).join("/"))||"."}function iA(e){var t=oA(e),r="/"===dA(e,-1);return(e=rA(pA(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function oA(e){return"/"===e.charAt(0)}function lA(e,t){var r=aA(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r}function cA(e){return aA(e)[3]}var uA={extname:cA,basename:lA,dirname:function(e){var t=aA(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},sep:"/",delimiter:":",relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=sA(e).substr(1),t=sA(t).substr(1);for(var n=r(e.split("/")),a=r(t.split("/")),s=Math.min(n.length,a.length),i=s,o=0;o<s;o++)if(n[o]!==a[o]){i=o;break}var l=[];for(o=i;o<n.length;o++)l.push("..");return(l=l.concat(a.slice(i))).join("/")},join:function(){var e=Array.prototype.slice.call(arguments,0);return iA(pA(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},isAbsolute:oA,normalize:iA,resolve:sA};function pA(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var dA="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)};function fA(e){return e.hasExports}function hA(e){return 0===e.imports.size&&0===e.importsNamespace.size&&0===e.reexports.size&&0===e.reexportNamespace.size&&!e.reexportAll}function mA(e,t,r){var n=void 0===r?{}:r,a=n.noInterop,s=void 0!==a&&a,i=n.loose,o=void 0!==i&&i,l=n.lazy,c=void 0!==l&&l,u=n.esNamespaceOnly,p=void 0!==u&&u;t||(t=e.scope.generateUidIdentifier("exports").name);var d=new Set;!function(e){e.get("body").forEach(function(e){e.isExportDefaultDeclaration()&&Qh(e)})}(e);var f=function(e,t,r){var n=t.loose,a=t.lazy,s=function(e,t,r){var n=new Map;e.get("body").forEach(function(e){var r;if(e.isImportDeclaration())r="import";else{if(e.isExportDefaultDeclaration()&&(e=e.get("declaration")),e.isExportNamedDeclaration())if(e.node.declaration)e=e.get("declaration");else if(t&&e.node.source&&e.get("source").isStringLiteral())return void e.node.specifiers.forEach(function(e){n.set(e.local.name,"block")});if(e.isFunctionDeclaration())r="hoisted";else if(e.isClassDeclaration())r="block";else if(e.isVariableDeclaration({kind:"var"}))r="var";else{if(!e.isVariableDeclaration())return;r="block"}}Object.keys(e.getOuterBindingIdentifiers()).forEach(function(e){n.set(e,r)})});var a=new Map,s=function(e){var t=e.node.name,r=a.get(t);if(!r){var s=n.get(t);if(void 0===s)throw e.buildCodeFrameError('Exporting local "'+t+'", which is not declared.');r={names:[],kind:s},a.set(t,r)}return r};return e.get("body").forEach(function(e){if(!e.isExportNamedDeclaration()||!t&&e.node.source){if(e.isExportDefaultDeclaration()){var n=e.get("declaration");if(!n.isFunctionDeclaration()&&!n.isClassDeclaration())throw n.buildCodeFrameError("Unexpected default expression export.");s(n.get("id")).names.push("default")}}else if(e.node.declaration){var a=e.get("declaration"),i=a.getOuterBindingIdentifierPaths();Object.keys(i).forEach(function(e){if("__esModule"===e)throw a.buildCodeFrameError('Illegal export "__esModule".');s(i[e]).names.push(e)})}else e.get("specifiers").forEach(function(e){var t=e.get("local"),n=e.get("exported"),a=s(t),i=yA(n,r);if("__esModule"===i)throw n.buildCodeFrameError('Illegal export "__esModule".');a.names.push(i)})}),a}(e,n,r),i=new Map,o=function(t){var r=t.value,n=i.get(r);return n||(n={name:e.scope.generateUidIdentifier(lA(r,cA(r))).name,interop:"none",loc:null,imports:new Map,importsNamespace:new Set,reexports:new Map,reexportNamespace:new Set,reexportAll:null,lazy:!1},i.set(r,n)),n},l=!1;e.get("body").forEach(function(e){if(e.isImportDeclaration()){var t=o(e.node.source);t.loc||(t.loc=e.node.loc),e.get("specifiers").forEach(function(e){if(e.isImportDefaultSpecifier()){var n=e.get("local").node.name;t.imports.set(n,"default");var a=s.get(n);a&&(s.delete(n),a.names.forEach(function(e){t.reexports.set(e,"default")}))}else if(e.isImportNamespaceSpecifier()){var i=e.get("local").node.name;t.importsNamespace.add(i);var o=s.get(i);o&&(s.delete(i),o.names.forEach(function(e){t.reexportNamespace.add(e)}))}else if(e.isImportSpecifier()){var l=yA(e.get("imported"),r),c=e.get("local").node.name;t.imports.set(c,l);var u=s.get(c);u&&(s.delete(c),u.names.forEach(function(e){t.reexports.set(e,l)}))}})}else if(e.isExportAllDeclaration()){l=!0;var n=o(e.node.source);n.loc||(n.loc=e.node.loc),n.reexportAll={loc:e.node.loc}}else if(e.isExportNamedDeclaration()&&e.node.source){l=!0;var a=o(e.node.source);a.loc||(a.loc=e.node.loc),e.get("specifiers").forEach(function(e){if(!e.isExportSpecifier())throw e.buildCodeFrameError("Unexpected export specifier type");var t=yA(e.get("local"),r),n=yA(e.get("exported"),r);if(a.reexports.set(n,t),"__esModule"===n)throw n.buildCodeFrameError('Illegal export "__esModule".')})}else(e.isExportNamedDeclaration()||e.isExportDefaultDeclaration())&&(l=!0)});for(var c,u=U(i.values());!(c=u()).done;){var p=c.value,d=!1,f=!1;p.importsNamespace.size>0&&(d=!0,f=!0),p.reexportAll&&(f=!0);for(var h,m=U(p.imports.values());!(h=m()).done;){"default"===h.value?d=!0:f=!0}for(var y,g=U(p.reexports.values());!(y=g()).done;){"default"===y.value?d=!0:f=!0}d&&f?p.interop="namespace":d&&(p.interop="default")}for(var v,b=U(i);!(v=b()).done;){var x=v.value,E=x[0],w=x[1];if(!1!==a&&!hA(w)&&!w.reexportAll)if(!0===a)w.lazy=!/\./.test(E);else if(Array.isArray(a))w.lazy=-1!==a.indexOf(E);else{if("function"!=typeof a)throw new Error(".lazy must be a boolean, string array, or function");w.lazy=a(E)}}return{hasExports:l,local:s,source:i}}(e,{loose:o,lazy:c},d),h=f.local,m=f.source,y=f.hasExports;!function(e){e.get("body").forEach(function(e){if(e.isImportDeclaration())e.remove();else if(e.isExportNamedDeclaration())e.node.declaration?(e.node.declaration._blockHoist=e.node._blockHoist,e.replaceWith(e.node.declaration)):e.remove();else if(e.isExportDefaultDeclaration()){var t=e.get("declaration");if(!t.isFunctionDeclaration()&&!t.isClassDeclaration())throw t.buildCodeFrameError("Unexpected default expression export.");t._blockHoist=e.node._blockHoist,e.replaceWith(t)}else e.isExportAllDeclaration()&&e.remove()})}(e);for(var g,v=U(m);!(g=v()).done;){var b=g.value[1];b.importsNamespace.size>0&&(b.name=b.importsNamespace.values().next().value),s?b.interop="none":p&&"namespace"===b.interop&&(b.interop="default")}return{exportName:t,exportNameListName:null,hasExports:y,local:h,source:m,stringSpecifiers:d}}function yA(e,t){if(e.isIdentifier())return e.node.name;if(e.isStringLiteral()){var r=e.node.value;return vi(r)||t.add(r),r}throw new Error("Expected export specifier to be either Identifier or StringLiteral, got "+e.node.type)}function gA(e,t){var r,n,a,s=e.filename,i=e.filenameRelative,o=void 0===i?s:i,l=e.sourceRoot,c=void 0===l?null!=(r=t.moduleRoot)?r:e.moduleRoot:l,u=t.moduleId,p=void 0===u?e.moduleId:u,d=t.moduleIds,f=void 0===d?null!=(n=e.moduleIds)?n:!!p:d,h=t.getModuleId,m=void 0===h?e.getModuleId:h,y=t.moduleRoot,g=void 0===y?null!=(a=e.moduleRoot)?a:c:y;if(!f)return null;if(null!=p&&!m)return p;var v=null!=g?g+"/":"";if(o){var b=null!=c?new RegExp("^"+c+"/?"):"";v+=o.replace(b,"").replace(/\.(\w*?)$/,"")}return v=v.replace(/\\/g,"/"),m&&m(v)||v}function vA(){var e=P(["EXPORTS.NAME = VALUE"]);return vA=function(){return e},e}function bA(){var e=P(['EXPORTS["NAME"] = VALUE']);return bA=function(){return e},e}function xA(){var e=P(["\n            if (Object.prototype.hasOwnProperty.call(EXPORTS_LIST, key)) return;\n          "]);return xA=function(){return e},e}function EA(){var e=P(['\n        Object.keys(NAMESPACE).forEach(function(key) {\n          if (key === "default" || key === "__esModule") return;\n          VERIFY_NAME_LIST;\n          if (key in EXPORTS && EXPORTS[key] === NAMESPACE[key]) return;\n\n          Object.defineProperty(EXPORTS, key, {\n            enumerable: true,\n            get: function() {\n              return NAMESPACE[key];\n            },\n          });\n        });\n    ']);return EA=function(){return e},e}function wA(){var e=P(['\n        Object.keys(NAMESPACE).forEach(function(key) {\n          if (key === "default" || key === "__esModule") return;\n          VERIFY_NAME_LIST;\n          if (key in EXPORTS && EXPORTS[key] === NAMESPACE[key]) return;\n\n          EXPORTS[key] = NAMESPACE[key];\n        });\n      ']);return wA=function(){return e},e}function SA(){var e=P(['\n        Object.defineProperty(EXPORTS, "__esModule", {\n          value: true,\n        });\n      ']);return SA=function(){return e},e}function TA(){var e=P(["\n        EXPORTS.__esModule = true;\n      "]);return TA=function(){return e},e}function jA(){var e=P(['\n    Object.defineProperty(EXPORTS, "EXPORT_NAME", {\n      enumerable: true,\n      get: function() {\n        return NAMESPACE_IMPORT;\n      },\n    });\n    ']);return jA=function(){return e},e}function AA(){var e=P(['EXPORTS["EXPORT_NAME"] = NAMESPACE_IMPORT;']);return AA=function(){return e},e}function PA(){var e=P(["EXPORTS.EXPORT_NAME = NAMESPACE_IMPORT;"]);return PA=function(){return e},e}function kA(){var e=P(["EXPORTS.NAME = NAMESPACE;"]);return kA=function(){return e},e}function CA(){var e=P(['\n            Object.defineProperty(EXPORTS, "NAME", {\n              enumerable: true,\n              get: function() {\n                return NAMESPACE;\n              }\n            });\n          ']);return CA=function(){return e},e}function DA(){var e=P(["var NAME = SOURCE;"]);return DA=function(){return e},e}function _A(e,t){var r=t.exportName,n=t.strict,a=t.allowTopLevelThis,s=t.strictMode,i=t.loose,o=t.noInterop,l=t.lazy,c=t.esNamespaceOnly;aj(Ij(e),"Cannot process module statements in a script"),e.node.sourceType="script";var u=mA(e,r,{noInterop:o,loose:i,lazy:l,esNamespaceOnly:c});(a||qj(e),function(e,t){for(var r,n=new Map,a=new Map,s=function(t){e.requeue(t)},i=U(t.source);!(r=i()).done;){for(var o,l=r.value,c=l[0],u=l[1],p=U(u.imports);!(o=p()).done;){var d=o.value,f=d[0],h=d[1];n.set(f,[c,h,null])}for(var m,y=U(u.importsNamespace);!(m=y()).done;){var g=m.value;n.set(g,[c,null,g])}}for(var v,b=U(t.local);!(v=b()).done;){var x,E=v.value,w=E[0],S=E[1],T=a.get(w);T||(T=[],a.set(w,T)),(x=T).push.apply(x,S.names)}e.traverse(Qj,{metadata:t,requeueInParent:s,scope:e.scope,exported:a}),Jj(e,new Set([].concat(Array.from(n.keys()),Array.from(a.keys())))),e.traverse(tA,{seen:new WeakSet,metadata:t,requeueInParent:s,scope:e.scope,imported:n,exported:a,buildImportReference:function(e,r){var n=e[0],a=e[1],s=e[2],i=t.source.get(n);if(s)return i.lazy&&(r=cl(r,[])),r;var o=wl(i.name);i.lazy&&(o=cl(o,[]));var l=t.stringSpecifiers.has(a);return _l(o,l?jl(a):wl(a),l)}})}(e,u),!1!==s)&&(e.node.directives.some(function(e){return"use strict"===e.value.value})||e.unshiftContainer("directives",sl(il("use strict"))));var p=[];fA(u)&&!n&&p.push(function(e,t){void 0===t&&(t=!1)
;return(t?JE.statement(TA()):JE.statement(SA()))({EXPORTS:e.exportName})}(u,i));var d=function(e,t){for(var r,n=Object.create(null),a=U(t.local.values());!(r=a()).done;)for(var s,i=U(r.value.names);!(s=i()).done;){n[s.value]=!0}for(var o,l=!1,c=U(t.source.values());!(o=c()).done;){for(var u,p=o.value,d=U(p.reexports.keys());!(u=d()).done;){n[u.value]=!0}for(var f,h=U(p.reexportNamespace);!(f=h()).done;){n[f.value]=!0}l=l||p.reexportAll}if(!l||0===Object.keys(n).length)return null;var m=e.scope.generateUidIdentifier("exportNames");return delete n.default,{name:m.name,statement:Xl("var",[Jl(m,yh(n))])}}(e,u);return d&&(u.exportNameListName=d.name,p.push(d.statement)),p.push.apply(p,function(e,t,r){void 0===r&&(r=!1);for(var n,a=[],s=[],i=U(t.local);!(n=i()).done;){var o=n.value,l=o[0],c=o[1];"import"===c.kind||("hoisted"===c.kind?a.push(MA(t,c.names,wl(l))):s.push.apply(s,c.names))}for(var u,p=U(t.source.values());!(u=p()).done;){var d=u.value;r||a.push.apply(a,FA(t,d,r));for(var f,h=U(d.reexportNamespace);!(f=h()).done;){var m=f.value;s.push(m)}}return a.push.apply(a,Dj(s,100).map(function(r){return MA(t,r,e.scope.buildUndefinedNode())})),a}(e,u,i)),{meta:u,headers:p}}function IA(e){e.forEach(function(e){e._blockHoist=3})}function OA(e,t,r){if("none"===r)return null;var n;if("default"===r)n="interopRequireDefault";else{if("namespace"!==r)throw new Error("Unknown interop: "+r);n="interopRequireWildcard"}return cl(e.hub.addHelper(n),[t])}function NA(e,t,r){void 0===r&&(r=!1);var n=[],a=wl(t.name);t.lazy&&(a=cl(a,[]));for(var s,i=U(t.importsNamespace);!(s=i()).done;){var o=s.value;o!==t.name&&n.push(JE.statement(DA())({NAME:o,SOURCE:Gd(a)}))}r&&n.push.apply(n,FA(e,t,r));for(var l,c=U(t.reexportNamespace);!(l=c()).done;){var u=l.value;n.push((t.lazy?JE.statement(CA()):JE.statement(kA()))({EXPORTS:e.exportName,NAME:u,NAMESPACE:Gd(a)}))}if(t.reexportAll){var p=function(e,t,r){return(r?JE.statement(wA()):JE.statement(EA()))({NAMESPACE:t,EXPORTS:e.exportName,VERIFY_NAME_LIST:e.exportNameListName?JE(xA())({EXPORTS_LIST:e.exportNameListName}):null})}(e,Gd(a),r);p.loc=t.reexportAll.loc,n.push(p)}return n}var BA={loose:JE.statement(PA()),looseComputed:JE.statement(AA()),spec:JE(jA())},FA=function(e,t,r){var n=t.lazy?cl(wl(t.name),[]):wl(t.name),a=e.stringSpecifiers;return Array.from(t.reexports,function(t){var s,i=t[0],o=t[1];s=a.has(o)?_l(Gd(n),jl(o),!0):s=_l(Gd(n),wl(o));var l={EXPORTS:e.exportName,EXPORT_NAME:i,NAMESPACE_IMPORT:s};return r?a.has(i)?BA.looseComputed(l):BA.loose(l):BA.spec(l)})};var RA={computed:JE.expression(bA()),default:JE.expression(vA())};function MA(e,t,r){var n=e.stringSpecifiers,a=e.exportName;return yl(t.reduce(function(e,t){var r={EXPORTS:a,NAME:t,VALUE:e};return n.has(t)?RA.computed(r):RA.default(r)},r))}var LA=Lr(function(e,t){var r;t=e.exports=z,r="object"==typeof si&&si.env&&si.env.NODE_DEBUG&&/\bsemver\b/i.test(si.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,a=t.re=[],s=t.src=[],i=0,o=i++;s[o]="0|[1-9]\\d*";var l=i++;s[l]="[0-9]+";var c=i++;s[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=i++;s[u]="("+s[o]+")\\.("+s[o]+")\\.("+s[o]+")";var p=i++;s[p]="("+s[l]+")\\.("+s[l]+")\\.("+s[l]+")";var d=i++;s[d]="(?:"+s[o]+"|"+s[c]+")";var f=i++;s[f]="(?:"+s[l]+"|"+s[c]+")";var h=i++;s[h]="(?:-("+s[d]+"(?:\\."+s[d]+")*))";var m=i++;s[m]="(?:-?("+s[f]+"(?:\\."+s[f]+")*))";var y=i++;s[y]="[0-9A-Za-z-]+";var g=i++;s[g]="(?:\\+("+s[y]+"(?:\\."+s[y]+")*))";var v=i++,b="v?"+s[u]+s[h]+"?"+s[g]+"?";s[v]="^"+b+"$";var x="[v=\\s]*"+s[p]+s[m]+"?"+s[g]+"?",E=i++;s[E]="^"+x+"$";var w=i++;s[w]="((?:<|>)?=?)";var S=i++;s[S]=s[l]+"|x|X|\\*";var T=i++;s[T]=s[o]+"|x|X|\\*";var j=i++;s[j]="[v=\\s]*("+s[T]+")(?:\\.("+s[T]+")(?:\\.("+s[T]+")(?:"+s[h]+")?"+s[g]+"?)?)?";var A=i++;s[A]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[m]+")?"+s[g]+"?)?)?";var P=i++;s[P]="^"+s[w]+"\\s*"+s[j]+"$";var k=i++;s[k]="^"+s[w]+"\\s*"+s[A]+"$";var C=i++;s[C]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var D=i++;s[D]="(?:~>?)";var _=i++;s[_]="(\\s*)"+s[D]+"\\s+",a[_]=new RegExp(s[_],"g");var I=i++;s[I]="^"+s[D]+s[j]+"$";var O=i++;s[O]="^"+s[D]+s[A]+"$";var N=i++;s[N]="(?:\\^)";var B=i++;s[B]="(\\s*)"+s[N]+"\\s+",a[B]=new RegExp(s[B],"g");var F=i++;s[F]="^"+s[N]+s[j]+"$";var R=i++;s[R]="^"+s[N]+s[A]+"$";var M=i++;s[M]="^"+s[w]+"\\s*("+x+")$|^$";var L=i++;s[L]="^"+s[w]+"\\s*("+b+")$|^$";var U=i++;s[U]="(\\s*)"+s[w]+"\\s*("+x+"|"+s[j]+")",a[U]=new RegExp(s[U],"g");var W=i++;s[W]="^\\s*("+s[j]+")\\s+-\\s+("+s[j]+")\\s*$";var V=i++;s[V]="^\\s*("+s[A]+")\\s+-\\s+("+s[A]+")\\s*$";var G=i++;s[G]="(<|>)?=?\\s*\\*";for(var K=0;K<35;K++)r(K,s[K]),a[K]||(a[K]=new RegExp(s[K]));function H(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?a[E]:a[v]).test(e))return null;try{return new z(e,t)}catch(e){return null}}function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof z))return new z(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?a[E]:a[v]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=H,t.valid=function(e,t){var r=H(e,t);return r?r.version:null},t.clean=function(e,t){var r=H(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=z,z.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},z.prototype.toString=function(){return this.version},z.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof z||(e=new z(e,this.options)),this.compareMain(e)||this.comparePre(e)},z.prototype.compareMain=function(e){return e instanceof z||(e=new z(e,this.options)),X(this.major,e.major)||X(this.minor,e.minor)||X(this.patch,e.patch)},z.prototype.comparePre=function(e){if(e instanceof z||(e=new z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return X(n,a)}while(++t)},z.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new z(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Q(e,t))return null;var r=H(e),n=H(t),a="";if(r.prerelease.length||n.prerelease.length){a="pre";var s="prerelease"}for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return a+i;return s},t.compareIdentifiers=X;var q=/^[0-9]+$/;function X(e,t){var r=q.test(e),n=q.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function J(e,t,r){return new z(e,r).compare(new z(t,r))}function Y(e,t,r){return J(e,t,r)>0}function $(e,t,r){return J(e,t,r)<0}function Q(e,t,r){return 0===J(e,t,r)}function Z(e,t,r){return 0!==J(e,t,r)}function ee(e,t,r){return J(e,t,r)>=0}function te(e,t,r){return J(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return Q(e,r,n);case"!=":return Z(e,r,n);case">":return Y(e,r,n);case">=":return ee(e,r,n);case"<":return $(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ae?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return X(t,e)},t.major=function(e,t){return new z(e,t).major},t.minor=function(e,t){return new z(e,t).minor},t.patch=function(e,t){return new z(e,t).patch},t.compare=J,t.compareLoose=function(e,t){return J(e,t,!0)},t.rcompare=function(e,t,r){return J(t,e,r)},t.sort=function(e,r){return e.sort(function(e,n){return t.compare(e,n,r)})},t.rsort=function(e,r){return e.sort(function(e,n){return t.rcompare(e,n,r)})},t.gt=Y,t.lt=$,t.eq=Q,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var ae={};function se(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof ne)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ie(e){return!e||"x"===e.toLowerCase()||"*"===e}function oe(e,t,r,n,a,s,i,o,l,c,u,p,d){return((t=ie(r)?"":ie(n)?">="+r+".0.0":ie(a)?">="+r+"."+n+".0":">="+t)+" "+(o=ie(l)?"":ie(c)?"<"+(+l+1)+".0.0":ie(u)?"<"+l+"."+(+c+1)+".0":p?"<="+l+"."+c+"."+u+"-"+p:"<="+o)).trim()}function le(e,t,n){for(var a=0;a<e.length;a++)if(!e[a].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(a=0;a<e.length;a++)if(r(e[a].semver),e[a].semver!==ae&&e[a].semver.prerelease.length>0){var s=e[a].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function ce(e,t,r){try{t=new se(t,r)}catch(e){return!1}return t.test(e)}function ue(e,t,r,n){var a,s,i,o,l;switch(e=new z(e,n),t=new se(t,n),r){case">":a=Y,s=te,i=$,o=">",l=">=";break;case"<":a=$,s=ee,i=Y,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],p=null,d=null;if(u.forEach(function(e){e.semver===ae&&(e=new ne(">=0.0.0")),p=p||e,d=d||e,a(e.semver,p.semver,n)?p=e:i(e.semver,d.semver,n)&&(d=e)}),p.operator===o||p.operator===l)return!1;if((!d.operator||d.operator===o)&&s(e,d.semver))return!1;if(d.operator===l&&i(e,d.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?a[M]:a[L],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new z(r[2],this.options.loose):this.semver=ae},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ae||("string"==typeof e&&(e=new z(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new se(e.value,t),ce(this.value,r,t);if(""===e.operator)return r=new se(this.value,t),ce(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),a=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),o=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||a||s&&i||o||l},t.Range=se,se.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?a[V]:a[W];e=e.replace(n,oe),r("hyphen replace",e),e=e.replace(a[U],"$1$2$3"),r("comparator trim",e,a[U]),e=(e=(e=e.replace(a[_],"$1~")).replace(a[B],"$1^")).split(/\s+/).join(" ");var s=t?a[M]:a[L],i=e.split(" ").map(function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){r("caret",e,t);var n=t.loose?a[R]:a[F];return e.replace(n,function(t,n,a,s,i){var o;return r("caret",e,t,n,a,s,i),ie(n)?o="":ie(a)?o=">="+n+".0.0 <"+(+n+1)+".0.0":ie(s)?o="0"===n?">="+n+"."+a+".0 <"+n+"."+(+a+1)+".0":">="+n+"."+a+".0 <"+(+n+1)+".0.0":i?(r("replaceCaret pr",i),o="0"===n?"0"===a?">="+n+"."+a+"."+s+"-"+i+" <"+n+"."+a+"."+(+s+1):">="+n+"."+a+"."+s+"-"+i+" <"+n+"."+(+a+1)+".0":">="+n+"."+a+"."+s+"-"+i+" <"+(+n+1)+".0.0"):(r("no pr"),o="0"===n?"0"===a?">="+n+"."+a+"."+s+" <"+n+"."+a+"."+(+s+1):">="+n+"."+a+"."+s+" <"+n+"."+(+a+1)+".0":">="+n+"."+a+"."+s+" <"+(+n+1)+".0.0"),r("caret return",o),o})}(e,t)}).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){var n=t.loose?a[O]:a[I];return e.replace(n,function(t,n,a,s,i){var o;return r("tilde",e,t,n,a,s,i),ie(n)?o="":ie(a)?o=">="+n+".0.0 <"+(+n+1)+".0.0":ie(s)?o=">="+n+"."+a+".0 <"+n+"."+(+a+1)+".0":i?(r("replaceTilde pr",i),o=">="+n+"."+a+"."+s+"-"+i+" <"+n+"."+(+a+1)+".0"):o=">="+n+"."+a+"."+s+" <"+n+"."+(+a+1)+".0",r("tilde return",o),o})}(e,t)}).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim();var n=t.loose?a[k]:a[P];return e.replace(n,function(t,n,a,s,i,o){r("xRange",e,t,n,a,s,i,o);var l=ie(a),c=l||ie(s),u=c||ie(i);return"="===n&&u&&(n=""),l?t=">"===n||"<"===n?"<0.0.0":"*":n&&u?(c&&(s=0),i=0,">"===n?(n=">=",c?(a=+a+1,s=0,i=0):(s=+s+1,i=0)):"<="===n&&(n="<",c?a=+a+1:s=+s+1),t=n+a+"."+s+"."+i):c?t=">="+a+".0.0 <"+(+a+1)+".0.0":u&&(t=">="+a+"."+s+".0 <"+a+"."+(+s+1)+".0"),r("xRange return",t),t})}(e,t)}).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(a[G],"")}(e,t),r("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(e){return!!e.match(s)})),i=i.map(function(e){return new ne(e,this.options)},this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(r){return e.set.some(function(e){return e.every(function(e){return r.intersects(e,t)})})})})},t.toComparators=function(e,t){return new se(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new z(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},t.satisfies=ce,t.maxSatisfying=function(e,t,r){var n=null,a=null;try{var s=new se(t,r)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(n&&-1!==a.compare(e)||(a=new z(n=e,r)))}),n},t.minSatisfying=function(e,t,r){var n=null,a=null;try{var s=new se(t,r)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(n&&1!==a.compare(e)||(a=new z(n=e,r)))}),n},t.minVersion=function(e,t){e=new se(e,t);var r=new z("0.0.0");if(e.test(r))return r;if(r=new z("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach(function(e){var t=new z(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!Y(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return ue(e,t,"<",r)},t.gtr=function(e,t,r){return ue(e,t,">",r)},t.outside=ue,t.prerelease=function(e,t){var r=H(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new se(e,r),t=new se(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof z)return e;if("string"!=typeof e)return null;var t=e.match(a[C]);if(null==t)return null;return H(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}}),UA={enter:function(e,t){var r=e.node.loc;r&&(t.loc=r,e.stop())}},WA=function(){function e(e,t){var r=this,n=t.code,a=t.ast,s=t.inputMap;this._map=new Map,this.opts=void 0,this.declarations={},this.path=null,this.ast={},this.scope=void 0,this.metadata={},this.code="",this.inputMap=null,this.hub={file:this,getCode:function(){return r.code},getScope:function(){return r.scope},addHelper:this.addHelper.bind(this),buildError:this.buildCodeFrameError.bind(this)},this.opts=e,this.code=n,this.ast=a,this.inputMap=s,this.path=Pw.get({hub:this.hub,parentPath:null,parent:this.ast,container:this.ast,key:"program"}).setContext(),this.scope=this.path.scope}var t=e.prototype;return t.set=function(e,t){if("helpersNamespace"===e)throw new Error("Babel 7.0.0-beta.56 has dropped support for the 'helpersNamespace' utility.If you are using @babel/plugin-external-helpers you will need to use a newer version than the one you currently have installed. If you have your own implementation, you'll want to explore using 'helperGenerator' alongside 'file.availableHelper()'.");this._map.set(e,t)},t.get=function(e){return this._map.get(e)},t.has=function(e){return this._map.has(e)},t.getModuleName=function(){return gA(this.opts,this.opts)},t.addImport=function(){throw new Error("This API has been removed. If you're looking for this functionality in Babel 7, you should import the '@babel/helper-module-imports' module and use the functions exposed  from that module, such as 'addNamed' or 'addDefault'.")},t.availableHelper=function(e,t){var r;try{r=function(e){return ST(e).minVersion()}(e)}catch(e){if("BABEL_HELPER_UNKNOWN"!==e.code)throw e;return!1}return"string"!=typeof t||(LA.valid(t)&&(t="^"+t),!LA.intersects("<"+r,t)&&!LA.intersects(">=8.0.0",t))},t.addHelper=function(t){var r=this,n=this.declarations[t];if(n)return Gd(n);var a=this.get("helperGenerator");if(a){var s=a(t);if(s)return s}jT(t,e);for(var i,o=this.declarations[t]=this.scope.generateUidIdentifier(t),l={},c=U(function(e){return Array.from(ST(e).dependencies.values())}(t));!(i=c()).done;){var u=i.value;l[u]=this.addHelper(u)}var p=TT(t,function(e){return l[e]},o,Object.keys(this.scope.getAllBindings())),d=p.nodes;return p.globals.forEach(function(e){r.path.scope.hasBinding(e,!0)&&r.path.scope.rename(e)}),d.forEach(function(e){e._compact=!0}),this.path.unshiftContainer("body",d),this.path.get("body").forEach(function(e){-1!==d.indexOf(e.node)&&e.isVariableDeclaration()&&r.scope.registerDeclaration(e)}),o},t.addTemplateObject=function(){throw new Error("This function has been moved into the template literal transform itself.")},t.buildCodeFrameError=function(e,t,r){void 0===r&&(r=SyntaxError);var n=e&&(e.loc||e._loc);if(!n&&e){var a={loc:null};Kw(e,UA,this.scope,a);var s="This is an error on an internal node. Probably an internal error.";(n=a.loc)&&(s+=" Location has been estimated."),t+=" ("+s+")"}if(n){var i=this.opts.highlightCode,o=void 0===i||i;t+="\n"+Kb(this.code,{start:{line:n.start.line,column:n.start.column+1},end:n.end&&n.start.line===n.end.line?{line:n.end.line,column:n.end.column+1}:void 0},{highlightCode:o})}return new r(t)},l(e,[{key:"shebang",get:function(){var e=this.path.node.interpreter;return e?e.value:""},set:function(e){e?this.path.get("interpreter").replaceWith(al(e)):this.path.get("interpreter").remove()}}]),e}();function VA(){var e=P(['\n    (function (root, factory) {\n      if (typeof define === "function" && define.amd) {\n        define(AMD_ARGUMENTS, factory);\n      } else if (typeof exports === "object") {\n        factory(COMMON_ARGUMENTS);\n      } else {\n        factory(BROWSER_ARGUMENTS);\n      }\n    })(UMD_ROOT, function (FACTORY_PARAMETERS) {\n      FACTORY_BODY\n    });\n  ']);return VA=function(){return e},e}function GA(e){var t=wl("babelHelpers"),r=[],n=Ol([yl(cl(El(null,[wl("global")],ol(r)),[pl(nl("===",zl("typeof",wl("global")),jl("undefined")),wl("self"),wl("global"))]))]);return r.push(Xl("var",[Jl(t,rl("=",_l(wl("global"),t),Nl([])))])),qA(r,t,e),n}function KA(e){var t=[],r=qA(t,null,e);return t.unshift(ic(null,Object.keys(r).map(function(e){return oc(Gd(r[e]),wl(e))}))),Ol(t,[],"module")}function HA(e){var t,r=wl("babelHelpers"),n=[];return n.push(Xl("var",[Jl(r,wl("global"))])),qA(n,r,e),Ol([(t={FACTORY_PARAMETERS:wl("global"),BROWSER_ARGUMENTS:rl("=",_l(wl("root"),r),Nl([])),COMMON_ARGUMENTS:wl("exports"),AMD_ARGUMENTS:tl([jl("exports")]),FACTORY_BODY:n,UMD_ROOT:wl("this")},JE(VA())(t))])}function zA(e){var t=wl("babelHelpers"),r=[];r.push(Xl("var",[Jl(t,Nl([]))]));var n=Ol(r);return qA(r,t,e),r.push(yl(t)),n}function qA(e,t,r){var n=function(e){return t?_l(t,wl(e)):wl("_"+e)},a={};return AT.forEach(function(t){if(!(r&&r.indexOf(t)<0)){var s=a[t]=n(t);jT(t,WA);var i=TT(t,n,s).nodes;e.push.apply(e,i)}}),a}function XA(e,t){void 0===t&&(t="global");var r={global:GA,module:KA,umd:HA,var:zA}[t];if(!r)throw new Error("Unsupported output type "+t);return Jv(r(e)).code}var JA=Lr(function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function l(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,s=Object.create(a.prototype),i=new P(n||[]);return s._invoke=function(e,t,r){var n=u;return function(a,s){if(n===d)throw new Error("Generator is already running");if(n===f){if("throw"===a)throw s;return C()}for(r.method=a,r.arg=s;;){var i=r.delegate;if(i){var o=T(i,r);if(o){if(o===h)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===u)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var l=c(e,t,r);if("normal"===l.type){if(n=r.done?f:p,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=f,r.method="throw",r.arg=l.arg)}}}(e,r,i),s}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u="suspendedStart",p="suspendedYield",d="executing",f="completed",h={};function m(){}function y(){}function g(){}var v={};v[s]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(k([])));x&&x!==r&&n.call(x,s)&&(v=x);var E=g.prototype=m.prototype=Object.create(v);function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e,t){var r;this._invoke=function(a,s){function i(){return new t(function(r,i){!function r(a,s,i,o){var l=c(e[a],e,s);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,i,o)},function(e){r("throw",e,i,o)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,o)})}o(l.arg)}(a,s,r,i)})}return r=r?r.then(i,i):i()}}function T(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=c(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var s=a.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:C}}function C(){return{value:t,done:!0}}return y.prototype=E.constructor=g,g.constructor=y,g[o]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},w(S.prototype),S.prototype[i]=function(){return this},e.AsyncIterator=S,e.async=function(t,r,n,a,s){void 0===s&&(s=Promise);var i=new S(l(t,r,n,a),s);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(E),E[o]="Generator",E[s]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return o.type="throw",o.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],o=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var s=a;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:k(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}),YA=JA.mark(rP),$A=JA.mark(nP),QA=JA.mark(aP),ZA=JA.mark(sP),eP=JA.mark(iP),tP=JA.mark(oP);function rP(e){return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},YA)}function nP(e){return JA.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{filepath:e,directories:[],pkg:null,isPackage:!1});case 1:case"end":return t.stop()}},$A)}function aP(e,t,r){return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{pkg:null,config:null,ignore:null});case 1:case"end":return e.stop()}},QA)}function sP(e,t,r){return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},ZA)}function iP(e,t,r,n){return JA.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:throw new Error("Cannot load "+e+" relative to "+t+" in a browser");case 1:case"end":return r.stop()}},eP)}function oP(e){return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},tP)}var lP=[];function cP(e,t){return null}function uP(e,t){return null}function pP(e,t){throw new Error("Cannot load plugin "+e+" relative to "+t+" in a browser")}function dP(e,t){throw new Error("Cannot load preset "+e+" relative to "+t+" in a browser")}var fP="7.12.3";function hP(e){return void 0===e&&(e="development"),si.env.BABEL_ENV||e}var mP=Symbol.for("gensync:v1:start"),yP=Symbol.for("gensync:v1:suspend"),gP="GENSYNC_EXPECTED_SUSPEND",vP="GENSYNC_OPTIONS_ERROR",bP="GENSYNC_RACE_NONEMPTY",xP="GENSYNC_ERRBACK_NO_CALLBACK",EP=Object.assign(function(e){var t=e;return t="function"!=typeof e?function(e){var t=e.name,r=e.arity,n=e.sync,a=e.async,s=e.errback;if(wP("string","name",t,!0),wP("number","arity",r,!0),wP("function","sync",n),wP("function","async",a,!0),wP("function","errback",s,!0),a&&s)throw SP("Expected one of either opts.async or opts.errback, but got _both_.",vP);if("string"!=typeof t){var i;s&&s.name&&"errback"!==s.name&&(i=s.name),a&&a.name&&"async"!==a.name&&(i=a.name.replace(/Async$/,"")),n&&n.name&&"sync"!==n.name&&(i=n.name.replace(/Sync$/,"")),"string"==typeof i&&(t=i)}"number"!=typeof r&&(r=n.length);return TP({name:t,arity:r,sync:function(e){return n.apply(this,e)},async:function(e,t,r){a?a.apply(this,e).then(t,r):s?s.call.apply(s,[this].concat(e,[function(e,n){null==e?t(n):r(e)}])):t(n.apply(this,e))}})}(e):function(e){return CP(e.name,e.length,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)})}(e),Object.assign(t,function(e){return{sync:function(){
for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return jP(e.apply(this,r))},async:function(){for(var t=this,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return new Promise(function(r,a){AP(e.apply(t,n),r,a)})},errback:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a,s=r.pop();if("function"!=typeof s)throw SP("Asynchronous function called without callback",xP);try{a=e.apply(this,r)}catch(e){return void s(e)}AP(a,function(e){return s(void 0,e)},function(e){return s(e)})}}}(t))},{all:TP({name:"all",arity:1,sync:function(e){return Array.from(e[0]).map(function(e){return jP(e)})},async:function(e,t,r){var n=Array.from(e[0]),a=0,s=n.map(function(){});n.forEach(function(e,n){AP(e,function(e){s[n]=e,(a+=1)===s.length&&t(s)},r)})}}),race:TP({name:"race",arity:1,sync:function(e){var t=Array.from(e[0]);if(0===t.length)throw SP("Must race at least 1 item",bP);return jP(t[0])},async:function(e,t,r){var n=Array.from(e[0]);if(0===n.length)throw SP("Must race at least 1 item",bP);for(var a=0,s=n;a<s.length;a++){AP(s[a],t,r)}}})});function wP(e,t,r,n){if(!(typeof r===e||n&&void 0===r))throw SP(n?"Expected opts."+t+" to be either a "+e+", or undefined.":"Expected opts."+t+" to be a "+e+".",vP)}function SP(e,t){return Object.assign(new Error(e),{code:t})}function TP(e){var t=e.name,r=e.arity,n=e.sync,a=e.async;return CP(t,r,JA.mark(function e(){var t,r,s,i,o,l=arguments;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mP;case 2:for(t=e.sent,r=l.length,s=new Array(r),i=0;i<r;i++)s[i]=l[i];if(t){e.next=6;break}return e.abrupt("return",n.call(this,s));case 6:try{a.call(this,s,function(e){o||(o={value:e},t())},function(e){o||(o={err:e},t())})}catch(e){o={err:e},t()}return e.next=9,yP;case 9:if(!o.hasOwnProperty("err")){e.next=11;break}throw o.err;case 11:return e.abrupt("return",o.value);case 12:case"end":return e.stop()}},e,this)}))}function jP(e){for(var t;!(r=e.next(),t=r.value,r).done;){var r;PP(t,e)}return t}function AP(e,t,r){!function n(){try{for(var a,s=function(){PP(a,e);var t=!0,r=!1,s=e.next(function(){t?r=!0:n()});if(t=!1,function(e,t){var r=e.value,n=e.done;if(!n&&r===yP)return;kP(t,SP(n?"Unexpected generator completion. If you get this, it is probably a gensync bug.":"Expected GENSYNC_SUSPEND, got "+JSON.stringify(r)+". If you get this, it is probably a gensync bug.",gP))}(s,e),!r)return{v:void 0}};!(i=e.next(),a=i.value,i).done;){var i,o=s();if("object"==typeof o)return o.v}return t(a)}catch(e){return r(e)}}()}function PP(e,t){e!==mP&&kP(t,SP("Got unexpected yielded value in gensync generator: "+JSON.stringify(e)+". Did you perhaps mean to use 'yield*' instead of 'yield'?","GENSYNC_EXPECTED_START"))}function kP(e,t){throw e.throw&&e.throw(t),t}function CP(e,t,r){if("string"==typeof e){var n=Object.getOwnPropertyDescriptor(r,"name");n&&!n.configurable||Object.defineProperty(r,"name",Object.assign(n||{},{configurable:!0,value:e}))}if("number"==typeof t){var a=Object.getOwnPropertyDescriptor(r,"length");a&&!a.configurable||Object.defineProperty(r,"length",Object.assign(a||{},{configurable:!0,value:t}))}return r}var DP=function(e){return e},_P=EP(JA.mark(function e(t){return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t,"t0",1);case 1:return e.abrupt("return",e.t0);case 2:case"end":return e.stop()}},e)})),IP=EP({sync:function(){return!1},errback:function(e){return e(null,!0)}});var OP=EP({sync:function(e){return e("sync")},async:function(e){return e("async")}});function NP(e,t){var r=EP(e);return OP(function(e){var n=r[e];return t(n)})}var BP=EP({name:"onFirstPause",arity:2,sync:function(e){return _P.sync(e)},errback:function(e,t,r){var n=!1;_P.errback(e,function(e,t){n=!0,r(e,t)}),n||t()}}),FP=EP({sync:DP,async:DP});function RP(e){return!(!e||"object"!=typeof e&&"function"!=typeof e||!e.then||"function"!=typeof e.then)}function MP(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];if("parserOpts"===a&&t.parserOpts){var s=t.parserOpts;LP(e.parserOpts=e.parserOpts||{},s)}else if("generatorOpts"===a&&t.generatorOpts){var i=t.generatorOpts;LP(e.generatorOpts=e.generatorOpts||{},i)}else{var o=t[a];void 0!==o&&(e[a]=o)}}}function LP(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r],s=t[a];void 0!==s&&(e[a]=s)}}function UP(e){return!!e&&"function"==typeof e.next&&"function"==typeof e[Symbol.iterator]}var WP=JA.mark(HP),VP=JA.mark(YP),GP=JA.mark($P),KP=function(e){return EP(e).sync};function HP(e){return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},WP)}function zP(e){return JP(WeakMap,e)}function qP(e){return KP(zP(e))}function XP(e){return KP(function(e){return JP(Map,e)}(e))}function JP(e,t){var r=new e,n=new e,a=new e;return JA.mark(function e(s,i){var o,l,c,u,p,d,f,h;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(IP(),"t0",1);case 1:return o=e.t0,l=o?n:r,e.delegateYield($P(o,l,a,s,i),"t1",4);case 4:if(!(c=e.t1).valid){e.next=7;break}return e.abrupt("return",c.value);case 7:if(u=new ek(i),!UP(p=t(s,u))){e.next=15;break}return h=p,e.delegateYield(BP(h,function(){d=QP(u,a,s)}),"t2",12);case 12:f=e.t2,e.next=16;break;case 15:f=p;case 16:return ZP(l,u,s,f),d&&(a.delete(s),d.release(f)),e.abrupt("return",f);case 19:case"end":return e.stop()}},e)})}function YP(e,t,r){var n,a,s,i,o,l;return JA.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(n=e.get(t))){c.next=10;break}a=U(n);case 3:if((s=a()).done){c.next=10;break}return i=s.value,o=i.value,l=i.valid,c.delegateYield(l(r),"t0",6);case 6:if(!c.t0){c.next=8;break}return c.abrupt("return",{valid:!0,value:o});case 8:c.next=3;break;case 10:return c.abrupt("return",{valid:!1,value:null});case 11:case"end":return c.stop()}},VP)}function $P(e,t,r,n,a){var s,i,o;return JA.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.delegateYield(YP(t,n,a),"t0",1);case 1:if(!(s=l.t0).valid){l.next=4;break}return l.abrupt("return",s);case 4:if(!e){l.next=11;break}return l.delegateYield(YP(r,n,a),"t1",6);case 6:if(!(i=l.t1).valid){l.next=11;break}return l.delegateYield(FP(i.value.promise),"t2",9);case 9:return o=l.t2,l.abrupt("return",{valid:!0,value:o});case 11:return l.abrupt("return",{valid:!1,value:null});case 12:case"end":return l.stop()}},GP)}function QP(e,t,r){var n=new rk;return ZP(t,e,r,n),n}function ZP(e,t,r,n){t.configured()||t.forever();var a=e.get(r);switch(t.deactivate(),t.mode()){case"forever":a=[{value:n,valid:HP}],e.set(r,a);break;case"invalidate":a=[{value:n,valid:t.validator()}],e.set(r,a);break;case"valid":a?a.push({value:n,valid:t.validator()}):(a=[{value:n,valid:t.validator()}],e.set(r,a))}}var ek=function(){function e(e){this._active=!0,this._never=!1,this._forever=!1,this._invalidate=!1,this._configured=!1,this._pairs=[],this._data=void 0,this._data=e}var t=e.prototype;return t.simple=function(){return function(e){function t(t){if("boolean"!=typeof t)return e.using(function(){return tk(t())});t?e.forever():e.never()}return t.forever=function(){return e.forever()},t.never=function(){return e.never()},t.using=function(t){return e.using(function(){return tk(t())})},t.invalidate=function(t){return e.invalidate(function(){return tk(t())})},t}(this)},t.mode=function(){return this._never?"never":this._forever?"forever":this._invalidate?"invalidate":"valid"},t.forever=function(){if(!this._active)throw new Error("Cannot change caching after evaluation has completed.");if(this._never)throw new Error("Caching has already been configured with .never()");this._forever=!0,this._configured=!0},t.never=function(){if(!this._active)throw new Error("Cannot change caching after evaluation has completed.");if(this._forever)throw new Error("Caching has already been configured with .forever()");this._never=!0,this._configured=!0},t.using=function(e){var t=this;if(!this._active)throw new Error("Cannot change caching after evaluation has completed.");if(this._never||this._forever)throw new Error("Caching has already been configured with .never or .forever()");this._configured=!0;var r=e(this._data),n=function(e,t){return EP({sync:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=e.apply(this,n);if(RP(s))throw new Error(t);return s},async:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Promise.resolve(e.apply(this,r))}})}(e,"You appear to be using an async cache handler, but Babel has been called synchronously");return RP(r)?r.then(function(e){return t._pairs.push([e,n]),e}):(this._pairs.push([r,n]),r)},t.invalidate=function(e){return this._invalidate=!0,this.using(e)},t.validator=function(){var e=this._pairs;return JA.mark(function t(r){var n,a,s,i,o;return JA.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=U(e);case 1:if((a=n()).done){t.next=10;break}return s=a.value,i=s[0],o=s[1],t.t0=i,t.delegateYield(o(r),"t1",5);case 5:if(t.t2=t.t1,t.t0===t.t2){t.next=8;break}return t.abrupt("return",!1);case 8:t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},t)})},t.deactivate=function(){this._active=!1},t.configured=function(){return this._configured},e}();function tk(e){if(RP(e))throw new Error("You appear to be using an async cache handler, which your current version of Babel does not support. We may add support for this in the future, but if you're on the most recent version of @babel/core and still seeing this error, then you'll need to synchronously handle your caching logic.");if(null!=e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e)throw new Error("Cache keys must be either string, boolean, number, null, or undefined.");return e}var rk=function(){function e(){var e=this;this.released=!1,this.promise=void 0,this._resolve=void 0,this.promise=new Promise(function(t){e._resolve=t})}return e.prototype.release=function(e){this.released=!0,this._resolve(e)},e}();function nk(e,t,r){var n=t.plugins,a=t.presets,s=t.passPerPreset;return{options:t,plugins:n?function(){return lk(n,e)(r)}:function(){return[]},presets:a?function(){return ik(a,e)(r)(!!s)}:function(){return[]}}}function ak(e,t,r){var n,a;return{options:t,plugins:function(){return n||(n=dk(t.plugins||[],e,r)),n},presets:function(){return a||(a=pk(t.presets||[],e,r,!!t.passPerPreset)),a}}}var sk=new WeakMap,ik=qP(function(e,t){var r=t.using(function(e){return e});return XP(function(t){return XP(function(n){return pk(e,r,t,n).map(function(e){return uk(sk,e)})})})}),ok=new WeakMap,lk=qP(function(e,t){var r=t.using(function(e){return e});return XP(function(t){return dk(e,r,t).map(function(e){return uk(ok,e)})})}),ck={};function uk(e,t){var r=t.value,n=t.options,a=void 0===n?ck:n;if(!1===a)return t;var s=e.get(r);s||(s=new WeakMap,e.set(r,s));var i=s.get(a);if(i||(i=[],s.set(a,i)),-1===i.indexOf(t)){var o=i.filter(function(e){return n=t,(r=e).name===n.name&&r.value===n.value&&r.options===n.options&&r.dirname===n.dirname&&r.alias===n.alias&&r.ownPass===n.ownPass&&(r.file&&r.file.request)===(n.file&&n.file.request)&&(r.file&&r.file.resolved)===(n.file&&n.file.resolved);var r,n});if(o.length>0)return o[0];i.push(t)}return t}function pk(e,t,r,n){return fk("preset",e,t,r,n)}function dk(e,t,r){return fk("plugin",e,t,r)}function fk(e,t,r,n,a){var s=t.map(function(t,s){return hk(t,r,{type:e,alias:n+"$"+s,ownPass:!!a})});return function(e){for(var t,r=new Map,n=function(){var n=t.value;if("function"!=typeof n.value)return"continue";var a=r.get(n.value);if(a||(a=new Set,r.set(n.value,a)),a.has(n.name)){var s=e.filter(function(e){return e.value===n.value});throw new Error(["Duplicate plugin/preset detected.","If you'd like to use two separate instances of a plugin,","they need separate names, e.g.","","  plugins: [","    ['some-plugin', {}],","    ['some-plugin', {}, 'some unique name'],","  ]","","Duplicates detected are:",""+JSON.stringify(s,null,2)].join("\n"))}a.add(n.name)},a=U(e);!(t=a()).done;)n()}(s),s}function hk(e,t,r){var n,a,s=r.type,i=r.alias,o=r.ownPass,l=gk(e);if(l)return l;var c=e;if(Array.isArray(c))if(3===c.length){var u=c;c=u[0],a=u[1],n=u[2]}else{var p=c;c=p[0],a=p[1]}var d=void 0,f=null;if("string"==typeof c){if("string"!=typeof s)throw new Error("To resolve a string-based item, the type of item must be given");var h=c,m=("plugin"===s?pP:dP)(c,t);f=m.filepath,c=m.value,d={request:h,resolved:f}}if(!c)throw new Error("Unexpected falsy value: "+String(c));if("object"==typeof c&&c.__esModule){if(!c.default)throw new Error("Must export a default export when using ES6 modules.");c=c.default}if("object"!=typeof c&&"function"!=typeof c)throw new Error("Unsupported format: "+typeof c+". Expected an object or a function.");if(null!==f&&"object"==typeof c&&c)throw new Error("Plugin/Preset files are not allowed to export objects, only functions. In "+f);return{name:n,alias:f||i,value:c,options:a,dirname:t,ownPass:o,file:d}}function mk(e){return new vk(e)}function yk(e,t){var r=void 0===t?{}:t,n=r.dirname,a=void 0===n?".":n,s=r.type;return mk(hk(e,uA.resolve(a),{type:s,alias:"programmatic item"}))}function gk(e){if(e instanceof vk)return e._descriptor}var vk=function(e){this._descriptor=void 0,this.value=void 0,this.options=void 0,this.dirname=void 0,this.name=void 0,this.file=void 0,this._descriptor=e,Object.defineProperty(this,"_descriptor",{enumerable:!1}),this.value=this._descriptor.value,this.options=this._descriptor.options,this.dirname=this._descriptor.dirname,this.name=this._descriptor.name,this.file=this._descriptor.file?{request:this._descriptor.file.request,resolved:this._descriptor.file.resolved}:void 0,Object.freeze(this)};Object.freeze(vk.prototype);var bk=function(e,t,r){this.key=void 0,this.manipulateOptions=void 0,this.post=void 0,this.pre=void 0,this.visitor=void 0,this.parserOverride=void 0,this.generatorOverride=void 0,this.options=void 0,this.key=e.name||r,this.manipulateOptions=e.manipulateOptions,this.post=e.post,this.pre=e.pre,this.visitor=e.visitor||{},this.parserOverride=e.parserOverride,this.generatorOverride=e.generatorOverride,this.options=t},xk={auxiliaryComment:{message:"Use `auxiliaryCommentBefore` or `auxiliaryCommentAfter`"},blacklist:{message:"Put the specific transforms you want in the `plugins` option"},breakConfig:{message:"This is not a necessary option in Babel 6"},experimental:{message:"Put the specific transforms you want in the `plugins` option"},externalHelpers:{message:"Use the `external-helpers` plugin instead. Check out http://babeljs.io/docs/plugins/external-helpers/"},extra:{message:""},jsxPragma:{message:"use the `pragma` option in the `react-jsx` plugin. Check out http://babeljs.io/docs/plugins/transform-react-jsx/"},loose:{message:"Specify the `loose` option for the relevant plugin you are using or use a preset that sets the option."},metadataUsedHelpers:{message:"Not required anymore as this is enabled by default"},modules:{message:"Use the corresponding module transform plugin in the `plugins` option. Check out http://babeljs.io/docs/plugins/#modules"},nonStandard:{message:"Use the `react-jsx` and `flow-strip-types` plugins to support JSX and Flow. Also check out the react preset http://babeljs.io/docs/plugins/preset-react/"},optional:{message:"Put the specific transforms you want in the `plugins` option"},sourceMapName:{message:"The `sourceMapName` option has been removed because it makes more sense for the tooling that calls Babel to assign `map.file` themselves."},stage:{message:"Check out the corresponding stage-x presets http://babeljs.io/docs/plugins/#presets"},whitelist:{message:"Put the specific transforms you want in the `plugins` option"},resolveModuleSource:{version:6,message:"Use `babel-plugin-module-resolver@3`'s 'resolvePath' options"},metadata:{version:6,message:"Generated plugin metadata is always included in the output result"},sourceMapTarget:{version:6,message:"The `sourceMapTarget` option has been removed because it makes more sense for the tooling that calls Babel to assign `map.file` themselves."}};function Ek(e){switch(e.type){case"root":return"";case"env":return Ek(e.parent)+'.env["'+e.name+'"]';case"overrides":return Ek(e.parent)+".overrides["+e.index+"]";case"option":return Ek(e.parent)+"."+e.name;case"access":return Ek(e.parent)+"["+JSON.stringify(e.name)+"]";default:throw new Error("Assertion failure: Unknown type "+e.type)}}function wk(e,t){return{type:"access",name:t,parent:e}}function Sk(e,t){if(void 0!==t&&"boolean"!=typeof t&&"inline"!==t&&"both"!==t)throw new Error(Ek(e)+' must be a boolean, "inline", "both", or undefined');return t}function Tk(e,t){if(void 0!==t&&"string"!=typeof t)throw new Error(Ek(e)+" must be a string, or undefined");return t}function jk(e,t){if(void 0!==t&&"function"!=typeof t)throw new Error(Ek(e)+" must be a function, or undefined");return t}function Ak(e,t){if(void 0!==t&&"boolean"!=typeof t)throw new Error(Ek(e)+" must be a boolean, or undefined");return t}function Pk(e,t){if(void 0!==t&&("object"!=typeof t||Array.isArray(t)||!t))throw new Error(Ek(e)+" must be an object, or undefined");return t}function kk(e,t){if(null!=t&&!Array.isArray(t))throw new Error(Ek(e)+" must be an array, or undefined");return t}function Ck(e,t){var r=kk(e,t);return r&&r.forEach(function(t,r){return function(e,t){if("string"!=typeof t&&"function"!=typeof t&&!(t instanceof RegExp))throw new Error(Ek(e)+" must be an array of string/Function/RegExp values, or undefined");return t}(wk(e,r),t)}),r}function Dk(e,t){if(void 0===t)return t;if(Array.isArray(t))t.forEach(function(t,r){if(!_k(t))throw new Error(Ek(wk(e,r))+" must be a string/Function/RegExp.")});else if(!_k(t))throw new Error(Ek(e)+" must be a string/Function/RegExp, or an array of those");return t}function _k(e){return"string"==typeof e||"function"==typeof e||e instanceof RegExp}function Ik(e,t){var r=kk(e,t);return r&&r.forEach(function(t,r){return function(e,t){if(Array.isArray(t)){if(0===t.length)throw new Error(Ek(e)+" must include an object");if(t.length>3)throw new Error(Ek(e)+" may only be a two-tuple or three-tuple");if(Ok(wk(e,0),t[0]),t.length>1){var r=t[1];if(void 0!==r&&!1!==r&&("object"!=typeof r||Array.isArray(r)||null===r))throw new Error(Ek(wk(e,1))+" must be an object, false, or undefined")}if(3===t.length){var n=t[2];if(void 0!==n&&"string"!=typeof n)throw new Error(Ek(wk(e,2))+" must be a string, or undefined")}}else Ok(e,t);return t}(wk(e,r),t)}),r}function Ok(e,t){if(("object"!=typeof t||!t)&&"string"!=typeof t&&"function"!=typeof t)throw new Error(Ek(e)+" must be a string, object, function");return t}var Nk={cwd:Tk,root:Tk,rootMode:function(e,t){if(void 0!==t&&"root"!==t&&"upward"!==t&&"upward-optional"!==t)throw new Error(Ek(e)+' must be a "root", "upward", "upward-optional" or undefined');return t},configFile:function(e,t){if(void 0!==t&&"boolean"!=typeof t&&"string"!=typeof t)throw new Error(Ek(e)+" must be a undefined, a boolean, a string, got "+JSON.stringify(t));return t},caller:function(e,t){var r=Pk(e,t);if(r){if("string"!=typeof r.name)throw new Error(Ek(e)+' set but does not contain "name" property string');for(var n=0,a=Object.keys(r);n<a.length;n++){var s=a[n],i=wk(e,s),o=r[s];if(null!=o&&"boolean"!=typeof o&&"string"!=typeof o&&"number"!=typeof o)throw new Error(Ek(i)+" must be null, undefined, a boolean, a string, or a number.")}}return t},filename:Tk,filenameRelative:Tk,code:Ak,ast:Ak,cloneInputAst:Ak,envName:Tk},Bk={babelrc:Ak,babelrcRoots:function(e,t){if(void 0===t||"boolean"==typeof t)return t;if(Array.isArray(t))t.forEach(function(t,r){if(!_k(t))throw new Error(Ek(wk(e,r))+" must be a string/Function/RegExp.")});else if(!_k(t))throw new Error(Ek(e)+" must be a undefined, a boolean, a string/Function/RegExp or an array of those, got "+JSON.stringify(t));return t}},Fk={extends:Tk,ignore:Ck,only:Ck},Rk={inputSourceMap:function(e,t){if(void 0!==t&&"boolean"!=typeof t&&("object"!=typeof t||!t))throw new Error(Ek(e)+" must be a boolean, object, or undefined");return t},presets:Ik,plugins:Ik,passPerPreset:Ak,env:function(e,t){if("env"===e.parent.type)throw new Error(Ek(e)+" is not allowed inside of another .env block");var r=e.parent,n=Pk(e,t);if(n)for(var a=0,s=Object.keys(n);a<s.length;a++){var i=s[a],o=Pk(wk(e,i),n[i]);if(o)Lk({type:"env",name:i,parent:r},o)}return n},overrides:function(e,t){if("env"===e.parent.type)throw new Error(Ek(e)+" is not allowed inside an .env block");if("overrides"===e.parent.type)throw new Error(Ek(e)+" is not allowed inside an .overrides block");var r=e.parent,n=kk(e,t);if(n)for(var a,s=U(n.entries());!(a=s()).done;){var i=a.value,o=i[0],l=i[1],c=wk(e,o),u=Pk(c,l);if(!u)throw new Error(Ek(c)+" must be an object");Lk({type:"overrides",index:o,parent:r},u)}return n},test:Dk,include:Dk,exclude:Dk,retainLines:Ak,comments:Ak,shouldPrintComment:jk,compact:function(e,t){if(void 0!==t&&"boolean"!=typeof t&&"auto"!==t)throw new Error(Ek(e)+' must be a boolean, "auto", or undefined');return t},minified:Ak,auxiliaryCommentBefore:Tk,auxiliaryCommentAfter:Tk,sourceType:function(e,t){if(void 0!==t&&"module"!==t&&"script"!==t&&"unambiguous"!==t)throw new Error(Ek(e)+' must be "module", "script", "unambiguous", or undefined');return t},wrapPluginVisitorMethod:jk,highlightCode:Ak,sourceMaps:Sk,sourceMap:Sk,sourceFileName:Tk,sourceRoot:Tk,getModuleId:jk,moduleRoot:Tk,moduleIds:Ak,moduleId:Tk,parserOpts:Pk,generatorOpts:Pk};function Mk(e,t){return Lk({type:"root",source:e},t)}function Lk(e,t){var r=function e(t){return"root"===t.type?t.source:e(t.parent)}(e);return function(e){if(Wk(e,"sourceMap")&&Wk(e,"sourceMaps"))throw new Error(".sourceMap is an alias for .sourceMaps, cannot use both")}(t),Object.keys(t).forEach(function(n){var a={type:"option",name:n,parent:e};if("preset"===r&&Fk[n])throw new Error(Ek(a)+" is not allowed in preset options");if("arguments"!==r&&Nk[n])throw new Error(Ek(a)+" is only allowed in root programmatic options");if("arguments"!==r&&"configfile"!==r&&Bk[n]){if("babelrcfile"===r||"extendsfile"===r)throw new Error(Ek(a)+' is not allowed in .babelrc or "extends"ed files, only in root programmatic options, or babel.config.js/config file options');throw new Error(Ek(a)+" is only allowed in root programmatic options, or babel.config.js/config file options")}(Rk[n]||Fk[n]||Bk[n]||Nk[n]||Uk)(a,t[n])}),t}function Uk(e){var t=e.name;if(xk[t]){var r=xk[t],n=r.message,a=r.version;throw new Error("Using removed Babel "+(void 0===a?5:a)+" option: "+Ek(e)+" - "+n)}var s=new Error("Unknown option: "+Ek(e)+". Check out https://babeljs.io/docs/en/babel-core/#options for more information about options.");throw s.code="BABEL_UNKNOWN_OPTION",s}function Wk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Vk(e,t,r,n){if(0!==t){var a=e[t-1],s=e[t];a.file&&void 0===a.options&&"object"==typeof s.value&&(n.message+='\n- Maybe you meant to use\n"'+r+'": [\n  ["'+a.file.request+'", '+JSON.stringify(s.value,void 0,2)+"]\n]\nTo be a valid "+r+", its name and options should be wrapped in a pair of brackets")}}var Gk=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},Kk=Hr?Hr.prototype:void 0,Hk=Kk?Kk.toString:void 0;var zk=function e(t){if("string"==typeof t)return t;if(ea(t))return Gk(t,e)+"";if(vj(t))return Hk?Hk.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var qk=function(e){return null==e?"":zk(e)},Xk=/[\\^$.*+?()[\]{}|]/g,Jk=RegExp(Xk.source);var Yk=function(e){return(e=qk(e))&&Jk.test(e)?e.replace(Xk,"\\$&"):e},$k="\\"+uA.sep,Qk="(?:"+$k+"|$)",Zk="[^"+$k+"]+",eC="(?:"+Zk+$k+")",tC="(?:"+Zk+Qk+")",rC=eC+"*?",nC=eC+"*?"+tC+"?";function aC(e,t){var r=uA.resolve(t,e).split(uA.sep);return new RegExp(["^"].concat(r.map(function(e,t){var n=t===r.length-1;return"**"===e?n?nC:rC:"*"===e?n?tC:eC:0===e.indexOf("*.")?Zk+Yk(e.slice(1))+(n?Qk:$k):Yk(e)+(n?Qk:$k)})).join(""))}var sC=0,iC=1,oC=function(e,t,r){var n="";return e===sC?(n="programmatic options",t&&(n+=" from "+t)):n="config "+r,n},lC=function(e,t){var r="";return null!=e&&(r+=".overrides["+e+"]"),null!=t&&(r+='.env["'+t+'"]'),r},cC=function(e){var t=Object.assign({},e.options);delete t.overrides,delete t.env;var r=[].concat(e.plugins());r.length&&(t.plugins=r.map(function(e){return uC(e)}));var n=[].concat(e.presets());return n.length&&(t.presets=[].concat(n).map(function(e){return uC(e)})),JSON.stringify(t,void 0,2)};function uC(e){var t,r=null==(t=e.file)?void 0:t.request;return null==r&&("object"==typeof e.value?r=e.value:"function"==typeof e.value&&(r="[Function: "+e.value.toString().substr(0,50)+" ... ]")),null==r&&(r="[Unknown]"),void 0===e.options?r:null==e.name?[r,e.options]:[r,e.options,e.name]}var pC=function(){function e(){this._stack=[]}var t=e.prototype;return t.configure=function(e,t,r){var n=this,a=r.callerName,s=r.filepath;return e?function(e,r,i){n._stack.push({type:t,callerName:a,filepath:s,content:e,index:r,envName:i})}:function(){}},e.format=function(e){var t=oC(e.type,e.callerName,e.filepath),r=lC(e.index,e.envName);return r&&(t+=" "+r),t+"\n"+cC(e.content)},t.output=function(){return 0===this._stack.length?"":this._stack.map(function(t){return e.format(t)}).join("\n\n")},e}(),dC=JA.mark(gC),fC=JA.mark(SC),hC=JA.mark(DC),mC=JA.mark(UC),yC=Yh("babel:config:config-chain");function gC(e,t){var r;return JA.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(vC(e,t),"t0",1);case 1:if(r=n.t0){n.next=4;break}return n.abrupt("return",null);case 4:return n.abrupt("return",{plugins:HC(r.plugins),presets:HC(r.presets),options:r.options.map(function(e){return KC(e)}),files:new Set});case 5:case"end":return n.stop()}},dC)}var vC=LC({root:function(e){return bC(e)},env:function(e,t){return xC(e)(t)},overrides:function(e,t){return EC(e)(t)},overridesEnv:function(e,t,r){return wC(e)(t)(r)},createLogger:function(){return function(){}}}),bC=qP(function(e){return BC(e,e.alias,ak)}),xC=qP(function(e){return XP(function(t){return FC(e,e.alias,ak,t)})}),EC=qP(function(e){return XP(function(t){return RC(e,e.alias,ak,t)})}),wC=qP(function(e){return XP(function(t){return XP(function(r){return MC(e,e.alias,ak,t,r)})})});function SC(e,t){var r,n,a,s,i,o,l,c,u,p,d,f,h,m,y,g,v,b,x,E,w,S,T;return JA.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return a=new pC,j.delegateYield(kC({options:e,dirname:t.cwd},t,void 0,a),"t0",2);case 2:if(s=j.t0){j.next=5;break}return j.abrupt("return",null);case 5:if(i=a.output(),"string"!=typeof e.configFile){j.next=11;break}return j.delegateYield(iP(e.configFile,t.cwd,t.envName,t.caller),"t1",8);case 8:o=j.t1,j.next=14;break;case 11:if(!1===e.configFile){j.next=14;break}return j.delegateYield(sP(t.root,t.envName,t.caller),"t2",13);case 13:o=j.t2;case 14:if(l=e.babelrc,c=e.babelrcRoots,u=t.cwd,p=GC(),d=new pC,!o){j.next=28;break}return f=jC(o),j.delegateYield(DC(f,t,void 0,d),"t3",21);case 21:if(h=j.t3){j.next=24;break}return j.abrupt("return",null);case 24:r=d.output(),void 0===l&&(l=f.options.babelrc),void 0===c&&(u=f.dirname,c=f.options.babelrcRoots),WC(p,h);case 28:if("string"!=typeof t.filename){j.next=33;break}return j.delegateYield(nP(t.filename),"t5",30);case 30:j.t4=j.t5,j.next=34;break;case 33:j.t4=null;case 34:if(m=j.t4,v=!1,b=GC(),!0!==l&&void 0!==l||!m||!TC(t,m,c,u)){j.next=51;break}return j.delegateYield(aP(0,t.envName,t.caller),"t6",39);case 39:if(x=j.t6,y=x.ignore,g=x.config,y&&b.files.add(y.filepath),y&&XC(t,y.ignore,null,y.dirname)&&(v=!0),!g||v){j.next=50;break}return E=AC(g),w=new pC,j.delegateYield(DC(E,t,void 0,w),"t7",48);case 48:(S=j.t7)?(n=w.output(),WC(b,S)):v=!0;case 50:g&&v&&b.files.add(g.filepath);case 51:if(!t.showConfig){j.next=54;break}return console.log('Babel configs on "'+t.filename+'" (ascending priority):\n'+[r,n,i].filter(function(e){return!!e}).join("\n\n")),j.abrupt("return",null);case 54:return T=WC(WC(WC(GC(),p),b),s),j.abrupt("return",{plugins:v?[]:HC(T.plugins),presets:v?[]:HC(T.presets),options:v?[]:T.options.map(function(e){return KC(e)}),fileHandling:v?"ignored":"transpile",ignore:y||void 0,babelrc:g||void 0,config:o||void 0,files:T.files});case 56:case"end":return j.stop()}},fC)}function TC(e,t,r,n){if("boolean"==typeof r)return r;var a=e.root;if(void 0===r)return-1!==t.directories.indexOf(a);var s=r;return Array.isArray(s)||(s=[s]),1===(s=s.map(function(e){return"string"==typeof e?uA.resolve(n,e):e})).length&&s[0]===a?-1!==t.directories.indexOf(a):s.some(function(r){return"string"==typeof r&&(r=aC(r,n)),t.directories.some(function(t){return YC(r,n,t,e)})})}var jC=qP(function(e){return{filepath:e.filepath,dirname:e.dirname,options:Mk("configfile",e.options)}}),AC=qP(function(e){return{filepath:e.filepath,dirname:e.dirname,options:Mk("babelrcfile",e.options)}}),PC=qP(function(e){return{filepath:e.filepath,dirname:e.dirname,options:Mk("extendsfile",e.options)}}),kC=LC({root:function(e){return BC(e,"base",nk)},env:function(e,t){return FC(e,"base",nk,t)},overrides:function(e,t){return RC(e,"base",nk,t)},overridesEnv:function(e,t,r){return MC(e,"base",nk,t,r)},createLogger:function(e,t,r){return function(e,t,r){var n;if(!r)return function(){};return r.configure(t.showConfig,sC,{callerName:null==(n=t.caller)?void 0:n.name})}(0,t,r)}}),CC=LC({root:function(e){return _C(e)},env:function(e,t){return IC(e)(t)},overrides:function(e,t){return OC(e)(t)},overridesEnv:function(e,t,r){return NC(e)(t)(r)},createLogger:function(e,t,r){return function(e,t,r){if(!r)return function(){};return r.configure(t.showConfig,iC,{filepath:e})}(e.filepath,t,r)}});function DC(e,t,r,n){var a;return JA.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.delegateYield(CC(e,t,r,n),"t0",1);case 1:return(a=s.t0)&&a.files.add(e.filepath),s.abrupt("return",a);case 4:case"end":return s.stop()}},hC)}var _C=qP(function(e){return BC(e,e.filepath,ak)}),IC=qP(function(e){return XP(function(t){return FC(e,e.filepath,ak,t)})}),OC=qP(function(e){return XP(function(t){return RC(e,e.filepath,ak,t)})}),NC=qP(function(e){return XP(function(t){return XP(function(r){return MC(e,e.filepath,ak,t,r)})})});function BC(e,t,r){return r(e.dirname,e.options,t)}function FC(e,t,r,n){var a=e.dirname,s=e.options,i=s.env&&s.env[n];return i?r(a,i,t+'.env["'+n+'"]'):null}function RC(e,t,r,n){var a=e.dirname,s=e.options,i=s.overrides&&s.overrides[n];if(!i)throw new Error("Assertion failure - missing override");return r(a,i,t+".overrides["+n+"]")}function MC(e,t,r,n,a){var s=e.dirname,i=e.options,o=i.overrides&&i.overrides[n];if(!o)throw new Error("Assertion failure - missing override");var l=o.env&&o.env[a];return l?r(s,l,t+".overrides["+n+'].env["'+a+'"]'):null}function LC(e){var t=e.root,r=e.env,n=e.overrides,a=e.overridesEnv,s=e.createLogger;return JA.mark(function e(i,o,l,c){var u,p,d,f,h,m,y,g,v,b,x,E;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===l&&(l=new Set),u=i.dirname,p=[],zC(d=t(i),u,o)&&(p.push({config:d,envName:void 0,index:void 0}),(f=r(i,o.envName))&&zC(f,u,o)&&p.push({config:f,envName:o.envName,index:void 0}),(d.options.overrides||[]).forEach(function(e,t){var r=n(i,t);if(zC(r,u,o)){p.push({config:r,index:t,envName:void 0});var s=a(i,t,o.envName);s&&zC(s,u,o)&&p.push({config:s,index:t,envName:o.envName})}})),!p.some(function(e){var t=e.config.options,r=t.ignore,n=t.only;return XC(o,r,n,u)})){e.next=7;break}return e.abrupt("return",null);case 7:h=GC(),m=s(i,o,c),y=0,g=p;case 10:if(!(y<g.length)){e.next=20;break}return v=g[y],b=v.config,x=v.index,E=v.envName,e.delegateYield(UC(h,b.options,u,o,l,c),"t0",13);case 13:if(e.t0){e.next=15;break}return e.abrupt("return",null);case 15:m(b,x,E),VC(h,b);case 17:y++,e.next=10;break;case 20:return e.abrupt("return",h);case 21:case"end":return e.stop()}},e)})}function UC(e,t,r,n,a,s){var i,o;return JA.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==t.extends){l.next=2;break}return l.abrupt("return",!0);case 2:return l.delegateYield(iP(t.extends,r,n.envName,n.caller),"t0",3);case 3:if(i=l.t0,!a.has(i)){l.next=6;break}
throw new Error("Configuration cycle detected loading "+i.filepath+".\nFile already loaded following the config chain:\n"+Array.from(a,function(e){return" - "+e.filepath}).join("\n"));case 6:return a.add(i),l.delegateYield(DC(PC(i),n,a,s),"t1",8);case 8:if(o=l.t1,a.delete(i),o){l.next=12;break}return l.abrupt("return",!1);case 12:return WC(e,o),l.abrupt("return",!0);case 14:case"end":return l.stop()}},mC)}function WC(e,t){var r,n,a;(r=e.options).push.apply(r,t.options),(n=e.plugins).push.apply(n,t.plugins),(a=e.presets).push.apply(a,t.presets);for(var s,i=U(t.files);!(s=i()).done;){var o=s.value;e.files.add(o)}return e}function VC(e,t){var r,n,a=t.options,s=t.plugins,i=t.presets;return e.options.push(a),(r=e.plugins).push.apply(r,s()),(n=e.presets).push.apply(n,i()),e}function GC(){return{options:[],presets:[],plugins:[],files:new Set}}function KC(e){var t=Object.assign({},e);return delete t.extends,delete t.env,delete t.overrides,delete t.plugins,delete t.presets,delete t.passPerPreset,delete t.ignore,delete t.only,delete t.test,delete t.include,delete t.exclude,Object.prototype.hasOwnProperty.call(t,"sourceMap")&&(t.sourceMaps=t.sourceMap,delete t.sourceMap),t}function HC(e){for(var t,r=new Map,n=[],a=U(e);!(t=a()).done;){var s=t.value;if("function"==typeof s.value){var i=s.value,o=r.get(i);o||(o=new Map,r.set(i,o));var l=o.get(s.name);l?l.value=s:(l={value:s},n.push(l),s.ownPass||o.set(s.name,l))}else n.push({value:s})}return n.reduce(function(e,t){return e.push(t.value),e},[])}function zC(e,t,r){var n=e.options;return(void 0===n.test||qC(r,n.test,t))&&(void 0===n.include||qC(r,n.include,t))&&(void 0===n.exclude||!qC(r,n.exclude,t))}function qC(e,t,r){return JC(e,Array.isArray(t)?t:[t],r)}function XC(e,t,r,n){if(t&&JC(e,t,n)){var a,s='No config is applied to "'+(null!=(a=e.filename)?a:"(unknown)")+'" because it matches one of `ignore: '+JSON.stringify(t)+'` from "'+n+'"';return yC(s),e.showConfig&&console.log(s),!0}if(r&&!JC(e,r,n)){var i,o='No config is applied to "'+(null!=(i=e.filename)?i:"(unknown)")+'" because it fails to match one of `only: '+JSON.stringify(r)+'` from "'+n+'"';return yC(o),e.showConfig&&console.log(o),!0}return!1}function JC(e,t,r){return t.some(function(t){return YC(t,r,e.filename,e)})}function YC(e,t,r,n){if("function"==typeof e)return!!e(r,{dirname:t,envName:n.envName,caller:n.caller});if("string"!=typeof r)throw new Error("Configuration contains string/RegExp pattern, but no filename was passed to Babel");return"string"==typeof e&&(e=aC(e,t)),e.test(r)}var $C={name:Tk,manipulateOptions:jk,pre:jk,post:jk,inherits:jk,visitor:function(e,t){var r=Pk(e,t);if(r&&(Object.keys(r).forEach(function(e){return function(e,t){if(t&&"object"==typeof t)Object.keys(t).forEach(function(t){if("enter"!==t&&"exit"!==t)throw new Error('.visitor["'+e+'"] may only have .enter and/or .exit handlers.')});else if("function"!=typeof t)throw new Error('.visitor["'+e+'"] must be a function');return t}(e,r[e])}),r.enter||r.exit))throw new Error(Ek(e)+' cannot contain catch-all "enter" or "exit" handlers. Please target individual nodes.');return r},parserOverride:jk,generatorOverride:jk};function QC(e){var t={type:"root",source:"plugin"};return Object.keys(e).forEach(function(r){var n=$C[r];if(!n){var a=new Error("."+r+" is not a valid Plugin property");throw a.code="BABEL_UNKNOWN_PLUGIN_PROPERTY",a}n({type:"option",name:r,parent:t},e[r])}),e}function ZC(e){return{version:fP,cache:e.simple(),env:function(t){return e.using(function(e){return void 0===t?e.envName:"function"==typeof t?tk(t(e.envName)):(Array.isArray(t)||(t=[t]),t.some(function(t){if("string"!=typeof t)throw new Error("Unexpected non-string value");return t===e.envName}))})},async:function(){return!1},caller:function(t){return e.using(function(e){return tk(t(e.caller))})},assertVersion:eD}}function eD(e){if("number"==typeof e){if(!Number.isInteger(e))throw new Error("Expected string or integer value.");e="^"+e+".0.0-0"}if("string"!=typeof e)throw new Error("Expected string or integer value.");if(!LA.satisfies(fP,e)){var t=Error.stackTraceLimit;"number"==typeof t&&t<25&&(Error.stackTraceLimit=25);var r=new Error('Requires Babel "'+e+'", but was loaded with "'+fP+'". If you are sure you have a compatible version of @babel/core, it is likely that something in your build process is loading the wrong version. Inspect the stack trace of this error to look for the first entry that doesn\'t mention "@babel/core" or "babel-core" to see what is calling Babel.');throw"number"==typeof t&&(Error.stackTraceLimit=t),Object.assign(r,{code:"BABEL_VERSION_UNSUPPORTED",version:fP,range:e})}}var tD=JA.mark(nD),rD=JA.mark(aD);function nD(e,t){var r,n;return JA.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=t,a.next="root"===a.t0?3:"upward-optional"===a.t0?4:"upward"===a.t0?7:12;break;case 3:return a.abrupt("return",e);case 4:return a.delegateYield(rP(),"t1",5);case 5:return r=a.t1,a.abrupt("return",null===r?e:r);case 7:return a.delegateYield(rP(),"t2",8);case 8:if(null===(n=a.t2)){a.next=11;break}return a.abrupt("return",n);case 11:throw Object.assign(new Error('Babel was run with rootMode:"upward" but a root could not be found when searching upward from "'+e+'".\nOne of the following config files must be in the directory tree: "'+lP.join(", ")+'".'),{code:"BABEL_ROOT_NOT_FOUND",dirname:e});case 12:throw new Error("Assertion failure - unknown rootMode value.");case 13:case"end":return a.stop()}},tD)}function aD(e){var t,r,n,a,s,i,o,l,c,u,p,d,f,h,m,y,g,v,b;return JA.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(null==e||"object"==typeof e&&!Array.isArray(e)){x.next=2;break}throw new Error("Babel options must be an object, null, or undefined");case 2:return t=e?Mk("arguments",e):{},r=t.envName,n=void 0===r?hP():r,a=t.cwd,s=void 0===a?".":a,i=t.root,o=void 0===i?".":i,l=t.rootMode,c=void 0===l?"root":l,u=t.caller,p=t.cloneInputAst,d=void 0===p||p,f=uA.resolve(s),x.delegateYield(nD(uA.resolve(f,o),c),"t0",6);case 6:return h=x.t0,m="string"==typeof t.filename?uA.resolve(s,t.filename):void 0,x.delegateYield(oP(),"t1",9);case 9:return y=x.t1,g={filename:m,cwd:f,root:h,envName:n,caller:u,showConfig:y===m},x.delegateYield(SC(t,g),"t2",12);case 12:if(v=x.t2){x.next=15;break}return x.abrupt("return",null);case 15:return b={},v.options.forEach(function(e){MP(b,e)}),b.cloneInputAst=d,b.babelrc=!1,b.configFile=!1,b.passPerPreset=!1,b.envName=g.envName,b.cwd=g.cwd,b.root=g.root,b.filename="string"==typeof g.filename?g.filename:void 0,b.plugins=v.plugins.map(function(e){return mk(e)}),b.presets=v.presets.map(function(e){return mk(e)}),x.abrupt("return",{options:b,context:g,fileHandling:v.fileHandling,ignore:v.ignore,babelrc:v.babelrc,config:v.config,files:v.files});case 28:case"end":return x.stop()}},rD)}var sD=EP(JA.mark(function e(t){var r,n,a,s,i,o,l,c,u;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,"object"!=typeof t||null===t||Array.isArray(t)||(r=(n=t).showIgnoredFiles,t=E(n,["showIgnoredFiles"])),e.delegateYield(aD(t),"t0",3);case 3:if(a=e.t0){e.next=6;break}return e.abrupt("return",null);case 6:if(s=a.options,i=a.babelrc,o=a.ignore,l=a.config,c=a.fileHandling,u=a.files,"ignored"!==c||r){e.next=9;break}return e.abrupt("return",null);case 9:return(s.plugins||[]).forEach(function(e){if(e.value instanceof bk)throw new Error("Passing cached plugin instances is not supported in babel.loadPartialConfig()")}),e.abrupt("return",new iD(s,i?i.filepath:void 0,o?o.filepath:void 0,l?l.filepath:void 0,c,u));case 11:case"end":return e.stop()}},e)})),iD=function(){function e(e,t,r,n,a,s){this.options=void 0,this.babelrc=void 0,this.babelignore=void 0,this.config=void 0,this.fileHandling=void 0,this.files=void 0,this.options=e,this.babelignore=r,this.babelrc=t,this.config=n,this.fileHandling=a,this.files=s,Object.freeze(this)}return e.prototype.hasFilesystemConfig=function(){return void 0!==this.babelrc||void 0!==this.config},e}();Object.freeze(iD.prototype);var oD=JA.mark(dD),lD=JA.mark(yD),cD=EP(JA.mark(function e(t){var r,n,a,s,i,o,l,c,u,p,d,f;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(aD(t),"t0",1);case 1:if(r=e.t0){e.next=4;break}return e.abrupt("return",null);case 4:if(n=r.options,a=r.context,"ignored"!==r.fileHandling){e.next=7;break}return e.abrupt("return",null);case 7:if(s={},i=n.plugins,o=n.presets,i&&o){e.next=11;break}throw new Error("Assertion failure - plugins and presets exist");case 11:return l=function(e){var t=gk(e);if(!t)throw new Error("Assertion failure - must be config item");return t},c=o.map(l),u=i.map(l),p=[[]],d=[],e.delegateYield(uD(a,JA.mark(function e(t,r){var n,i,o,l,c,u,d,f;return JA.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:n=[],i=0;case 2:if(!(i<t.length)){h.next=30;break}if(!1===(o=t[i]).options){h.next=27;break}if(h.prev=5,!o.ownPass){h.next=15;break}return h.t0=n,h.delegateYield(yD(o,a),"t1",9);case 9:h.t2=h.t1,h.t3=[],h.t4={preset:h.t2,pass:h.t3},h.t0.push.call(h.t0,h.t4),h.next=21;break;case 15:return h.t5=n,h.delegateYield(yD(o,a),"t6",17);case 17:h.t7=h.t6,h.t8=r,h.t9={preset:h.t7,pass:h.t8},h.t5.unshift.call(h.t5,h.t9);case 21:h.next=27;break;case 23:throw h.prev=23,h.t10=h.catch(5),"BABEL_UNKNOWN_OPTION"===h.t10.code&&Vk(t,i,"preset",h.t10),h.t10;case 27:i++,h.next=2;break;case 30:if(!(n.length>0)){h.next=45;break}p.splice.apply(p,[1,0].concat(n.map(function(e){return e.pass}).filter(function(e){return e!==r}))),l=U(n);case 33:if((c=l()).done){h.next=45;break}if(u=c.value,d=u.preset,f=u.pass,d){h.next=37;break}return h.abrupt("return",!0);case 37:return f.push.apply(f,d.plugins),h.delegateYield(e(d.presets,f),"t11",39);case 39:if(!h.t11){h.next=42;break}return h.abrupt("return",!0);case 42:d.options.forEach(function(e){MP(s,e)});case 43:h.next=33;break;case 45:case"end":return h.stop()}},e,null,[[5,23]])}))(c,p[0]),"t1",17);case 17:if(!e.t1){e.next=20;break}return e.abrupt("return",null);case 20:return MP(f=s,n),e.delegateYield(uD(a,JA.mark(function e(){var t,r,n,s,i,o,l;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=p[0]).unshift.apply(t,u),r=U(p);case 2:if((n=r()).done){e.next=26;break}s=n.value,i=[],d.push(i),o=0;case 7:if(!(o<s.length)){e.next=24;break}if(!1===(l=s[o]).options){e.next=21;break}return e.prev=10,e.t0=i,e.delegateYield(dD(l,a),"t1",13);case 13:e.t2=e.t1,e.t0.push.call(e.t0,e.t2),e.next=21;break;case 17:throw e.prev=17,e.t3=e.catch(10),"BABEL_UNKNOWN_PLUGIN_PROPERTY"===e.t3.code&&Vk(s,o,"plugin",e.t3),e.t3;case 21:o++,e.next=7;break;case 24:e.next=2;break;case 26:case"end":return e.stop()}},e,null,[[10,17]])}))(),"t2",23);case 23:return f.plugins=d[0],f.presets=d.slice(1).filter(function(e){return e.length>0}).map(function(e){return{plugins:e}}),f.passPerPreset=f.presets.length>0,e.abrupt("return",{options:f,passes:d});case 27:case"end":return e.stop()}},e)}));function uD(e,t){return JA.mark(function r(n,a){return JA.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.delegateYield(t(n,a),"t0",2);case 2:return r.abrupt("return",r.t0);case 5:throw r.prev=5,r.t1=r.catch(0),/^\[BABEL\]/.test(r.t1.message)||(r.t1.message="[BABEL] "+(e.filename||"unknown")+": "+r.t1.message),r.t1;case 9:case"end":return r.stop()}},r,null,[[0,5]])})}var pD=zP(JA.mark(function e(t,n){var a,s,i,o,l,c;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.value,s=t.options,i=t.dirname,o=t.alias,!1!==s){e.next=3;break}throw new Error("Assertion failure");case 3:if(s=s||{},l=a,"function"!=typeof a){e.next=15;break}c=Object.assign({},r,ZC(n)),e.prev=7,l=a(c,s,i),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(7),o&&(e.t0.message+=" (While processing: "+JSON.stringify(o)+")"),e.t0;case 15:if(l&&"object"==typeof l){e.next=17;break}throw new Error("Plugin/Preset did not return an object.");case 17:if("function"!=typeof l.then){e.next=20;break}return e.delegateYield([],"t1",19);case 19:throw new Error("You appear to be using an async plugin, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.");case 20:return e.abrupt("return",{value:l,options:s,dirname:i,alias:o});case 21:case"end":return e.stop()}},e,null,[[7,11]])}));function dD(e,t){return JA.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e.value instanceof bk)){r.next=4;break}if(!e.options){r.next=3;break}throw new Error("Passed options to an existing Plugin instance will not work.");case 3:return r.abrupt("return",e.value);case 4:return r.t0=fD,r.delegateYield(pD(e,t),"t1",6);case 6:return r.t2=r.t1,r.t3=t,r.delegateYield((0,r.t0)(r.t2,r.t3),"t4",9);case 9:return r.abrupt("return",r.t4);case 10:case"end":return r.stop()}},oD)}var fD=zP(JA.mark(function e(t,r){var n,a,s,i,o,l,c,u;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.value,a=t.options,s=t.dirname,i=t.alias,o=QC(n),(l=Object.assign({},o)).visitor&&(l.visitor=Kw.explode(Object.assign({},l.visitor))),!l.inherits){e.next=12;break}return c={name:void 0,alias:i+"$inherits",value:l.inherits,options:a,dirname:s},e.delegateYield(NP(dD,function(e){return r.invalidate(function(t){return e(c,t)})}),"t0",7);case 7:u=e.t0,l.pre=vD(u.pre,l.pre),l.post=vD(u.post,l.post),l.manipulateOptions=vD(u.manipulateOptions,l.manipulateOptions),l.visitor=Kw.visitors.merge([u.visitor||{},l.visitor||{}]);case 12:return e.abrupt("return",new bk(l,a,i));case 13:case"end":return e.stop()}},e)})),hD=function(e,t){if(e.test||e.include||e.exclude){var r=t.name?'"'+t.name+'"':"/* your preset */";throw new Error(["Preset "+r+" requires a filename to be set when babel is called directly,","```","babel.transform(code, { filename: 'file.ts', presets: ["+r+"] });","```","See https://babeljs.io/docs/en/options#filename for more information."].join("\n"))}},mD=function(e,t,r){if(!t.filename){var n=e.options;hD(n,r),n.overrides&&n.overrides.forEach(function(e){return hD(e,r)})}};function yD(e,t){var r;return JA.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=gD,n.delegateYield(pD(e,t),"t1",2);case 2:return n.t2=n.t1,r=(0,n.t0)(n.t2),mD(r,t,e),n.delegateYield(gC(r,t),"t3",6);case 6:return n.abrupt("return",n.t3);case 7:case"end":return n.stop()}},lD)}var gD=qP(function(e){var t=e.value,r=e.dirname,n=e.alias;return{options:Mk("preset",t),alias:n,dirname:r}});function vD(e,t){var r=[e,t].filter(Boolean);return r.length<=1?r[0]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a,s=U(r);!(a=s()).done;){var i=a.value;i.apply(this,t)}}}var bD=EP(JA.mark(function e(t){var r,n;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(cD(t),"t0",1);case 1:return n=e.t0,e.abrupt("return",null!=(r=null==n?void 0:n.options)?r:null);case 3:case"end":return e.stop()}},e)})),xD=function(e){return function(t,r){return void 0===r&&"function"==typeof t&&(r=t,t=void 0),r?e.errback(t,r):e.sync(t)}},ED=xD(sD),wD=sD.sync,SD=sD.async,TD=xD(bD),jD=bD.sync,AD=bD.async,PD=function(){function e(e,t,r){this._map=new Map,this.key=void 0,this.file=void 0,this.opts=void 0,this.cwd=void 0,this.filename=void 0,this.key=t,this.file=e,this.opts=r||{},this.cwd=e.opts.cwd,this.filename=e.opts.filename}var t=e.prototype;return t.set=function(e,t){this._map.set(e,t)},t.get=function(e){return this._map.get(e)},t.availableHelper=function(e,t){return this.file.availableHelper(e,t)},t.addHelper=function(e){return this.file.addHelper(e)},t.addImport=function(){return this.file.addImport()},t.getModuleName=function(){return this.file.getModuleName()},t.buildCodeFrameError=function(e,t,r){return this.file.buildCodeFrameError(e,t,r)},e}(),kD=Hr?Hr.isConcatSpreadable:void 0;var CD=function(e){return ea(e)||Zn(e)||!!(kD&&e&&e[kD])};var DD=function e(t,r,n,a,s){var i=-1,o=t.length;for(n||(n=CD),s||(s=[]);++i<o;){var l=t[i];r>0&&n(l)?r>1?e(l,r-1,n,a,s):Fa(s,l):a||(s[s.length]=l)}return s},_D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ID=/^\w*$/;var OD=function(e,t){if(ea(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!vj(e))||(ID.test(e)||!_D.test(e)||null!=t&&e in Object(t))};function ND(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(ND.Cache||Rn),r}ND.Cache=Rn;var BD=ND;var FD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RD=/\\(\\)?/g,MD=function(e){var t=BD(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(FD,function(e,r,n,a){t.push(n?a.replace(RD,"$1"):r||e)}),t});var LD=function(e,t){return ea(e)?e:OD(e,t)?[e]:MD(qk(e))};var UD=function(e){if("string"==typeof e||vj(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var WD=function(e,t){for(var r=0,n=(t=LD(t,e)).length;null!=e&&r<n;)e=e[UD(t[r++])];return r&&r==n?e:void 0};var VD=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var GD=function(e){return this.__data__.has(e)};function KD(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Rn;++t<r;)this.add(e[t])}KD.prototype.add=KD.prototype.push=VD,KD.prototype.has=GD;var HD=KD;var zD=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var qD=function(e,t){return e.has(t)};var XD=function(e,t,r,n,a,s){var i=1&r,o=e.length,l=t.length;if(o!=l&&!(i&&l>o))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var p=-1,d=!0,f=2&r?new HD:void 0;for(s.set(e,t),s.set(t,e);++p<o;){var h=e[p],m=t[p];if(n)var y=i?n(m,h,p,t,e,s):n(h,m,p,e,t,s);if(void 0!==y){if(y)continue;d=!1;break}if(f){if(!zD(t,function(e,t){if(!qD(f,t)&&(h===e||a(h,e,r,n,s)))return f.push(t)})){d=!1;break}}else if(h!==m&&!a(h,m,r,n,s)){d=!1;break}}return s.delete(e),s.delete(t),d};var JD=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r};var YD=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},$D=Hr?Hr.prototype:void 0,QD=$D?$D.valueOf:void 0;var ZD=function(e,t,r,n,a,s,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new os(e),new os(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Tr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=JD;case"[object Set]":var l=1&n;if(o||(o=YD),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;n|=2,i.set(e,t);var u=XD(o(e),o(t),n,a,s,i);return i.delete(e),u;case"[object Symbol]":if(QD)return QD.call(e)==QD.call(t)}return!1},e_=Object.prototype.hasOwnProperty;var t_=function(e,t,r,n,a,s){var i=1&r,o=Wa(e),l=o.length;if(l!=Wa(t).length&&!i)return!1;for(var c=l;c--;){var u=o[c];if(!(i?u in t:e_.call(t,u)))return!1}var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var f=!0;s.set(e,t),s.set(t,e);for(var h=i;++c<l;){var m=e[u=o[c]],y=t[u];if(n)var g=i?n(y,m,u,t,e,s):n(m,y,u,e,t,s);if(!(void 0===g?m===y||a(m,y,r,n,s):g)){f=!1;break}h||(h="constructor"==u)}if(f&&!h){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return s.delete(e),s.delete(t),f},r_="[object Arguments]",n_="[object Array]",a_="[object Object]",s_=Object.prototype.hasOwnProperty;var i_=function(e,t,r,n,a,s){var i=ea(e),o=ea(t),l=i?n_:as(e),c=o?n_:as(t),u=(l=l==r_?a_:l)==a_,p=(c=c==r_?a_:c)==a_,d=l==c;if(d&&ra(e)){if(!ra(t))return!1;i=!0,u=!1}if(d&&!u)return s||(s=new Un),i||pa(e)?XD(e,t,r,n,a,s):ZD(e,t,l,r,n,a,s);if(!(1&r)){var f=u&&s_.call(e,"__wrapped__"),h=p&&s_.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,y=h?t.value():t;return s||(s=new Un),a(m,y,r,n,s)}}return!!d&&(s||(s=new Un),t_(e,t,r,n,a,s))};var o_=function e(t,r,n,a,s){return t===r||(null==t||null==r||!Xn(t)&&!Xn(r)?t!=t&&r!=r:i_(t,r,n,a,e,s))};var l_=function(e,t,r,n){var a=r.length,s=a,i=!n;if(null==e)return!s;for(e=Object(e);a--;){var o=r[a];if(i&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<s;){var l=(o=r[a])[0],c=e[l],u=o[1];if(i&&o[2]){if(void 0===c&&!(l in e))return!1}else{var p=new Un;if(n)var d=n(c,u,l,e,t,p);if(!(void 0===d?o_(u,c,3,n,p):d))return!1}}return!0};var c_=function(e){return e==e&&!tn(e)};var u_=function(e){for(var t=Ea(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,c_(a)]}return t};var p_=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}};var d_=function(e){var t=u_(e);return 1==t.length&&t[0][2]?p_(t[0][0],t[0][1]):function(r){return r===e||l_(r,e,t)}};var f_=function(e,t,r){var n=null==e?void 0:WD(e,t);return void 0===n?r:n};var h_=function(e,t){return null!=e&&t in Object(e)};var m_=function(e,t,r){for(var n=-1,a=(t=LD(t,e)).length,s=!1;++n<a;){var i=UD(t[n]);if(!(s=null!=e&&r(e,i)))break;e=e[i]}return s||++n!=a?s:!!(a=null==e?0:e.length)&&sa(a)&&aa(i,a)&&(ea(e)||Zn(e))};var y_=function(e,t){return null!=e&&m_(e,t,h_)};var g_=function(e,t){return OD(e)&&c_(t)?p_(UD(e),t):function(r){var n=f_(r,e);return void 0===n&&n===t?y_(r,e):o_(t,n,3)}};var v_=function(e){return e};var b_=function(e){return function(t){return null==t?void 0:t[e]}};var x_=function(e){return function(t){return WD(t,e)}};var E_=function(e){return OD(e)?b_(UD(e)):x_(e)};var w_=function(e){return"function"==typeof e?e:null==e?v_:"object"==typeof e?ea(e)?g_(e[0],e[1]):d_(e):E_(e)};var S_=function(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),o=i.length;o--;){var l=i[e?o:++a];if(!1===r(s[l],l,s))break}return t}}();var T_=function(e,t){return function(r,n){if(null==r)return r;if(!xa(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&!1!==n(i[s],s,i););return r}}(function(e,t){return e&&S_(e,t,Ea)});var j_=function(e,t){var r=-1,n=xa(e)?Array(e.length):[];return T_(e,function(e,a,s){n[++r]=t(e,a,s)}),n};var A_=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e};var P_=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,a=e==e,s=vj(e),i=void 0!==t,o=null===t,l=t==t,c=vj(t);if(!o&&!c&&!s&&e>t||s&&i&&l&&!o&&!c||n&&i&&l||!r&&l||!a)return 1;if(!n&&!s&&!c&&e<t||c&&r&&a&&!n&&!s||o&&r&&a||!i&&a||!l)return-1}return 0};var k_=function(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,o=r.length;++n<i;){var l=P_(a[n],s[n]);if(l)return n>=o?l:l*("desc"==r[n]?-1:1)}return e.index-t.index};var C_=function(e,t,r){t=t.length?Gk(t,function(e){return ea(e)?function(t){return WD(t,1===e.length?e[0]:e)}:e}):[v_];var n=-1;t=Gk(t,la(w_));var a=j_(e,function(e,r,a){return{criteria:Gk(t,function(t){return t(e)}),index:++n,value:e}});return A_(a,function(e,t){return k_(e,t,r)})};var D_=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},__=Math.max;var I_=function(e,t,r){return t=__(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=__(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(i),D_(e,this,o)}};var O_=function(e){return function(){return e}},N_=Vn?function(e,t){return Vn(e,"toString",{configurable:!0,enumerable:!1,value:O_(t),writable:!0})}:v_,B_=Date.now;var F_=function(e){var t=0,r=0;return function(){var n=B_(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(N_);var R_,M_=function(e,t){return F_(I_(e,t,v_),e+"")},L_=M_(function(e,t){if(null==e)return[];var r=t.length;return r>1&&gj(e,t[0],t[1])?t=[]:r>2&&gj(t[0],t[1],t[2])&&(t=[t[0]]),C_(e,DD(t,1),[])});function U_(){if(!R_){var e=cD.sync({babelrc:!1,configFile:!1,plugins:[W_]});if(!(R_=e?e.passes[0][0]:void 0))throw new Error("Assertion failure")}return R_}var W_={name:"internal.blockHoist",visitor:{Block:{exit:function(e){for(var t=e.node,r=!1,n=0;n<t.body.length;n++){var a=t.body[n];if(null!=(null==a?void 0:a._blockHoist)){r=!0;break}}r&&(t.body=L_(t.body,function(e){var t=null==e?void 0:e._blockHoist;return null==t&&(t=1),!0===t&&(t=2),-1*t}))}}}};function V_(e){for(var t,r=e.options,n=r.filename,a=r.cwd,s=r.filenameRelative,i=void 0===s?"string"==typeof n?uA.relative(a,n):"unknown":s,o=r.sourceType,l=void 0===o?"module":o,c=r.inputSourceMap,u=r.sourceMaps,p=void 0===u?!!c:u,d=r.moduleRoot,f=r.sourceRoot,h=void 0===f?d:f,m=r.sourceFileName,y=void 0===m?uA.basename(i):m,g=r.comments,v=void 0===g||g,b=r.compact,x=void 0===b?"auto":b,E=e.options,w=Object.assign({},E,{parserOpts:Object.assign({sourceType:".mjs"===uA.extname(i)?"module":l,sourceFileName:n,plugins:[]},E.parserOpts),generatorOpts:Object.assign({filename:n,auxiliaryCommentBefore:E.auxiliaryCommentBefore,auxiliaryCommentAfter:E.auxiliaryCommentAfter,retainLines:E.retainLines,comments:v,shouldPrintComment:E.shouldPrintComment,compact:x,minified:E.minified,sourceMaps:p,sourceRoot:h,sourceFileName:y},E.generatorOpts)}),S=U(e.passes);!(t=S()).done;)for(var T,j=U(t.value);!(T=j()).done;){var A=T.value;A.manipulateOptions&&A.manipulateOptions(w,w.parserOpts)}return w}var G_={};var K_=function(e){return Ds(e,5)},H_=Object.freeze({__proto__:null,default:{}}),z_=Lr(function(e,t){var r=uv.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=uv:(n(uv,t),t.Buffer=a),n(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var a=r(e);return void 0!==t?"string"==typeof n?a.fill(t,n):a.fill(t):a.fill(0),a},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return uv.SlowBuffer(e)}}),q_=Ur(H_),X_=Lr(function(e,t){function r(e,r){(r=r||{}).isFileComment&&(e=function(e,r){var n=t.mapFileCommentRegex.exec(e),a=n[1]||n[2],s=uA.resolve(r,a);try{return q_.readFileSync(s,"utf8")}catch(e){throw new Error("An error occurred while trying to read the map file at "+s+"\n"+e)}}(e,r.commentFileDir)),r.hasComment&&(e=function(e){return e.split(",").pop()}(e)),r.isEncoded&&(e=function(e){return z_.Buffer.from(e,"base64").toString()}(e)),(r.isJSON||r.isEncoded)&&(e=JSON.parse(e)),this.sourcemap=e}Object.defineProperty(t,"commentRegex",{get:function(){return/^\s*\/(?:\/|\*)[@#]\s+sourceMappingURL=data:(?:application|text)\/json;(?:charset[:=]\S+?;)?base64,(?:.*)$/gm}}),Object.defineProperty(t,"mapFileCommentRegex",{get:function(){return/(?:\/\/[@#][ \t]+sourceMappingURL=([^\s'"`]+?)[ \t]*$)|(?:\/\*[@#][ \t]+sourceMappingURL=([^\*]+?)[ \t]*(?:\*\/){1}[ \t]*$)/gm}}),r.prototype.toJSON=function(e){return JSON.stringify(this.sourcemap,null,e)},r.prototype.toBase64=function(){var e=this.toJSON();return z_.Buffer.from(e,"utf8").toString("base64")},r.prototype.toComment=function(e){var t="sourceMappingURL=data:application/json;charset=utf-8;base64,"+this.toBase64();return e&&e.multiline?"/*# "+t+" */":"//# "+t},r.prototype.toObject=function(){return JSON.parse(this.toJSON())},r.prototype.addProperty=function(e,t){if(this.sourcemap.hasOwnProperty(e))throw new Error('property "'+e+'" already exists on the sourcemap, use set property instead');return this.setProperty(e,t)},r.prototype.setProperty=function(e,t){return this.sourcemap[e]=t,this},r.prototype.getProperty=function(e){return this.sourcemap[e]},t.fromObject=function(e){return new r(e)},t.fromJSON=function(e){return new r(e,{isJSON:!0})},t.fromBase64=function(e){return new r(e,{isEncoded:!0})},t.fromComment=function(e){return new r(e=e.replace(/^\/\*/g,"//").replace(/\*\/$/g,""),{isEncoded:!0,hasComment:!0})},t.fromMapFileComment=function(e,t){return new r(e,{commentFileDir:t,isFileComment:!0,isJSON:!0})},t.fromSource=function(e){var r=e.match(t.commentRegex);return r?t.fromComment(r.pop()):null},t.fromMapFileSource=function(e,r){var n=e.match(t.mapFileCommentRegex);return n?t.fromMapFileComment(n.pop(),r):null},t.removeComments=function(e){return e.replace(t.commentRegex,"")},t.removeMapFileComments=function(e){return e.replace(t.mapFileCommentRegex,"")},t.generateMapFileComment=function(e,t){var r="sourceMappingURL="+e;return t&&t.multiline?"/*# "+r+" */":"//# "+r}}),J_={classProperties:{syntax:{name:"@babel/plugin-syntax-class-properties",url:"https://git.io/vb4yQ"},transform:{name:"@babel/plugin-proposal-class-properties",url:"https://git.io/vb4SL"}},classPrivateProperties:{syntax:{name:"@babel/plugin-syntax-class-properties",url:"https://git.io/vb4yQ"},transform:{name:"@babel/plugin-proposal-class-properties",url:"https://git.io/vb4SL"}},classPrivateMethods:{syntax:{name:"@babel/plugin-syntax-class-properties",url:"https://git.io/vb4yQ"},transform:{name:"@babel/plugin-proposal-private-methods",url:"https://git.io/JvpRG"}},classStaticBlock:{syntax:{name:"@babel/plugin-syntax-class-static-block",url:"https://git.io/JTLB6"},transform:{name:"@babel/plugin-proposal-class-static-block",url:"https://git.io/JTLBP"}},decimal:{syntax:{name:"@babel/plugin-syntax-decimal",url:"https://git.io/JfKOH"}},decorators:{syntax:{name:"@babel/plugin-syntax-decorators",url:"https://git.io/vb4y9"},transform:{name:"@babel/plugin-proposal-decorators",url:"https://git.io/vb4ST"}},doExpressions:{syntax:{name:"@babel/plugin-syntax-do-expressions",url:"https://git.io/vb4yh"},transform:{name:"@babel/plugin-proposal-do-expressions",url:"https://git.io/vb4S3"}},dynamicImport:{syntax:{name:"@babel/plugin-syntax-dynamic-import",url:"https://git.io/vb4Sv"}},exportDefaultFrom:{syntax:{name:"@babel/plugin-syntax-export-default-from",url:"https://git.io/vb4SO"},transform:{name:"@babel/plugin-proposal-export-default-from",url:"https://git.io/vb4yH"}},exportNamespaceFrom:{syntax:{name:"@babel/plugin-syntax-export-namespace-from",url:"https://git.io/vb4Sf"},transform:{name:"@babel/plugin-proposal-export-namespace-from",url:"https://git.io/vb4SG"}},flow:{syntax:{name:"@babel/plugin-syntax-flow",url:"https://git.io/vb4yb"},transform:{name:"@babel/preset-flow",url:"https://git.io/JfeDn"}},functionBind:{syntax:{name:"@babel/plugin-syntax-function-bind",url:"https://git.io/vb4y7"},transform:{name:"@babel/plugin-proposal-function-bind",url:"https://git.io/vb4St"}},functionSent:{syntax:{name:"@babel/plugin-syntax-function-sent",url:"https://git.io/vb4yN"},transform:{name:"@babel/plugin-proposal-function-sent",url:"https://git.io/vb4SZ"}},importMeta:{syntax:{name:"@babel/plugin-syntax-import-meta",url:"https://git.io/vbKK6"}},jsx:{syntax:{name:"@babel/plugin-syntax-jsx",url:"https://git.io/vb4yA"},transform:{name:"@babel/preset-react",url:"https://git.io/JfeDR"}},importAssertions:{syntax:{name:"@babel/plugin-syntax-import-assertions",url:"https://git.io/JUbkv"}},moduleStringNames:{syntax:{name:"@babel/plugin-syntax-module-string-names",url:"https://git.io/JTL8G"}},numericSeparator:{syntax:{name:"@babel/plugin-syntax-numeric-separator",url:"https://git.io/vb4Sq"},transform:{name:"@babel/plugin-proposal-numeric-separator",url:"https://git.io/vb4yS"}},optionalChaining:{syntax:{name:"@babel/plugin-syntax-optional-chaining",url:"https://git.io/vb4Sc"},transform:{name:"@babel/plugin-proposal-optional-chaining",url:"https://git.io/vb4Sk"}},pipelineOperator:{syntax:{name:"@babel/plugin-syntax-pipeline-operator",url:"https://git.io/vb4yj"},transform:{name:"@babel/plugin-proposal-pipeline-operator",url:"https://git.io/vb4SU"}},privateIn:{syntax:{name:"@babel/plugin-syntax-private-property-in-object",url:"https://git.io/JfK3q"},transform:{
name:"@babel/plugin-proposal-private-property-in-object",url:"https://git.io/JfK3O"}},recordAndTuple:{syntax:{name:"@babel/plugin-syntax-record-and-tuple",url:"https://git.io/JvKp3"}},throwExpressions:{syntax:{name:"@babel/plugin-syntax-throw-expressions",url:"https://git.io/vb4SJ"},transform:{name:"@babel/plugin-proposal-throw-expressions",url:"https://git.io/vb4yF"}},typescript:{syntax:{name:"@babel/plugin-syntax-typescript",url:"https://git.io/vb4SC"},transform:{name:"@babel/preset-typescript",url:"https://git.io/JfeDz"}},asyncGenerators:{syntax:{name:"@babel/plugin-syntax-async-generators",url:"https://git.io/vb4SY"},transform:{name:"@babel/plugin-proposal-async-generator-functions",url:"https://git.io/vb4yp"}},logicalAssignment:{syntax:{name:"@babel/plugin-syntax-logical-assignment-operators",url:"https://git.io/vAlBp"},transform:{name:"@babel/plugin-proposal-logical-assignment-operators",url:"https://git.io/vAlRe"}},nullishCoalescingOperator:{syntax:{name:"@babel/plugin-syntax-nullish-coalescing-operator",url:"https://git.io/vb4yx"},transform:{name:"@babel/plugin-proposal-nullish-coalescing-operator",url:"https://git.io/vb4Se"}},objectRestSpread:{syntax:{name:"@babel/plugin-syntax-object-rest-spread",url:"https://git.io/vb4y5"},transform:{name:"@babel/plugin-proposal-object-rest-spread",url:"https://git.io/vb4Ss"}},optionalCatchBinding:{syntax:{name:"@babel/plugin-syntax-optional-catch-binding",url:"https://git.io/vb4Sn"},transform:{name:"@babel/plugin-proposal-optional-catch-binding",url:"https://git.io/vb4SI"}}};J_.privateIn.syntax=J_.privateIn.transform;var Y_=function(e){return e.name+" ("+e.url+")"};function $_(e,t,r){var n="Support for the experimental syntax '"+e+"' isn't currently enabled ("+t.line+":"+(t.column+1)+"):\n\n"+r,a=J_[e];if(a){var s=a.syntax,i=a.transform;if(s){var o=Y_(s);if(i)n+="\n\nAdd "+Y_(i)+" to the '"+(i.name.startsWith("@babel/plugin")?"plugins":"presets")+"' section of your Babel config to enable transformation.\nIf you want to leave it as-is, add "+o+" to the 'plugins' section to enable parsing.";else n+="\n\nAdd "+o+" to the 'plugins' section of your Babel config to enable parsing."}}return n}var Q_=JA.mark(Z_);function Z_(e,t,r){var n,a,s,i,o,l,c,u,p,d,f,h,m,y,g,v,b;return JA.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:for(n=t.parserOpts,a=t.highlightCode,s=void 0===a||a,i=t.filename,o=void 0===i?"unknown":i,x.prev=1,l=[],c=U(e);!(u=c()).done;)for(p=u.value,d=U(p);!(f=d()).done;)h=f.value,(m=h.parserOverride)&&void 0!==(y=m(r,n,mE))&&l.push(y);if(0!==l.length){x.next=8;break}return x.abrupt("return",mE(r,n));case 8:if(1!==l.length){x.next=13;break}return x.delegateYield([],"t0",10);case 10:if("function"!=typeof l[0].then){x.next=12;break}throw new Error("You appear to be using an async parser plugin, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.");case 12:return x.abrupt("return",l[0]);case 13:throw new Error("More than one plugin attempted to override parsing.");case 16:throw x.prev=16,x.t1=x.catch(1),"BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"===x.t1.code&&(x.t1.message+="\nConsider renaming the file to '.mjs', or setting sourceType:module or sourceType:unambiguous in your Babel config for this file."),g=x.t1.loc,v=x.t1.missingPlugin,g&&(b=Kb(r,{start:{line:g.line,column:g.column+1}},{highlightCode:s}),x.t1.message=v?o+": "+$_(v[0],g,b):o+": "+x.t1.message+"\n\n"+b,x.t1.code="BABEL_PARSE_ERROR"),x.t1;case 22:case"end":return x.stop()}},Q_,null,[[1,16]])}var eI=JA.mark(rI),tI=Yh("babel:transform:file");function rI(e,t,r,n){var a,s,i,o,l;return JA.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=""+(r||""),!n){c.next=12;break}if("Program"!==n.type){c.next=6;break}n=gl(n,[],[]),c.next=8;break;case 6:if("File"===n.type){c.next=8;break}throw new Error("AST root must be a Program or File node");case 8:t.cloneInputAst&&(n=K_(n)),c.next=14;break;case 12:return c.delegateYield(Z_(e,t,r),"t0",13);case 13:n=c.t0;case 14:if(a=null,!1!==t.inputSourceMap){if("object"==typeof t.inputSourceMap&&(a=X_.fromObject(t.inputSourceMap)),!a&&(s=iI(nI,n)))try{a=X_.fromComment(s)}catch(e){tI("discarding unknown inline input sourcemap",e)}if(!a)if(i=iI(aI,n),"string"==typeof t.filename&&i)try{o=aI.exec(i),(l=G_.readFileSync(uA.resolve(uA.dirname(t.filename),o[1]))).length>1e6?tI("skip merging input map > 1 MB"):a=X_.fromJSON(l)}catch(e){tI("discarding unknown file input sourcemap",e)}else i&&tI("discarding un-loadable file input sourcemap")}return c.abrupt("return",new WA(t,{code:r,ast:n,inputMap:a}));case 17:case"end":return c.stop()}},eI)}var nI=/^[@#]\s+sourceMappingURL=data:(?:application|text)\/json;(?:charset[:=]\S+?;)?base64,(?:.*)$/,aI=/^[@#][ \t]+sourceMappingURL=([^\s'"`]+)[ \t]*$/;function sI(e,t,r){return t&&(t=t.filter(function(t){var n=t.value;return!e.test(n)||(r=n,!1)})),[t,r]}function iI(e,t){var r=null;return Qf(t,function(t){var n=sI(e,t.leadingComments,r);t.leadingComments=n[0],r=n[1];var a=sI(e,t.innerComments,r);t.innerComments=a[0],r=a[1];var s=sI(e,t.trailingComments,r);t.trailingComments=s[0],r=s[1]}),r}function oI(e,t){for(var r,n=cI(e),a=cI(t),s=new xy.SourceMapGenerator,i=U(n.sources);!(r=i()).done;){var o=r.value.source;"string"==typeof o.content&&s.setSourceContent(o.path,o.content)}if(1===a.sources.length){var l=a.sources[0],c=new Map;!function(e,t){for(var r,n=U(e.sources);!(r=n()).done;)for(var a,s=r.value,i=s.source,o=U(s.mappings);!(a=o()).done;)for(var l,c=a.value,u=c.original,p=U(c.generated);!(l=p()).done;){t(l.value,u,i)}}(n,function(e,t,r){!function(e,t,r){for(var n,a=U(function(e,t){var r=e.mappings,n=t.line,a=t.columnStart,s=t.columnEnd;return function(e,t){for(var r=function(e,t){var r=0,n=e.length;for(;r<n;){var a=Math.floor((r+n)/2),s=t(e[a]);if(0===s){r=a;break}s>=0?n=a:r=a+1}var i=r;if(i<e.length){for(;i>=0&&t(e[i])>=0;)i--;return i+1}return i}(e,t),n=[],a=r;a<e.length&&0===t(e[a]);a++)n.push(e[a]);return n}(r,function(e){var t=e.original;return n>t.line?-1:n<t.line?1:a>=t.columnEnd?-1:s<=t.columnStart?1:0})}(e,t));!(n=a()).done;)for(var s,i=U(n.value.generated);!(s=i()).done;){r(s.value)}}(l,e,function(e){var n=lI(e);c.has(n)||(c.set(n,e),s.addMapping({source:r.path,original:{line:t.line,column:t.columnStart},generated:{line:e.line,column:e.columnStart},name:t.name}))})});for(var u,p=U(c.values());!(u=p()).done;){var d=u.value;if(d.columnEnd!==1/0){var f={line:d.line,columnStart:d.columnEnd},h=lI(f);c.has(h)||s.addMapping({generated:{line:f.line,column:f.columnStart}})}}}var m=s.toJSON();return"string"==typeof n.sourceRoot&&(m.sourceRoot=n.sourceRoot),m}function lI(e){return e.line+"/"+e.columnStart}function cI(e){var t=new xy.SourceMapConsumer(Object.assign({},e,{sourceRoot:null})),r=new Map,n=new Map,a=null;return t.computeColumnSpans(),t.eachMapping(function(e){if(null!==e.originalLine){var s=r.get(e.source);s||(s={path:e.source,content:t.sourceContentFor(e.source,!0)},r.set(e.source,s));var i=n.get(s);i||(i={source:s,mappings:[]},n.set(s,i));var o={line:e.originalLine,columnStart:e.originalColumn,columnEnd:1/0,name:e.name};a&&a.source===s&&a.mapping.line===e.originalLine&&(a.mapping.columnEnd=e.originalColumn),a={source:s,mapping:o},i.mappings.push({original:o,generated:t.allGeneratedPositionsFor({source:e.source,line:e.originalLine,column:e.originalColumn}).map(function(e){return{line:e.line,columnStart:e.column,columnEnd:e.lastColumn+1}})})}},null,xy.SourceMapConsumer.ORIGINAL_ORDER),{file:e.file,sourceRoot:e.sourceRoot,sources:Array.from(n.values())}}function uI(e,t){for(var r,n,a=t.opts,s=t.ast,i=t.code,o=t.inputMap,l=[],c=U(e);!(r=c()).done;)for(var u,p=U(r.value);!(u=p()).done;){var d=u.value.generatorOverride;if(d){var f=d(s,a.generatorOpts,i,Jv);void 0!==f&&l.push(f)}}if(0===l.length)n=Jv(s,a.generatorOpts,i);else{if(1!==l.length)throw new Error("More than one plugin attempted to override codegen.");if("function"==typeof(n=l[0]).then)throw new Error("You appear to be using an async codegen plugin, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.")}var h=n,m=h.code,y=h.map;return y&&o&&(y=oI(o.toObject(),y)),"inline"!==a.sourceMaps&&"both"!==a.sourceMaps||(m+="\n"+X_.fromObject(y).toComment()),"inline"===a.sourceMaps&&(y=null),{outputCode:m,outputMap:y}}var pI=JA.mark(fI),dI=JA.mark(hI);function fI(e,t,r){var n,a,s,i,o,l,c;return JA.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.delegateYield(rI(e.passes,V_(e),t,r),"t0",1);case 1:return n=u.t0,a=n.opts,u.prev=3,u.delegateYield(hI(n,e.passes),"t1",5);case 5:u.next=12;break;case 7:throw u.prev=7,u.t2=u.catch(3),u.t2.message=(null!=(s=a.filename)?s:"unknown")+": "+u.t2.message,u.t2.code||(u.t2.code="BABEL_TRANSFORM_ERROR"),u.t2;case 12:u.prev=12,!1!==a.code&&(l=uI(e.passes,n),i=l.outputCode,o=l.outputMap),u.next=21;break;case 16:throw u.prev=16,u.t3=u.catch(12),u.t3.message=(null!=(c=a.filename)?c:"unknown")+": "+u.t3.message,u.t3.code||(u.t3.code="BABEL_GENERATE_ERROR"),u.t3;case 21:return u.abrupt("return",{metadata:n.metadata,options:a,ast:!0===a.ast?n.ast:null,code:void 0===i?null:i,map:void 0===o?null:o,sourceType:n.ast.program.sourceType});case 22:case"end":return u.stop()}},pI,null,[[3,7],[12,16]])}function hI(e,t){var r,n,a,s,i,o,l,c,u,p,d,f,h,m,y,g,v,b,x,E,w,S,T,j,A;return JA.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:r=U(t);case 1:if((n=r()).done){P.next=35;break}for(a=n.value,s=[],i=[],o=[],l=U(a.concat([U_()]));!(c=l()).done;)u=c.value,p=new PD(e,u.key,u.options),s.push([u,p]),i.push(p),o.push(u.visitor);d=0,f=s;case 8:if(!(d<f.length)){P.next=19;break}if(h=f[d],m=h[0],y=h[1],!(g=m.pre)){P.next=16;break}return v=g.call(y,e),P.delegateYield([],"t0",14);case 14:if(!mI(v)){P.next=16;break}throw new Error("You appear to be using an plugin with an async .pre, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.");case 16:d++,P.next=8;break;case 19:b=Kw.visitors.merge(o,i,e.opts.wrapPluginVisitorMethod),Kw(e.ast,b,e.scope),x=0,E=s;case 22:if(!(x<E.length)){P.next=33;break}if(w=E[x],S=w[0],T=w[1],!(j=S.post)){P.next=30;break}return A=j.call(T,e),P.delegateYield([],"t1",28);case 28:if(!mI(A)){P.next=30;break}throw new Error("You appear to be using an plugin with an async .post, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.");case 30:x++,P.next=22;break;case 33:P.next=1;break;case 35:case"end":return P.stop()}},dI)}function mI(e){return!(!e||"object"!=typeof e&&"function"!=typeof e||!e.then||"function"!=typeof e.then)}var yI=EP(JA.mark(function e(t,r){var n;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(cD(r),"t0",1);case 1:if(null!==(n=e.t0)){e.next=4;break}return e.abrupt("return",null);case 4:return e.delegateYield(fI(n,t),"t1",5);case 5:return e.abrupt("return",e.t1);case 6:case"end":return e.stop()}},e)})),gI=function(e,t,r){if("function"==typeof t&&(r=t,t=void 0),void 0===r)return yI.sync(e,t);yI.errback(e,t,r)},vI=yI.sync,bI=yI.async,xI=function(e,t,r){"function"==typeof t&&(r=t),r(new Error("Transforming files is not supported in browsers"),null)};function EI(){throw new Error("Transforming files is not supported in browsers")}function wI(){return Promise.reject(new Error("Transforming files is not supported in browsers"))}var SI=EP(JA.mark(function e(t,r,n){var a;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(cD(n),"t0",1);case 1:if(null!==(a=e.t0)){e.next=4;break}return e.abrupt("return",null);case 4:if(t){e.next=6;break}throw new Error("No AST given");case 6:return e.delegateYield(fI(a,r,t),"t1",7);case 7:return e.abrupt("return",e.t1);case 8:case"end":return e.stop()}},e)})),TI=function(e,t,r,n){if("function"==typeof r&&(n=r,r=void 0),void 0===n)return SI.sync(e,t,r);SI.errback(e,t,r,n)},jI=SI.sync,AI=SI.async,PI=EP(JA.mark(function e(t,r){var n;return JA.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(cD(r),"t0",1);case 1:if(null!==(n=e.t0)){e.next=4;break}return e.abrupt("return",null);case 4:return e.delegateYield(Z_(n.passes,V_(n),t),"t1",5);case 5:return e.abrupt("return",e.t1);case 6:case"end":return e.stop()}},e)})),kI=function(e,t,r){if("function"==typeof t&&(r=t,t=void 0),void 0===r)return PI.sync(e,t);PI.errback(e,t,r)},CI=PI.sync,DI=PI.async,_I=Object.freeze([".js",".jsx",".es6",".es",".mjs"]),II=function(){function e(){}return e.prototype.init=function(e){return TD(e)},e}();function OI(e){throw new Error("The ("+e+") Babel 5 plugin is being run with an unsupported Babel version.")}function NI(e){return function(t,r,n){return t.assertVersion||(t=Object.assign(function(e){var t=null;"string"==typeof e.version&&/^7\./.test(e.version)&&(!(t=Object.getPrototypeOf(e))||BI(t,"version")&&BI(t,"transform")&&BI(t,"template")&&BI(t,"types")||(t=null));return Object.assign({},t,e)}(t),{assertVersion:function(e){!function(e,t){if("number"==typeof e){if(!Number.isInteger(e))throw new Error("Expected string or integer value.");e="^"+e+".0.0-0"}if("string"!=typeof e)throw new Error("Expected string or integer value.");var r,n=Error.stackTraceLimit;"number"==typeof n&&n<25&&(Error.stackTraceLimit=25);r="7."===t.slice(0,2)?new Error('Requires Babel "^7.0.0-beta.41", but was loaded with "'+t+"\". You'll need to update your @babel/core version."):new Error('Requires Babel "'+e+'", but was loaded with "'+t+'". If you are sure you have a compatible version of @babel/core, it is likely that something in your build process is loading the wrong version. Inspect the stack trace of this error to look for the first entry that doesn\'t mention "@babel/core" or "babel-core" to see what is calling Babel.');"number"==typeof n&&(Error.stackTraceLimit=n);throw Object.assign(r,{code:"BABEL_VERSION_UNSUPPORTED",version:t,range:e})}(e,t.version)}})),e(t,r||{},n)}}function BI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var FI=Object.freeze({__proto__:null,declare:NI}),RI=NI(function(e,t){e.assertVersion(7);var r=t.helperVersion,n=void 0===r?"7.0.0-beta.0":r,a=t.whitelist,s=void 0!==a&&a;if(!1!==s&&(!Array.isArray(s)||s.some(function(e){return"string"!=typeof e})))throw new Error(".whitelist must be undefined, false, or an array of strings");var i=s?new Set(s):null;return{name:"external-helpers",pre:function(e){e.set("helperGenerator",function(t){if((!e.availableHelper||e.availableHelper(t,n))&&(!i||i.has(t)))return _l(wl("babelHelpers"),wl(t))})}}}),MI=Ur(FI),LI=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-async-generators",manipulateOptions:function(e,t){t.plugins.push("asyncGenerators")}}});t.default=r})),UI=NI(function(e){return e.assertVersion(7),{name:"syntax-class-properties",manipulateOptions:function(e,t){t.plugins.push("classProperties","classPrivateProperties","classPrivateMethods")}}}),WI=NI(function(e){return e.assertVersion(7),{name:"syntax-class-static-block",manipulateOptions:function(e,t){t.plugins.push("classStaticBlock")}}}),VI=NI(function(e){return e.assertVersion(7),{name:"syntax-decimal",manipulateOptions:function(e,t){t.plugins.push("decimal")}}}),GI=NI(function(e,t){e.assertVersion(7);var r=t.legacy,n=void 0!==r&&r;if("boolean"!=typeof n)throw new Error("'legacy' must be a boolean.");var a=t.decoratorsBeforeExport;if(void 0===a){if(!n)throw new Error("The '@babel/plugin-syntax-decorators' plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you want to use the legacy decorators semantics, you can set the 'legacy: true' option.")}else{if(n)throw new Error("'decoratorsBeforeExport' can't be used with legacy decorators.");if("boolean"!=typeof a)throw new Error("'decoratorsBeforeExport' must be a boolean.")}return{name:"syntax-decorators",manipulateOptions:function(e,t){t.plugins.push(n?"decorators-legacy":["decorators",{decoratorsBeforeExport:a}])}}}),KI=NI(function(e){return e.assertVersion(7),{name:"syntax-do-expressions",manipulateOptions:function(e,t){t.plugins.push("doExpressions")}}}),HI=NI(function(e){return e.assertVersion(7),{name:"syntax-export-default-from",manipulateOptions:function(e,t){t.plugins.push("exportDefaultFrom")}}}),zI=NI(function(e,t){e.assertVersion(7);var r=t.all,n=t.enums;if("boolean"!=typeof r&&void 0!==r)throw new Error(".all must be a boolean, or undefined");if("boolean"!=typeof n&&void 0!==n)throw new Error(".enums must be a boolean, or undefined");return{name:"syntax-flow",manipulateOptions:function(e,t){t.plugins.some(function(e){return"typescript"===(Array.isArray(e)?e[0]:e)})||t.plugins.push(["flow",{all:r,enums:n}])}}}),qI=NI(function(e){return e.assertVersion(7),{name:"syntax-function-bind",manipulateOptions:function(e,t){t.plugins.push("functionBind")}}}),XI=NI(function(e){return e.assertVersion(7),{name:"syntax-function-sent",manipulateOptions:function(e,t){t.plugins.push("functionSent")}}}),JI=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-import-meta",manipulateOptions:function(e,t){t.plugins.push("importMeta")}}});t.default=r})),YI=NI(function(e){return e.assertVersion(7),{name:"syntax-jsx",manipulateOptions:function(e,t){t.plugins.some(function(e){return"typescript"===(Array.isArray(e)?e[0]:e)})||t.plugins.push("jsx")}}}),$I=NI(function(e){return e.assertVersion(7),{name:"syntax-import-assertions",manipulateOptions:function(e,t){t.plugins.push(["importAssertions"])}}}),QI=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-object-rest-spread",manipulateOptions:function(e,t){t.plugins.push("objectRestSpread")}}});t.default=r})),ZI=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-optional-catch-binding",manipulateOptions:function(e,t){t.plugins.push("optionalCatchBinding")}}});t.default=r})),eO=["minimal","smart","fsharp"],tO=NI(function(e,t){var r=t.proposal;if(e.assertVersion(7),"string"!=typeof r||!eO.includes(r))throw new Error("The pipeline operator plugin requires a 'proposal' option.'proposal' must be one of: "+eO.join(", ")+". More details: https://babeljs.io/docs/en/next/babel-plugin-proposal-pipeline-operator");return{name:"syntax-pipeline-operator",manipulateOptions:function(e,t){t.plugins.push(["pipelineOperator",{proposal:r}])}}}),rO=NI(function(e,t){return e.assertVersion(7),{name:"syntax-record-and-tuple",manipulateOptions:function(e,r){e.generatorOpts.recordAndTupleSyntaxType=t.syntaxType,r.plugins.push(["recordAndTuple",{syntaxType:t.syntaxType}])}}}),nO=NI(function(e){return e.assertVersion(7),{name:"syntax-top-level-await",manipulateOptions:function(e,t){t.plugins.push("topLevelAwait")}}});function aO(e,t){var r=[];e.forEach(function(e,n){(Array.isArray(e)?e[0]:e)===t&&r.unshift(n)});for(var n=0,a=r;n<a.length;n++){var s=a[n];e.splice(s,1)}}var sO=NI(function(e,t){var r=t.isTSX;return e.assertVersion(7),{name:"syntax-typescript",manipulateOptions:function(e,t){var n=t.plugins;aO(n,"flow"),aO(n,"jsx"),t.plugins.push("typescript","classProperties","objectRestSpread"),r&&t.plugins.push("jsx")}}}),iO=JE.expression("\n  (function () {\n    var REF = FUNCTION;\n    return function NAME(PARAMS) {\n      return REF.apply(this, arguments);\n    };\n  })()\n"),oO=JE.expression("\n  (function () {\n    var REF = FUNCTION;\n    function NAME(PARAMS) {\n      return REF.apply(this, arguments);\n    }\n    return NAME;\n  })()\n"),lO=JE("\n  function NAME(PARAMS) { return REF.apply(this, arguments); }\n  function REF() {\n    REF = FUNCTION;\n    return REF.apply(this, arguments);\n  }\n");function cO(e,t){e.isMethod()?function(e,t){var r=e.node,n=r.body,a=El(null,[],ol(n.body),!0);n.body=[Ml(cl(cl(t,[a]),[]))],r.async=!1,r.generator=!1,e.get("body.body.0.argument.callee.arguments.0").unwrapFunctionEnvironment()}(e,t):function(e,t){var r=e.node,n=e.isFunctionDeclaration(),a=r.id,s=n?lO:a?oO:iO;e.isArrowFunctionExpression()&&e.arrowFunctionToExpression(),r.id=null,n&&(r.type="FunctionExpression");var i=cl(t,[r]),o=s({NAME:a||null,REF:e.scope.generateUidIdentifier(a?a.name:"ref"),FUNCTION:i,PARAMS:r.params.reduce(function(t,r){return t.done=t.done||Le(r)||ke(r),t.done||t.params.push(e.scope.generateUidIdentifier("x")),t},{params:[],done:!1}).params});if(n)e.replaceWith(o[0]),e.insertAfter(o[1]);else{var l=o.callee.body.body[1].argument;a||ew({node:l,parent:e.parent,scope:e.scope}),!l||l.id||r.params.length?e.replaceWith(o):e.replaceWith(i)}}(e,t)}function uO(e){var t,r=e.node||e;(t=r.leadingComments)&&t.some(function(e){return/[@#]__PURE__/.test(e.value)})||qd(r,"leading","#__PURE__")}var pO={Function:function(e){e.skip()},AwaitExpression:function(e,t){var r=t.wrapAwait,n=e.get("argument");e.parentPath.isYieldExpression()?e.replaceWith(n.node):e.replaceWith(Ec(r?cl(Gd(r),[n.node]):n.node))}};function dO(e,t){e.traverse(pO,{wrapAwait:t.wrapAwait});var r=function(e){if(e.parentPath.isCallExpression({callee:e.node}))return!0;var t=e.parentPath;if(t.isMemberExpression()&&he(t.node.property,{name:"bind"})){var r=t.parentPath;return r.isCallExpression()&&1===r.node.arguments.length&&Oe(r.node.arguments[0])&&r.parentPath.isCallExpression({callee:r.node})}return!1}(e);e.node.async=!1,e.node.generator=!0,cO(e,Gd(t.wrapAsync)),e.isObjectMethod()||e.isClassMethod()||e.parentPath.isObjectProperty()||e.parentPath.isClassProperty()||r||!e.isExpression()||uO(e)}var fO=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-async-generators",manipulateOptions:function(e,t){t.plugins.push("asyncGenerators")}}});t.default=r})),hO=JE("\n  async function wrapper() {\n    var ITERATOR_COMPLETION = true;\n    var ITERATOR_HAD_ERROR_KEY = false;\n    var ITERATOR_ERROR_KEY;\n    try {\n      for (\n        var ITERATOR_KEY = GET_ITERATOR(OBJECT), STEP_KEY, STEP_VALUE;\n        (\n          STEP_KEY = await ITERATOR_KEY.next(),\n          ITERATOR_COMPLETION = STEP_KEY.done,\n          STEP_VALUE = await STEP_KEY.value,\n          !ITERATOR_COMPLETION\n        );\n        ITERATOR_COMPLETION = true) {\n      }\n    } catch (err) {\n      ITERATOR_HAD_ERROR_KEY = true;\n      ITERATOR_ERROR_KEY = err;\n    } finally {\n      try {\n        if (!ITERATOR_COMPLETION && ITERATOR_KEY.return != null) {\n          await ITERATOR_KEY.return();\n        }\n      } finally {\n        if (ITERATOR_HAD_ERROR_KEY) {\n          throw ITERATOR_ERROR_KEY;\n        }\n      }\n    }\n  }\n");var mO=NI(function(e){e.assertVersion(7);var t={Function:function(e){e.skip()},YieldExpression:function(e,t){var r=e.node;if(r.delegate){var n=t.addHelper("asyncGeneratorDelegate");r.argument=cl(n,[cl(t.addHelper("asyncIterator"),[r.argument]),t.addHelper("awaitAsyncGenerator")])}}},r={Function:function(e){e.skip()},ForOfStatement:function(e,t){var r=t.file,n=e.node;if(n.await){var a=function(e,t){var r,n=t.getAsyncIterator,a=e.node,s=e.scope,i=e.parent,o=s.generateUidIdentifier("step"),l=s.generateUidIdentifier("value"),c=a.left;he(c)||dr(c)||we(c)?r=yl(rl("=",c,l)):Fe(c)&&(r=Xl(c.kind,[Jl(c.declarations[0].id,l)]));var u=hO({ITERATOR_HAD_ERROR_KEY:s.generateUidIdentifier("didIteratorError"),ITERATOR_COMPLETION:s.generateUidIdentifier("iteratorNormalCompletion"),ITERATOR_ERROR_KEY:s.generateUidIdentifier("iteratorError"),ITERATOR_KEY:s.generateUidIdentifier("iterator"),GET_ITERATOR:n,OBJECT:a.right,STEP_VALUE:Gd(l),STEP_KEY:o});u=u.body.body;var p=ye(i),d=u[3].block.body,f=d[0];return p&&(d[0]=Tl(i.label,f)),{replaceParent:p,node:u,declar:r,loop:f}}(e,{getAsyncIterator:r.addHelper("asyncIterator")}),s=a.declar,i=a.loop,o=i.body;e.ensureBlock(),s&&o.body.push(s),o.body=o.body.concat(n.body.body),gh(i,n),gh(i.body,n.body),a.replaceParent?e.parentPath.replaceWithMultiple(a.node):e.replaceWithMultiple(a.node)}}},n={Function:function(e,n){e.node.async&&(e.traverse(r,n),e.node.generator&&(e.traverse(t,n),dO(e,{wrapAsync:n.addHelper("wrapAsyncGenerator"),wrapAwait:n.addHelper("awaitAsyncGenerator")})))}};return{name:"proposal-async-generator-functions",inherits:fO,visitor:{Program:function(e,t){e.traverse(n,t)}}}});function yO(e){if(e.node.declare)throw e.buildCodeFrameError("TypeScript 'declare' fields must first be transformed by @babel/plugin-transform-typescript.\nIf you have already enabled that plugin (or '@babel/preset-typescript'), make sure that it runs before any plugin related to additional class features:\n - @babel/plugin-proposal-class-properties\n - @babel/plugin-proposal-private-methods\n - @babel/plugin-proposal-decorators")}function gO(){var e=P(["\n    Object.defineProperty(",", ",", {\n      // configurable is false by default\n      // enumerable is false by default\n      // writable is false by default\n      value: ","\n    });\n  "]);return gO=function(){return e},e}function vO(){var e=P(["\n      Object.defineProperty(",", ",", {\n        // configurable is false by default\n        // enumerable is false by default\n        // writable is false by default\n        get: ",",\n        set: ","\n      })\n    "]);return vO=function(){return e},e}function bO(){var e=P(["",".add(",")"]);return bO=function(){return e},e}function xO(){var e=P(["\n      ",".set(",", {\n        get: ",",\n        set: ","\n      });\n    "]);return xO=function(){return e},e}function EO(){var e=P(["\n      Object.defineProperty(",", ",", {\n        // configurable is false by default\n        // enumerable is false by default\n        // writable is false by default\n        get: ",",\n        set: ","\n      });\n    "]);return EO=function(){return e},e}function wO(){var e=P(["\n        Object.defineProperty(",", ",", {\n          // configurable is false by default\n          // enumerable is false by default\n          // writable is false by default\n          value: ","\n        });\n      "]);return wO=function(){return e},e}function SO(){var e=P(["\n    var "," = {\n      // configurable is false by default\n      // enumerable is false by default\n      writable: true,\n      value: ","\n    };\n  "]);return SO=function(){return e},e}function TO(){var e=P(["\n      var "," = {\n        // configurable is false by default\n        // enumerable is false by default\n        // writable is false by default\n        get: ",",\n        set: ","\n      }\n    "]);return TO=function(){return e},e}function jO(){var e=P(["",".set(",", {\n    // configurable is always false for private elements\n    // enumerable is always false for private elements\n    writable: true,\n    value: ",",\n  })"]);return jO=function(){return e},e}function AO(){var e=P(["\n    Object.defineProperty(",", ",", {\n      // configurable is false by default\n      // enumerable is false by default\n      writable: true,\n      value: ","\n    });\n  "]);return AO=function(){return e},e}function PO(){var e=P(["BASE(REF, PROP)[PROP]"]);return PO=function(){return e},e}function kO(){var e=P(["",".has(",")"]);return kO=function(){return e},e}function CO(){var e=P([""," === ",""]);return CO=function(){return e},e}function DO(){var e=P(["\n        Object.prototype.hasOwnProperty.call(",", ",")\n      "]);return DO=function(){return e},e}function _O(){var e=P(["var "," = new WeakMap();"]);return _O=function(){return e},e}function IO(){var e=P(["var "," = new WeakSet();"]);return IO=function(){return e},e}function OO(){var e=P(["var "," = new WeakMap();"]);return OO=function(){return e},e}function NO(){var e=P(["\n          var "," = ",'("','")\n        ']);return NO=function(){return e},e}function BO(e){var t=Object.assign({},e,{Class:function(e){for(var n,a=this.privateNamesMap,s=e.get("body.body"),i=new Map(a),o=[],l=U(s);!(n=l()).done;){var c=n.value;if(c.isPrivate()){var u=c.node.key.id.name;i.delete(u),o.push(u)}}o.length&&(e.get("body").traverse(r,Object.assign({},this,{redeclared:o})),e.traverse(t,Object.assign({},this,{privateNamesMap:i})),e.skipKey("body"))}}),r=Kw.visitors.merge([Object.assign({},e),Vj]);return t}var FO=BO({PrivateName:function(e){var t=this.privateNamesMap,r=this.redeclared,n=e.node,a=e.parentPath;if(a.isMemberExpression({property:n})||a.isOptionalMemberExpression({property:n})){var s=n.id.name;t.has(s)&&(r&&r.includes(s)||this.handle(a))}}}),RO=BO({BinaryExpression:function(e){var t=e.node,r=t.operator,n=t.left,a=t.right;if("in"===r&&e.get("left").isPrivateName()){var s=this.loose,i=this.privateNamesMap,o=this.redeclared,l=n.id.name;if(i.has(l)&&(!o||!o.includes(l)))if(s){var c=i.get(l).id;e.replaceWith(JE.expression.ast(DO(),a,Gd(c)))}else{var u=i.get(l),p=u.id;u.static?e.replaceWith(JE.expression.ast(CO(),a,this.classRef)):e.replaceWith(JE.expression.ast(kO(),Gd(p),a))}}}}),MO={memoise:function(e,t){var r=e.scope,n=e.node.object,a=r.maybeGenerateMemoised(n);a&&this.memoiser.set(n,a,t)},receiver:function(e){var t=e.node.object;return this.memoiser.has(t)?Gd(this.memoiser.get(t)):Gd(t)},get:function(e){var t=this.classRef,r=this.privateNamesMap,n=this.file,a=e.node.property.id.name,s=r.get(a),i=s.id,o=s.static,l=s.method,c=s.methodId,u=s.getId,p=s.setId,d=u||p;if(o){var f=l&&!d?"classStaticPrivateMethodGet":"classStaticPrivateFieldSpecGet";return cl(n.addHelper(f),[this.receiver(e),Gd(t),Gd(i)])}return l?d?cl(n.addHelper("classPrivateFieldGet"),[this.receiver(e),Gd(i)]):cl(n.addHelper("classPrivateMethodGet"),[this.receiver(e),Gd(i),Gd(c)]):cl(n.addHelper("classPrivateFieldGet"),[this.receiver(e),Gd(i)])},boundGet:function(e){return this.memoise(e,1),cl(_l(this.get(e),wl("bind")),[this.receiver(e)])},set:function(e,t){var r=this.classRef,n=this.privateNamesMap,a=this.file,s=e.node.property.id.name,i=n.get(s),o=i.id,l=i.static,c=i.method,u=i.setId,p=i.getId;if(l){var d=c&&!(p||u)?"classStaticPrivateMethodSet":"classStaticPrivateFieldSpecSet";return cl(a.addHelper(d),[this.receiver(e),Gd(r),Gd(o),t])}return c?u?cl(a.addHelper("classPrivateFieldSet"),[this.receiver(e),Gd(o),t]):cl(a.addHelper("classPrivateMethodSet"),[]):cl(a.addHelper("classPrivateFieldSet"),[this.receiver(e),Gd(o),t])},destructureSet:function(e){var t=this.privateNamesMap,r=this.file,n=e.node.property.id.name,a=t.get(n).id;return _l(cl(r.addHelper("classPrivateFieldDestructureSet"),[this.receiver(e),Gd(a)]),wl("value"))},call:function(e,t){return this.memoise(e,1),Uj(this.get(e),this.receiver(e),t,!1)},optionalCall:function(e,t){return this.memoise(e,1),Uj(this.get(e),this.receiver(e),t,!0)}},LO={get:function(e){var t=this.privateNamesMap,r=this.file,n=e.node.object,a=e.node.property.id.name;return JE.expression(PO())({BASE:r.addHelper("classPrivateFieldLooseBase"),REF:Gd(n),PROP:Gd(t.get(a).id)})},boundGet:function(e){return cl(_l(this.get(e),wl("bind")),[Gd(e.node.object)])},simpleSet:function(e){return this.get(e)},destructureSet:function(e){return this.get(e)},call:function(e,t){return cl(this.get(e),t)},optionalCall:function(e,t){return Pc(this.get(e),t,!0)}};function UO(e,t,r){var n=r.get(t.node.key.id.name).id,a=t.node.value||t.scope.buildUndefinedNode();return JE.statement.ast(AO(),e,Gd(n),a)}function WO(e,t,r){var n=r.get(t.node.key.id.name).id,a=t.node.value||t.scope.buildUndefinedNode();return JE.statement.ast(jO(),Gd(n),e,a)}function VO(e,t){var r=t.get(e.node.key.id.name),n=r.id,a=r.getId,s=r.setId,i=r.initAdded,o=a||s;if(e.isProperty()||!i&&o){if(o)return t.set(e.node.key.id.name,Object.assign({},r,{initAdded:!0})),JE.statement.ast(TO(),Gd(n),a?a.name:e.scope.buildUndefinedNode(),s?s.name:e.scope.buildUndefinedNode());var l=e.node.value||e.scope.buildUndefinedNode();return JE.statement.ast(SO(),Gd(n),l)}}
function GO(e,t,r){var n=r.get(t.node.key.id.name),a=n.methodId,s=n.id,i=n.getId,o=n.setId;if(!n.initAdded)return a?JE.statement.ast(wO(),e,s,a.name):i||o?(r.set(t.node.key.id.name,Object.assign({},n,{initAdded:!0})),JE.statement.ast(EO(),e,s,i?i.name:t.scope.buildUndefinedNode(),o?o.name:t.scope.buildUndefinedNode())):void 0}function KO(e,t,r){var n=r.get(t.node.key.id.name),a=n.id,s=n.getId,i=n.setId;if(!n.initAdded)return s||i?(r.set(t.node.key.id.name,Object.assign({},n,{initAdded:!0})),JE.statement.ast(xO(),a,e,s?s.name:t.scope.buildUndefinedNode(),i?i.name:t.scope.buildUndefinedNode())):JE.statement.ast(bO(),a,e)}function HO(e,t){var r=t.node,n=r.key,a=r.computed,s=t.node.value||t.scope.buildUndefinedNode();return yl(rl("=",_l(e,n,a||lr(n)),s))}function zO(e,t,r){var n=t.node,a=n.key,s=n.computed,i=t.node.value||t.scope.buildUndefinedNode();return yl(cl(r.addHelper("defineProperty"),[e,s||lr(a)?a:jl(a.name),i]))}function qO(e,t,r,n){var a=n.get(t.node.key.id.name),s=a.id,i=a.methodId,o=a.getId,l=a.setId;if(!a.initAdded)return o||l?(n.set(t.node.key.id.name,Object.assign({},a,{initAdded:!0})),JE.statement.ast(vO(),e,s,o?o.name:t.scope.buildUndefinedNode(),l?l.name:t.scope.buildUndefinedNode())):JE.statement.ast(gO(),e,s,i.name)}function XO(e,t,r){void 0===r&&(r=!1);var n=t.get(e.node.key.id.name),a=n.id,s=n.methodId,i=n.getId,o=n.setId,l=n.getterDeclared,c=n.setterDeclared,u=n.static,p=e.node,d=p.params,f=p.body,h=p.generator,m=p.async,y=El(s,d,f,h,m),g=i&&!l&&0===d.length,v=o&&!c&&d.length>0;return g?(t.set(e.node.key.id.name,Object.assign({},n,{getterDeclared:!0})),Xl("var",[Jl(i,y)])):v?(t.set(e.node.key.id.name,Object.assign({},n,{setterDeclared:!0})),Xl("var",[Jl(o,y)])):Xl("var",u&&!r?[Jl(Gd(a),El(a,d,f,h,m))]:[Jl(Gd(s),y)])}var JO=Kw.visitors.merge([{ThisExpression:function(e,t){t.needsClassRef=!0,e.replaceWith(Gd(t.classRef))}},Vj]);function YO(e,t,r,n,a){var s={classRef:t,needsClassRef:!1};return new zj({methodPath:e,isLoose:a,superRef:r,file:n,getObjectRef:function(){return s.needsClassRef=!0,e.node.static?t:_l(t,wl("prototype"))}}).replace(),e.isProperty()&&e.traverse(JO,s),s.needsClassRef}function $O(){var e=P(["","(this)"]);return $O=function(){return e},e}function QO(){var e=P(["let "," = ",""]);return QO=function(){return e},e}function ZO(){var e=P(["\n    ","(\n      ",",\n      function (",", ",") {\n        ","\n        return { F: ",", d: "," };\n      },\n      ","\n    )\n  "]);return ZO=function(){return e},e}function eN(){var e=P(["return ",""]);return eN=function(){return e},e}function tN(e){return!(!e.decorators||!e.decorators.length)}function rN(e,t){return t?Fl(wl(e),t):null}function nN(e){var t;return e.decorators&&e.decorators.length>0&&(t=tl(e.decorators.map(function(e){return e.expression}))),e.decorators=void 0,t}function aN(e){return e.computed?e.key:he(e.key)?jl(e.key.name):jl(String(e.key.value))}function sN(e,t,r){var n=r.node,a=r.scope,s=r.isClassMethod();if(r.isPrivate())throw r.buildCodeFrameError("Private "+(s?"methods":"fields")+" in decorated classes are not supported yet.");new zj({methodPath:r,methodNode:n,objectRef:e,isStatic:n.static,superRef:t,scope:a,file:this},!0).replace();var i,o,l=[rN("kind",jl(s?n.kind:"field")),rN("decorators",nN(n)),rN("static",n.static&&kl(!0)),rN("key",aN(n))].filter(Boolean);if(s){var c=n.computed?null:n.key;$f(n),l.push(rN("value",ew({node:n,id:c,scope:a})||n))}else n.value?l.push((i="value",o=JE.statements.ast(eN(),n.value),Bl("method",wl(i),[],ol(o)))):l.push(rN("value",a.buildUndefinedNode()));return r.remove(),Nl(l)}function iN(){var e=P(["super(...args)"]);return iN=function(){return e},e}var oN=Kw.visitors.merge([{Super:function(e){var t=e.node,r=e.parentPath;r.isCallExpression({callee:t})&&this.push(r)}},Vj]),lN={"TSTypeAnnotation|TypeAnnotation":function(e){e.skip()},ReferencedIdentifier:function(e){this.scope.hasOwnBinding(e.node.name)&&(this.scope.rename(e.node.name),e.skip())}};function cN(e,t){if(t.classBinding&&t.classBinding===e.scope.getBinding(e.node.name)){var r=cl(t.file.addHelper("classNameTDZError"),[jl(e.node.name)]);e.replaceWith(Ll([r,e.node])),e.skip()}}var uN={ReferencedIdentifier:cN};function pN(e,t,r,n){if(r.length){var a=!!e.node.superClass;if(!t){var s=hc("constructor",wl("constructor"),[],ol([]));a&&(s.params=[Rl(wl("args"))],s.body.body.push(JE.statement.ast(iN()))),t=e.get("body").unshiftContainer("body",s)[0]}if(n&&n(lN,{scope:t.scope}),a){var i=[];t.traverse(oN,i);for(var o=!0,l=0,c=i;l<c.length;l++){var u=c[l];o?(u.insertAfter(r),o=!1):u.insertAfter(r.map(function(e){return Gd(e)}))}}else t.get("body").unshiftContainer("body",r)}}var dN=Object.freeze({fields:2,privateMethods:4,decorators:8,privateIn:16}),fN=new Map([[dN.fields,"@babel/plugin-proposal-class-properties"],[dN.privateMethods,"@babel/plugin-proposal-private-methods"],[dN.privateIn,"@babel/plugin-proposal-private-private-property-in-object"]]),hN="@babel/plugin-class-features/featuresKey",mN="@babel/plugin-class-features/looseKey",yN="@babel/plugin-class-features/looseLowPriorityKey/#__internal__@babel/preset-env__please-overwrite-loose-instead-of-throwing";function gN(e,t){return!!(e.get(hN)&t)}function vN(e,t){return!!(e.get(mN)&t)}function bN(e,t,r){r?e.set(mN,e.get(mN)|t):e.set(mN,e.get(mN)&~t),e.set(yN,e.get(yN)&~t)}function xN(e,t){return!!(e.get(yN)&t)}function EN(e,t){if(tN(e.node)){if(!gN(t,dN.decorators))throw e.buildCodeFrameError('Decorators are not enabled.\nIf you are using ["@babel/plugin-proposal-decorators", { "legacy": true }], make sure it comes *before* "@babel/plugin-proposal-class-properties" and enable loose mode, like so:\n\t["@babel/plugin-proposal-decorators", { "legacy": true }]\n\t["@babel/plugin-proposal-class-properties", { "loose": true }]');if(e.isPrivate())throw e.buildCodeFrameError("Private "+(e.isClassMethod()?"methods":"fields")+" in decorated classes are not supported yet.")}if(e.isPrivate()&&e.isMethod()&&!gN(t,dN.privateMethods))throw e.buildCodeFrameError("Class private methods are not enabled.");if(e.isPrivateName()&&e.parentPath.isBinaryExpression({operator:"in",left:e.node})&&!gN(t,dN.privateIn))throw e.buildCodeFrameError("Private property in checks are not enabled.");if(e.isProperty()&&!gN(t,dN.fields))throw e.buildCodeFrameError("Class fields are not enabled.")}var wN={name:"@babel/helper-create-class-features-plugin",version:"7.12.1",author:"The Babel Team (https://babeljs.io/team)",license:"MIT",description:"Compile class public and private fields, private methods and decorators to ES6",repository:{type:"git",url:"https://github.com/babel/babel.git",directory:"packages/babel-helper-create-class-features-plugin"},main:"lib/index.js",publishConfig:{access:"public"},keywords:["babel","babel-plugin"],dependencies:{"@babel/helper-function-name":"workspace:^7.10.4","@babel/helper-member-expression-to-functions":"workspace:^7.12.1","@babel/helper-optimise-call-expression":"workspace:^7.10.4","@babel/helper-replace-supers":"workspace:^7.12.1","@babel/helper-split-export-declaration":"workspace:^7.10.4"},peerDependencies:{"@babel/core":"^7.0.0"},devDependencies:{"@babel/core":"workspace:*","@babel/helper-plugin-test-runner":"workspace:*"}}.version.split(".").reduce(function(e,t){return 1e5*e+ +t},0),SN="@babel/plugin-class-features/version";function TN(e){var t=e.name,r=e.feature,n=e.loose;return{name:t,manipulateOptions:e.manipulateOptions,pre:function(){!function(e,t,r){var n,a;gN(e,t)&&!xN(e,t)||(e.set(hN,e.get(hN)|t),"#__internal__@babel/preset-env__prefer-true-but-false-is-ok-if-it-prevents-an-error"===r?(bN(e,t,!0),e.set(yN,e.get(yN)|t)):"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"===r?(bN(e,t,!1),e.set(yN,e.get(yN)|t)):bN(e,t,r));for(var s,i=U(fN);!(s=i()).done;){var o=s.value,l=o[0],c=o[1];if(gN(e,l)){var u=vN(e,l);if(!xN(e,l)){if(n===!u)throw new Error("'loose' mode configuration must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled).");n=u,a=c}}}if(void 0!==n)for(var p,d=U(fN);!(p=d()).done;){var f=p.value,h=f[0],m=f[1];gN(e,h)&&vN(e,h)!==n&&(bN(e,h,n),console.warn('Though the "loose" option was set to "'+!n+'" in your @babel/preset-env config, it will not be used for '+m+' since the "loose" mode option was set to "'+n+'" for '+a+'.\nThe "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding\n\t["'+m+'", { "loose": '+n+' }]\nto the "plugins" section of your Babel config.'))}}(this.file,r,n),(!this.file.get(SN)||this.file.get(SN)<wN)&&this.file.set(SN,wN)},visitor:{Class:function(e,t){if(this.file.get(SN)===wN){EN(e,this.file);for(var n,a,s=vN(this.file,r),i=tN(e.node),o=[],l=[],c=[],u=new Set,p=U(e.get("body").get("body"));!(a=p()).done;){var d=a.value;if(EN(d,this.file),d.node.computed&&c.push(d),d.isPrivate()){var f=d.node.key.id.name,h="get "+f,m="set "+f;if("get"===d.node.kind){if(u.has(h)||u.has(f)&&!u.has(m))throw d.buildCodeFrameError("Duplicate private field");u.add(h).add(f)}else if("set"===d.node.kind){if(u.has(m)||u.has(f)&&!u.has(h))throw d.buildCodeFrameError("Duplicate private field");u.add(m).add(f)}else{if(u.has(f)&&!u.has(h)&&!u.has(m)||u.has(f)&&(u.has(h)||u.has(m)))throw d.buildCodeFrameError("Duplicate private field");u.add(f)}}if(d.isClassMethod({kind:"constructor"})?n=d:(l.push(d),(d.isProperty()||d.isPrivate())&&o.push(d)),i||(i=tN(d.node)),null==d.isStaticBlock?void 0:d.isStaticBlock())throw d.buildCodeFrameError('Incorrect plugin order, `@babel/plugin-proposal-class-static-block` should be placed before class features plugins\n{\n  "plugins": [\n    "@babel/plugin-proposal-class-static-block",\n    "@babel/plugin-proposal-private-property-in-object",\n    "@babel/plugin-proposal-private-methods",\n    "@babel/plugin-proposal-class-properties",\n  ]\n}')}if(o.length||i){var y;e.isClassExpression()||!e.node.id?(ew(e),y=e.scope.generateUidIdentifier("class")):y=Gd(e.node.id);var g,v,b,x,E=function(e){for(var t,r=new Map,n=U(e);!(t=n()).done;){var a=t.value,s=a.isPrivate(),i=!a.isProperty(),o=!a.node.static;if(s){var l=a.node.key.id.name,c=r.has(l)?r.get(l):{id:a.scope.generateUidIdentifier(l),static:!o,method:i};"get"===a.node.kind?c.getId=a.scope.generateUidIdentifier("get_"+l):"set"===a.node.kind?c.setId=a.scope.generateUidIdentifier("set_"+l):"method"===a.node.kind&&(c.methodId=a.scope.generateUidIdentifier(l)),r.set(l,c)}}return r}(o),w=function(e,t,r){for(var n,a=[],s=U(e);!(n=s()).done;){var i=n.value,o=i[0],l=i[1],c=l.static,u=l.method,p=l.getId,d=l.setId,f=p||d,h=Gd(l.id);t?a.push(JE.statement.ast(NO(),h,r.addHelper("classPrivateFieldLooseKey"),o)):u&&!c?f?a.push(JE.statement.ast(OO(),h)):a.push(JE.statement.ast(IO(),h)):c||a.push(JE.statement.ast(_O(),h))}return a}(E,s,t);if(function(e,t,r,n,a){if(r.size){var s=t.get("body"),i=n?LO:MO;Lj(s,FO,Object.assign({privateNamesMap:r,classRef:e,file:a},i)),s.traverse(RO,{privateNamesMap:r,classRef:e,file:a,loose:n})}}(y,e,E,s,t),i){v=g=[];var S=function(e,t,r,n){var a,s=t.node,i=t.scope,o=i.generateUidIdentifier("initialize"),l=s.id&&t.isDeclaration(),c=t.isInStrictMode(),u=s.superClass;s.type="ClassDeclaration",s.id||(s.id=Gd(e)),u&&(a=i.generateUidIdentifierBasedOnNode(s.superClass,"super"),s.superClass=a);var p=nN(s),d=tl(r.filter(function(e){return!e.node.abstract}).map(sN.bind(n,s.id,a))),f=JE.expression.ast(ZO(),function(e){try{return e.addHelper("decorate")}catch(e){throw"BABEL_HELPER_UNKNOWN"===e.code&&(e.message+="\n  '@babel/plugin-transform-decorators' in non-legacy mode requires '@babel/core' version ^7.0.2 and you appear to be using an older version."),e}}(n),p||Pl(),o,u?Gd(a):null,s,Gd(s.id),d,u),h="arguments.1.body.body.0";return c||f.arguments[1].body.directives.push(sl(il("use strict"))),l&&(f=JE.ast(QO(),e,f),h="declarations.0.init."+h),{instanceNodes:[JE.statement.ast($O(),Gd(o))],wrapClass:function(e){return e.replaceWith(f),e.get(h)}}}(y,e,l,this.file);b=S.instanceNodes,x=S.wrapClass}else{g=function(e,t,r,n){for(var a,s=[],i={classBinding:t.node.id&&t.scope.getBinding(t.node.id.name),file:n},o=U(r);!(a=o()).done;){var l=a.value,c=l.get("key");c.isReferencedIdentifier()?cN(c,i):c.traverse(uN,i);var u=l.node;if(!c.isConstantExpression()){var p=t.scope.generateUidIdentifierBasedOnNode(u.key);t.scope.push({id:p,kind:"let"}),s.push(yl(rl("=",Gd(p),u.key))),u.key=Gd(p)}}return s}(0,e,c,this.file);var T=function(e,t,r,n,a,s){for(var i,o=[],l=[],c=!1,u=U(r);!(i=u()).done;){var p=i.value;yO(p);var d=p.node.static,f=!d,h=p.isPrivate(),m=!h,y=p.isProperty(),g=!y;if(d||g&&h){var v=YO(p,e,t,a,s);c=c||v}switch(!0){case d&&h&&y&&s:c=!0,o.push(UO(Gd(e),p,n));break;case d&&h&&y&&!s:c=!0,o.push(VO(p,n));break;case d&&m&&y&&s:c=!0,o.push(HO(Gd(e),p));break;case d&&m&&y&&!s:c=!0,o.push(zO(Gd(e),p,a));break;case f&&h&&y&&s:l.push(UO(Gl(),p,n));break;case f&&h&&y&&!s:l.push(WO(Gl(),p,n));break;case f&&h&&g&&s:l.unshift(GO(Gl(),p,n)),o.push(XO(p,n,s));break;case f&&h&&g&&!s:l.unshift(KO(Gl(),p,n)),o.push(XO(p,n,s));break;case d&&h&&g&&!s:c=!0,o.push(VO(p,n)),o.unshift(XO(p,n,s));break;case d&&h&&g&&s:c=!0,o.push(qO(Gd(e),p,0,n)),o.unshift(XO(p,n,s));break;case f&&m&&y&&s:l.push(HO(Gl(),p));break;case f&&m&&y&&!s:l.push(zO(Gl(),p,a));break;default:throw new Error("Unreachable.")}}return{staticNodes:o.filter(Boolean),instanceNodes:l.filter(Boolean),wrapClass:function(t){for(var n,a=U(r);!(n=a()).done;)n.value.remove();return c?(t.isClassExpression()?(t.scope.push({id:e}),t.replaceWith(rl("=",Gd(e),t.node))):t.node.id||(t.node.id=e),t):t}}}(y,e.node.superClass,o,E,t,s);v=T.staticNodes,b=T.instanceNodes,x=T.wrapClass}b.length>0&&pN(e,n,b,function(e,t){if(!i)for(var r,n=U(o);!(r=n()).done;){var a=r.value;a.node.static||a.traverse(e,t)}}),(e=x(e)).insertBefore([].concat(w,g)),e.insertAfter(v)}}},PrivateName:function(e){if(this.file.get(SN)===wN&&!e.parentPath.isPrivate({key:e.node}))throw e.buildCodeFrameError('Unknown PrivateName "'+e+'"')},ExportDefaultDeclaration:function(e){if(this.file.get(SN)===wN){var t=e.get("declaration");t.isClassDeclaration()&&function(e){return tN(e)||e.body.body.some(tN)}(t.node)&&(t.node.id?Qh(e):t.node.type="ClassExpression")}}}}}var jN=NI(function(e,t){return e.assertVersion(7),TN({name:"proposal-class-properties",feature:dN.fields,loose:t.loose,manipulateOptions:function(e,t){t.plugins.push("classProperties","classPrivateProperties")}})});function AN(){var e=P(["(() => { "," })()"]);return AN=function(){return e},e}var PN=NI(function(e){var t=e.types,r=e.template;return(0,e.assertVersion)("^7.12.0"),{name:"proposal-class-static-block",inherits:WI,visitor:{Class:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){for(var n,a,s=e.scope,i=e.get("body"),o=new Set,l=U(i.get("body"));!(a=l()).done;){var c=a.value;c.isPrivate()?o.add(c.get("key.id").node.name):c.isStaticBlock()&&(n=c)}if(n){var u=t.privateName(t.identifier(function(e,t){var r,n=1;do{r=e._generateUid("",n),n++}while(t.has(r));return r}(s,o)));i.pushContainer("body",t.classPrivateProperty(u,r.expression.ast(AN(),n.node.body),[],!0)),n.remove()}})}}}),kN=JE("\n  DECORATOR(CLASS_REF = INNER) || CLASS_REF;\n"),CN=JE("\n  CLASS_REF.prototype;\n"),DN=JE("\n    Object.getOwnPropertyDescriptor(TARGET, PROPERTY);\n"),_N=JE("\n    (TEMP = Object.getOwnPropertyDescriptor(TARGET, PROPERTY), (TEMP = TEMP ? TEMP.value : undefined), {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        initializer: function(){\n            return TEMP;\n        }\n    })\n"),IN=new WeakSet;function ON(e){var t=(e.isClass()?[e].concat(e.get("body.body")):e.get("properties")).reduce(function(e,t){return e.concat(t.node.decorators||[])},[]).filter(function(e){return!he(e.expression)});if(0!==t.length)return Ll(t.map(function(t){var r=t.expression;return rl("=",t.expression=e.scope.generateDeclaredUidIdentifier("dec"),r)}).concat([e.node]))}function NN(e){return!(!e.decorators||!e.decorators.length)}function BN(e){return e.some(function(e){var t;return null==(t=e.decorators)?void 0:t.length})}function FN(e,t,r){var n=e.scope.generateDeclaredUidIdentifier(e.isClass()?"class":"obj"),a=r.reduce(function(r,a){var s=a.decorators||[];if(a.decorators=null,0===s.length)return r;if(a.computed)throw e.buildCodeFrameError("Computed method/property decorators are not yet supported.");var i=lr(a.key)?a.key:jl(a.key.name),o=e.isClass()&&!a.static?CN({CLASS_REF:n}).expression:n;if(Rt(a,{static:!1})){var l=e.scope.generateDeclaredUidIdentifier("descriptor"),c=a.value?El(null,[],ol([Ml(a.value)])):Pl();a.value=cl(t.addHelper("initializerWarningHelper"),[l,Gl()]),IN.add(a.value),r=r.concat([rl("=",Gd(l),cl(t.addHelper("applyDecoratedDescriptor"),[Gd(o),Gd(i),tl(s.map(function(e){return Gd(e.expression)})),Nl([Fl(wl("configurable"),kl(!0)),Fl(wl("enumerable"),kl(!0)),Fl(wl("writable"),kl(!0)),Fl(wl("initializer"),c)])]))])}else r=r.concat(cl(t.addHelper("applyDecoratedDescriptor"),[Gd(o),Gd(i),tl(s.map(function(e){return Gd(e.expression)})),Pe(a)||Rt(a,{static:!0})?_N({TEMP:e.scope.generateDeclaredUidIdentifier("init"),TARGET:Gd(o),PROPERTY:Gd(i)}).expression:DN({TARGET:Gd(o),PROPERTY:Gd(i)}).expression,Gd(o)]));return r},[]);return Ll([rl("=",Gd(n),e.node),Ll(a),Gd(n)])}function RN(e){var t=e.node,r=e.scope;if(NN(t)||BN(t.body.body))return Xl("let",[Jl(t.id?Gd(t.id):r.generateUidIdentifier("class"),$f(t))])}var MN={ExportDefaultDeclaration:function(e){var t=e.get("declaration");if(t.isClassDeclaration()){var r=RN(t);if(r){var n=e.replaceWithMultiple([r,ic(null,[oc(Gd(r.declarations[0].id),wl("default"))])])[0];t.node.id||e.scope.registerDeclaration(n)}}},ClassDeclaration:function(e){var t=RN(e);t&&e.replaceWith(t)},ClassExpression:function(e,t){var r=ON(e)||function(e){if(NN(e.node)){var t=e.node.decorators||[];e.node.decorators=null;var r=e.scope.generateDeclaredUidIdentifier("class");return t.map(function(e){return e.expression}).reverse().reduce(function(e,t){return kN({CLASS_REF:Gd(r),DECORATOR:Gd(t),INNER:e}).expression},e.node)}}(e)||function(e,t){if(BN(e.node.body.body))return FN(e,t,e.node.body.body)}(e,t);r&&e.replaceWith(r)},ObjectExpression:function(e,t){var r=ON(e)||function(e,t){if(BN(e.node.properties))return FN(e,t,e.node.properties)}(e,t);r&&e.replaceWith(r)},AssignmentExpression:function(e,t){IN.has(e.node.right)&&e.replaceWith(cl(t.addHelper("initializerDefineProperty"),[Gd(e.get("left.object").node),jl(e.get("left.property").node.name||e.get("left.property").node.value),Gd(e.get("right.arguments")[0].node),Gd(e.get("right.arguments")[1].node)]))},CallExpression:function(e,t){3===e.node.arguments.length&&IN.has(e.node.arguments[2])&&e.node.callee.name===t.addHelper("defineProperty").name&&e.replaceWith(cl(t.addHelper("initializerDefineProperty"),[Gd(e.get("arguments")[0].node),Gd(e.get("arguments")[1].node),Gd(e.get("arguments.2.arguments")[0].node),Gd(e.get("arguments.2.arguments")[1].node)]))}},LN=NI(function(e,t){e.assertVersion(7);var r=t.legacy,n=void 0!==r&&r;if("boolean"!=typeof n)throw new Error("'legacy' must be a boolean.");var a=t.decoratorsBeforeExport;if(void 0===a){if(!n)throw new Error("The decorators plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you want to use the legacy decorators semantics, you can set the 'legacy: true' option.")}else{if(n)throw new Error("'decoratorsBeforeExport' can't be used with legacy decorators.");if("boolean"!=typeof a)throw new Error("'decoratorsBeforeExport' must be a boolean.")}return n?{name:"proposal-decorators",inherits:GI,manipulateOptions:function(e){e.generatorOpts.decoratorsBeforeExport=a},visitor:MN}:TN({name:"proposal-decorators",feature:dN.decorators,manipulateOptions:function(e){var t=e.generatorOpts;e.parserOpts.plugins.push(["decorators",{decoratorsBeforeExport:a}]),t.decoratorsBeforeExport=a}})}),UN=NI(function(e){return e.assertVersion(7),{name:"proposal-do-expressions",inherits:KI,visitor:{DoExpression:{exit:function(e){var t=e.node.body.body;t.length?e.replaceExpressionWithStatements(t):e.replaceWith(e.scope.buildUndefinedNode())}}}}}),WN=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-dynamic-import",manipulateOptions:function(e,t){t.plugins.push("dynamicImport")}}});t.default=r})),VN=["commonjs","amd","systemjs"],GN=NI(function(e){return e.assertVersion(7),{name:"proposal-dynamic-import",inherits:WN,pre:function(){this.file.set("@babel/plugin-proposal-dynamic-import","7.12.1")},visitor:{Program:function(){var e=this.file.get("@babel/plugin-transform-modules-*");if(!VN.includes(e))throw new Error("@babel/plugin-proposal-dynamic-import depends on a modules\ntransform plugin. Supported plugins are:\n - @babel/plugin-transform-modules-commonjs ^7.4.0\n - @babel/plugin-transform-modules-amd ^7.4.0\n - @babel/plugin-transform-modules-systemjs ^7.4.0\n\nIf you are using Webpack or Rollup and thus don't want\nBabel to transpile your imports and exports, you can use\nthe @babel/plugin-syntax-dynamic-import plugin and let your\nbundler handle dynamic imports.\n")}}}}),KN=NI(function(e){return e.assertVersion(7),{name:"proposal-export-default-from",inherits:HI,visitor:{ExportNamedDeclaration:function(e){var t=e.node,r=e.scope,n=t.specifiers;if(Ut(n[0])){var a=n.shift().exported,s=r.generateUidIdentifier(a.name),i=[cc([uc(s)],Gd(t.source)),ic(null,[oc(Gd(s),a)])];n.length>=1&&i.push(t);var o=e.replaceWithMultiple(i)[0];e.scope.registerDeclaration(o)}}}}}),HN=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-export-namespace-from",manipulateOptions:function(e,t){t.plugins.push("exportNamespaceFrom")}}});t.default=r})),zN=NI(function(e){return e.assertVersion(7),{name:"proposal-export-namespace-from",inherits:HN,visitor:{ExportNamedDeclaration:function(e){var t,r=e.node,n=e.scope,a=r.specifiers,s=Ut(a[0])?1:0;if(lt(a[s])){var i=[];1===s&&i.push(ic(null,[a.shift()],r.source));var o=a.shift().exported,l=n.generateUidIdentifier(null!=(t=o.name)?t:o.value);i.push(cc([pc(l)],Gd(r.source)),ic(null,[oc(Gd(l),o)])),r.specifiers.length>=1&&i.push(r);var c=e.replaceWithMultiple(i)[0];e.scope.registerDeclaration(c)}}}}}),qN=NI(function(e){function t(e,t){var r=function(e,t){var r=e.object||e.callee.object;return t.isStatic(r)&&(rt(r)?Gl():r)}(e,t);if(r)return Gd(r);var n=function(e){var t=e.path.getData("functionBind");return t?Gd(t):(t=e.generateDeclaredUidIdentifier("context"),e.path.setData("functionBind",t))}(t);return e.object?e.callee=Ll([rl("=",n,e.object),e.callee]):e.callee.object=rl("=",n,e.callee.object),Gd(n)}return e.assertVersion(7),{name:"proposal-function-bind",inherits:qI,visitor:{CallExpression:function(e){var r=e.node,n=e.scope,a=r.callee;if(Ft(a)){var s=t(a,n);r.callee=_l(a.callee,wl("call")),r.arguments.unshift(s)}},BindExpression:function(e){var r=e.node,n=t(r,e.scope);e.replaceWith(cl(_l(r.callee,wl("bind")),[n]))}}}}),XN=NI(function(e){e.assertVersion(7);var t=function(e){return he(e.meta,{name:"function"})&&he(e.property,{name:"sent"})},r={Function:function(e){e.skip()},YieldExpression:function(e){(function(e,t){return Z(e)&&he(e.left,{name:t})})(e.parent,this.sentId)||e.replaceWith(rl("=",wl(this.sentId),e.node))},MetaProperty:function(e){t(e.node)&&e.replaceWith(wl(this.sentId))}};return{name:"proposal-function-sent",inherits:XI,visitor:{MetaProperty:function(e,n){if(t(e.node)){var a=e.getFunctionParent();if(!a.node.generator)throw new Error("Parent generator function not found");var s=e.scope.generateUid("function.sent");a.traverse(r,{sentId:s}),a.node.body.body.unshift(Xl("let",[Jl(wl(s),Ec())])),cO(a,n.addHelper("skipFirstGeneratorNext"))}}}}}),JN=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-json-strings",manipulateOptions:function(e,t){t.plugins.push("jsonStrings")}}});t.default=r})),YN=NI(function(e){e.assertVersion(7);var t=/(\\*)([\u2028\u2029])/g;function r(e,t,r){return t.length%2==1?e:t+"\\u"+r.charCodeAt(0).toString(16)}return{name:"proposal-json-strings",inherits:JN,visitor:{"DirectiveLiteral|StringLiteral":function(e){var n=e.node.extra;(null==n?void 0:n.raw)&&(n.raw=n.raw.replace(t,r))}}}}),$N=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-logical-assignment-operators",manipulateOptions:function(e,t){t.plugins.push("logicalAssignment")}}});t.default=r})),QN=NI(function(e){return e.assertVersion(7),{name:"proposal-logical-assignment-operators",inherits:$N,visitor:{AssignmentExpression:function(e){var t=e.node,r=e.scope,n=t.operator,a=t.left,s=t.right,i=n.slice(0,-1);if(Oi.includes(i)){var o=Gd(a);if(we(a)){var l=a.object,c=a.property,u=a.computed,p=r.maybeGenerateMemoised(l);if(p&&(a.object=p,o.object=rl("=",Gd(p),l)),u){var d=r.maybeGenerateMemoised(c);d&&(a.property=d,o.property=rl("=",Gd(d),c))}}e.replaceWith(Dl(i,o,rl("=",a,s)))}}}}}),ZN=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-nullish-coalescing-operator",manipulateOptions:function(e,t){t.plugins.push("nullishCoalescingOperator")}}});t.default=r}));function eB(){var e=P(["(() => ",")()"]);return eB=function(){return e},e}var tB=NI(function(e,t){var r=t.loose,n=void 0!==r&&r;return e.assertVersion(7),{name:"proposal-nullish-coalescing-operator",inherits:ZN,visitor:{LogicalExpression:function(e){var t=e.node,r=e.scope;if("??"===t.operator){var a,s;if(r.isStatic(t.left))a=t.left,s=Gd(t.left);else{if(r.path.isPattern())return void e.replaceWith(JE.ast(eB(),e.node));a=r.generateUidIdentifierBasedOnNode(t.left),r.push({id:Gd(a)}),s=rl("=",a,t.left)}e.replaceWith(pl(n?nl("!=",s,Pl()):Dl("&&",nl("!==",s,Pl()),nl("!==",Gd(a),r.buildUndefinedNode())),Gd(a),t.right))}}}}}),rB=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-numeric-separator",manipulateOptions:function(e,t){t.plugins.push("numericSeparator")}}});t.default=r})),nB=NI(function(e){return e.assertVersion(7),{name:"proposal-numeric-separator",inherits:rB,visitor:{NumericLiteral:function(e){var t=e.node.extra;t&&/_/.test(t.raw)&&(t.raw=t.raw.replace(/_/g,""))}}}}),aB=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-object-rest-spread",manipulateOptions:function(e,t){t.plugins.push("objectRestSpread")}}});t.default=r})),sB=JE("\n  let VARIABLE_NAME =\n    arguments.length > ARGUMENT_KEY && arguments[ARGUMENT_KEY] !== undefined ?\n      arguments[ARGUMENT_KEY]\n    :\n      DEFAULT_VALUE;\n"),iB=JE("\n  if (ASSIGNMENT_IDENTIFIER === UNDEFINED) {\n    ASSIGNMENT_IDENTIFIER = DEFAULT_VALUE;\n  }\n"),oB=JE("\n  let ASSIGNMENT_IDENTIFIER = PARAMETER_NAME === UNDEFINED ? DEFAULT_VALUE : PARAMETER_NAME ;\n"),lB=JE("\n  let $0 = arguments.length > $1 ? arguments[$1] : undefined;\n"),cB={"ReferencedIdentifier|BindingIdentifier":function(e,t){var r=e.scope,n=e.node.name;("eval"===n||r.getBinding(n)===t.scope.parent.getBinding(n)&&t.scope.hasOwnBinding(n))&&(t.needsOuterBinding=!0,e.stop())},"TypeAnnotation|TSTypeAnnotation|TypeParameterDeclaration|TSTypeParameterDeclaration":function(e){return e.skip()}};function uB(e,t,r,n){var a=e.get("params");if(a.every(function(e){return e.isIdentifier()}))return!1;for(var s,i=e.node,o=e.scope,l={stop:!1,needsOuterBinding:!1,scope:o},c=[],u=new Set,p=U(a);!(s=p()).done;)for(var d=s.value,f=0,h=Object.keys(d.getBindingIdentifiers());f<h.length;f++){var m,y=h[f],g=null==(m=o.bindings[y])?void 0:m.constantViolations;if(g)for(var v,b=U(g);!(v=b()).done;){var x=v.value,E=x.node;switch(E.type){case"VariableDeclarator":if(null===E.init){var w=x.parentPath;if(!w.parentPath.isFor()||w.parentPath.get("body")===w){x.remove();break}}u.add(y);break;case"FunctionDeclaration":u.add(y)}}}if(0===u.size)for(var S,T=U(a);!(S=T()).done;){var j=S.value;if(j.isIdentifier()||j.traverse(cB,l),l.needsOuterBinding)break}for(var A=null,P=0;P<a.length;P++){var k=a[P];if(!r||r(P)){var C=[];n&&n(k.parentPath,k,C);var D=k.isAssignmentPattern();if(D&&(t||"set"===i.kind)){var _=k.get("left"),I=k.get("right"),O=o.buildUndefinedNode();if(_.isIdentifier())c.push(iB({ASSIGNMENT_IDENTIFIER:Gd(_.node),DEFAULT_VALUE:I.node,UNDEFINED:O})),k.replaceWith(_.node);else if(_.isObjectPattern()||_.isArrayPattern()){var N=o.generateUidIdentifier();c.push(oB({ASSIGNMENT_IDENTIFIER:_.node,DEFAULT_VALUE:I.node,PARAMETER_NAME:Gd(N),UNDEFINED:O})),k.replaceWith(N)}}else if(D){null===A&&(A=P);var B=k.get("left"),F=k.get("right"),R=sB({VARIABLE_NAME:B.node,DEFAULT_VALUE:F.node,ARGUMENT_KEY:Al(P)});c.push(R)}else if(null!==A){var M=lB([k.node,Al(P)]);c.push(M)}else if(k.isObjectPattern()||k.isArrayPattern()){var L=e.scope.generateUidIdentifier("ref"),W=Xl("let",[Jl(k.node,L)]);c.push(W),k.replaceWith(Gd(L))}if(C)for(var V,G=U(C);!(V=G()).done;){var K=V.value;c.push(K)}}}if(null!==A&&(i.params=i.params.slice(0,A)),e.ensureBlock(),l.needsOuterBinding||u.size>0){c.push(function(e,t){for(var r,n=[],a=[],s=U(e);!(r=s()).done;){var i=r.value;n.push(wl(i)),a.push(wl(i))}return Ml(cl(ec(a,t),n))}(u,e.get("body").node)),e.set("body",ol(c));var H=e.get("body.body"),z=H[H.length-1].get("argument.callee");z.arrowFunctionToExpression(),z.node.generator=e.node.generator,z.node.async=e.node.async,e.node.generator=!1}else e.get("body").unshiftContainer("body",c);return!0}var pB=JE("\n  for (var LEN = ARGUMENTS.length,\n           ARRAY = new Array(ARRAY_LEN),\n           KEY = START;\n       KEY < LEN;\n       KEY++) {\n    ARRAY[ARRAY_KEY] = ARGUMENTS[KEY];\n  }\n"),dB=JE("\n  (INDEX < OFFSET || ARGUMENTS.length <= INDEX) ? undefined : ARGUMENTS[INDEX]\n"),fB=JE("\n  REF = INDEX, (REF < OFFSET || ARGUMENTS.length <= REF) ? undefined : ARGUMENTS[REF]\n"),hB=JE("\n  ARGUMENTS.length <= OFFSET ? 0 : ARGUMENTS.length - OFFSET\n");function mB(e,t){return e.node.name===t.name&&e.scope.bindingIdentifierEquals(t.name,t.outerBinding)}var yB={Scope:function(e,t){e.scope.bindingIdentifierEquals(t.name,t.outerBinding)||e.skip()},Flow:function(e){e.isTypeCastExpression()||e.skip()},Function:function(e,t){var r=t.noOptimise;t.noOptimise=!0,e.traverse(yB,t),t.noOptimise=r,e.skip()},ReferencedIdentifier:function(e,t){var r=e.node;if("arguments"===r.name&&(t.deopted=!0),mB(e,t))if(t.noOptimise)t.deopted=!0;else{var n=e.parentPath;if("params"===n.listKey&&n.key<t.offset)return;if(n.isMemberExpression({object:r})){var a=n.parentPath;if(!t.deopted&&!(a.isAssignmentExpression()&&n.node===a.node.left||a.isLVal()||a.isForXStatement()||a.isUpdateExpression()||a.isUnaryExpression({operator:"delete"})||(a.isCallExpression()||a.isNewExpression())&&n.node===a.node.callee))if(n.node.computed){if(n.get("property").isBaseType("number"))return void t.candidates.push({cause:"indexGetter",path:e})}else if("length"===n.node.property.name)return void t.candidates.push({cause:"lengthGetter",path:e})}if(0===t.offset&&n.isSpreadElement()){var s=n.parentPath;if(s.isCallExpression()&&1===s.node.arguments.length)return void t.candidates.push({cause:"argSpread",path:e})}t.references.push(e)}},BindingIdentifier:function(e,t){mB(e,t)&&(t.deopted=!0)}};function gB(e,t,r){var n,a=Al(r);n=ve(e.parent.property)?Al(e.parent.property.value+r):0===r?e.parent.property:nl("+",e.parent.property,Gd(a));var s=e.scope;if(s.isPure(n)){var i=e.parentPath;i.replaceWith(dB({ARGUMENTS:t,
OFFSET:a,INDEX:n}));var o=i.get("test").get("left").evaluate();o.confident&&(!0===o.value?i.replaceWith(i.scope.buildUndefinedNode()):i.get("test").replaceWith(i.get("test").get("right")))}else{var l=s.generateUidIdentifierBasedOnNode(n);s.push({id:l,kind:"var"}),e.parentPath.replaceWith(fB({ARGUMENTS:t,OFFSET:a,INDEX:n,REF:Gd(l)}))}}function vB(e,t,r){r?e.parentPath.replaceWith(hB({ARGUMENTS:t,OFFSET:Al(r)})):e.replaceWith(t)}function bB(e){var t=e.node,r=e.scope;if(!function(e){var t=e.params.length;return t>0&&ke(e.params[t-1])}(t))return!1;var n=t.params.pop().argument,a=wl("arguments");if(dr(n)){var s=Xl("let",[Jl(n,n=r.generateUidIdentifier("ref"))]);t.body.body.unshift(s)}var i=function(e){var t=e.params.length;return t>0&&he(e.params[0],{name:"this"})&&(t-=1),t}(t),o={references:[],offset:i,argumentsNode:a,outerBinding:r.getBindingIdentifier(n.name),candidates:[],name:n.name,deopted:!1};if(e.traverse(yB,o),!o.deopted&&!o.references.length){for(var l=0,c=o.candidates;l<c.length;l++){var u=c[l],p=u.path,d=u.cause,f=Gd(a);switch(d){case"indexGetter":gB(p,f,o.offset);break;case"lengthGetter":vB(p,f,o.offset);break;default:p.replaceWith(f)}}return!0}o.references=o.references.concat(o.candidates.map(function(e){return e.path}));var h,m,y=Al(i),g=r.generateUidIdentifier("key"),v=r.generateUidIdentifier("len");i?(h=nl("-",Gd(g),Gd(y)),m=pl(nl(">",Gd(v),Gd(y)),nl("-",Gd(v),Gd(y)),Al(0))):(h=wl(g.name),m=wl(v.name));var b=pB({ARGUMENTS:a,ARRAY_KEY:h,ARRAY_LEN:m,START:y,ARRAY:n,KEY:g,LEN:v});if(o.deopted)t.body.body.unshift(b);else{var x=e.getEarliestCommonAncestorFrom(o.references).getStatementParent();x.findParent(function(e){if(!e.isLoop())return e.isFunction();x=e}),x.insertBefore(b)}return!0}var xB=NI(function(e,t){e.assertVersion(7);var r=t.loose;return{name:"transform-parameters",visitor:{Function:function(e){e.isArrowFunctionExpression()&&e.get("params").some(function(e){return e.isRestElement()||e.isAssignmentPattern()})&&e.arrowFunctionToExpression();var t=bB(e),n=uB(e,r);(t||n)&&e.scope.crawl()}}}}),EB=function(){var e=wl("a"),t=Fl(wl("key"),e);return Sh(e,t,mc([t]))?1:0}(),wB=NI(function(e,t){e.assertVersion(7);var r=t.useBuiltIns,n=void 0!==r&&r,a=t.loose,s=void 0!==a&&a;if("boolean"!=typeof s)throw new Error(".loose must be a boolean, or undefined");function i(e){return n?_l(wl("Object"),wl("assign")):e.addHelper("extends")}function o(e){var t=!1;return c(e,function(e){t=!0,e.stop()}),t}function l(e){var t=!1;return c(e,function(e){e.parentPath.isObjectPattern()&&(t=!0,e.stop())}),t}function c(e,t){e.traverse({Expression:function(e){var t=e.parent.type;("AssignmentPattern"===t&&"right"===e.key||"ObjectProperty"===t&&e.parent.computed&&"key"===e.key)&&e.skip()},RestElement:t})}function u(e,t){for(var r,n=[],a=U(e);!(r=a()).done;){var s=r.value,i=s.get("key");if(s.node.computed&&!i.isPure()){var o=t.generateUidBasedOnNode(i.node),l=Jl(wl(o),i.node);n.push(l),i.replaceWith(wl(o))}}return n}function p(e,t,r){var n=e.get("properties"),a=n[n.length-1];Bd(a.node);var o=Gd(a.node);a.remove();var l,c=u(e.get("properties"),e.scope),p=function(e){for(var t,r=[],n=!0,a=U(e.node.properties);!(t=a()).done;){var s=t.value;he(s.key)&&!s.computed?r.push(jl(s.key.name)):at(s.key)?r.push(Gd(s.key)):lr(s.key)?r.push(jl(String(s.key.value))):(r.push(Gd(s.key)),n=!1)}return{keys:r,allLiteral:n}}(e),d=p.keys,f=p.allLiteral;return 0===d.length?[c,o.argument,cl(i(t),[Nl([]),Gd(r)])]:(l=f?tl(d):cl(_l(tl(d),wl("map")),[t.addHelper("toPropertyKey")]),[c,o.argument,cl(t.addHelper("objectWithoutProperties"+(s?"Loose":"")),[Gd(r),l])])}function d(e,t,r){if(t.isAssignmentPattern())d(e,t.get("left"),r);else{if(t.isArrayPattern()&&o(t))for(var n=t.get("elements"),a=0;a<n.length;a++)d(e,n[a],r);if(t.isObjectPattern()&&o(t)){var s=e.scope.generateUidIdentifier("ref"),i=Xl("let",[Jl(t.node,s)]);r?r.push(i):(e.ensureBlock(),e.get("body").unshiftContainer("body",i)),t.replaceWith(Gd(s))}}}return{name:"proposal-object-rest-spread",inherits:aB,visitor:{Function:function(e){for(var t=e.get("params"),r=new Set,n=new Set,a=0;a<t.length;++a){var i=t[a];if(o(i)){r.add(a);for(var l=0,c=Object.keys(i.getBindingIdentifiers());l<c.length;l++){var u=c[l];n.add(u)}}}var p,f=!1,h=function(e,t){var r=e.node.name;e.scope.getBinding(r)===t.getBinding(r)&&n.has(r)&&(f=!0,e.stop())};for(p=0;p<t.length&&!f;++p){var m=t[p];r.has(p)||(m.isReferencedIdentifier()||m.isBindingIdentifier()?h(e,e.scope):m.traverse({"Scope|TypeAnnotation|TSTypeAnnotation":function(e){return e.skip()},"ReferencedIdentifier|BindingIdentifier":h},e.scope))}if(f){uB(e,s,function(e){return e>=p-1||r.has(e)},d)}else for(var y=0;y<t.length;++y){var g=t[y];r.has(y)&&d(g.parentPath,g)}},VariableDeclarator:function(e,t){if(e.get("id").isObjectPattern()){var r=e,n=e;c(e.get("id"),function(e){if(e.parentPath.isObjectPattern()){if(n.node.id.properties.length>1&&!he(n.node.init)){var a=e.scope.generateUidIdentifierBasedOnNode(n.node.init,"ref");return n.insertBefore(Jl(a,n.node.init)),void n.replaceWith(Jl(n.node.id,Gd(a)))}var i,o=n.node.init,l=[];e.findParent(function(e){if(e.isObjectProperty())l.unshift(e);else if(e.isVariableDeclarator())return i=e.parentPath.node.kind,!0});var c=u(l,e.scope);l.forEach(function(e){var t=e.node;o=_l(o,Gd(t.key),t.computed||lr(t.key))});var d=e.findParent(function(e){return e.isObjectPattern()}),f=p(d,t,o),h=f[0],m=f[1],y=f[2];s&&function(e){var t=e.getOuterBindingIdentifierPaths();Object.keys(t).forEach(function(r){var n=t[r].parentPath;e.scope.getBinding(r).references>EB||!n.isObjectProperty()||n.remove()})}(d),Nd(m),r.insertBefore(h),r.insertBefore(c),r.insertAfter(Jl(m,y)),r=r.getSibling(r.key+1),e.scope.registerBinding(i,r),0===d.node.properties.length&&d.findParent(function(e){return e.isObjectProperty()||e.isVariableDeclarator()}).remove()}})}},ExportNamedDeclaration:function(e){var t=e.get("declaration");if(t.isVariableDeclaration()&&t.get("declarations").some(function(e){return l(e.get("id"))})){for(var r=[],n=0,a=Object.keys(e.getOuterBindingIdentifiers(e));n<a.length;n++){var s=a[n];r.push(oc(wl(s),wl(s)))}e.replaceWith(t.node),e.insertAfter(ic(null,r))}},CatchClause:function(e){var t=e.get("param");d(t.parentPath,t)},AssignmentExpression:function(e,t){var r=e.get("left");if(r.isObjectPattern()&&o(r)){var n=[],a=e.scope.generateUidBasedOnNode(e.node.right,"ref");n.push(Xl("var",[Jl(wl(a),e.node.right)]));var s=p(r,t,wl(a)),i=s[0],l=s[1],c=s[2];i.length>0&&n.push(Xl("var",i));var u=Gd(e.node);u.right=wl(a),n.push(yl(u)),n.push(ih(rl("=",l,c))),n.push(yl(wl(a))),e.replaceWithMultiple(n)}},ForXStatement:function(e){var t=e.node,r=e.scope,n=e.get("left"),a=t.left;if(l(n))if(Fe(a)){var s=a.declarations[0].id,i=r.generateUidIdentifier("ref");t.left=Xl(a.kind,[Jl(i,null)]),e.ensureBlock(),t.body.body.unshift(Xl(t.left.kind,[Jl(s,Gd(i))]))}else{var o=r.generateUidIdentifier("ref");t.left=Xl("var",[Jl(o)]),e.ensureBlock(),0===t.body.body.length&&e.isCompletionRecord()&&t.body.body.unshift(yl(r.buildUndefinedNode())),t.body.body.unshift(yl(rl("=",a,Gd(o))))}},ArrayPattern:function(e){var t=[];if(c(e,function(e){if(e.parentPath.isObjectPattern()){var r=e.parentPath,n=e.scope.generateUidIdentifier("ref");t.push(Jl(r.node,n)),r.replaceWith(Gd(n)),e.skip()}}),t.length>0){var r=e.getStatementParent();r.insertAfter(Xl(r.node.kind||"var",t))}},ObjectExpression:function(e,t){if(function(e){for(var t,r=U(e.properties);!(t=r()).done;)if(tt(t.value))return!0;return!1}(e.node)){var r;if(s)r=i(t);else try{r=t.addHelper("objectSpread2")}catch(e){this.file.declarations.objectSpread2=null,r=t.addHelper("objectSpread")}for(var n=null,a=[],o=0,l=e.node.properties;o<l.length;o++){var c=l[o];tt(c)?(u(),n.arguments.push(c.argument)):a.push(c)}a.length&&u(),e.replaceWith(n)}function u(){var e=a.length>0,t=Nl(a);a=[],n?s?e&&n.arguments.push(t):n=cl(Gd(r),[n].concat(e?[Nl([]),t]:[])):n=cl(r,[t])}}}}}),SB=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-optional-catch-binding",manipulateOptions:function(e,t){t.plugins.push("optionalCatchBinding")}}});t.default=r})),TB=NI(function(e){return e.assertVersion(7),{name:"proposal-optional-catch-binding",inherits:SB,visitor:{CatchClause:function(e){if(!e.node.param){var t=e.scope.generateUidIdentifier("unused");e.get("param").replaceWith(t)}}}}});function jB(e){return qt(e)||Xt(e)||Jt(e)||St(e)||_e(e)}function AB(e){for(;jB(e.node);)e=e.get("expression");return e}var PB=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-optional-chaining",manipulateOptions:function(e,t){t.plugins.push("optionalChaining")}}});t.default=r}));function kB(){var e=P(["(() => ",")()"]);return kB=function(){return e},e}var CB=NI(function(e,t){e.assertVersion(7);var r=t.loose,n=void 0!==r&&r;function a(e){return he(e=AB(e))||rt(e)||we(e)&&!e.computed&&a(e.object)}return{name:"proposal-optional-chaining",inherits:PB,visitor:{"OptionalCallExpression|OptionalMemberExpression":function(e){var t=e.scope,r=e,s=e.findParent(function(e){if(!jB(e))return!0;r=e}),i=!1,o=s.isCallExpression({callee:r.node})&&e.isOptionalMemberExpression(),l=[],c=e;if(t.path.isPattern()&&function(e){for(var t=e,r=e.scope;t.isOptionalMemberExpression()||t.isOptionalCallExpression();){var n=t.node,a=t.isOptionalMemberExpression()?"object":"callee",s=AB(t.get(a));if(n.optional)return!r.isStatic(s.node);t=s}}(c))e.replaceWith(JE.ast(kB(),e.node));else{for(;c.isOptionalMemberExpression()||c.isOptionalCallExpression();){var u=c.node;u.optional&&l.push(u),c.isOptionalMemberExpression()?(c.node.type="MemberExpression",c=AB(c.get("object"))):c.isOptionalCallExpression()&&(c.node.type="CallExpression",c=AB(c.get("callee")))}var p=e;s.isUnaryExpression({operator:"delete"})&&(p=s,i=!0);for(var d=l.length-1;d>=0;d--){for(var f=l[d],h=ne(f),m=h?"callee":"object",y=f[m],g=y;jB(g);)g=g.expression;var v=void 0,b=void 0;if(h&&he(g,{name:"eval"})?(b=v=g,f[m]=Ll([Al(0),v])):n&&h&&a(g)?b=v=y:(v=t.maybeGenerateMemoised(g))?(b=rl("=",Gd(v),y),f[m]=v):b=v=y,h&&we(g))if(n&&a(g))f.callee=y;else{var x=g.object,E=t.maybeGenerateMemoised(x);E?g.object=rl("=",E,x):E=rt(x)?Gl():x,f.arguments.unshift(Gd(E)),f.callee=_l(f.callee,wl("call"))}var w=p.node;if(0===d&&o){var S,T=AB(p.get("object")).node,j=void 0;n&&a(T)||(j=t.maybeGenerateMemoised(T))&&(w.object=rl("=",j,T)),w=cl(_l(w,wl("bind")),[Gd(null!=(S=j)?S:T)])}p.replaceWith(pl(n?nl("==",Gd(b),Pl()):Dl("||",nl("===",Gd(b),Pl()),nl("===",Gd(v),t.buildUndefinedNode())),i?kl(!0):t.buildUndefinedNode(),w)),p=AB(p.get("alternate"))}}}}}}),DB=function(e){var t,r=e.assign,n=e.call,a=e.path,s=r.left,i=r.right,o=n.callee,l=We(o)&&$t(o.body)&&!o.async&&!o.generator;if(l){var c=o.params;1===c.length&&he(c[0])?t=c[0]:c.length>0&&(l=!1)}else if(he(o,{name:"eval"})){var u=Ll([Al(0),o]);return n.callee=u,a.scope.push({id:Gd(s)}),Ll([r,n])}return l&&!t?Ll([i,o.body]):(a.scope.push({id:Gd(s)}),t?(a.get("right").scope.rename(t.name,s.name),Ll([r,o.body])):Ll([r,n]))},_B={PipelinePrimaryTopicReference:function(e){e.replaceWith(Gd(this.topicId))},PipelineTopicExpression:function(e){e.skip()}},IB={minimal:{BinaryExpression:function(e){var t=e.scope,r=e.node,n=r.operator,a=r.left,s=r.right;if("|>"===n){var i=t.generateUidIdentifierBasedOnNode(a),o=cl(s,[Gd(i)]);e.replaceWith(DB({assign:rl("=",Gd(i),a),call:o,path:e}))}}},smart:{BinaryExpression:function(e){var t=e.scope,r=e.node,n=r.operator,a=r.left,s=r.right;if("|>"===n){var i,o=t.generateUidIdentifierBasedOnNode(a);if(t.push({id:o}),Mt(s))e.get("right").traverse(_B,{topicId:o}),i=s.expression;else{var l=s.callee;he(l,{name:"eval"})&&(l=Ll([Al(0),l])),i=cl(l,[Gd(o)])}e.replaceWith(Ll([rl("=",Gd(o),a),i]))}}},fsharp:{BinaryExpression:function(e){var t=e.scope,r=e.node,n=r.operator,a=r.left,s=r.right;if("|>"===n){var i=t.generateUidIdentifierBasedOnNode(a),o="AwaitExpression"===s.type?wc(Gd(i)):cl(s,[Gd(i)]),l=DB({assign:rl("=",Gd(i),a),call:o,path:e});e.replaceWith(l)}}}},OB=NI(function(e,t){return e.assertVersion(7),{name:"proposal-pipeline-operator",inherits:tO,visitor:IB[t.proposal]}}),NB=NI(function(e,t){return e.assertVersion(7),TN({name:"proposal-private-methods",feature:dN.privateMethods,loose:t.loose,manipulateOptions:function(e,t){t.plugins.push("classPrivateMethods")}})}),BB=NI(function(e,t){return e.assertVersion(7),TN({name:"proposal-class-properties",feature:dN.privateIn,loose:t.loose,manipulateOptions:function(e,t){t.plugins.push("privateIn")}})}),FB=NI(function(e){return e.assertVersion(7),{name:"syntax-throw-expressions",manipulateOptions:function(e,t){t.plugins.push("throwExpressions")}}}),RB=NI(function(e){return e.assertVersion(7),{name:"proposal-throw-expressions",inherits:FB,visitor:{UnaryExpression:function(e){var t=e.node,r=t.operator,n=t.argument;if("throw"===r){var a=El(null,[wl("e")],ol([Kl(wl("e"))]));e.replaceWith(cl(a,[n]))}}}}}),MB=Lr(function(e,t){(function(){var r={function:!0,object:!0},n=r[typeof window]&&window||this,a=r.object&&t&&!t.nodeType&&t,s=r.object&&e&&!e.nodeType,i=a&&s&&"object"==typeof Rr&&Rr;!i||i.global!==i&&i.window!==i&&i.self!==i||(n=i);var o=Object.prototype.hasOwnProperty;function l(){var e=Number(arguments[0]);if(!isFinite(e)||e<0||e>1114111||Math.floor(e)!=e)throw RangeError("Invalid code point: "+e);if(e<=65535)return String.fromCharCode(e);var t=55296+((e-=65536)>>10),r=e%1024+56320;return String.fromCharCode(t,r)}var c={};function u(e,t){if(-1==t.indexOf("|")){if(e==t)return;throw Error("Invalid node type: "+e+"; expected type: "+t)}if(!(t=o.call(c,t)?c[t]:c[t]=RegExp("^(?:"+t+")$")).test(e))throw Error("Invalid node type: "+e+"; expected types: "+t)}function p(e){var t=e.type;if(o.call(m,t))return m[t](e);throw Error("Invalid node type: "+t)}function d(e){return u(e.type,"anchor|characterClassEscape|characterClassRange|dot|value"),p(e)}function f(e){return u(e.type,"identifier"),e.value}function h(e){return u(e.type,"anchor|characterClass|characterClassEscape|empty|group|quantifier|reference|unicodePropertyEscape|value|dot"),p(e)}var m={alternative:function(e){u(e.type,"alternative");for(var t=e.body,r=-1,n=t.length,a="";++r<n;)a+=h(t[r]);return a},anchor:function(e){switch(u(e.type,"anchor"),e.kind){case"start":return"^";case"end":return"$";case"boundary":return"\\b";case"not-boundary":return"\\B";default:throw Error("Invalid assertion")}},characterClass:function(e){u(e.type,"characterClass");var t=e.body,r=-1,n=t.length,a="";for(e.negative&&(a+="^");++r<n;)a+=d(t[r]);return"["+a+"]"},characterClassEscape:function(e){return u(e.type,"characterClassEscape"),"\\"+e.value},characterClassRange:function(e){u(e.type,"characterClassRange");var t=e.min,r=e.max;if("characterClassRange"==t.type||"characterClassRange"==r.type)throw Error("Invalid character class range");return d(t)+"-"+d(r)},unicodePropertyEscape:function(e){return u(e.type,"unicodePropertyEscape"),"\\"+(e.negative?"P":"p")+"{"+e.value+"}"},disjunction:function(e){u(e.type,"disjunction");for(var t=e.body,r=-1,n=t.length,a="";++r<n;)0!=r&&(a+="|"),a+=p(t[r]);return a},dot:function(e){return u(e.type,"dot"),"."},group:function(e){u(e.type,"group");var t="";switch(e.behavior){case"normal":e.name&&(t+="?<"+f(e.name)+">");break;case"ignore":t+="?:";break;case"lookahead":t+="?=";break;case"negativeLookahead":t+="?!";break;case"lookbehind":t+="?<=";break;case"negativeLookbehind":t+="?<!";break;default:throw Error("Invalid behaviour: "+e.behaviour)}for(var r=e.body,n=-1,a=r.length;++n<a;)t+=p(r[n]);return"("+t+")"},quantifier:function(e){u(e.type,"quantifier");var t="",r=e.min,n=e.max;return t=null==n?0==r?"*":1==r?"+":"{"+r+",}":r==n?"{"+r+"}":0==r&&1==n?"?":"{"+r+","+n+"}",e.greedy||(t+="?"),function(e){return u(e.type,"anchor|characterClass|characterClassEscape|dot|group|reference|value"),p(e)}(e.body[0])+t},reference:function(e){if(u(e.type,"reference"),e.matchIndex)return"\\"+e.matchIndex;if(e.name)return"\\k<"+f(e.name)+">";throw new Error("Unknown reference type")},value:function(e){u(e.type,"value");var t=e.kind,r=e.codePoint;if("number"!=typeof r)throw new Error("Invalid code point: "+r);switch(t){case"controlLetter":return"\\c"+l(r+64);case"hexadecimalEscape":return"\\x"+("00"+r.toString(16).toUpperCase()).slice(-2);case"identifier":return"\\"+l(r);case"null":return"\\"+r;case"octal":return"\\"+r.toString(8);case"singleEscape":switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r";default:throw Error("Invalid code point: "+r)}case"symbol":return l(r);case"unicodeEscape":return"\\u"+("0000"+r.toString(16).toUpperCase()).slice(-4);case"unicodeCodePointEscape":return"\\u{"+r.toString(16).toUpperCase()+"}";default:throw Error("Unsupported node kind: "+t)}}},y={generate:p};a&&s?a.generate=p:n.regjsgen=y}).call(Rr)}),LB=Lr(function(e){var t,r,n,a;n=String.fromCodePoint||(t=String.fromCharCode,r=Math.floor,function(){var e,n,a=16384,s=[],i=-1,o=arguments.length;if(!o)return"";for(var l="";++i<o;){var c=Number(arguments[i]);if(!isFinite(c)||c<0||c>1114111||r(c)!=c)throw RangeError("Invalid code point: "+c);c<=65535?s.push(c):(e=55296+((c-=65536)>>10),n=c%1024+56320,s.push(e,n)),(i+1==o||s.length>a)&&(l+=t.apply(null,s),s.length=0)}return l}),a={parse:function(e,t,r){function a(t){return t.raw=e.substring(t.range[0],t.range[1]),t}function s(e,t){return e.range[0]=t,a(e)}function i(e,t){return a({type:"anchor",kind:e,range:[V-t,V]})}function o(e,t,r,n){return a({type:"value",kind:e,codePoint:t,range:[r,n]})}function l(e,t,r,n){return n=n||0,o(e,t,V-(r.length+n),V)}function c(e){var t,r=e[0],n=r.charCodeAt(0);return W&&1===r.length&&n>=55296&&n<=56319&&(t=g().charCodeAt(0))>=56320&&t<=57343?o("symbol",1024*(n-55296)+t-56320+65536,++V-2,V):o("symbol",n,V-1,V)}function u(e,t,r,n){return null==n&&(r=V-1,n=V),a({type:"quantifier",min:e,max:t,greedy:!0,body:null,range:[r,n]})}function p(e,t,r,n){return a({type:"characterClass",body:e,negative:t,range:[r,n]})}function d(e,t,r,n){return e.codePoint>t.codePoint&&R("invalid range in character class",e.raw+"-"+t.raw,r,n),a({type:"characterClassRange",min:e,max:t,range:[r,n]})}function f(e){return"alternative"===e.type?e.body:[e]}function h(t){t=t||1;var r=e.substring(V,V+t);return V+=t||1,r}function m(e){y(e)||R("character",e)}function y(t){if(e.indexOf(t,V)===V)return h(t.length)}function g(){return e[V]}function v(t){return e.indexOf(t,V)===V}function b(t){return e[V+1]===t}function x(t){var r=e.substring(V).match(t);return r&&(r.range=[],r.range[0]=V,h(r[0].length),r.range[1]=V),r}function E(){var e=[],t=V;for(e.push(w());y("|");)e.push(w());return 1===e.length?e[0]:function(e,t,r){return a({type:"disjunction",body:e,range:[t,r]})}(e,t,V)}function w(){for(var e,t=[],r=V;e=S();)t.push(e);return 1===t.length?t[0]:function(e,t,r){return a({type:"alternative",body:e,range:[t,r]})}(t,r,V)}function S(){if(V>=e.length||v("|")||v(")"))return null;var t=y("^")?i("start",1):y("$")?i("end",1):y("\\b")?i("boundary",2):y("\\B")?i("not-boundary",2):T("(?=","lookahead","(?!","negativeLookahead");if(t)return t;var n=function(){var e;if(e=x(/^[^^$\\.*+?()[\]{}|]/))return c(e);if(!W&&(e=x(/^(?:]|})/)))return c(e);if(y("."))return a({type:"dot",range:[V-1,V]});if(y("\\")){if(!(e=k())){if(!W&&"c"==g())return o("symbol",92,V-1,V);R("atomEscape")}return e}if(e=function(){var e,t=V;return(e=x(/^\[\^/))?(e=N(),m("]"),p(e,!0,t,V)):y("[")?(e=N(),m("]"),p(e,!1,t,V)):null}())return e;if(r.lookbehind&&(e=T("(?<=","lookbehind","(?<!","negativeLookbehind")))return e;if(r.namedGroups&&y("(?<")){var t=_();m(">");var n=j("normal",t.range[0]-3);return n.name=t,n}return T("(?:","ignore","(","normal")}();n||R("Expected atom");var l=function(){var e,t,r,n,a=V;return y("*")?t=u(0):y("+")?t=u(1):y("?")?t=u(0,1):(e=x(/^\{([0-9]+)\}/))?t=u(r=parseInt(e[1],10),r,e.range[0],e.range[1]):(e=x(/^\{([0-9]+),\}/))?t=u(r=parseInt(e[1],10),void 0,e.range[0],e.range[1]):(e=x(/^\{([0-9]+),([0-9]+)\}/))&&((r=parseInt(e[1],10))>(n=parseInt(e[2],10))&&R("numbers out of order in {} quantifier","",a,V),t=u(r,n,e.range[0],e.range[1])),t&&y("?")&&(t.greedy=!1,t.range[1]+=1),t}()||!1;return l?(l.body=f(n),s(l,n.range[0]),l):n}function T(e,t,r,n){var a=null,s=V;if(y(e))a=t;else{if(!y(r))return!1;a=n}return j(a,s)}function j(e,t){var r=E();r||R("Expected disjunction"),m(")");var n=function(e,t,r,n){return a({type:"group",behavior:e,body:t,range:[r,n]})}(e,f(r),t,V);return"normal"==e&&U&&L++,n}function A(e){var t,r;if(W&&"unicodeEscape"==e.kind&&(t=e.codePoint)>=55296&&t<=56319&&v("\\")&&b("u")){var n=V;V++;var s=P();"unicodeEscape"==s.kind&&(r=s.codePoint)>=56320&&r<=57343?(e.range[1]=s.range[1],e.codePoint=1024*(t-55296)+r-56320+65536,e.type="value",e.kind="unicodeCodePointEscape",a(e)):V=n}return e}function P(){return k(!0)}function k(e){var t,n=V;if(t=function(){var e,t,r;if(e=x(/^(?!0)\d+/)){t=e[0];var n=parseInt(e[0],10);return n<=L?(r=e[0],a({type:"reference",matchIndex:parseInt(r,10),range:[V-1-r.length,V]})):(M.push(n),h(-e[0].length),(e=x(/^[0-7]{1,3}/))?l("octal",parseInt(e[0],8),e[0],1):s(e=c(x(/^[89]/)),e.range[0]-1))}return(e=x(/^[0-7]{1,3}/))?(t=e[0],/^0{1,3}$/.test(t)?l("null",0,"0",t.length+1):l("octal",parseInt(t,8),t,1)):!!(e=x(/^[dDsSwW]/))&&a({type:"characterClassEscape",value:e[0],range:[V-2,V]})}()||function(){if(r.namedGroups&&x(/^k<(?=.*?>)/)){var e=_();return m(">"),function(e){return a({type:"reference",name:e,range:[e.range[0]-3,V]})}(e)}}())return t;if(e){if(y("b"))return l("singleEscape",8,"\\b");if(y("B"))R("\\B not possible inside of CharacterClass","",n);else if(!W&&(t=x(/^c([0-9])/)))return l("controlLetter",t[1]+16,t[1],2);if(y("-")&&W)return l("singleEscape",45,"\\-")}return t=function(){var e,t,n,s=V;if(e=x(/^[fnrtv]/)){var i=0;switch(e[0]){case"t":i=9;break;case"n":i=10;break;case"v":i=11;break;case"f":i=12;break;case"r":i=13}return l("singleEscape",i,"\\"+e[0])}return(e=x(/^c([a-zA-Z])/))?l("controlLetter",e[1].charCodeAt(0)%32,e[1],2):(e=x(/^x([0-9a-fA-F]{2})/))?l("hexadecimalEscape",parseInt(e[1],16),e[1],2):(e=C())?((!e||e.codePoint>1114111)&&R("Invalid escape sequence",null,s,V),e):r.unicodePropertyEscape&&W&&(e=x(/^([pP])\{([^\}]+)\}/))?a({type:"unicodePropertyEscape",negative:"P"===e[1],value:e[2],range:[e.range[0]-1,e.range[1]],raw:e[0]}):(n=g(),W&&/[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/.test(n)||!W&&"c"!==n?"k"===n&&r.lookbehind?null:l("identifier",(t=h()).charCodeAt(0),t,1):null)}()}function C(){var e;return(e=x(/^u([0-9a-fA-F]{4})/))?A(l("unicodeEscape",parseInt(e[1],16),e[1],2)):W&&(e=x(/^u\{([0-9a-fA-F]+)\}/))?l("unicodeCodePointEscape",parseInt(e[1],16),e[1],4):void 0}function D(t){var r=g(),a=V;if("\\"===r){h();var s=C();return s&&t(s.codePoint)||R("Invalid escape sequence",null,a,V),n(s.codePoint)}var i=r.charCodeAt(0);if(i>=55296&&i<=56319){var o=(r+=e[V+1]).charCodeAt(1);o>=56320&&o<=57343&&(i=1024*(i-55296)+o-56320+65536)}if(t(i))return h(),i>65535&&h(),r}function _(){var e,t=V,r=D(I);for(r||R("Invalid identifier");e=D(O);)r+=e;return a({type:"identifier",value:r,range:[t,V]})}function I(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&/[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFF1]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/.test(n(e))}function O(e){
return I(e)||e>=48&&e<=57||e>=128&&/[0-9_\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDD30-\uDD39\uDF46-\uDF50]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC66-\uDC6F\uDC7F-\uDC82\uDCB0-\uDCBA\uDCF0-\uDCF9\uDD00-\uDD02\uDD27-\uDD34\uDD36-\uDD3F\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDD0-\uDDD9\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC50-\uDC59\uDC5E\uDCB0-\uDCC3\uDCD0-\uDCD9\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDE50-\uDE59\uDEAB-\uDEB7\uDEC0-\uDEC9\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC2C-\uDC3A\uDCE0-\uDCE9\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC50-\uDC59\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD50-\uDD59\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDDA0-\uDDA9\uDEF3-\uDEF6]|\uD81A[\uDE60-\uDE69\uDEF0-\uDEF4\uDF30-\uDF36\uDF50-\uDF59]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A\uDD50-\uDD59]|\uDB40[\uDD00-\uDDEF]/.test(n(e))}function N(){var e,t;return v("]")?[]:((t=F())||R("classAtom"),(e=v("]")?[t]:B(t))||R("nonEmptyClassRanges"),e)}function B(e){var t,r,n;if(v("-")&&!b("]")){m("-"),(n=F())||R("classAtom"),r=V;var a=N();return a||R("classRanges"),t=e.range[0],"empty"===a.type?[d(e,n,t,r)]:[d(e,n,t,r)].concat(a)}return(n=function(){var e=F();return e||R("classAtom"),v("]")?e:B(e)}())||R("nonEmptyClassRangesNoDash"),[e].concat(n)}function F(){return y("-")?c("-"):(e=x(/^[^\\\]-]/))?c(e[0]):y("\\")?((e=P())||R("classEscape"),A(e)):void 0;var e}function R(t,r,n,a){n=null==n?V:n,a=null==a?n:a;var s=Math.max(0,n-10),i=Math.min(a+10,e.length),o="    "+e.substring(s,i),l="    "+new Array(n-s+1).join(" ")+"^";throw SyntaxError(t+" at position "+n+(r?": "+r:"")+"\n"+o+"\n"+l)}r||(r={});var M=[],L=0,U=!0,W=-1!==(t||"").indexOf("u"),V=0;""===(e=String(e))&&(e="(?:)");var G=E();G.range[1]!==e.length&&R("Could not parse entire input - got stuck","",G.range[1]);for(var K=0;K<M.length;K++)if(M[K]<=L)return V=0,U=!1,E();return G}},e.exports?e.exports=a:window.regjsparser=a}),UB=Lr(function(e,t){!function(r){var n=t,a=e&&e.exports==n&&e,s="object"==typeof Rr&&Rr;s.global!==s&&s.window!==s||(r=s);var i="A range’s `stop` value must be greater than or equal to the `start` value.",o="Invalid code point value. Code points range from U+000000 to U+10FFFF.",l=55296,c=56319,u=56320,p=57343,d=/\\x00([^0123456789]|$)/g,f={},h=f.hasOwnProperty,m=function(e,t){for(var r=-1,n=e.length;++r<n;)t(e[r],r)},y=f.toString,g=function(e){return"[object Array]"==y.call(e)},v=function(e){return"number"==typeof e||"[object Number]"==y.call(e)},b=function(e,t){var r=String(e);return r.length<t?("0000"+r).slice(-t):r},x=function(e){return Number(e).toString(16).toUpperCase()},E=[].slice,w=function(e,t){for(var r,n,a=0,s=e.length;a<s;){if(r=e[a],n=e[a+1],t>=r&&t<n)return t==r?n==r+1?(e.splice(a,2),e):(e[a]=t+1,e):t==n-1?(e[a+1]=t,e):(e.splice(a,2,r,t,t+1,n),e);a+=2}return e},S=function(e,t,r){if(r<t)throw Error(i);for(var n,a,s=0;s<e.length;){if(n=e[s],a=e[s+1]-1,n>r)return e;if(t<=n&&r>=a)e.splice(s,2);else{if(t>=n&&r<a)return t==n?(e[s]=r+1,e[s+1]=a+1,e):(e.splice(s,2,n,t,r+1,a+1),e);if(t>=n&&t<=a)e[s+1]=t;else if(r>=n&&r<=a)return e[s]=r+1,e;s+=2}}return e},T=function(e,t){var r,n,a=0,s=null,i=e.length;if(t<0||t>1114111)throw RangeError(o);for(;a<i;){if(r=e[a],n=e[a+1],t>=r&&t<n)return e;if(t==r-1)return e[a]=t,e;if(r>t)return e.splice(null!=s?s+2:0,0,t,t+1),e;if(t==n)return t+1==e[a+2]?(e.splice(a,4,r,e[a+3]),e):(e[a+1]=t+1,e);s=a,a+=2}return e.push(t,t+1),e},j=function(e,t){for(var r,n,a=0,s=e.slice(),i=t.length;a<i;)s=(r=t[a])==(n=t[a+1]-1)?T(s,r):P(s,r,n),a+=2;return s},A=function(e,t){for(var r,n,a=0,s=e.slice(),i=t.length;a<i;)s=(r=t[a])==(n=t[a+1]-1)?w(s,r):S(s,r,n),a+=2;return s},P=function(e,t,r){if(r<t)throw Error(i);if(t<0||t>1114111||r<0||r>1114111)throw RangeError(o);for(var n,a,s=0,l=!1,c=e.length;s<c;){if(n=e[s],a=e[s+1],l){if(n==r+1)return e.splice(s-1,2),e;if(n>r)return e;n>=t&&n<=r&&(a>t&&a-1<=r?(e.splice(s,2),s-=2):(e.splice(s-1,2),s-=2))}else{if(n==r+1)return e[s]=t,e;if(n>r)return e.splice(s,0,t,r+1),e;if(t>=n&&t<a&&r+1<=a)return e;t>=n&&t<a||a==t?(e[s+1]=r+1,l=!0):t<=n&&r+1>=a&&(e[s]=t,e[s+1]=r+1,l=!0)}s+=2}return l||e.push(t,r+1),e},k=function(e,t){var r=0,n=e.length,a=e[r],s=e[n-1];if(n>=2&&(t<a||t>s))return!1;for(;r<n;){if(a=e[r],s=e[r+1],t>=a&&t<s)return!0;r+=2}return!1},C=function(e){return!e.length},D=function(e){return 2==e.length&&e[0]+1==e[1]},_=function(e){for(var t,r,n=0,a=[],s=e.length;n<s;){for(t=e[n],r=e[n+1];t<r;)a.push(t),++t;n+=2}return a},I=Math.floor,O=function(e){return parseInt(I((e-65536)/1024)+l,10)},N=function(e){return parseInt((e-65536)%1024+u,10)},B=String.fromCharCode,F=function(e){return 9==e?"\\t":10==e?"\\n":12==e?"\\f":13==e?"\\r":45==e?"\\x2D":92==e?"\\\\":36==e||e>=40&&e<=43||46==e||47==e||63==e||e>=91&&e<=94||e>=123&&e<=125?"\\"+B(e):e>=32&&e<=126?B(e):e<=255?"\\x"+b(x(e),2):"\\u"+b(x(e),4)},R=function(e){return e<=65535?F(e):"\\u{"+e.toString(16).toUpperCase()+"}"},M=function(e){var t,r=e.length,n=e.charCodeAt(0);return n>=l&&n<=c&&r>1?(t=e.charCodeAt(1),1024*(n-l)+t-u+65536):n},L=function(e){var t,r,n="",a=0,s=e.length;if(D(e))return F(e[0]);for(;a<s;)n+=(t=e[a])==(r=e[a+1]-1)?F(t):t+1==r?F(t)+F(r):F(t)+"-"+F(r),a+=2;return"["+n+"]"},U=function(e){if(1==e.length)return e;for(var t=-1,r=-1;++t<e.length;){var n=e[t],a=n[1],s=a[0],i=a[1];for(r=t;++r<e.length;){var o=e[r],l=o[1],c=l[0],u=l[1];s==c&&i==u&&(D(o[0])?n[0]=T(n[0],o[0][0]):n[0]=P(n[0],o[0][0],o[0][1]-1),e.splice(r,1),--r)}}return e},W=function(e){if(!e.length)return[];for(var t,r,n,a,s,i,o=0,l=[],c=e.length;o<c;){t=e[o],r=e[o+1]-1,n=O(t),a=N(t),s=O(r);var d=(i=N(r))==p,f=!1;n==s||a==u&&d?(l.push([[n,s+1],[a,i+1]]),f=!0):l.push([[n,n+1],[a,57344]]),!f&&n+1<s&&(d?(l.push([[n+1,s+1],[u,i+1]]),f=!0):l.push([[n+1,s],[u,57344]])),f||l.push([[s,s+1],[u,i+1]]),o+=2}return function(e){for(var t,r,n,a,s,i,o=[],l=[],c=!1,u=-1,p=e.length;++u<p;)if(t=e[u],r=e[u+1]){for(n=t[0],a=t[1],s=r[0],i=r[1],l=a;s&&n[0]==s[0]&&n[1]==s[1];)l=D(i)?T(l,i[0]):P(l,i[0],i[1]-1),n=(t=e[++u])[0],a=t[1],s=(r=e[u+1])&&r[0],i=r&&r[1],c=!0;o.push([n,c?l:a]),c=!1}else o.push(t);return U(o)}(l)},V=function(e,t,r){if(r)return function(e){var t,r,n="",a=0,s=e.length;if(D(e))return R(e[0]);for(;a<s;)n+=(t=e[a])==(r=e[a+1]-1)?R(t):t+1==r?R(t)+R(r):R(t)+"-"+R(r),a+=2;return"["+n+"]"}(e);var n=[],a=function(e){for(var t,r,n=[],a=[],s=[],i=[],o=0,d=e.length;o<d;)t=e[o],r=e[o+1]-1,t<l?(r<l&&s.push(t,r+1),r>=l&&r<=c&&(s.push(t,l),n.push(l,r+1)),r>=u&&r<=p&&(s.push(t,l),n.push(l,56320),a.push(u,r+1)),r>p&&(s.push(t,l),n.push(l,56320),a.push(u,57344),r<=65535?s.push(57344,r+1):(s.push(57344,65536),i.push(65536,r+1)))):t>=l&&t<=c?(r>=l&&r<=c&&n.push(t,r+1),r>=u&&r<=p&&(n.push(t,56320),a.push(u,r+1)),r>p&&(n.push(t,56320),a.push(u,57344),r<=65535?s.push(57344,r+1):(s.push(57344,65536),i.push(65536,r+1)))):t>=u&&t<=p?(r>=u&&r<=p&&a.push(t,r+1),r>p&&(a.push(t,57344),r<=65535?s.push(57344,r+1):(s.push(57344,65536),i.push(65536,r+1)))):t>p&&t<=65535?r<=65535?s.push(t,r+1):(s.push(t,65536),i.push(65536,r+1)):i.push(t,r+1),o+=2;return{loneHighSurrogates:n,loneLowSurrogates:a,bmp:s,astral:i}}(e),s=a.loneHighSurrogates,i=a.loneLowSurrogates,o=a.bmp,d=a.astral,f=!C(s),h=!C(i),y=W(d);return t&&(o=j(o,s),f=!1,o=j(o,i),h=!1),C(o)||n.push(L(o)),y.length&&n.push(function(e){var t=[];return m(e,function(e){var r=e[0],n=e[1];t.push(L(r)+L(n))}),t.join("|")}(y)),f&&n.push(L(s)+"(?![\\uDC00-\\uDFFF])"),h&&n.push("(?:[^\\uD800-\\uDBFF]|^)"+L(i)),n.join("|")},G=function e(t){return arguments.length>1&&(t=E.call(arguments)),this instanceof e?(this.data=[],t?this.add(t):this):(new e).add(t)};G.version="1.3.3";var K=G.prototype;!function(e,t){var r;for(r in t)h.call(t,r)&&(e[r]=t[r])}(K,{add:function(e){var t=this;return null==e?t:e instanceof G?(t.data=j(t.data,e.data),t):(arguments.length>1&&(e=E.call(arguments)),g(e)?(m(e,function(e){t.add(e)}),t):(t.data=T(t.data,v(e)?e:M(e)),t))},remove:function(e){var t=this;return null==e?t:e instanceof G?(t.data=A(t.data,e.data),t):(arguments.length>1&&(e=E.call(arguments)),g(e)?(m(e,function(e){t.remove(e)}),t):(t.data=w(t.data,v(e)?e:M(e)),t))},addRange:function(e,t){var r=this;return r.data=P(r.data,v(e)?e:M(e),v(t)?t:M(t)),r},removeRange:function(e,t){var r=this,n=v(e)?e:M(e),a=v(t)?t:M(t);return r.data=S(r.data,n,a),r},intersection:function(e){var t=this,r=e instanceof G?_(e.data):e;return t.data=function(e,t){for(var r,n=0,a=t.length,s=[];n<a;)r=t[n],k(e,r)&&s.push(r),++n;return function(e){for(var t,r=-1,n=e.length,a=n-1,s=[],i=!0,o=0;++r<n;)if(t=e[r],i)s.push(t),o=t,i=!1;else if(t==o+1){if(r!=a){o=t;continue}i=!0,s.push(t+1)}else s.push(o+1,t),o=t;return i||s.push(t+1),s}(s)}(t.data,r),t},contains:function(e){return k(this.data,v(e)?e:M(e))},clone:function(){var e=new G;return e.data=this.data.slice(0),e},toString:function(e){var t=V(this.data,!!e&&e.bmpOnly,!!e&&e.hasUnicodeFlag);return t?t.replace(d,"\\0$1"):"[]"},toRegExp:function(e){var t=this.toString(e&&-1!=e.indexOf("u")?{hasUnicodeFlag:!0}:null);return RegExp(t,e||"")},valueOf:function(){return _(this.data)}}),K.toArray=K.valueOf,n&&!n.nodeType?a?a.exports=G:n.regenerate=G:r.regenerate=G}(Rr)}),WB=new Set(["General_Category","Script","Script_Extensions","Alphabetic","Any","ASCII","ASCII_Hex_Digit","Assigned","Bidi_Control","Bidi_Mirrored","Case_Ignorable","Cased","Changes_When_Casefolded","Changes_When_Casemapped","Changes_When_Lowercased","Changes_When_NFKC_Casefolded","Changes_When_Titlecased","Changes_When_Uppercased","Dash","Default_Ignorable_Code_Point","Deprecated","Diacritic","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extended_Pictographic","Extender","Grapheme_Base","Grapheme_Extend","Hex_Digit","ID_Continue","ID_Start","Ideographic","IDS_Binary_Operator","IDS_Trinary_Operator","Join_Control","Logical_Order_Exception","Lowercase","Math","Noncharacter_Code_Point","Pattern_Syntax","Pattern_White_Space","Quotation_Mark","Radical","Regional_Indicator","Sentence_Terminal","Soft_Dotted","Terminal_Punctuation","Unified_Ideograph","Uppercase","Variation_Selector","White_Space","XID_Continue","XID_Start"]),VB=new Map([["scx","Script_Extensions"],["sc","Script"],["gc","General_Category"],["AHex","ASCII_Hex_Digit"],["Alpha","Alphabetic"],["Bidi_C","Bidi_Control"],["Bidi_M","Bidi_Mirrored"],["Cased","Cased"],["CI","Case_Ignorable"],["CWCF","Changes_When_Casefolded"],["CWCM","Changes_When_Casemapped"],["CWKCF","Changes_When_NFKC_Casefolded"],["CWL","Changes_When_Lowercased"],["CWT","Changes_When_Titlecased"],["CWU","Changes_When_Uppercased"],["Dash","Dash"],["Dep","Deprecated"],["DI","Default_Ignorable_Code_Point"],["Dia","Diacritic"],["Ext","Extender"],["Gr_Base","Grapheme_Base"],["Gr_Ext","Grapheme_Extend"],["Hex","Hex_Digit"],["IDC","ID_Continue"],["Ideo","Ideographic"],["IDS","ID_Start"],["IDSB","IDS_Binary_Operator"],["IDST","IDS_Trinary_Operator"],["Join_C","Join_Control"],["LOE","Logical_Order_Exception"],["Lower","Lowercase"],["Math","Math"],["NChar","Noncharacter_Code_Point"],["Pat_Syn","Pattern_Syntax"],["Pat_WS","Pattern_White_Space"],["QMark","Quotation_Mark"],["Radical","Radical"],["RI","Regional_Indicator"],["SD","Soft_Dotted"],["STerm","Sentence_Terminal"],["Term","Terminal_Punctuation"],["UIdeo","Unified_Ideograph"],["Upper","Uppercase"],["VS","Variation_Selector"],["WSpace","White_Space"],["space","White_Space"],["XIDC","XID_Continue"],["XIDS","XID_Start"]]),GB=function(e){if(WB.has(e))return e;if(VB.has(e))return VB.get(e);throw new Error("Unknown property: "+e)},KB=new Map([["General_Category",new Map([["C","Other"],["Cc","Control"],["cntrl","Control"],["Cf","Format"],["Cn","Unassigned"],["Co","Private_Use"],["Cs","Surrogate"],["L","Letter"],["LC","Cased_Letter"],["Ll","Lowercase_Letter"],["Lm","Modifier_Letter"],["Lo","Other_Letter"],["Lt","Titlecase_Letter"],["Lu","Uppercase_Letter"],["M","Mark"],["Combining_Mark","Mark"],["Mc","Spacing_Mark"],["Me","Enclosing_Mark"],["Mn","Nonspacing_Mark"],["N","Number"],["Nd","Decimal_Number"],["digit","Decimal_Number"],["Nl","Letter_Number"],["No","Other_Number"],["P","Punctuation"],["punct","Punctuation"],["Pc","Connector_Punctuation"],["Pd","Dash_Punctuation"],["Pe","Close_Punctuation"],["Pf","Final_Punctuation"],["Pi","Initial_Punctuation"],["Po","Other_Punctuation"],["Ps","Open_Punctuation"],["S","Symbol"],["Sc","Currency_Symbol"],["Sk","Modifier_Symbol"],["Sm","Math_Symbol"],["So","Other_Symbol"],["Z","Separator"],["Zl","Line_Separator"],["Zp","Paragraph_Separator"],["Zs","Space_Separator"],["Other","Other"],["Control","Control"],["Format","Format"],["Unassigned","Unassigned"],["Private_Use","Private_Use"],["Surrogate","Surrogate"],["Letter","Letter"],["Cased_Letter","Cased_Letter"],["Lowercase_Letter","Lowercase_Letter"],["Modifier_Letter","Modifier_Letter"],["Other_Letter","Other_Letter"],["Titlecase_Letter","Titlecase_Letter"],["Uppercase_Letter","Uppercase_Letter"],["Mark","Mark"],["Spacing_Mark","Spacing_Mark"],["Enclosing_Mark","Enclosing_Mark"],["Nonspacing_Mark","Nonspacing_Mark"],["Number","Number"],["Decimal_Number","Decimal_Number"],["Letter_Number","Letter_Number"],["Other_Number","Other_Number"],["Punctuation","Punctuation"],["Connector_Punctuation","Connector_Punctuation"],["Dash_Punctuation","Dash_Punctuation"],["Close_Punctuation","Close_Punctuation"],["Final_Punctuation","Final_Punctuation"],["Initial_Punctuation","Initial_Punctuation"],["Other_Punctuation","Other_Punctuation"],["Open_Punctuation","Open_Punctuation"],["Symbol","Symbol"],["Currency_Symbol","Currency_Symbol"],["Modifier_Symbol","Modifier_Symbol"],["Math_Symbol","Math_Symbol"],["Other_Symbol","Other_Symbol"],["Separator","Separator"],["Line_Separator","Line_Separator"],["Paragraph_Separator","Paragraph_Separator"],["Space_Separator","Space_Separator"]])],["Script",new Map([["Adlm","Adlam"],["Aghb","Caucasian_Albanian"],["Ahom","Ahom"],["Arab","Arabic"],["Armi","Imperial_Aramaic"],["Armn","Armenian"],["Avst","Avestan"],["Bali","Balinese"],["Bamu","Bamum"],["Bass","Bassa_Vah"],["Batk","Batak"],["Beng","Bengali"],["Bhks","Bhaiksuki"],["Bopo","Bopomofo"],["Brah","Brahmi"],["Brai","Braille"],["Bugi","Buginese"],["Buhd","Buhid"],["Cakm","Chakma"],["Cans","Canadian_Aboriginal"],["Cari","Carian"],["Cham","Cham"],["Cher","Cherokee"],["Chrs","Chorasmian"],["Copt","Coptic"],["Qaac","Coptic"],["Cprt","Cypriot"],["Cyrl","Cyrillic"],["Deva","Devanagari"],["Diak","Dives_Akuru"],["Dogr","Dogra"],["Dsrt","Deseret"],["Dupl","Duployan"],["Egyp","Egyptian_Hieroglyphs"],["Elba","Elbasan"],["Elym","Elymaic"],["Ethi","Ethiopic"],["Geor","Georgian"],["Glag","Glagolitic"],["Gong","Gunjala_Gondi"],["Gonm","Masaram_Gondi"],["Goth","Gothic"],["Gran","Grantha"],["Grek","Greek"],["Gujr","Gujarati"],["Guru","Gurmukhi"],["Hang","Hangul"],["Hani","Han"],["Hano","Hanunoo"],["Hatr","Hatran"],["Hebr","Hebrew"],["Hira","Hiragana"],["Hluw","Anatolian_Hieroglyphs"],["Hmng","Pahawh_Hmong"],["Hmnp","Nyiakeng_Puachue_Hmong"],["Hrkt","Katakana_Or_Hiragana"],["Hung","Old_Hungarian"],["Ital","Old_Italic"],["Java","Javanese"],["Kali","Kayah_Li"],["Kana","Katakana"],["Khar","Kharoshthi"],["Khmr","Khmer"],["Khoj","Khojki"],["Kits","Khitan_Small_Script"],["Knda","Kannada"],["Kthi","Kaithi"],["Lana","Tai_Tham"],["Laoo","Lao"],["Latn","Latin"],["Lepc","Lepcha"],["Limb","Limbu"],["Lina","Linear_A"],["Linb","Linear_B"],["Lisu","Lisu"],["Lyci","Lycian"],["Lydi","Lydian"],["Mahj","Mahajani"],["Maka","Makasar"],["Mand","Mandaic"],["Mani","Manichaean"],["Marc","Marchen"],["Medf","Medefaidrin"],["Mend","Mende_Kikakui"],["Merc","Meroitic_Cursive"],["Mero","Meroitic_Hieroglyphs"],["Mlym","Malayalam"],["Modi","Modi"],["Mong","Mongolian"],["Mroo","Mro"],["Mtei","Meetei_Mayek"],["Mult","Multani"],["Mymr","Myanmar"],["Nand","Nandinagari"],["Narb","Old_North_Arabian"],["Nbat","Nabataean"],["Newa","Newa"],["Nkoo","Nko"],["Nshu","Nushu"],["Ogam","Ogham"],["Olck","Ol_Chiki"],["Orkh","Old_Turkic"],["Orya","Oriya"],["Osge","Osage"],["Osma","Osmanya"],["Palm","Palmyrene"],["Pauc","Pau_Cin_Hau"],["Perm","Old_Permic"],["Phag","Phags_Pa"],["Phli","Inscriptional_Pahlavi"],["Phlp","Psalter_Pahlavi"],["Phnx","Phoenician"],["Plrd","Miao"],["Prti","Inscriptional_Parthian"],["Rjng","Rejang"],["Rohg","Hanifi_Rohingya"],["Runr","Runic"],["Samr","Samaritan"],["Sarb","Old_South_Arabian"],["Saur","Saurashtra"],["Sgnw","SignWriting"],["Shaw","Shavian"],["Shrd","Sharada"],["Sidd","Siddham"],["Sind","Khudawadi"],["Sinh","Sinhala"],["Sogd","Sogdian"],["Sogo","Old_Sogdian"],["Sora","Sora_Sompeng"],["Soyo","Soyombo"],["Sund","Sundanese"],["Sylo","Syloti_Nagri"],["Syrc","Syriac"],["Tagb","Tagbanwa"],["Takr","Takri"],["Tale","Tai_Le"],["Talu","New_Tai_Lue"],["Taml","Tamil"],["Tang","Tangut"],["Tavt","Tai_Viet"],["Telu","Telugu"],["Tfng","Tifinagh"],["Tglg","Tagalog"],["Thaa","Thaana"],["Thai","Thai"],["Tibt","Tibetan"],["Tirh","Tirhuta"],["Ugar","Ugaritic"],["Vaii","Vai"],["Wara","Warang_Citi"],["Wcho","Wancho"],["Xpeo","Old_Persian"],["Xsux","Cuneiform"],["Yezi","Yezidi"],["Yiii","Yi"],["Zanb","Zanabazar_Square"],["Zinh","Inherited"],["Qaai","Inherited"],["Zyyy","Common"],["Zzzz","Unknown"],["Adlam","Adlam"],["Caucasian_Albanian","Caucasian_Albanian"],["Arabic","Arabic"],["Imperial_Aramaic","Imperial_Aramaic"],["Armenian","Armenian"],["Avestan","Avestan"],["Balinese","Balinese"],["Bamum","Bamum"],["Bassa_Vah","Bassa_Vah"],["Batak","Batak"],["Bengali","Bengali"],["Bhaiksuki","Bhaiksuki"],["Bopomofo","Bopomofo"],["Brahmi","Brahmi"],["Braille","Braille"],["Buginese","Buginese"],["Buhid","Buhid"],["Chakma","Chakma"],["Canadian_Aboriginal","Canadian_Aboriginal"],["Carian","Carian"],["Cherokee","Cherokee"],["Chorasmian","Chorasmian"],["Coptic","Coptic"],["Cypriot","Cypriot"],["Cyrillic","Cyrillic"],["Devanagari","Devanagari"],["Dives_Akuru","Dives_Akuru"],["Dogra","Dogra"],["Deseret","Deseret"],["Duployan","Duployan"],["Egyptian_Hieroglyphs","Egyptian_Hieroglyphs"],["Elbasan","Elbasan"],["Elymaic","Elymaic"],["Ethiopic","Ethiopic"],["Georgian","Georgian"],["Glagolitic","Glagolitic"],["Gunjala_Gondi","Gunjala_Gondi"],["Masaram_Gondi","Masaram_Gondi"],["Gothic","Gothic"],["Grantha","Grantha"],["Greek","Greek"],["Gujarati","Gujarati"],["Gurmukhi","Gurmukhi"],["Hangul","Hangul"],["Han","Han"],["Hanunoo","Hanunoo"],["Hatran","Hatran"],["Hebrew","Hebrew"],["Hiragana","Hiragana"],["Anatolian_Hieroglyphs","Anatolian_Hieroglyphs"],["Pahawh_Hmong","Pahawh_Hmong"],["Nyiakeng_Puachue_Hmong","Nyiakeng_Puachue_Hmong"],["Katakana_Or_Hiragana","Katakana_Or_Hiragana"],["Old_Hungarian","Old_Hungarian"],["Old_Italic","Old_Italic"],["Javanese","Javanese"],["Kayah_Li","Kayah_Li"],["Katakana","Katakana"],["Kharoshthi","Kharoshthi"],["Khmer","Khmer"],["Khojki","Khojki"],["Khitan_Small_Script","Khitan_Small_Script"],["Kannada","Kannada"],["Kaithi","Kaithi"],["Tai_Tham","Tai_Tham"],["Lao","Lao"],["Latin","Latin"],["Lepcha","Lepcha"],["Limbu","Limbu"],["Linear_A","Linear_A"],["Linear_B","Linear_B"],["Lycian","Lycian"],["Lydian","Lydian"],["Mahajani","Mahajani"],["Makasar","Makasar"],["Mandaic","Mandaic"],["Manichaean","Manichaean"],["Marchen","Marchen"],["Medefaidrin","Medefaidrin"],["Mende_Kikakui","Mende_Kikakui"],["Meroitic_Cursive","Meroitic_Cursive"],["Meroitic_Hieroglyphs","Meroitic_Hieroglyphs"],["Malayalam","Malayalam"],["Mongolian","Mongolian"],["Mro","Mro"],["Meetei_Mayek","Meetei_Mayek"],["Multani","Multani"],["Myanmar","Myanmar"],["Nandinagari","Nandinagari"],["Old_North_Arabian","Old_North_Arabian"],["Nabataean","Nabataean"],["Nko","Nko"],["Nushu","Nushu"],["Ogham","Ogham"],["Ol_Chiki","Ol_Chiki"],["Old_Turkic","Old_Turkic"],["Oriya","Oriya"],["Osage","Osage"],["Osmanya","Osmanya"],["Palmyrene","Palmyrene"],["Pau_Cin_Hau","Pau_Cin_Hau"],["Old_Permic","Old_Permic"],["Phags_Pa","Phags_Pa"],["Inscriptional_Pahlavi","Inscriptional_Pahlavi"],["Psalter_Pahlavi","Psalter_Pahlavi"],["Phoenician","Phoenician"],["Miao","Miao"],["Inscriptional_Parthian","Inscriptional_Parthian"],["Rejang","Rejang"],["Hanifi_Rohingya","Hanifi_Rohingya"],["Runic","Runic"],["Samaritan","Samaritan"],["Old_South_Arabian","Old_South_Arabian"],["Saurashtra","Saurashtra"],["SignWriting","SignWriting"],["Shavian","Shavian"],["Sharada","Sharada"],["Siddham","Siddham"],["Khudawadi","Khudawadi"],["Sinhala","Sinhala"],["Sogdian","Sogdian"],["Old_Sogdian","Old_Sogdian"],["Sora_Sompeng","Sora_Sompeng"],["Soyombo","Soyombo"],["Sundanese","Sundanese"],["Syloti_Nagri","Syloti_Nagri"],["Syriac","Syriac"],["Tagbanwa","Tagbanwa"],["Takri","Takri"],["Tai_Le","Tai_Le"],["New_Tai_Lue","New_Tai_Lue"],["Tamil","Tamil"],["Tangut","Tangut"],["Tai_Viet","Tai_Viet"],["Telugu","Telugu"],["Tifinagh","Tifinagh"],["Tagalog","Tagalog"],["Thaana","Thaana"],["Tibetan","Tibetan"],["Tirhuta","Tirhuta"],["Ugaritic","Ugaritic"],["Vai","Vai"],["Warang_Citi","Warang_Citi"],["Wancho","Wancho"],["Old_Persian","Old_Persian"],["Cuneiform","Cuneiform"],["Yezidi","Yezidi"],["Yi","Yi"],["Zanabazar_Square","Zanabazar_Square"],["Inherited","Inherited"],["Common","Common"],["Unknown","Unknown"]])],["Script_Extensions",new Map([["Adlm","Adlam"],["Aghb","Caucasian_Albanian"],["Ahom","Ahom"],["Arab","Arabic"],["Armi","Imperial_Aramaic"],["Armn","Armenian"],["Avst","Avestan"],["Bali","Balinese"],["Bamu","Bamum"],["Bass","Bassa_Vah"],["Batk","Batak"],["Beng","Bengali"],["Bhks","Bhaiksuki"],["Bopo","Bopomofo"],["Brah","Brahmi"],["Brai","Braille"],["Bugi","Buginese"],["Buhd","Buhid"],["Cakm","Chakma"],["Cans","Canadian_Aboriginal"],["Cari","Carian"],["Cham","Cham"],["Cher","Cherokee"],["Chrs","Chorasmian"],["Copt","Coptic"],["Qaac","Coptic"],["Cprt","Cypriot"],["Cyrl","Cyrillic"],["Deva","Devanagari"],["Diak","Dives_Akuru"],["Dogr","Dogra"],["Dsrt","Deseret"],["Dupl","Duployan"],["Egyp","Egyptian_Hieroglyphs"],["Elba","Elbasan"],["Elym","Elymaic"],["Ethi","Ethiopic"],["Geor","Georgian"],["Glag","Glagolitic"],["Gong","Gunjala_Gondi"],["Gonm","Masaram_Gondi"],["Goth","Gothic"],["Gran","Grantha"],["Grek","Greek"],["Gujr","Gujarati"],["Guru","Gurmukhi"],["Hang","Hangul"],["Hani","Han"],["Hano","Hanunoo"],["Hatr","Hatran"],["Hebr","Hebrew"],["Hira","Hiragana"],["Hluw","Anatolian_Hieroglyphs"],["Hmng","Pahawh_Hmong"],["Hmnp","Nyiakeng_Puachue_Hmong"],["Hrkt","Katakana_Or_Hiragana"],["Hung","Old_Hungarian"],["Ital","Old_Italic"],["Java","Javanese"],["Kali","Kayah_Li"],["Kana","Katakana"],["Khar","Kharoshthi"],["Khmr","Khmer"],["Khoj","Khojki"],["Kits","Khitan_Small_Script"],["Knda","Kannada"],["Kthi","Kaithi"],["Lana","Tai_Tham"],["Laoo","Lao"],["Latn","Latin"],["Lepc","Lepcha"],["Limb","Limbu"],["Lina","Linear_A"],["Linb","Linear_B"],["Lisu","Lisu"],["Lyci","Lycian"],["Lydi","Lydian"],["Mahj","Mahajani"],["Maka","Makasar"],["Mand","Mandaic"],["Mani","Manichaean"],["Marc","Marchen"],["Medf","Medefaidrin"],["Mend","Mende_Kikakui"],["Merc","Meroitic_Cursive"],["Mero","Meroitic_Hieroglyphs"],["Mlym","Malayalam"],["Modi","Modi"],["Mong","Mongolian"],["Mroo","Mro"],["Mtei","Meetei_Mayek"],["Mult","Multani"],["Mymr","Myanmar"],["Nand","Nandinagari"],["Narb","Old_North_Arabian"],["Nbat","Nabataean"],["Newa","Newa"],["Nkoo","Nko"],["Nshu","Nushu"],["Ogam","Ogham"],["Olck","Ol_Chiki"],["Orkh","Old_Turkic"],["Orya","Oriya"],["Osge","Osage"],["Osma","Osmanya"],["Palm","Palmyrene"],["Pauc","Pau_Cin_Hau"],["Perm","Old_Permic"],["Phag","Phags_Pa"],["Phli","Inscriptional_Pahlavi"],["Phlp","Psalter_Pahlavi"],["Phnx","Phoenician"],["Plrd","Miao"],["Prti","Inscriptional_Parthian"],["Rjng","Rejang"],["Rohg","Hanifi_Rohingya"],["Runr","Runic"],["Samr","Samaritan"],["Sarb","Old_South_Arabian"],["Saur","Saurashtra"],["Sgnw","SignWriting"],["Shaw","Shavian"],["Shrd","Sharada"],["Sidd","Siddham"],["Sind","Khudawadi"],["Sinh","Sinhala"],["Sogd","Sogdian"],["Sogo","Old_Sogdian"],["Sora","Sora_Sompeng"],["Soyo","Soyombo"],["Sund","Sundanese"],["Sylo","Syloti_Nagri"],["Syrc","Syriac"],["Tagb","Tagbanwa"],["Takr","Takri"],["Tale","Tai_Le"],["Talu","New_Tai_Lue"],["Taml","Tamil"],["Tang","Tangut"],["Tavt","Tai_Viet"],["Telu","Telugu"],["Tfng","Tifinagh"],["Tglg","Tagalog"],["Thaa","Thaana"],["Thai","Thai"],["Tibt","Tibetan"],["Tirh","Tirhuta"],["Ugar","Ugaritic"],["Vaii","Vai"],["Wara","Warang_Citi"],["Wcho","Wancho"],["Xpeo","Old_Persian"],["Xsux","Cuneiform"],["Yezi","Yezidi"],["Yiii","Yi"],["Zanb","Zanabazar_Square"],["Zinh","Inherited"],["Qaai","Inherited"],["Zyyy","Common"],["Zzzz","Unknown"],["Adlam","Adlam"],["Caucasian_Albanian","Caucasian_Albanian"],["Arabic","Arabic"],["Imperial_Aramaic","Imperial_Aramaic"],["Armenian","Armenian"],["Avestan","Avestan"],["Balinese","Balinese"],["Bamum","Bamum"],["Bassa_Vah","Bassa_Vah"],["Batak","Batak"],["Bengali","Bengali"],["Bhaiksuki","Bhaiksuki"],["Bopomofo","Bopomofo"],["Brahmi","Brahmi"],["Braille","Braille"],["Buginese","Buginese"],["Buhid","Buhid"],["Chakma","Chakma"],["Canadian_Aboriginal","Canadian_Aboriginal"],["Carian","Carian"],["Cherokee","Cherokee"],["Chorasmian","Chorasmian"],["Coptic","Coptic"],["Cypriot","Cypriot"],["Cyrillic","Cyrillic"],["Devanagari","Devanagari"],["Dives_Akuru","Dives_Akuru"],["Dogra","Dogra"],["Deseret","Deseret"],["Duployan","Duployan"],["Egyptian_Hieroglyphs","Egyptian_Hieroglyphs"],["Elbasan","Elbasan"],["Elymaic","Elymaic"],["Ethiopic","Ethiopic"],["Georgian","Georgian"],["Glagolitic","Glagolitic"],["Gunjala_Gondi","Gunjala_Gondi"],["Masaram_Gondi","Masaram_Gondi"],["Gothic","Gothic"],["Grantha","Grantha"],["Greek","Greek"],["Gujarati","Gujarati"],["Gurmukhi","Gurmukhi"],["Hangul","Hangul"],["Han","Han"],["Hanunoo","Hanunoo"],["Hatran","Hatran"],["Hebrew","Hebrew"],["Hiragana","Hiragana"],["Anatolian_Hieroglyphs","Anatolian_Hieroglyphs"],["Pahawh_Hmong","Pahawh_Hmong"],["Nyiakeng_Puachue_Hmong","Nyiakeng_Puachue_Hmong"],["Katakana_Or_Hiragana","Katakana_Or_Hiragana"],["Old_Hungarian","Old_Hungarian"],["Old_Italic","Old_Italic"],["Javanese","Javanese"],["Kayah_Li","Kayah_Li"],["Katakana","Katakana"],["Kharoshthi","Kharoshthi"],["Khmer","Khmer"],["Khojki","Khojki"],["Khitan_Small_Script","Khitan_Small_Script"],["Kannada","Kannada"],["Kaithi","Kaithi"],["Tai_Tham","Tai_Tham"],["Lao","Lao"],["Latin","Latin"],["Lepcha","Lepcha"],["Limbu","Limbu"],["Linear_A","Linear_A"],["Linear_B","Linear_B"],["Lycian","Lycian"],["Lydian","Lydian"],["Mahajani","Mahajani"],["Makasar","Makasar"],["Mandaic","Mandaic"],["Manichaean","Manichaean"],["Marchen","Marchen"],["Medefaidrin","Medefaidrin"],["Mende_Kikakui","Mende_Kikakui"],["Meroitic_Cursive","Meroitic_Cursive"],["Meroitic_Hieroglyphs","Meroitic_Hieroglyphs"],["Malayalam","Malayalam"],["Mongolian","Mongolian"],["Mro","Mro"],["Meetei_Mayek","Meetei_Mayek"],["Multani","Multani"],["Myanmar","Myanmar"],["Nandinagari","Nandinagari"],["Old_North_Arabian","Old_North_Arabian"],["Nabataean","Nabataean"],["Nko","Nko"],["Nushu","Nushu"],["Ogham","Ogham"],["Ol_Chiki","Ol_Chiki"],["Old_Turkic","Old_Turkic"],["Oriya","Oriya"],["Osage","Osage"],["Osmanya","Osmanya"],["Palmyrene","Palmyrene"],["Pau_Cin_Hau","Pau_Cin_Hau"],["Old_Permic","Old_Permic"],["Phags_Pa","Phags_Pa"],["Inscriptional_Pahlavi","Inscriptional_Pahlavi"],["Psalter_Pahlavi","Psalter_Pahlavi"],["Phoenician","Phoenician"],["Miao","Miao"],["Inscriptional_Parthian","Inscriptional_Parthian"],["Rejang","Rejang"],["Hanifi_Rohingya","Hanifi_Rohingya"],["Runic","Runic"],["Samaritan","Samaritan"],["Old_South_Arabian","Old_South_Arabian"],["Saurashtra","Saurashtra"],["SignWriting","SignWriting"],["Shavian","Shavian"],["Sharada","Sharada"],["Siddham","Siddham"],["Khudawadi","Khudawadi"],["Sinhala","Sinhala"],["Sogdian","Sogdian"],["Old_Sogdian","Old_Sogdian"],["Sora_Sompeng","Sora_Sompeng"],["Soyombo","Soyombo"],["Sundanese","Sundanese"],["Syloti_Nagri","Syloti_Nagri"],["Syriac","Syriac"],["Tagbanwa","Tagbanwa"],["Takri","Takri"],["Tai_Le","Tai_Le"],["New_Tai_Lue","New_Tai_Lue"],["Tamil","Tamil"],["Tangut","Tangut"],["Tai_Viet","Tai_Viet"],["Telugu","Telugu"],["Tifinagh","Tifinagh"],["Tagalog","Tagalog"],["Thaana","Thaana"],["Tibetan","Tibetan"],["Tirhuta","Tirhuta"],["Ugaritic","Ugaritic"],["Vai","Vai"],["Warang_Citi","Warang_Citi"],["Wancho","Wancho"],["Old_Persian","Old_Persian"],["Cuneiform","Cuneiform"],["Yezidi","Yezidi"],["Yi","Yi"],["Zanabazar_Square","Zanabazar_Square"],["Inherited","Inherited"],["Common","Common"],["Unknown","Unknown"]])]]),HB=function(e,t){var r=KB.get(e);if(!r)throw new Error("Unknown property `"+e+"`.");var n=r.get(t);if(n)return n;throw new Error("Unknown value `"+t+"` for property `"+e+"`.")
},zB=new Map([[75,8490],[83,383],[107,8490],[115,383],[181,924],[197,8491],[223,7838],[229,8491],[383,83],[452,453],[453,452],[455,456],[456,455],[458,459],[459,458],[497,498],[498,497],[837,8126],[914,976],[917,1013],[920,1012],[921,8126],[922,1008],[924,181],[928,982],[929,1009],[931,962],[934,981],[937,8486],[952,1012],[962,931],[969,8486],[976,914],[977,1012],[981,934],[982,928],[1008,922],[1009,929],[1012,[920,977,952]],[1013,917],[1042,7296],[1044,7297],[1054,7298],[1057,7299],[1058,7301],[1066,7302],[1122,7303],[7296,1042],[7297,1044],[7298,1054],[7299,1057],[7300,7301],[7301,[1058,7300]],[7302,1066],[7303,1122],[7304,42570],[7776,7835],[7835,7776],[7838,223],[8064,8072],[8065,8073],[8066,8074],[8067,8075],[8068,8076],[8069,8077],[8070,8078],[8071,8079],[8072,8064],[8073,8065],[8074,8066],[8075,8067],[8076,8068],[8077,8069],[8078,8070],[8079,8071],[8080,8088],[8081,8089],[8082,8090],[8083,8091],[8084,8092],[8085,8093],[8086,8094],[8087,8095],[8088,8080],[8089,8081],[8090,8082],[8091,8083],[8092,8084],[8093,8085],[8094,8086],[8095,8087],[8096,8104],[8097,8105],[8098,8106],[8099,8107],[8100,8108],[8101,8109],[8102,8110],[8103,8111],[8104,8096],[8105,8097],[8106,8098],[8107,8099],[8108,8100],[8109,8101],[8110,8102],[8111,8103],[8115,8124],[8124,8115],[8126,[837,921]],[8131,8140],[8140,8131],[8179,8188],[8188,8179],[8486,[937,969]],[8490,75],[8491,[197,229]],[42570,7304],[66560,66600],[66561,66601],[66562,66602],[66563,66603],[66564,66604],[66565,66605],[66566,66606],[66567,66607],[66568,66608],[66569,66609],[66570,66610],[66571,66611],[66572,66612],[66573,66613],[66574,66614],[66575,66615],[66576,66616],[66577,66617],[66578,66618],[66579,66619],[66580,66620],[66581,66621],[66582,66622],[66583,66623],[66584,66624],[66585,66625],[66586,66626],[66587,66627],[66588,66628],[66589,66629],[66590,66630],[66591,66631],[66592,66632],[66593,66633],[66594,66634],[66595,66635],[66596,66636],[66597,66637],[66598,66638],[66599,66639],[66600,66560],[66601,66561],[66602,66562],[66603,66563],[66604,66564],[66605,66565],[66606,66566],[66607,66567],[66608,66568],[66609,66569],[66610,66570],[66611,66571],[66612,66572],[66613,66573],[66614,66574],[66615,66575],[66616,66576],[66617,66577],[66618,66578],[66619,66579],[66620,66580],[66621,66581],[66622,66582],[66623,66583],[66624,66584],[66625,66585],[66626,66586],[66627,66587],[66628,66588],[66629,66589],[66630,66590],[66631,66591],[66632,66592],[66633,66593],[66634,66594],[66635,66595],[66636,66596],[66637,66597],[66638,66598],[66639,66599],[66736,66776],[66737,66777],[66738,66778],[66739,66779],[66740,66780],[66741,66781],[66742,66782],[66743,66783],[66744,66784],[66745,66785],[66746,66786],[66747,66787],[66748,66788],[66749,66789],[66750,66790],[66751,66791],[66752,66792],[66753,66793],[66754,66794],[66755,66795],[66756,66796],[66757,66797],[66758,66798],[66759,66799],[66760,66800],[66761,66801],[66762,66802],[66763,66803],[66764,66804],[66765,66805],[66766,66806],[66767,66807],[66768,66808],[66769,66809],[66770,66810],[66771,66811],[66776,66736],[66777,66737],[66778,66738],[66779,66739],[66780,66740],[66781,66741],[66782,66742],[66783,66743],[66784,66744],[66785,66745],[66786,66746],[66787,66747],[66788,66748],[66789,66749],[66790,66750],[66791,66751],[66792,66752],[66793,66753],[66794,66754],[66795,66755],[66796,66756],[66797,66757],[66798,66758],[66799,66759],[66800,66760],[66801,66761],[66802,66762],[66803,66763],[66804,66764],[66805,66765],[66806,66766],[66807,66767],[66808,66768],[66809,66769],[66810,66770],[66811,66771],[68736,68800],[68737,68801],[68738,68802],[68739,68803],[68740,68804],[68741,68805],[68742,68806],[68743,68807],[68744,68808],[68745,68809],[68746,68810],[68747,68811],[68748,68812],[68749,68813],[68750,68814],[68751,68815],[68752,68816],[68753,68817],[68754,68818],[68755,68819],[68756,68820],[68757,68821],[68758,68822],[68759,68823],[68760,68824],[68761,68825],[68762,68826],[68763,68827],[68764,68828],[68765,68829],[68766,68830],[68767,68831],[68768,68832],[68769,68833],[68770,68834],[68771,68835],[68772,68836],[68773,68837],[68774,68838],[68775,68839],[68776,68840],[68777,68841],[68778,68842],[68779,68843],[68780,68844],[68781,68845],[68782,68846],[68783,68847],[68784,68848],[68785,68849],[68786,68850],[68800,68736],[68801,68737],[68802,68738],[68803,68739],[68804,68740],[68805,68741],[68806,68742],[68807,68743],[68808,68744],[68809,68745],[68810,68746],[68811,68747],[68812,68748],[68813,68749],[68814,68750],[68815,68751],[68816,68752],[68817,68753],[68818,68754],[68819,68755],[68820,68756],[68821,68757],[68822,68758],[68823,68759],[68824,68760],[68825,68761],[68826,68762],[68827,68763],[68828,68764],[68829,68765],[68830,68766],[68831,68767],[68832,68768],[68833,68769],[68834,68770],[68835,68771],[68836,68772],[68837,68773],[68838,68774],[68839,68775],[68840,68776],[68841,68777],[68842,68778],[68843,68779],[68844,68780],[68845,68781],[68846,68782],[68847,68783],[68848,68784],[68849,68785],[68850,68786],[71840,71872],[71841,71873],[71842,71874],[71843,71875],[71844,71876],[71845,71877],[71846,71878],[71847,71879],[71848,71880],[71849,71881],[71850,71882],[71851,71883],[71852,71884],[71853,71885],[71854,71886],[71855,71887],[71856,71888],[71857,71889],[71858,71890],[71859,71891],[71860,71892],[71861,71893],[71862,71894],[71863,71895],[71864,71896],[71865,71897],[71866,71898],[71867,71899],[71868,71900],[71869,71901],[71870,71902],[71871,71903],[71872,71840],[71873,71841],[71874,71842],[71875,71843],[71876,71844],[71877,71845],[71878,71846],[71879,71847],[71880,71848],[71881,71849],[71882,71850],[71883,71851],[71884,71852],[71885,71853],[71886,71854],[71887,71855],[71888,71856],[71889,71857],[71890,71858],[71891,71859],[71892,71860],[71893,71861],[71894,71862],[71895,71863],[71896,71864],[71897,71865],[71898,71866],[71899,71867],[71900,71868],[71901,71869],[71902,71870],[71903,71871],[93760,93792],[93761,93793],[93762,93794],[93763,93795],[93764,93796],[93765,93797],[93766,93798],[93767,93799],[93768,93800],[93769,93801],[93770,93802],[93771,93803],[93772,93804],[93773,93805],[93774,93806],[93775,93807],[93776,93808],[93777,93809],[93778,93810],[93779,93811],[93780,93812],[93781,93813],[93782,93814],[93783,93815],[93784,93816],[93785,93817],[93786,93818],[93787,93819],[93788,93820],[93789,93821],[93790,93822],[93791,93823],[93792,93760],[93793,93761],[93794,93762],[93795,93763],[93796,93764],[93797,93765],[93798,93766],[93799,93767],[93800,93768],[93801,93769],[93802,93770],[93803,93771],[93804,93772],[93805,93773],[93806,93774],[93807,93775],[93808,93776],[93809,93777],[93810,93778],[93811,93779],[93812,93780],[93813,93781],[93814,93782],[93815,93783],[93816,93784],[93817,93785],[93818,93786],[93819,93787],[93820,93788],[93821,93789],[93822,93790],[93823,93791],[125184,125218],[125185,125219],[125186,125220],[125187,125221],[125188,125222],[125189,125223],[125190,125224],[125191,125225],[125192,125226],[125193,125227],[125194,125228],[125195,125229],[125196,125230],[125197,125231],[125198,125232],[125199,125233],[125200,125234],[125201,125235],[125202,125236],[125203,125237],[125204,125238],[125205,125239],[125206,125240],[125207,125241],[125208,125242],[125209,125243],[125210,125244],[125211,125245],[125212,125246],[125213,125247],[125214,125248],[125215,125249],[125216,125250],[125217,125251],[125218,125184],[125219,125185],[125220,125186],[125221,125187],[125222,125188],[125223,125189],[125224,125190],[125225,125191],[125226,125192],[125227,125193],[125228,125194],[125229,125195],[125230,125196],[125231,125197],[125232,125198],[125233,125199],[125234,125200],[125235,125201],[125236,125202],[125237,125203],[125238,125204],[125239,125205],[125240,125206],[125241,125207],[125242,125208],[125243,125209],[125244,125210],[125245,125211],[125246,125212],[125247,125213],[125248,125214],[125249,125215],[125250,125216],[125251,125217]]),qB={REGULAR:new Map([["d",UB().addRange(48,57)],["D",UB().addRange(0,47).addRange(58,65535)],["s",UB(32,160,5760,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233)],["S",UB().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,65535)],["w",UB(95).addRange(48,57).addRange(65,90).addRange(97,122)],["W",UB(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,65535)]]),UNICODE:new Map([["d",UB().addRange(48,57)],["D",UB().addRange(0,47).addRange(58,1114111)],["s",UB(32,160,5760,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233)],["S",UB().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,1114111)],["w",UB(95).addRange(48,57).addRange(65,90).addRange(97,122)],["W",UB(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,1114111)]]),UNICODE_IGNORE_CASE:new Map([["d",UB().addRange(48,57)],["D",UB().addRange(0,47).addRange(58,1114111)],["s",UB(32,160,5760,8239,8287,12288,65279).addRange(9,13).addRange(8192,8202).addRange(8232,8233)],["S",UB().addRange(0,8).addRange(14,31).addRange(33,159).addRange(161,5759).addRange(5761,8191).addRange(8203,8231).addRange(8234,8238).addRange(8240,8286).addRange(8288,12287).addRange(12289,65278).addRange(65280,1114111)],["w",UB(95,383,8490).addRange(48,57).addRange(65,90).addRange(97,122)],["W",UB(96).addRange(0,47).addRange(58,64).addRange(91,94).addRange(123,382).addRange(384,8489).addRange(8491,1114111)]])},XB=Sb.createForOfIteratorHelperLoose,JB=MB.generate,YB=LB.parse,$B=UB().addRange(0,1114111),QB=(UB().addRange(0,65535),$B.clone().remove(10,13,8232,8233)),ZB=function(e,t,r){return t?r?qB.UNICODE_IGNORE_CASE.get(e):qB.UNICODE.get(e):qB.REGULAR.get(e)},eF=function(e,t){try{return Wr()}catch(r){throw new Error("Failed to recognize value `"+t+"` for property `"+e+"`.")}},tF=function(e,t){var r,n=e.split("="),a=n[0];if(1==n.length)r=function(e){try{var t="General_Category",r=HB(t,e);return eF(t,r)}catch(e){}var n=GB(e);return eF(n)}(a);else{var s=GB(a),i=HB(s,n[1]);r=eF(s,i)}return t?$B.clone().remove(r):r.clone()};UB.prototype.iuAddRange=function(e,t){do{var r=aF(e);r&&this.add(r)}while(++e<=t);return this};var rF=function(e,t){var r=YB(t,oF.useUnicodeFlag?"u":"");switch(r.type){case"characterClass":case"group":case"value":break;default:r=nF(r,t)}Object.assign(e,r)},nF=function(e,t){return{type:"group",behavior:"ignore",body:[e],raw:"(?:"+t+")"}},aF=function(e){return zB.get(e)||!1},sF=function(e,t){delete e.name,e.matchIndex=t},iF=function e(t,r,n){switch(t.type){case"dot":if(oF.useDotAllFlag)break;oF.unicode?rF(t,(p=oF.dotAll,p?$B:QB).toString(r)):oF.dotAll&&rF(t,"[\\s\\S]");break;case"characterClass":t=function(e,t){for(var r,n=UB(),a=XB(e.body);!(r=a()).done;){var s=r.value;switch(s.type){case"value":if(n.add(s.codePoint),oF.ignoreCase&&oF.unicode&&!oF.useUnicodeFlag){var i=aF(s.codePoint);i&&n.add(i)}break;case"characterClassRange":var o=s.min.codePoint,l=s.max.codePoint;n.addRange(o,l),oF.ignoreCase&&oF.unicode&&!oF.useUnicodeFlag&&n.iuAddRange(o,l);break;case"characterClassEscape":n.add(ZB(s.value,oF.unicode,oF.ignoreCase));break;case"unicodePropertyEscape":n.add(tF(s.value,s.negative));break;default:throw new Error("Unknown term type: "+s.type)}}return e.negative?rF(e,"(?!"+n.toString(t)+")[\\s\\S]"):rF(e,n.toString(t)),e}(t,r);break;case"unicodePropertyEscape":oF.unicodePropertyEscape&&rF(t,tF(t.value,t.negative).toString(r));break;case"characterClassEscape":rF(t,ZB(t.value,oF.unicode,oF.ignoreCase).toString(r));break;case"group":if("normal"==t.behavior&&n.lastIndex++,t.name&&oF.namedGroup){var a=t.name.value;if(n.names[a])throw new Error("Multiple groups with the same name ("+a+") are not allowed.");var s=n.lastIndex;delete t.name,n.names[a]=s,n.onNamedGroup&&n.onNamedGroup.call(null,a,s),n.unmatchedReferences[a]&&(n.unmatchedReferences[a].forEach(function(e){sF(e,s)}),delete n.unmatchedReferences[a])}case"alternative":case"disjunction":case"quantifier":t.body=t.body.map(function(t){return e(t,r,n)});break;case"value":var i=t.codePoint,o=UB(i);if(oF.ignoreCase&&oF.unicode&&!oF.useUnicodeFlag){var l=aF(i);l&&o.add(l)}rF(t,o.toString(r));break;case"reference":if(t.name){var c=t.name.value,u=n.names[c];if(u){sF(t,u);break}n.unmatchedReferences[c]||(n.unmatchedReferences[c]=[]),n.unmatchedReferences[c].push(t)}break;case"anchor":case"empty":case"group":break;default:throw new Error("Unknown term type: "+t.type)}var p;return t},oF={ignoreCase:!1,unicode:!1,dotAll:!1,useDotAllFlag:!1,useUnicodeFlag:!1,unicodePropertyEscape:!1,namedGroup:!1},lF=function(e,t,r){oF.unicode=t&&t.includes("u");var n={unicodePropertyEscape:oF.unicode,namedGroups:!0,lookbehind:r&&r.lookbehind};oF.ignoreCase=t&&t.includes("i");var a=r&&r.dotAllFlag;if(oF.dotAll=a&&t&&t.includes("s"),oF.namedGroup=r&&r.namedGroup,oF.useDotAllFlag=r&&r.useDotAllFlag,oF.useUnicodeFlag=r&&r.useUnicodeFlag,oF.unicodePropertyEscape=r&&r.unicodePropertyEscape,a&&oF.useDotAllFlag)throw new Error("`useDotAllFlag` and `dotAllFlag` cannot both be true!");var s={hasUnicodeFlag:oF.useUnicodeFlag,bmpOnly:!oF.unicode},i={onNamedGroup:r&&r.onNamedGroup,lastIndex:0,names:Object.create(null),unmatchedReferences:Object.create(null)},o=YB(e,t,n);return iF(o,s,i),function(e){var t=Object.keys(e.unmatchedReferences);if(t.length>0)throw new Error("Unknown group names: "+t)}(i),JB(o)},cF=Object.freeze({unicodeFlag:1,dotAllFlag:2,unicodePropertyEscape:4,namedCaptureGroups:8}),uF="@babel/plugin-regexp-features/featuresKey",pF="@babel/plugin-regexp-features/runtimeKey";function dF(e,t){return e|t}function fF(e,t){return!!(e&t)}var hF={name:"@babel/helper-create-regexp-features-plugin",version:"7.12.1",author:"The Babel Team (https://babeljs.io/team)",license:"MIT",description:"Compile ESNext Regular Expressions to ES5",repository:{type:"git",url:"https://github.com/babel/babel.git",directory:"packages/babel-helper-create-regexp-features-plugin"},main:"lib/index.js",publishConfig:{access:"public"},keywords:["babel","babel-plugin"],dependencies:{"@babel/helper-annotate-as-pure":"workspace:^7.10.4","@babel/helper-regex":"workspace:^7.10.4","regexpu-core":"^4.7.1"},peerDependencies:{"@babel/core":"^7.0.0"},devDependencies:{"@babel/core":"workspace:*","@babel/helper-plugin-test-runner":"workspace:*"}};var mF=function(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1};var yF=function(e){return e!=e};var gF=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1};var vF=function(e,t,r){return t==t?gF(e,t,r):mF(e,yF,r)};var bF=function(e,t,r,n){for(var a=r-1,s=e.length;++a<s;)if(n(e[a],t))return a;return-1},xF=Array.prototype.splice;var EF=function(e,t,r,n){var a=n?bF:vF,s=-1,i=t.length,o=e;for(e===t&&(t=Ca(t)),r&&(o=Gk(e,la(r)));++s<i;)for(var l=0,c=t[s],u=r?r(c):c;(l=a(o,u,l,n))>-1;)o!==e&&xF.call(o,l,1),xF.call(e,l,1);return e};var wF=M_(function(e,t){return e&&e.length&&t&&t.length?EF(e,t):e});function SF(e,t){var r=e.flags.split("");e.flags.indexOf(t)<0||(wF(r,t),e.flags=r.join(""))}var TF=hF.version.split(".").reduce(function(e,t){return 1e5*e+ +t},0),jF="@babel/plugin-regexp-features/version";function AF(e){var t=e.name,r=e.feature,n=e.options,a=void 0===n?{}:n;return{name:t,pre:function(){var e,t=this.file,n=null!=(e=t.get(uF))?e:0,s=dF(n,cF[r]),i=a.useUnicodeFlag,o=a.runtime,l=void 0===o||o;!1===i&&(s=dF(s,cF.unicodeFlag)),s!==n&&t.set(uF,s),l||t.set(pF,!1),(!t.has(jF)||t.get(jF)<TF)&&t.set(jF,TF)},visitor:{RegExpLiteral:function(e){var t,r=e.node,n=this.file,a=n.get(uF),s=null==(t=n.get(pF))||t,i=function(e,t){var r=!1,n=!1,a=!1,s=!1,i=e.flags,o=e.pattern,l=i.includes("u");return l&&(fF(t,cF.unicodeFlag)||(r=!0),fF(t,cF.unicodePropertyEscape)&&/\\[pP]{/.test(o)&&(a=!0)),fF(t,cF.dotAllFlag)&&i.indexOf("s")>=0&&(n=!0),fF(t,cF.namedCaptureGroups)&&/\(\?<(?![=!])/.test(o)&&(s=!0),s||a||n||l&&!r?(l&&i.indexOf("s")>=0&&(n=!0),{useUnicodeFlag:r,onNamedGroup:function(){},namedGroup:s,unicodePropertyEscape:a,dotAllFlag:n,lookbehind:!0}):null}(r,a);if(null!==i){var o={};if(i.namedGroup&&(i.onNamedGroup=function(e,t){o[e]=t}),r.pattern=lF(r.pattern,r.flags,i),i.namedGroup&&Object.keys(o).length>0&&s&&!function(e){return e.parentPath.isMemberExpression({object:e.node,computed:!1})&&e.parentPath.get("property").isIdentifier({name:"test"})}(e)){var l=cl(this.addHelper("wrapRegExp"),[r,yh(o)]);uO(l),e.replaceWith(l)}fF(a,cF.unicodeFlag)&&SF(r,"u"),fF(a,cF.dotAllFlag)&&SF(r,"s")}}}}}var PF=NI(function(e,t){e.assertVersion(7);var r=t.useUnicodeFlag,n=void 0===r||r;if("boolean"!=typeof n)throw new Error(".useUnicodeFlag must be a boolean, or undefined");return AF({name:"proposal-unicode-property-regex",feature:"unicodePropertyEscape",options:{useUnicodeFlag:n}})}),kF=NI(function(e,t){e.assertVersion(7);var r=t.method,n=t.module;return r&&n?{name:"transform-async-to-generator",visitor:{Function:function(e,t){if(e.node.async&&!e.node.generator){var a=t.methodWrapper;dO(e,{wrapAsync:a=a?Gd(a):t.methodWrapper=Nj(e,r,n)})}}}}:{name:"transform-async-to-generator",visitor:{Function:function(e,t){e.node.async&&!e.node.generator&&dO(e,{wrapAsync:t.addHelper("asyncToGenerator")})}}}}),CF=NI(function(e,t){e.assertVersion(7);var r=t.spec;return{name:"transform-arrow-functions",visitor:{ArrowFunctionExpression:function(e){e.isArrowFunctionExpression()&&e.arrowFunctionToExpression({allowInsertArrow:!1,specCompliant:!!r})}}}}),DF=NI(function(e){function t(e,t){for(var r,n=U(t.get(e));!(r=n()).done;){var a=r.value,s=a.node;if(a.isFunctionDeclaration()){var i=Xl("let",[Jl(s.id,$f(s))]);i._blockHoist=2,s.id=null,a.replaceWith(i)}}}return e.assertVersion(7),{name:"transform-block-scoped-functions",visitor:{BlockStatement:function(e){var r=e.node,n=e.parent;sr(n,{body:r})||mr(n)||t("body",e)},SwitchCase:function(e){t("consequent",e)}}}});function _F(){var e=P(["",'("','")']);return _F=function(){return e},e}function IF(e,t,r){var n=r.letReferences.get(e.name);return!!n&&t.getBindingIdentifier(e.name)===n}var OF={ReferencedIdentifier:function(e,t){if(t.tdzEnabled){var r=e.node,n=e.parent,a=e.scope;if(!e.parentPath.isFor({left:r})&&IF(r,a,t)){var s=a.getBinding(r.name).path;if(!s.isFunctionDeclaration()){var i=function(e,t){var r=t._guessExecutionStatusRelativeTo(e);return"before"===r?"outside":"after"===r?"inside":"maybe"}(e,s);if("outside"!==i)if("maybe"===i){var o=function(e,t){return cl(t.addHelper("temporalRef"),[e,jl(e.name)])}(r,t);if(s.parent._tdzThis=!0,e.skip(),e.parentPath.isUpdateExpression()){if(n._ignoreBlockScopingTDZ)return;e.parentPath.replaceWith(Ll([o,n]))}else e.replaceWith(o)}else"inside"===i&&e.replaceWith(JE.ast(_F(),t.addHelper("tdz"),r.name))}}}},AssignmentExpression:{exit:function(e,t){if(t.tdzEnabled){var r=e.node;if(!r._ignoreBlockScopingTDZ){for(var n=[],a=e.getBindingIdentifiers(),s=0,i=Object.keys(a);s<i.length;s++){var o=a[i[s]];IF(o,e.scope,t)&&n.push(o)}n.length&&(r._ignoreBlockScopingTDZ=!0,n.push(r),e.replaceWithMultiple(n.map(function(e){return yl(e)})))}}}}},NF=new WeakSet,BF=NI(function(e,t){e.assertVersion(7);var r=t.throwIfClosureRequired,n=void 0!==r&&r,a=t.tdz,s=void 0!==a&&a;if("boolean"!=typeof n)throw new Error(".throwIfClosureRequired must be a boolean, or undefined");if("boolean"!=typeof s)throw new Error(".tdz must be a boolean, or undefined");return{name:"transform-block-scoping",visitor:{VariableDeclaration:function(e){var t=e.node,r=e.parent,n=e.scope;if(RF(t)&&(LF(e,null,r,n,!0),t._tdzThis)){for(var a=[t],s=0;s<t.declarations.length;s++){var i=t.declarations[s],o=rl("=",Gd(i.id),i.init||n.buildUndefinedNode());o._ignoreBlockScopingTDZ=!0,a.push(yl(o)),i.init=this.addHelper("temporalUndefined")}t._blockHoist=2,e.isCompletionRecord()&&a.push(yl(n.buildUndefinedNode())),e.replaceWithMultiple(a)}},Loop:function(e,t){var r=e.parent,a=e.scope;e.ensureBlock();var i=new qF(e,e.get("body"),r,a,n,s,t).run();i&&e.replaceWith(i)},CatchClause:function(e,t){var r=e.parent,a=e.scope;new qF(null,e.get("body"),r,a,n,s,t).run()},"BlockStatement|SwitchStatement|Program":function(e,t){(function(e){return rr(e.parent)||ae(e.parent)})(e)||new qF(null,e,e.parent,e.scope,n,s,t).run()}}}});var FF=JE('\n  if (typeof RETURN === "object") return RETURN.v;\n');function RF(e){return!!Fe(e)&&(!!e[qi]||("let"===e.kind||"const"===e.kind))}function MF(e){var t=e.find(function(e){return e.isLoop()||e.isFunction()});return null==t?void 0:t.isLoop()}function LF(e,t,r,n,a){if(void 0===a&&(a=!1),t||(t=e.node),MF(e)&&!nr(r))for(var s=0;s<t.declarations.length;s++){var i=t.declarations[s];i.init=i.init||n.buildUndefinedNode()}if(t[qi]=!0,t.kind="var",a)for(var o=n.getFunctionParent()||n.getProgramParent(),l=0,c=Object.keys(e.getBindingIdentifiers());l<c.length;l++){var u=c[l],p=n.getOwnBinding(u);p&&(p.kind="var"),n.moveBindingTo(u,o)}}function UF(e){return Fe(e,{kind:"var"})&&!RF(e)}var WF=Kw.visitors.merge([{Loop:{enter:function(e,t){t.loopDepth++},exit:function(e,t){t.loopDepth--}},Function:function(e,t){return t.loopDepth>0?e.traverse(VF,t):e.traverse(OF,t),e.skip()}},OF]),VF=Kw.visitors.merge([{ReferencedIdentifier:function(e,t){var r=t.letReferences.get(e.node.name);if(r){var n=e.scope.getBindingIdentifier(e.node.name);n&&n!==r||(t.closurify=!0)}}},OF]),GF={enter:function(e,t){var r=e.node;e.parent;if(e.isForStatement()){if(UF(r.init)){var n=t.pushDeclar(r.init);1===n.length?r.init=n[0]:r.init=Ll(n)}}else if(e.isFor())UF(r.left)&&(t.pushDeclar(r.left),r.left=r.left.declarations[0].id);else if(UF(r))e.replaceWithMultiple(t.pushDeclar(r).map(function(e){return yl(e)}));else if(e.isFunction())return e.skip()}},KF={LabeledStatement:function(e,t){var r=e.node;t.innerLabels.push(r.label.name)}},HF={enter:function(e,t){if(e.isAssignmentExpression()||e.isUpdateExpression())for(var r=0,n=Object.keys(e.getBindingIdentifiers());r<n.length;r++){var a=n[r];t.outsideReferences.get(a)===e.scope.getBindingIdentifier(a)&&(t.reassignments[a]=!0)}else e.isReturnStatement()&&t.returnStatements.push(e)}};var zF={Loop:function(e,t){var r=t.ignoreLabeless;t.ignoreLabeless=!0,e.traverse(zF,t),t.ignoreLabeless=r,e.skip()},Function:function(e){e.skip()},SwitchCase:function(e,t){var r=t.inSwitchCase;t.inSwitchCase=!0,e.traverse(zF,t),t.inSwitchCase=r,e.skip()},"BreakStatement|ContinueStatement|ReturnStatement":function(e,t){var r=e.node,n=e.scope;if(!r[this.LOOP_IGNORE]){var a,s=function(e){return re(e)?"break":ie(e)?"continue":void 0}(r);if(s){if(r.label){if(t.innerLabels.indexOf(r.label.name)>=0)return;s=s+"|"+r.label.name}else{if(t.ignoreLabeless)return;if(re(r)&&t.inSwitchCase)return}t.hasBreakContinue=!0,t.map[s]=r,a=jl(s)}e.isReturnStatement()&&(t.hasReturn=!0,a=Nl([Fl(wl("v"),r.argument||n.buildUndefinedNode())])),a&&((a=Ml(a))[this.LOOP_IGNORE]=!0,e.skip(),e.replaceWith(gh(a,r)))}}},qF=function(){function e(e,t,r,n,a,s,i){this.parent=r,this.scope=n,this.state=i,this.throwIfClosureRequired=a,this.tdzEnabled=s,this.blockPath=t,this.block=t.node,this.outsideLetReferences=new Map,this.hasLetReferences=!1,this.letReferences=new Map,this.body=[],e&&(this.loopParent=e.parent,this.loopLabel=ye(this.loopParent)&&this.loopParent.label,this.loopPath=e,this.loop=e.node)}var t=e.prototype;return t.run=function(){var e=this.block;if(!NF.has(e)){NF.add(e);var t=this.getLetReferences();if(this.checkConstants(),sr(this.parent)||Te(this.block))this.updateScopeInfo();else if(this.hasLetReferences)return t?this.wrapClosure():this.remap(),this.updateScopeInfo(t),this.loopLabel&&!ye(this.loopParent)?Tl(this.loopLabel,this.loop):void 0}},t.checkConstants=function(){for(var e=this.scope,t=this.state,r=0,n=Object.keys(e.bindings);r<n.length;r++){var a=n[r],s=e.bindings[a];if("const"===s.kind)for(var i=0,o=s.constantViolations;i<o.length;i++){var l=o[i],c=cl(t.addHelper("readOnlyError"),[jl(a)]);l.isAssignmentExpression()?l.get("right").replaceWith(Ll([c,l.get("right").node])):l.isUpdateExpression()?l.replaceWith(Ll([c,l.node])):l.isForXStatement()&&(l.ensureBlock(),l.node.body.body.unshift(yl(c)))}}},t.updateScopeInfo=function(e){for(var t,r=this.blockPath.scope,n=r.getFunctionParent()||r.getProgramParent(),a=this.letReferences,s=U(a.keys());!(t=s()).done;){var i=t.value,o=a.get(i),l=r.getBinding(o.name);l&&("let"!==l.kind&&"const"!==l.kind||(l.kind="var",e?r.hasOwnBinding(o.name)&&r.removeBinding(o.name):r.moveBindingTo(o.name,n)))}},t.remap=function(){for(var e,t=this.letReferences,r=this.outsideLetReferences,n=this.scope,a=this.blockPath.scope,s=U(t.keys());!(e=s()).done;){var i=e.value,o=t.get(i);(n.parentHasBinding(i)||n.hasGlobal(i))&&(n.hasOwnBinding(i)&&n.rename(o.name),a.hasOwnBinding(i)&&a.rename(o.name))}for(var l,c=U(r.keys());!(l=c()).done;){var u=l.value,p=t.get(u);MF(this.blockPath)&&a.hasOwnBinding(u)&&a.rename(p.name)}},t.wrapClosure=function(){if(this.throwIfClosureRequired)throw this.blockPath.buildCodeFrameError("Compiling let/const in this block would add a closure (throwIfClosureRequired).");var e=this.block,t=this.outsideLetReferences;if(this.loop)for(var r=0,n=Array.from(t.keys());r<n.length;r++){var a=n[r],s=t.get(a);(this.scope.hasGlobal(s.name)||this.scope.parentHasBinding(s.name))&&(t.delete(s.name),this.letReferences.delete(s.name),this.scope.rename(s.name),this.letReferences.set(s.name,s),t.set(s.name,s))}this.has=this.checkLoop(),this.hoistVarDeclarations();var i=Array.from(t.values(),function(e){return Gd(e)}),o=i.map(function(e){return Gd(e)}),l=this.blockPath.isSwitchStatement(),c=El(null,o,ol(l?[e]:e.body));this.addContinuations(c);var u,p,d,f=cl(Pl(),i),h=".callee";if(Kw.hasType(c.body,"YieldExpression",mf)&&(c.generator=!0,f=Ec(f,!0),h=".argument"+h),Kw.hasType(c.body,"AwaitExpression",mf)&&(c.async=!0,f=wc(f),h=".argument"+h),this.has.hasReturn||this.has.hasBreakContinue){var m=this.scope.generateUid("ret");this.body.push(Xl("var",[Jl(wl(m),f)])),u="declarations.0.init"+h,p=this.body.length-1,this.buildHas(m)}else this.body.push(yl(f)),u="expression"+h,p=this.body.length-1;if(l){var y=this.blockPath,g=y.parentPath,v=y.listKey,b=y.key;this.blockPath.replaceWithMultiple(this.body),d=g.get(v)[b+p]}else e.body=this.body,d=this.blockPath.get("body")[p];var x,E=d.get(u);if(this.loop){var w=this.scope.generateUid("loop"),S=this.loopPath.insertBefore(Xl("var",[Jl(wl(w),c)]));E.replaceWith(wl(w)),x=S[0].get("declarations.0.init")}else E.replaceWith(c),x=E;x.unwrapFunctionEnvironment()},t.addContinuations=function(e){var t=this,r={reassignments:{},returnStatements:[],outsideReferences:this.outsideLetReferences};this.scope.traverse(e,HF,r);for(var n=function(n){var a=e.params[n];if(!r.reassignments[a.name])return"continue";var s=a.name,i=t.scope.generateUid(a.name);e.params[n]=wl(i),t.scope.rename(s,i,e),r.returnStatements.forEach(function(e){e.insertBefore(yl(rl("=",wl(s),wl(i))))}),e.body.body.push(yl(rl("=",wl(s),wl(i))))},a=0;a<e.params.length;a++)n(a)},t.getLetReferences=function(){var e=this,t=this.block,r=[];if(this.loop){var n=this.loop.left||this.loop.init;if(RF(n)){r.push(n);for(var a=ah(n),s=0,i=Object.keys(a);s<i.length;s++){var o=i[s];this.outsideLetReferences.set(o,a[o])}}}var l=function n(a,s){(Ke(s=s||a.node)||de(s)||RF(s))&&(RF(s)&&LF(a,s,t,e.scope),r=r.concat(s.declarations||s)),ye(s)&&n(a.get("body"),s.body)};if(t.body)for(var c=this.blockPath.get("body"),u=0;u<t.body.length;u++)l(c[u]);if(t.cases)for(var p=this.blockPath.get("cases"),d=0;d<t.cases.length;d++)for(var f=t.cases[d].consequent,h=0;h<f.length;h++){var m=f[h];l(p[d],m)}for(var y=0;y<r.length;y++){for(var g=ah(r[y],!1,!0),v=0,b=Object.keys(g);v<b.length;v++){var x=b[v];this.letReferences.set(x,g[x])}this.hasLetReferences=!0}if(this.hasLetReferences){var E={letReferences:this.letReferences,closurify:!1,loopDepth:0,tdzEnabled:this.tdzEnabled,addHelper:function(t){return e.state.addHelper(t)}};return MF(this.blockPath)&&E.loopDepth++,this.blockPath.traverse(WF,E),E.closurify}},t.checkLoop=function(){var e={hasBreakContinue:!1,ignoreLabeless:!1,inSwitchCase:!1,innerLabels:[],hasReturn:!1,isLoop:!!this.loop,map:{},LOOP_IGNORE:Symbol()};return this.blockPath.traverse(KF,e),this.blockPath.traverse(zF,e),e},t.hoistVarDeclarations=function(){this.blockPath.traverse(GF,this)},t.pushDeclar=function(e){for(var t=[],r=ah(e),n=0,a=Object.keys(r);n<a.length;n++){var s=a[n];t.push(Jl(r[s]))}this.body.push(Xl(e.kind,t));for(var i=[],o=0;o<e.declarations.length;o++){var l=e.declarations[o];if(l.init){var c=rl("=",Gd(l.id),Gd(l.init));i.push(gh(c,l))}}return i},t.buildHas=function(e){var t=this.body,r=this.has;if(r.hasBreakContinue)for(var n=0,a=Object.keys(r.map);n<a.length;n++){var s=a[n];t.push(Sl(nl("===",wl(e),jl(s)),r.map[s]))}r.hasReturn&&t.push(FF({RETURN:wl(e)}))},e}(),XF=Object.prototype.hasOwnProperty;var JF=function(e,t){return null!=e&&XF.call(e,t)};var YF=function(e,t){return null!=e&&m_(e,t,JF)};function $F(e,t,r,n,a){var s,i,o=nh(t),l={};if(YF(e,o)&&(l=e[o]),e[o]=l,l._inherits=l._inherits||[],l._inherits.push(t),l._key=t.key,t.computed&&(l._computed=!0),t.decorators){var c=l.decorators=l.decorators||tl([]);c.elements=c.elements.concat(t.decorators.map(function(e){return e.expression}).reverse())}if(l.value||l.initializer)throw n.buildCodeFrameError(t,"Key conflict with sibling node");(Pe(t)||Ae(t)||Ze(t))&&(s=Yf(t,t.key)),ur(t)?i=t.value:(Ae(t)||Ze(t))&&((i=El(null,t.params,t.body,t.generator,t.async)).returnType=t.returnType);var u=function(e){return!Ze(e)&&!Ae(e)||"get"!==e.kind&&"set"!==e.kind?"value":e.kind}(t);return r&&"value"===u||(r=u),a&&ge(s)&&("value"===r||"initializer"===r)&&fe(i)&&(i=ew({id:s,node:i,scope:a})),i&&(Qd(i,t),l[r]=i),l}function QF(e){for(var t=tl([]),r=0;r<e.properties.length;r++){var n=e.properties[r],a=n.value;a.properties.unshift(Fl(wl("key"),Yf(n))),t.elements.push(a)}return t}function ZF(e){var t=Nl([]);return Object.keys(e).forEach(function(r){var n=e[r],a=Nl([]),s=Fl(n._key,a,n._computed);Object.keys(n).forEach(function(e){var t=n[e];if("_"!==e[0]){var r=Fl(wl(e),t);Qd(r,t),Zd(t),a.properties.push(r)}}),t.properties.push(s)}),t}function eR(e){return Object.keys(e).forEach(function(t){var r=e[t];r.value&&(r.writable=kl(!0)),r.configurable=kl(!0),r.enumerable=kl(!0)}),ZF(e)}function tR(){var e=P(["\n  function CREATE_SUPER(Derived) {\n    function isNativeReflectConstruct() {\n      if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n\n      // core-js@3\n      if (Reflect.construct.sham) return false;\n\n      // Proxy can't be polyfilled. Every browser implemented\n      // proxies before or at the same time as Reflect.construct,\n      // so if they support Proxy they also support Reflect.construct.\n      if (typeof Proxy === \"function\") return true;\n\n      // Since Reflect.construct can't be properly polyfilled, some\n      // implementations (e.g. core-js@2) don't set the correct internal slots.\n      // Those polyfills don't allow us to subclass built-ins, so we need to\n      // use our fallback implementation.\n      try {\n        // If the internal slots aren't set, this throws an error similar to\n        //   TypeError: this is not a Date object.\n        Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    return function () {\n      var Super = GET_PROTOTYPE_OF(Derived), result;\n      if (isNativeReflectConstruct()) {\n        // NOTE: This doesn't work if this.__proto__.constructor has been modified.\n        var NewTarget = GET_PROTOTYPE_OF(this).constructor;\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n      return POSSIBLE_CONSTRUCTOR_RETURN(this, result);\n    }\n  }\n"]);return tR=function(){return e},e}var rR=new WeakMap;function nR(e){if(rR.has(e))return(Gd||Hd)(rR.get(e));try{return e.addHelper("createSuper")}catch(e){}var t=e.scope.generateUidIdentifier("createSuper")
;rR.set(e,t);var r=aR({CREATE_SUPER:t,GET_PROTOTYPE_OF:e.addHelper("getPrototypeOf"),POSSIBLE_CONSTRUCTOR_RETURN:e.addHelper("possibleConstructorReturn")});return e.path.unshiftContainer("body",[r]),e.scope.registerDeclaration(e.path.get("body.0")),Gd(t)}var aR=JE.statement(tR());function sR(){var e=P(["\n        (function () {\n          super(...arguments);\n        })\n      "]);return sR=function(){return e},e}function iR(e,t,r){var n=xl(Gd(e),[],t);return gh(n,r),n}function oR(e,t,r,n){var a={parent:void 0,scope:void 0,node:void 0,path:void 0,file:void 0,classId:void 0,classRef:void 0,superFnId:void 0,superName:void 0,superReturns:[],isDerived:!1,extendsNative:!1,construct:void 0,constructorBody:void 0,userConstructor:void 0,userConstructorPath:void 0,hasConstructor:!1,instancePropBody:[],instancePropRefs:{},staticPropBody:[],body:[],superThises:[],pushedConstructor:!1,pushedInherits:!1,protoAlias:null,isLoose:!1,hasInstanceDescriptors:!1,hasStaticDescriptors:!1,instanceMutatorMap:{},staticMutatorMap:{}},s=function(e){Object.assign(a,e)},i=Kw.visitors.merge([Vj,{ThisExpression:function(e){a.superThises.push(e)}}]);function o(){if(function(){for(var e,t=!1,r=U(a.path.get("body.body"));!(e=r()).done&&!(t=e.value.equals("kind","constructor")););if(!t){var n,s;if(a.isDerived){var i=JE.expression.ast(sR());n=i.params,s=i.body}else n=[],s=ol([]);a.path.get("body").unshiftContainer("body",hc("constructor",wl("constructor"),n,s))}}(),function(){for(var e,t=U(a.path.get("body.body"));!(e=t()).done;){var r=e.value,n=r.node;if(r.isClassProperty())throw r.buildCodeFrameError("Missing class properties transform.");if(n.decorators)throw r.buildCodeFrameError("Method has decorators, put the decorator plugin before the classes one.");Ze(n)&&function(){var e="constructor"===n.kind;new zj({methodPath:r,objectRef:a.classRef,superRef:a.superName,isLoose:a.isLoose,file:a.file}).replace();var t=[];r.traverse(Kw.visitors.merge([Vj,{ReturnStatement:function(e){e.getFunctionParent().isArrowFunctionExpression()||t.push(e)}}])),e?p(t,n,r):u(n,r)}()}}(),function(){if(!a.isDerived)return;var e=a.userConstructorPath,t=e.get("body");e.traverse(i);for(var r,n=function(){var t=e.scope.generateDeclaredUidIdentifier("this");return n=function(){return Gd(t)},t},s=U(a.superThises);!(r=s()).done;){var o=r.value,l=o.node;o.parentPath.isMemberExpression({object:l})?o.replaceWith(n()):o.replaceWith(cl(a.file.addHelper("assertThisInitialized"),[n()]))}var u=new Set;e.traverse(Kw.visitors.merge([Vj,{Super:function(e){var t=e.node,r=e.parentPath;r.isCallExpression({callee:t})&&u.add(r)}}]));for(var p,d,f=!!u.size,h=U(u);!(p=h()).done;){var m=p.value;c(m,a.superName,n,t),f&&m.find(function(t){return t===e||(t.isLoop()||t.isConditional()||t.isArrowFunctionExpression()?(f=!1,!0):void 0)})}d=a.isLoose?function(e){var t=cl(a.file.addHelper("assertThisInitialized"),[n()]);return e?Dl("||",e,t):t}:function(e){return cl(a.file.addHelper("possibleConstructorReturn"),[n()].concat(e||[]))};var y=t.get("body");y.length&&y.pop().isReturnStatement()||t.pushContainer("body",Ml(f?n():d()));for(var g,v=U(a.superReturns);!(g=v()).done;){var b=g.value;b.get("argument").replaceWith(d(b.node.argument))}}(),a.userConstructor){var e=a.constructorBody,t=a.userConstructor,r=a.construct;e.body=e.body.concat(t.body.body),gh(r,t),gh(e,t.body)}l()}function l(){d();var e,t,r=a.body;if(a.hasInstanceDescriptors&&(e=ZF(a.instanceMutatorMap)),a.hasStaticDescriptors&&(t=ZF(a.staticMutatorMap)),e||t){e&&(e=QF(e)),t&&(t=QF(t));var n=[Gd(a.classRef),Pl(),Pl()];e&&(n[1]=e),t&&(n[2]=t);for(var i=0,o=0;o<n.length;o++)be(n[o])||(i=o);n=n.slice(0,i+1),r.push(yl(cl(a.file.addHelper("createClass"),n)))}s({hasInstanceDescriptors:!1,hasStaticDescriptors:!1,instanceMutatorMap:{},staticMutatorMap:{}})}function c(e,t,r,n){var s,i=e.node;a.isLoose?(i.arguments.unshift(Gl()),2===i.arguments.length&&tt(i.arguments[1])&&he(i.arguments[1].argument,{name:"arguments"})?(i.arguments[1]=i.arguments[1].argument,i.callee=_l(Gd(t),wl("apply"))):i.callee=_l(Gd(t),wl("call")),s=Dl("||",i,Gl())):s=Uj(Gd(a.superFnId),Gl(),i.arguments),e.parentPath.isExpressionStatement()&&e.parentPath.container===n.node.body&&n.node.body.length-1===e.parentPath.key?(a.superThises.length&&(s=rl("=",r(),s)),e.parentPath.replaceWith(Ml(s))):e.replaceWith(rl("=",r(),s))}function u(e,t){var r=t?t.scope:a.scope;"method"===e.kind&&function(e,t){if(a.isLoose&&!e.decorators){var r=a.classRef;e.static||(!function(){if(null===a.protoAlias){s({protoAlias:a.scope.generateUidIdentifier("proto")});var e=_l(a.classRef,wl("prototype")),t=Xl("var",[Jl(a.protoAlias,e)]);a.body.push(t)}}(),r=a.protoAlias);var n=_l(Gd(r),e.key,e.computed||lr(e.key)),i=El(null,e.params,e.body,e.generator,e.async);gh(i,e);var o=Yf(e,e.key);ge(o)&&(i=ew({node:i,id:o,scope:t}));var l=yl(rl("=",n,i));return Qd(l,e),a.body.push(l),!0}return!1}(e,r)||function(e,t,r,n){var i;void 0===r&&(r="value"),e.static?(s({hasStaticDescriptors:!0}),i=a.staticMutatorMap):(s({hasInstanceDescriptors:!0}),i=a.instanceMutatorMap);var o=$F(i,e,r,a.file,n);t&&(o.enumerable=kl(!0))}(e,!1,null,r)}function p(e,t,r){r.scope.hasOwnBinding(a.classRef.name)&&r.scope.rename(a.classRef.name),s({userConstructorPath:r,userConstructor:t,hasConstructor:!0,superReturns:e});var n=a.construct;Qd(n,t),n.params=t.params,gh(n.body,t.body),n.body.directives=t.body.directives,function(){if(a.pushedConstructor)return;a.pushedConstructor=!0,(a.hasInstanceDescriptors||a.hasStaticDescriptors)&&l();a.body.push(a.construct),d()}()}function d(){if(a.isDerived&&!a.pushedInherits){var t=e.scope.generateUidIdentifier("super");s({pushedInherits:!0,superFnId:t}),a.isLoose||a.body.unshift(Xl("var",[Jl(t,cl(nR(a.file),[Gd(a.classRef)]))])),a.body.unshift(yl(cl(a.file.addHelper(a.isLoose?"inheritsLoose":"inherits"),[Gd(a.classRef),Gd(a.superName)])))}}return function(e,t,r,n){s({parent:e.parent,scope:e.scope,node:e.node,path:e,file:t,isLoose:n}),s({classId:a.node.id,classRef:a.node.id?wl(a.node.id.name):a.scope.generateUidIdentifier("class"),superName:a.node.superClass,isDerived:!!a.node.superClass,constructorBody:ol([])}),s({extendsNative:a.isDerived&&r.has(a.superName.name)&&!a.scope.hasBinding(a.superName.name,!0)});var i=a.classRef,l=a.node,c=a.constructorBody;s({construct:iR(i,c,l)});var u=a.body,p=function(){var e=a.superName,t=[],r=[];if(a.isDerived){var n=Gd(e);a.extendsNative&&uO(n=cl(a.file.addHelper("wrapNativeSuper"),[n]));var i=a.scope.generateUidIdentifierBasedOnNode(e);t.push(i),r.push(n),s({superName:Gd(i)})}return{closureParams:t,closureArgs:r}}(),d=p.closureParams,f=p.closureArgs;o(),a.isLoose||c.body.unshift(yl(cl(a.file.addHelper("classCallCheck"),[Gl(),Gd(a.classRef)]))),u=u.concat(a.staticPropBody.map(function(e){return e(Gd(a.classRef))}));var h=e.isInStrictMode(),m=a.classId&&1===u.length;if(m&&!h)for(var y,g=U(a.construct.params);!(y=g()).done;){if(!he(y.value)){m=!1;break}}var v=m?u[0].body.directives:[];return h||v.push(sl(il("use strict"))),m?$f(u[0]):(u.push(Ml(Gd(a.classRef))),cl(ec(d,ol(u,v)),f))}(e,t,r,n)}var lR=function(e){return Object.keys(Nm[e]).filter(function(e){return/^[A-Z]/.test(e)})},cR=new Set([].concat(lR("builtin"),lR("browser"))),uR=NI(function(e,t){e.assertVersion(7);var r=t.loose,n=Symbol();return{name:"transform-classes",visitor:{ExportDefaultDeclaration:function(e){e.get("declaration").isClassDeclaration()&&Qh(e)},ClassDeclaration:function(e){var t=e.node,r=t.id||e.scope.generateUidIdentifier("class");e.replaceWith(Xl("let",[Jl(r,$f(t))]))},ClassExpression:function(e,t){var a=e.node;if(!a[n]){var s=ew(e);s&&s!==a?e.replaceWith(s):(a[n]=!0,e.replaceWith(oR(e,t.file,cR,r)),e.isCallExpression()&&(uO(e),e.get("callee").isArrowFunctionExpression()&&e.get("callee").arrowFunctionToExpression()))}}}}}),pR=NI(function(e,t){e.assertVersion(7);var r=t.loose?function(e){for(var t,r=U(e.computedProps);!(t=r()).done;){var n=t.value;"get"===n.kind||"set"===n.kind?i(e,n):s(Gd(e.objId),n,e.body)}}:function(e){for(var t,r=e.objId,n=e.body,o=e.computedProps,l=e.state,c=U(o);!(t=c()).done;){var u=t.value,p=Yf(u);if("get"===u.kind||"set"===u.kind)i(e,u);else if(ge(p,{value:"__proto__"}))s(r,u,n);else{if(1===o.length)return cl(l.addHelper("defineProperty"),[e.initPropExpression,p,a(u)]);n.push(yl(cl(l.addHelper("defineProperty"),[Gd(r),p,a(u)])))}}},n=JE("\n    MUTATOR_MAP_REF[KEY] = MUTATOR_MAP_REF[KEY] || {};\n    MUTATOR_MAP_REF[KEY].KIND = VALUE;\n  ");function a(e){return Pe(e)?e.value:Ae(e)?El(null,e.params,e.body,e.generator,e.async):void 0}function s(e,t,r){"get"===t.kind&&"set"===t.kind?i(e,t):r.push(yl(rl("=",_l(Gd(e),t.key,t.computed||lr(t.key)),a(t))))}function i(e,t){var r=e.body,s=e.getMutatorId,i=e.scope,o=!t.computed&&he(t.key)?jl(t.key.name):t.key,l=i.maybeGenerateMemoised(o);l&&(r.push(yl(rl("=",l,o))),o=l),r.push.apply(r,n({MUTATOR_MAP_REF:s(),KEY:Gd(o),VALUE:a(t),KIND:wl(t.kind)}))}return{name:"transform-computed-properties",visitor:{ObjectExpression:{exit:function(e,t){for(var n=e.node,a=e.parent,s=e.scope,i=!1,o=0,l=n.properties;o<l.length;o++){if(i=!0===l[o].computed)break}if(i){for(var c,u=[],p=[],d=!1,f=U(n.properties);!(c=f()).done;){var h=c.value;h.computed&&(d=!0),d?p.push(h):u.push(h)}var m,y=s.generateUidIdentifierBasedOnNode(a),g=Nl(u),v=[];v.push(Xl("var",[Jl(y,g)]));var b=r({scope:s,objId:y,body:v,computedProps:p,initPropExpression:g,getMutatorId:function(){return m||(m=s.generateUidIdentifier("mutatorMap"),v.push(Xl("var",[Jl(m,Nl([]))]))),Gd(m)},state:t});m&&v.push(yl(cl(t.addHelper("defineEnumerableProperties"),[Gd(y),Gd(m)]))),b?e.replaceWith(b):(v.push(yl(Gd(y))),e.replaceWithMultiple(v))}}}}}}),dR=NI(function(e,t){e.assertVersion(7);var r=t.loose,n=void 0!==r&&r,a=t.useBuiltIns,s=void 0!==a&&a,i=t.allowArrayLike,o=void 0!==i&&i;if("boolean"!=typeof n)throw new Error(".loose must be a boolean or undefined");var l=n;function c(e){for(var t=0,r=e.declarations;t<r.length;t++){if(dr(r[t].id))return!0}return!1}function u(e){for(var t=0,r=e.elements;t<r.length;t++){if(ke(r[t]))return!0}return!1}var p={},d=function(e,t,r){if(t.length&&he(e)&&Sh(e,t[t.length-1])&&r.bindings[e.name])throw r.deopt=!0,p},f=function(){function e(e){this.blockHoist=e.blockHoist,this.operator=e.operator,this.arrays={},this.nodes=e.nodes||[],this.scope=e.scope,this.kind=e.kind,this.arrayOnlySpread=e.arrayOnlySpread,this.allowArrayLike=e.allowArrayLike,this.addHelper=e.addHelper}var t=e.prototype;return t.buildVariableAssignment=function(e,t){var r,n=this.operator;return we(e)&&(n="="),(r=n?yl(rl(n,e,Gd(t)||this.scope.buildUndefinedNode())):Xl(this.kind,[Jl(e,Gd(t))]))._blockHoist=this.blockHoist,r},t.buildVariableDeclaration=function(e,t){var r=Xl("var",[Jl(Gd(e),Gd(t))]);return r._blockHoist=this.blockHoist,r},t.push=function(e,t){var r=Gd(t);et(e)?this.pushObjectPattern(e,r):Ue(e)?this.pushArrayPattern(e,r):Le(e)?this.pushAssignmentPattern(e,r):this.nodes.push(this.buildVariableAssignment(e,r))},t.toArray=function(e,t){return this.arrayOnlySpread||he(e)&&this.arrays[e.name]?e:this.scope.toArray(e,t,this.allowArrayLike)},t.pushAssignmentPattern=function(e,t){var r=e.left,n=e.right,a=this.scope.generateUidIdentifierBasedOnNode(t);this.nodes.push(this.buildVariableDeclaration(a,t));var s,i,o=pl(nl("===",Gd(a),this.scope.buildUndefinedNode()),n,Gd(a));dr(r)?("const"===this.kind||"let"===this.kind?(s=this.scope.generateUidIdentifier(a.name),i=this.buildVariableDeclaration(s,o)):(s=a,i=yl(rl("=",Gd(a),o))),this.nodes.push(i),this.push(r,s)):this.nodes.push(this.buildVariableAssignment(r,o))},t.pushObjectRest=function(e,t,r,a){for(var i,o=[],l=!0,c=0;c<e.properties.length;c++){var u=e.properties[c];if(c>=a)break;if(!ke(u)){var p=u.key;he(p)&&!u.computed?o.push(jl(p.name)):at(u.key)?o.push(Gd(u.key)):lr(p)?o.push(jl(String(p.value))):(o.push(Gd(p)),l=!1)}}if(0===o.length)i=cl(function(e){return s?_l(wl("Object"),wl("assign")):e.addHelper("extends")}(this),[Nl([]),Gd(t)]);else{var d=tl(o);l||(d=cl(_l(d,wl("map")),[this.addHelper("toPropertyKey")])),i=cl(this.addHelper("objectWithoutProperties"+(n?"Loose":"")),[Gd(t),d])}this.nodes.push(this.buildVariableAssignment(r.argument,i))},t.pushObjectProperty=function(e,t){lr(e.key)&&(e.computed=!0);var r=e.value,n=_l(Gd(t),e.key,e.computed);dr(r)?this.push(r,n):this.nodes.push(this.buildVariableAssignment(r,n))},t.pushObjectPattern=function(e,t){if(e.properties.length||this.nodes.push(yl(cl(this.addHelper("objectDestructuringEmpty"),[t]))),e.properties.length>1&&!this.scope.isStatic(t)){var r=this.scope.generateUidIdentifierBasedOnNode(t);this.nodes.push(this.buildVariableDeclaration(r,t)),t=r}if(function(e){for(var t=0,r=e.properties;t<r.length;t++)if(ke(r[t]))return!0;return!1}(e))for(var n,a=0;a<e.properties.length;a++){var s=e.properties[a];if(ke(s))break;var i=s.key;if(s.computed&&!this.scope.isPure(i)){var o=this.scope.generateUidIdentifierBasedOnNode(i);this.nodes.push(this.buildVariableDeclaration(o,i)),n||(n=e=Object.assign({},e,{properties:e.properties.slice()})),n.properties[a]=Object.assign({},n.properties[a],{key:o})}}for(var l=0;l<e.properties.length;l++){var c=e.properties[l];ke(c)?this.pushObjectRest(e,t,c,l):this.pushObjectProperty(c,t)}},t.canUnpackArrayPattern=function(e,t){if(!Q(t))return!1;if(!(e.elements.length>t.elements.length)){if(e.elements.length<t.elements.length&&!u(e))return!1;for(var r=0,n=e.elements;r<n.length;r++){var a=n[r];if(!a)return!1;if(we(a))return!1}for(var s=0,i=t.elements;s<i.length;s++){var o=i[s];if(tt(o))return!1;if(ne(o))return!1;if(we(o))return!1}var l={deopt:!1,bindings:ah(e)};try{bh(t,d,l)}catch(e){if(e!==p)throw e}return!l.deopt}},t.pushUnpackedArrayPattern=function(e,t){for(var r=0;r<e.elements.length;r++){var n=e.elements[r];ke(n)?this.push(n.argument,tl(t.elements.slice(r))):this.push(n,t.elements[r])}},t.pushArrayPattern=function(e,t){if(e.elements){if(this.canUnpackArrayPattern(e,t))return this.pushUnpackedArrayPattern(e,t);var r=!u(e)&&e.elements.length,n=this.toArray(t,r);he(n)?t=n:(t=this.scope.generateUidIdentifierBasedOnNode(t),this.arrays[t.name]=!0,this.nodes.push(this.buildVariableDeclaration(t,n)));for(var a=0;a<e.elements.length;a++){var s=e.elements[a];if(s){var i=void 0;ke(s)?(i=cl(_l(i=this.toArray(t),wl("slice")),[Al(a)]),s=s.argument):i=_l(t,Al(a),!0),this.push(s,i)}}}},t.init=function(e,t){if(!Q(t)&&!we(t)){var r=this.scope.maybeGenerateMemoised(t,!0);r&&(this.nodes.push(this.buildVariableDeclaration(r,Gd(t))),t=r)}return this.push(e,t),this.nodes},e}();return{name:"transform-destructuring",visitor:{ExportNamedDeclaration:function(e){var t=e.get("declaration");if(t.isVariableDeclaration()&&c(t.node)){for(var r=[],n=0,a=Object.keys(e.getOuterBindingIdentifiers(e));n<a.length;n++){var s=a[n];r.push(oc(wl(s),wl(s)))}e.replaceWith(t.node),e.insertAfter(ic(null,r))}},ForXStatement:function(e){var t=this,r=e.node,n=e.scope,a=r.left;if(dr(a)){var s=n.generateUidIdentifier("ref");return r.left=Xl("var",[Jl(s)]),e.ensureBlock(),0===r.body.body.length&&e.isCompletionRecord()&&r.body.body.unshift(yl(n.buildUndefinedNode())),void r.body.body.unshift(yl(rl("=",a,s)))}if(Fe(a)){var i=a.declarations[0].id;if(dr(i)){var c=n.generateUidIdentifier("ref");r.left=Xl(a.kind,[Jl(c,null)]);var u=[];new f({kind:a.kind,scope:n,nodes:u,arrayOnlySpread:l,allowArrayLike:o,addHelper:function(e){return t.addHelper(e)}}).init(i,c),e.ensureBlock();var p=r.body;p.body=u.concat(p.body)}}},CatchClause:function(e){var t=this,r=e.node,n=e.scope,a=r.param;if(dr(a)){var s=n.generateUidIdentifier("ref");r.param=s;var i=[];new f({kind:"let",scope:n,nodes:i,arrayOnlySpread:l,allowArrayLike:o,addHelper:function(e){return t.addHelper(e)}}).init(a,s),r.body.body=i.concat(r.body.body)}},AssignmentExpression:function(e){var t=this,r=e.node,n=e.scope;if(dr(r.left)){var a,s=[],i=new f({operator:r.operator,scope:n,nodes:s,arrayOnlySpread:l,allowArrayLike:o,addHelper:function(e){return t.addHelper(e)}});!e.isCompletionRecord()&&e.parentPath.isExpressionStatement()||(a=n.generateUidIdentifierBasedOnNode(r.right,"ref"),s.push(Xl("var",[Jl(a,r.right)])),Q(r.right)&&(i.arrays[a.name]=!0)),i.init(r.left,a||r.right),a&&(e.parentPath.isArrowFunctionExpression()?(e.replaceWith(ol([])),s.push(Ml(Gd(a)))):s.push(yl(Gd(a)))),e.replaceWithMultiple(s),e.scope.crawl()}},VariableDeclaration:function(e){var t=this,r=e.node,n=e.scope,a=e.parent;if(!ar(a)&&a&&e.container&&c(r)){for(var s,i=r.kind,u=[],p=0;p<r.declarations.length;p++){var d=(s=r.declarations[p]).init,h=s.id,m=new f({blockHoist:r._blockHoist,nodes:u,scope:n,kind:r.kind,arrayOnlySpread:l,allowArrayLike:o,addHelper:function(e){return t.addHelper(e)}});dr(h)?(m.init(h,d),+p!=r.declarations.length-1&&gh(u[u.length-1],s)):u.push(gh(m.buildVariableAssignment(s.id,Gd(s.init)),s))}for(var y=null,g=[],v=0,b=u;v<b.length;v++){var x,E=b[v];if(null!==y&&Fe(E))(x=y.declarations).push.apply(x,E.declarations);else E.kind=i,g.push(E),y=Fe(E)?E:null}for(var w=0,S=g;w<S.length;w++){var T=S[w];if(T.declarations)for(var j,A=U(T.declarations);!(j=A()).done;){var P=j.value.id.name;n.bindings[P]&&(n.bindings[P].kind=T.kind)}}1===g.length?e.replaceWith(g[0]):e.replaceWithMultiple(g)}}}}}),fR=NI(function(e){return e.assertVersion(7),AF({name:"transform-dotall-regex",feature:"dotAllFlag"})});var hR=NI(function(e){return e.assertVersion(7),{name:"transform-duplicate-keys",visitor:{ObjectExpression:function(e){for(var t,r,n=e.node.properties.filter(function(e){return!tt(e)&&!e.computed}),a=Object.create(null),s=Object.create(null),i=Object.create(null),o=U(n);!(t=o()).done;){var l=t.value,c=he(r=l.key)?r.name:r.value.toString(),u=!1;switch(l.kind){case"get":(a[c]||s[c])&&(u=!0),s[c]=!0;break;case"set":(a[c]||i[c])&&(u=!0),i[c]=!0;break;default:(a[c]||s[c]||i[c])&&(u=!0),a[c]=!0}u&&(l.computed=!0,l.key=jl(c))}}}}});function mR(e,t,r,n,a){var s,i,o;if(s=he(e)&&a?e:function(e,t,r,n){var a;if(rt(e))return e;if(he(e)){if(n.hasBinding(e.name))return e;a=e}else{if(!we(e))throw new Error("We can't explode this node type "+e.type);if(rt(a=e.object)||he(a)&&n.hasBinding(a.name))return a}var s=n.generateUidIdentifierBasedOnNode(a);return n.push({id:s}),t.push(rl("=",Gd(s),Gd(a))),s}(e,t,0,n),he(e))i=Gd(e),o=s;else{var l=function(e,t,r,n){var a=e.property,s=Yf(e,a);if(lr(s)&&ir(s))return s;var i=n.generateUidIdentifierBasedOnNode(a);return n.push({id:i}),t.push(rl("=",Gd(i),Gd(a))),i}(e,t,0,n),c=e.computed||lr(l);o=_l(Gd(s),Gd(l),c),i=_l(Gd(s),Gd(l),c)}return{uid:o,ref:i}}function yR(e){var t=e.build,r=e.operator;return{AssignmentExpression:function(e){var n=e.node,a=e.scope;if(n.operator===r+"="){var s=[],i=mR(n.left,s,0,a);s.push(rl("=",i.ref,t(i.uid,n.right))),e.replaceWith(Ll(s))}},BinaryExpression:function(e){var n=e.node;n.operator===r&&e.replaceWith(t(n.left,n.right))}}}var gR=NI(function(e){return e.assertVersion(7),{name:"transform-exponentiation-operator",visitor:yR({operator:"**",build:function(e,t){return cl(_l(wl("Math"),wl("pow")),[e,t])}})}}),vR=NI(function(e){function t(e){return"string"==typeof e?{type:"CommentBlock",value:e}:e}function r(e){var r,n=e.ofPath,s=e.toPath,i=e.where,o=void 0===i?"trailing":i,l=e.optional,c=void 0!==l&&l,u=e.comments,p=void 0===u?a(n,c):u,d=e.keepType,f=void 0!==d&&d;if((null==(r=s)?void 0:r.node)||(s=n.getPrevSibling(),o="trailing"),s.node||(s=n.getNextSibling(),o="leading"),s.node||(s=n.parentPath,o="inner"),Array.isArray(p)||(p=[p]),p=p.map(t),!f&&(null==n?void 0:n.node)){var h=n.node,m=n.parentPath,y=n.getPrevSibling(),g=n.getNextSibling(),v=!(y.node||g.node),b=h.leadingComments,x=h.trailingComments;v&&b&&m.addComments("inner",b),s.addComments(o,p),n.remove(),v&&x&&m.addComments("inner",x)}else s.addComments(o,p)}function n(e){r({ofPath:e,comments:a(e,e.parent.optional)})}function a(e,t){var r=e.getSource().replace(/\*-\//g,"*-ESCAPED/").replace(/\*\//g,"*-/");return t&&(r="?"+r),":"!==r[0]&&(r=":: "+r),r}function s(e){return"type"===e||"typeof"===e}return e.assertVersion(7),{name:"transform-flow-comments",inherits:zI,visitor:{TypeCastExpression:function(e){var t=e.node;r({ofPath:e.get("typeAnnotation"),toPath:e.get("expression"),keepType:!0}),e.replaceWith(Ul(t.expression))},Identifier:function(e){if(!e.parentPath.isFlow()){var t=e.node;t.typeAnnotation?(r({ofPath:e.get("typeAnnotation"),toPath:e,optional:t.optional||t.typeAnnotation.optional}),t.optional&&(t.optional=!1)):t.optional&&(r({toPath:e,comments:":: ?"}),t.optional=!1)}},AssignmentPattern:{exit:function(e){var t=e.node.left;t.optional&&(t.optional=!1)}},Function:function(e){if(!e.isDeclareFunction()){var t=e.node;t.typeParameters&&r({ofPath:e.get("typeParameters"),toPath:e.get("id"),optional:t.typeParameters.optional}),t.returnType&&r({ofPath:e.get("returnType"),toPath:e.get("body"),where:"leading",optional:t.returnType.typeAnnotation.optional})}},ClassProperty:function(e){var t=e.node;t.value?t.typeAnnotation&&r({ofPath:e.get("typeAnnotation"),toPath:e.get("key"),optional:t.typeAnnotation.optional}):n(e)},ExportNamedDeclaration:function(e){var t=e.node;("type"===t.exportKind||gr(t.declaration))&&n(e)},ImportDeclaration:function(e){var t=e.node;if(s(t.importKind))n(e);else{var a=t.specifiers.filter(function(e){return s(e.importKind)}),i=t.specifiers.filter(function(e){return!s(e.importKind)});if(t.specifiers=i,a.length>0){var o=Gd(t);o.specifiers=a;var l=":: "+Jv(o).code;i.length>0?r({toPath:e,comments:l}):r({ofPath:e,comments:l})}}},ObjectPattern:function(e){var t=e.node;t.typeAnnotation&&r({ofPath:e.get("typeAnnotation"),toPath:e,optional:t.optional||t.typeAnnotation.optional})},Flow:function(e){n(e)},Class:function(e){var t=e.node,n=[];if(t.typeParameters){var s=e.get("typeParameters");n.push(a(s,t.typeParameters.optional));var i,o=t.typeParameters.trailingComments;if(o)(i=n).push.apply(i,o);s.remove()}if(t.superClass&&(n.length>0&&(r({toPath:e.get("id"),comments:n}),n=[]),t.superTypeParameters)){var l=e.get("superTypeParameters");n.push(a(l,l.node.optional)),l.remove()}if(t.implements){var c="implements "+e.get("implements").map(function(e){return a(e).replace(/^:: /,"")}).join(", ");delete t.implements,1===n.length?n[0]+=" "+c:n.push(":: "+c)}n.length>0&&r({toPath:e.get("body"),where:"leading",comments:n})}}}}),bR=NI(function(e,t){e.assertVersion(7);var r=/(@flow(\s+(strict(-local)?|weak))?|@noflow)/,n=!1,a=t.requireDirective,s=void 0!==a&&a,i=t.allowDeclareFields,o=void 0!==i&&i;return{name:"transform-flow-strip-types",inherits:zI,visitor:{Program:function(e,t){var a=t.file.ast.comments;n=!1;var i=!1;if(a)for(var o=0,l=a;o<l.length;o++){var c=l[o];r.test(c.value)&&(i=!0,c.value=c.value.replace(r,""),c.value.replace(/\*/g,"").trim()||(c.ignore=!0))}!i&&s&&(n=!0)},ImportDeclaration:function(e){if(!n&&e.node.specifiers.length){var t=0;e.node.specifiers.forEach(function(e){var r=e.importKind;"type"!==r&&"typeof"!==r||t++}),t===e.node.specifiers.length&&e.remove()}},Flow:function(e){if(n)throw e.buildCodeFrameError("A @flow directive is required when using Flow annotations with the `requireDirective` option.");e.remove()},ClassPrivateProperty:function(e){n||(e.node.typeAnnotation=null)},Class:function(e){n||(e.node.implements=null,e.get("body.body").forEach(function(e){if(e.isClassProperty()){var t=e.node;if(!o&&t.declare)throw e.buildCodeFrameError("The 'declare' modifier is only allowed when the 'allowDeclareFields' option of @babel/plugin-transform-flow-strip-types or @babel/preset-flow is enabled.");t.declare?e.remove():o||t.value||t.decorators?(t.variance=null,t.typeAnnotation=null):e.remove()}}))},AssignmentPattern:function(e){var t=e.node;n||(t.left.optional=!1)},Function:function(e){var t=e.node;if(!n){for(var r=0;r<t.params.length;r++){var a=t.params[r];a.optional=!1,"AssignmentPattern"===a.type&&(a.left.optional=!1)}t.predicate=null}},TypeCastExpression:function(e){if(!n){var t=e.node;do{t=t.expression}while(St(t));e.replaceWith(t)}},CallExpression:function(e){var t=e.node;n||(t.typeArguments=null)},OptionalCallExpression:function(e){var t=e.node;n||(t.typeArguments=null)},NewExpression:function(e){var t=e.node;n||(t.typeArguments=null)}}}});var xR=JE("\n  for (var LOOP_OBJECT = OBJECT,\n          IS_ARRAY = Array.isArray(LOOP_OBJECT),\n          INDEX = 0,\n          LOOP_OBJECT = IS_ARRAY ? LOOP_OBJECT : LOOP_OBJECT[Symbol.iterator]();;) {\n    INTERMEDIATE;\n    if (IS_ARRAY) {\n      if (INDEX >= LOOP_OBJECT.length) break;\n      ID = LOOP_OBJECT[INDEX++];\n    } else {\n      INDEX = LOOP_OBJECT.next();\n      if (INDEX.done) break;\n      ID = INDEX.value;\n    }\n  }\n"),ER=JE("\n  var ITERATOR_COMPLETION = true;\n  var ITERATOR_HAD_ERROR_KEY = false;\n  var ITERATOR_ERROR_KEY = undefined;\n  try {\n    for (\n      var ITERATOR_KEY = OBJECT[Symbol.iterator](), STEP_KEY;\n      !(ITERATOR_COMPLETION = (STEP_KEY = ITERATOR_KEY.next()).done);\n      ITERATOR_COMPLETION = true\n    ) {}\n  } catch (err) {\n    ITERATOR_HAD_ERROR_KEY = true;\n    ITERATOR_ERROR_KEY = err;\n  } finally {\n    try {\n      if (!ITERATOR_COMPLETION && ITERATOR_KEY.return != null) {\n        ITERATOR_KEY.return();\n      }\n    } finally {\n      if (ITERATOR_HAD_ERROR_KEY) {\n        throw ITERATOR_ERROR_KEY;\n      }\n    }\n  }\n");function wR(e,t){var r,n,a,s=e.node,i=e.scope,o=e.parent,l=s.left;if(he(l)||dr(l)||we(l))n=l,a=null;else{if(!Fe(l))throw t.buildCodeFrameError(l,"Unknown node type "+l.type+" in ForStatement");n=i.generateUidIdentifier("ref"),r=Xl(l.kind,[Jl(l.declarations[0].id,wl(n.name))]),a=Xl("var",[Jl(wl(n.name))])}var c,u=i.generateUidIdentifier("iterator"),p=i.generateUidIdentifier("isArray"),d=xR({LOOP_OBJECT:u,IS_ARRAY:p,OBJECT:s.right,INDEX:i.generateUidIdentifier("i"),ID:n,INTERMEDIATE:a}),f=ye(o);return f&&(c=Tl(o.label,d)),{replaceParent:f,declar:r,node:c||d,loop:d}}function SR(e,t){var r,n=e.node,a=e.scope,s=e.parent,i=n.left,o=a.generateUid("step"),l=_l(wl(o),wl("value"));if(he(i)||dr(i)||we(i))r=yl(rl("=",i,l));else{if(!Fe(i))throw t.buildCodeFrameError(i,"Unknown node type "+i.type+" in ForStatement");r=Xl(i.kind,[Jl(i.declarations[0].id,l)])}var c=ER({ITERATOR_HAD_ERROR_KEY:a.generateUidIdentifier("didIteratorError"),ITERATOR_COMPLETION:a.generateUidIdentifier("iteratorNormalCompletion"),ITERATOR_ERROR_KEY:a.generateUidIdentifier("iteratorError"),ITERATOR_KEY:a.generateUidIdentifier("iterator"),STEP_KEY:wl(o),OBJECT:n.right}),u=ye(s),p=c[3].block.body,d=p[0];return u&&(p[0]=Tl(s.label,d)),{replaceParent:u,declar:r,loop:d,node:c}}var TR=NI(function(e,t){e.assertVersion(7);var r=t.loose,n=t.assumeArray,a=t.allowArrayLike;if(!0===r&&!0===n)throw new Error("The loose and assumeArray options cannot be used together in @babel/plugin-transform-for-of");if(!0===n&&!0===a)throw new Error("The assumeArray and allowArrayLike options cannot be used together in @babel/plugin-transform-for-of");if(a&&/^7\.\d\./.test(e.version))throw new Error("The allowArrayLike is only supported when using @babel/core@^7.10.0");if(n)return{name:"transform-for-of",visitor:{ForOfStatement:function(e){var t=e.scope,r=e.node,n=r.left,a=r.right;if(!r.await){var s=t.generateUidIdentifier("i"),i=t.maybeGenerateMemoised(a,!0),o=[Jl(s,Al(0))];i?o.push(Jl(i,a)):i=a;var l,c,u=_l(Gd(i),Gd(s),!0);Fe(n)?(l=n).declarations[0].init=u:l=yl(rl("=",n,u));var p=e.get("body");p.isBlockStatement()&&Object.keys(e.getBindingIdentifiers()).some(function(e){return p.scope.hasOwnBinding(e)})?c=ol([l,p.node]):(c=zf(p.node)).body.unshift(l),e.replaceWith(bl(Xl("let",o),nl("<",Gd(s),_l(Gd(i),wl("length"))),ql("++",Gd(s)),c))}}}};var s=JE("\n    for (var KEY = 0, NAME = ARR; KEY < NAME.length; KEY++) BODY;\n  "),i=JE.statements("\n    for (var ITERATOR_HELPER = CREATE_ITERATOR_HELPER(OBJECT, ALLOW_ARRAY_LIKE), STEP_KEY;\n        !(STEP_KEY = ITERATOR_HELPER()).done;) BODY;\n  "),o=JE.statements("\n    var ITERATOR_HELPER = CREATE_ITERATOR_HELPER(OBJECT, ALLOW_ARRAY_LIKE), STEP_KEY;\n    try {\n      for (ITERATOR_HELPER.s(); !(STEP_KEY = ITERATOR_HELPER.n()).done;) BODY;\n    } catch (err) {\n      ITERATOR_HELPER.e(err);\n    } finally {\n      ITERATOR_HELPER.f();\n    }\n  "),l=r?{build:i,helper:"createForOfIteratorHelperLoose",getContainer:function(e){return e}}:{build:o,helper:"createForOfIteratorHelper",getContainer:function(e){return e[1].block.body}};return{name:"transform-for-of",visitor:{ForOfStatement:function(e,t){var n=e.get("right");if(n.isArrayExpression()||n.isGenericType("Array")||dt(n.getTypeAnnotation()))e.replaceWith(function(e){var t=e.node,r=e.scope,n=r.generateUidIdentifierBasedOnNode(t.right,"arr"),a=r.generateUidIdentifier("i"),i=s({BODY:t.body,KEY:a,NAME:n,ARR:t.right});gh(i,t),qf(i);var o=_l(Gd(n),Gd(a),!0),l=t.left;return Fe(l)?(l.declarations[0].init=o,i.body.body.unshift(l)):i.body.body.unshift(yl(rl("=",l,o))),i}(e));else if(t.availableHelper(l.helper)){var i,o=e.node,c=e.parent,u=e.scope,p=o.left,d=u.generateUid("step"),f=_l(wl(d),wl("value"));i=Fe(p)?Xl(p.kind,[Jl(p.declarations[0].id,f)]):yl(rl("=",p,f)),e.ensureBlock(),o.body.body.unshift(i);var h=l.build({CREATE_ITERATOR_HELPER:t.addHelper(l.helper),ITERATOR_HELPER:u.generateUidIdentifier("iterator"),ALLOW_ARRAY_LIKE:a?kl(!0):null,STEP_KEY:wl(d),OBJECT:o.right,BODY:o.body}),m=l.getContainer(h);gh(m[0],o),gh(m[0].body,o.body),ye(c)?(m[0]=Tl(c.label,m[0]),e.parentPath.replaceWithMultiple(h),e.remove()):e.replaceWithMultiple(h)}else!function(e,t,r){var n=e?wR:SR,a=t.node,s=n(t,r),i=s.declar,o=s.loop,l=o.body;t.ensureBlock(),i&&l.body.push(i),l.body=l.body.concat(a.body.body),gh(o,a),gh(o.body,a.body),s.replaceParent?(t.parentPath.replaceWithMultiple(s.node),t.remove()):t.replaceWithMultiple(s.node)}(r,e,t)}}}}),jR=NI(function(e){return e.assertVersion(7),{name:"transform-function-name",visitor:{FunctionExpression:{exit:function(e){if("value"!==e.key&&!e.parentPath.isObjectProperty()){var t=ew(e);t&&e.replaceWith(t)}}},ObjectProperty:function(e){var t=e.get("value");if(t.isFunction()){var r=ew(t);r&&t.replaceWith(r)}}}}}),AR=NI(function(e){return e.assertVersion(7),{name:"transform-instanceof",visitor:{BinaryExpression:function(e){var t=e.node;if("instanceof"===t.operator){var r=this.addHelper("instanceof");if(e.findParent(function(e){return e.isVariableDeclarator()&&e.node.id===r||e.isFunctionDeclaration()&&e.node.id&&e.node.id.name===r.name}))return;e.replaceWith(cl(r,[t.left,t.right]))}}}}}),PR=NI(function(e){return e.assertVersion(7),{name:"transform-jscript",visitor:{FunctionExpression:{exit:function(e){var t=e.node;t.id&&e.replaceWith(cl(El(null,[],ol([ih(t),Ml(Gd(t.id))])),[]))}}}}}),kR=NI(function(e){return e.assertVersion(7),{name:"transform-literals",visitor:{NumericLiteral:function(e){var t=e.node;t.extra&&/^0[ob]/i.test(t.extra.raw)&&(t.extra=void 0)},StringLiteral:function(e){var t=e.node;t.extra&&/\\[u]/gi.test(t.extra.raw)&&(t.extra=void 0)}}}}),CR=NI(function(e){return e.assertVersion(7),{name:"transform-member-expression-literals",visitor:{MemberExpression:{exit:function(e){var t=e.node,r=t.property;t.computed||!he(r)||Ah(r.name)||(t.property=jl(r.name),t.computed=!0)}}}}}),DR=Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,s=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function n(e,t){var n=t.arguments,a=r(n,1)[0];return e.isStringLiteral(a)||e.isTemplateLiteral(a)?(e.removeComments(a),a):e.templateLiteral([e.templateElement({raw:"",cooked:""}),e.templateElement({raw:"",cooked:""},!0)],n)}t.getImportSource=n,t.createDynamicImportTransform=function(e){var t=e.template,r=e.types,a={static:{interop:t("Promise.resolve().then(() => INTEROP(require(SOURCE)))"),noInterop:t("Promise.resolve().then(() => require(SOURCE))")},dynamic:{interop:t("Promise.resolve(SOURCE).then(s => INTEROP(require(s)))"),noInterop:t("Promise.resolve(SOURCE).then(s => require(s))")}
},s="function"==typeof WeakSet&&new WeakSet;return function(e,t){if(s){if(s.has(t))return;s.add(t)}var i=n(r,t.parent),o=function(e){return r.isStringLiteral(e)||r.isTemplateLiteral(e)&&0===e.expressions.length}(i)?a.static:a.dynamic,l=e.opts.noInterop?o.noInterop({SOURCE:i}):o.interop({SOURCE:i,INTEROP:e.addHelper("interopRequireWildcard")});t.parentPath.replaceWith(l)}}});function _R(){var e=P(["\n            new Promise((",", ",") =>\n              ","(\n                [","],\n                imported => ","(","),\n                ","\n              )\n            )"]);return _R=function(){return e},e}var IR=JE("\n  define(MODULE_NAME, AMD_ARGUMENTS, function(IMPORT_NAMES) {\n  })\n"),OR=JE('\n  define(["require"], function(REQUIRE) {\n  })\n');function NR(e,t){var r=e.node,n=r.body,a=r.directives;e.node.directives=[],e.node.body=[];var s=e.pushContainer("body",t)[0].get("expression.arguments").filter(function(e){return e.isFunctionExpression()})[0].get("body");s.pushContainer("directives",a),s.pushContainer("body",n)}var BR=NI(function(e,t){e.assertVersion(7);var r=t.loose,n=t.allowTopLevelThis,a=t.strict,s=t.strictMode,i=t.noInterop;return{name:"transform-modules-amd",pre:function(){this.file.set("@babel/plugin-transform-modules-*","amd")},visitor:{CallExpression:function(e,t){if(this.file.has("@babel/plugin-proposal-dynamic-import")&&e.get("callee").isImport()){var r=t.requireId,n=t.resolveId,a=t.rejectId;r||(r=e.scope.generateUidIdentifier("require"),t.requireId=r),n&&a||(n=e.scope.generateUidIdentifier("resolve"),a=e.scope.generateUidIdentifier("reject"),t.resolveId=n,t.rejectId=a);var s=wl("imported");i||(s=OA(e,s,"namespace")),e.replaceWith(JE.expression.ast(_R(),n,a,r,DR.getImportSource(Ch,e.node),Gd(n),s,Gd(a)))}},Program:{exit:function(e,o){var l=o.requireId;if(Ij(e)){var c=[],u=[];l&&(c.push(jl("require")),u.push(Gd(l)));var p=gA(this.file.opts,t);p&&(p=jl(p));var d=_A(e,{loose:r,strict:a,strictMode:s,allowTopLevelThis:n,noInterop:i}),f=d.meta,h=d.headers;fA(f)&&(c.push(jl("exports")),u.push(wl(f.exportName)));for(var m,y=U(f.source);!(m=y()).done;){var g=m.value,v=g[0],b=g[1];if(c.push(jl(v)),u.push(wl(b.name)),!hA(b)){var x=OA(e,wl(b.name),b.interop);if(x){var E=yl(rl("=",wl(b.name),x));E.loc=b.loc,h.push(E)}}h.push.apply(h,NA(f,b,r))}IA(h),e.unshiftContainer("body",h),NR(e,IR({MODULE_NAME:p,AMD_ARGUMENTS:tl(c),IMPORT_NAMES:u}))}else l&&NR(e,OR({REQUIRE:Gd(l)}))}}}}});function FR(){var e=P(["\n                  var "," = ",";\n                "]);return FR=function(){return e},e}function RR(){var e=P(["\n                  function ","() {\n                    const data = ",";\n                    "," = function(){ return data; };\n                    return data;\n                  }\n                "]);return RR=function(){return e},e}function MR(){var e=P(['\n    (function(){\n      throw new Error(\n        "The CommonJS \'" + "','" + "\' variable is not available in ES6 modules." +\n        "Consider setting setting sourceType:script or sourceType:unambiguous in your " +\n        "Babel config for this file.");\n    })()\n  ']);return MR=function(){return e},e}var LR=NI(function(e,t){e.assertVersion(7);var r=DR.createDynamicImportTransform(e),n=t.loose,a=t.strictNamespace,s=void 0!==a&&a,i=t.mjsStrictNamespace,o=void 0===i||i,l=t.allowTopLevelThis,c=t.strict,u=t.strictMode,p=t.noInterop,d=t.lazy,f=void 0!==d&&d,h=t.allowCommonJSExports,m=void 0===h||h;if(!("boolean"==typeof f||"function"==typeof f||Array.isArray(f)&&f.every(function(e){return"string"==typeof e})))throw new Error(".lazy must be a boolean, array of strings, or a function");if("boolean"!=typeof s)throw new Error(".strictNamespace must be a boolean, or undefined");if("boolean"!=typeof o)throw new Error(".mjsStrictNamespace must be a boolean, or undefined");var y=function(e){return JE.expression.ast(MR(),e)},g={ReferencedIdentifier:function(e){var t=e.node.name;if("module"===t||"exports"===t){var r=e.scope.getBinding(t);this.scope.getBinding(t)!==r||e.parentPath.isObjectProperty({value:e.node})&&e.parentPath.parentPath.isObjectPattern()||e.parentPath.isAssignmentExpression({left:e.node})||e.isAssignmentExpression({left:e.node})||e.replaceWith(y(t))}},AssignmentExpression:function(e){var t=this,r=e.get("left");if(r.isIdentifier()){var n=e.node.name;if("module"!==n&&"exports"!==n)return;var a=e.scope.getBinding(n);if(this.scope.getBinding(n)!==a)return;var s=e.get("right");s.replaceWith(Ll([s.node,y(n)]))}else if(r.isPattern()){var i=r.getOuterBindingIdentifiers(),o=Object.keys(i).filter(function(r){return("module"===r||"exports"===r)&&t.scope.getBinding(r)===e.scope.getBinding(r)})[0];if(o){var l=e.get("right");l.replaceWith(Ll([l.node,y(o)]))}}}};return{name:"transform-modules-commonjs",pre:function(){this.file.set("@babel/plugin-transform-modules-*","commonjs")},visitor:{CallExpression:function(e){if(this.file.has("@babel/plugin-proposal-dynamic-import")&&e.get("callee").isImport()){var t=e.scope;do{t.rename("require")}while(t=t.parent);r(this,e.get("callee"))}},Program:{exit:function(e,r){if(Ij(e)){e.scope.rename("exports"),e.scope.rename("module"),e.scope.rename("require"),e.scope.rename("__filename"),e.scope.rename("__dirname"),m||(Jj(e,new Set(["module","exports"])),e.traverse(g,{scope:e.scope}));var a=gA(this.file.opts,t);a&&(a=jl(a));for(var i,d=_A(e,{exportName:"exports",loose:n,strict:c,strictMode:u,allowTopLevelThis:l,noInterop:p,lazy:f,esNamespaceOnly:"string"==typeof r.filename&&/\.mjs$/.test(r.filename)?o:s}),h=d.meta,y=d.headers,v=U(h.source);!(i=v()).done;){var b=i.value,x=b[0],E=b[1],w=cl(wl("require"),[jl(x)]),S=void 0;if(hA(E)){if(E.lazy)throw new Error("Assertion failure");S=yl(w)}else{var T=OA(e,w,E.interop)||w;S=E.lazy?JE.ast(RR(),E.name,T,E.name):JE.ast(FR(),E.name,T)}S.loc=E.loc,y.push(S),y.push.apply(y,NA(h,E,n))}IA(y),e.unshiftContainer("body",y)}}}}}}),UR={Scope:function(e,t){"let"===t.kind&&e.skip()},Function:function(e){e.skip()},VariableDeclaration:function(e,t){if(!t.kind||e.node.kind===t.kind){for(var r,n,a=[],s=U(e.get("declarations"));!(n=s()).done;){var i=n.value;r=i.node.id,i.node.init&&a.push(yl(rl("=",i.node.id,i.node.init)));for(var o=0,l=Object.keys(i.getBindingIdentifiers());o<l.length;o++){var c=l[o];t.emit(wl(c),c,null!==i.node.init)}}e.parentPath.isFor({left:e.node})?e.replaceWith(r):e.replaceWithMultiple(a)}}};var WR=JE('\n  SYSTEM_REGISTER(MODULE_NAME, SOURCES, function (EXPORT_IDENTIFIER, CONTEXT_IDENTIFIER) {\n    "use strict";\n    BEFORE_BODY;\n    return {\n      setters: SETTERS,\n      execute: EXECUTE,\n    };\n  });\n'),VR=JE('\n  for (var KEY in TARGET) {\n    if (KEY !== "default" && KEY !== "__esModule") EXPORT_OBJ[KEY] = TARGET[KEY];\n  }\n');function GR(e,t){if("Identifier"===e.type)return e.name;if("StringLiteral"===e.type){var r=e.value;return vi(r)||t.add(r),r}throw new Error("Expected export specifier to be either Identifier or StringLiteral, got "+e.type)}function KR(e,t,r,n,a,s){var i=[];if(1===r.length)i.push(yl(cl(t,[jl(r[0]),n[0]])));else if(a){var o=e.scope.generateUid("exportObj");i.push(Xl("var",[Jl(wl(o),Nl([]))])),i.push(VR({KEY:e.scope.generateUidIdentifier("key"),EXPORT_OBJ:wl(o),TARGET:a}));for(var l=0;l<r.length;l++){var c=r[l],u=n[l];i.push(yl(rl("=",_l(wl(o),wl(c)),u)))}i.push(yl(cl(t,[wl(o)])))}else{for(var p=[],d=0;d<r.length;d++){var f=r[d],h=n[d];p.push(Fl(s.has(f)?jl(f):wl(f),h))}i.push(yl(cl(t,[Nl(p)])))}return i}var HR=NI(function(e,t){e.assertVersion(7);var r=t.systemGlobal,n=void 0===r?"System":r,a=t.allowTopLevelThis,s=void 0!==a&&a,i=Symbol(),o={"AssignmentExpression|UpdateExpression":function(e){if(!e.node[i]){e.node[i]=!0;var t=e.get(e.isAssignmentExpression()?"left":"argument");if(t.isObjectPattern()||t.isArrayPattern()){for(var r=[e.node],n=0,a=Object.keys(t.getBindingIdentifiers());n<a.length;n++){var s=a[n];if(this.scope.getBinding(s)!==e.scope.getBinding(s))return;var o=this.exports[s];if(!o)return;for(var l,c=U(o);!(l=c()).done;){var u=l.value;r.push(this.buildCall(u,wl(s)).expression)}}e.replaceWith(Ll(r))}else if(t.isIdentifier()){var p=t.node.name;if(this.scope.getBinding(p)===e.scope.getBinding(p)){var d=this.exports[p];if(d){var f=e.node,h=e.isUpdateExpression({prefix:!1});h&&(f=nl(f.operator[0],zl("+",Gd(f.argument)),Al(1)));for(var m,y=U(d);!(m=y()).done;){var g=m.value;f=this.buildCall(g,f).expression}h&&(f=Ll([f,e.node])),e.replaceWith(f)}}}}}};return{name:"transform-modules-systemjs",pre:function(){this.file.set("@babel/plugin-transform-modules-*","systemjs")},visitor:{CallExpression:function(e,t){ot(e.node.callee)&&(this.file.has("@babel/plugin-proposal-dynamic-import")||console.warn("WARNING: Dynamic import() transformation must be enabled using the\n         @babel/plugin-proposal-dynamic-import plugin. Babel 8 will\n         no longer transform import() without using that plugin.\n"),e.replaceWith(cl(_l(wl(t.contextIdent),wl("import")),[DR.getImportSource(Ch,e.node)])))},MetaProperty:function(e,t){"import"===e.node.meta.name&&"meta"===e.node.property.name&&e.replaceWith(_l(wl(t.contextIdent),wl("meta")))},ReferencedIdentifier:function(e,t){"__moduleName"!==e.node.name||e.scope.hasBinding("__moduleName")||e.replaceWith(_l(wl(t.contextIdent),wl("id")))},Program:{enter:function(e,t){t.contextIdent=e.scope.generateUid("context"),t.stringSpecifiers=new Set,s||qj(e)},exit:function(e,r){var a=e.scope,s=a.generateUid("export"),i=r.contextIdent,l=r.stringSpecifiers,c=Object.create(null),u=[],p=[],d=[],f=[],h=[],m=[];function y(e,t){c[e]=c[e]||[],c[e].push(t)}function g(e,t,r){var n;u.forEach(function(t){t.key===e&&(n=t)}),n||u.push(n={key:e,imports:[],exports:[]}),n[t]=n[t].concat(r)}function v(e,t){return yl(cl(wl(s),[jl(e),t]))}for(var b,x=[],E=[],w=U(e.get("body"));!(b=w()).done;){var S=b.value;if(S.isFunctionDeclaration())p.push(S.node),m.push(S);else if(S.isClassDeclaration())h.push(Gd(S.node.id)),S.replaceWith(yl(rl("=",Gd(S.node.id),$f(S.node))));else if(S.isImportDeclaration()){g(S.node.source.value,"imports",S.node.specifiers);for(var T=0,j=Object.keys(S.getBindingIdentifiers());T<j.length;T++){var A=j[T];a.removeBinding(A),h.push(wl(A))}S.remove()}else if(S.isExportAllDeclaration())g(S.node.source.value,"exports",S.node),S.remove();else if(S.isExportDefaultDeclaration()){var P=S.get("declaration"),k=P.node.id;P.isClassDeclaration()?k?(x.push("default"),E.push(a.buildUndefinedNode()),h.push(Gd(k)),y(k.name,"default"),S.replaceWith(yl(rl("=",Gd(k),$f(P.node))))):(x.push("default"),E.push($f(P.node)),m.push(S)):P.isFunctionDeclaration()?(k?(p.push(P.node),x.push("default"),E.push(Gd(k)),y(k.name,"default")):(x.push("default"),E.push($f(P.node))),m.push(S)):S.replaceWith(v("default",P.node))}else if(S.isExportNamedDeclaration()){var C=S.get("declaration");if(C.node)if(S.replaceWith(C),S.isFunction()){var D=C.node,_=D.id.name;y(_,_),p.push(D),x.push(_),E.push(Gd(D.id)),m.push(S)}else if(S.isClass()){var I=C.node.id.name;x.push(I),E.push(a.buildUndefinedNode()),h.push(Gd(C.node.id)),S.replaceWith(yl(rl("=",Gd(C.node.id),$f(C.node)))),y(I,I)}else for(var O=0,N=Object.keys(C.getBindingIdentifiers());O<N.length;O++){var B=N[O];y(B,B)}else{var F=S.node.specifiers;if(null==F?void 0:F.length)if(S.node.source)g(S.node.source.value,"exports",F),S.remove();else{for(var R,M=[],L=U(F);!(R=L()).done;){var W=R.value,V=W.local,G=W.exported,K=a.getBinding(V.name),H=GR(G,l);K&&de(K.path.node)?(x.push(H),E.push(Gd(V))):K||M.push(v(H,V)),y(V.name,H)}S.replaceWithMultiple(M)}else S.remove()}}}u.forEach(function(t){for(var r,n=[],i=a.generateUid(t.key),o=U(t.imports);!(r=o()).done;){var c=r.value;if($e(c)?n.push(yl(rl("=",c.local,wl(i)))):Ye(c)&&(c=dc(c.local,wl("default"))),Qe(c)){var u=c.imported;n.push(yl(rl("=",c.local,_l(wl(i),c.imported,"StringLiteral"===u.type))))}}if(t.exports.length){for(var p,h=[],m=[],y=!1,g=U(t.exports);!(p=g()).done;){var v=p.value;if(He(v))y=!0;else if(Xe(v)){var b=GR(v.exported,l);h.push(b),m.push(_l(wl(i),v.local,ge(v.local)))}}n=n.concat(KR(e,wl(s),h,m,y?wl(i):null,l))}f.push(jl(t.key)),d.push(El(null,[wl(i)],ol(n)))});var z=gA(this.file.opts,t);z&&(z=jl(z)),function(e,t,r){void 0===r&&(r="var"),e.traverse(UR,{kind:r,emit:t})}(e,function(e,t,r){if(h.push(e),!r&&t in c)for(var n,s=U(c[t]);!(n=s()).done;){var i=n.value;x.push(i),E.push(a.buildUndefinedNode())}},null),h.length&&p.unshift(Xl("var",h.map(function(e){return Jl(e)}))),x.length&&(p=p.concat(KR(e,wl(s),x,E,null,l))),e.traverse(o,{exports:c,buildCall:v,scope:a});for(var q=0,X=m;q<X.length;q++){X[q].remove()}var J=!1;e.traverse({AwaitExpression:function(e){J=!0,e.stop()},Function:function(e){e.skip()},noScope:!0}),e.node.body=[WR({SYSTEM_REGISTER:_l(wl(n),wl("register")),BEFORE_BODY:p,MODULE_NAME:z,SETTERS:tl(d),EXECUTE:El(null,[],ol(e.node.body),!1,J),SOURCES:tl(f),EXPORT_IDENTIFIER:wl(s),CONTEXT_IDENTIFIER:wl(i)})]}}}}}),zR=JE("\n  GLOBAL_REFERENCE = GLOBAL_REFERENCE || {}\n"),qR=JE('\n  (function (global, factory) {\n    if (typeof define === "function" && define.amd) {\n      define(MODULE_NAME, AMD_ARGUMENTS, factory);\n    } else if (typeof exports !== "undefined") {\n      factory(COMMONJS_ARGUMENTS);\n    } else {\n      var mod = { exports: {} };\n      factory(BROWSER_ARGUMENTS);\n\n      GLOBAL_TO_ASSIGN;\n    }\n  })(\n    typeof globalThis !== "undefined" ? globalThis\n      : typeof self !== "undefined" ? self\n      : this,\n    function(IMPORT_NAMES) {\n  })\n'),XR=NI(function(e,t){e.assertVersion(7);var r=t.globals,n=t.exactGlobals,a=t.loose,s=t.allowTopLevelThis,i=t.strict,o=t.strictMode,l=t.noInterop;function c(e,t,r,n){var a=n?n.value:lA(r,cA(r)),s=_l(wl("global"),wl(Xf(a))),i=[];if(t){var o=e[a];if(o){i=[];var l=o.split(".");s=l.slice(1).reduce(function(e,t){return i.push(zR({GLOBAL_REFERENCE:Gd(e)})),_l(e,wl(t))},_l(wl("global"),wl(l[0])))}}return i.push(yl(rl("=",s,_l(wl("mod"),wl("exports"))))),i}function u(e,t,r){var n;if(t){var a=e[r];n=a?a.split(".").reduce(function(e,t){return _l(e,wl(t))},wl("global")):_l(wl("global"),wl(Xf(r)))}else{var s=lA(r,cA(r)),i=e[s]||s;n=_l(wl("global"),wl(Xf(i)))}return n}return{name:"transform-modules-umd",visitor:{Program:{exit:function(e){if(Ij(e)){var p=r||{},d=gA(this.file.opts,t);d&&(d=jl(d));var f=_A(e,{loose:a,strict:i,strictMode:o,allowTopLevelThis:s,noInterop:l}),h=f.meta,m=f.headers,y=[],g=[],v=[],b=[];fA(h)&&(y.push(jl("exports")),g.push(wl("exports")),v.push(_l(wl("mod"),wl("exports"))),b.push(wl(h.exportName)));for(var x,E=U(h.source);!(x=E()).done;){var w=x.value,S=w[0],T=w[1];if(y.push(jl(S)),g.push(cl(wl("require"),[jl(S)])),v.push(u(p,n,S)),b.push(wl(T.name)),!hA(T)){var j=OA(e,wl(T.name),T.interop);if(j){var A=yl(rl("=",wl(T.name),j));A.loc=h.loc,m.push(A)}}m.push.apply(m,NA(h,T,a))}IA(m),e.unshiftContainer("body",m);var P=e.node,k=P.body,C=P.directives;e.node.directives=[],e.node.body=[];var D=e.pushContainer("body",[qR({MODULE_NAME:d,AMD_ARGUMENTS:tl(y),COMMONJS_ARGUMENTS:g,BROWSER_ARGUMENTS:v,IMPORT_NAMES:b,GLOBAL_TO_ASSIGN:c(p,n,this.filename||"unknown",d)})])[0].get("expression.arguments")[1].get("body");D.pushContainer("directives",C),D.pushContainer("body",k)}}}}}});function JR(e,t){var r=t.runtime,n=void 0===r||r;if("boolean"!=typeof n)throw new Error("The 'runtime' option must be boolean");return AF({name:"transform-named-capturing-groups-regex",feature:"namedCaptureGroups",options:{runtime:n}})}var YR=NI(function(e){return e.assertVersion(7),{name:"transform-new-target",visitor:{MetaProperty:function(e){var t=e.get("meta"),r=e.get("property"),n=e.scope;if(t.isIdentifier({name:"new"})&&r.isIdentifier({name:"target"})){var a=e.findParent(function(e){return!!e.isClass()||!(!e.isFunction()||e.isArrowFunctionExpression())&&!e.isClassMethod({kind:"constructor"})});if(!a)throw e.buildCodeFrameError("new.target must be under a (non-arrow) function or a class.");var s=a.node;if(!s.id){if(a.isMethod())return void e.replaceWith(n.buildUndefinedNode());s.id=n.generateUidIdentifier("target")}var i=_l(Gl(),wl("constructor"));if(a.isClass())return void e.replaceWith(i);e.replaceWith(pl(nl("instanceof",Gl(),Gd(s.id)),i,n.buildUndefinedNode()))}}}}}),$R=NI(function(e){return e.assertVersion(7),{name:"transform-object-assign",visitor:{CallExpression:function(e,t){e.get("callee").matchesPattern("Object.assign")&&(e.node.callee=t.addHelper("extends"))}}}});var QR=NI(function(e){return e.assertVersion(7),{name:"transform-object-super",visitor:{ObjectExpression:function(e,t){var r,n=function(){return r=r||e.scope.generateUidIdentifier("obj")};e.get("properties").forEach(function(e){e.isMethod()&&function(e,t,r){new zj({getObjectRef:t,methodPath:e,file:r}).replace()}(e,n,t)}),r&&(e.scope.push({id:Gd(r)}),e.replaceWith(rl("=",Gd(r),e.node)))}}}}),ZR=NI(function(e){return e.assertVersion(7),{name:"transform-object-set-prototype-of-to-assign",visitor:{CallExpression:function(e,t){e.get("callee").matchesPattern("Object.setPrototypeOf")&&(e.node.callee=t.addHelper("defaults"))}}}}),eM=NI(function(e){return e.assertVersion(7),{name:"transform-property-literals",visitor:{ObjectProperty:{exit:function(e){var t=e.node,r=t.key;t.computed||!he(r)||Ah(r.name)||(t.key=jl(r.name))}}}}}),tM=NI(function(e){return e.assertVersion(7),{name:"transform-property-mutators",visitor:{ObjectExpression:function(e,t){for(var r=e.node,n=!1,a=0,s=r.properties;a<s.length;a++){var i=s[a];if("get"===i.kind||"set"===i.kind){n=!0;break}}if(n){var o={};r.properties=r.properties.filter(function(e){return!!(e.computed||"get"!==e.kind&&"set"!==e.kind)||($F(o,e,null,t),!1)}),e.replaceWith(cl(_l(wl("Object"),wl("defineProperties")),[r,eR(o)]))}}}}}),rM=NI(function(e){function t(e){return lr(Yf(e,e.key),{value:"__proto__"})}function r(e){var t=e.left;return we(t)&&lr(Yf(t,t.property),{value:"__proto__"})}function n(e,t,r){return yl(cl(r.addHelper("defaults"),[t,e.right]))}return e.assertVersion(7),{name:"transform-proto-to-assign",visitor:{AssignmentExpression:function(e,t){if(r(e.node)){var a=[],s=e.node.left.object,i=e.scope.maybeGenerateMemoised(s);i&&a.push(yl(rl("=",i,s))),a.push(n(e.node,Gd(i||s),t)),i&&a.push(Gd(i)),e.replaceWithMultiple(a)}},ExpressionStatement:function(e,t){var a=e.node.expression;Z(a,{operator:"="})&&r(a)&&e.replaceWith(n(a,a.left.object,t))},ObjectExpression:function(e,r){for(var n,a=e.node,s=0,i=a.properties;s<i.length;s++){var o=i[s];t(o)&&(n=o.value,wF(a.properties,o))}if(n){var l=[Nl([]),n];a.properties.length&&l.push(a),e.replaceWith(cl(r.addHelper("extends"),l))}}}}}),nM=NI(function(e,t){e.assertVersion(7);var r=t.allowMutablePropsOnTags;if(null!=r&&!Array.isArray(r))throw new Error(".allowMutablePropsOnTags must be an array, null, or undefined.");var n=new WeakSet,a={enter:function(e,t){var r=function(){t.isImmutable=!1,e.stop()};if(e.isJSXClosingElement())e.skip();else{if(e.isJSXIdentifier({name:"ref"})&&e.parentPath.isJSXAttribute({name:e.node}))return r();if(!(e.isJSXIdentifier()||e.isIdentifier()||e.isJSXMemberExpression()||e.isImmutable())){if(e.isPure()){var n=e.evaluate();if(n.confident){var a=n.value;if(!(!t.mutablePropsAllowed&&a&&"object"==typeof a||"function"==typeof a))return void e.skip()}else if(he(n.deopt))return}r()}}}};return{name:"transform-react-constant-elements",visitor:{JSXElement:function(e){if(!n.has(e.node)){n.add(e.node);var t={isImmutable:!0};if(null!=r){for(var s=e.get("openingElement.name");s.isJSXMemberExpression();)s=s.get("property");var i=s.node.name;t.mutablePropsAllowed=r.indexOf(i)>-1}e.traverse(a,t),t.isImmutable&&e.hoist()}}}}}),aM=NI(function(e){function t(e,t){for(var r=t.arguments[0].properties,n=!0,a=0;a<r.length;a++){if(lr(Yf(r[a]),{value:"displayName"})){n=!1;break}}n&&r.unshift(Fl(wl("displayName"),jl(e)))}e.assertVersion(7);var r=Er("React.createClass");function n(e){if(!e||!ne(e))return!1;if(!r(e.callee)&&"createReactClass"!==e.callee.name)return!1;var t=e.arguments;return 1===t.length&&!!je(t[0])}return{name:"transform-react-display-name",visitor:{ExportDefaultDeclaration:function(e,r){var a=e.node;if(n(a.declaration)){var s=r.filename||"unknown",i=uA.basename(s,uA.extname(s));"index"===i&&(i=uA.basename(uA.dirname(s))),t(i,a.declaration)}},CallExpression:function(e){var r,a=e.node;n(a)&&(e.find(function(e){if(e.isAssignmentExpression())r=e.node.left;else if(e.isObjectProperty())r=e.node.key;else if(e.isVariableDeclarator())r=e.node.id;else if(e.isStatement())return!0;if(r)return!0}),r&&(we(r)&&(r=r.property),he(r)&&t(r.name,a)))}}}});function sM(e){var t={JSXNamespacedName:function(t){if(e.throwIfNamespace)throw t.buildCodeFrameError("Namespace tags are not supported by default. React's JSX doesn't support namespace tags. You can set `throwIfNamespace: false` to bypass this warning.")},JSXSpreadChild:function(e){throw e.buildCodeFrameError("Spread children are not supported in React.")}};return t.JSXElement={exit:function(t,a){var s=function(t,a){if(e.filter&&!e.filter(t.node,a))return;var s=t.get("openingElement");s.parent.children=kh.buildChildren(s.parent);var i,o=function e(t,r){if(Dt(t)){if("this"===t.name&&Sh(t,r))return Gl();if(!Ci(t.name,!1))return jl(t.name);t.type="Identifier"}else{if(_t(t))return _l(e(t.object,t),e(t.property,t));if(It(t))return jl(t.namespace.name+":"+t.name.name)}return t}(s.node.name,s.node),l=[];he(o)?i=o.name:lr(o)&&(i=o.value);var c={tagExpr:o,tagName:i,args:l,pure:!1};e.pre&&e.pre(c,a);var u=s.node.attributes;u=u.length?function(e,t){var a=[],s=[],i=t.opts.useSpread,o=void 0!==i&&i;if("boolean"!=typeof o)throw new Error("transform-react-jsx currently only accepts a boolean option for useSpread (defaults to false)");var l=t.opts.useBuiltIns||!1;if("boolean"!=typeof l)throw new Error("transform-react-jsx currently only accepts a boolean option for useBuiltIns (defaults to false)");if(o&&l)throw new Error("transform-react-jsx currently only accepts useBuiltIns or useSpread but not both");if(o){return Nl(e.map(r))}for(;e.length;){var c=e.shift();Ot(c)?(a=n(a,s),s.push(c.argument)):a.push(r(c))}if(n(a,s),1===s.length)e=s[0];else{je(s[0])||s.unshift(Nl([])),e=cl(l?_l(wl("Object"),wl("assign")):t.addHelper("extends"),s)}return e}(u,a):Pl();l.push.apply(l,[u].concat(t.node.children)),e.post&&e.post(c,a);var p=c.call||cl(c.callee,l);c.pure&&uO(p);return p}(t,a);s&&t.replaceWith(gh(s,t.node))}},t.JSXFragment={exit:function(t,r){if(e.compat)throw t.buildCodeFrameError("Fragment tags are only supported in React 16 and up.");var n=function(t,r){if(e.filter&&!e.filter(t.node,r))return;var n=t.get("openingElement");n.parent.children=kh.buildChildren(n.parent);var a=[],s=null,i={tagExpr:r.get("jsxFragIdentifier")(),tagName:s,args:a,pure:!1};e.pre&&e.pre(i,r);a.push.apply(a,[Pl()].concat(t.node.children)),e.post&&e.post(i,r);r.set("usedFragment",!0);var o=i.call||cl(i.callee,a);i.pure&&uO(o);return o}(t,r);n&&t.replaceWith(gh(n,t.node))}},t;function r(e){var t,r=function(e){return Ct(e)?e.expression:e}(e.value||kl(!0));if(Ot(e))return yc(e.argument);ge(r)&&!Ct(e.value)&&(r.value=r.value.replace(/\n\s+/g," "),null==(t=r.extra)||delete t.raw);return It(e.name)?e.name=jl(e.name.namespace.name+":"+e.name.name.name):Ci(e.name.name,!1)?e.name.type="Identifier":e.name=jl(e.name.name),gh(Fl(e.name,r),e)}function n(e,t){return e.length?(t.push(Nl(e)),[]):e}}var iM=NI(function(e){function t(e,t){return At(e)&&Dt(e.name,{name:t})}return e.assertVersion(7),{name:"transform-react-inline-elements",visitor:sM({filter:function(e){return e.openingElement&&!function(e){for(var r=0;r<e.length;r++){var n=e[r];if(Ot(n))return!0;if(t(n,"ref"))return!0}return!1}(e.openingElement.attributes)},pre:function(e){var t=e.tagName,r=e.args;kh.isCompatTag(t)?r.push(jl(t)):r.push(e.tagExpr)},post:function(e,t){e.callee=t.addHelper("jsx");var r=e.args[1],n=!1;if(je(r)){var a=r.properties.findIndex(function(e){return he(e.key,{name:"key"})});a>-1&&(e.args.splice(2,0,r.properties[a].value),r.properties.splice(a,1),n=!0)}else be(r)&&e.args.splice(1,1,Nl([]));!n&&e.args.length>2&&e.args.splice(2,0,zl("void",Al(0))),e.pure=!0}})}}),oM="React.createElement",lM="React.Fragment",cM=NI(function(e,t){var r=void 0===t.throwIfNamespace||!!t.throwIfNamespace,n=t.pragma||oM,a=t.pragmaFrag||lM,s=t.pure,i=/\*?\s*@jsx\s+([^\s]+)/,o=/\*?\s*@jsxFrag\s+([^\s]+)/,l=function(e){return function(){return e.split(".").map(function(e){return wl(e)}).reduce(function(e,t){return _l(e,t)})}},c=sM({pre:function(e){var t=e.tagName,r=e.args;kh.isCompatTag(t)?r.push(jl(t)):r.push(e.tagExpr)},post:function(e,t){e.callee=t.get("jsxIdentifier")(),e.pure=null!=s?s:t.get("pragma")===oM},throwIfNamespace:r});return c.Program={enter:function(e,r){var s=r.file,c=n,u=a,p=!!t.pragma,d=!!t.pragma;if(s.ast.comments)for(var f=0,h=s.ast.comments;f<h.length;f++){var m=h[f],y=i.exec(m.value);y&&(c=y[1],p=!0);var g=o.exec(m.value);g&&(u=g[1],d=!0)}r.set("jsxIdentifier",l(c)),r.set("jsxFragIdentifier",l(u)),r.set("usedFragment",!1),r.set("pragma",c),r.set("pragmaSet",p),r.set("pragmaFragSet",d)},exit:function(e,t){if(t.get("pragmaSet")&&t.get("usedFragment")&&!t.get("pragmaFragSet"))throw new Error("transform-react-jsx: pragma has been set but pragmaFrag has not been set")}},c.JSXAttribute=function(e){Pt(e.node.value)&&(e.node.value=Wu(e.node.value))},{name:"transform-react-jsx",inherits:YI,visitor:c}}),uM="react",pM="automatic",dM="React.createElement",fM="React.Fragment";function hM(e,t){var r="_jsxFileName",n=/\*?\s*@jsxImportSource\s+([^\s]+)/,a=/\*?\s*@jsxRuntime\s+([^\s]+)/,s=/\*?\s*@jsx\s+([^\s]+)/,i=/\*?\s*@jsxFrag\s+([^\s]+)/,o=t.development?3:4,l=t.importSource,c=void 0===l?uM:l,u=t.runtime,p=void 0===u?pM:u,d=t.pragma,f=void 0===d?dM:d,h=t.pragmaFrag,m=void 0===h?fM:h,y={JSXOpeningElement:function(e,t){for(var n,a=U(e.get("attributes"));!(n=a()).done;){var s=n.value;if(s.isJSXElement()){var i=s.node.name.name;if("__source"===i||"__self"===i)throw e.buildCodeFrameError("__source and __self should not be defined in props and are reserved for internal usage.")}}var o=Ru(Gu("__source"),Wu(function(e,t){var n=e.node.loc;if(!n)return e.scope.buildUndefinedNode();if(!t.fileNameIdentifier){var a=t.filename,s=void 0===a?"":a,i=e.scope.generateUidIdentifier(r),o=e.hub.getScope();o&&o.push({id:i,init:jl(s)}),t.fileNameIdentifier=i}return function(e,t,r){var n=null!=t?Al(t):Pl(),a=null!=r?Al(r+1):Pl(),s=Fl(wl("fileName"),e),i=Fl(wl("lineNumber"),n),o=Fl(wl("columnNumber"),a);return Nl([s,i,o])}(Gd(t.fileNameIdentifier),n.start.line,n.start.column)}(e,t))),l=Ru(Gu("__self"),Wu(Gl()));e.pushContainer("attributes",[o,l])}};return{JSXNamespacedName:function(e,t){if(void 0===t.opts.throwIfNamespace||!!t.opts.throwIfNamespace)throw e.buildCodeFrameError("Namespace tags are not supported by default. React's JSX doesn't support namespace tags. You can set `throwIfNamespace: false` to bypass this warning.")},JSXSpreadChild:function(e){throw e.buildCodeFrameError("Spread children are not supported in React.")},JSXElement:{exit:function(e,r){var n;n="classic"===r.get("@babel/plugin-react-jsx/runtime")||g(e)?function(e,r){var n=e.get("openingElement");n.parent.children=kh.buildChildren(n.parent);var a,s=E(n.node.name,n.node),i=[];he(s)?a=s.name:lr(s)&&(a=s.value);var o={tagExpr:s,tagName:a,args:i,pure:!1};t.pre&&t.pre(o,r);var l=function(e,r){for(var n,a=[],s=Object.create(null),i=U(r);!(n=i()).done;){var o=n.value,l=At(o)&&Dt(o.name)&&o.name.name;if("__source"===l||"__self"===l){if(s[l])throw T(e,l);if(s[l]=!0,!t.development)continue}a.push(S(o))}return a.length>0?Nl(a):Pl()}(e,n.node.attributes);i.push.apply(i,[l].concat(e.node.children)),t.post&&t.post(o,r);var c=o.call||cl(o.createElementCallee,i);o.pure&&uO(c);return c}(e,r):function(e,r){var n=e.get("openingElement");n.parent.children=kh.buildChildren(n.parent);var a,s=E(n.node.name,n.node),i=[];he(s)?a=s.name:lr(s)&&(a=s.value);var o={tagExpr:s,tagName:a,args:i,pure:!1};t.pre&&t.pre(o,r);for(var l,c,u,p,d=[],f=Object.create(null),h=U(n.get("attributes"));!(l=h()).done;){var m=l.value;if(m.isJSXAttribute()&&Dt(m.node.name)){var y=m.node.name.name;switch(y){case"__source":case"__self":if(f[y])throw T(e,y);case"key":f[y]=w(m.node.value);break;default:d.push(m.node)}}else d.push(m.node)}d=d.length||e.node.children.length?function(e,t,r){var n=e.map(S);r&&r.length>0&&(1===r.length?n.push(Fl(wl("children"),r[0])):n.push(Fl(wl("children"),tl(r))));return Nl(n)}(d,0,e.node.children):Nl([]);i.push(d),t.development?i.push(null!=(c=f.key)?c:e.scope.buildUndefinedNode(),kl(e.node.children.length>1),null!=(u=f.__source)?u:e.scope.buildUndefinedNode(),null!=(p=f.__self)?p:Gl()):void 0!==f.key&&i.push(f.key);t.post&&t.post(o,r);var g=o.call||cl(e.node.children.length>1?o.jsxStaticCallee:o.jsxCallee,i);o.pure&&uO(g);return g}(e,r),e.replaceWith(gh(n,e.node))}},JSXFragment:{exit:function(e,r){var n;n="classic"===r.get("@babel/plugin-react-jsx/runtime")?function(e,r){if(t.filter&&!t.filter(e.node,r))return;var n=e.get("openingElement");n.parent.children=kh.buildChildren(n.parent);var a=[],s=null,i={tagExpr:r.get("@babel/plugin-react-jsx/jsxFragIdentifier")(),tagName:s,args:a,pure:!1};t.pre&&t.pre(i,r);a.push.apply(a,[Pl()].concat(e.node.children)),t.post&&t.post(i,r);r.set("@babel/plugin-react-jsx/usedFragment",!0);var o=i.call||cl(i.createElementCallee,a);i.pure&&uO(o);return o}(e,r):function(e,r){var n=e.get("openingElement");n.parent.children=kh.buildChildren(n.parent);var a,s=[],i=null,o={tagExpr:r.get("@babel/plugin-react-jsx/jsxFragIdentifier")(),tagName:i,args:s,pure:!1};t.pre&&t.pre(o,r);e.node.children.length>0&&(a=1===e.node.children.length?e.node.children[0]:tl(e.node.children));s.push(Nl(void 0!==a?[Fl(wl("children"),a)]:[])),t.development&&s.push(e.scope.buildUndefinedNode(),kl(e.node.children.length>1));t.post&&t.post(o,r);var l=o.call||cl(e.node.children.length>1?o.jsxStaticCallee:o.jsxCallee,s);o.pure&&uO(l);return l}(e,r),e.replaceWith(gh(n,e.node))}},JSXAttribute:function(e){Pt(e.node.value)&&(e.node.value=Wu(e.node.value))},Program:{enter:function(e,r){if(O=!1,e.traverse({"JSXElement|JSXFragment":function(e){O=!0,e.stop()}}),O){var l=r.file,u=p,d=c,h=!!t.importSource,E=f,w=m,S=!!t.pragma,T=!!t.pragmaFrag;if(l.ast.comments)for(var j=0,A=l.ast.comments;j<A.length;j++){var P=A[j],k=n.exec(P.value);k&&(d=k[1],h=!0);var C=a.exec(P.value);C&&(u=C[1]);var D=s.exec(P.value);D&&(E=D[1],S=!0);var _=i.exec(P.value);_&&(w=_[1],T=!0)}if(r.set("@babel/plugin-react-jsx/runtime",u),"classic"===u){if(h)throw e.buildCodeFrameError("importSource cannot be set when runtime is classic.");r.set("@babel/plugin-react-jsx/createElementIdentifier",x(E)),r.set("@babel/plugin-react-jsx/jsxFragIdentifier",x(w)),r.set("@babel/plugin-react-jsx/usedFragment",!1),r.set("@babel/plugin-react-jsx/pragmaSet",E!==dM),r.set("@babel/plugin-react-jsx/pragmaFragSet",w!==fM)}else{if("automatic"!==u)throw e.buildCodeFrameError('Runtime must be either "classic" or "automatic".');if(S||T)throw e.buildCodeFrameError("pragma and pragmaFrag cannot be set when runtime is automatic.");var I=function(e,r){var n=function(e){var r=new Set;return e.traverse({"JSXElement|JSXFragment":function(e){"JSXFragment"===e.type&&r.add("Fragment");var n,a=e.get("openingElement"),s=kh.buildChildren(a.parent);n="JSXElement"===e.type&&g(e)?"createElement":t.development?"jsxDEV":s.length>1?"jsxs":"jsx",r.add(n),r.size===o&&e.stop()}}),r}(e);if(Ij(e)){var a={};return n.forEach(function(t){a[t]||(a[t]=Nj(e,t,b(r.source,t),{importedInterop:"uncompiled",ensureLiveReference:!0}).name)}),a}var s={},i={};return n.forEach(function(t){var n=b(r.source,t);s[t]||(i[n]||(i[n]=function(e,t,r){return new Oj(e).addNamespace(t,r)}(e,n,{importedInterop:"uncompiled",ensureLiveReference:!0}).name),s[t]=i[n])}),s}(e,Object.assign({},r.opts,{source:d}));r.set("@babel/plugin-react-jsx/jsxIdentifier",x(v(e,t.development?"jsxDEV":"jsx",I))),r.set("@babel/plugin-react-jsx/jsxStaticIdentifier",x(v(e,t.development?"jsxDEV":"jsxs",I))),r.set("@babel/plugin-react-jsx/createElementIdentifier",x(v(e,"createElement",I))),r.set("@babel/plugin-react-jsx/jsxFragIdentifier",x(v(e,"Fragment",I))),
r.set("@babel/plugin-react-jsx/importSourceSet",d!==uM)}t.development&&e.traverse(y,r)}var O},exit:function(e,t){if("classic"===t.get("@babel/plugin-react-jsx/runtime")&&t.get("@babel/plugin-react-jsx/pragmaSet")&&t.get("@babel/plugin-react-jsx/usedFragment")&&!t.get("@babel/plugin-react-jsx/pragmaFragSet"))throw new Error("transform-react-jsx: pragma has been set but pragmaFrag has not been set")}}};function g(e){for(var t=e.get("openingElement").node.attributes,r=!1,n=0;n<t.length;n++){var a=t[n];if(r&&At(a)&&"key"===a.name.name)return!0;Ot(a)&&(r=!0)}return!1}function v(e,t,r){return Ij(e)?""+r[t]:r[t]+"."+t}function b(e,r){switch(r){case"Fragment":return e+"/"+(t.development?"jsx-dev-runtime":"jsx-runtime");case"jsxDEV":return e+"/jsx-dev-runtime";case"jsx":case"jsxs":return e+"/jsx-runtime";case"createElement":return e}}function x(e){return function(){return e.split(".").map(function(e){return wl(e)}).reduce(function(e,t){return _l(e,t)})}}function E(e,t){if(Dt(e)){if("this"===e.name&&Sh(e,t))return Gl();if(!Ci(e.name,!1))return jl(e.name);e.type="Identifier"}else{if(_t(e))return _l(E(e.object,e),E(e.property,e));if(It(e))return jl(e.namespace.name+":"+e.name.name)}return e}function w(e){return Ct(e)?e.expression:e}function S(e){var t=w(e.value||kl(!0));return Ot(e)?yc(e.argument):(ge(t)&&!Ct(e.value)&&(t.value=t.value.replace(/\n\s+/g," "),t.extra&&t.extra.raw&&delete t.extra.raw),It(e.name)?e.name=jl(e.name.namespace.name+":"+e.name.name.name):Ci(e.name.name,!1)?e.name.type="Identifier":e.name=jl(e.name.name),gh(Fl(e.name,t),e))}function T(e,t){var r="transform-react-jsx-"+t.slice(2);return e.buildCodeFrameError("Duplicate "+t+" prop found. You are most likely using the deprecated "+r+" Babel plugin. Both __source and __self are automatically set when using the automatic runtime. Please remove transform-react-jsx-source and transform-react-jsx-self from your Babel config.")}}var mM=NI(function(e,t){var r=t.pure,n=hM(0,Object.assign({pre:function(e){var t=e.tagName,r=e.args;kh.isCompatTag(t)?r.push(jl(t)):r.push(e.tagExpr)},post:function(e,t){"classic"===t.get("@babel/plugin-react-jsx/runtime")?(e.createElementCallee=t.get("@babel/plugin-react-jsx/createElementIdentifier")(),e.pure=null!=r?r:!t.get("@babel/plugin-react-jsx/pragmaSet")):(e.jsxCallee=t.get("@babel/plugin-react-jsx/jsxIdentifier")(),e.jsxStaticCallee=t.get("@babel/plugin-react-jsx/jsxStaticIdentifier")(),e.createElementCallee=t.get("@babel/plugin-react-jsx/createElementIdentifier")(),e.pure=null!=r?r:!t.get("@babel/plugin-react-jsx/importSourceSet"))}},t,{development:!1}));return{name:"transform-react-jsx",inherits:YI,visitor:n}}),yM=NI(function(e,t){var r=t.runtime;return"classic"===(void 0===r?"classic":r)?cM(e,t):mM(e,t)}),gM=NI(function(e){return e.assertVersion(7),{name:"transform-react-jsx-compat",manipulateOptions:function(e,t){t.plugins.push("jsx")},visitor:sM({pre:function(e){e.callee=e.tagExpr},post:function(e){kh.isCompatTag(e.tagName)&&(e.call=cl(_l(_l(wl("React"),wl("DOM")),e.tagExpr,lr(e.tagExpr)),e.args))},compat:!0})}}),vM=NI(function(e,t){var r=t.pure,n=hM(0,Object.assign({pre:function(e){var t=e.tagName,r=e.args;kh.isCompatTag(t)?r.push(jl(t)):r.push(e.tagExpr)},post:function(e,t){"classic"===t.get("@babel/plugin-react-jsx/runtime")?(e.createElementCallee=t.get("@babel/plugin-react-jsx/createElementIdentifier")(),e.pure=null!=r?r:!t.get("@babel/plugin-react-jsx/pragmaSet")):(e.jsxCallee=t.get("@babel/plugin-react-jsx/jsxIdentifier")(),e.jsxStaticCallee=t.get("@babel/plugin-react-jsx/jsxStaticIdentifier")(),e.createElementCallee=t.get("@babel/plugin-react-jsx/createElementIdentifier")(),e.pure=null!=r?r:!t.get("@babel/plugin-react-jsx/importSourceSet"))}},t,{development:!0}));return{name:"transform-react-jsx",inherits:YI,visitor:n}}),bM=NI(function(e){e.assertVersion(7);var t={JSXOpeningElement:function(e){var t=e.node,r=Gu("__self"),n=Gl();t.attributes.push(Ru(r,Wu(n)))}};return{name:"transform-react-jsx-self",visitor:{Program:function(e){e.traverse(t)}}}}),xM="__source",EM=NI(function(e){return e.assertVersion(7),{name:"transform-react-jsx-source",visitor:{JSXOpeningElement:function(e,t){var r=Gu(xM),n=e.container.openingElement.loc;if(n){for(var a=e.container.openingElement.attributes,s=0;s<a.length;s++){var i=a[s].name;if((null==i?void 0:i.name)===xM)return}if(!t.fileNameIdentifier){var o=t.filename||"",l=e.scope.generateUidIdentifier("_jsxFileName"),c=e.hub.getScope();c&&c.push({id:l,init:jl(o)}),t.fileNameIdentifier=l}var u=function(e,t,r){var n=null!=t?Al(t):Pl(),a=null!=r?Al(r+1):Pl();return Nl([Fl(wl("fileName"),e),Fl(wl("lineNumber"),n),Fl(wl("columnNumber"),a)])}(Gd(t.fileNameIdentifier),n.start.line,n.start.column);a.push(Ru(r,Wu(u)))}}}}}),wM=Lr(function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(r)}e.exports=t}),SM=Lr(function(e){function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==wM(e)&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}}),TM=Lr(function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}}),jM=Lr(function(e,t){t.__esModule=!0,t.wrapWithTypes=function(e,t){return function(){var n=r;r=e;try{for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return t.apply(this,s)}finally{r=n}}},t.getTypes=n,t.runtimeProperty=function(e){var t=n();return t.memberExpression(t.identifier("regeneratorRuntime"),t.identifier(e),!1)},t.isReference=function(e){return e.isReferenced()||e.parentPath.isAssignmentExpression({left:e.node})},t.replaceWithOrRemove=function(e,t){t?e.replaceWith(t):e.remove()};var r=null;function n(){return r}}),AM=SM(jM),PM=Object.prototype.hasOwnProperty,kM=function(e){var t=AM.getTypes();t.assertFunction(e.node);var r={};function n(e,n){var a=e.node,s=e.scope;t.assertVariableDeclaration(a);var i=[];return a.declarations.forEach(function(e){r[e.id.name]=t.identifier(e.id.name),s.removeBinding(e.id.name),e.init?i.push(t.assignmentExpression("=",e.id,e.init)):n&&i.push(e.id)}),0===i.length?null:1===i.length?i[0]:t.sequenceExpression(i)}e.get("body").traverse({VariableDeclaration:{exit:function(e){var r=n(e,!1);null===r?e.remove():AM.replaceWithOrRemove(e,t.expressionStatement(r)),e.skip()}},ForStatement:function(e){var t=e.get("init");t.isVariableDeclaration()&&AM.replaceWithOrRemove(t,n(t,!1))},ForXStatement:function(e){var t=e.get("left");t.isVariableDeclaration()&&AM.replaceWithOrRemove(t,n(t,!0))},FunctionDeclaration:function(e){var n=e.node;r[n.id.name]=n.id;var a=t.expressionStatement(t.assignmentExpression("=",t.clone(n.id),t.functionExpression(e.scope.generateUidIdentifierBasedOnNode(n),n.params,n.body,n.generator,n.expression)));e.parentPath.isBlockStatement()?(e.parentPath.unshiftContainer("body",a),e.remove()):AM.replaceWithOrRemove(e,a),e.scope.removeBinding(n.id.name),e.skip()},FunctionExpression:function(e){e.skip()},ArrowFunctionExpression:function(e){e.skip()}});var a={};e.get("params").forEach(function(e){var r=e.node;t.isIdentifier(r)&&(a[r.name]=r)});var s=[];return Object.keys(r).forEach(function(e){PM.call(a,e)||s.push(t.variableDeclarator(r[e],null))}),0===s.length?null:t.variableDeclaration("var",s)},CM=TM(aj);function DM(){CM.default.ok(this instanceof DM)}function _M(e){DM.call(this),(0,jM.getTypes)().assertLiteral(e),this.returnLoc=e}JT(_M,DM);var IM=_M;function OM(e,t,r){DM.call(this);var n=(0,jM.getTypes)();n.assertLiteral(e),n.assertLiteral(t),r?n.assertIdentifier(r):r=null,this.breakLoc=e,this.continueLoc=t,this.label=r}JT(OM,DM);var NM=OM;function BM(e){DM.call(this),(0,jM.getTypes)().assertLiteral(e),this.breakLoc=e}JT(BM,DM);var FM=BM;function RM(e,t,r){DM.call(this),(0,jM.getTypes)().assertLiteral(e),t?CM.default.ok(t instanceof LM):t=null,r?CM.default.ok(r instanceof WM):r=null,CM.default.ok(t||r),this.firstLoc=e,this.catchEntry=t,this.finallyEntry=r}JT(RM,DM);var MM=RM;function LM(e,t){DM.call(this);var r=(0,jM.getTypes)();r.assertLiteral(e),r.assertIdentifier(t),this.firstLoc=e,this.paramId=t}JT(LM,DM);var UM=LM;function WM(e,t){DM.call(this);var r=(0,jM.getTypes)();r.assertLiteral(e),r.assertLiteral(t),this.firstLoc=e,this.afterLoc=t}JT(WM,DM);var VM=WM;function GM(e,t){DM.call(this);var r=(0,jM.getTypes)();r.assertLiteral(e),r.assertIdentifier(t),this.breakLoc=e,this.label=t}JT(GM,DM);var KM=GM;function HM(e){CM.default.ok(this instanceof HM),CM.default.ok(e instanceof _L.Emitter),this.emitter=e,this.entryStack=[new _M(e.finalLoc)]}var zM=HM.prototype,qM=HM;zM.withEntry=function(e,t){CM.default.ok(e instanceof DM),this.entryStack.push(e);try{t.call(this.emitter)}finally{var r=this.entryStack.pop();CM.default.strictEqual(r,e)}},zM._findLeapLocation=function(e,t){for(var r=this.entryStack.length-1;r>=0;--r){var n=this.entryStack[r],a=n[e];if(a)if(t){if(n.label&&n.label.name===t.name)return a}else if(!(n instanceof GM))return a}return null},zM.getBreakLoc=function(e){return this._findLeapLocation("breakLoc",e)},zM.getContinueLoc=function(e){return this._findLeapLocation("continueLoc",e)};var XM={FunctionEntry:IM,LoopEntry:NM,SwitchEntry:FM,TryEntry:MM,CatchEntry:UM,FinallyEntry:VM,LabeledEntry:KM,LeapManager:qM},JM=Object,YM=Object.defineProperty,$M=Object.create;function QM(e,t,r){if(YM)try{YM.call(JM,e,t,{value:r})}catch(n){e[t]=r}else e[t]=r}function ZM(e){return e&&(QM(e,"call",e.call),QM(e,"apply",e.apply)),e}ZM(YM),ZM($M);var eL=ZM(Object.prototype.hasOwnProperty),tL=ZM(Number.prototype.toString),rL=ZM(String.prototype.slice),nL=function(){};function aL(e){return $M?$M.call(JM,e):(nL.prototype=e||null,new nL)}var sL=Math.random,iL=aL(null);function oL(){do{var e=lL(rL.call(tL.call(sL(),36),2))}while(eL.call(iL,e));return iL[e]=e}function lL(e){var t={};return t[e]=!0,Object.keys(t)[0]}var cL=Object.getOwnPropertyNames;function uL(e){return aL(null)}Object.getOwnPropertyNames=function(e){for(var t=cL(e),r=0,n=0,a=t.length;r<a;++r)eL.call(iL,t[r])||(r>n&&(t[n]=t[r]),++n);return t.length=n,t};var pL=function(e){var t=oL(),r=aL(null);function n(n){return eL.call(n,t)||function(n){var a;QM(n,t,function(t,s){if(t===r)return s?a=null:a||(a=e(n))})}(n),n[t](r)}return e=e||uL,n.forget=function(e){eL.call(e,t)&&e[t](r,!0)},n},dL=TM(aj),fL=pL(),hL=Object.prototype.hasOwnProperty;function mL(e,t){function r(e){var t=(0,jM.getTypes)();t.assertNode(e);var r=!1;function a(e){return r||(Array.isArray(e)?e.some(a):t.isNode(e)&&(dL.default.strictEqual(r,!1),r=n(e))),r}var s=t.VISITOR_KEYS[e.type];if(s)for(var i=0;i<s.length;i++){a(e[s[i]])}return r}function n(n){(0,jM.getTypes)().assertNode(n);var a=fL(n);return hL.call(a,e)?a[e]:hL.call(yL,n.type)?a[e]=!1:hL.call(t,n.type)?a[e]=!0:a[e]=r(n)}return n.onlyChildren=r,n}var yL={FunctionExpression:!0,ArrowFunctionExpression:!0},gL={CallExpression:!0,ForInStatement:!0,UnaryExpression:!0,BinaryExpression:!0,AssignmentExpression:!0,UpdateExpression:!0,NewExpression:!0},vL={YieldExpression:!0,BreakStatement:!0,ContinueStatement:!0,ReturnStatement:!0,ThrowStatement:!0};for(var bL in vL)hL.call(vL,bL)&&(gL[bL]=vL[bL]);var xL={hasSideEffects:mL("hasSideEffects",gL),containsLeap:mL("containsLeap",vL)},EL=TM(aj),wL=SM(XM),SL=SM(xL),TL=SM(jM),jL=Object.prototype.hasOwnProperty;function AL(e){EL.default.ok(this instanceof AL),TL.getTypes().assertIdentifier(e),this.nextTempId=0,this.contextId=e,this.listing=[],this.marked=[!0],this.insertedLocs=new Set,this.finalLoc=this.loc(),this.tryEntries=[],this.leapManager=new wL.LeapManager(this)}var PL=AL.prototype,kL=AL;function CL(e){return new Error("all declarations should have been transformed into assignments before the Exploder began its work: "+JSON.stringify(e))}PL.loc=function(){var e=TL.getTypes().numericLiteral(-1);return this.insertedLocs.add(e),e},PL.getInsertedLocs=function(){return this.insertedLocs},PL.getContextId=function(){return TL.getTypes().clone(this.contextId)},PL.mark=function(e){TL.getTypes().assertLiteral(e);var t=this.listing.length;return-1===e.value?e.value=t:EL.default.strictEqual(e.value,t),this.marked[t]=!0,e},PL.emit=function(e){var t=TL.getTypes();t.isExpression(e)&&(e=t.expressionStatement(e)),t.assertStatement(e),this.listing.push(e)},PL.emitAssign=function(e,t){return this.emit(this.assign(e,t)),e},PL.assign=function(e,t){var r=TL.getTypes();return r.expressionStatement(r.assignmentExpression("=",r.cloneDeep(e),t))},PL.contextProperty=function(e,t){var r=TL.getTypes();return r.memberExpression(this.getContextId(),t?r.stringLiteral(e):r.identifier(e),!!t)},PL.stop=function(e){e&&this.setReturnValue(e),this.jump(this.finalLoc)},PL.setReturnValue=function(e){TL.getTypes().assertExpression(e.value),this.emitAssign(this.contextProperty("rval"),this.explodeExpression(e))},PL.clearPendingException=function(e,t){var r=TL.getTypes();r.assertLiteral(e);var n=r.callExpression(this.contextProperty("catch",!0),[r.clone(e)]);t?this.emitAssign(t,n):this.emit(n)},PL.jump=function(e){this.emitAssign(this.contextProperty("next"),e),this.emit(TL.getTypes().breakStatement())},PL.jumpIf=function(e,t){var r=TL.getTypes();r.assertExpression(e),r.assertLiteral(t),this.emit(r.ifStatement(e,r.blockStatement([this.assign(this.contextProperty("next"),t),r.breakStatement()])))},PL.jumpIfNot=function(e,t){var r,n=TL.getTypes();n.assertExpression(e),n.assertLiteral(t),r=n.isUnaryExpression(e)&&"!"===e.operator?e.argument:n.unaryExpression("!",e),this.emit(n.ifStatement(r,n.blockStatement([this.assign(this.contextProperty("next"),t),n.breakStatement()])))},PL.makeTempVar=function(){return this.contextProperty("t"+this.nextTempId++)},PL.getContextFunction=function(e){var t=TL.getTypes();return t.functionExpression(e||null,[this.getContextId()],t.blockStatement([this.getDispatchLoop()]),!1,!1)},PL.getDispatchLoop=function(){var e,t=this,r=TL.getTypes(),n=[],a=!1;return t.listing.forEach(function(s,i){t.marked.hasOwnProperty(i)&&(n.push(r.switchCase(r.numericLiteral(i),e=[])),a=!1),a||(e.push(s),r.isCompletionStatement(s)&&(a=!0))}),this.finalLoc.value=this.listing.length,n.push(r.switchCase(this.finalLoc,[]),r.switchCase(r.stringLiteral("end"),[r.returnStatement(r.callExpression(this.contextProperty("stop"),[]))])),r.whileStatement(r.numericLiteral(1),r.switchStatement(r.assignmentExpression("=",this.contextProperty("prev"),this.contextProperty("next")),n))},PL.getTryLocsList=function(){if(0===this.tryEntries.length)return null;var e=TL.getTypes(),t=0;return e.arrayExpression(this.tryEntries.map(function(r){var n=r.firstLoc.value;EL.default.ok(n>=t,"try entries out of order"),t=n;var a=r.catchEntry,s=r.finallyEntry,i=[r.firstLoc,a?a.firstLoc:null];return s&&(i[2]=s.firstLoc,i[3]=s.afterLoc),e.arrayExpression(i.map(function(t){return t&&e.clone(t)}))}))},PL.explode=function(e,t){var r=TL.getTypes(),n=e.node,a=this;if(r.assertNode(n),r.isDeclaration(n))throw CL(n);if(r.isStatement(n))return a.explodeStatement(e);if(r.isExpression(n))return a.explodeExpression(e,t);switch(n.type){case"Program":return e.get("body").map(a.explodeStatement,a);case"VariableDeclarator":throw CL(n);case"Property":case"SwitchCase":case"CatchClause":throw new Error(n.type+" nodes should be handled by their parents");default:throw new Error("unknown Node of type "+JSON.stringify(n.type))}},PL.explodeStatement=function(e,t){var r,n,a,s=TL.getTypes(),i=e.node,o=this;if(s.assertStatement(i),t?s.assertIdentifier(t):t=null,s.isBlockStatement(i))e.get("body").forEach(function(e){o.explodeStatement(e)});else if(SL.containsLeap(i))switch(i.type){case"ExpressionStatement":o.explodeExpression(e.get("expression"),!0);break;case"LabeledStatement":n=this.loc(),o.leapManager.withEntry(new wL.LabeledEntry(n,i.label),function(){o.explodeStatement(e.get("body"),i.label)}),o.mark(n);break;case"WhileStatement":r=this.loc(),n=this.loc(),o.mark(r),o.jumpIfNot(o.explodeExpression(e.get("test")),n),o.leapManager.withEntry(new wL.LoopEntry(n,r,t),function(){o.explodeStatement(e.get("body"))}),o.jump(r),o.mark(n);break;case"DoWhileStatement":var l=this.loc(),c=this.loc();n=this.loc(),o.mark(l),o.leapManager.withEntry(new wL.LoopEntry(n,c,t),function(){o.explode(e.get("body"))}),o.mark(c),o.jumpIf(o.explodeExpression(e.get("test")),l),o.mark(n);break;case"ForStatement":a=this.loc();var u=this.loc();n=this.loc(),i.init&&o.explode(e.get("init"),!0),o.mark(a),i.test&&o.jumpIfNot(o.explodeExpression(e.get("test")),n),o.leapManager.withEntry(new wL.LoopEntry(n,u,t),function(){o.explodeStatement(e.get("body"))}),o.mark(u),i.update&&o.explode(e.get("update"),!0),o.jump(a),o.mark(n);break;case"TypeCastExpression":return o.explodeExpression(e.get("expression"));case"ForInStatement":a=this.loc(),n=this.loc();var p=o.makeTempVar();o.emitAssign(p,s.callExpression(TL.runtimeProperty("keys"),[o.explodeExpression(e.get("right"))])),o.mark(a);var d=o.makeTempVar();o.jumpIf(s.memberExpression(s.assignmentExpression("=",d,s.callExpression(s.cloneDeep(p),[])),s.identifier("done"),!1),n),o.emitAssign(i.left,s.memberExpression(s.cloneDeep(d),s.identifier("value"),!1)),o.leapManager.withEntry(new wL.LoopEntry(n,a,t),function(){o.explodeStatement(e.get("body"))}),o.jump(a),o.mark(n);break;case"BreakStatement":o.emitAbruptCompletion({type:"break",target:o.leapManager.getBreakLoc(i.label)});break;case"ContinueStatement":o.emitAbruptCompletion({type:"continue",target:o.leapManager.getContinueLoc(i.label)});break;case"SwitchStatement":var f=o.emitAssign(o.makeTempVar(),o.explodeExpression(e.get("discriminant")));n=this.loc();for(var h=this.loc(),m=h,y=[],g=i.cases||[],v=g.length-1;v>=0;--v){var b=g[v];s.assertSwitchCase(b),b.test?m=s.conditionalExpression(s.binaryExpression("===",s.cloneDeep(f),b.test),y[v]=this.loc(),m):y[v]=h}var x=e.get("discriminant");TL.replaceWithOrRemove(x,m),o.jump(o.explodeExpression(x)),o.leapManager.withEntry(new wL.SwitchEntry(n),function(){e.get("cases").forEach(function(e){var t=e.key;o.mark(y[t]),e.get("consequent").forEach(function(e){o.explodeStatement(e)})})}),o.mark(n),-1===h.value&&(o.mark(h),EL.default.strictEqual(n.value,h.value));break;case"IfStatement":var E=i.alternate&&this.loc();n=this.loc(),o.jumpIfNot(o.explodeExpression(e.get("test")),E||n),o.explodeStatement(e.get("consequent")),E&&(o.jump(n),o.mark(E),o.explodeStatement(e.get("alternate"))),o.mark(n);break;case"ReturnStatement":o.emitAbruptCompletion({type:"return",value:o.explodeExpression(e.get("argument"))});break;case"WithStatement":throw new Error("WithStatement not supported in generator functions.");case"TryStatement":n=this.loc();var w=i.handler,S=w&&this.loc(),T=S&&new wL.CatchEntry(S,w.param),j=i.finalizer&&this.loc(),A=j&&new wL.FinallyEntry(j,n),P=new wL.TryEntry(o.getUnmarkedCurrentLoc(),T,A);o.tryEntries.push(P),o.updateContextPrevLoc(P.firstLoc),o.leapManager.withEntry(P,function(){if(o.explodeStatement(e.get("block")),S){j?o.jump(j):o.jump(n),o.updateContextPrevLoc(o.mark(S));var t=e.get("handler.body"),r=o.makeTempVar();o.clearPendingException(P.firstLoc,r),t.traverse(DL,{getSafeParam:function(){return s.cloneDeep(r)},catchParamName:w.param.name}),o.leapManager.withEntry(T,function(){o.explodeStatement(t)})}j&&(o.updateContextPrevLoc(o.mark(j)),o.leapManager.withEntry(A,function(){o.explodeStatement(e.get("finalizer"))}),o.emit(s.returnStatement(s.callExpression(o.contextProperty("finish"),[A.firstLoc]))))}),o.mark(n);break;case"ThrowStatement":o.emit(s.throwStatement(o.explodeExpression(e.get("argument"))));break;default:throw new Error("unknown Statement of type "+JSON.stringify(i.type))}else o.emit(i)};var DL={Identifier:function(e,t){e.node.name===t.catchParamName&&TL.isReference(e)&&TL.replaceWithOrRemove(e,t.getSafeParam())},Scope:function(e,t){e.scope.hasOwnBinding(t.catchParamName)&&e.skip()}};PL.emitAbruptCompletion=function(e){(function(e){var t=e.type;if("normal"===t)return!jL.call(e,"target");if("break"===t||"continue"===t)return!jL.call(e,"value")&&TL.getTypes().isLiteral(e.target);if("return"===t||"throw"===t)return jL.call(e,"value")&&!jL.call(e,"target");return!1})(e)||EL.default.ok(!1,"invalid completion record: "+JSON.stringify(e)),EL.default.notStrictEqual(e.type,"normal","normal completions are not abrupt");var t=TL.getTypes(),r=[t.stringLiteral(e.type)];"break"===e.type||"continue"===e.type?(t.assertLiteral(e.target),r[1]=this.insertedLocs.has(e.target)?e.target:t.cloneDeep(e.target)):"return"!==e.type&&"throw"!==e.type||e.value&&(t.assertExpression(e.value),r[1]=this.insertedLocs.has(e.value)?e.value:t.cloneDeep(e.value)),this.emit(t.returnStatement(t.callExpression(this.contextProperty("abrupt"),r)))},PL.getUnmarkedCurrentLoc=function(){return TL.getTypes().numericLiteral(this.listing.length)},PL.updateContextPrevLoc=function(e){var t=TL.getTypes();e?(t.assertLiteral(e),-1===e.value?e.value=this.listing.length:EL.default.strictEqual(e.value,this.listing.length)):e=this.getUnmarkedCurrentLoc(),this.emitAssign(this.contextProperty("prev"),e)},PL.explodeExpression=function(e,t){var r=TL.getTypes(),n=e.node;if(!n)return n;r.assertExpression(n);var a,s,i=this;function o(e){if(r.assertExpression(e),!t)return e;i.emit(e)}if(!SL.containsLeap(n))return o(n);var l=SL.containsLeap.onlyChildren(n);function c(e,t,n){EL.default.ok(!n||!e,"Ignoring the result of a child expression but forcing it to be assigned to a temporary variable?");var a=i.explodeExpression(t,n);return n||(e||l&&!r.isLiteral(a))&&(a=i.emitAssign(e||i.makeTempVar(),a)),a}switch(n.type){case"MemberExpression":return o(r.memberExpression(i.explodeExpression(e.get("object")),n.computed?c(null,e.get("property")):n.property,n.computed));case"CallExpression":var u,p=e.get("callee"),d=e.get("arguments"),f=[],h=!1;if(d.forEach(function(e){h=h||SL.containsLeap(e.node)}),r.isMemberExpression(p.node))if(h){var m=c(i.makeTempVar(),p.get("object")),y=p.node.computed?c(null,p.get("property")):p.node.property;f.unshift(m),u=r.memberExpression(r.memberExpression(r.cloneDeep(m),y,p.node.computed),r.identifier("call"),!1)}else u=i.explodeExpression(p);else u=c(null,p),r.isMemberExpression(u)&&(u=r.sequenceExpression([r.numericLiteral(0),r.cloneDeep(u)]));return d.forEach(function(e){f.push(c(null,e))}),o(r.callExpression(u,f.map(function(e){return r.cloneDeep(e)})));case"NewExpression":return o(r.newExpression(c(null,e.get("callee")),e.get("arguments").map(function(e){return c(null,e)})));case"ObjectExpression":return o(r.objectExpression(e.get("properties").map(function(e){return e.isObjectProperty()?r.objectProperty(e.node.key,c(null,e.get("value")),e.node.computed):e.node})));case"ArrayExpression":return o(r.arrayExpression(e.get("elements").map(function(e){return c(null,e)})));case"SequenceExpression":var g=n.expressions.length-1;return e.get("expressions").forEach(function(e){e.key===g?a=i.explodeExpression(e,t):i.explodeExpression(e,!0)}),a;case"LogicalExpression":s=this.loc(),t||(a=i.makeTempVar());var v=c(a,e.get("left"));return"&&"===n.operator?i.jumpIfNot(v,s):(EL.default.strictEqual(n.operator,"||"),i.jumpIf(v,s)),c(a,e.get("right"),t),i.mark(s),a;case"ConditionalExpression":var b=this.loc();s=this.loc();var x=i.explodeExpression(e.get("test"));return i.jumpIfNot(x,b),t||(a=i.makeTempVar()),c(a,e.get("consequent"),t),i.jump(s),i.mark(b),c(a,e.get("alternate"),t),i.mark(s),a;case"UnaryExpression":return o(r.unaryExpression(n.operator,i.explodeExpression(e.get("argument")),!!n.prefix));case"BinaryExpression":return o(r.binaryExpression(n.operator,c(null,e.get("left")),c(null,e.get("right"))));case"AssignmentExpression":if("="===n.operator)return o(r.assignmentExpression(n.operator,i.explodeExpression(e.get("left")),i.explodeExpression(e.get("right"))));var E=i.explodeExpression(e.get("left")),w=i.emitAssign(i.makeTempVar(),E);return o(r.assignmentExpression("=",r.cloneDeep(E),r.assignmentExpression(n.operator,r.cloneDeep(w),i.explodeExpression(e.get("right")))));case"UpdateExpression":return o(r.updateExpression(n.operator,i.explodeExpression(e.get("argument")),n.prefix));case"YieldExpression":s=this.loc();var S=n.argument&&i.explodeExpression(e.get("argument"));if(S&&n.delegate){var T=i.makeTempVar(),j=r.returnStatement(r.callExpression(i.contextProperty("delegateYield"),[S,r.stringLiteral(T.property.name),s]));return j.loc=n.loc,i.emit(j),i.mark(s),T}i.emitAssign(i.contextProperty("next"),s);var A=r.returnStatement(r.cloneDeep(S)||null);return A.loc=n.loc,i.emit(A),i.mark(s),i.contextProperty("sent");default:throw new Error("unknown Expression of type "+JSON.stringify(n.type))}};var _L={Emitter:kL},IL=Lr(function(e,t){t.__esModule=!0,t.default=function(e){var t=r.getTypes();if(!e.node||!t.isFunction(e.node))throw new Error("replaceShorthandObjectMethod can only be called on Function AST node paths.");if(!t.isObjectMethod(e.node))return e;if(!e.node.generator)return e;var n=e.node.params.map(function(e){return t.cloneDeep(e)}),a=t.functionExpression(null,n,t.cloneDeep(e.node.body),e.node.generator,e.node.async);return r.replaceWithOrRemove(e,t.objectProperty(t.cloneDeep(e.node.key),a,e.node.computed,!1)),e.get("value")};var r=SM(jM)}),OL=TM(aj),NL=TM(IL),BL=SM(jM);function FL(e,t){return e.generator?e.async?!1!==t.opts.asyncGenerators:!1!==t.opts.generators:!!e.async&&!1!==t.opts.async}var RL=pL();var ML={"FunctionExpression|FunctionDeclaration|Method":function(e){e.skip()},Identifier:function(e,t){"arguments"===e.node.name&&BL.isReference(e)&&(BL.replaceWithOrRemove(e,t.getArgsId()),t.usesArguments=!0)},ThisExpression:function(e,t){t.usesThis=!0}},LL={MetaProperty:function(e){var t=e.node;if("function"===t.meta.name&&"sent"===t.property.name){var r=BL.getTypes();BL.replaceWithOrRemove(e,r.memberExpression(r.clone(this.context),r.identifier("_sent")))}}},UL={Function:function(e){e.skip()},AwaitExpression:function(e){var t=BL.getTypes(),r=e.node.argument;BL.replaceWithOrRemove(e,t.yieldExpression(t.callExpression(BL.runtimeProperty("awrap"),[r]),!1))}},WL=function(e){var t=e.types;return{Method:function(e,r){var n=e.node;if(FL(n,r)){var a=t.functionExpression(null,[],t.cloneNode(n.body,!1),n.generator,n.async);e.get("body").set("body",[t.returnStatement(t.callExpression(a,[]))]),n.async=!1,n.generator=!1,e.get("body.body.0.argument.callee").unwrapFunctionEnvironment()}},Function:{exit:BL.wrapWithTypes(t,function(e,r){var n=e.node;if(FL(n,r)){n=(e=(0,NL.default)(e)).node;var a=e.scope.generateUidIdentifier("context"),s=e.scope.generateUidIdentifier("args");e.ensureBlock();var i=e.get("body");n.async&&i.traverse(UL),i.traverse(LL,{context:a});var o=[],l=[];i.get("body").forEach(function(e){var r=e.node;t.isExpressionStatement(r)&&t.isStringLiteral(r.expression)||r&&null!=r._blockHoist?o.push(r):l.push(r)}),o.length>0&&(i.node.body=l);var c=function(e){var t=BL.getTypes(),r=e.node;t.assertFunction(r),r.id||(r.id=e.scope.parent.generateUidIdentifier("callee"));if(r.generator&&t.isFunctionDeclaration(r))return function(e){var t=BL.getTypes(),r=e.node;t.assertIdentifier(r.id);var n=e.findParent(function(e){return e.isProgram()||e.isBlockStatement()});if(!n)return r.id;var a=n.node;OL.default.ok(Array.isArray(a.body));var s=RL(a);s.decl||(s.decl=t.variableDeclaration("var",[]),n.unshiftContainer("body",s.decl),s.declPath=n.get("body.0"));OL.default.strictEqual(s.declPath.node,s.decl);var i=n.scope.generateUidIdentifier("marked"),o=t.callExpression(BL.runtimeProperty("mark"),[t.clone(r.id)]),l=s.decl.declarations.push(t.variableDeclarator(i,o))-1,c=s.declPath.get("declarations."+l+".init");return OL.default.strictEqual(c.node,o),c.addComment("leading","#__PURE__"),t.clone(i)}(e);return t.clone(r.id)}(e);t.assertIdentifier(n.id);var u=t.identifier(n.id.name+"$"),p=kM(e),d={usesThis:!1,usesArguments:!1,getArgsId:function(){return t.clone(s)}};if(e.traverse(ML,d),d.usesArguments){p=p||t.variableDeclaration("var",[]);var f=t.identifier("arguments");f._shadowedFunctionLiteral=e,p.declarations.push(t.variableDeclarator(t.clone(s),f))}var h=new _L.Emitter(a);h.explode(e.get("body")),p&&p.declarations.length>0&&o.push(p);var m=[h.getContextFunction(u)],y=h.getTryLocsList();if(n.generator?m.push(c):(d.usesThis||y||n.async)&&m.push(t.nullLiteral()),d.usesThis?m.push(t.thisExpression()):(y||n.async)&&m.push(t.nullLiteral()),y?m.push(y):n.async&&m.push(t.nullLiteral()),n.async){var g=e.scope;do{g.hasOwnBinding("Promise")&&g.rename("Promise")}while(g=g.parent);m.push(t.identifier("Promise"))}var v=t.callExpression(BL.runtimeProperty(n.async?"async":"wrap"),m);o.push(t.returnStatement(v)),n.body=t.blockStatement(o),e.get("body.body").forEach(function(e){return e.scope.registerDeclaration(e)});var b=i.node.directives;b&&(n.body.directives=b);var x=n.generator;x&&(n.generator=!1),n.async&&(n.async=!1),x&&t.isExpression(n)&&(BL.replaceWithOrRemove(e,t.callExpression(BL.runtimeProperty("mark"),[n])),e.addComment("leading","#__PURE__"));var E=h.getInsertedLocs();e.traverse({NumericLiteral:function(e){E.has(e.node)&&e.replaceWith(t.numericLiteral(e.node.value))}}),e.requeue()}})}}},VL=Mr(Lr(function(e,t){t.__esModule=!0,t.default=function(e){var t={visitor:WL(e)},r=e&&e.version;r&&parseInt(r,10)>=7&&(t.name="regenerator-transform");return t}})),GL=NI(function(e){return e.assertVersion(7),{name:"transform-reserved-words",visitor:{"BindingIdentifier|ReferencedIdentifier":function(e){Ah(e.node.name)||e.scope.rename(e.node.name)}}}});var KL=function(e){var t=function(e,t){return!t||(LA.valid(t)&&(t="^"+t),!LA.intersects("<"+e,t)&&!LA.intersects(">=8.0.0",t))}("7.0.1",e);return{BuiltIns:{Symbol:{stable:!0,path:"symbol"},Promise:{stable:!0,path:"promise"},Map:{stable:!0,path:"map"},WeakMap:{stable:!0,path:"weak-map"},Set:{stable:!0,path:"set"},WeakSet:{stable:!0,path:"weak-set"},setImmediate:{stable:!0,path:"set-immediate"},clearImmediate:{stable:!0,path:"clear-immediate"},parseFloat:{stable:!0,path:"parse-float"},parseInt:{stable:!0,path:"parse-int"}},StaticProperties:Object.assign({Array:{from:{stable:!0,path:"array/from"},isArray:{stable:!0,path:"array/is-array"},of:{stable:!0,path:"array/of"}},JSON:{stringify:{stable:!0,path:"json/stringify"}},Object:{assign:{stable:!0,path:"object/assign"},create:{stable:!0,path:"object/create"},defineProperties:{stable:!0,path:"object/define-properties"},defineProperty:{stable:!0,path:"object/define-property"},entries:{stable:!0,path:"object/entries"},freeze:{stable:!0,path:"object/freeze"},getOwnPropertyDescriptor:{stable:!0,path:"object/get-own-property-descriptor"},getOwnPropertyDescriptors:{stable:!0,path:"object/get-own-property-descriptors"},getOwnPropertyNames:{stable:!0,path:"object/get-own-property-names"},getOwnPropertySymbols:{stable:!0,path:"object/get-own-property-symbols"},getPrototypeOf:{stable:!0,path:"object/get-prototype-of"},isExtensible:{stable:!0,path:"object/is-extensible"},isFrozen:{stable:!0,path:"object/is-frozen"},isSealed:{stable:!0,path:"object/is-sealed"},is:{stable:!0,path:"object/is"},keys:{stable:!0,path:"object/keys"},preventExtensions:{stable:!0,path:"object/prevent-extensions"},seal:{stable:!0,path:"object/seal"},setPrototypeOf:{stable:!0,path:"object/set-prototype-of"},values:{stable:!0,path:"object/values"}}},t?{Math:{acosh:{stable:!0,path:"math/acosh"},asinh:{stable:!0,path:"math/asinh"},atanh:{stable:!0,path:"math/atanh"},cbrt:{stable:!0,path:"math/cbrt"},clz32:{stable:!0,path:"math/clz32"},cosh:{stable:!0,path:"math/cosh"},expm1:{stable:!0,path:"math/expm1"},fround:{stable:!0,path:"math/fround"},hypot:{stable:!0,path:"math/hypot"},imul:{stable:!0,path:"math/imul"},log10:{stable:!0,path:"math/log10"},log1p:{stable:!0,path:"math/log1p"},log2:{stable:!0,
path:"math/log2"},sign:{stable:!0,path:"math/sign"},sinh:{stable:!0,path:"math/sinh"},tanh:{stable:!0,path:"math/tanh"},trunc:{stable:!0,path:"math/trunc"}}}:{},{Symbol:{for:{stable:!0,path:"symbol/for"},hasInstance:{stable:!0,path:"symbol/has-instance"},isConcatSpreadable:{stable:!0,path:"symbol/is-concat-spreadable"},iterator:{stable:!0,path:"symbol/iterator"},keyFor:{stable:!0,path:"symbol/key-for"},match:{stable:!0,path:"symbol/match"},replace:{stable:!0,path:"symbol/replace"},search:{stable:!0,path:"symbol/search"},species:{stable:!0,path:"symbol/species"},split:{stable:!0,path:"symbol/split"},toPrimitive:{stable:!0,path:"symbol/to-primitive"},toStringTag:{stable:!0,path:"symbol/to-string-tag"},unscopables:{stable:!0,path:"symbol/unscopables"}},String:{at:{stable:!0,path:"string/at"},fromCodePoint:{stable:!0,path:"string/from-code-point"},raw:{stable:!0,path:"string/raw"}},Number:{EPSILON:{stable:!0,path:"number/epsilon"},isFinite:{stable:!0,path:"number/is-finite"},isInteger:{stable:!0,path:"number/is-integer"},isNaN:{stable:!0,path:"number/is-nan"},isSafeInteger:{stable:!0,path:"number/is-safe-integer"},MAX_SAFE_INTEGER:{stable:!0,path:"number/max-safe-integer"},MIN_SAFE_INTEGER:{stable:!0,path:"number/min-safe-integer"},parseFloat:{stable:!0,path:"number/parse-float"},parseInt:{stable:!0,path:"number/parse-int"}},Reflect:{apply:{stable:!0,path:"reflect/apply"},construct:{stable:!0,path:"reflect/construct"},defineProperty:{stable:!0,path:"reflect/define-property"},deleteProperty:{stable:!0,path:"reflect/delete-property"},getOwnPropertyDescriptor:{stable:!0,path:"reflect/get-own-property-descriptor"},getPrototypeOf:{stable:!0,path:"reflect/get-prototype-of"},get:{stable:!0,path:"reflect/get"},has:{stable:!0,path:"reflect/has"},isExtensible:{stable:!0,path:"reflect/is-extensible"},ownKeys:{stable:!0,path:"reflect/own-keys"},preventExtensions:{stable:!0,path:"reflect/prevent-extensions"},setPrototypeOf:{stable:!0,path:"reflect/set-prototype-of"},set:{stable:!0,path:"reflect/set"}},Date:{now:{stable:!0,path:"date/now"}}})}},HL=function(){return{BuiltIns:{AggregateError:{stable:!1,path:"aggregate-error"},Map:{stable:!0,path:"map"},Observable:{stable:!1,path:"observable"},Promise:{stable:!0,path:"promise"},Set:{stable:!0,path:"set"},Symbol:{stable:!0,path:"symbol"},URL:{stable:!0,path:"url"},URLSearchParams:{stable:!0,path:"url-search-params"},WeakMap:{stable:!0,path:"weak-map"},WeakSet:{stable:!0,path:"weak-set"},clearImmediate:{stable:!0,path:"clear-immediate"},compositeKey:{stable:!1,path:"composite-key"},compositeSymbol:{stable:!1,path:"composite-symbol"},globalThis:{stable:!1,path:"global-this"},parseFloat:{stable:!0,path:"parse-float"},parseInt:{stable:!0,path:"parse-int"},queueMicrotask:{stable:!0,path:"queue-microtask"},setImmediate:{stable:!0,path:"set-immediate"},setInterval:{stable:!0,path:"set-interval"},setTimeout:{stable:!0,path:"set-timeout"}},StaticProperties:{Array:{from:{stable:!0,path:"array/from"},isArray:{stable:!0,path:"array/is-array"},of:{stable:!0,path:"array/of"}},Date:{now:{stable:!0,path:"date/now"}},JSON:{stringify:{stable:!0,path:"json/stringify"}},Math:{DEG_PER_RAD:{stable:!1,path:"math/deg-per-rad"},RAD_PER_DEG:{stable:!1,path:"math/rad-per-deg"},acosh:{stable:!0,path:"math/acosh"},asinh:{stable:!0,path:"math/asinh"},atanh:{stable:!0,path:"math/atanh"},cbrt:{stable:!0,path:"math/cbrt"},clamp:{stable:!1,path:"math/clamp"},clz32:{stable:!0,path:"math/clz32"},cosh:{stable:!0,path:"math/cosh"},degrees:{stable:!1,path:"math/degrees"},expm1:{stable:!0,path:"math/expm1"},fround:{stable:!0,path:"math/fround"},fscale:{stable:!1,path:"math/fscale"},hypot:{stable:!0,path:"math/hypot"},iaddh:{stable:!1,path:"math/iaddh"},imul:{stable:!0,path:"math/imul"},imulh:{stable:!1,path:"math/imulh"},isubh:{stable:!1,path:"math/isubh"},log10:{stable:!0,path:"math/log10"},log1p:{stable:!0,path:"math/log1p"},log2:{stable:!0,path:"math/log2"},radians:{stable:!1,path:"math/radians"},scale:{stable:!1,path:"math/scale"},seededPRNG:{stable:!1,path:"math/seeded-prng"},sign:{stable:!0,path:"math/sign"},signbit:{stable:!1,path:"math/signbit"},sinh:{stable:!0,path:"math/sinh"},tanh:{stable:!0,path:"math/tanh"},trunc:{stable:!0,path:"math/trunc"},umulh:{stable:!1,path:"math/umulh"}},Number:{EPSILON:{stable:!0,path:"number/epsilon"},MAX_SAFE_INTEGER:{stable:!0,path:"number/max-safe-integer"},MIN_SAFE_INTEGER:{stable:!0,path:"number/min-safe-integer"},fromString:{stable:!1,path:"number/from-string"},isFinite:{stable:!0,path:"number/is-finite"},isInteger:{stable:!0,path:"number/is-integer"},isNaN:{stable:!0,path:"number/is-nan"},isSafeInteger:{stable:!0,path:"number/is-safe-integer"},parseFloat:{stable:!0,path:"number/parse-float"},parseInt:{stable:!0,path:"number/parse-int"}},Object:{assign:{stable:!0,path:"object/assign"},create:{stable:!0,path:"object/create"},defineProperties:{stable:!0,path:"object/define-properties"},defineProperty:{stable:!0,path:"object/define-property"},entries:{stable:!0,path:"object/entries"},freeze:{stable:!0,path:"object/freeze"},fromEntries:{stable:!0,path:"object/from-entries"},getOwnPropertyDescriptor:{stable:!0,path:"object/get-own-property-descriptor"},getOwnPropertyDescriptors:{stable:!0,path:"object/get-own-property-descriptors"},getOwnPropertyNames:{stable:!0,path:"object/get-own-property-names"},getOwnPropertySymbols:{stable:!0,path:"object/get-own-property-symbols"},getPrototypeOf:{stable:!0,path:"object/get-prototype-of"},isExtensible:{stable:!0,path:"object/is-extensible"},isFrozen:{stable:!0,path:"object/is-frozen"},isSealed:{stable:!0,path:"object/is-sealed"},is:{stable:!0,path:"object/is"},keys:{stable:!0,path:"object/keys"},preventExtensions:{stable:!0,path:"object/prevent-extensions"},seal:{stable:!0,path:"object/seal"},setPrototypeOf:{stable:!0,path:"object/set-prototype-of"},values:{stable:!0,path:"object/values"}},Reflect:{apply:{stable:!0,path:"reflect/apply"},construct:{stable:!0,path:"reflect/construct"},defineMetadata:{stable:!1,path:"reflect/define-metadata"},defineProperty:{stable:!0,path:"reflect/define-property"},deleteMetadata:{stable:!1,path:"reflect/delete-metadata"},deleteProperty:{stable:!0,path:"reflect/delete-property"},getMetadata:{stable:!1,path:"reflect/get-metadata"},getMetadataKeys:{stable:!1,path:"reflect/get-metadata-keys"},getOwnMetadata:{stable:!1,path:"reflect/get-own-metadata"},getOwnMetadataKeys:{stable:!1,path:"reflect/get-own-metadata-keys"},getOwnPropertyDescriptor:{stable:!0,path:"reflect/get-own-property-descriptor"},getPrototypeOf:{stable:!0,path:"reflect/get-prototype-of"},get:{stable:!0,path:"reflect/get"},has:{stable:!0,path:"reflect/has"},hasMetadata:{stable:!1,path:"reflect/has-metadata"},hasOwnMetadata:{stable:!1,path:"reflect/has-own-metadata"},isExtensible:{stable:!0,path:"reflect/is-extensible"},metadata:{stable:!1,path:"reflect/metadata"},ownKeys:{stable:!0,path:"reflect/own-keys"},preventExtensions:{stable:!0,path:"reflect/prevent-extensions"},set:{stable:!0,path:"reflect/set"},setPrototypeOf:{stable:!0,path:"reflect/set-prototype-of"}},String:{fromCodePoint:{stable:!0,path:"string/from-code-point"},raw:{stable:!0,path:"string/raw"}},Symbol:{asyncIterator:{stable:!0,path:"symbol/async-iterator"},dispose:{stable:!1,path:"symbol/dispose"},for:{stable:!0,path:"symbol/for"},hasInstance:{stable:!0,path:"symbol/has-instance"},isConcatSpreadable:{stable:!0,path:"symbol/is-concat-spreadable"},iterator:{stable:!0,path:"symbol/iterator"},keyFor:{stable:!0,path:"symbol/key-for"},match:{stable:!0,path:"symbol/match"},observable:{stable:!1,path:"symbol/observable"},patternMatch:{stable:!1,path:"symbol/pattern-match"},replace:{stable:!0,path:"symbol/replace"},search:{stable:!0,path:"symbol/search"},species:{stable:!0,path:"symbol/species"},split:{stable:!0,path:"symbol/split"},toPrimitive:{stable:!0,path:"symbol/to-primitive"},toStringTag:{stable:!0,path:"symbol/to-string-tag"},unscopables:{stable:!0,path:"symbol/unscopables"}}},InstanceProperties:{at:{stable:!1,path:"at"},bind:{stable:!0,path:"bind"},codePointAt:{stable:!0,path:"code-point-at"},codePoints:{stable:!1,path:"code-points"},concat:{stable:!0,path:"concat",types:["array"]},copyWithin:{stable:!0,path:"copy-within"},endsWith:{stable:!0,path:"ends-with"},entries:{stable:!0,path:"entries"},every:{stable:!0,path:"every"},fill:{stable:!0,path:"fill"},filter:{stable:!0,path:"filter"},find:{stable:!0,path:"find"},findIndex:{stable:!0,path:"find-index"},flags:{stable:!0,path:"flags"},flatMap:{stable:!0,path:"flat-map"},flat:{stable:!0,path:"flat"},forEach:{stable:!0,path:"for-each"},includes:{stable:!0,path:"includes"},indexOf:{stable:!0,path:"index-of"},keys:{stable:!0,path:"keys"},lastIndexOf:{stable:!0,path:"last-index-of"},map:{stable:!0,path:"map"},matchAll:{stable:!1,path:"match-all"},padEnd:{stable:!0,path:"pad-end"},padStart:{stable:!0,path:"pad-start"},reduce:{stable:!0,path:"reduce"},reduceRight:{stable:!0,path:"reduce-right"},repeat:{stable:!0,path:"repeat"},replaceAll:{stable:!1,path:"replace-all"},reverse:{stable:!0,path:"reverse"},slice:{stable:!0,path:"slice"},some:{stable:!0,path:"some"},sort:{stable:!0,path:"sort"},splice:{stable:!0,path:"splice"},startsWith:{stable:!0,path:"starts-with"},trim:{stable:!0,path:"trim"},trimEnd:{stable:!0,path:"trim-end"},trimLeft:{stable:!0,path:"trim-left"},trimRight:{stable:!0,path:"trim-right"},trimStart:{stable:!0,path:"trim-start"},values:{stable:!0,path:"values"}}}};function zL(e){return!!(null==e?void 0:e.supportsStaticESM)}var qL=NI(function(e,t,r){e.assertVersion(7);var n,a=t.corejs,s=t.helpers,i=void 0===s||s,o=t.regenerator,l=void 0===o||o,c=t.useESModules,u=void 0!==c&&c,p=t.version,d=void 0===p?"7.0.0-beta.0":p,f=t.absoluteRuntime,h=void 0!==f&&f,m=!1;"object"==typeof a&&null!==a?(n=a.version,m=Boolean(a.proposals)):n=a;var y=!!n&&Number(n);if(![!1,2,3].includes(y))throw new Error("The `core-js` version must be false, 2 or 3, but got "+JSON.stringify(n)+".");if(m&&(!y||y<3))throw new Error("The 'proposals' option is only supported when using 'corejs: 3'");if("boolean"!=typeof l)throw new Error("The 'regenerator' option must be undefined, or a boolean.");if("boolean"!=typeof i)throw new Error("The 'helpers' option must be undefined, or a boolean.");if("boolean"!=typeof u&&"auto"!==u)throw new Error("The 'useESModules' option must be undefined, or a boolean, or 'auto'.");if("boolean"!=typeof h&&"string"!=typeof h)throw new Error("The 'absoluteRuntime' option must be undefined, a boolean, or a string.");if("string"!=typeof d)throw new Error("The 'version' option must be a version string.");function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e,t){return g(e,t)&&(m||e[t].stable)}function b(e,t){return g(D,e)&&v(D[e],t)}function x(e,t,r){if(function(e){var t=e.scope.getBinding(e.node.name);return!!t&&t.path.isImportNamespaceSpecifier()}(e.get("object")))return!1;if(!t[r].types)return!0;var n=function(e){switch(e.type){case"GenericTypeAnnotation":if(he(e.id,{name:"Array"}))return"array";break;case"StringTypeAnnotation":return"string"}}(e.get("object").getTypeAnnotation());return!n||t[r].types.some(function(e){return e===n})}function E(e,t){var r=e.node;return t?e.isStringLiteral()?r.value:e.evaluate().value:r.name}if(g(t,"useBuiltIns"))throw t.useBuiltIns?new Error("The 'useBuiltIns' option has been removed. The @babel/runtime module now uses builtins by default."):new Error("The 'useBuiltIns' option has been removed. Use the 'corejs'option to polyfill with `core-js` via @babel/runtime.");if(g(t,"polyfill"))throw!1===t.polyfill?new Error("The 'polyfill' option has been removed. The @babel/runtime module now skips polyfilling by default."):new Error("The 'polyfill' option has been removed. Use the 'corejs'option to polyfill with `core-js` via @babel/runtime.");if(g(t,"moduleName"))throw new Error("The 'moduleName' option has been removed. @babel/transform-runtime no longer supports arbitrary runtimes. If you were using this to set an absolute path for Babel's standard runtimes, please use the 'absoluteRuntime' option.");var w="auto"===u?e.caller(zL):u,S=2===y,T=3===y,j=!1!==y,A=T?"@babel/runtime-corejs3":S?"@babel/runtime-corejs2":"@babel/runtime",P=T&&!m?"core-js-stable":"core-js",k=(S?KL:HL)(d),C=k.BuiltIns,D=k.StaticProperties,_=k.InstanceProperties,I=["interopRequireWildcard","interopRequireDefault"],O=function(e,t,r){if(!1===r)return e;throw new Error("The 'absoluteRuntime' option is not supported when using @babel/standalone.")}(A,0,h);return{name:"transform-runtime",pre:function(e){var t=this;i&&e.set("helperGenerator",function(r){if(!e.availableHelper||e.availableHelper(r,d)){var n=-1!==I.indexOf(r)&&!Ij(e.path)?4:void 0,a=w&&"module"===e.path.node.sourceType?"helpers/esm":"helpers";return t.addDefaultImport(O+"/"+a+"/"+r,r,n)}});var r=new Map;this.addDefaultImport=function(t,n,a){var s=t+":"+n+":"+(Ij(e.path)||""),i=r.get(s);return i?i=Gd(i):(i=function(e,t,r){return new Oj(e).addDefault(t,r)}(e.path,t,{importedInterop:"uncompiled",nameHint:n,blockHoist:a}),r.set(s,i)),i}},visitor:{ReferencedIdentifier:function(e){var t=e.node,r=e.parent,n=e.scope,a=t.name;"regeneratorRuntime"===a&&l?e.replaceWith(this.addDefaultImport(O+"/regenerator","regeneratorRuntime")):j&&(we(r)||v(C,a)&&(n.getBindingIdentifier(a)||e.replaceWith(this.addDefaultImport(O+"/"+P+"/"+C[a].path,a))))},CallExpression:function(e){if(j){var t=e.node,r=t.callee;if(we(r)){var n,a,s=r.object,i=E(e.get("callee.property"),r.computed);if(T&&!b(s.name,i))if(v(_,i)&&x(e.get("callee"),_,i))return he(s)?(n=s,a=Gd(s)):a=rl("=",Gd(n=e.scope.generateDeclaredUidIdentifier("context")),s),t.callee=_l(cl(this.addDefaultImport(O+"/"+P+"/instance/"+_[i].path,i+"InstanceProperty"),[a]),wl("call")),void t.arguments.unshift(n);t.arguments.length||r.computed&&e.get("callee.property").matchesPattern("Symbol.iterator")&&e.replaceWith(cl(this.addDefaultImport(O+"/core-js/get-iterator","getIterator"),[s]))}}},BinaryExpression:function(e){j&&"in"===e.node.operator&&e.get("left").matchesPattern("Symbol.iterator")&&e.replaceWith(cl(this.addDefaultImport(O+"/core-js/is-iterable","isIterable"),[e.node.right]))},MemberExpression:{enter:function(e){if(j&&e.isReferenced()&&!e.parentPath.isUnaryExpression({operator:"delete"})){var t=e.node,r=t.object;if(Sh(r,t))if(!S&&t.computed&&e.get("property").matchesPattern("Symbol.iterator"))e.replaceWith(cl(this.addDefaultImport(O+"/core-js/get-iterator-method","getIteratorMethod"),[r]));else{var n=r.name,a=E(e.get("property"),t.computed);!e.scope.getBindingIdentifier(n)&&b(n,a)?e.replaceWith(this.addDefaultImport(O+"/"+P+"/"+D[n][a].path,n+"$"+a)):T&&v(_,a)&&x(e,_,a)&&e.replaceWith(cl(this.addDefaultImport(O+"/"+P+"/instance/"+_[a].path,a+"InstanceProperty"),[r]))}}},exit:function(e){if(j&&e.isReferenced()&&!e.node.computed){var t=e.node,r=t.object.name;v(C,r)&&(e.scope.getBindingIdentifier(r)||e.replaceWith(_l(this.addDefaultImport(O+"/"+P+"/"+C[r].path,r),t.property)))}}}}}}),XL=NI(function(e){return e.assertVersion(7),{name:"transform-shorthand-properties",visitor:{ObjectMethod:function(e){var t=e.node;if("method"===t.kind){var r=El(null,t.params,t.body,t.generator,t.async);r.returnType=t.returnType,e.replaceWith(Fl(t.key,r,t.computed))}},ObjectProperty:function(e){var t=e.node;t.shorthand&&(t.shorthand=!1)}}}}),JL=NI(function(e,t){e.assertVersion(7);var r=t.loose,n=t.allowArrayLike;function a(e,t){return r&&!he(e.argument,{name:"arguments"})?e.argument:t.toArray(e.argument,!0,n)}function s(e){for(var t=0;t<e.length;t++)if(tt(e[t]))return!0;return!1}function i(e,t){return e.length?(t.push(tl(e)),[]):e}function o(e,t){for(var r,n=[],s=[],o=U(e);!(r=o()).done;){var l=r.value;tt(l)?(s=i(s,n),n.push(a(l,t))):s.push(l)}return i(s,n),n}return{name:"transform-spread",visitor:{ArrayExpression:function(e){var t=e.node,r=e.scope,n=t.elements;if(s(n)){var a=o(n,r),i=a[0];1!==a.length||i===n[0].argument?(Q(i)?a.shift():i=tl([]),e.replaceWith(cl(_l(i,wl("concat")),a))):e.replaceWith(i)}},CallExpression:function(e){var t=e.node,r=e.scope,n=t.arguments;if(s(n)){var a=AB(e.get("callee"));if(!a.isSuper()){var i,l=r.buildUndefinedNode();t.arguments=[];var c=(i=1===n.length&&"arguments"===n[0].argument.name?[n[0].argument]:o(n,r)).shift();i.length?t.arguments.push(cl(_l(c,wl("concat")),i)):t.arguments.push(c);var u=a.node;if(a.isMemberExpression()){var p=r.maybeGenerateMemoised(u.object);p?(u.object=rl("=",p,u.object),l=p):l=Gd(u.object)}t.callee=_l(t.callee,wl("apply")),rt(l)&&(l=Gl()),t.arguments.unshift(Gd(l))}}},NewExpression:function(e){var t=e.node,r=e.scope,n=t.arguments;if(s(n)){var a=o(n,r),i=a.shift();n=a.length?cl(_l(i,wl("concat")),a):i,e.replaceWith(cl(e.hub.addHelper("construct"),[t.callee,n]))}}}}}),YL=NI(function(e){return e.assertVersion(7),{name:"transform-sticky-regex",visitor:{RegExpLiteral:function(e){var t=e.node;(function(e,t){return"RegExpLiteral"===e.type&&e.flags.indexOf(t)>=0})(t,"y")&&e.replaceWith(Il(wl("RegExp"),[jl(t.pattern),jl(t.flags)]))}}}}),$L=NI(function(e){return e.assertVersion(7),{name:"transform-strict-mode",visitor:{Program:function(e){for(var t=0,r=e.node.directives;t<r.length;t++){if("use strict"===r[t].value.value)return}e.unshiftContainer("directives",sl(il("use strict")))}}}});function QL(){var e=P(["\n          function ","() {\n            const data = ",";\n            "," = function() { return data };\n            return data;\n          }\n        "]);return QL=function(){return e},e}var ZL=NI(function(e,t){e.assertVersion(7);var r=t.loose,n="taggedTemplateLiteral";return r&&(n+="Loose"),{name:"transform-template-literals",visitor:{TaggedTemplateExpression:function(e){for(var t=e.node,r=t.quasi,a=[],s=[],i=!0,o=0,l=r.quasis;o<l.length;o++){var c=l[o].value,u=c.raw,p=c.cooked,d=null==p?e.scope.buildUndefinedNode():jl(p);a.push(d),s.push(jl(u)),u!==p&&(i=!1)}var f=e.scope.getProgramParent(),h=f.generateUidIdentifier("templateObject"),m=this.addHelper(n),y=[tl(a)];i||y.push(tl(s));var g=JE.ast(QL(),h,cl(m,y),Gd(h));f.path.unshiftContainer("body",g),e.replaceWith(cl(t.tag,[cl(Gd(h),[])].concat(r.expressions)))},TemplateLiteral:function(e){for(var t=[],n=e.get("expressions"),a=0,s=0,i=e.node.quasis;s<i.length;s++){var o=i[s];if(o.value.cooked&&t.push(jl(o.value.cooked)),a<n.length){var l=n[a++].node;ge(l,{value:""})||t.push(l)}}var c=!r||!ge(t[1]);!ge(t[0])&&c&&t.unshift(jl(""));var u,p=t[0];if(r)for(var d=1;d<t.length;d++)p=nl("+",p,t[d]);else t.length>1&&(u=!0,p=t.reduce(function(e,t){var r=lr(t);return!r&&u&&(r=!0,u=!1),r&&ne(e)?(e.arguments.push(t),e):cl(_l(e,wl("concat")),[t])}));e.replaceWith(p)}}}}),eU=NI(function(e){return e.assertVersion(7),{name:"transform-typeof-symbol",visitor:{Scope:function(e){var t=e.scope;t.getBinding("Symbol")&&t.rename("Symbol")},UnaryExpression:function(e){var t=e.node,r=e.parent;if("typeof"===t.operator){if(e.parentPath.isBinaryExpression()&&Fi.indexOf(r.operator)>=0){var n=e.getOpposite();if(n.isLiteral()&&"symbol"!==n.node.value&&"object"!==n.node.value)return}var a=e.findParent(function(e){var t;if(e.isFunction())return"@babel/helpers - typeof"===(null==(t=e.get("body.directives.0"))?void 0:t.node.value.value)});if(!a){var s=this.addHelper("typeof");if(!(a=e.findParent(function(e){return e.isVariableDeclarator()&&e.node.id===s||e.isFunctionDeclaration()&&e.node.id&&e.node.id.name===s.name}))){var i=cl(s,[t.argument]),o=e.get("argument");if(o.isIdentifier()&&!e.scope.hasBinding(o.node.name,!0)){var l=zl("typeof",Gd(t.argument));e.replaceWith(pl(nl("===",l,jl("undefined")),jl("undefined"),i))}else e.replaceWith(i)}}}}}}});function tU(e,t){var r=e.node;if(r.const)throw e.buildCodeFrameError("'const' enums are not supported.");if(r.declare)e.remove();else{var n=r.id.name,a=function(e,t,r){var n=function(e,t){var r=Object.create(null),n=-1;return e.node.members.map(function(a){var s,i=t.isIdentifier(a.id)?a.id.name:a.id.value,o=a.initializer;if(o){var l=function(e,t){return r(e);function r(e){switch(e.type){case"StringLiteral":return e.value;case"UnaryExpression":return n(e);case"BinaryExpression":return a(e);case"NumericLiteral":return e.value;case"ParenthesizedExpression":return r(e.expression);case"Identifier":return t[e.name];case"TemplateLiteral":if(1===e.quasis.length)return e.quasis[0].value.cooked;default:return}}function n(e){var t=e.argument,n=e.operator,a=r(t);if(void 0!==a)switch(n){case"+":return a;case"-":return-a;case"~":return~a;default:return}}function a(e){var t=r(e.left);if(void 0!==t){var n=r(e.right);if(void 0!==n)switch(e.operator){case"|":return t|n;case"&":return t&n;case">>":return t>>n;case">>>":return t>>>n;case"<<":return t<<n;case"^":return t^n;case"*":return t*n;case"/":return t/n;case"+":return t+n;case"-":return t-n;case"%":return t%n;default:return}}}}(o,r);void 0!==l?(r[i]=l,"number"==typeof l?(s=t.numericLiteral(l),n=l):(aj("string"==typeof l),s=t.stringLiteral(l),n=void 0)):(s=o,n=void 0)}else{if(void 0===n)throw e.buildCodeFrameError("Enum member must have initializer.");n++,s=t.numericLiteral(n),r[i]=n}return[i,s]})}(e,t).map(function(e){var n=e[0],a=e[1];return function(e,t){return(e?nU:aU)(t)}(t.isStringLiteral(a),{ENUM:t.cloneNode(r),NAME:n,VALUE:a})});return rU({ID:t.cloneNode(r),ASSIGNMENTS:n})}(e,t,r.id);switch(e.parent.type){case"BlockStatement":case"ExportNamedDeclaration":case"Program":if(e.insertAfter(a),function e(t){if(t.isExportDeclaration())return e(t.parentPath);return!!t.getData(n)||(t.setData(n,!0),!1)}(e.parentPath))e.remove();else{var s=t.isProgram(e.parent);e.scope.registerDeclaration(e.replaceWith(function(e,t,r){return t.variableDeclaration(r,[t.variableDeclarator(e)])}(r.id,t,s?"var":"let"))[0])}break;default:throw new Error("Unexpected enum parent '"+e.parent.type)}}}var rU=JE("\n  (function (ID) {\n    ASSIGNMENTS;\n  })(ID || (ID = {}));\n"),nU=JE('\n  ENUM["NAME"] = VALUE;\n'),aU=JE('\n  ENUM[ENUM["NAME"] = VALUE] = "NAME";\n');function sU(){var e=P(["\n    (function (",") {\n      ","\n    })("," || ("," = ","));\n  "]);return sU=function(){return e},e}function iU(){var e=P(["\n      "," ||\n        ("," = ",")\n    "]);return iU=function(){return e},e}function oU(e,t,r){if(e.node.declare||"StringLiteral"===e.node.id.type)e.remove();else{if(!r)throw e.hub.file.buildCodeFrameError(e.node.id,"Namespace not marked type-only declare. Non-declarative namespaces are only supported experimentally in Babel. To enable and review caveats see: https://babeljs.io/docs/en/babel-plugin-transform-typescript");var n=e.node.id.name,a=function e(t,r,n,a){for(var s=new Set,i=n.id,o=t.scope.generateUid(i.name),l=n.body.body,c=0;c<l.length;c++){var u=l[c];switch(u.type){case"TSModuleDeclaration":var p=e(t,r,u),d=u.id.name;s.has(d)?l[c]=p:(s.add(d),l.splice(c++,1,lU(r,d),p));continue;case"TSEnumDeclaration":case"FunctionDeclaration":case"ClassDeclaration":s.add(u.id.name);continue;case"VariableDeclaration":for(var f,h=U(u.declarations);!(f=h()).done;){var m=f.value;s.add(m.id.name)}continue;default:continue;case"ExportNamedDeclaration":}switch(u.declaration.type){case"TSEnumDeclaration":case"FunctionDeclaration":case"ClassDeclaration":var y=u.declaration.id.name;s.add(y),l.splice(c++,1,u.declaration,r.expressionStatement(r.assignmentExpression("=",cU(r,o,y),r.identifier(y))));break;case"VariableDeclaration":if("const"!==u.declaration.kind)throw t.hub.file.buildCodeFrameError(u.declaration,"Namespaces exporting non-const are not supported by Babel. Change to const or see: https://babeljs.io/docs/en/babel-plugin-transform-typescript");for(var g,v=U(u.declaration.declarations);!(g=v()).done;){var b=g.value;b.init=r.assignmentExpression("=",cU(r,o,b.id.name),b.init)}l[c]=u.declaration;break;case"TSModuleDeclaration":var x=e(t,r,u.declaration,r.identifier(o)),E=u.declaration.id.name;s.has(E)?l[c]=x:(s.add(E),l.splice(c++,1,lU(r,E),x))}}var w=r.objectExpression([]);if(a){var S=r.memberExpression(a,i);w=JE.expression.ast(iU(),r.cloneNode(S),r.cloneNode(S),w)}return JE.statement.ast(sU(),r.identifier(o),l,i,r.cloneNode(i),w)}(e,t,t.cloneDeep(e.node)),s=e.scope.hasOwnBinding(n);"ExportNamedDeclaration"===e.parent.type?s?e.parentPath.replaceWith(a):(e.parentPath.insertAfter(a),e.replaceWith(lU(t,n)),e.scope.registerDeclaration(e.parentPath)):s?e.replaceWith(a):e.scope.registerDeclaration(e.replaceWithMultiple([lU(t,n),a])[0])}}function lU(e,t){return e.variableDeclaration("let",[e.variableDeclarator(e.identifier(t))])}function cU(e,t,r){return e.memberExpression(e.identifier(t),e.identifier(r))}function uU(){var e=P(["\n              this."," = ",""]);return uU=function(){return e},e}function pU(e){switch(e.parent.type){case"TSTypeReference":case"TSQualifiedName":case"TSExpressionWithTypeArguments":case"TSTypeQuery":return!0;case"ExportSpecifier":return"type"===e.parentPath.parent.exportKind;default:return!1}}var dU=new WeakSet,fU=new WeakMap;function hU(e,t){var r=e.find(function(e){return e.isProgram()}).node;return!e.scope.hasOwnBinding(t)&&(!!fU.get(r).has(t)||(console.warn('The exported identifier "'+t+'" is not declared in Babel\'s scope tracker\nas a JavaScript value binding, and "@babel/plugin-transform-typescript"\nnever encountered it as a TypeScript type declaration.\nIt will be treated as a JavaScript value.\n\nThis problem is likely caused by another plugin injecting\n"'+t+'" without registering it in the scope tracker. If you are the author\n of that plugin, please use "scope.registerDeclaration(declarationPath)".'),!1))}function mU(e,t){fU.get(e.path.node).add(t)}var yU=NI(function(e,t){var r=t.jsxPragma,n=void 0===r?"React.createElement":r,a=t.jsxPragmaFrag,s=void 0===a?"React.Fragment":a,i=t.allowNamespaces,o=void 0!==i&&i,l=t.allowDeclareFields,c=void 0!==l&&l,u=t.onlyRemoveTypeImports,p=void 0!==u&&u;e.assertVersion(7);var d=/\*?\s*@jsx((?:Frag)?)\s+([^\s]+)/,f=function(e){var t=e.node;if(!c&&t.declare)throw e.buildCodeFrameError("The 'declare' modifier is only allowed when the 'allowDeclareFields' option of @babel/plugin-transform-typescript or @babel/preset-typescript is enabled.");if(t.declare){if(t.value)throw e.buildCodeFrameError("Fields with the 'declare' modifier cannot be initialized here, but only in the constructor");t.decorators||e.remove()}else if(t.definite){if(t.value)throw e.buildCodeFrameError("Definitely assigned fields cannot be initialized here, but only in the constructor");c||t.decorators||e.remove()}else c||t.value||t.decorators||Lt(t)||e.remove();t.accessibility&&(t.accessibility=null),t.abstract&&(t.abstract=null),t.readonly&&(t.readonly=null),t.optional&&(t.optional=null),t.typeAnnotation&&(t.typeAnnotation=null),t.definite&&(t.definite=null),t.declare&&(t.declare=null)},h=function(e){var t=e.node;t.accessibility&&(t.accessibility=null),t.abstract&&(t.abstract=null),t.optional&&(t.optional=null)},m=function(e,t){e.node.accessibility&&(e.node.accessibility=null);for(var r,n=[],a=U(e.node.params);!(r=a()).done;){var s=r.value;"TSParameterProperty"!==s.type||dU.has(s.parameter)||(dU.add(s.parameter),n.push(s.parameter))}if(n.length){var i=n.map(function(t){var r;if(he(t))r=t;else{if(!Le(t)||!he(t.left))throw e.buildCodeFrameError("Parameter properties can not be destructuring patterns.");r=t.left}return JE.statement.ast(uU(),Gd(r),Gd(r))});pN(t,e,i)}};return{name:"transform-typescript",inherits:sO,visitor:{Pattern:y,Identifier:y,RestElement:y,Program:function(e,t){var r=t.file,a=null,i=null;if(fU.has(e.node)||fU.set(e.node,new Set),r.ast.comments)for(var o=0,l=r.ast.comments;o<l.length;o++){var c=l[o],u=d.exec(c.value);u&&(u[1]?i=u[2]:a=u[2])}var f=a||n;if(f){var h=f.split(".");f=h[0]}var m=i||s;if(m){var y=m.split(".");m=y[0]}for(var v,b=U(e.get("body"));!(v=b()).done;){var x=v.value;if(Je(x)){if("type"===x.node.importKind){x.remove();continue}if(!p){if(0===x.node.specifiers.length)continue;for(var E,w=!0,S=[],T=U(x.node.specifiers);!(E=T()).done;){var j=E.value,A=x.scope.getBinding(j.local.name);A&&g({binding:A,programPath:e,pragmaImportName:f,pragmaFragImportName:m})?S.push(A.path):w=!1}if(w)x.remove();else for(var P,k=U(S);!(P=k()).done;){P.value.remove()}}}else if(x.isExportDeclaration()&&(x=x.get("declaration")),x.isVariableDeclaration({declare:!0}))for(var C=0,D=Object.keys(x.getBindingIdentifiers());C<D.length;C++){var _=D[C];mU(e.scope,_)}else(x.isTSTypeAliasDeclaration()||x.isTSDeclareFunction()||x.isTSInterfaceDeclaration()||x.isClassDeclaration({declare:!0})||x.isTSEnumDeclaration({declare:!0})||x.isTSModuleDeclaration({declare:!0})&&x.get("id").isIdentifier())&&mU(e.scope,x.node.id.name)}},ExportNamedDeclaration:function(e){"type"!==e.node.exportKind?!e.node.source&&e.node.specifiers.length>0&&e.node.specifiers.every(function(t){var r=t.local;return hU(e,r.name)})&&e.remove():e.remove()},ExportSpecifier:function(e){!e.parent.source&&hU(e,e.node.local.name)&&e.remove()},ExportDefaultDeclaration:function(e){he(e.node.declaration)&&hU(e,e.node.declaration.name)&&e.remove()},TSDeclareFunction:function(e){e.remove()},TSDeclareMethod:function(e){e.remove()},VariableDeclaration:function(e){e.node.declare&&e.remove()},VariableDeclarator:function(e){var t=e.node;t.definite&&(t.definite=null)},TSIndexSignature:function(e){e.remove()},ClassDeclaration:function(e){e.node.declare&&e.remove()},Class:function(e){var t=e.node;t.typeParameters&&(t.typeParameters=null),t.superTypeParameters&&(t.superTypeParameters=null),t.implements&&(t.implements=null),t.abstract&&(t.abstract=null),e.get("body.body").forEach(function(t){t.isClassMethod()||t.isClassPrivateMethod()?"constructor"===t.node.kind?m(t,e):h(t,e):(t.isClassProperty()||t.isClassPrivateProperty())&&f(t,e)})},Function:function(e){var t=e.node;t.typeParameters&&(t.typeParameters=null),t.returnType&&(t.returnType=null);var r=t.params[0];r&&he(r)&&"this"===r.name&&t.params.shift(),t.params=t.params.map(function(e){return"TSParameterProperty"===e.type?e.parameter:e})},TSModuleDeclaration:function(e){oU(e,Ch,o)},TSInterfaceDeclaration:function(e){e.remove()},TSTypeAliasDeclaration:function(e){e.remove()},TSEnumDeclaration:function(e){tU(e,Ch)},TSImportEqualsDeclaration:function(e){throw e.buildCodeFrameError("`import =` is not supported by @babel/plugin-transform-typescript\nPlease consider using `import <moduleName> from '<moduleName>';` alongside Typescript's --allowSyntheticDefaultImports option.")},TSExportAssignment:function(e){throw e.buildCodeFrameError("`export =` is not supported by @babel/plugin-transform-typescript\nPlease consider using `export <value>;`.")},TSTypeAssertion:function(e){e.replaceWith(e.node.expression)},TSAsExpression:function(e){var t=e.node;do{t=t.expression}while(qt(t));e.replaceWith(t)},TSNonNullExpression:function(e){e.replaceWith(e.node.expression)},CallExpression:function(e){e.node.typeParameters=null},OptionalCallExpression:function(e){e.node.typeParameters=null},NewExpression:function(e){e.node.typeParameters=null},JSXOpeningElement:function(e){e.node.typeParameters=null},TaggedTemplateExpression:function(e){e.node.typeParameters=null}}};function y(e){var t=e.node;t.typeAnnotation&&(t.typeAnnotation=null),he(t)&&t.optional&&(t.optional=null)}function g(e){for(var t,r=e.binding,n=e.programPath,a=e.pragmaImportName,s=e.pragmaFragImportName,i=U(r.referencePaths);!(t=i()).done;){if(!pU(t.value))return!1}if(r.identifier.name!==a&&r.identifier.name!==s)return!0;var o=!1;return n.traverse({"JSXElement|JSXFragment":function(e){o=!0,e.stop()}}),!o}}),gU=NI(function(e){e.assertVersion(7);var t=/[\ud800-\udfff]/g,r=/(\\+)u\{([0-9a-fA-F]+)\}/g;function n(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return"\\u"+t}function a(e,t,r){if(t.length%2==0)return e;var a=String.fromCodePoint(parseInt(r,16)),s=t.slice(0,-1)+n(a.charCodeAt(0));return 1===a.length?s:s+n(a.charCodeAt(1))}function s(e){return e.replace(r,a)}return{name:"transform-unicode-escapes",visitor:{Identifier:function(e){var r=e.node,n=e.key,a=r.name,s=a.replace(t,function(e){return"_u"+e.charCodeAt(0).toString(16)});if(a!==s){var i=gh(jl(a),r);if("key"!==n){var o=e.parentPath,l=e.scope;if(o.isMemberExpression({property:r
})||o.isOptionalMemberExpression({property:r}))return o.node.computed=!0,void e.replaceWith(i);if(!l.getBinding(a))throw e.buildCodeFrameError("Can't reference '"+a+"' as a bare identifier");l.rename(a,l.generateUid(s))}else e.replaceWith(i)}},"StringLiteral|DirectiveLiteral":function(e){var t=e.node.extra;(null==t?void 0:t.raw)&&(t.raw=s(t.raw))},TemplateElement:function(e){var t=e.node,n=e.parentPath,a=t.value,i=function(e){for(var t;t=r.exec(e);)if(t[1].length%2!=0)return r.lastIndex=0,t[0];return null}(a.raw);if(i){if(n.parentPath.isTaggedTemplateExpression())throw e.buildCodeFrameError("Can't replace Unicode escape '"+i+"' inside tagged template literals. You can enable '@babel/plugin-transform-template-literals' to compile them to classic strings.");a.raw=s(a.raw)}}}}}),vU=NI(function(e){return e.assertVersion(7),AF({name:"transform-unicode-regex",feature:"unicodeFlag"})}),bU={"external-helpers":RI,"syntax-async-generators":LI,"syntax-class-properties":UI,"syntax-class-static-block":WI,"syntax-decimal":VI,"syntax-decorators":GI,"syntax-do-expressions":KI,"syntax-export-default-from":HI,"syntax-flow":zI,"syntax-function-bind":qI,"syntax-function-sent":XI,"syntax-import-meta":JI,"syntax-jsx":YI,"syntax-import-assertions":$I,"syntax-object-rest-spread":QI,"syntax-optional-catch-binding":ZI,"syntax-pipeline-operator":tO,"syntax-record-and-tuple":rO,"syntax-top-level-await":nO,"syntax-typescript":sO,"proposal-async-generator-functions":mO,"proposal-class-properties":jN,"proposal-class-static-block":PN,"proposal-decorators":LN,"proposal-do-expressions":UN,"proposal-dynamic-import":GN,"proposal-export-default-from":KN,"proposal-export-namespace-from":zN,"proposal-function-bind":qN,"proposal-function-sent":XN,"proposal-json-strings":YN,"proposal-logical-assignment-operators":QN,"proposal-nullish-coalescing-operator":tB,"proposal-numeric-separator":nB,"proposal-object-rest-spread":wB,"proposal-optional-catch-binding":TB,"proposal-optional-chaining":CB,"proposal-pipeline-operator":OB,"proposal-private-methods":NB,"proposal-private-property-in-object":BB,"proposal-throw-expressions":RB,"proposal-unicode-property-regex":PF,"transform-async-to-generator":kF,"transform-arrow-functions":CF,"transform-block-scoped-functions":DF,"transform-block-scoping":BF,"transform-classes":uR,"transform-computed-properties":pR,"transform-destructuring":dR,"transform-dotall-regex":fR,"transform-duplicate-keys":hR,"transform-exponentiation-operator":gR,"transform-flow-comments":vR,"transform-flow-strip-types":bR,"transform-for-of":TR,"transform-function-name":jR,"transform-instanceof":AR,"transform-jscript":PR,"transform-literals":kR,"transform-member-expression-literals":CR,"transform-modules-amd":BR,"transform-modules-commonjs":LR,"transform-modules-systemjs":HR,"transform-modules-umd":XR,"transform-named-capturing-groups-regex":JR,"transform-new-target":YR,"transform-object-assign":$R,"transform-object-super":QR,"transform-object-set-prototype-of-to-assign":ZR,"transform-parameters":xB,"transform-property-literals":eM,"transform-property-mutators":tM,"transform-proto-to-assign":rM,"transform-react-constant-elements":nM,"transform-react-display-name":aM,"transform-react-inline-elements":iM,"transform-react-jsx":yM,"transform-react-jsx-compat":gM,"transform-react-jsx-development":vM,"transform-react-jsx-self":bM,"transform-react-jsx-source":EM,"transform-regenerator":VL,"transform-reserved-words":GL,"transform-runtime":qL,"transform-shorthand-properties":XL,"transform-spread":JL,"transform-sticky-regex":YL,"transform-strict-mode":$L,"transform-template-literals":ZL,"transform-typeof-symbol":eU,"transform-typescript":yU,"transform-unicode-escapes":gU,"transform-unicode-regex":vU},xU=function(e,t){var r=!1,n="commonjs",a=!1;void 0!==t&&(void 0!==t.loose&&(r=t.loose),void 0!==t.modules&&(n=t.modules),void 0!==t.spec&&(a=t.spec));var s={loose:r};return{plugins:[[ZL,{loose:r,spec:a}],kR,jR,[CF,{spec:a}],DF,[uR,s],QR,XL,hR,[pR,s],[TR,s],YL,gU,vU,[JL,s],[xB,s],[dR,s],BF,eU,AR,("commonjs"===n||"cjs"===n)&&[LR,s],"systemjs"===n&&[HR,s],"amd"===n&&[BR,s],"umd"===n&&[XR,s],[VL,{async:!1,asyncGenerators:!1}]].filter(Boolean)}},EU=function(e,t){var r=!1;return void 0!==t&&void 0!==t.loose&&(r=t.loose),{plugins:[$I,JI,nO,zN,QN,[CB,{loose:r}],[tB,{loose:r}],[jN,{loose:r}],YN,nB,[NB,{loose:r}]]}},wU=function(e,t){void 0===t&&(t={});var r=t,n=r.loose,a=void 0!==n&&n,s=r.useBuiltIns,i=void 0!==s&&s,o=r.decoratorsLegacy,l=void 0!==o&&o,c=r.decoratorsBeforeExport;return{presets:[[EU,{loose:a,useBuiltIns:i}]],plugins:[PN,[LN,{legacy:l,decoratorsBeforeExport:c}],XN,BB,RB]}},SU=function(e,t){void 0===t&&(t={});var r=t,n=r.loose,a=void 0!==n&&n,s=r.useBuiltIns,i=void 0!==s&&s,o=r.decoratorsLegacy,l=void 0!==o&&o,c=r.decoratorsBeforeExport,u=r.pipelineProposal,p=void 0===u?"minimal":u,d=r.recordAndTupleSyntax;return{presets:[[wU,{loose:a,useBuiltIns:i,decoratorsLegacy:l,decoratorsBeforeExport:c}]],plugins:[VI,[rO,{syntaxType:void 0===d?"hash":d}],KN,[OB,{proposal:p}],UN]}},TU=Object.freeze({__proto__:null,default:[{name:"nodejs",version:"0.2.0",date:"2011-08-26",lts:!1,security:!1},{name:"nodejs",version:"0.3.0",date:"2011-08-26",lts:!1,security:!1},{name:"nodejs",version:"0.4.0",date:"2011-08-26",lts:!1,security:!1},{name:"nodejs",version:"0.5.0",date:"2011-08-26",lts:!1,security:!1},{name:"nodejs",version:"0.6.0",date:"2011-11-04",lts:!1,security:!1},{name:"nodejs",version:"0.7.0",date:"2012-01-17",lts:!1,security:!1},{name:"nodejs",version:"0.8.0",date:"2012-06-22",lts:!1,security:!1},{name:"nodejs",version:"0.9.0",date:"2012-07-20",lts:!1,security:!1},{name:"nodejs",version:"0.10.0",date:"2013-03-11",lts:!1,security:!1},{name:"nodejs",version:"0.11.0",date:"2013-03-28",lts:!1,security:!1},{name:"nodejs",version:"0.12.0",date:"2015-02-06",lts:!1,security:!1},{name:"iojs",version:"1.0.0",date:"2015-01-14"},{name:"iojs",version:"1.1.0",date:"2015-02-03"},{name:"iojs",version:"1.2.0",date:"2015-02-11"},{name:"iojs",version:"1.3.0",date:"2015-02-20"},{name:"iojs",version:"1.5.0",date:"2015-03-06"},{name:"iojs",version:"1.6.0",date:"2015-03-20"},{name:"iojs",version:"2.0.0",date:"2015-05-04"},{name:"iojs",version:"2.1.0",date:"2015-05-24"},{name:"iojs",version:"2.2.0",date:"2015-06-01"},{name:"iojs",version:"2.3.0",date:"2015-06-13"},{name:"iojs",version:"2.4.0",date:"2015-07-17"},{name:"iojs",version:"2.5.0",date:"2015-07-28"},{name:"iojs",version:"3.0.0",date:"2015-08-04"},{name:"iojs",version:"3.1.0",date:"2015-08-19"},{name:"iojs",version:"3.2.0",date:"2015-08-25"},{name:"iojs",version:"3.3.0",date:"2015-09-02"},{name:"nodejs",version:"4.0.0",date:"2015-09-08",lts:!1,security:!1},{name:"nodejs",version:"4.1.0",date:"2015-09-17",lts:!1,security:!1},{name:"nodejs",version:"4.2.0",date:"2015-10-12",lts:"Argon",security:!1},{name:"nodejs",version:"4.3.0",date:"2016-02-09",lts:"Argon",security:!1},{name:"nodejs",version:"4.4.0",date:"2016-03-08",lts:"Argon",security:!1},{name:"nodejs",version:"4.5.0",date:"2016-08-16",lts:"Argon",security:!1},{name:"nodejs",version:"4.6.0",date:"2016-09-27",lts:"Argon",security:!0},{name:"nodejs",version:"4.7.0",date:"2016-12-06",lts:"Argon",security:!1},{name:"nodejs",version:"4.8.0",date:"2017-02-21",lts:"Argon",security:!1},{name:"nodejs",version:"4.9.0",date:"2018-03-28",lts:"Argon",security:!0},{name:"nodejs",version:"5.0.0",date:"2015-10-29",lts:!1,security:!1},{name:"nodejs",version:"5.1.0",date:"2015-11-17",lts:!1,security:!1},{name:"nodejs",version:"5.2.0",date:"2015-12-09",lts:!1,security:!1},{name:"nodejs",version:"5.3.0",date:"2015-12-15",lts:!1,security:!1},{name:"nodejs",version:"5.4.0",date:"2016-01-06",lts:!1,security:!1},{name:"nodejs",version:"5.5.0",date:"2016-01-21",lts:!1,security:!1},{name:"nodejs",version:"5.6.0",date:"2016-02-09",lts:!1,security:!1},{name:"nodejs",version:"5.7.0",date:"2016-02-23",lts:!1,security:!1},{name:"nodejs",version:"5.8.0",date:"2016-03-09",lts:!1,security:!1},{name:"nodejs",version:"5.9.0",date:"2016-03-16",lts:!1,security:!1},{name:"nodejs",version:"5.10.0",date:"2016-04-01",lts:!1,security:!1},{name:"nodejs",version:"5.11.0",date:"2016-04-21",lts:!1,security:!1},{name:"nodejs",version:"5.12.0",date:"2016-06-23",lts:!1,security:!1},{name:"nodejs",version:"6.0.0",date:"2016-04-26",lts:!1,security:!1},{name:"nodejs",version:"6.1.0",date:"2016-05-05",lts:!1,security:!1},{name:"nodejs",version:"6.2.0",date:"2016-05-17",lts:!1,security:!1},{name:"nodejs",version:"6.3.0",date:"2016-07-06",lts:!1,security:!1},{name:"nodejs",version:"6.4.0",date:"2016-08-12",lts:!1,security:!1},{name:"nodejs",version:"6.5.0",date:"2016-08-26",lts:!1,security:!1},{name:"nodejs",version:"6.6.0",date:"2016-09-14",lts:!1,security:!1},{name:"nodejs",version:"6.7.0",date:"2016-09-27",lts:!1,security:!0},{name:"nodejs",version:"6.8.0",date:"2016-10-12",lts:!1,security:!1},{name:"nodejs",version:"6.9.0",date:"2016-10-18",lts:"Boron",security:!1},{name:"nodejs",version:"6.10.0",date:"2017-02-21",lts:"Boron",security:!1},{name:"nodejs",version:"6.11.0",date:"2017-06-06",lts:"Boron",security:!1},{name:"nodejs",version:"6.12.0",date:"2017-11-06",lts:"Boron",security:!1},{name:"nodejs",version:"6.13.0",date:"2018-02-10",lts:"Boron",security:!1},{name:"nodejs",version:"6.14.0",date:"2018-03-28",lts:"Boron",security:!0},{name:"nodejs",version:"6.15.0",date:"2018-11-27",lts:"Boron",security:!0},{name:"nodejs",version:"6.16.0",date:"2018-12-26",lts:"Boron",security:!1},{name:"nodejs",version:"6.17.0",date:"2019-02-28",lts:"Boron",security:!0},{name:"nodejs",version:"7.0.0",date:"2016-10-25",lts:!1,security:!1},{name:"nodejs",version:"7.1.0",date:"2016-11-08",lts:!1,security:!1},{name:"nodejs",version:"7.2.0",date:"2016-11-22",lts:!1,security:!1},{name:"nodejs",version:"7.3.0",date:"2016-12-20",lts:!1,security:!1},{name:"nodejs",version:"7.4.0",date:"2017-01-04",lts:!1,security:!1},{name:"nodejs",version:"7.5.0",date:"2017-01-31",lts:!1,security:!1},{name:"nodejs",version:"7.6.0",date:"2017-02-21",lts:!1,security:!1},{name:"nodejs",version:"7.7.0",date:"2017-02-28",lts:!1,security:!1},{name:"nodejs",version:"7.8.0",date:"2017-03-29",lts:!1,security:!1},{name:"nodejs",version:"7.9.0",date:"2017-04-11",lts:!1,security:!1},{name:"nodejs",version:"7.10.0",date:"2017-05-02",lts:!1,security:!1},{name:"nodejs",version:"8.0.0",date:"2017-05-30",lts:!1,security:!1},{name:"nodejs",version:"8.1.0",date:"2017-06-08",lts:!1,security:!1},{name:"nodejs",version:"8.2.0",date:"2017-07-19",lts:!1,security:!1},{name:"nodejs",version:"8.3.0",date:"2017-08-08",lts:!1,security:!1},{name:"nodejs",version:"8.4.0",date:"2017-08-15",lts:!1,security:!1},{name:"nodejs",version:"8.5.0",date:"2017-09-12",lts:!1,security:!1},{name:"nodejs",version:"8.6.0",date:"2017-09-26",lts:!1,security:!1},{name:"nodejs",version:"8.7.0",date:"2017-10-11",lts:!1,security:!1},{name:"nodejs",version:"8.8.0",date:"2017-10-24",lts:!1,security:!1},{name:"nodejs",version:"8.9.0",date:"2017-10-31",lts:"Carbon",security:!1},{name:"nodejs",version:"8.10.0",date:"2018-03-06",lts:"Carbon",security:!1},{name:"nodejs",version:"8.11.0",date:"2018-03-28",lts:"Carbon",security:!0},{name:"nodejs",version:"8.12.0",date:"2018-09-10",lts:"Carbon",security:!1},{name:"nodejs",version:"8.13.0",date:"2018-11-20",lts:"Carbon",security:!1},{name:"nodejs",version:"8.14.0",date:"2018-11-27",lts:"Carbon",security:!0},{name:"nodejs",version:"8.15.0",date:"2018-12-26",lts:"Carbon",security:!1},{name:"nodejs",version:"8.16.0",date:"2019-04-16",lts:"Carbon",security:!1},{name:"nodejs",version:"8.17.0",date:"2019-12-17",lts:"Carbon",security:!0},{name:"nodejs",version:"9.0.0",date:"2017-10-31",lts:!1,security:!1},{name:"nodejs",version:"9.1.0",date:"2017-11-07",lts:!1,security:!1},{name:"nodejs",version:"9.2.0",date:"2017-11-14",lts:!1,security:!1},{name:"nodejs",version:"9.3.0",date:"2017-12-12",lts:!1,security:!1},{name:"nodejs",version:"9.4.0",date:"2018-01-10",lts:!1,security:!1},{name:"nodejs",version:"9.5.0",date:"2018-01-31",lts:!1,security:!1},{name:"nodejs",version:"9.6.0",date:"2018-02-21",lts:!1,security:!1},{name:"nodejs",version:"9.7.0",date:"2018-03-01",lts:!1,security:!1},{name:"nodejs",version:"9.8.0",date:"2018-03-07",lts:!1,security:!1},{name:"nodejs",version:"9.9.0",date:"2018-03-21",lts:!1,security:!1},{name:"nodejs",version:"9.10.0",date:"2018-03-28",lts:!1,security:!0},{name:"nodejs",version:"9.11.0",date:"2018-04-04",lts:!1,security:!1},{name:"nodejs",version:"10.0.0",date:"2018-04-24",lts:!1,security:!1},{name:"nodejs",version:"10.1.0",date:"2018-05-08",lts:!1,security:!1},{name:"nodejs",version:"10.2.0",date:"2018-05-23",lts:!1,security:!1},{name:"nodejs",version:"10.3.0",date:"2018-05-29",lts:!1,security:!1},{name:"nodejs",version:"10.4.0",date:"2018-06-06",lts:!1,security:!1},{name:"nodejs",version:"10.5.0",date:"2018-06-20",lts:!1,security:!1},{name:"nodejs",version:"10.6.0",date:"2018-07-04",lts:!1,security:!1},{name:"nodejs",version:"10.7.0",date:"2018-07-18",lts:!1,security:!1},{name:"nodejs",version:"10.8.0",date:"2018-08-01",lts:!1,security:!1},{name:"nodejs",version:"10.9.0",date:"2018-08-15",lts:!1,security:!1},{name:"nodejs",version:"10.10.0",date:"2018-09-06",lts:!1,security:!1},{name:"nodejs",version:"10.11.0",date:"2018-09-19",lts:!1,security:!1},{name:"nodejs",version:"10.12.0",date:"2018-10-10",lts:!1,security:!1},{name:"nodejs",version:"10.13.0",date:"2018-10-30",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.14.0",date:"2018-11-27",lts:"Dubnium",security:!0},{name:"nodejs",version:"10.15.0",date:"2018-12-26",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.16.0",date:"2019-05-28",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.17.0",date:"2019-10-21",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.18.0",date:"2019-12-16",lts:"Dubnium",security:!0},{name:"nodejs",version:"10.19.0",date:"2020-02-05",lts:"Dubnium",security:!0},{name:"nodejs",version:"10.20.0",date:"2020-03-24",lts:"Dubnium",security:!1},{name:"nodejs",version:"10.21.0",date:"2020-06-02",lts:"Dubnium",security:!0},{name:"nodejs",version:"11.0.0",date:"2018-10-23",lts:!1,security:!1},{name:"nodejs",version:"11.1.0",date:"2018-10-30",lts:!1,security:!1},{name:"nodejs",version:"11.2.0",date:"2018-11-15",lts:!1,security:!1},{name:"nodejs",version:"11.3.0",date:"2018-11-27",lts:!1,security:!0},{name:"nodejs",version:"11.4.0",date:"2018-12-07",lts:!1,security:!1},{name:"nodejs",version:"11.5.0",date:"2018-12-18",lts:!1,security:!1},{name:"nodejs",version:"11.6.0",date:"2018-12-26",lts:!1,security:!1},{name:"nodejs",version:"11.7.0",date:"2019-01-17",lts:!1,security:!1},{name:"nodejs",version:"11.8.0",date:"2019-01-24",lts:!1,security:!1},{name:"nodejs",version:"11.9.0",date:"2019-01-30",lts:!1,security:!1},{name:"nodejs",version:"11.10.0",date:"2019-02-14",lts:!1,security:!1},{name:"nodejs",version:"11.11.0",date:"2019-03-05",lts:!1,security:!1},{name:"nodejs",version:"11.12.0",date:"2019-03-14",lts:!1,security:!1},{name:"nodejs",version:"11.13.0",date:"2019-03-28",lts:!1,security:!1},{name:"nodejs",version:"11.14.0",date:"2019-04-10",lts:!1,security:!1},{name:"nodejs",version:"11.15.0",date:"2019-04-30",lts:!1,security:!1},{name:"nodejs",version:"12.0.0",date:"2019-04-23",lts:!1,security:!1},{name:"nodejs",version:"12.1.0",date:"2019-04-29",lts:!1,security:!1},{name:"nodejs",version:"12.2.0",date:"2019-05-07",lts:!1,security:!1},{name:"nodejs",version:"12.3.0",date:"2019-05-21",lts:!1,security:!1},{name:"nodejs",version:"12.4.0",date:"2019-06-04",lts:!1,security:!1},{name:"nodejs",version:"12.5.0",date:"2019-06-26",lts:!1,security:!1},{name:"nodejs",version:"12.6.0",date:"2019-07-03",lts:!1,security:!1},{name:"nodejs",version:"12.7.0",date:"2019-07-23",lts:!1,security:!1},{name:"nodejs",version:"12.8.0",date:"2019-08-06",lts:!1,security:!1},{name:"nodejs",version:"12.9.0",date:"2019-08-20",lts:!1,security:!1},{name:"nodejs",version:"12.10.0",date:"2019-09-04",lts:!1,security:!1},{name:"nodejs",version:"12.11.0",date:"2019-09-25",lts:!1,security:!1},{name:"nodejs",version:"12.12.0",date:"2019-10-11",lts:!1,security:!1},{name:"nodejs",version:"12.13.0",date:"2019-10-21",lts:"Erbium",security:!1},{name:"nodejs",version:"12.14.0",date:"2019-12-16",lts:"Erbium",security:!0},{name:"nodejs",version:"12.15.0",date:"2020-02-05",lts:"Erbium",security:!0},{name:"nodejs",version:"12.16.0",date:"2020-02-11",lts:"Erbium",security:!1},{name:"nodejs",version:"12.17.0",date:"2020-05-26",lts:"Erbium",security:!1},{name:"nodejs",version:"12.18.0",date:"2020-06-02",lts:"Erbium",security:!0},{name:"nodejs",version:"13.0.0",date:"2019-10-10",lts:!1,security:!1},{name:"nodejs",version:"13.1.0",date:"2019-11-05",lts:!1,security:!1},{name:"nodejs",version:"13.2.0",date:"2019-11-21",lts:!1,security:!1},{name:"nodejs",version:"13.3.0",date:"2019-12-03",lts:!1,security:!1},{name:"nodejs",version:"13.4.0",date:"2019-12-17",lts:!1,security:!0},{name:"nodejs",version:"13.5.0",date:"2019-12-18",lts:!1,security:!1},{name:"nodejs",version:"13.6.0",date:"2020-01-07",lts:!1,security:!1},{name:"nodejs",version:"13.7.0",date:"2020-01-21",lts:!1,security:!1},{name:"nodejs",version:"13.8.0",date:"2020-02-05",lts:!1,security:!0},{name:"nodejs",version:"13.9.0",date:"2020-02-18",lts:!1,security:!1},{name:"nodejs",version:"13.10.0",date:"2020-03-03",lts:!1,security:!1},{name:"nodejs",version:"13.11.0",date:"2020-03-12",lts:!1,security:!1},{name:"nodejs",version:"13.12.0",date:"2020-03-26",lts:!1,security:!1},{name:"nodejs",version:"13.13.0",date:"2020-04-14",lts:!1,security:!1},{name:"nodejs",version:"13.14.0",date:"2020-04-28",lts:!1,security:!1},{name:"nodejs",version:"14.0.0",date:"2020-04-21",lts:!1,security:!1},{name:"nodejs",version:"14.1.0",date:"2020-04-29",lts:!1,security:!1},{name:"nodejs",version:"14.2.0",date:"2020-05-05",lts:!1,security:!1},{name:"nodejs",version:"14.3.0",date:"2020-05-19",lts:!1,security:!1},{name:"nodejs",version:"14.4.0",date:"2020-06-02",lts:!1,security:!0}]}),jU={A:"ie",B:"edge",C:"firefox",D:"chrome",E:"safari",F:"opera",G:"ios_saf",H:"op_mini",I:"android",J:"bb",K:"op_mob",L:"and_chr",M:"and_ff",N:"ie_mob",O:"and_uc",P:"samsung",Q:"and_qq",R:"baidu",S:"kaios"},AU=Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.browsers=jU}),PU={0:"49",1:"50",2:"51",3:"52",4:"53",5:"54",6:"55",7:"56",8:"57",9:"58",A:"10",B:"11",C:"12",D:"9",E:"8",F:"7",G:"4",H:"16",I:"6",J:"17",K:"18",L:"11.1",M:"68",N:"81",O:"13",P:"15",Q:"46",R:"67",S:"12.1",T:"65",U:"14",V:"5",W:"19",X:"20",Y:"21",Z:"22",a:"23",b:"24",c:"25",d:"26",e:"27",f:"28",g:"29",h:"30",i:"31",j:"32",k:"33",l:"34",m:"35",n:"36",o:"37",p:"38",q:"39",r:"40",s:"41",t:"42",u:"43",v:"44",w:"45",x:"66",y:"47",z:"48",AB:"64",BB:"60",CB:"63",DB:"62",EB:"11.5",FB:"61",GB:"3",HB:"4.2-4.3",IB:"83",JB:"80",KB:"69",LB:"70",MB:"71",NB:"72",OB:"73",PB:"74",QB:"75",RB:"76",SB:"77",TB:"78",UB:"59",VB:"79",WB:"10.1",XB:"3.2",YB:"10.0-10.2",ZB:"86",aB:"85",bB:"5.1",cB:"6.1",dB:"7.1",eB:"9.1",fB:"84",gB:"3.6",hB:"5.5",iB:"13.1",jB:"TP",kB:"9.5-9.6",lB:"10.0-10.1",mB:"10.5",nB:"10.6",oB:"3.5",pB:"11.6",qB:"4.0-4.1",rB:"2",sB:"5.0-5.1",tB:"6.0-6.1",uB:"7.0-7.1",vB:"8.1-8.4",wB:"9.0-9.2",xB:"9.3",yB:"3.1",zB:"10.3","0B":"11.0-11.2","1B":"11.3-11.4","2B":"12.0-12.1","3B":"12.2-12.4","4B":"13.0-13.1","5B":"13.2","6B":"13.3","7B":"13.4","8B":"all","9B":"2.1",AC:"2.2",BC:"2.3",CC:"4.1",DC:"4.4",EC:"4.4.3-4.4.4",FC:"12.12",GC:"5.0-5.4",HC:"6.2-6.4",IC:"7.2-7.4",JC:"8.2",KC:"9.2",LC:"10.4",MC:"7.12",NC:"2.5"},kU=Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.browserVersions=PU}),CU={A:{A:{I:.00545889,F:.0108864,E:.0873422,D:.218356,A:.0272944,B:1.43023,hB:.009298},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","hB","I","F","E","D","A","B","","",""],E:"IE",F:{hB:962323200,I:998870400,F:1161129600,E:1237420800,D:1300060800,A:1346716800,B:1381968e3}},B:{A:{C:.00867,O:.00867,U:.013005,P:.013005,H:.030345,J:.09537,K:2.00277,VB:0,JB:0,N:0,IB:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","C","O","U","P","H","J","K","VB","JB","N","IB","","",""],E:"Edge",F:{C:1438128e3,O:1447286400,U:1470096e3,P:1491868800,H:1508198400,J:1525046400,K:1542067200,VB:1579046400,JB:1581033600,N:1586736e3,IB:1590019200},D:{C:"ms",O:"ms",U:"ms",P:"ms",H:"ms",J:"ms",K:"ms"}},C:{A:{0:.004538,1:.00867,2:.004335,3:.11271,4:.004335,5:.013005,6:.00867,7:.021675,8:.00867,9:.013005,rB:.004827,GB:.004538,G:.00974,V:.004879,I:.020136,F:.005725,E:.004525,D:.00533,A:.004283,B:.009042,C:.004471,O:.004486,U:.00453,P:.004465,H:.004417,J:.008922,K:.004393,W:.004443,X:.004283,Y:.013596,Z:.013698,a:.013614,b:.008786,c:.004403,d:.004317,e:.004393,f:.004418,g:.008834,h:.004403,i:.008928,j:.004471,k:.021675,l:.004707,m:.009076,n:.004465,o:.004783,p:.00867,q:.004783,r:.00487,s:.005029,t:.0047,u:.01734,v:.004335,w:.00867,Q:.004525,y:.013005,z:.021675,UB:.00867,BB:.021675,FB:.004335,DB:.004335,CB:.021675,AB:.01734,T:.021675,x:.01734,R:.013005,M:.108375,KB:.013005,LB:.01734,MB:.01734,NB:.06069,OB:.04335,PB:1.16178,QB:2.01577,RB:.039015,SB:0,TB:0,oB:.008786,gB:.00487},B:"moz",C:["","","rB","GB","oB","gB","G","V","I","F","E","D","A","B","C","O","U","P","H","J","K","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","Q","y","z","0","1","2","3","4","5","6","7","8","9","UB","BB","FB","DB","CB","AB","T","x","R","M","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB",""],E:"Firefox",F:{0:1474329600,1:1479168e3,2:1485216e3,3:1488844800,4:149256e4,5:1497312e3,6:1502150400,7:1506556800,8:1510617600,9:1516665600,rB:1161648e3,GB:1213660800,oB:124632e4,gB:1264032e3,G:1300752e3,V:1308614400,I:1313452800,F:1317081600,E:1317081600,D:1320710400,A:1324339200,B:1327968e3,C:1331596800,O:1335225600,U:1338854400,P:1342483200,H:1346112e3,J:1349740800,K:1353628800,W:1357603200,X:1361232e3,Y:1364860800,Z:1368489600,a:1372118400,b:1375747200,c:1379376e3,d:1386633600,e:1391472e3,f:1395100800,g:1398729600,h:1402358400,i:1405987200,j:1409616e3,k:1413244800,l:1417392e3,m:1421107200,n:1424736e3,o:1428278400,p:1431475200,q:1435881600,r:1439251200,s:144288e4,t:1446508800,u:1450137600,v:1453852800,w:1457395200,Q:1461628800,y:1465257600,z:1470096e3,UB:1520985600,BB:1525824e3,FB:1529971200,DB:1536105600,CB:1540252800,AB:1544486400,T:154872e4,x:1552953600,R:1558396800,M:1562630400,KB:1567468800,LB:1571788800,MB:1575331200,NB:1578355200,OB:1581379200,PB:1583798400,QB:1586304e3,RB:1588636800,SB:null,TB:null}},D:{A:{0:.35547,1:.004335,2:.00867,3:.004403,4:.039015,5:.013005,6:.01734,7:.02601,8:.021675,9:.021675,G:.004706,V:.004879,I:.004879,F:.005591,E:.005591,D:.005591,A:.004534,B:.004464,C:.010424,O:.00867,U:.004706,P:.015087,H:.004393,J:.004393,K:.008652,W:.004418,X:.004393,Y:.004317,Z:.004335,a:.008786,b:.004538,c:.004461,d:.004335,e:.004326,f:.0047,g:.004538,h:.004335,i:.00867,j:.004566,k:.00867,l:.00867,m:.004335,n:.004335,o:.004464,p:.02601,q:.004464,r:.01734,s:.021675,t:.004403,u:.013005,v:.004465,w:.00867,Q:.004538,y:.013005,z:.030345,UB:.013005,BB:.01734,FB:.02601,DB:.01734,CB:.056355,AB:.01734,T:.04335,x:.02601,R:.05202,M:.02601,KB:.0867,LB:.11271,MB:.143055,NB:.15606,OB:.134385,PB:.12138,QB:.13005,RB:.143055,SB:.117045,TB:.19941,VB:.39015,JB:16.8978,N:8.70901,IB:.02601,fB:.01734,aB:0,ZB:0},B:"webkit",C:["G","V","I","F","E","D","A","B","C","O","U","P","H","J","K","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","Q","y","z","0","1","2","3","4","5","6","7","8","9","UB","BB","FB","DB","CB","AB","T","x","R","M","KB","LB","MB","NB","OB","PB","QB","RB","SB","TB","VB","JB","N","IB","fB","aB","ZB"],E:"Chrome",F:{0:1456963200,1:1460592e3,2:1464134400,3:1469059200,4:1472601600,5:1476230400,6:1480550400,7:1485302400,8:1489017600,9:149256e4,G:1264377600,V:1274745600,I:1283385600,F:1287619200,E:1291248e3,D:1296777600,A:1299542400,B:1303862400,C:1307404800,O:1312243200,U:1316131200,P:1316131200,H:1319500800,J:1323734400,K:1328659200,W:1332892800,X:133704e4,Y:1340668800,Z:1343692800,a:1348531200,b:1352246400,c:1357862400,d:1361404800,e:1364428800,f:1369094400,g:1374105600,h:1376956800,i:1384214400,j:1389657600,k:1392940800,l:1397001600,m:1400544e3,n:1405468800,o:1409011200,p:141264e4,q:1416268800,r:1421798400,s:1425513600,t:1429401600,u:143208e4,v:1437523200,w:1441152e3,Q:1444780800,y:1449014400,z:1453248e3,UB:1496707200,BB:1500940800,FB:1504569600,DB:1508198400,CB:1512518400,AB:1516752e3,T:1520294400,x:1523923200,R:1527552e3,M:1532390400,KB:1536019200,LB:1539648e3,MB:1543968e3,NB:154872e4,OB:1552348800,PB:1555977600,QB:1559606400,RB:1564444800,SB:1568073600,TB:1571702400,VB:1575936e3,JB:1580860800,N:1586304e3,IB:1589846400,fB:null,aB:null,ZB:null}},E:{A:{G:0,V:.004566,I:.00867,F:.004465,E:.021675,D:.00867,A:.013005,B:.030345,C:.0867,O:2.04179,yB:0,XB:.008692,bB:.099705,cB:.00456,dB:.004283,eB:.04335,WB:.082365,L:.169065,S:.316455,iB:1.24848,jB:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","yB","XB","G","V","bB","I","cB","F","dB","E","D","eB","A","WB","B","L","C","S","O","iB","jB","",""],E:"Safari",F:{yB:1205798400,XB:1226534400,G:1244419200,V:1275868800,bB:131112e4,I:1343174400,cB:13824e5,F:13824e5,dB:1410998400,E:1413417600,D:1443657600,eB:1458518400,A:1474329600,WB:1490572800,B:1505779200,L:1522281600,C:1537142400,S:1553472e3,O:1568851200,iB:1585008e3,jB:null}},F:{A:{0:.004827,1:.004707,2:.004707,3:.004326,4:.008922,5:.014349,6:.004725,7:.004335,8:.004335,9:.00867,D:.0082,B:.016581,C:.004317,P:.00685,H:.00685,J:.00685,K:.005014,W:.006015,X:.004879,Y:.006597,Z:.006597,a:.013434,b:.006702,c:.006015,d:.005595,e:.004393,f:.008652,g:.004879,h:.004879,i:.009132,j:.005152,k:.005014,l:.009758,m:.004879,n:.00867,o:.004283,p:.004367,q:.004534,r:.004367,s:.004227,t:.004418,u:.009042,v:.004227,w:.004725,Q:.004417,y:.008942,z:.004707,BB:.004403,DB:.004532,CB:.004566,AB:.02283,T:.00867,x:.013005,R:.906015,M:.01734,kB:.00685,lB:0,mB:.008392,nB:.004706,L:.006229,EB:.004879,pB:.008786,S:.004335},B:"webkit",C:["","","","","","","","","","","","","","","","","D","kB","lB","mB","nB","B","L","EB","pB","C","S","P","H","J","K","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","Q","y","z","0","1","2","3","4","5","6","7","8","9","BB","DB","CB","AB","T","x","R","M","","",""],E:"Opera",F:{0:1510099200,1:1515024e3,2:1517961600,3:1521676800,4:1525910400,5:1530144e3,6:1534982400,7:1537833600,8:1543363200,9:1548201600,D:1150761600,kB:1223424e3,lB:1251763200,mB:1267488e3,nB:1277942400,B:1292457600,L:1302566400,EB:1309219200,pB:1323129600,C:1323129600,S:1352073600,P:1372723200,H:1377561600,J:1381104e3,K:1386288e3,W:1390867200,X:1393891200,Y:1399334400,Z:1401753600,a:1405987200,b:1409616e3,c:1413331200,d:1417132800,e:1422316800,f:1425945600,g:1430179200,h:1433808e3,i:1438646400,j:1442448e3,k:1445904e3,l:1449100800,m:1454371200,n:1457308800,o:146232e4,p:1465344e3,q:1470096e3,r:1474329600,s:1477267200,t:1481587200,u:1486425600,v:1490054400,w:1494374400,Q:1498003200,y:1502236800,z:1506470400,BB:1554768e3,DB:1561593600,CB:1566259200,AB:1570406400,T:1573689600,x:1578441600,R:1583971200,M:1587513600},D:{D:"o",B:"o",C:"o",kB:"o",lB:"o",mB:"o",nB:"o",L:"o",EB:"o",pB:"o",S:"o"}},G:{A:{E:.00150429,XB:.00150429,qB:0,HB:.00300858,sB:.0150429,tB:.00451286,uB:.0150429,vB:.02106,wB:.0180515,xB:.216617,YB:.0556587,zB:.191045,"0B":.123352,"1B":.209096,"2B":.258738,"3B":1.69533,"4B":.361029,"5B":.176002,"6B":9.85609,"7B":1.82621},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","XB","qB","HB","sB","tB","uB","E","vB","wB","xB","YB","zB","0B","1B","2B","3B","4B","5B","6B","7B","","",""],E:"iOS Safari",F:{XB:1270252800,qB:1283904e3,HB:1299628800,sB:1331078400,tB:1359331200,uB:1394409600,E:1410912e3,vB:1413763200,wB:1442361600,xB:1458518400,YB:1473724800,zB:1490572800,"0B":1505779200,"1B":1522281600,"2B":1537142400,"3B":1553472e3,"4B":1568851200,"5B":1572220800,"6B":1580169600,"7B":1585008e3}},H:{A:{"8B":.691982},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","8B","","",""],E:"Opera Mini",F:{"8B":1426464e3}},I:{A:{GB:620932e-9,G:.00558838,N:0,"9B":0,AC:.00186279,BC:620932e-9,CC:.0124186,HB:.0260791,DC:0,EC:.179449},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","9B","AC","BC","GB","G","CC","HB","DC","EC","N","","",""],E:"Android Browser",F:{"9B":1256515200,AC:1274313600,BC:1291593600,GB:1298332800,G:1318896e3,CC:1341792e3,HB:1374624e3,DC:1386547200,EC:1401667200,N:1587427200}},J:{A:{F:0,A:.005666},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","F","A","","",""],E:"Blackberry Browser",F:{F:1325376e3,A:1359504e3}},K:{A:{A:0,B:0,C:0,Q:.0111391,L:0,EB:0,S:0},B:"o",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","L","EB","C","S","Q","","",""],E:"Opera Mobile",F:{A:1287100800,B:1300752e3,L:1314835200,EB:1318291200,C:1330300800,S:1349740800,Q:1474588800},D:{Q:"webkit"}},L:{A:{N:34.7979},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","N","","",""],E:"Chrome for Android",F:{N:1587427200}},M:{A:{M:.22664},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","M","","",""],E:"Firefox for Android",F:{M:1567468800}},N:{A:{A:.0115934,B:.022664},B:"ms",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","A","B","","",""],E:"IE Mobile",F:{A:1340150400,B:1353456e3}},O:{A:{FC:1.97743},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","FC","","",""],E:"UC Browser for Android",F:{FC:1471392e3},D:{FC:"webkit"}},P:{A:{G:.268735,GC:.010336,HC:.010336,IC:.0930236,JC:.0310079,KC:.196383,WB:.330751,L:2.64601},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","G","GC","HC","IC","JC","KC","WB","L","","",""],E:"Samsung Internet",F:{G:1461024e3,GC:1481846400,HC:1509408e3,IC:1528329600,JC:1546128e3,KC:1554163200,WB:1567900800,L:1582588800}},Q:{A:{LC:.215308},B:"webkit",
C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","LC","","",""],E:"QQ Browser",F:{LC:1589846400}},R:{A:{MC:0},B:"webkit",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","MC","","",""],E:"Baidu Browser",F:{MC:1491004800}},S:{A:{NC:.067992},B:"moz",C:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","NC","","",""],E:"KaiOS Browser",F:{NC:1527811200}}},DU=Lr(function(e,t){function r(e){return Object.keys(e).reduce(function(t,r){return t[kU.browserVersions[r]]=e[r],t},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.agents=void 0;t.agents=Object.keys(CU).reduce(function(e,t){var n=CU[t];return e[AU.browsers[t]]=Object.keys(n).reduce(function(e,t){return"A"===t?e.usage_global=r(n[t]):"C"===t?e.versions=n[t].reduce(function(e,t){return""===t?e.push(null):e.push(kU.browserVersions[t]),e},[]):"D"===t?e.prefix_exceptions=r(n[t]):"E"===t?e.browser=n[t]:"F"===t?e.release_date=Object.keys(n[t]).reduce(function(e,r){return e[kU.browserVersions[r]]=n[t][r],e},{}):e.prefix=n[t],e},{}),e},{})}),_U={start:"2015-09-08",lts:"2015-10-12",maintenance:"2017-04-01",end:"2018-04-30",codename:"Argon"},IU={start:"2015-10-29",maintenance:"2016-04-30",end:"2016-06-30"},OU={start:"2016-04-26",lts:"2016-10-18",maintenance:"2018-04-30",end:"2019-04-30",codename:"Boron"},NU={start:"2016-10-25",maintenance:"2017-04-30",end:"2017-06-30"},BU={start:"2017-05-30",lts:"2017-10-31",maintenance:"2019-01-01",end:"2019-12-31",codename:"Carbon"},FU={start:"2017-10-01",maintenance:"2018-04-01",end:"2018-06-30"},RU={start:"2018-04-24",lts:"2018-10-30",maintenance:"2020-05-19",end:"2021-04-30",codename:"Dubnium"},MU={start:"2018-10-23",maintenance:"2019-04-22",end:"2019-06-01"},LU={start:"2019-04-23",lts:"2019-10-21",maintenance:"2020-10-20",end:"2022-04-30",codename:"Erbium"},UU={start:"2019-10-22",maintenance:"2020-04-01",end:"2020-06-01"},WU={start:"2020-04-21",lts:"2020-10-20",maintenance:"2021-10-19",end:"2023-04-30",codename:""},VU={start:"2020-10-21",maintenance:"2021-04-01",end:"2021-06-01"},GU={"v0.10":{start:"2013-03-11",end:"2016-10-31"},"v0.12":{start:"2015-02-06",end:"2016-12-31"},v4:_U,v5:IU,v6:OU,v7:NU,v8:BU,v9:FU,v10:RU,v11:MU,v12:LU,v13:UU,v14:WU,v15:VU},KU=Object.freeze({__proto__:null,v4:_U,v5:IU,v6:OU,v7:NU,v8:BU,v9:FU,v10:RU,v11:MU,v12:LU,v13:UU,v14:WU,v15:VU,default:GU}),HU={"0.20":"39",.21:"41",.22:"41",.23:"41",.24:"41",.25:"42",.26:"42",.27:"43",.28:"43",.29:"43","0.30":"44",.31:"45",.32:"45",.33:"45",.34:"45",.35:"45",.36:"47",.37:"49","1.0":"49",1.1:"50",1.2:"51",1.3:"52",1.4:"53",1.5:"54",1.6:"56",1.7:"58",1.8:"59","2.0":"61",2.1:"61","3.0":"66",3.1:"66","4.0":"69",4.1:"69",4.2:"69","5.0":"73","6.0":"76",6.1:"76","7.0":"78",7.1:"78",7.2:"78",7.3:"78","8.0":"80",8.1:"80",8.2:"80",8.3:"80",8.4:"80",8.5:"80","9.0":"83",9.1:"83",9.2:"83",9.3:"83","10.0":"85",10.1:"85","11.0":"87"};function zU(e){this.name="BrowserslistError",this.message=e,this.browserslist=!0,Error.captureStackTrace&&Error.captureStackTrace(this,zU)}zU.prototype=Error.prototype;var qU=zU;function XU(){}var JU={loadQueries:function(){throw new qU("Sharable configs are not supported in client-side build of Browserslist")},getStat:function(e){return e.stats},loadConfig:function(e){if(e.config)throw new qU("Browserslist config are not supported in client-side build")},loadCountry:function(){throw new qU("Country statistics is not supported in client-side build of Browserslist")},currentNode:function(e,t){return e(["maintained node versions"],t)[0]},parseConfig:XU,readConfig:XU,findConfig:XU,clearCaches:XU,oldDataWarning:XU},YU=Ur(TU),$U=Ur(KU),QU=DU.agents;function ZU(e,t){return 0===(e+".").indexOf(t+".")}function eW(e){return e.filter(function(e){return"string"==typeof e})}function tW(e){var t=e;return 3===e.split(".").length&&(t=e.split(".").slice(0,-1).join(".")),t}function rW(e){return function(t){return e+" "+t}}function nW(e){return parseInt(e.split(".")[0])}function aW(e,t){if(0===e.length)return[];var r=sW(e.map(nW)),n=r[r.length-t];if(!n)return e;for(var a=[],s=e.length-1;s>=0&&!(n>nW(e[s]));s--)a.unshift(e[s]);return a}function sW(e){for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}function iW(e,t,r){for(var n in r)e[t+" "+n]=r[n]}function oW(e,t){return t=parseFloat(t),">"===e?function(e){return parseFloat(e)>t}:">="===e?function(e){return parseFloat(e)>=t}:"<"===e?function(e){return parseFloat(e)<t}:function(e){return parseFloat(e)<=t}}function lW(e){return parseInt(e)}function cW(e,t){return e<t?-1:e>t?1:0}function uW(e,t){return cW(parseInt(e[0]),parseInt(t[0]))||cW(parseInt(e[1]||"0"),parseInt(t[1]||"0"))||cW(parseInt(e[2]||"0"),parseInt(t[2]||"0"))}function pW(e,t){switch(void 0===(t=t.split(".").map(lW))[1]&&(t[1]="x"),e){case"<=":return function(e){return dW(e=e.split(".").map(lW),t)<=0};default:case">=":return function(e){return dW(e=e.split(".").map(lW),t)>=0}}}function dW(e,t){return e[0]!==t[0]?e[0]<t[0]?-1:1:"x"===t[1]?0:e[1]!==t[1]?e[1]<t[1]?-1:1:0}function fW(e,t){var r=function(e,t){return-1!==e.versions.indexOf(t)?t:!!SW.versionAliases[e.name][t]&&SW.versionAliases[e.name][t]}(e,t);return r||1===e.versions.length&&e.versions[0]}function hW(e,t){return e/=1e3,Object.keys(QU).reduce(function(r,n){var a=yW(n,t);if(!a)return r;var s=Object.keys(a.releaseDate).filter(function(t){return a.releaseDate[t]>=e});return r.concat(s.map(rW(a.name)))},[])}function mW(e){return{name:e.name,versions:e.versions,released:e.released,releaseDate:e.releaseDate}}function yW(e,t){if(e=e.toLowerCase(),e=SW.aliases[e]||e,t.mobileToDesktop&&SW.desktopNames[e]){var r=SW.data[SW.desktopNames[e]];if("android"===e)return a=mW(SW.data[e]),s=r,a.released=gW(a.released,s.released),a.versions=gW(a.versions,s.versions),a;var n=mW(r);return n.name=e,"op_mob"===e&&(n=function(e,t){e.versions=e.versions.map(function(e){return t[e]||e}),e.released=e.versions.map(function(e){return t[e]||e});var r={};for(var n in e.releaseDate)r[t[n]||n]=e.releaseDate[n];return e.releaseDate=r,e}(n,{"10.0-10.1":"10"})),n}var a,s;return SW.data[e]}function gW(e,t){var r=t[t.length-1];return e.filter(function(e){return/^(?:[2-4]\.|[34]$)/.test(e)}).concat(t.slice(37-r-1))}function vW(e,t){var r=yW(e,t);if(!r)throw new qU("Unknown browser "+e);return r}function bW(e){return new qU("Unknown browser query `"+e+"`. Maybe you are using old Browserslist or made typo in query.")}function xW(e,t,r){if(r.mobileToDesktop)return e;var n=SW.data.android.released,a=n[n.length-1]-37-t;return a>0?e.slice(-1):e.slice(a-1)}function EW(e,t){return(e=Array.isArray(e)?function e(t){return Array.isArray(t)?t.reduce(function(t,r){return t.concat(e(r))},[]):[t]}(e.map(TW)):TW(e)).reduce(function(e,r,n){var a=r.queryString,s=0===a.indexOf("not ");if(s){if(0===n)throw new qU("Write any browsers query (for instance, `defaults`) before `"+a+"`");a=a.slice(4)}for(var i=0;i<AW.length;i++){var o=AW[i],l=a.match(o.regexp);if(l){var c=[t].concat(l.slice(1)),u=o.select.apply(SW,c).map(function(e){var r=e.split(" ");return"0"===r[1]?r[0]+" "+yW(r[0],t).versions[0]:e});switch(r.type){case 2:return s?e.filter(function(e){return-1===u.indexOf(e)}):e.filter(function(e){return-1!==u.indexOf(e)});case 1:default:if(s){var p={};return u.forEach(function(e){p[e]=!0}),e.filter(function(e){return!p[e]})}return e.concat(u)}}}throw bW(a)},[])}var wW={};function SW(e,t){if(void 0===t&&(t={}),void 0===t.path&&(t.path=q_.resolve?q_.resolve("."):"."),null==e){var r=SW.loadConfig(t);e=r||SW.defaults}if("string"!=typeof e&&!Array.isArray(e))throw new qU("Browser queries must be an array or string. Got "+typeof e+".");var n={ignoreUnknownVersions:t.ignoreUnknownVersions,dangerousExtend:t.dangerousExtend,mobileToDesktop:t.mobileToDesktop,env:t.env};JU.oldDataWarning(SW.data);var a=JU.getStat(t,SW.data);if(a)for(var s in n.customUsage={},a)iW(n.customUsage,s,a[s]);var i=JSON.stringify([e,n]);if(wW[i])return wW[i];var o=sW(EW(e,n)).sort(function(e,t){if(e=e.split(" "),t=t.split(" "),e[0]===t[0]){var r=e[1].split("-")[0];return uW(t[1].split("-")[0].split("."),r.split("."))}return cW(e[0],t[0])});return si.env.BROWSERSLIST_DISABLE_CACHE||(wW[i]=o),o}function TW(e){var t=[];do{e=jW(e,t)}while(e);return t}function jW(e,t){var r=/^(?:,\s*|\s+or\s+)(.*)/i,n=/^\s+and\s+(.*)/i;return function(e,t){for(var r=1,n=e.length;r<=n;r++){if(t(e.substr(-r,r),r,n))return e.slice(0,-r)}return""}(e,function(e,a,s){return n.test(e)?(t.unshift({type:2,queryString:e.match(n)[1]}),!0):r.test(e)?(t.unshift({type:1,queryString:e.match(r)[1]}),!0):a===s&&(t.unshift({type:1,queryString:e.trim()}),!0)})}SW.data={},SW.usage={global:{},custom:null},SW.defaults=["> 0.5%","last 2 versions","Firefox ESR","not dead"],SW.aliases={fx:"firefox",ff:"firefox",ios:"ios_saf",explorer:"ie",blackberry:"bb",explorermobile:"ie_mob",operamini:"op_mini",operamobile:"op_mob",chromeandroid:"and_chr",firefoxandroid:"and_ff",ucandroid:"and_uc",qqandroid:"and_qq"},SW.desktopNames={and_chr:"chrome",and_ff:"firefox",ie_mob:"ie",op_mob:"opera",android:"chrome"},SW.versionAliases={},SW.clearCaches=JU.clearCaches,SW.parseConfig=JU.parseConfig,SW.readConfig=JU.readConfig,SW.findConfig=JU.findConfig,SW.loadConfig=JU.loadConfig,SW.coverage=function(e,t){var r;if(void 0===t)r=SW.usage.global;else if("my stats"===t){var n={};n.path=q_.resolve?q_.resolve("."):".";var a=JU.getStat(n);if(!a)throw new qU("Custom usage statistics was not provided");for(var s in r={},a)iW(r,s,a[s])}else if("string"==typeof t)t=t.length>2?t.toLowerCase():t.toUpperCase(),JU.loadCountry(SW.usage,t,SW.data),r=SW.usage[t];else for(var i in"dataByBrowser"in t&&(t=t.dataByBrowser),r={},t)for(var o in t[i])r[i+" "+o]=t[i][o];return e.reduce(function(e,t){var n=r[t];return void 0===n&&(n=r[t.replace(/ \S+$/," 0")]),e+(n||0)},0)};var AW=[{regexp:/^last\s+(\d+)\s+major\s+versions?$/i,select:function(e,t){return Object.keys(QU).reduce(function(r,n){var a=yW(n,e);if(!a)return r;var s=aW(a.released,t);return s=s.map(rW(a.name)),"android"===a.name&&(s=xW(s,t,e)),r.concat(s)},[])}},{regexp:/^last\s+(\d+)\s+versions?$/i,select:function(e,t){return Object.keys(QU).reduce(function(r,n){var a=yW(n,e);if(!a)return r;var s=a.released.slice(-t);return s=s.map(rW(a.name)),"android"===a.name&&(s=xW(s,t,e)),r.concat(s)},[])}},{regexp:/^last\s+(\d+)\s+electron\s+major\s+versions?$/i,select:function(e,t){return aW(Object.keys(HU).reverse(),t).map(function(e){return"chrome "+HU[e]})}},{regexp:/^last\s+(\d+)\s+(\w+)\s+major\s+versions?$/i,select:function(e,t,r){var n=vW(r,e),a=aW(n.released,t).map(rW(n.name));return"android"===n.name&&(a=xW(a,t,e)),a}},{regexp:/^last\s+(\d+)\s+electron\s+versions?$/i,select:function(e,t){return Object.keys(HU).reverse().slice(-t).map(function(e){return"chrome "+HU[e]})}},{regexp:/^last\s+(\d+)\s+(\w+)\s+versions?$/i,select:function(e,t,r){var n=vW(r,e),a=n.released.slice(-t).map(rW(n.name));return"android"===n.name&&(a=xW(a,t,e)),a}},{regexp:/^unreleased\s+versions$/i,select:function(e){return Object.keys(QU).reduce(function(t,r){var n=yW(r,e);if(!n)return t;var a=n.versions.filter(function(e){return-1===n.released.indexOf(e)});return a=a.map(rW(n.name)),t.concat(a)},[])}},{regexp:/^unreleased\s+electron\s+versions?$/i,select:function(){return[]}},{regexp:/^unreleased\s+(\w+)\s+versions?$/i,select:function(e,t){var r=vW(t,e);return r.versions.filter(function(e){return-1===r.released.indexOf(e)}).map(rW(r.name))}},{regexp:/^last\s+(\d*.?\d+)\s+years?$/i,select:function(e,t){return hW(Date.now()-31558432982.4*t,e)}},{regexp:/^since (\d+)(?:-(\d+))?(?:-(\d+))?$/i,select:function(e,t,r,n){return t=parseInt(t),r=parseInt(r||"01")-1,n=parseInt(n||"01"),hW(Date.UTC(t,r,n,0,0,0),e)}},{regexp:/^(>=?|<=?)\s*(\d*\.?\d+)%$/,select:function(e,t,r){r=parseFloat(r);var n=SW.usage.global;return Object.keys(n).reduce(function(e,a){return">"===t?n[a]>r&&e.push(a):"<"===t?n[a]<r&&e.push(a):"<="===t?n[a]<=r&&e.push(a):n[a]>=r&&e.push(a),e},[])}},{regexp:/^(>=?|<=?)\s*(\d*\.?\d+)%\s+in\s+my\s+stats$/,select:function(e,t,r){if(r=parseFloat(r),!e.customUsage)throw new qU("Custom usage statistics was not provided");var n=e.customUsage;return Object.keys(n).reduce(function(e,a){return">"===t?n[a]>r&&e.push(a):"<"===t?n[a]<r&&e.push(a):"<="===t?n[a]<=r&&e.push(a):n[a]>=r&&e.push(a),e},[])}},{regexp:/^(>=?|<=?)\s*(\d*\.?\d+)%\s+in\s+(\S+)\s+stats$/,select:function(e,t,r,n){r=parseFloat(r);var a=JU.loadStat(e,n,SW.data);if(a)for(var s in e.customUsage={},a)iW(e.customUsage,s,a[s]);if(!e.customUsage)throw new qU("Custom usage statistics was not provided");var i=e.customUsage;return Object.keys(i).reduce(function(e,n){return">"===t?i[n]>r&&e.push(n):"<"===t?i[n]<r&&e.push(n):"<="===t?i[n]<=r&&e.push(n):i[n]>=r&&e.push(n),e},[])}},{regexp:/^(>=?|<=?)\s*(\d*\.?\d+)%\s+in\s+((alt-)?\w\w)$/,select:function(e,t,r,n){r=parseFloat(r),n=2===n.length?n.toUpperCase():n.toLowerCase(),JU.loadCountry(SW.usage,n,SW.data);var a=SW.usage[n];return Object.keys(a).reduce(function(e,n){return">"===t?a[n]>r&&e.push(n):"<"===t?a[n]<r&&e.push(n):"<="===t?a[n]<=r&&e.push(n):a[n]>=r&&e.push(n),e},[])}},{regexp:/^cover\s+(\d*\.?\d+)%(\s+in\s+(my\s+stats|(alt-)?\w\w))?$/,select:function(e,t,r){t=parseFloat(t);var n=SW.usage.global;if(r)if(r.match(/^\s+in\s+my\s+stats$/)){if(!e.customUsage)throw new qU("Custom usage statistics was not provided");n=e.customUsage}else{var a=r.match(/\s+in\s+((alt-)?\w\w)/)[1];a=2===a.length?a.toUpperCase():a.toLowerCase(),JU.loadCountry(SW.usage,a,SW.data),n=SW.usage[a]}for(var s,i=Object.keys(n).sort(function(e,t){return n[t]-n[e]}),o=0,l=[],c=0;c<=i.length&&(s=i[c],0!==n[s])&&(o+=n[s],l.push(s),!(o>=t));c++);return l}},{regexp:/^electron\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(e,t,r){var n=tW(t),a=tW(r);if(!HU[n])throw new qU("Unknown version "+t+" of electron");if(!HU[a])throw new qU("Unknown version "+r+" of electron");return t=parseFloat(t),r=parseFloat(r),Object.keys(HU).filter(function(e){var n=parseFloat(e);return n>=t&&n<=r}).map(function(e){return"chrome "+HU[e]})}},{regexp:/^node\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(e,t,r){var n=YU.filter(function(e){return"nodejs"===e.name}).map(function(e){return e.version}),a=/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){0,2}$/;if(!a.test(t))throw new qU("Unknown version "+t+" of Node.js");if(!a.test(r))throw new qU("Unknown version "+r+" of Node.js");return n.filter(pW(">=",t)).filter(pW("<=",r)).map(function(e){return"node "+e})}},{regexp:/^(\w+)\s+([\d.]+)\s*-\s*([\d.]+)$/i,select:function(e,t,r,n){var a=vW(t,e);return r=parseFloat(fW(a,r)||r),n=parseFloat(fW(a,n)||n),a.released.filter(function(e){var t=parseFloat(e);return t>=r&&t<=n}).map(rW(a.name))}},{regexp:/^electron\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(e,t,r){var n=tW(r);return Object.keys(HU).filter(oW(t,n)).map(function(e){return"chrome "+HU[e]})}},{regexp:/^node\s*(>=?|<=?)\s*([\d.]+)$/i,select:function(e,t,r){return YU.filter(function(e){return"nodejs"===e.name}).map(function(e){return e.version}).filter(function(e,t){return(t=t.split(".").map(lW))[1]=t[1]||0,t[2]=t[2]||0,">"===e?function(e){return uW(e=e.split(".").map(lW),t)>0}:">="===e?function(e){return uW(e=e.split(".").map(lW),t)>=0}:"<"===e?function(e){return e=e.split(".").map(lW),uW(t,e)>0}:function(e){return e=e.split(".").map(lW),uW(t,e)>=0}}(t,r)).map(function(e){return"node "+e})}},{regexp:/^(\w+)\s*(>=?|<=?)\s*([\d.]+)$/,select:function(e,t,r,n){var a=vW(t,e),s=SW.versionAliases[a.name][n];return s&&(n=s),a.released.filter(oW(r,n)).map(function(e){return a.name+" "+e})}},{regexp:/^(firefox|ff|fx)\s+esr$/i,select:function(){return["firefox 68"]}},{regexp:/(operamini|op_mini)\s+all/i,select:function(){return["op_mini all"]}},{regexp:/^electron\s+([\d.]+)$/i,select:function(e,t){var r=tW(t),n=HU[r];if(!n)throw new qU("Unknown version "+t+" of electron");return["chrome "+n]}},{regexp:/^node\s+(\d+(\.\d+)?(\.\d+)?)$/i,select:function(e,t){var r=YU.filter(function(e){return"nodejs"===e.name}).filter(function(e){return ZU(e.version,t)});if(0===r.length){if(e.ignoreUnknownVersions)return[];throw new qU("Unknown version "+t+" of Node.js")}return["node "+r[r.length-1].version]}},{regexp:/^current\s+node$/i,select:function(e){return[JU.currentNode(EW,e)]}},{regexp:/^maintained\s+node\s+versions$/i,select:function(e){var t=Date.now();return EW(Object.keys($U).filter(function(e){return t<Date.parse($U[e].end)&&t>Date.parse($U[e].start)&&function(e){var t=e.slice(1);return YU.some(function(e){return ZU(e.version,t)})}(e)}).map(function(e){return"node "+e.slice(1)}),e)}},{regexp:/^phantomjs\s+1.9$/i,select:function(){return["safari 5"]}},{regexp:/^phantomjs\s+2.1$/i,select:function(){return["safari 6"]}},{regexp:/^(\w+)\s+(tp|[\d.]+)$/i,select:function(e,t,r){/^tp$/i.test(r)&&(r="TP");var n=vW(t,e),a=fW(n,r);if(a)r=a;else{if(!(a=fW(n,a=-1===r.indexOf(".")?r+".0":r.replace(/\.0$/,"")))){if(e.ignoreUnknownVersions)return[];throw new qU("Unknown version "+r+" of "+t)}r=a}return[n.name+" "+r]}},{regexp:/^extends (.+)$/i,select:function(e,t){return EW(JU.loadQueries(e,t),e)}},{regexp:/^defaults$/i,select:function(e){return EW(SW.defaults,e)}},{regexp:/^dead$/i,select:function(e){return EW(["ie <= 10","ie_mob <= 11","bb <= 10","op_mob <= 12.1","samsung 4"],e)}},{regexp:/^(\w+)$/i,select:function(e,t){throw yW(t,e)?new qU("Specify versions in Browserslist query for browser "+t):bW(t)}}];!function(){for(var e in QU){var t=QU[e];SW.data[e]={name:e,versions:eW(QU[e].versions),released:eW(QU[e].versions.slice(0,-3)),releaseDate:QU[e].release_date},iW(SW.usage.global,e,t.usage_global),SW.versionAliases[e]={};for(var r=0;r<t.versions.length;r++){var n=t.versions[r];if(n&&-1!==n.indexOf("-"))for(var a=n.split("-"),s=0;s<a.length;s++)SW.versionAliases[e][a[s]]=n}}}();var PW=SW,kW=Math.min;function CW(e,t){var r=t.map(function(t){return function(e,t){var r,n,a=[],s=[],i=e.length,o=t.length;if(!i)return o;if(!o)return i;for(n=0;n<=o;n++)a[n]=n;for(r=1;r<=i;r++){for(s=[r],n=1;n<=o;n++)s[n]=e[r-1]===t[n-1]?a[n-1]:kW(a[n-1],a[n],s[n-1])+1;a=s}return s[o]}(t,e)});return t[r.indexOf(kW.apply(void 0,r))]}var DW=function(){function e(e){this.descriptor=e}var t=e.prototype;return t.validateTopLevelOptions=function(e,t){for(var r=Object.keys(t),n=0,a=Object.keys(e);n<a.length;n++){var s=a[n];if(!r.includes(s))throw new Error(this.formatMessage("'"+s+"' is not a valid top-level option.\n- Did you mean '"+CW(s,r)+"'?"))}},t.validateBooleanOption=function(e,t,r){return void 0===t?t=r:this.invariant("boolean"==typeof t,"'"+e+"' option must be a boolean."),t},t.validateStringOption=function(e,t,r){return void 0===t?t=r:this.invariant("string"==typeof t,"'"+e+"' option must be a string."),t},t.invariant=function(e,t){if(!e)throw new Error(this.formatMessage(t))},t.formatMessage=function(e){return this.descriptor+": "+e},e}(),_W=Ur(Object.freeze({__proto__:null,default:{"es6.module":{chrome:"61",and_chr:"61",edge:"16",firefox:"60",and_ff:"60",node:"13.2.0",opera:"48",op_mob:"48",safari:"10.1",ios_saf:"10.3",samsung:"8.2",android:"61",electron:"2.0"}}})),IW="@babel/helper-compilation-targets",OW={safari:"tp"},NW={and_chr:"chrome",and_ff:"firefox",android:"android",chrome:"chrome",edge:"edge",firefox:"firefox",ie:"ie",ie_mob:"ie",ios_saf:"ios",node:"node",op_mob:"opera",opera:"opera",safari:"safari",samsung:"samsung"},BW=/^(\d+|\d+.\d+)$/,FW=new DW(IW);function RW(e,t){return e&&LA.lt(e,t)?e:t}function MW(e){if("string"==typeof e&&LA.valid(e))return e;FW.invariant("number"==typeof e||"string"==typeof e&&BW.test(e),"'"+e+"' is not a valid version");for(var t=e.toString().split(".");t.length<3;)t.push("0");return t.join(".")}function LW(e,t){var r=OW[t];return!!r&&r===e.toString().toLowerCase()}function UW(e,t){var r=e[t];return r||"android"!==t?r:e.chrome}var WW={node:"node",chrome:"chrome",opera:"opera",edge:"edge",firefox:"firefox",safari:"safari",ie:"ie",ios:"ios",android:"android",electron:"electron",samsung:"samsung"};function VW(e){if("string"!=typeof e)return e;var t=[LA.major(e)],r=LA.minor(e),n=LA.patch(e);return(r||n)&&t.push(r),n&&t.push(n),t.join(".")}var GW=Ur(Object.freeze({__proto__:null,default:{"proposal-class-properties":{chrome:"74",opera:"62",edge:"79",node:"12",samsung:"11",electron:"6.0"},"proposal-private-methods":{chrome:"84",opera:"70",edge:"84",electron:"10.0"},"proposal-numeric-separator":{chrome:"75",opera:"62",edge:"79",firefox:"70",safari:"13",node:"12.5",ios:"13",samsung:"11",electron:"6.0"},"proposal-logical-assignment-operators":{chrome:"85",firefox:"79",safari:"14",electron:"10.0"},"proposal-nullish-coalescing-operator":{chrome:"80",opera:"67",edge:"80",firefox:"72",safari:"13.1",node:"14",ios:"13.4",samsung:"13",electron:"8.0"},"proposal-optional-chaining":{chrome:"80",opera:"67",edge:"80",firefox:"74",safari:"13.1",node:"14",ios:"13.4",samsung:"13",electron:"8.0"},"proposal-json-strings":{chrome:"66",opera:"53",edge:"79",firefox:"62",safari:"12",node:"10",ios:"12",samsung:"9",electron:"3.0"},"proposal-optional-catch-binding":{chrome:"66",opera:"53",edge:"79",firefox:"58",safari:"11.1",node:"10",ios:"11.3",samsung:"9",electron:"3.0"},"transform-parameters":{chrome:"49",opera:"36",edge:"18",firefox:"53",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"proposal-async-generator-functions":{chrome:"63",opera:"50",edge:"79",firefox:"57",safari:"12",node:"10",ios:"12",samsung:"8",electron:"3.0"},"proposal-object-rest-spread":{chrome:"60",opera:"47",edge:"79",firefox:"55",safari:"11.1",node:"8.3",ios:"11.3",samsung:"8",electron:"2.0"},"transform-dotall-regex":{chrome:"62",opera:"49",edge:"79",firefox:"78",safari:"11.1",node:"8.10",ios:"11.3",samsung:"8",electron:"3.0"},"proposal-unicode-property-regex":{chrome:"64",opera:"51",edge:"79",firefox:"78",safari:"11.1",node:"10",ios:"11.3",samsung:"9",electron:"3.0"},"transform-named-capturing-groups-regex":{chrome:"64",opera:"51",edge:"79",firefox:"78",safari:"11.1",node:"10",ios:"11.3",samsung:"9",electron:"3.0"},"transform-async-to-generator":{chrome:"55",opera:"42",edge:"15",firefox:"52",safari:"11",node:"7.6",ios:"11",samsung:"6",electron:"1.6"},"transform-exponentiation-operator":{chrome:"52",opera:"39",edge:"14",firefox:"52",safari:"10.1",node:"7",ios:"10.3",samsung:"6",electron:"1.3"},"transform-template-literals":{chrome:"41",opera:"28",edge:"13",firefox:"34",safari:"13",node:"4",ios:"13",samsung:"3.4",electron:"0.21"},"transform-literals":{chrome:"44",opera:"31",edge:"12",firefox:"53",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"transform-function-name":{chrome:"51",opera:"38",edge:"79",firefox:"53",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"transform-arrow-functions":{chrome:"47",opera:"34",edge:"13",firefox:"45",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.36"},"transform-block-scoped-functions":{chrome:"41",opera:"28",edge:"12",firefox:"46",safari:"10",node:"4",ie:"11",ios:"10",samsung:"3.4",electron:"0.21"},"transform-classes":{chrome:"46",opera:"33",edge:"13",firefox:"45",safari:"10",node:"5",ios:"10",samsung:"5",electron:"0.36"},"transform-object-super":{chrome:"46",opera:"33",edge:"13",firefox:"45",safari:"10",node:"5",ios:"10",samsung:"5",electron:"0.36"},"transform-shorthand-properties":{chrome:"43",opera:"30",edge:"12",firefox:"33",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.27"},"transform-duplicate-keys":{chrome:"42",opera:"29",edge:"12",firefox:"34",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.25"},"transform-computed-properties":{chrome:"44",opera:"31",edge:"12",firefox:"34",safari:"7.1",node:"4",ios:"8",samsung:"4",electron:"0.30"},"transform-for-of":{chrome:"51",opera:"38",edge:"15",firefox:"53",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"transform-sticky-regex":{chrome:"49",opera:"36",edge:"13",firefox:"3",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"transform-unicode-escapes":{chrome:"44",opera:"31",edge:"12",firefox:"53",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"transform-unicode-regex":{chrome:"50",opera:"37",edge:"13",firefox:"46",safari:"12",node:"6",ios:"12",samsung:"5",electron:"1.1"},"transform-spread":{chrome:"46",opera:"33",edge:"13",firefox:"36",safari:"10",node:"5",ios:"10",samsung:"5",electron:"0.36"},"transform-destructuring":{chrome:"51",opera:"38",edge:"15",firefox:"53",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"transform-block-scoping":{chrome:"49",opera:"36",edge:"14",firefox:"51",safari:"11",node:"6",ios:"11",samsung:"5",electron:"0.37"},"transform-typeof-symbol":{chrome:"38",opera:"25",edge:"12",firefox:"36",safari:"9",node:"0.12",ios:"9",samsung:"3",electron:"0.20"},"transform-new-target":{chrome:"46",opera:"33",edge:"14",firefox:"41",safari:"10",node:"5",ios:"10",samsung:"5",electron:"0.36"},"transform-regenerator":{chrome:"50",opera:"37",edge:"13",firefox:"53",safari:"10",node:"6",ios:"10",samsung:"5",electron:"1.1"},"transform-member-expression-literals":{chrome:"7",opera:"12",edge:"12",firefox:"2",safari:"5.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"transform-property-literals":{chrome:"7",opera:"12",edge:"12",firefox:"2",safari:"5.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"transform-reserved-words":{chrome:"13",opera:"10.50",edge:"12",firefox:"2",safari:"3.1",node:"0.10",ie:"9",android:"4.4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"proposal-export-namespace-from":{chrome:"72",and_chr:"72",edge:"79",firefox:"80",node:"13.2",opera:"60",op_mob:"51",samsung:"11.0",android:"72",electron:"5.0"}}}));function KW(e,t,r){var n,a,s,i=void 0===r?{}:r,o=i.compatData,l=void 0===o?GW:o,c=i.includes,u=i.excludes;return!(null==u?void 0:u.has(e))&&(!!(null==c?void 0:c.has(e))||(n=t,a=l[e],!(0!==(s=Object.keys(n)).length&&0===s.filter(function(e){var t=UW(a,e);if(!t)return!0;var r=n[e];if(LW(r,e))return!1;if(LW(t,e))return!0;if(!LA.valid(r.toString()))throw new Error('Invalid version passed for target "'+e+'": "'+r+'". Versions must be in semver format (major.minor.patch)');return LA.gt(MW(t),r.toString())}).length)))}function HW(e,t,r,n,a,s,i){var o=new Set,l={compatData:e,includes:t,excludes:r};for(var c in e)if(KW(c,n,l))o.add(c);else if(i){var u=i.get(c);u&&o.add(u)}return a&&a.forEach(function(e){return!r.has(e)&&o.add(e)}),s&&s.forEach(function(e){return!t.has(e)&&o.delete(e)}),o}var zW=new DW(IW),qW=PW.defaults,XW=[].concat(Object.keys(PW.data),Object.keys(PW.aliases));function JW(e){return zW.invariant(void 0===e||function(e){return"string"==typeof e||Array.isArray(e)}(e),"'"+String(e)+"' is not a valid browserslist query"),e}function YW(e){return e.reduce(function(e,t){var r=t.split(" "),n=r[0],a=r[1],s=NW[n];if(!s)return e;try{var i=a.split("-")[0].toLowerCase(),o=LW(i,n);if(!e[s])return e[s]=o?i:MW(i),e;var l=e[s],c=LW(l,n);if(c&&o)e[s]=function(e,t,r){var n=OW[r],a=[e,t].some(function(e){return e===n});return a?e===a?t:e||t:RW(e,t)}(l,i,n);else if(c)e[s]=MW(i);else if(!c&&!o){var u=MW(i);e[s]=RW(l,u)}}catch(e){}return e},{})}function $W(e,t){try{return MW(t)}catch(r){throw new Error(zW.formatMessage("'"+t+"' is not a valid value for 'targets."+e+"'."))}}var QW={__default:function(e,t){return[e,LW(t,e)?t.toLowerCase():$W(e,t)]},node:function(e,t){return[e,!0===t||"current"===t?si.versions.node:$W(e,t)]}};function ZW(e,t){void 0===e&&(e={}),void 0===t&&(t={});var r=e.browsers;if(e.esmodules){var n=_W["es6.module"];r=Object.keys(n).map(function(e){return e+" "+n[e]}).join(", ")}var a=JW(r),s=function(e){for(var t=Object.keys(WW),r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];if(!(a in WW))throw new Error(zW.formatMessage("'"+a+"' is not a valid target\n- Did you mean '"+CW(a,t)+"'?"))}return e}(function(e){var t=Object.assign({},e);return delete t.esmodules,delete t.browsers,t}(e)),i=!!a,o=i||Object.keys(s).length>0,l=!t.ignoreBrowserslistConfig&&!o;if(i||l){o||(PW.defaults=function(e){return Object.keys(e).reduce(function(t,r){if(XW.indexOf(r)>=0){var n=e[r];return t.concat(r+" "+n)}return t},[])}(s));var c=YW(PW(a,{path:t.configPath,mobileToDesktop:!0,env:t.browserslistEnv}));s=Object.assign(c,s),PW.defaults=qW}for(var u,p,d={},f=[],h=U(Object.keys(s).sort());!(u=h()).done;){var m,y=u.value,g=s[y];"number"==typeof g&&g%1!=0&&f.push({target:y,value:g});var v=(null!=(m=QW[y])?m:QW.__default)(y,g),b=v[0],x=v[1];x&&(d[b]=x)}return(p=f).length&&(console.log("Warning, the following targets are using a decimal version:"),console.log(""),p.forEach(function(e){var t=e.target,r=e.value;return console.log("  "+t+": "+r)}),console.log(""),console.log("We recommend using a string for minor/patch versions to avoid numbers like 6.10"),console.log("getting parsed as 6.1, which can lead to unexpected behavior."),console.log("")),d}var eV=function(e){return e>1?"s":""},tV=function(e,t,r){var n=function(e,t,r){var n=r[e]||{};return Object.keys(t).reduce(function(e,r){var a=UW(n,r),s=t[r];if(a){var i=LW(a,r);LW(s,r)||!i&&!LA.lt(s.toString(),MW(a))||(e[r]=VW(s))}else e[r]=VW(s);return e},{})}(e,t,r),a=JSON.stringify(n).replace(/,/g,", ").replace(/^\{"/,'{ "').replace(/"\}$/,'" }');console.log("  "+e+" "+a)},rV=function(e,t,r,n,a,s){if("test"===si.env.BABEL_ENV&&(n=n.replace(/\\/g,"/")),t)if(r.size){console.log("\n["+n+"] Replaced "+e+" entries with the following polyfill"+eV(r.size)+":");for(var i,o=U(r);!(i=o()).done;){var l=i.value;tV(l,a,s)}}else console.log("\n["+n+"] Based on your targets, polyfills were not added.");else console.log("\n["+n+"] Import of "+e+" was not found.")},nV=function(e,t,r,n){if("test"===si.env.BABEL_ENV&&(t=t.replace(/\\/g,"/")),e.size){console.log("\n["+t+"] Added following core-js polyfill"+eV(e.size)+":");for(var a,s=U(e);!(a=s()).done;){var i=a.value;tV(i,r,n)}}else console.log("\n["+t+"] Based on your code and targets, core-js polyfills were not added.")},aV=["transform-typeof-symbol"];for(var sV={auto:"transform-modules-commonjs",amd:"transform-modules-amd",commonjs:"transform-modules-commonjs",cjs:"transform-modules-commonjs",systemjs:"transform-modules-systemjs",umd:"transform-modules-umd"},iV={"es.symbol":{chrome:"49",edge:"15",electron:"0.37",firefox:"51",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.symbol.description":{chrome:"70",edge:"74",electron:"5.0",firefox:"63",ios:"12.2",node:"11.0",opera:"57",opera_mobile:"49",safari:"12.1",samsung:"10.0"},"es.symbol.async-iterator":{chrome:"63",edge:"74",electron:"3.0",firefox:"55",ios:"12.0",node:"10.0",opera:"50",opera_mobile:"46",safari:"12.0",samsung:"8.0"},"es.symbol.has-instance":{chrome:"50",edge:"15",electron:"1.1",firefox:"49",ios:"10.0",node:"6.0",opera:"37",opera_mobile:"37",safari:"10.0",samsung:"5.0"},"es.symbol.is-concat-spreadable":{chrome:"48",edge:"15",electron:"0.37",firefox:"48",ios:"10.0",node:"6.0",opera:"35",opera_mobile:"35",safari:"10.0",samsung:"5.0"},"es.symbol.iterator":{chrome:"39",edge:"13",electron:"0.20",firefox:"36",ios:"9.0",node:"1.0",opera:"26",opera_mobile:"26",safari:"9.0",samsung:"3.4"},"es.symbol.match":{chrome:"50",edge:"74",electron:"1.1",firefox:"40",ios:"10.0",node:"6.0",opera:"37",opera_mobile:"37",safari:"10.0",samsung:"5.0"},"es.symbol.match-all":{chrome:"73",edge:"74",electron:"5.0",firefox:"67",ios:"13.0",node:"12.0",opera:"60",opera_mobile:"52",safari:"13",samsung:"11.0"},"es.symbol.replace":{chrome:"50",edge:"74",electron:"1.1",firefox:"49",ios:"10.0",node:"6.0",opera:"37",opera_mobile:"37",safari:"10.0",samsung:"5.0"},"es.symbol.search":{chrome:"50",edge:"74",electron:"1.1",firefox:"49",ios:"10.0",node:"6.0",opera:"37",
opera_mobile:"37",safari:"10.0",samsung:"5.0"},"es.symbol.species":{chrome:"51",edge:"13",electron:"1.2",firefox:"41",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.symbol.split":{chrome:"50",edge:"74",electron:"1.1",firefox:"49",ios:"10.0",node:"6.0",opera:"37",opera_mobile:"37",safari:"10.0",samsung:"5.0"},"es.symbol.to-primitive":{chrome:"47",edge:"15",electron:"0.36",firefox:"44",ios:"10.0",node:"6.0",opera:"34",opera_mobile:"34",safari:"10.0",samsung:"5.0"},"es.symbol.to-string-tag":{chrome:"49",edge:"15",electron:"0.37",firefox:"51",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.symbol.unscopables":{chrome:"39",edge:"13",electron:"0.20",firefox:"48",ios:"9.0",node:"1.0",opera:"26",opera_mobile:"26",safari:"9.0",samsung:"3.4"},"es.array.concat":{chrome:"51",edge:"15",electron:"1.2",firefox:"48",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.array.copy-within":{chrome:"45",edge:"12",electron:"0.31",firefox:"48",ios:"9.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"9.0",samsung:"5.0"},"es.array.every":{chrome:"48",edge:"15",electron:"0.37",firefox:"50",ios:"9.0",node:"6.0",opera:"35",opera_mobile:"35",safari:"9.0",samsung:"5.0"},"es.array.fill":{chrome:"45",edge:"12",electron:"0.31",firefox:"48",ios:"9.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"9.0",samsung:"5.0"},"es.array.filter":{chrome:"51",edge:"15",electron:"1.2",firefox:"48",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.array.find":{chrome:"45",edge:"13",electron:"0.31",firefox:"48",ios:"9.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"9.0",samsung:"5.0"},"es.array.find-index":{chrome:"45",edge:"13",electron:"0.31",firefox:"48",ios:"9.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"9.0",samsung:"5.0"},"es.array.flat":{chrome:"69",edge:"74",electron:"4.0",firefox:"62",ios:"12.0",node:"11.0",opera:"56",opera_mobile:"48",safari:"12.0",samsung:"10.0"},"es.array.flat-map":{chrome:"69",edge:"74",electron:"4.0",firefox:"62",ios:"12.0",node:"11.0",opera:"56",opera_mobile:"48",safari:"12.0",samsung:"10.0"},"es.array.for-each":{chrome:"48",edge:"15",electron:"0.37",firefox:"50",ios:"9.0",node:"6.0",opera:"35",opera_mobile:"35",safari:"9.0",samsung:"5.0"},"es.array.from":{chrome:"51",edge:"15",electron:"1.2",firefox:"53",ios:"9.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"9.0",samsung:"5.0"},"es.array.includes":{chrome:"53",edge:"15",electron:"1.4",firefox:"48",ios:"10.0",node:"7.0",opera:"40",opera_mobile:"40",safari:"10.0",samsung:"6.0"},"es.array.index-of":{chrome:"51",edge:"15",electron:"1.2",firefox:"50",ios:"11.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"11.0",samsung:"5.0"},"es.array.is-array":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"4",ie:"9",ios:"3.2",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"4.0",samsung:"1.0"},"es.array.iterator":{chrome:"66",edge:"15",electron:"3.0",firefox:"60",ios:"10.0",node:"10.0",opera:"53",opera_mobile:"47",safari:"10.0",samsung:"9.0"},"es.array.join":{android:"4.4",chrome:"26",edge:"13",electron:"0.20",firefox:"4",ios:"8.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"7.1",samsung:"1.5"},"es.array.last-index-of":{chrome:"51",edge:"13",electron:"1.2",firefox:"50",ios:"11.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"11.0",samsung:"5.0"},"es.array.map":{chrome:"51",edge:"13",electron:"1.2",firefox:"50",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.array.of":{chrome:"45",edge:"13",electron:"0.31",firefox:"25",ios:"9.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"9.0",samsung:"5.0"},"es.array.reduce":{chrome:"48",edge:"15",electron:"0.37",firefox:"50",ios:"9.0",node:"6.0",opera:"35",opera_mobile:"35",safari:"9.0",samsung:"5.0"},"es.array.reduce-right":{chrome:"48",edge:"15",electron:"0.37",firefox:"50",ios:"9.0",node:"6.0",opera:"35",opera_mobile:"35",safari:"9.0",samsung:"5.0"},"es.array.reverse":{android:"3.0",chrome:"1",edge:"12",electron:"0.20",firefox:"1",ie:"5.5",ios:"12.2",node:"0.0.3",opera:"10.50",opera_mobile:"10.50",safari:"12.0.2",samsung:"1.0"},"es.array.slice":{chrome:"51",edge:"15",electron:"1.2",firefox:"48",ios:"11.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"11.0",samsung:"5.0"},"es.array.some":{chrome:"48",edge:"15",electron:"0.37",firefox:"50",ios:"9.0",node:"6.0",opera:"35",opera_mobile:"35",safari:"9.0",samsung:"5.0"},"es.array.sort":{chrome:"63",edge:"12",electron:"3.0",firefox:"4",ie:"9",ios:"12.0",node:"10.0",opera:"50",opera_mobile:"46",safari:"12.0",samsung:"8.0"},"es.array.species":{chrome:"51",edge:"13",electron:"1.2",firefox:"48",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.array.splice":{chrome:"51",edge:"15",electron:"1.2",firefox:"49",ios:"11.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"11.0",samsung:"5.0"},"es.array.unscopables.flat":{chrome:"73",edge:"74",electron:"5.0",firefox:"67",ios:"13.0",node:"12.0",opera:"60",opera_mobile:"52",safari:"13",samsung:"11.0"},"es.array.unscopables.flat-map":{chrome:"73",edge:"74",electron:"5.0",firefox:"67",ios:"13.0",node:"12.0",opera:"60",opera_mobile:"52",safari:"13",samsung:"11.0"},"es.array-buffer.constructor":{android:"4.4",chrome:"26",edge:"14",electron:"0.20",firefox:"44",ios:"12.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"12.0",samsung:"1.5"},"es.array-buffer.is-view":{android:"4.4.3",chrome:"32",edge:"12",electron:"0.20",firefox:"29",ie:"11",ios:"8.0",node:"0.11.9",opera:"19",opera_mobile:"19",safari:"7.1",samsung:"2.0"},"es.array-buffer.slice":{android:"4.4.3",chrome:"31",edge:"12",electron:"0.20",firefox:"46",ie:"11",ios:"12.2",node:"0.11.8",opera:"18",opera_mobile:"18",safari:"12.1",samsung:"2.0"},"es.data-view":{android:"4.4",chrome:"26",edge:"12",electron:"0.20",firefox:"15",ie:"10",ios:"8.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"7.1",samsung:"1.5"},"es.date.now":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ie:"9",ios:"3.2",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"4.0",samsung:"1.0"},"es.date.to-iso-string":{android:"4.4",chrome:"26",edge:"12",electron:"0.20",firefox:"7",ie:"9",ios:"8.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"7.1",samsung:"1.5"},"es.date.to-json":{android:"4.4",chrome:"26",edge:"12",electron:"0.20",firefox:"4",ie:"9",ios:"10.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"10.0",samsung:"1.5"},"es.date.to-primitive":{chrome:"47",edge:"15",electron:"0.36",firefox:"44",ios:"10.0",node:"6.0",opera:"34",opera_mobile:"34",safari:"10.0",samsung:"5.0"},"es.date.to-string":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ie:"9",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.function.bind":{android:"3.0",chrome:"7",edge:"12",electron:"0.20",firefox:"4",ie:"9",ios:"5.1",node:"0.1.101",opera:"12",opera_mobile:"12",phantom:"2.0",safari:"5.1",samsung:"1.0"},"es.function.has-instance":{chrome:"51",edge:"15",electron:"1.2",firefox:"50",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.function.name":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"3.2",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"4.0",samsung:"1.0"},"es.global-this":{chrome:"71",edge:"74",electron:"5.0",firefox:"65",ios:"12.2",node:"12.0",opera:"58",opera_mobile:"50",safari:"12.1",samsung:"10.0"},"es.json.stringify":{chrome:"72",edge:"74",electron:"5.0",firefox:"64",ios:"12.2",node:"12.0",opera:"59",opera_mobile:"51",safari:"12.1",samsung:"11.0"},"es.json.to-string-tag":{chrome:"50",edge:"15",electron:"1.1",firefox:"51",ios:"10.0",node:"6.0",opera:"37",opera_mobile:"37",safari:"10.0",samsung:"5.0"},"es.map":{chrome:"51",edge:"15",electron:"1.2",firefox:"53",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.math.acosh":{chrome:"54",edge:"13",electron:"1.4",firefox:"25",ios:"8.0",node:"7.0",opera:"41",opera_mobile:"41",safari:"7.1",samsung:"6.0"},"es.math.asinh":{chrome:"38",edge:"13",electron:"0.20",firefox:"25",ios:"8.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"7.1",samsung:"3.0"},"es.math.atanh":{chrome:"38",edge:"13",electron:"0.20",firefox:"25",ios:"8.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"7.1",samsung:"3.0"},"es.math.cbrt":{chrome:"38",edge:"12",electron:"0.20",firefox:"25",ios:"8.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"7.1",samsung:"3.0"},"es.math.clz32":{chrome:"38",edge:"12",electron:"0.20",firefox:"31",ios:"9.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"9.0",samsung:"3.0"},"es.math.cosh":{chrome:"39",edge:"13",electron:"0.20",firefox:"25",ios:"8.0",node:"1.0",opera:"26",opera_mobile:"26",safari:"7.1",samsung:"3.4"},"es.math.expm1":{chrome:"39",edge:"13",electron:"0.20",firefox:"46",ios:"8.0",node:"1.0",opera:"26",opera_mobile:"26",safari:"7.1",samsung:"3.4"},"es.math.fround":{chrome:"38",edge:"12",electron:"0.20",firefox:"26",ios:"8.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"7.1",samsung:"3.0"},"es.math.hypot":{chrome:"78",edge:"12",electron:"7.0",firefox:"27",ios:"8.0",node:"13.0",opera:"65",safari:"7.1"},"es.math.imul":{android:"4.4",chrome:"28",edge:"13",electron:"0.20",firefox:"20",ios:"9.0",node:"0.11.1",opera:"16",opera_mobile:"16",safari:"9.0",samsung:"1.5"},"es.math.log10":{chrome:"38",edge:"12",electron:"0.20",firefox:"25",ios:"8.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"7.1",samsung:"3.0"},"es.math.log1p":{chrome:"38",edge:"12",electron:"0.20",firefox:"25",ios:"8.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"7.1",samsung:"3.0"},"es.math.log2":{chrome:"38",edge:"12",electron:"0.20",firefox:"25",ios:"8.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"7.1",samsung:"3.0"},"es.math.sign":{chrome:"38",edge:"12",electron:"0.20",firefox:"25",ios:"9.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"9.0",samsung:"3.0"},"es.math.sinh":{chrome:"39",edge:"13",electron:"0.20",firefox:"25",ios:"8.0",node:"1.0",opera:"26",opera_mobile:"26",safari:"7.1",samsung:"3.4"},"es.math.tanh":{chrome:"38",edge:"12",electron:"0.20",firefox:"25",ios:"8.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"7.1",samsung:"3.0"},"es.math.to-string-tag":{chrome:"50",edge:"15",electron:"1.1",firefox:"51",ios:"10.0",node:"6.0",opera:"37",opera_mobile:"37",safari:"10.0",samsung:"5.0"},"es.math.trunc":{chrome:"38",edge:"12",electron:"0.20",firefox:"25",ios:"8.0",node:"0.11.15",opera:"25",opera_mobile:"25",safari:"7.1",samsung:"3.0"},"es.number.constructor":{chrome:"41",edge:"13",electron:"0.21",firefox:"46",ios:"9.0",node:"1.0",opera:"28",opera_mobile:"28",safari:"9.0",samsung:"3.4"},"es.number.epsilon":{chrome:"34",edge:"12",electron:"0.20",firefox:"25",ios:"9.0",node:"0.11.13",opera:"21",opera_mobile:"21",safari:"9.0",samsung:"2.0"},"es.number.is-finite":{android:"4.1",chrome:"19",edge:"12",electron:"0.20",firefox:"16",ios:"9.0",node:"0.7.3",opera:"15",opera_mobile:"15",safari:"9.0",samsung:"1.5"},"es.number.is-integer":{chrome:"34",edge:"12",electron:"0.20",firefox:"16",ios:"9.0",node:"0.11.13",opera:"21",opera_mobile:"21",safari:"9.0",samsung:"2.0"},"es.number.is-nan":{android:"4.1",chrome:"19",edge:"12",electron:"0.20",firefox:"15",ios:"9.0",node:"0.7.3",opera:"15",opera_mobile:"15",safari:"9.0",samsung:"1.5"},"es.number.is-safe-integer":{chrome:"34",edge:"12",electron:"0.20",firefox:"32",ios:"9.0",node:"0.11.13",opera:"21",opera_mobile:"21",safari:"9.0",samsung:"2.0"},"es.number.max-safe-integer":{chrome:"34",edge:"12",electron:"0.20",firefox:"31",ios:"9.0",node:"0.11.13",opera:"21",opera_mobile:"21",safari:"9.0",samsung:"2.0"},"es.number.min-safe-integer":{chrome:"34",edge:"12",electron:"0.20",firefox:"31",ios:"9.0",node:"0.11.13",opera:"21",opera_mobile:"21",safari:"9.0",samsung:"2.0"},"es.number.parse-float":{chrome:"35",edge:"13",electron:"0.20",firefox:"39",ios:"11.0",node:"0.11.13",opera:"22",opera_mobile:"22",safari:"11.0",samsung:"3.0"},"es.number.parse-int":{chrome:"35",edge:"13",electron:"0.20",firefox:"39",ios:"9.0",node:"0.11.13",opera:"22",opera_mobile:"22",safari:"9.0",samsung:"3.0"},"es.number.to-fixed":{android:"4.4",chrome:"26",edge:"74",electron:"0.20",firefox:"4",ios:"8.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"7.1",samsung:"1.5"},"es.number.to-precision":{android:"4.4",chrome:"26",edge:"12",electron:"0.20",firefox:"4",ie:"8",ios:"8.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"7.1",samsung:"1.5"},"es.object.assign":{chrome:"49",edge:"74",electron:"0.37",firefox:"36",ios:"9.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"9.0",samsung:"5.0"},"es.object.create":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"4",ie:"9",ios:"3.2",node:"0.1.27",opera:"12",opera_mobile:"12",phantom:"1.9",safari:"4.0",samsung:"1.0"},"es.object.define-getter":{chrome:"62",edge:"16",electron:"3.0",firefox:"48",ios:"8.0",node:"8.10",opera:"49",opera_mobile:"46",safari:"7.1",samsung:"8.0"},"es.object.define-properties":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"4",ie:"9",ios:"5.1",node:"0.1.27",opera:"12",opera_mobile:"12",phantom:"2.0",safari:"5.1",samsung:"1.0"},"es.object.define-property":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"4",ie:"9",ios:"5.1",node:"0.1.27",opera:"12",opera_mobile:"12",phantom:"2.0",safari:"5.1",samsung:"1.0"},"es.object.define-setter":{chrome:"62",edge:"16",electron:"3.0",firefox:"48",ios:"8.0",node:"8.10",opera:"49",opera_mobile:"46",safari:"7.1",samsung:"8.0"},"es.object.entries":{chrome:"54",edge:"14",electron:"1.4",firefox:"47",ios:"10.3",node:"7.0",opera:"41",opera_mobile:"41",safari:"10.1",samsung:"6.0"},"es.object.freeze":{chrome:"44",edge:"13",electron:"0.30",firefox:"35",ios:"9.0",node:"3.0",opera:"31",opera_mobile:"31",safari:"9.0",samsung:"4.0"},"es.object.from-entries":{chrome:"73",edge:"74",electron:"5.0",firefox:"63",ios:"12.2",node:"12.0",opera:"60",opera_mobile:"52",safari:"12.1",samsung:"11.0"},"es.object.get-own-property-descriptor":{chrome:"44",edge:"13",electron:"0.30",firefox:"35",ios:"9.0",node:"3.0",opera:"31",opera_mobile:"31",safari:"9.0",samsung:"4.0"},"es.object.get-own-property-descriptors":{chrome:"54",edge:"15",electron:"1.4",firefox:"50",ios:"10.0",node:"7.0",opera:"41",opera_mobile:"41",safari:"10.0",samsung:"6.0"},"es.object.get-own-property-names":{chrome:"40",edge:"13",electron:"0.21",firefox:"34",ios:"9.0",node:"1.0",opera:"27",opera_mobile:"27",safari:"9.0",samsung:"3.4"},"es.object.get-prototype-of":{chrome:"44",edge:"13",electron:"0.30",firefox:"35",ios:"9.0",node:"3.0",opera:"31",opera_mobile:"31",safari:"9.0",samsung:"4.0"},"es.object.is":{android:"4.1",chrome:"19",edge:"12",electron:"0.20",firefox:"22",ios:"9.0",node:"0.7.3",opera:"15",opera_mobile:"15",safari:"9.0",samsung:"1.5"},"es.object.is-extensible":{chrome:"44",edge:"13",electron:"0.30",firefox:"35",ios:"9.0",node:"3.0",opera:"31",opera_mobile:"31",safari:"9.0",samsung:"4.0"},"es.object.is-frozen":{chrome:"44",edge:"13",electron:"0.30",firefox:"35",ios:"9.0",node:"3.0",opera:"31",opera_mobile:"31",safari:"9.0",samsung:"4.0"},"es.object.is-sealed":{chrome:"44",edge:"13",electron:"0.30",firefox:"35",ios:"9.0",node:"3.0",opera:"31",opera_mobile:"31",safari:"9.0",samsung:"4.0"},"es.object.keys":{chrome:"40",edge:"13",electron:"0.21",firefox:"35",ios:"9.0",node:"1.0",opera:"27",opera_mobile:"27",safari:"9.0",samsung:"3.4"},"es.object.lookup-getter":{chrome:"62",edge:"16",electron:"3.0",firefox:"48",ios:"8.0",node:"8.10",opera:"49",opera_mobile:"46",safari:"7.1",samsung:"8.0"},"es.object.lookup-setter":{chrome:"62",edge:"16",electron:"3.0",firefox:"48",ios:"8.0",node:"8.10",opera:"49",opera_mobile:"46",safari:"7.1",samsung:"8.0"},"es.object.prevent-extensions":{chrome:"44",edge:"13",electron:"0.30",firefox:"35",ios:"9.0",node:"3.0",opera:"31",opera_mobile:"31",safari:"9.0",samsung:"4.0"},"es.object.seal":{chrome:"44",edge:"13",electron:"0.30",firefox:"35",ios:"9.0",node:"3.0",opera:"31",opera_mobile:"31",safari:"9.0",samsung:"4.0"},"es.object.set-prototype-of":{chrome:"34",edge:"12",electron:"0.20",firefox:"31",ie:"11",ios:"9.0",node:"0.11.13",opera:"21",opera_mobile:"21",safari:"9.0",samsung:"2.0"},"es.object.to-string":{chrome:"49",edge:"15",electron:"0.37",firefox:"51",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.object.values":{chrome:"54",edge:"14",electron:"1.4",firefox:"47",ios:"10.3",node:"7.0",opera:"41",opera_mobile:"41",safari:"10.1",samsung:"6.0"},"es.parse-float":{chrome:"35",edge:"12",electron:"0.20",firefox:"8",ie:"8",ios:"8.0",node:"0.11.13",opera:"22",opera_mobile:"22",safari:"7.1",samsung:"3.0"},"es.parse-int":{chrome:"35",edge:"12",electron:"0.20",firefox:"21",ie:"9",ios:"8.0",node:"0.11.13",opera:"22",opera_mobile:"22",safari:"7.1",samsung:"3.0"},"es.promise":{chrome:"67",edge:"74",electron:"4.0",firefox:"69",ios:"11.0",node:"10.4",opera:"54",opera_mobile:"48",safari:"11.0",samsung:"9.0"},"es.promise.all-settled":{chrome:"76",edge:"76",electron:"6.0",firefox:"71",ios:"13.0",node:"12.9",opera:"63",opera_mobile:"54",safari:"13"},"es.promise.finally":{chrome:"67",edge:"74",electron:"4.0",firefox:"69",ios:"13.2.3",node:"10.4",opera:"54",opera_mobile:"48",safari:"13.0.3",samsung:"9.0"},"es.reflect.apply":{chrome:"49",edge:"15",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.construct":{chrome:"49",edge:"15",electron:"0.37",firefox:"44",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.define-property":{chrome:"49",edge:"13",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.delete-property":{chrome:"49",edge:"12",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.get":{chrome:"49",edge:"12",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.get-own-property-descriptor":{chrome:"49",edge:"12",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.get-prototype-of":{chrome:"49",edge:"12",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.has":{chrome:"49",edge:"12",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.is-extensible":{chrome:"49",edge:"12",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.own-keys":{chrome:"49",edge:"12",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.prevent-extensions":{chrome:"49",edge:"12",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.set":{chrome:"49",edge:"74",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.reflect.set-prototype-of":{chrome:"49",edge:"12",electron:"0.37",firefox:"42",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.regexp.constructor":{chrome:"51",edge:"74",electron:"1.2",firefox:"49",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.regexp.exec":{android:"4.4",chrome:"26",edge:"13",electron:"0.20",firefox:"44",ios:"10.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"10.0",samsung:"1.5"},"es.regexp.flags":{chrome:"49",edge:"74",electron:"0.37",firefox:"37",ios:"9.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"9.0",samsung:"5.0"},"es.regexp.sticky":{chrome:"49",edge:"13",electron:"0.37",firefox:"3",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.regexp.test":{chrome:"51",edge:"74",electron:"1.2",firefox:"46",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.regexp.to-string":{chrome:"50",edge:"74",electron:"1.1",firefox:"46",ios:"10.0",node:"6.0",opera:"37",opera_mobile:"37",safari:"10.0",samsung:"5.0"},"es.set":{chrome:"51",edge:"15",electron:"1.2",firefox:"53",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.string.code-point-at":{chrome:"41",edge:"13",electron:"0.21",firefox:"29",ios:"9.0",node:"1.0",opera:"28",opera_mobile:"28",safari:"9.0",samsung:"3.4"},"es.string.ends-with":{chrome:"51",edge:"74",electron:"1.2",firefox:"40",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.string.from-code-point":{chrome:"41",edge:"13",electron:"0.21",firefox:"29",ios:"9.0",node:"1.0",opera:"28",opera_mobile:"28",safari:"9.0",samsung:"3.4"},"es.string.includes":{chrome:"51",edge:"74",electron:"1.2",firefox:"40",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.string.iterator":{chrome:"39",edge:"13",electron:"0.20",firefox:"36",ios:"9.0",node:"1.0",opera:"26",opera_mobile:"26",safari:"9.0",samsung:"3.4"},"es.string.match":{chrome:"51",edge:"74",electron:"1.2",firefox:"49",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.string.match-all":{chrome:"80",edge:"80",electron:"8.0",firefox:"73",opera:"67",safari:"13.1"},"es.string.pad-end":{chrome:"57",edge:"15",electron:"1.7",firefox:"48",ios:"11.0",node:"8.0",opera:"44",opera_mobile:"43",safari:"11.0",samsung:"7.0"},"es.string.pad-start":{chrome:"57",edge:"15",electron:"1.7",firefox:"48",ios:"11.0",node:"8.0",opera:"44",opera_mobile:"43",safari:"11.0",samsung:"7.0"},"es.string.raw":{chrome:"41",edge:"13",electron:"0.21",firefox:"34",ios:"9.0",node:"1.0",opera:"28",opera_mobile:"28",safari:"9.0",samsung:"3.4"},"es.string.repeat":{chrome:"41",edge:"13",electron:"0.21",firefox:"24",ios:"9.0",node:"1.0",opera:"28",opera_mobile:"28",safari:"9.0",samsung:"3.4"},"es.string.replace":{chrome:"64",edge:"74",electron:"3.0",node:"10.0",opera:"51",opera_mobile:"47",samsung:"9.0"},"es.string.search":{chrome:"51",edge:"74",electron:"1.2",firefox:"49",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.string.split":{chrome:"54",edge:"74",electron:"1.4",firefox:"49",ios:"10.0",node:"7.0",opera:"41",opera_mobile:"41",safari:"10.0",samsung:"6.0"},"es.string.starts-with":{chrome:"51",edge:"74",electron:"1.2",firefox:"40",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.string.trim":{chrome:"59",edge:"15",electron:"1.8",firefox:"52",ios:"12.2",node:"8.3",opera:"46",opera_mobile:"43",safari:"12.1",samsung:"7.0"},"es.string.trim-end":{chrome:"66",edge:"74",electron:"3.0",firefox:"61",ios:"12.2",node:"10.0",opera:"53",opera_mobile:"47",safari:"12.1",samsung:"9.0"},"es.string.trim-start":{chrome:"66",edge:"74",electron:"3.0",firefox:"61",ios:"12.0",node:"10.0",opera:"53",opera_mobile:"47",safari:"12.0",samsung:"9.0"},"es.string.anchor":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"17",ios:"6.0",node:"0.1.27",opera:"15",opera_mobile:"15",phantom:"2.0",safari:"6.0",samsung:"1.0"},"es.string.big":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.string.blink":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.string.bold":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.string.fixed":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.string.fontcolor":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"17",ios:"6.0",node:"0.1.27",opera:"15",opera_mobile:"15",phantom:"2.0",safari:"6.0",samsung:"1.0"},"es.string.fontsize":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"17",ios:"6.0",node:"0.1.27",opera:"15",opera_mobile:"15",phantom:"2.0",safari:"6.0",samsung:"1.0"},"es.string.italics":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.string.link":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"17",ios:"6.0",node:"0.1.27",opera:"15",opera_mobile:"15",phantom:"2.0",safari:"6.0",samsung:"1.0"},"es.string.small":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.string.strike":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.string.sub":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.string.sup":{android:"3.0",chrome:"5",edge:"12",electron:"0.20",firefox:"2",ios:"2.0",node:"0.1.27",opera:"10.50",opera_mobile:"10.50",phantom:"1.9",safari:"3.1",samsung:"1.0"},"es.typed-array.float32-array":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.float64-array":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.int8-array":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.int16-array":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.int32-array":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.uint8-array":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.uint8-clamped-array":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.uint16-array":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.uint32-array":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.copy-within":{chrome:"45",edge:"13",electron:"0.31",firefox:"34",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.every":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.fill":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.filter":{chrome:"45",edge:"13",electron:"0.31",firefox:"38",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.find":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.find-index":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.for-each":{chrome:"45",edge:"13",electron:"0.31",firefox:"38",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.from":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.includes":{chrome:"49",edge:"14",electron:"0.37",firefox:"43",ios:"10.0",node:"6.0",opera:"36",opera_mobile:"36",safari:"10.0",samsung:"5.0"},"es.typed-array.index-of":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.iterator":{chrome:"47",edge:"13",electron:"0.36",firefox:"37",ios:"10.0",node:"6.0",opera:"34",opera_mobile:"34",safari:"10.0",samsung:"5.0"},"es.typed-array.join":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.last-index-of":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.map":{chrome:"45",edge:"13",electron:"0.31",firefox:"38",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.of":{chrome:"54",edge:"15",electron:"1.4",firefox:"55",node:"7.0",opera:"41",opera_mobile:"41",samsung:"6.0"},"es.typed-array.reduce":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.reduce-right":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.reverse":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.set":{android:"4.4",chrome:"26",edge:"13",electron:"0.20",firefox:"15",ios:"8.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"7.1",samsung:"1.5"},"es.typed-array.slice":{chrome:"45",edge:"13",electron:"0.31",firefox:"38",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.some":{chrome:"45",edge:"13",electron:"0.31",firefox:"37",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.sort":{chrome:"45",edge:"13",electron:"0.31",firefox:"46",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.subarray":{android:"4.4",chrome:"26",edge:"13",electron:"0.20",firefox:"15",ios:"8.0",node:"0.11.0",opera:"16",opera_mobile:"16",safari:"7.1",samsung:"1.5"},"es.typed-array.to-locale-string":{chrome:"45",edge:"74",electron:"0.31",firefox:"51",ios:"10.0",node:"4.0",opera:"32",opera_mobile:"32",safari:"10.0",samsung:"5.0"},"es.typed-array.to-string":{chrome:"51",edge:"13",electron:"1.2",firefox:"51",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.weak-map":{chrome:"51",edge:"15",electron:"1.2",firefox:"53",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"es.weak-set":{chrome:"51",edge:"15",electron:"1.2",firefox:"53",ios:"10.0",node:"6.5",opera:"38",opera_mobile:"38",safari:"10.0",samsung:"5.0"},"esnext.aggregate-error":{},"esnext.array.is-template-object":{},"esnext.array.last-index":{},"esnext.array.last-item":{},"esnext.async-iterator.constructor":{},"esnext.async-iterator.as-indexed-pairs":{},"esnext.async-iterator.drop":{},"esnext.async-iterator.every":{},"esnext.async-iterator.filter":{},"esnext.async-iterator.find":{},"esnext.async-iterator.flat-map":{},"esnext.async-iterator.for-each":{},"esnext.async-iterator.from":{},"esnext.async-iterator.map":{},"esnext.async-iterator.reduce":{},"esnext.async-iterator.some":{},"esnext.async-iterator.take":{},"esnext.async-iterator.to-array":{},"esnext.composite-key":{},"esnext.composite-symbol":{},"esnext.global-this":{chrome:"71",edge:"74",electron:"5.0",firefox:"65",ios:"12.2",node:"12.0",opera:"58",opera_mobile:"50",safari:"12.1",samsung:"10.0"},"esnext.iterator.constructor":{},"esnext.iterator.as-indexed-pairs":{},"esnext.iterator.drop":{},"esnext.iterator.every":{},"esnext.iterator.filter":{},"esnext.iterator.find":{},"esnext.iterator.flat-map":{},"esnext.iterator.for-each":{},"esnext.iterator.from":{},
"esnext.iterator.map":{},"esnext.iterator.reduce":{},"esnext.iterator.some":{},"esnext.iterator.take":{},"esnext.iterator.to-array":{},"esnext.map.delete-all":{},"esnext.map.every":{},"esnext.map.filter":{},"esnext.map.find":{},"esnext.map.find-key":{},"esnext.map.from":{},"esnext.map.group-by":{},"esnext.map.includes":{},"esnext.map.key-by":{},"esnext.map.key-of":{},"esnext.map.map-keys":{},"esnext.map.map-values":{},"esnext.map.merge":{},"esnext.map.of":{},"esnext.map.reduce":{},"esnext.map.some":{},"esnext.map.update":{},"esnext.map.update-or-insert":{},"esnext.map.upsert":{},"esnext.math.clamp":{},"esnext.math.deg-per-rad":{},"esnext.math.degrees":{},"esnext.math.fscale":{},"esnext.math.iaddh":{},"esnext.math.imulh":{},"esnext.math.isubh":{},"esnext.math.rad-per-deg":{},"esnext.math.radians":{},"esnext.math.scale":{},"esnext.math.seeded-prng":{},"esnext.math.signbit":{},"esnext.math.umulh":{},"esnext.number.from-string":{},"esnext.object.iterate-entries":{},"esnext.object.iterate-keys":{},"esnext.object.iterate-values":{},"esnext.observable":{},"esnext.promise.all-settled":{chrome:"76",edge:"76",electron:"6.0",firefox:"71",ios:"13.0",node:"12.9",opera:"63",opera_mobile:"54",safari:"13"},"esnext.promise.any":{},"esnext.promise.try":{},"esnext.reflect.define-metadata":{},"esnext.reflect.delete-metadata":{},"esnext.reflect.get-metadata":{},"esnext.reflect.get-metadata-keys":{},"esnext.reflect.get-own-metadata":{},"esnext.reflect.get-own-metadata-keys":{},"esnext.reflect.has-metadata":{},"esnext.reflect.has-own-metadata":{},"esnext.reflect.metadata":{},"esnext.set.add-all":{},"esnext.set.delete-all":{},"esnext.set.difference":{},"esnext.set.every":{},"esnext.set.filter":{},"esnext.set.find":{},"esnext.set.from":{},"esnext.set.intersection":{},"esnext.set.is-disjoint-from":{},"esnext.set.is-subset-of":{},"esnext.set.is-superset-of":{},"esnext.set.join":{},"esnext.set.map":{},"esnext.set.of":{},"esnext.set.reduce":{},"esnext.set.some":{},"esnext.set.symmetric-difference":{},"esnext.set.union":{},"esnext.string.at":{},"esnext.string.code-points":{},"esnext.string.match-all":{chrome:"80",edge:"80",electron:"8.0",firefox:"73",opera:"67",safari:"13.1"},"esnext.string.replace-all":{},"esnext.symbol.async-dispose":{},"esnext.symbol.dispose":{},"esnext.symbol.observable":{},"esnext.symbol.pattern-match":{},"esnext.symbol.replace-all":{},"esnext.weak-map.delete-all":{},"esnext.weak-map.from":{},"esnext.weak-map.of":{},"esnext.weak-map.upsert":{},"esnext.weak-set.add-all":{},"esnext.weak-set.delete-all":{},"esnext.weak-set.from":{},"esnext.weak-set.of":{},"web.dom-collections.for-each":{chrome:"58",edge:"16",electron:"1.7",firefox:"50",ios:"10.0",node:"0.0.1",opera:"45",opera_mobile:"43",safari:"10.0",samsung:"7.0"},"web.dom-collections.iterator":{chrome:"66",edge:"74",electron:"3.0",firefox:"60",node:"0.0.1",opera:"53",opera_mobile:"47",safari:"13.1",samsung:"9.0"},"web.immediate":{ie:"10",node:"0.9.1"},"web.queue-microtask":{chrome:"71",edge:"74",electron:"5.0",firefox:"69",ios:"12.2",node:"12.0",opera:"58",opera_mobile:"50",safari:"12.1",samsung:"10.0"},"web.timers":{android:"1.5",chrome:"1",edge:"12",electron:"0.20",firefox:"1",ie:"10",ios:"1.0",node:"0.0.1",opera:"7",opera_mobile:"7",phantom:"1.9",safari:"1.0",samsung:"1.0"},"web.url":{chrome:"67",edge:"74",electron:"4.0",firefox:"57",node:"10.0",opera:"54",opera_mobile:"48",samsung:"9.0"},"web.url.to-json":{chrome:"71",edge:"74",electron:"5.0",firefox:"57",node:"10.0",opera:"58",opera_mobile:"50",samsung:"10.0"},"web.url-search-params":{chrome:"67",edge:"74",electron:"4.0",firefox:"57",node:"10.0",opera:"54",opera_mobile:"48",samsung:"9.0"}},oV=Ur(Object.freeze({__proto__:null,default:{"es6.array.copy-within":{chrome:"45",opera:"32",edge:"12",firefox:"32",safari:"9",node:"4",ios:"9",samsung:"5",electron:"0.31"},"es6.array.every":{chrome:"5",opera:"10.10",edge:"12",firefox:"2",safari:"3.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.fill":{chrome:"45",opera:"32",edge:"12",firefox:"31",safari:"7.1",node:"4",ios:"8",samsung:"5",electron:"0.31"},"es6.array.filter":{chrome:"5",opera:"10.10",edge:"12",firefox:"2",safari:"3.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.find":{chrome:"45",opera:"32",edge:"12",firefox:"25",safari:"7.1",node:"4",ios:"8",samsung:"5",electron:"0.31"},"es6.array.find-index":{chrome:"45",opera:"32",edge:"12",firefox:"25",safari:"7.1",node:"4",ios:"8",samsung:"5",electron:"0.31"},"es7.array.flat-map":{chrome:"69",opera:"56",edge:"79",firefox:"62",safari:"12",node:"11",ios:"12",samsung:"10",electron:"4.0"},"es6.array.for-each":{chrome:"5",opera:"10.10",edge:"12",firefox:"2",safari:"3.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.from":{chrome:"51",opera:"38",edge:"15",firefox:"36",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es7.array.includes":{chrome:"47",opera:"34",edge:"14",firefox:"43",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.36"},"es6.array.index-of":{chrome:"5",opera:"10.10",edge:"12",firefox:"2",safari:"3.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.is-array":{chrome:"5",opera:"10.50",edge:"12",firefox:"4",safari:"4",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.iterator":{chrome:"38",opera:"25",edge:"12",firefox:"28",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.array.last-index-of":{chrome:"5",opera:"10.10",edge:"12",firefox:"2",safari:"3.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.map":{chrome:"5",opera:"10.10",edge:"12",firefox:"2",safari:"3.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.of":{chrome:"45",opera:"32",edge:"12",firefox:"25",safari:"9",node:"4",ios:"9",samsung:"5",electron:"0.31"},"es6.array.reduce":{chrome:"5",opera:"10.50",edge:"12",firefox:"3",safari:"4",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.reduce-right":{chrome:"5",opera:"10.50",edge:"12",firefox:"3",safari:"4",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.some":{chrome:"5",opera:"10.10",edge:"12",firefox:"2",safari:"3.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.array.sort":{chrome:"63",opera:"50",edge:"12",firefox:"5",safari:"12",node:"10",ie:"9",ios:"12",samsung:"8",electron:"3.0"},"es6.array.species":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.date.now":{chrome:"5",opera:"10.50",edge:"12",firefox:"2",safari:"4",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.date.to-iso-string":{chrome:"5",opera:"10.50",edge:"12",firefox:"3.5",safari:"4",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.date.to-json":{chrome:"5",opera:"12.10",edge:"12",firefox:"4",safari:"10",node:"0.10",ie:"9",android:"4",ios:"10",samsung:"1",electron:"0.20"},"es6.date.to-primitive":{chrome:"47",opera:"34",edge:"15",firefox:"44",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.36"},"es6.date.to-string":{chrome:"5",opera:"10.50",edge:"12",firefox:"2",safari:"3.1",node:"0.10",ie:"10",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.function.bind":{chrome:"7",opera:"12",edge:"12",firefox:"4",safari:"5.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.function.has-instance":{chrome:"51",opera:"38",edge:"15",firefox:"50",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.function.name":{chrome:"5",opera:"10.50",edge:"14",firefox:"2",safari:"4",node:"0.10",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.map":{chrome:"51",opera:"38",edge:"15",firefox:"53",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.math.acosh":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.asinh":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.atanh":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.cbrt":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.clz32":{chrome:"38",opera:"25",edge:"12",firefox:"31",safari:"9",node:"0.12",ios:"9",samsung:"3",electron:"0.20"},"es6.math.cosh":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.expm1":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.fround":{chrome:"38",opera:"25",edge:"12",firefox:"26",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.hypot":{chrome:"38",opera:"25",edge:"12",firefox:"27",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.imul":{chrome:"30",opera:"17",edge:"12",firefox:"23",safari:"7",node:"0.12",android:"4.4",ios:"7",samsung:"2",electron:"0.20"},"es6.math.log1p":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.log10":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.log2":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.sign":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"9",node:"0.12",ios:"9",samsung:"3",electron:"0.20"},"es6.math.sinh":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.tanh":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.math.trunc":{chrome:"38",opera:"25",edge:"12",firefox:"25",safari:"7.1",node:"0.12",ios:"8",samsung:"3",electron:"0.20"},"es6.number.constructor":{chrome:"41",opera:"28",edge:"12",firefox:"36",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.number.epsilon":{chrome:"34",opera:"21",edge:"12",firefox:"25",safari:"9",node:"0.12",ios:"9",samsung:"2",electron:"0.20"},"es6.number.is-finite":{chrome:"19",opera:"15",edge:"12",firefox:"16",safari:"9",node:"0.12",android:"4.1",ios:"9",samsung:"1.5",electron:"0.20"},"es6.number.is-integer":{chrome:"34",opera:"21",edge:"12",firefox:"16",safari:"9",node:"0.12",ios:"9",samsung:"2",electron:"0.20"},"es6.number.is-nan":{chrome:"19",opera:"15",edge:"12",firefox:"15",safari:"9",node:"0.12",android:"4.1",ios:"9",samsung:"1.5",electron:"0.20"},"es6.number.is-safe-integer":{chrome:"34",opera:"21",edge:"12",firefox:"32",safari:"9",node:"0.12",ios:"9",samsung:"2",electron:"0.20"},"es6.number.max-safe-integer":{chrome:"34",opera:"21",edge:"12",firefox:"31",safari:"9",node:"0.12",ios:"9",samsung:"2",electron:"0.20"},"es6.number.min-safe-integer":{chrome:"34",opera:"21",edge:"12",firefox:"31",safari:"9",node:"0.12",ios:"9",samsung:"2",electron:"0.20"},"es6.number.parse-float":{chrome:"34",opera:"21",edge:"12",firefox:"25",safari:"9",node:"0.12",ios:"9",samsung:"2",electron:"0.20"},"es6.number.parse-int":{chrome:"34",opera:"21",edge:"12",firefox:"25",safari:"9",node:"0.12",ios:"9",samsung:"2",electron:"0.20"},"es6.object.assign":{chrome:"49",opera:"36",edge:"13",firefox:"36",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.object.create":{chrome:"5",opera:"12",edge:"12",firefox:"4",safari:"4",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es7.object.define-getter":{chrome:"62",opera:"49",edge:"16",firefox:"48",safari:"9",node:"8.10",ios:"9",samsung:"8",electron:"3.0"},"es7.object.define-setter":{chrome:"62",opera:"49",edge:"16",firefox:"48",safari:"9",node:"8.10",ios:"9",samsung:"8",electron:"3.0"},"es6.object.define-property":{chrome:"5",opera:"12",edge:"12",firefox:"4",safari:"5.1",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.object.define-properties":{chrome:"5",opera:"12",edge:"12",firefox:"4",safari:"4",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es7.object.entries":{chrome:"54",opera:"41",edge:"14",firefox:"47",safari:"10.1",node:"7",ios:"10.3",samsung:"6",electron:"1.4"},"es6.object.freeze":{chrome:"44",opera:"31",edge:"12",firefox:"35",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"es6.object.get-own-property-descriptor":{chrome:"44",opera:"31",edge:"12",firefox:"35",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"es7.object.get-own-property-descriptors":{chrome:"54",opera:"41",edge:"15",firefox:"50",safari:"10.1",node:"7",ios:"10.3",samsung:"6",electron:"1.4"},"es6.object.get-own-property-names":{chrome:"40",opera:"27",edge:"12",firefox:"33",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.object.get-prototype-of":{chrome:"44",opera:"31",edge:"12",firefox:"35",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"es7.object.lookup-getter":{chrome:"62",opera:"49",edge:"79",firefox:"36",safari:"9",node:"8.10",ios:"9",samsung:"8",electron:"3.0"},"es7.object.lookup-setter":{chrome:"62",opera:"49",edge:"79",firefox:"36",safari:"9",node:"8.10",ios:"9",samsung:"8",electron:"3.0"},"es6.object.prevent-extensions":{chrome:"44",opera:"31",edge:"12",firefox:"35",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"es6.object.to-string":{chrome:"57",opera:"44",edge:"15",firefox:"51",safari:"10",node:"8",ios:"10",samsung:"7",electron:"1.7"},"es6.object.is":{chrome:"19",opera:"15",edge:"12",firefox:"22",safari:"9",node:"0.12",android:"4.1",ios:"9",samsung:"1.5",electron:"0.20"},"es6.object.is-frozen":{chrome:"44",opera:"31",edge:"12",firefox:"35",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"es6.object.is-sealed":{chrome:"44",opera:"31",edge:"12",firefox:"35",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"es6.object.is-extensible":{chrome:"44",opera:"31",edge:"12",firefox:"35",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"es6.object.keys":{chrome:"40",opera:"27",edge:"12",firefox:"35",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.object.seal":{chrome:"44",opera:"31",edge:"12",firefox:"35",safari:"9",node:"4",ios:"9",samsung:"4",electron:"0.30"},"es6.object.set-prototype-of":{chrome:"34",opera:"21",edge:"12",firefox:"31",safari:"9",node:"0.12",ie:"11",ios:"9",samsung:"2",electron:"0.20"},"es7.object.values":{chrome:"54",opera:"41",edge:"14",firefox:"47",safari:"10.1",node:"7",ios:"10.3",samsung:"6",electron:"1.4"},"es6.promise":{chrome:"51",opera:"38",edge:"14",firefox:"45",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es7.promise.finally":{chrome:"63",opera:"50",edge:"18",firefox:"58",safari:"11.1",node:"10",ios:"11.3",samsung:"8",electron:"3.0"},"es6.reflect.apply":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.construct":{chrome:"49",opera:"36",edge:"13",firefox:"49",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.define-property":{chrome:"49",opera:"36",edge:"13",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.delete-property":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.get":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.get-own-property-descriptor":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.get-prototype-of":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.has":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.is-extensible":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.own-keys":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.prevent-extensions":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.set":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.reflect.set-prototype-of":{chrome:"49",opera:"36",edge:"12",firefox:"42",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"es6.regexp.constructor":{chrome:"50",opera:"37",edge:"79",firefox:"40",safari:"10",node:"6",ios:"10",samsung:"5",electron:"1.1"},"es6.regexp.flags":{chrome:"49",opera:"36",edge:"79",firefox:"37",safari:"9",node:"6",ios:"9",samsung:"5",electron:"0.37"},"es6.regexp.match":{chrome:"50",opera:"37",edge:"79",firefox:"49",safari:"10",node:"6",ios:"10",samsung:"5",electron:"1.1"},"es6.regexp.replace":{chrome:"50",opera:"37",edge:"79",firefox:"49",safari:"10",node:"6",ios:"10",samsung:"5",electron:"1.1"},"es6.regexp.split":{chrome:"50",opera:"37",edge:"79",firefox:"49",safari:"10",node:"6",ios:"10",samsung:"5",electron:"1.1"},"es6.regexp.search":{chrome:"50",opera:"37",edge:"79",firefox:"49",safari:"10",node:"6",ios:"10",samsung:"5",electron:"1.1"},"es6.regexp.to-string":{chrome:"50",opera:"37",edge:"79",firefox:"39",safari:"10",node:"6",ios:"10",samsung:"5",electron:"1.1"},"es6.set":{chrome:"51",opera:"38",edge:"15",firefox:"53",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.symbol":{chrome:"51",opera:"38",edge:"79",firefox:"51",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es7.symbol.async-iterator":{chrome:"63",opera:"50",edge:"79",firefox:"57",safari:"12",node:"10",ios:"12",samsung:"8",electron:"3.0"},"es6.string.anchor":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.big":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.blink":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.bold":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.code-point-at":{chrome:"41",opera:"28",edge:"12",firefox:"29",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.string.ends-with":{chrome:"41",opera:"28",edge:"12",firefox:"29",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.string.fixed":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.fontcolor":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.fontsize":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.from-code-point":{chrome:"41",opera:"28",edge:"12",firefox:"29",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.string.includes":{chrome:"41",opera:"28",edge:"12",firefox:"40",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.string.italics":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.iterator":{chrome:"38",opera:"25",edge:"12",firefox:"36",safari:"9",node:"0.12",ios:"9",samsung:"3",electron:"0.20"},"es6.string.link":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es7.string.pad-start":{chrome:"57",opera:"44",edge:"15",firefox:"48",safari:"10",node:"8",ios:"10",samsung:"7",electron:"1.7"},"es7.string.pad-end":{chrome:"57",opera:"44",edge:"15",firefox:"48",safari:"10",node:"8",ios:"10",samsung:"7",electron:"1.7"},"es6.string.raw":{chrome:"41",opera:"28",edge:"12",firefox:"34",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.string.repeat":{chrome:"41",opera:"28",edge:"12",firefox:"24",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.string.small":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.starts-with":{chrome:"41",opera:"28",edge:"12",firefox:"29",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"es6.string.strike":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.sub":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.sup":{chrome:"5",opera:"15",edge:"12",firefox:"17",safari:"6",node:"0.10",android:"4",ios:"7",phantom:"2",samsung:"1",electron:"0.20"},"es6.string.trim":{chrome:"5",opera:"10.50",edge:"12",firefox:"3.5",safari:"4",node:"0.10",ie:"9",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es7.string.trim-left":{chrome:"66",opera:"53",edge:"79",firefox:"61",safari:"12",node:"10",ios:"12",samsung:"9",electron:"3.0"},"es7.string.trim-right":{chrome:"66",opera:"53",edge:"79",firefox:"61",safari:"12",node:"10",ios:"12",samsung:"9",electron:"3.0"},"es6.typed.array-buffer":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.typed.data-view":{chrome:"5",opera:"12",edge:"12",firefox:"15",safari:"5.1",node:"0.10",ie:"10",android:"4",ios:"6",phantom:"2",samsung:"1",electron:"0.20"},"es6.typed.int8-array":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.typed.uint8-array":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.typed.uint8-clamped-array":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.typed.int16-array":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.typed.uint16-array":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.typed.int32-array":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.typed.uint32-array":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.typed.float32-array":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.typed.float64-array":{chrome:"51",opera:"38",edge:"13",firefox:"48",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"es6.weak-map":{chrome:"51",opera:"38",edge:"15",firefox:"53",safari:"9",node:"6.5",ios:"9",samsung:"5",electron:"1.2"},"es6.weak-set":{chrome:"51",opera:"38",edge:"15",firefox:"53",safari:"9",node:"6.5",ios:"9",samsung:"5",electron:"1.2"}}})),lV=Ur(Object.freeze({__proto__:null,default:{"transform-async-to-generator":{chrome:"55",opera:"42",edge:"15",firefox:"52",safari:"10.1",node:"7.6",ios:"10.3",samsung:"6",electron:"1.6"},"bugfix/transform-async-arrows-in-class":{chrome:"55",opera:"42",edge:"15",firefox:"52",safari:"11",node:"7.6",ios:"11",samsung:"6",electron:"1.6"},"transform-parameters":{chrome:"49",opera:"36",edge:"15",firefox:"53",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"bugfix/transform-edge-default-parameters":{chrome:"49",opera:"36",edge:"18",firefox:"52",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"transform-function-name":{chrome:"51",opera:"38",edge:"14",firefox:"53",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"bugfix/transform-edge-function-name":{chrome:"51",opera:"38",edge:"79",firefox:"53",safari:"10",node:"6.5",ios:"10",samsung:"5",electron:"1.2"},"transform-block-scoping":{chrome:"49",opera:"36",edge:"14",firefox:"51",safari:"10",node:"6",ios:"10",samsung:"5",electron:"0.37"},"bugfix/transform-safari-block-shadowing":{chrome:"49",opera:"36",edge:"12",firefox:"44",safari:"11",node:"6",ie:"11",ios:"11",samsung:"5",electron:"0.37"},"bugfix/transform-safari-for-shadowing":{chrome:"49",opera:"36",edge:"12",firefox:"4",safari:"11",node:"6",ie:"11",ios:"11",samsung:"5",electron:"0.37"},"transform-template-literals":{chrome:"41",opera:"28",edge:"13",firefox:"34",safari:"9",node:"4",ios:"9",samsung:"3.4",electron:"0.21"},"bugfix/transform-tagged-template-caching":{chrome:"41",opera:"28",edge:"12",firefox:"34",safari:"13",node:"4",ios:"13",samsung:"3.4",electron:"0.21"}}})),cV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-async-generators",manipulateOptions:function(e,t){t.plugins.push("asyncGenerators")}}});t.default=r})),uV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-dynamic-import",manipulateOptions:function(e,t){t.plugins.push("dynamicImport")}}});t.default=r})),pV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-export-namespace-from",manipulateOptions:function(e,t){t.plugins.push("exportNamespaceFrom")}}});t.default=r})),dV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-json-strings",manipulateOptions:function(e,t){t.plugins.push("jsonStrings")}}});t.default=r})),fV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-logical-assignment-operators",manipulateOptions:function(e,t){t.plugins.push("logicalAssignment")}}});t.default=r})),hV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-nullish-coalescing-operator",manipulateOptions:function(e,t){t.plugins.push("nullishCoalescingOperator")}}});t.default=r})),mV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-numeric-separator",manipulateOptions:function(e,t){t.plugins.push("numericSeparator")}}});t.default=r})),yV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-object-rest-spread",manipulateOptions:function(e,t){t.plugins.push("objectRestSpread")}}});t.default=r})),gV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-optional-catch-binding",manipulateOptions:function(e,t){t.plugins.push("optionalCatchBinding")}}});t.default=r})),vV=Mr(Lr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,MI.declare)(function(e){return e.assertVersion(7),{name:"syntax-optional-chaining",manipulateOptions:function(e,t){t.plugins.push("optionalChaining")}}});t.default=r})),bV=Mr(Lr(function(e,t){t.__esModule=!0,t.default=void 0;var r={allowInsertArrow:!1,specCompliant:!1};t.default=function(e){var t=e.types;return{name:"transform-async-arrows-in-class",visitor:{ArrowFunctionExpression:function(e){e.node.async&&e.findParent(t.isClassMethod)&&e.arrowFunctionToExpression(r)}}}},e.exports=t.default})),xV=Mr(Lr(function(e,t){t.__esModule=!0,t.default=void 0;t.default=function(e){var t=e.types,r=function(e){return"params"===e.parentKey&&e.parentPath&&t.isArrowFunctionExpression(e.parentPath)};return{name:"transform-edge-default-parameters",visitor:{AssignmentPattern:function(e){e.find(r)&&e.parent.shorthand&&(e.parent.shorthand=!1,(e.parent.extra||{}).shorthand=!1,e.scope.rename(e.parent.key.name))}}}},e.exports=t.default})),EV=Mr(Lr(function(e,t){t.__esModule=!0,t.default=void 0;t.default=function(e){var t=e.types;return{name:"transform-edge-function-name",visitor:{FunctionExpression:{exit:function(e){if(!e.node.id&&t.isIdentifier(e.parent.id)){var r=t.cloneNode(e.parent.id);e.scope.getBinding(r.name).constantViolations.length&&e.scope.rename(r.name),e.node.id=r}}}}}},e.exports=t.default})),wV=Mr(Lr(function(e,t){t.__esModule=!0,t.default=void 0;t.default=function(e){var t=e.types;return{name:"transform-tagged-template-caching",visitor:{TaggedTemplateExpression:function(e,r){var n=r.get("processed");if(n||(n=new Map,r.set("processed",n)),n.has(e.node))return e.skip();var a=e.node.quasi.expressions,s=r.get("identity");s||(s=e.scope.getProgramParent().generateDeclaredUidIdentifier("_"),r.set("identity",s),e.scope.getBinding(s.name).path.get("init").replaceWith(t.arrowFunctionExpression([t.identifier("t")],t.identifier("t"))));var i=t.taggedTemplateExpression(s,t.templateLiteral(e.node.quasi.quasis,a.map(function(){return t.numericLiteral(0)})));n.set(i,!0);var o=e.scope.getProgramParent().generateDeclaredUidIdentifier("t");e.scope.getBinding(o.name).path.parent.kind="let";var l=t.logicalExpression("||",o,t.assignmentExpression("=",o,i)),c=t.callExpression(e.node.tag,[l].concat(a));e.replaceWith(c)}}}},e.exports=t.default})),SV={"bugfix/transform-async-arrows-in-class":bV,"bugfix/transform-edge-default-parameters":xV,"bugfix/transform-edge-function-name":EV,"bugfix/transform-safari-block-shadowing":Mr(Lr(function(e,t){t.__esModule=!0,t.default=function(e){var t=e.types;return{name:"transform-safari-block-shadowing",visitor:{VariableDeclarator:function(e){var r=e.parent.kind;if("let"===r||"const"===r){var n=e.scope.block;if(!t.isFunction(n)&&!t.isProgram(n))for(var a=t.getOuterBindingIdentifiers(e.node.id),s=0,i=Object.keys(a);s<i.length;s++){var o=i[s],l=e.scope;if(l.hasOwnBinding(o))for(;l=l.parent;){if(l.hasOwnBinding(o)){e.scope.rename(o);break}if(t.isFunction(l.block)||t.isProgram(l.block))break}}}}}}},e.exports=t.default})),"bugfix/transform-safari-for-shadowing":Mr(Lr(function(e,t){function r(e){if(e.isVariableDeclaration()){var t=e.getFunctionParent(),r=e.node.declarations[0].id.name;t&&t.scope.hasOwnBinding(r)&&"param"===t.scope.getOwnBinding(r).kind&&e.scope.rename(r)}}t.__esModule=!0,t.default=void 0;t.default=function(){return{name:"transform-safari-for-shadowing",visitor:{ForXStatement:function(e){r(e.get("left"))},ForStatement:function(e){r(e.get("init"))}}}},e.exports=t.default})),"bugfix/transform-tagged-template-caching":wV,"proposal-async-generator-functions":mO,"proposal-class-properties":jN,"proposal-dynamic-import":GN,"proposal-export-namespace-from":zN,"proposal-json-strings":YN,"proposal-logical-assignment-operators":QN,"proposal-nullish-coalescing-operator":tB,"proposal-numeric-separator":nB,"proposal-object-rest-spread":wB,"proposal-optional-catch-binding":TB,"proposal-optional-chaining":CB,"proposal-private-methods":NB,"proposal-unicode-property-regex":PF,"syntax-async-generators":cV,"syntax-class-properties":UI,"syntax-dynamic-import":uV,"syntax-export-namespace-from":pV,"syntax-json-strings":dV,"syntax-logical-assignment-operators":fV,"syntax-nullish-coalescing-operator":hV,"syntax-numeric-separator":mV,"syntax-object-rest-spread":yV,"syntax-optional-catch-binding":gV,"syntax-optional-chaining":vV,"syntax-top-level-await":nO,"transform-arrow-functions":CF,"transform-async-to-generator":kF,"transform-block-scoped-functions":DF,
"transform-block-scoping":BF,"transform-classes":uR,"transform-computed-properties":pR,"transform-destructuring":dR,"transform-dotall-regex":fR,"transform-duplicate-keys":hR,"transform-exponentiation-operator":gR,"transform-for-of":TR,"transform-function-name":jR,"transform-literals":kR,"transform-member-expression-literals":CR,"transform-modules-amd":BR,"transform-modules-commonjs":LR,"transform-modules-systemjs":HR,"transform-modules-umd":XR,"transform-named-capturing-groups-regex":JR,"transform-new-target":YR,"transform-object-super":QR,"transform-parameters":xB,"transform-property-literals":eM,"transform-regenerator":VL,"transform-reserved-words":GL,"transform-shorthand-properties":XL,"transform-spread":JL,"transform-sticky-regex":YL,"transform-template-literals":ZL,"transform-typeof-symbol":eU,"transform-unicode-escapes":gU,"transform-unicode-regex":vU},TV={},jV={},AV=0,PV=Object.keys(GW);AV<PV.length;AV++){var kV=PV[AV];Object.hasOwnProperty.call(SV,kV)&&(TV[kV]=GW[kV])}for(var CV=0,DV=Object.keys(lV);CV<DV.length;CV++){var _V=DV[CV];Object.hasOwnProperty.call(SV,_V)&&(jV[_V]=lV[_V])}TV["proposal-class-properties"]=TV["proposal-private-methods"];var IV={bugfixes:"bugfixes",configPath:"configPath",corejs:"corejs",debug:"debug",exclude:"exclude",forceAllTransforms:"forceAllTransforms",ignoreBrowserslistConfig:"ignoreBrowserslistConfig",include:"include",loose:"loose",modules:"modules",shippedProposals:"shippedProposals",spec:"spec",targets:"targets",useBuiltIns:"useBuiltIns",browserslistEnv:"browserslistEnv"},OV={false:!1,auto:"auto",amd:"amd",commonjs:"commonjs",cjs:"cjs",systemjs:"systemjs",umd:"umd"},NV={false:!1,entry:"entry",usage:"usage"},BV=["web.timers","web.immediate","web.dom.iterable"];function FV(e){var t=Object.keys(e),r=!t.length,n=t.some(function(e){return"node"!==e});return r||n?BV:null}var RV=new DW("@babel/preset-env"),MV=Object.keys(TV),LV=["proposal-dynamic-import"].concat(Object.keys(sV).map(function(e){return sV[e]})),UV=function(e,t,r){return Array.from(function(e,t){return new Set([].concat(MV,"exclude"===e?LV:[],t?2==t?[].concat(Object.keys(oV),BV):Object.keys(iV):[]))}(t,r)).filter(function(t){return e instanceof RegExp&&e.test(t)})},WV=function(e,t,r){if(void 0===e&&(e=[]),0===e.length)return[];var n,a,s=e.map(function(e){return UV(function(e){if(e instanceof RegExp)return e;try{return new RegExp("^"+VV(e)+"$")}catch(e){return null}}(e),t,r)}),i=e.filter(function(e,t){return 0===s[t].length});return RV.invariant(0===i.length,"The plugins/built-ins '"+i.join(", ")+"' passed to the '"+t+"' option are not\n    valid. Please check data/[plugin-features|built-in-features].js in babel-preset-env"),n=s,(a=[]).concat.apply(a,n)},VV=function(e){return e.replace(/^(@babel\/|babel-)(plugin-)?/,"")};function GV(e){RV.validateTopLevelOptions(e,IV);var t,r,n,a=(void 0===(t=e.useBuiltIns)&&(t=!1),RV.invariant(NV[t.toString()]||t===NV.false,"The 'useBuiltIns' option must be either\n    'false' (default) to indicate no polyfill,\n    '\"entry\"' to indicate replacing the entry polyfill, or\n    '\"usage\"' to import only used polyfills per file"),t),s=function(e,t){var r,n=!1;t&&void 0===e?(r=2,console.warn("\nWARNING: We noticed you're using the `useBuiltIns` option without declaring a core-js version. Currently, we assume version 2.x when no version is passed. Since this default version will likely change in future versions of Babel, we recommend explicitly setting the core-js version you are using via the `corejs` option.\n\nYou should also be sure that the version you pass to the `corejs` option matches the version specified in your `package.json`'s `dependencies` section. If it doesn't, you need to run one of the following commands:\n\n  npm install --save core-js@2    npm install --save core-js@3\n  yarn add core-js@2              yarn add core-js@3\n")):"object"==typeof e&&null!==e?(r=e.version,n=Boolean(e.proposals)):r=e;var a=!!r&&LA.coerce(String(r));if(!t&&a&&console.log("\nThe `corejs` option only has an effect when the `useBuiltIns` option is not `false`\n"),t&&(!a||a.major<2||a.major>3))throw new RangeError("Invalid Option: The version passed to `corejs` is invalid. Currently, only core-js@2 and core-js@3 are supported.");return{version:a,proposals:n}}(e.corejs,a),i=WV(e.include,IV.include,!!s.version&&s.version.major),o=WV(e.exclude,IV.exclude,!!s.version&&s.version.major);return function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);var r=e.filter(function(e){return t.indexOf(e)>=0});RV.invariant(0===r.length,"The plugins/built-ins '"+r.join(", ")+'\' were found in both the "include" and\n    "exclude" options.')}(i,o),{bugfixes:RV.validateBooleanOption(IV.bugfixes,e.bugfixes,!1),configPath:RV.validateStringOption(IV.configPath,e.configPath,si.cwd()),corejs:s,debug:RV.validateBooleanOption(IV.debug,e.debug,!1),include:i,exclude:o,forceAllTransforms:RV.validateBooleanOption(IV.forceAllTransforms,e.forceAllTransforms,!1),ignoreBrowserslistConfig:RV.validateBooleanOption(IV.ignoreBrowserslistConfig,e.ignoreBrowserslistConfig,!1),loose:RV.validateBooleanOption(IV.loose,e.loose,!1),modules:(n=e.modules,void 0===n&&(n=OV.auto),RV.invariant(OV[n.toString()]||n===OV.false,"The 'modules' option must be one of \n - 'false' to indicate no module processing\n - a specific module type: 'commonjs', 'amd', 'umd', 'systemjs' - 'auto' (default) which will automatically select 'false' if the current\n   process is known to support ES module syntax, or \"commonjs\" otherwise\n"),n),shippedProposals:RV.validateBooleanOption(IV.shippedProposals,e.shippedProposals,!1),spec:RV.validateBooleanOption(IV.spec,e.spec,!1),targets:(r=e.targets,"string"==typeof r||Array.isArray(r)?{browsers:r}:Object.assign({},r)),useBuiltIns:a,browserslistEnv:RV.validateStringOption(IV.browserslistEnv,e.browserslistEnv)}}var KV=new Set(["proposal-class-properties","proposal-private-methods"]),HV={"proposal-async-generator-functions":"syntax-async-generators","proposal-class-properties":"syntax-class-properties","proposal-json-strings":"syntax-json-strings","proposal-nullish-coalescing-operator":"syntax-nullish-coalescing-operator","proposal-numeric-separator":"syntax-numeric-separator","proposal-object-rest-spread":"syntax-object-rest-spread","proposal-optional-catch-binding":"syntax-optional-catch-binding","proposal-optional-chaining":"syntax-optional-chaining","proposal-private-methods":"syntax-class-properties","proposal-unicode-property-regex":null},zV=Object.keys(HV).map(function(e){return[e,HV[e]]}),qV={pluginSyntaxMap:new Map(zV),proposalPlugins:KV},XV=Ur(Object.freeze({__proto__:null,default:{"transform-async-to-generator":["bugfix/transform-async-arrows-in-class"],"transform-parameters":["bugfix/transform-edge-default-parameters"],"transform-function-name":["bugfix/transform-edge-function-name"],"transform-block-scoping":["bugfix/transform-safari-block-shadowing","bugfix/transform-safari-for-shadowing"],"transform-template-literals":["bugfix/transform-tagged-template-caching"]}})),JV=["es6.object.to-string","es6.array.iterator","web.dom.iterable"],YV=["es6.string.iterator"].concat(JV),$V=["es6.object.to-string","es6.promise"],QV={DataView:"es6.typed.data-view",Float32Array:"es6.typed.float32-array",Float64Array:"es6.typed.float64-array",Int8Array:"es6.typed.int8-array",Int16Array:"es6.typed.int16-array",Int32Array:"es6.typed.int32-array",Map:["es6.map"].concat(YV),Number:"es6.number.constructor",Promise:$V,RegExp:["es6.regexp.constructor"],Set:["es6.set"].concat(YV),Symbol:["es6.symbol","es7.symbol.async-iterator"],Uint8Array:"es6.typed.uint8-array",Uint8ClampedArray:"es6.typed.uint8-clamped-array",Uint16Array:"es6.typed.uint16-array",Uint32Array:"es6.typed.uint32-array",WeakMap:["es6.weak-map"].concat(YV),WeakSet:["es6.weak-set"].concat(YV)},ZV={__defineGetter__:["es7.object.define-getter"],__defineSetter__:["es7.object.define-setter"],__lookupGetter__:["es7.object.lookup-getter"],__lookupSetter__:["es7.object.lookup-setter"],anchor:["es6.string.anchor"],big:["es6.string.big"],bind:["es6.function.bind"],blink:["es6.string.blink"],bold:["es6.string.bold"],codePointAt:["es6.string.code-point-at"],copyWithin:["es6.array.copy-within"],endsWith:["es6.string.ends-with"],entries:JV,every:["es6.array.is-array"],fill:["es6.array.fill"],filter:["es6.array.filter"],finally:["es7.promise.finally"].concat($V),find:["es6.array.find"],findIndex:["es6.array.find-index"],fixed:["es6.string.fixed"],flags:["es6.regexp.flags"],flatMap:["es7.array.flat-map"],fontcolor:["es6.string.fontcolor"],fontsize:["es6.string.fontsize"],forEach:["es6.array.for-each"],includes:["es6.string.includes","es7.array.includes"],indexOf:["es6.array.index-of"],italics:["es6.string.italics"],keys:JV,lastIndexOf:["es6.array.last-index-of"],link:["es6.string.link"],map:["es6.array.map"],match:["es6.regexp.match"],name:["es6.function.name"],padStart:["es7.string.pad-start"],padEnd:["es7.string.pad-end"],reduce:["es6.array.reduce"],reduceRight:["es6.array.reduce-right"],repeat:["es6.string.repeat"],replace:["es6.regexp.replace"],search:["es6.regexp.search"],slice:["es6.array.slice"],small:["es6.string.small"],some:["es6.array.some"],sort:["es6.array.sort"],split:["es6.regexp.split"],startsWith:["es6.string.starts-with"],strike:["es6.string.strike"],sub:["es6.string.sub"],sup:["es6.string.sup"],toISOString:["es6.date.to-iso-string"],toJSON:["es6.date.to-json"],toString:["es6.object.to-string","es6.date.to-string","es6.regexp.to-string"],trim:["es6.string.trim"],trimEnd:["es7.string.trim-right"],trimLeft:["es7.string.trim-left"],trimRight:["es7.string.trim-right"],trimStart:["es7.string.trim-left"],values:JV},eG={Array:{from:["es6.array.from","es6.string.iterator"],isArray:"es6.array.is-array",of:"es6.array.of"},Date:{now:"es6.date.now"},Object:{assign:"es6.object.assign",create:"es6.object.create",defineProperty:"es6.object.define-property",defineProperties:"es6.object.define-properties",entries:"es7.object.entries",freeze:"es6.object.freeze",getOwnPropertyDescriptors:"es7.object.get-own-property-descriptors",getOwnPropertySymbols:"es6.symbol",is:"es6.object.is",isExtensible:"es6.object.is-extensible",isFrozen:"es6.object.is-frozen",isSealed:"es6.object.is-sealed",keys:"es6.object.keys",preventExtensions:"es6.object.prevent-extensions",seal:"es6.object.seal",setPrototypeOf:"es6.object.set-prototype-of",values:"es7.object.values"},Math:{acosh:"es6.math.acosh",asinh:"es6.math.asinh",atanh:"es6.math.atanh",cbrt:"es6.math.cbrt",clz32:"es6.math.clz32",cosh:"es6.math.cosh",expm1:"es6.math.expm1",fround:"es6.math.fround",hypot:"es6.math.hypot",imul:"es6.math.imul",log1p:"es6.math.log1p",log10:"es6.math.log10",log2:"es6.math.log2",sign:"es6.math.sign",sinh:"es6.math.sinh",tanh:"es6.math.tanh",trunc:"es6.math.trunc"},String:{fromCodePoint:"es6.string.from-code-point",raw:"es6.string.raw"},Number:{EPSILON:"es6.number.epsilon",MIN_SAFE_INTEGER:"es6.number.min-safe-integer",MAX_SAFE_INTEGER:"es6.number.max-safe-integer",isFinite:"es6.number.is-finite",isInteger:"es6.number.is-integer",isSafeInteger:"es6.number.is-safe-integer",isNaN:"es6.number.is-nan",parseFloat:"es6.number.parse-float",parseInt:"es6.number.parse-int"},Promise:{all:YV,race:YV},Reflect:{apply:"es6.reflect.apply",construct:"es6.reflect.construct",defineProperty:"es6.reflect.define-property",deleteProperty:"es6.reflect.delete-property",get:"es6.reflect.get",getOwnPropertyDescriptor:"es6.reflect.get-own-property-descriptor",getPrototypeOf:"es6.reflect.get-prototype-of",has:"es6.reflect.has",isExtensible:"es6.reflect.is-extensible",ownKeys:"es6.reflect.own-keys",preventExtensions:"es6.reflect.prevent-extensions",set:"es6.reflect.set",setPrototypeOf:"es6.reflect.set-prototype-of"}},tG=Object.hasOwnProperty.call.bind(Object.hasOwnProperty);function rG(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function nG(e,t,r){for(var n,a=new Set,s=U(e);!(n=s()).done;){var i=n.value;t.has(i)&&r.has(i)&&a.add(i)}return a}function aG(e,t){return Object.keys(e).reduce(function(r,n){return t.has(n)||(r[n]=e[n]),r},{})}function sG(e){var t=e.node;if(0===t.specifiers.length)return t.source.value}function iG(e){var t=e.node;if(le(t)){var r=t.expression;return ne(r)&&he(r.callee)&&"require"===r.callee.name&&1===r.arguments.length&&ge(r.arguments[0])?r.arguments[0].value:void 0}}function oG(e){return"@babel/polyfill"===e||"core-js"===e}var lG={"regenerator-runtime":"regenerator-runtime/runtime"};function cG(e){return lG[e]||"core-js/modules/"+e}function uG(e,t){return function(e,t,r){return new Oj(e).addSideEffect(t,r)}(e,cG(t))}function pG(e){if(!e.node)return!1;var t=e.scope.getBinding(e.node.name);return!!t&&t.path.isImportNamespaceSpecifier()}var dG="\n  When setting `useBuiltIns: 'usage'`, polyfills are automatically imported when needed.\n  Please remove the `import '@babel/polyfill'` call or use `useBuiltIns: 'entry'` instead.";function fG(e,t){var r=e.types,n=t.include,a=t.exclude,s=t.polyfillTargets,i=t.debug,o=HW(oV,n,a,s,FV(s));return{name:"corejs2-usage",pre:function(e){var t=e.path;this.polyfillsSet=new Set,this.addImport=function(e){this.polyfillsSet.has(e)||(this.polyfillsSet.add(e),uG(t,e))},this.addUnsupported=function(e){for(var t,r=U(Array.isArray(e)?e:[e]);!(t=r()).done;){var n=t.value;o.has(n)&&this.addImport(n)}}},post:function(){i&&nV(this.polyfillsSet,this.file.opts.filename,s,oV)},visitor:{ImportDeclaration:function(e){oG(sG(e))&&(console.warn(dG),e.remove())},Program:function(e){e.get("body").forEach(function(e){oG(iG(e))&&(console.warn(dG),e.remove())})},ReferencedIdentifier:function(e){var t=e.node.name,n=e.parent,a=e.scope;if(!r.isMemberExpression(n)&&tG(QV,t)&&!a.getBindingIdentifier(t)){var s=QV[t];this.addUnsupported(s)}},CallExpression:function(e){if(!e.node.arguments.length){var t=e.node.callee;r.isMemberExpression(t)&&t.computed&&e.get("callee.property").matchesPattern("Symbol.iterator")&&this.addImport("web.dom.iterable")}},BinaryExpression:function(e){"in"===e.node.operator&&e.get("left").matchesPattern("Symbol.iterator")&&this.addImport("web.dom.iterable")},YieldExpression:function(e){e.node.delegate&&this.addImport("web.dom.iterable")},MemberExpression:{enter:function(e){var t=e.node,n=t.object,a=t.property;if(!pG(e.get("object"))){var s=n.name,i="",o="";if(t.computed)if(r.isStringLiteral(a))i=a.value;else{var l=e.get("property").evaluate();l.confident&&l.value&&(i=l.value)}else i=a.name;if(e.scope.getBindingIdentifier(n.name)){var c=e.get("object").evaluate();c.value?o=rG(c.value):c.deopt&&c.deopt.isIdentifier()&&(s=c.deopt.node.name)}if(tG(eG,s)){var u=eG[s];if(tG(u,i)){var p=u[i];this.addUnsupported(p)}}if(tG(ZV,i)){var d=ZV[i];o&&(d=d.filter(function(e){return e.includes(o)})),this.addUnsupported(d)}}},exit:function(e){var t=e.node.object.name;if(tG(QV,t)&&!e.scope.getBindingIdentifier(t)){var r=QV[t];this.addUnsupported(r)}}},VariableDeclarator:function(e){var t=e.node,n=t.id,a=t.init;if(r.isObjectPattern(n)&&(!a||!e.scope.getBindingIdentifier(a.name)))for(var s,i=U(n.properties);!(s=i()).done;){var o=s.value.key;if(!t.computed&&r.isIdentifier(o)&&tG(ZV,o.name)){var l=ZV[o.name];this.addUnsupported(l)}}}}}}var hG=Ur(Object.freeze({__proto__:null,default:["esnext.global-this","esnext.promise.all-settled","esnext.string.match-all"]})),mG="object"==typeof si&&si.env&&si.env.NODE_DEBUG&&/\bsemver\b/i.test(si.env.NODE_DEBUG)?function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=console).error.apply(e,["SEMVER"].concat(r))}:function(){},yG={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},gG=Lr(function(e,t){var r=yG.MAX_SAFE_COMPONENT_LENGTH,n=(t=e.exports={}).re=[],a=t.src=[],s=t.t={},i=0,o=function(e,t,r){var o=i++;mG(o,t),s[e]=o,a[o]=t,n[o]=new RegExp(t,r?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","[0-9]+"),o("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),o("MAINVERSION","("+a[s.NUMERICIDENTIFIER]+")\\.("+a[s.NUMERICIDENTIFIER]+")\\.("+a[s.NUMERICIDENTIFIER]+")"),o("MAINVERSIONLOOSE","("+a[s.NUMERICIDENTIFIERLOOSE]+")\\.("+a[s.NUMERICIDENTIFIERLOOSE]+")\\.("+a[s.NUMERICIDENTIFIERLOOSE]+")"),o("PRERELEASEIDENTIFIER","(?:"+a[s.NUMERICIDENTIFIER]+"|"+a[s.NONNUMERICIDENTIFIER]+")"),o("PRERELEASEIDENTIFIERLOOSE","(?:"+a[s.NUMERICIDENTIFIERLOOSE]+"|"+a[s.NONNUMERICIDENTIFIER]+")"),o("PRERELEASE","(?:-("+a[s.PRERELEASEIDENTIFIER]+"(?:\\."+a[s.PRERELEASEIDENTIFIER]+")*))"),o("PRERELEASELOOSE","(?:-?("+a[s.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+a[s.PRERELEASEIDENTIFIERLOOSE]+")*))"),o("BUILDIDENTIFIER","[0-9A-Za-z-]+"),o("BUILD","(?:\\+("+a[s.BUILDIDENTIFIER]+"(?:\\."+a[s.BUILDIDENTIFIER]+")*))"),o("FULLPLAIN","v?"+a[s.MAINVERSION]+a[s.PRERELEASE]+"?"+a[s.BUILD]+"?"),o("FULL","^"+a[s.FULLPLAIN]+"$"),o("LOOSEPLAIN","[v=\\s]*"+a[s.MAINVERSIONLOOSE]+a[s.PRERELEASELOOSE]+"?"+a[s.BUILD]+"?"),o("LOOSE","^"+a[s.LOOSEPLAIN]+"$"),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",a[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),o("XRANGEIDENTIFIER",a[s.NUMERICIDENTIFIER]+"|x|X|\\*"),o("XRANGEPLAIN","[v=\\s]*("+a[s.XRANGEIDENTIFIER]+")(?:\\.("+a[s.XRANGEIDENTIFIER]+")(?:\\.("+a[s.XRANGEIDENTIFIER]+")(?:"+a[s.PRERELEASE]+")?"+a[s.BUILD]+"?)?)?"),o("XRANGEPLAINLOOSE","[v=\\s]*("+a[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[s.XRANGEIDENTIFIERLOOSE]+")(?:"+a[s.PRERELEASELOOSE]+")?"+a[s.BUILD]+"?)?)?"),o("XRANGE","^"+a[s.GTLT]+"\\s*"+a[s.XRANGEPLAIN]+"$"),o("XRANGELOOSE","^"+a[s.GTLT]+"\\s*"+a[s.XRANGEPLAINLOOSE]+"$"),o("COERCE","(^|[^\\d])(\\d{1,"+r+"})(?:\\.(\\d{1,"+r+"}))?(?:\\.(\\d{1,"+r+"}))?(?:$|[^\\d])"),o("COERCERTL",a[s.COERCE],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM","(\\s*)"+a[s.LONETILDE]+"\\s+",!0),t.tildeTrimReplace="$1~",o("TILDE","^"+a[s.LONETILDE]+a[s.XRANGEPLAIN]+"$"),o("TILDELOOSE","^"+a[s.LONETILDE]+a[s.XRANGEPLAINLOOSE]+"$"),o("LONECARET","(?:\\^)"),o("CARETTRIM","(\\s*)"+a[s.LONECARET]+"\\s+",!0),t.caretTrimReplace="$1^",o("CARET","^"+a[s.LONECARET]+a[s.XRANGEPLAIN]+"$"),o("CARETLOOSE","^"+a[s.LONECARET]+a[s.XRANGEPLAINLOOSE]+"$"),o("COMPARATORLOOSE","^"+a[s.GTLT]+"\\s*("+a[s.LOOSEPLAIN]+")$|^$"),o("COMPARATOR","^"+a[s.GTLT]+"\\s*("+a[s.FULLPLAIN]+")$|^$"),o("COMPARATORTRIM","(\\s*)"+a[s.GTLT]+"\\s*("+a[s.LOOSEPLAIN]+"|"+a[s.XRANGEPLAIN]+")",!0),t.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE","^\\s*("+a[s.XRANGEPLAIN]+")\\s+-\\s+("+a[s.XRANGEPLAIN]+")\\s*$"),o("HYPHENRANGELOOSE","^\\s*("+a[s.XRANGEPLAINLOOSE]+")\\s+-\\s+("+a[s.XRANGEPLAINLOOSE]+")\\s*$"),o("STAR","(<|>)?=?\\s*\\*")}),vG=/^[0-9]+$/,bG=function(e,t){var r=vG.test(e),n=vG.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},xG=bG,EG=yG.MAX_LENGTH,wG=yG.MAX_SAFE_INTEGER,SG=gG.re,TG=gG.t,jG=xG,AG=function(){function e(t,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>EG)throw new TypeError("version is longer than "+EG+" characters");mG("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;var n=t.trim().match(r.loose?SG[TG.LOOSE]:SG[TG.FULL]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>wG||this.major<0)throw new TypeError("Invalid major version");if(this.minor>wG||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>wG||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<wG)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}var t=e.prototype;return t.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},t.toString=function(){return this.version},t.compare=function(t){if(mG("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)},t.compareMain=function(t){return t instanceof e||(t=new e(t,this.options)),jG(this.major,t.major)||jG(this.minor,t.minor)||jG(this.patch,t.patch)},t.comparePre=function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var r=0;do{var n=this.prerelease[r],a=t.prerelease[r];if(mG("prerelease compare",r,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return jG(n,a)}while(++r)},t.compareBuild=function(t){t instanceof e||(t=new e(t,this.options));var r=0;do{var n=this.build[r],a=t.build[r];if(mG("prerelease compare",r,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return jG(n,a)}while(++r)},t.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e}(),PG=function(e,t,r){return new AG(e,r).compare(new AG(t,r))},kG=function(e,t,r){return 0===PG(e,t,r)},CG=function(e,t,r){return 0!==PG(e,t,r)},DG=function(e,t,r){return PG(e,t,r)>0},_G=function(e,t,r){return PG(e,t,r)>=0},IG=function(e,t,r){return PG(e,t,r)<0},OG=function(e,t,r){return PG(e,t,r)<=0},NG=function(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return kG(e,r,n);case"!=":return CG(e,r,n);case">":return DG(e,r,n);case">=":return _G(e,r,n);case"<":return IG(e,r,n);case"<=":return OG(e,r,n);default:throw new TypeError("Invalid operator: "+t)}},BG=yG.MAX_LENGTH,FG=gG.re,RG=gG.t,MG=function(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof AG)return e;if("string"!=typeof e)return null;if(e.length>BG)return null;if(!(t.loose?FG[RG.LOOSE]:FG[RG.FULL]).test(e))return null;try{return new AG(e,t)}catch(e){return null}},LG=gG.re,UG=gG.t,WG=function(e,t){if(e instanceof AG)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var n;(n=LG[UG.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),LG[UG.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;LG[UG.COERCERTL].lastIndex=-1}else r=e.match(LG[UG.COERCE]);return null===r?null:MG(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)};var VG={compare:function(e,t,r){return NG(WG(e),t,WG(r))},has:Function.call.bind({}.hasOwnProperty),intersection:function(e,t){var r=e instanceof Set?e:new Set(e);return t.filter(function(e){return r.has(e)})},semver:WG,sortObjectByKey:function(e,t){return Object.keys(e).sort(t).reduce(function(t,r){return t[r]=e[r],t},{})}},GG=Object.freeze({__proto__:null,default:{"3.0":["es.symbol","es.symbol.description","es.symbol.async-iterator","es.symbol.has-instance","es.symbol.is-concat-spreadable","es.symbol.iterator","es.symbol.match","es.symbol.replace","es.symbol.search","es.symbol.species","es.symbol.split","es.symbol.to-primitive","es.symbol.to-string-tag","es.symbol.unscopables","es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.from","es.array.includes","es.array.index-of","es.array.is-array","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.of","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map","es.array-buffer.constructor","es.array-buffer.is-view","es.array-buffer.slice","es.data-view","es.date.now","es.date.to-iso-string","es.date.to-json","es.date.to-primitive","es.date.to-string","es.function.bind","es.function.has-instance","es.function.name","es.json.to-string-tag","es.map","es.math.acosh","es.math.asinh","es.math.atanh","es.math.cbrt","es.math.clz32","es.math.cosh","es.math.expm1","es.math.fround","es.math.hypot","es.math.imul","es.math.log10","es.math.log1p","es.math.log2","es.math.sign","es.math.sinh","es.math.tanh","es.math.to-string-tag","es.math.trunc","es.number.constructor","es.number.epsilon","es.number.is-finite","es.number.is-integer","es.number.is-nan","es.number.is-safe-integer","es.number.max-safe-integer","es.number.min-safe-integer","es.number.parse-float","es.number.parse-int","es.number.to-fixed","es.number.to-precision","es.object.assign","es.object.create","es.object.define-getter","es.object.define-properties","es.object.define-property","es.object.define-setter","es.object.entries","es.object.freeze","es.object.from-entries","es.object.get-own-property-descriptor","es.object.get-own-property-descriptors","es.object.get-own-property-names","es.object.get-prototype-of","es.object.is","es.object.is-extensible","es.object.is-frozen","es.object.is-sealed","es.object.keys","es.object.lookup-getter","es.object.lookup-setter","es.object.prevent-extensions","es.object.seal","es.object.set-prototype-of","es.object.to-string","es.object.values","es.parse-float","es.parse-int","es.promise","es.promise.finally","es.reflect.apply","es.reflect.construct","es.reflect.define-property","es.reflect.delete-property","es.reflect.get","es.reflect.get-own-property-descriptor","es.reflect.get-prototype-of","es.reflect.has","es.reflect.is-extensible","es.reflect.own-keys","es.reflect.prevent-extensions","es.reflect.set","es.reflect.set-prototype-of","es.regexp.constructor","es.regexp.exec","es.regexp.flags","es.regexp.to-string","es.set","es.string.code-point-at","es.string.ends-with","es.string.from-code-point","es.string.includes","es.string.iterator","es.string.match","es.string.pad-end","es.string.pad-start","es.string.raw","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup","es.typed-array.float32-array","es.typed-array.float64-array","es.typed-array.int8-array","es.typed-array.int16-array","es.typed-array.int32-array","es.typed-array.uint8-array","es.typed-array.uint8-clamped-array","es.typed-array.uint16-array","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string","es.weak-map","es.weak-set","esnext.aggregate-error","esnext.array.last-index","esnext.array.last-item","esnext.composite-key","esnext.composite-symbol","esnext.global-this","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.math.umulh","esnext.number.from-string","esnext.observable","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","esnext.reflect.define-metadata","esnext.reflect.delete-metadata","esnext.reflect.get-metadata","esnext.reflect.get-metadata-keys","esnext.reflect.get-own-metadata","esnext.reflect.get-own-metadata-keys","esnext.reflect.has-metadata","esnext.reflect.has-own-metadata","esnext.reflect.metadata","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of","web.dom-collections.for-each","web.dom-collections.iterator","web.immediate","web.queue-microtask","web.timers","web.url","web.url.to-json","web.url-search-params"],3.1:["es.string.match-all","es.symbol.match-all","esnext.symbol.replace-all"],3.2:["es.promise.all-settled","esnext.array.is-template-object","esnext.map.update-or-insert","esnext.symbol.async-dispose"],3.3:["es.global-this","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.upsert","esnext.weak-map.upsert"],3.4:["es.json.stringify"],3.5:["esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values"],3.6:["es.regexp.sticky","es.regexp.test"]}}),KG=Object.freeze({__proto__:null,
default:["es.symbol","es.symbol.description","es.symbol.async-iterator","es.symbol.has-instance","es.symbol.is-concat-spreadable","es.symbol.iterator","es.symbol.match","es.symbol.match-all","es.symbol.replace","es.symbol.search","es.symbol.species","es.symbol.split","es.symbol.to-primitive","es.symbol.to-string-tag","es.symbol.unscopables","es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.from","es.array.includes","es.array.index-of","es.array.is-array","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.of","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map","es.array-buffer.constructor","es.array-buffer.is-view","es.array-buffer.slice","es.data-view","es.date.now","es.date.to-iso-string","es.date.to-json","es.date.to-primitive","es.date.to-string","es.function.bind","es.function.has-instance","es.function.name","es.global-this","es.json.stringify","es.json.to-string-tag","es.map","es.math.acosh","es.math.asinh","es.math.atanh","es.math.cbrt","es.math.clz32","es.math.cosh","es.math.expm1","es.math.fround","es.math.hypot","es.math.imul","es.math.log10","es.math.log1p","es.math.log2","es.math.sign","es.math.sinh","es.math.tanh","es.math.to-string-tag","es.math.trunc","es.number.constructor","es.number.epsilon","es.number.is-finite","es.number.is-integer","es.number.is-nan","es.number.is-safe-integer","es.number.max-safe-integer","es.number.min-safe-integer","es.number.parse-float","es.number.parse-int","es.number.to-fixed","es.number.to-precision","es.object.assign","es.object.create","es.object.define-getter","es.object.define-properties","es.object.define-property","es.object.define-setter","es.object.entries","es.object.freeze","es.object.from-entries","es.object.get-own-property-descriptor","es.object.get-own-property-descriptors","es.object.get-own-property-names","es.object.get-prototype-of","es.object.is","es.object.is-extensible","es.object.is-frozen","es.object.is-sealed","es.object.keys","es.object.lookup-getter","es.object.lookup-setter","es.object.prevent-extensions","es.object.seal","es.object.set-prototype-of","es.object.to-string","es.object.values","es.parse-float","es.parse-int","es.promise","es.promise.all-settled","es.promise.finally","es.reflect.apply","es.reflect.construct","es.reflect.define-property","es.reflect.delete-property","es.reflect.get","es.reflect.get-own-property-descriptor","es.reflect.get-prototype-of","es.reflect.has","es.reflect.is-extensible","es.reflect.own-keys","es.reflect.prevent-extensions","es.reflect.set","es.reflect.set-prototype-of","es.regexp.constructor","es.regexp.exec","es.regexp.flags","es.regexp.sticky","es.regexp.test","es.regexp.to-string","es.set","es.string.code-point-at","es.string.ends-with","es.string.from-code-point","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.raw","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup","es.typed-array.float32-array","es.typed-array.float64-array","es.typed-array.int8-array","es.typed-array.int16-array","es.typed-array.int32-array","es.typed-array.uint8-array","es.typed-array.uint8-clamped-array","es.typed-array.uint16-array","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string","es.weak-map","es.weak-set","esnext.aggregate-error","esnext.array.is-template-object","esnext.array.last-index","esnext.array.last-item","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.composite-key","esnext.composite-symbol","esnext.global-this","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.map.update-or-insert","esnext.map.upsert","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.math.umulh","esnext.number.from-string","esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values","esnext.observable","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","esnext.reflect.define-metadata","esnext.reflect.delete-metadata","esnext.reflect.get-metadata","esnext.reflect.get-metadata-keys","esnext.reflect.get-own-metadata","esnext.reflect.get-own-metadata-keys","esnext.reflect.has-metadata","esnext.reflect.has-own-metadata","esnext.reflect.metadata","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.symbol.replace-all","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-map.upsert","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of","web.dom-collections.for-each","web.dom-collections.iterator","web.immediate","web.queue-microtask","web.timers","web.url","web.url.to-json","web.url-search-params"]}),HG=Ur(GG),zG=Ur(KG),qG=VG.compare,XG=VG.intersection,JG=VG.semver,YG=function(e){var t=JG(e);if(3!==t.major)throw RangeError("This version of `core-js-compat` works only with `core-js@3`.");for(var r=[],n=0,a=Object.keys(HG);n<a.length;n++){var s=a[n];qG(s,"<=",t)&&r.push.apply(r,HG[s])}return XG(r,zG)},$G=["es.array.iterator","web.dom-collections.iterator"],QG=["es.string.iterator"].concat($G),ZG=["es.object.to-string"].concat($G),eK=["es.object.to-string"].concat(QG),tK=["es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string","es.object.to-string","es.array.iterator","es.array-buffer.slice"],rK={from:"es.typed-array.from",of:"es.typed-array.of"},nK=["es.promise","es.object.to-string"],aK=[].concat(nK,QG),sK=["es.symbol","es.symbol.description","es.object.to-string"],iK=["es.map","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.includes","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.reduce","esnext.map.some","esnext.map.update"].concat(eK),oK=["es.set","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union"].concat(eK),lK=["es.weak-map","esnext.weak-map.delete-all"].concat(eK),cK=["es.weak-set","esnext.weak-set.add-all","esnext.weak-set.delete-all"].concat(eK),uK=["web.url"].concat(eK),pK={AggregateError:["esnext.aggregate-error"].concat(QG),ArrayBuffer:["es.array-buffer.constructor","es.array-buffer.slice","es.object.to-string"],DataView:["es.data-view","es.array-buffer.slice","es.object.to-string"],Date:["es.date.to-string"],Float32Array:["es.typed-array.float32-array"].concat(tK),Float64Array:["es.typed-array.float64-array"].concat(tK),Int8Array:["es.typed-array.int8-array"].concat(tK),Int16Array:["es.typed-array.int16-array"].concat(tK),Int32Array:["es.typed-array.int32-array"].concat(tK),Uint8Array:["es.typed-array.uint8-array"].concat(tK),Uint8ClampedArray:["es.typed-array.uint8-clamped-array"].concat(tK),Uint16Array:["es.typed-array.uint16-array"].concat(tK),Uint32Array:["es.typed-array.uint32-array"].concat(tK),Map:iK,Number:["es.number.constructor"],Observable:["esnext.observable","esnext.symbol.observable","es.object.to-string"].concat(eK),Promise:nK,RegExp:["es.regexp.constructor","es.regexp.exec","es.regexp.to-string"],Set:oK,Symbol:sK,URL:["web.url"].concat(uK),URLSearchParams:uK,WeakMap:lK,WeakSet:cK,clearImmediate:["web.immediate"],compositeKey:["esnext.composite-key"],compositeSymbol:["esnext.composite-symbol"].concat(sK),fetch:nK,globalThis:["es.global-this","esnext.global-this"],parseFloat:["es.parse-float"],parseInt:["es.parse-int"],queueMicrotask:["web.queue-microtask"],setTimeout:["web.timers"],setInterval:["web.timers"],setImmediate:["web.immediate"]},dK={at:["esnext.string.at"],anchor:["es.string.anchor"],big:["es.string.big"],bind:["es.function.bind"],blink:["es.string.blink"],bold:["es.string.bold"],codePointAt:["es.string.code-point-at"],codePoints:["esnext.string.code-points"],concat:["es.array.concat"],copyWithin:["es.array.copy-within"],description:["es.symbol","es.symbol.description"],endsWith:["es.string.ends-with"],entries:ZG,every:["es.array.every"],exec:["es.regexp.exec"],fill:["es.array.fill"],filter:["es.array.filter"],finally:["es.promise.finally"].concat(nK),find:["es.array.find"],findIndex:["es.array.find-index"],fixed:["es.string.fixed"],flags:["es.regexp.flags"],flat:["es.array.flat","es.array.unscopables.flat"],flatMap:["es.array.flat-map","es.array.unscopables.flat-map"],fontcolor:["es.string.fontcolor"],fontsize:["es.string.fontsize"],forEach:["es.array.for-each","web.dom-collections.for-each"],includes:["es.array.includes","es.string.includes"],indexOf:["es.array.index-of"],italics:["es.string.italics"],join:["es.array.join"],keys:ZG,lastIndex:["esnext.array.last-index"],lastIndexOf:["es.array.last-index-of"],lastItem:["esnext.array.last-item"],link:["es.string.link"],match:["es.string.match","es.regexp.exec"],matchAll:["es.string.match-all","esnext.string.match-all"],map:["es.array.map"],name:["es.function.name"],padEnd:["es.string.pad-end"],padStart:["es.string.pad-start"],reduce:["es.array.reduce"],reduceRight:["es.array.reduce-right"],repeat:["es.string.repeat"],replace:["es.string.replace","es.regexp.exec"],replaceAll:["esnext.string.replace-all"],reverse:["es.array.reverse"],search:["es.string.search","es.regexp.exec"],slice:["es.array.slice"],small:["es.string.small"],some:["es.array.some"],sort:["es.array.sort"],splice:["es.array.splice"],split:["es.string.split","es.regexp.exec"],startsWith:["es.string.starts-with"],strike:["es.string.strike"],sub:["es.string.sub"],sup:["es.string.sup"],toFixed:["es.number.to-fixed"],toISOString:["es.date.to-iso-string"],toJSON:["es.date.to-json","web.url.to-json"],toPrecision:["es.number.to-precision"],toString:["es.object.to-string","es.regexp.to-string","es.date.to-string"],trim:["es.string.trim"],trimEnd:["es.string.trim-end"],trimLeft:["es.string.trim-start"],trimRight:["es.string.trim-end"],trimStart:["es.string.trim-start"],values:ZG,__defineGetter__:["es.object.define-getter"],__defineSetter__:["es.object.define-setter"],__lookupGetter__:["es.object.lookup-getter"],__lookupSetter__:["es.object.lookup-setter"]},fK={Array:{from:["es.array.from","es.string.iterator"],isArray:["es.array.is-array"],of:["es.array.of"]},Date:{now:"es.date.now"},Object:{assign:"es.object.assign",create:"es.object.create",defineProperty:"es.object.define-property",defineProperties:"es.object.define-properties",entries:"es.object.entries",freeze:"es.object.freeze",fromEntries:["es.object.from-entries","es.array.iterator"],getOwnPropertyDescriptor:"es.object.get-own-property-descriptor",getOwnPropertyDescriptors:"es.object.get-own-property-descriptors",getOwnPropertyNames:"es.object.get-own-property-names",getOwnPropertySymbols:"es.symbol",getPrototypeOf:"es.object.get-prototype-of",is:"es.object.is",isExtensible:"es.object.is-extensible",isFrozen:"es.object.is-frozen",isSealed:"es.object.is-sealed",keys:"es.object.keys",preventExtensions:"es.object.prevent-extensions",seal:"es.object.seal",setPrototypeOf:"es.object.set-prototype-of",values:"es.object.values"},Math:{DEG_PER_RAD:"esnext.math.deg-per-rad",RAD_PER_DEG:"esnext.math.rad-per-deg",acosh:"es.math.acosh",asinh:"es.math.asinh",atanh:"es.math.atanh",cbrt:"es.math.cbrt",clamp:"esnext.math.clamp",clz32:"es.math.clz32",cosh:"es.math.cosh",degrees:"esnext.math.degrees",expm1:"es.math.expm1",fround:"es.math.fround",fscale:"esnext.math.fscale",hypot:"es.math.hypot",iaddh:"esnext.math.iaddh",imul:"es.math.imul",imulh:"esnext.math.imulh",isubh:"esnext.math.isubh",log1p:"es.math.log1p",log10:"es.math.log10",log2:"es.math.log2",radians:"esnext.math.radians",scale:"esnext.math.scale",seededPRNG:"esnext.math.seeded-prng",sign:"es.math.sign",signbit:"esnext.math.signbit",sinh:"es.math.sinh",tanh:"es.math.tanh",trunc:"es.math.trunc",umulh:"esnext.math.umulh"},String:{fromCodePoint:"es.string.from-code-point",raw:"es.string.raw"},Number:{EPSILON:"es.number.epsilon",MIN_SAFE_INTEGER:"es.number.min-safe-integer",MAX_SAFE_INTEGER:"es.number.max-safe-integer",fromString:"esnext.number.from-string",isFinite:"es.number.is-finite",isInteger:"es.number.is-integer",isSafeInteger:"es.number.is-safe-integer",isNaN:"es.number.is-nan",parseFloat:"es.number.parse-float",parseInt:"es.number.parse-int"},Map:{from:["esnext.map.from"].concat(iK),groupBy:["esnext.map.group-by"].concat(iK),keyBy:["esnext.map.key-by"].concat(iK),of:["esnext.map.of"].concat(iK)},Set:{from:["esnext.set.from"].concat(oK),of:["esnext.set.of"].concat(oK)},WeakMap:{from:["esnext.weak-map.from"].concat(lK),of:["esnext.weak-map.of"].concat(lK)},WeakSet:{from:["esnext.weak-set.from"].concat(cK),of:["esnext.weak-set.of"].concat(cK)},Promise:{all:aK,allSettled:["es.promise.all-settled","esnext.promise.all-settled"].concat(aK),any:["esnext.promise.any","esnext.aggregate-error"].concat(aK),race:aK,try:["esnext.promise.try"].concat(aK)},Reflect:{apply:"es.reflect.apply",construct:"es.reflect.construct",defineMetadata:"esnext.reflect.define-metadata",defineProperty:"es.reflect.define-property",deleteMetadata:"esnext.reflect.delete-metadata",deleteProperty:"es.reflect.delete-property",get:"es.reflect.get",getMetadata:"esnext.reflect.get-metadata",getMetadataKeys:"esnext.reflect.get-metadata-keys",getOwnMetadata:"esnext.reflect.get-own-metadata",getOwnMetadataKeys:"esnext.reflect.get-own-metadata-keys",getOwnPropertyDescriptor:"es.reflect.get-own-property-descriptor",getPrototypeOf:"es.reflect.get-prototype-of",has:"es.reflect.has",hasMetadata:"esnext.reflect.has-metadata",hasOwnMetadata:"esnext.reflect.has-own-metadata",isExtensible:"es.reflect.is-extensible",metadata:"esnext.reflect.metadata",ownKeys:"es.reflect.own-keys",preventExtensions:"es.reflect.prevent-extensions",set:"es.reflect.set",setPrototypeOf:"es.reflect.set-prototype-of"},Symbol:{asyncIterator:["es.symbol.async-iterator"],dispose:["esnext.symbol.dispose"],hasInstance:["es.symbol.has-instance","es.function.has-instance"],isConcatSpreadable:["es.symbol.is-concat-spreadable","es.array.concat"],iterator:["es.symbol.iterator"].concat(eK),match:["es.symbol.match","es.string.match"],observable:["esnext.symbol.observable"],patternMatch:["esnext.symbol.pattern-match"],replace:["es.symbol.replace","es.string.replace"],search:["es.symbol.search","es.string.search"],species:["es.symbol.species","es.array.species"],split:["es.symbol.split","es.string.split"],toPrimitive:["es.symbol.to-primitive","es.date.to-primitive"],toStringTag:["es.symbol.to-string-tag","es.object.to-string","es.math.to-string-tag","es.json.to-string-tag"],unscopables:["es.symbol.unscopables"]},ArrayBuffer:{isView:["es.array-buffer.is-view"]},Int8Array:rK,Uint8Array:rK,Uint8ClampedArray:rK,Int16Array:rK,Uint16Array:rK,Int32Array:rK,Uint32Array:rK,Float32Array:rK,Float64Array:rK},hK=new Set(["es.object.to-string","es.object.define-getter","es.object.define-setter","es.object.lookup-getter","es.object.lookup-setter","es.regexp.exec"]),mK=new Set(["global","globalThis","self","window"]),yK="\n  When setting `useBuiltIns: 'usage'`, polyfills are automatically imported when needed.\n  Please remove the direct import of `core-js` or use `useBuiltIns: 'entry'` instead.",gK=Object.keys(iV).filter(function(e){return!e.startsWith("esnext.")}).reduce(function(e,t){return e[t]=iV[t],e},{}),vK=hG.reduce(function(e,t){return e[t]=iV[t],e},Object.assign({},gK));function bK(e,t){var r=t.corejs,n=t.include,a=t.exclude,s=t.polyfillTargets,i=t.proposals,o=t.shippedProposals,l=t.debug,c=HW(i?iV:o?vK:gK,n,a,s,null),u=new Set(YG(r.version));function p(e,t){var r=e.node,n=e.parent,a=e.scope;if(e.isStringLiteral())return r.value;var s=r.name,i=e.isIdentifier();if(i&&!t&&!n.computed)return s;if(!i||a.getBindingIdentifier(s)){var o=e.evaluate().value;if("string"==typeof o)return o}}function d(e){var t,r,n=e.node,a=e.scope;if(n&&(t=n.name,!e.isIdentifier()||a.getBindingIdentifier(t))){var s=e.evaluate(),i=s.deopt,o=s.value;void 0!==o?r=rG(o):(null==i?void 0:i.isIdentifier())&&(t=i.node.name)}return{builtIn:t,instanceType:r,isNamespaced:pG(e)}}return{name:"corejs3-usage",pre:function(){this.injectedPolyfills=new Set,this.polyfillsSet=new Set,this.addUnsupported=function(e){for(var t,r=U(Array.isArray(e)?e:[e]);!(t=r()).done;){var n=t.value;this.polyfillsSet.add(n)}},this.addBuiltInDependencies=function(e){if(tG(pK,e)){var t=pK[e];this.addUnsupported(t)}},this.addPropertyDependencies=function(e,t){void 0===e&&(e={});var r=e,n=r.builtIn,a=r.instanceType;if(!r.isNamespaced){if(mK.has(n))this.addBuiltInDependencies(t);else if(tG(fK,n)){var s=fK[n];if(tG(s,t)){var i=s[t];return this.addUnsupported(i)}}if(tG(dK,t)){var o=dK[t];a&&(o=o.filter(function(e){return e.includes(a)||hK.has(e)})),this.addUnsupported(o)}}}},post:function(){l&&nV(this.injectedPolyfills,this.file.opts.filename,s,iV)},visitor:{ImportDeclaration:function(e){oG(sG(e))&&(console.warn(yK),e.remove())},Program:{enter:function(e){e.get("body").forEach(function(e){oG(iG(e))&&(console.warn(yK),e.remove())})},exit:function(e){for(var t,r=this,n=nG(c,this.polyfillsSet,u),a=U(Array.from(n).reverse());!(t=a()).done;){var s=t.value;this.injectedPolyfills.has(s)||uG(e,s)}n.forEach(function(e){return r.injectedPolyfills.add(e)})}},Import:function(){this.addUnsupported(nK)},Function:function(e){e.node.async&&this.addUnsupported(nK)},"ForOfStatement|ArrayPattern":function(){this.addUnsupported(QG)},SpreadElement:function(e){e.parentPath.isObjectExpression()||this.addUnsupported(QG)},YieldExpression:function(e){e.node.delegate&&this.addUnsupported(QG)},ReferencedIdentifier:function(e){var t=e.node.name;e.scope.getBindingIdentifier(t)||this.addBuiltInDependencies(t)},MemberExpression:function(e){var t=d(e.get("object")),r=p(e.get("property"));this.addPropertyDependencies(t,r)},ObjectPattern:function(e){var t,r=e.parentPath,n=e.parent,a=e.key;if(r.isVariableDeclarator())t=d(r.get("init"));else if(r.isAssignmentExpression())t=d(r.get("right"));else if(r.isFunctionExpression()){var s=r.parentPath;(s.isCallExpression()||s.isNewExpression())&&s.node.callee===n&&(t=d(s.get("arguments")[a]))}for(var i,o=U(e.get("properties"));!(i=o()).done;){var l=i.value;if(l.isObjectProperty()){var c=p(l.get("key"));this.addPropertyDependencies(t,c)}}},BinaryExpression:function(e){if("in"===e.node.operator){var t=d(e.get("right")),r=p(e.get("left"),!0);this.addPropertyDependencies(t,r)}}}}}function xK(){return{name:"regenerator-usage",pre:function(){this.usesRegenerator=!1},visitor:{Function:function(e){var t=e.node;this.usesRegenerator||!t.generator&&!t.async||(this.usesRegenerator=!0,uG(e,"regenerator-runtime"))}},post:function(){if(this.opts.debug&&this.usesRegenerator){var e=this.file.opts.filename;"test"===si.env.BABEL_ENV&&(e=e.replace(/\\/g,"/")),console.log("\n["+e+"] Based on your code and targets, added regenerator-runtime.")}}}}function EK(e,t){var r=t.include,n=t.exclude,a=t.polyfillTargets,s=t.regenerator,i=t.debug,o=HW(oV,r,n,a,FV(a));return{name:"corejs2-entry",visitor:{ImportDeclaration:function(e){oG(sG(e))&&this.replaceBySeparateModulesImport(e)},Program:function(e){var t=this;e.get("body").forEach(function(e){oG(iG(e))&&t.replaceBySeparateModulesImport(e)})}},pre:function(){this.importPolyfillIncluded=!1,this.replaceBySeparateModulesImport=function(e){this.importPolyfillIncluded=!0,s&&uG(e,"regenerator-runtime");for(var t,r=U(Array.from(o).reverse());!(t=r()).done;){uG(e,t.value)}e.remove()}},post:function(){i&&rV("@babel/polyfill",this.importPolyfillIncluded,o,this.file.opts.filename,a,oV)}}}var wK={"core-js":["es.symbol","es.symbol.description","es.symbol.async-iterator","es.symbol.has-instance","es.symbol.is-concat-spreadable","es.symbol.iterator","es.symbol.match","es.symbol.match-all","es.symbol.replace","es.symbol.search","es.symbol.species","es.symbol.split","es.symbol.to-primitive","es.symbol.to-string-tag","es.symbol.unscopables","es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.from","es.array.includes","es.array.index-of","es.array.is-array","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.of","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map","es.array-buffer.constructor","es.array-buffer.is-view","es.array-buffer.slice","es.data-view","es.date.now","es.date.to-iso-string","es.date.to-json","es.date.to-primitive","es.date.to-string","es.function.bind","es.function.has-instance","es.function.name","es.global-this","es.json.stringify","es.json.to-string-tag","es.map","es.math.acosh","es.math.asinh","es.math.atanh","es.math.cbrt","es.math.clz32","es.math.cosh","es.math.expm1","es.math.fround","es.math.hypot","es.math.imul","es.math.log10","es.math.log1p","es.math.log2","es.math.sign","es.math.sinh","es.math.tanh","es.math.to-string-tag","es.math.trunc","es.number.constructor","es.number.epsilon","es.number.is-finite","es.number.is-integer","es.number.is-nan","es.number.is-safe-integer","es.number.max-safe-integer","es.number.min-safe-integer","es.number.parse-float","es.number.parse-int","es.number.to-fixed","es.number.to-precision","es.object.assign","es.object.create","es.object.define-getter","es.object.define-properties","es.object.define-property","es.object.define-setter","es.object.entries","es.object.freeze","es.object.from-entries","es.object.get-own-property-descriptor","es.object.get-own-property-descriptors","es.object.get-own-property-names","es.object.get-prototype-of","es.object.is","es.object.is-extensible","es.object.is-frozen","es.object.is-sealed","es.object.keys","es.object.lookup-getter","es.object.lookup-setter","es.object.prevent-extensions","es.object.seal","es.object.set-prototype-of","es.object.to-string","es.object.values","es.parse-float","es.parse-int","es.promise","es.promise.all-settled","es.promise.finally","es.reflect.apply","es.reflect.construct","es.reflect.define-property","es.reflect.delete-property","es.reflect.get","es.reflect.get-own-property-descriptor","es.reflect.get-prototype-of","es.reflect.has","es.reflect.is-extensible","es.reflect.own-keys","es.reflect.prevent-extensions","es.reflect.set","es.reflect.set-prototype-of","es.regexp.constructor","es.regexp.exec","es.regexp.flags","es.regexp.sticky","es.regexp.test","es.regexp.to-string","es.set","es.string.code-point-at","es.string.ends-with","es.string.from-code-point","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.raw","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup","es.typed-array.float32-array","es.typed-array.float64-array","es.typed-array.int8-array","es.typed-array.int16-array","es.typed-array.int32-array","es.typed-array.uint8-array","es.typed-array.uint8-clamped-array","es.typed-array.uint16-array","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string","es.weak-map","es.weak-set","esnext.aggregate-error","esnext.array.is-template-object","esnext.array.last-index","esnext.array.last-item","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.composite-key","esnext.composite-symbol","esnext.global-this","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.map.update-or-insert","esnext.map.upsert","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.math.umulh","esnext.number.from-string","esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values","esnext.observable","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","esnext.reflect.define-metadata","esnext.reflect.delete-metadata","esnext.reflect.get-metadata","esnext.reflect.get-metadata-keys","esnext.reflect.get-own-metadata","esnext.reflect.get-own-metadata-keys","esnext.reflect.has-metadata","esnext.reflect.has-own-metadata","esnext.reflect.metadata","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.symbol.replace-all","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-map.upsert","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of","web.dom-collections.for-each","web.dom-collections.iterator","web.immediate","web.queue-microtask","web.timers","web.url","web.url.to-json","web.url-search-params"],
"core-js/es":["es.symbol","es.symbol.description","es.symbol.async-iterator","es.symbol.has-instance","es.symbol.is-concat-spreadable","es.symbol.iterator","es.symbol.match","es.symbol.match-all","es.symbol.replace","es.symbol.search","es.symbol.species","es.symbol.split","es.symbol.to-primitive","es.symbol.to-string-tag","es.symbol.unscopables","es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.from","es.array.includes","es.array.index-of","es.array.is-array","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.of","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map","es.array-buffer.constructor","es.array-buffer.is-view","es.array-buffer.slice","es.data-view","es.date.now","es.date.to-iso-string","es.date.to-json","es.date.to-primitive","es.date.to-string","es.function.bind","es.function.has-instance","es.function.name","es.global-this","es.json.stringify","es.json.to-string-tag","es.map","es.math.acosh","es.math.asinh","es.math.atanh","es.math.cbrt","es.math.clz32","es.math.cosh","es.math.expm1","es.math.fround","es.math.hypot","es.math.imul","es.math.log10","es.math.log1p","es.math.log2","es.math.sign","es.math.sinh","es.math.tanh","es.math.to-string-tag","es.math.trunc","es.number.constructor","es.number.epsilon","es.number.is-finite","es.number.is-integer","es.number.is-nan","es.number.is-safe-integer","es.number.max-safe-integer","es.number.min-safe-integer","es.number.parse-float","es.number.parse-int","es.number.to-fixed","es.number.to-precision","es.object.assign","es.object.create","es.object.define-getter","es.object.define-properties","es.object.define-property","es.object.define-setter","es.object.entries","es.object.freeze","es.object.from-entries","es.object.get-own-property-descriptor","es.object.get-own-property-descriptors","es.object.get-own-property-names","es.object.get-prototype-of","es.object.is","es.object.is-extensible","es.object.is-frozen","es.object.is-sealed","es.object.keys","es.object.lookup-getter","es.object.lookup-setter","es.object.prevent-extensions","es.object.seal","es.object.set-prototype-of","es.object.to-string","es.object.values","es.parse-float","es.parse-int","es.promise","es.promise.all-settled","es.promise.finally","es.reflect.apply","es.reflect.construct","es.reflect.define-property","es.reflect.delete-property","es.reflect.get","es.reflect.get-own-property-descriptor","es.reflect.get-prototype-of","es.reflect.has","es.reflect.is-extensible","es.reflect.own-keys","es.reflect.prevent-extensions","es.reflect.set","es.reflect.set-prototype-of","es.regexp.constructor","es.regexp.exec","es.regexp.flags","es.regexp.sticky","es.regexp.test","es.regexp.to-string","es.set","es.string.code-point-at","es.string.ends-with","es.string.from-code-point","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.raw","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup","es.typed-array.float32-array","es.typed-array.float64-array","es.typed-array.int8-array","es.typed-array.int16-array","es.typed-array.int32-array","es.typed-array.uint8-array","es.typed-array.uint8-clamped-array","es.typed-array.uint16-array","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string","es.weak-map","es.weak-set"],"core-js/es/array":["es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.from","es.array.includes","es.array.index-of","es.array.is-array","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.of","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map","es.string.iterator"],"core-js/es/array-buffer":["es.array-buffer.constructor","es.array-buffer.is-view","es.array-buffer.slice","es.object.to-string"],"core-js/es/array-buffer/constructor":["es.array-buffer.constructor","es.object.to-string"],"core-js/es/array-buffer/is-view":["es.array-buffer.is-view"],"core-js/es/array-buffer/slice":["es.array-buffer.slice"],"core-js/es/array/concat":["es.array.concat"],"core-js/es/array/copy-within":["es.array.copy-within"],"core-js/es/array/entries":["es.array.iterator"],"core-js/es/array/every":["es.array.every"],"core-js/es/array/fill":["es.array.fill"],"core-js/es/array/filter":["es.array.filter"],"core-js/es/array/find":["es.array.find"],"core-js/es/array/find-index":["es.array.find-index"],"core-js/es/array/flat":["es.array.flat","es.array.unscopables.flat"],"core-js/es/array/flat-map":["es.array.flat-map","es.array.unscopables.flat-map"],"core-js/es/array/for-each":["es.array.for-each"],"core-js/es/array/from":["es.array.from","es.string.iterator"],"core-js/es/array/includes":["es.array.includes"],"core-js/es/array/index-of":["es.array.index-of"],"core-js/es/array/is-array":["es.array.is-array"],"core-js/es/array/iterator":["es.array.iterator"],"core-js/es/array/join":["es.array.join"],"core-js/es/array/keys":["es.array.iterator"],"core-js/es/array/last-index-of":["es.array.last-index-of"],"core-js/es/array/map":["es.array.map"],"core-js/es/array/of":["es.array.of"],"core-js/es/array/reduce":["es.array.reduce"],"core-js/es/array/reduce-right":["es.array.reduce-right"],"core-js/es/array/reverse":["es.array.reverse"],"core-js/es/array/slice":["es.array.slice"],"core-js/es/array/some":["es.array.some"],"core-js/es/array/sort":["es.array.sort"],"core-js/es/array/splice":["es.array.splice"],"core-js/es/array/values":["es.array.iterator"],"core-js/es/array/virtual":["es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.includes","es.array.index-of","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map"],"core-js/es/array/virtual/concat":["es.array.concat"],"core-js/es/array/virtual/copy-within":["es.array.copy-within"],"core-js/es/array/virtual/entries":["es.array.iterator"],"core-js/es/array/virtual/every":["es.array.every"],"core-js/es/array/virtual/fill":["es.array.fill"],"core-js/es/array/virtual/filter":["es.array.filter"],"core-js/es/array/virtual/find":["es.array.find"],"core-js/es/array/virtual/find-index":["es.array.find-index"],"core-js/es/array/virtual/flat":["es.array.flat","es.array.unscopables.flat"],"core-js/es/array/virtual/flat-map":["es.array.flat-map","es.array.unscopables.flat-map"],"core-js/es/array/virtual/for-each":["es.array.for-each"],"core-js/es/array/virtual/includes":["es.array.includes"],"core-js/es/array/virtual/index-of":["es.array.index-of"],"core-js/es/array/virtual/iterator":["es.array.iterator"],"core-js/es/array/virtual/join":["es.array.join"],"core-js/es/array/virtual/keys":["es.array.iterator"],"core-js/es/array/virtual/last-index-of":["es.array.last-index-of"],"core-js/es/array/virtual/map":["es.array.map"],"core-js/es/array/virtual/reduce":["es.array.reduce"],"core-js/es/array/virtual/reduce-right":["es.array.reduce-right"],"core-js/es/array/virtual/reverse":["es.array.reverse"],"core-js/es/array/virtual/slice":["es.array.slice"],"core-js/es/array/virtual/some":["es.array.some"],"core-js/es/array/virtual/sort":["es.array.sort"],"core-js/es/array/virtual/splice":["es.array.splice"],"core-js/es/array/virtual/values":["es.array.iterator"],"core-js/es/data-view":["es.data-view","es.object.to-string"],"core-js/es/date":["es.date.now","es.date.to-iso-string","es.date.to-json","es.date.to-primitive","es.date.to-string"],"core-js/es/date/now":["es.date.now"],"core-js/es/date/to-iso-string":["es.date.to-iso-string","es.date.to-json"],"core-js/es/date/to-json":["es.date.to-json"],"core-js/es/date/to-primitive":["es.date.to-primitive"],"core-js/es/date/to-string":["es.date.to-string"],"core-js/es/function":["es.function.bind","es.function.has-instance","es.function.name"],"core-js/es/function/bind":["es.function.bind"],"core-js/es/function/has-instance":["es.function.has-instance"],"core-js/es/function/name":["es.function.name"],"core-js/es/function/virtual":["es.function.bind"],"core-js/es/function/virtual/bind":["es.function.bind"],"core-js/es/global-this":["es.global-this"],"core-js/es/instance/bind":["es.function.bind"],"core-js/es/instance/code-point-at":["es.string.code-point-at"],"core-js/es/instance/concat":["es.array.concat"],"core-js/es/instance/copy-within":["es.array.copy-within"],"core-js/es/instance/ends-with":["es.string.ends-with"],"core-js/es/instance/entries":["es.array.iterator"],"core-js/es/instance/every":["es.array.every"],"core-js/es/instance/fill":["es.array.fill"],"core-js/es/instance/filter":["es.array.filter"],"core-js/es/instance/find":["es.array.find"],"core-js/es/instance/find-index":["es.array.find-index"],"core-js/es/instance/flags":["es.regexp.flags"],"core-js/es/instance/flat":["es.array.flat","es.array.unscopables.flat"],"core-js/es/instance/flat-map":["es.array.flat-map","es.array.unscopables.flat-map"],"core-js/es/instance/for-each":["es.array.for-each"],"core-js/es/instance/includes":["es.array.includes","es.string.includes"],"core-js/es/instance/index-of":["es.array.index-of"],"core-js/es/instance/keys":["es.array.iterator"],"core-js/es/instance/last-index-of":["es.array.last-index-of"],"core-js/es/instance/map":["es.array.map"],"core-js/es/instance/match-all":["es.string.match-all"],"core-js/es/instance/pad-end":["es.string.pad-end"],"core-js/es/instance/pad-start":["es.string.pad-start"],"core-js/es/instance/reduce":["es.array.reduce"],"core-js/es/instance/reduce-right":["es.array.reduce-right"],"core-js/es/instance/repeat":["es.string.repeat"],"core-js/es/instance/reverse":["es.array.reverse"],"core-js/es/instance/slice":["es.array.slice"],"core-js/es/instance/some":["es.array.some"],"core-js/es/instance/sort":["es.array.sort"],"core-js/es/instance/splice":["es.array.splice"],"core-js/es/instance/starts-with":["es.string.starts-with"],"core-js/es/instance/trim":["es.string.trim"],"core-js/es/instance/trim-end":["es.string.trim-end"],"core-js/es/instance/trim-left":["es.string.trim-start"],"core-js/es/instance/trim-right":["es.string.trim-end"],"core-js/es/instance/trim-start":["es.string.trim-start"],"core-js/es/instance/values":["es.array.iterator"],"core-js/es/json":["es.json.stringify","es.json.to-string-tag"],"core-js/es/json/stringify":["es.json.stringify"],"core-js/es/json/to-string-tag":["es.json.to-string-tag"],"core-js/es/map":["es.map","es.object.to-string","es.string.iterator","web.dom-collections.iterator"],"core-js/es/math":["es.math.acosh","es.math.asinh","es.math.atanh","es.math.cbrt","es.math.clz32","es.math.cosh","es.math.expm1","es.math.fround","es.math.hypot","es.math.imul","es.math.log10","es.math.log1p","es.math.log2","es.math.sign","es.math.sinh","es.math.tanh","es.math.to-string-tag","es.math.trunc"],"core-js/es/math/acosh":["es.math.acosh"],"core-js/es/math/asinh":["es.math.asinh"],"core-js/es/math/atanh":["es.math.atanh"],"core-js/es/math/cbrt":["es.math.cbrt"],"core-js/es/math/clz32":["es.math.clz32"],"core-js/es/math/cosh":["es.math.cosh"],"core-js/es/math/expm1":["es.math.expm1"],"core-js/es/math/fround":["es.math.fround"],"core-js/es/math/hypot":["es.math.hypot"],"core-js/es/math/imul":["es.math.imul"],"core-js/es/math/log10":["es.math.log10"],"core-js/es/math/log1p":["es.math.log1p"],"core-js/es/math/log2":["es.math.log2"],"core-js/es/math/sign":["es.math.sign"],"core-js/es/math/sinh":["es.math.sinh"],"core-js/es/math/tanh":["es.math.tanh"],"core-js/es/math/to-string-tag":["es.math.to-string-tag"],"core-js/es/math/trunc":["es.math.trunc"],"core-js/es/number":["es.number.constructor","es.number.epsilon","es.number.is-finite","es.number.is-integer","es.number.is-nan","es.number.is-safe-integer","es.number.max-safe-integer","es.number.min-safe-integer","es.number.parse-float","es.number.parse-int","es.number.to-fixed","es.number.to-precision"],"core-js/es/number/constructor":["es.number.constructor"],"core-js/es/number/epsilon":["es.number.epsilon"],"core-js/es/number/is-finite":["es.number.is-finite"],"core-js/es/number/is-integer":["es.number.is-integer"],"core-js/es/number/is-nan":["es.number.is-nan"],"core-js/es/number/is-safe-integer":["es.number.is-safe-integer"],"core-js/es/number/max-safe-integer":["es.number.max-safe-integer"],"core-js/es/number/min-safe-integer":["es.number.min-safe-integer"],"core-js/es/number/parse-float":["es.number.parse-float"],"core-js/es/number/parse-int":["es.number.parse-int"],"core-js/es/number/to-fixed":["es.number.to-fixed"],"core-js/es/number/to-precision":["es.number.to-precision"],"core-js/es/number/virtual":["es.number.to-fixed","es.number.to-precision"],"core-js/es/number/virtual/to-fixed":["es.number.to-fixed"],"core-js/es/number/virtual/to-precision":["es.number.to-precision"],"core-js/es/object":["es.symbol","es.json.to-string-tag","es.math.to-string-tag","es.object.assign","es.object.create","es.object.define-getter","es.object.define-properties","es.object.define-property","es.object.define-setter","es.object.entries","es.object.freeze","es.object.from-entries","es.object.get-own-property-descriptor","es.object.get-own-property-descriptors","es.object.get-own-property-names","es.object.get-prototype-of","es.object.is","es.object.is-extensible","es.object.is-frozen","es.object.is-sealed","es.object.keys","es.object.lookup-getter","es.object.lookup-setter","es.object.prevent-extensions","es.object.seal","es.object.set-prototype-of","es.object.to-string","es.object.values"],"core-js/es/object/assign":["es.object.assign"],"core-js/es/object/create":["es.object.create"],"core-js/es/object/define-getter":["es.object.define-getter"],"core-js/es/object/define-properties":["es.object.define-properties"],"core-js/es/object/define-property":["es.object.define-property"],"core-js/es/object/define-setter":["es.object.define-setter"],"core-js/es/object/entries":["es.object.entries"],"core-js/es/object/freeze":["es.object.freeze"],"core-js/es/object/from-entries":["es.array.iterator","es.object.from-entries"],"core-js/es/object/get-own-property-descriptor":["es.object.get-own-property-descriptor"],"core-js/es/object/get-own-property-descriptors":["es.object.get-own-property-descriptors"],"core-js/es/object/get-own-property-names":["es.object.get-own-property-names"],"core-js/es/object/get-own-property-symbols":["es.symbol"],"core-js/es/object/get-prototype-of":["es.object.get-prototype-of"],"core-js/es/object/is":["es.object.is"],"core-js/es/object/is-extensible":["es.object.is-extensible"],"core-js/es/object/is-frozen":["es.object.is-frozen"],"core-js/es/object/is-sealed":["es.object.is-sealed"],"core-js/es/object/keys":["es.object.keys"],"core-js/es/object/lookup-getter":["es.object.lookup-setter"],"core-js/es/object/lookup-setter":["es.object.lookup-setter"],"core-js/es/object/prevent-extensions":["es.object.prevent-extensions"],"core-js/es/object/seal":["es.object.seal"],"core-js/es/object/set-prototype-of":["es.object.set-prototype-of"],"core-js/es/object/to-string":["es.json.to-string-tag","es.math.to-string-tag","es.object.to-string"],"core-js/es/object/values":["es.object.values"],"core-js/es/parse-float":["es.parse-float"],"core-js/es/parse-int":["es.parse-int"],"core-js/es/promise":["es.object.to-string","es.promise","es.promise.all-settled","es.promise.finally","es.string.iterator","web.dom-collections.iterator"],"core-js/es/promise/all-settled":["es.promise","es.promise.all-settled"],"core-js/es/promise/finally":["es.promise","es.promise.finally"],"core-js/es/reflect":["es.reflect.apply","es.reflect.construct","es.reflect.define-property","es.reflect.delete-property","es.reflect.get","es.reflect.get-own-property-descriptor","es.reflect.get-prototype-of","es.reflect.has","es.reflect.is-extensible","es.reflect.own-keys","es.reflect.prevent-extensions","es.reflect.set","es.reflect.set-prototype-of"],"core-js/es/reflect/apply":["es.reflect.apply"],"core-js/es/reflect/construct":["es.reflect.construct"],"core-js/es/reflect/define-property":["es.reflect.define-property"],"core-js/es/reflect/delete-property":["es.reflect.delete-property"],"core-js/es/reflect/get":["es.reflect.get"],"core-js/es/reflect/get-own-property-descriptor":["es.reflect.get-own-property-descriptor"],"core-js/es/reflect/get-prototype-of":["es.reflect.get-prototype-of"],"core-js/es/reflect/has":["es.reflect.has"],"core-js/es/reflect/is-extensible":["es.reflect.is-extensible"],"core-js/es/reflect/own-keys":["es.reflect.own-keys"],"core-js/es/reflect/prevent-extensions":["es.reflect.prevent-extensions"],"core-js/es/reflect/set":["es.reflect.set"],"core-js/es/reflect/set-prototype-of":["es.reflect.set-prototype-of"],"core-js/es/regexp":["es.regexp.constructor","es.regexp.exec","es.regexp.flags","es.regexp.sticky","es.regexp.test","es.regexp.to-string","es.string.match","es.string.replace","es.string.search","es.string.split"],"core-js/es/regexp/constructor":["es.regexp.constructor"],"core-js/es/regexp/flags":["es.regexp.flags"],"core-js/es/regexp/match":["es.string.match"],"core-js/es/regexp/replace":["es.string.replace"],"core-js/es/regexp/search":["es.string.search"],"core-js/es/regexp/split":["es.string.split"],"core-js/es/regexp/sticky":["es.regexp.sticky"],"core-js/es/regexp/test":["es.regexp.exec","es.regexp.test"],"core-js/es/regexp/to-string":["es.regexp.to-string"],"core-js/es/set":["es.object.to-string","es.set","es.string.iterator","web.dom-collections.iterator"],"core-js/es/string":["es.regexp.exec","es.string.code-point-at","es.string.ends-with","es.string.from-code-point","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.raw","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup"],"core-js/es/string/anchor":["es.string.anchor"],"core-js/es/string/big":["es.string.big"],"core-js/es/string/blink":["es.string.blink"],"core-js/es/string/bold":["es.string.bold"],"core-js/es/string/code-point-at":["es.string.code-point-at"],"core-js/es/string/ends-with":["es.string.ends-with"],"core-js/es/string/fixed":["es.string.fixed"],"core-js/es/string/fontcolor":["es.string.fontcolor"],"core-js/es/string/fontsize":["es.string.fontsize"],"core-js/es/string/from-code-point":["es.string.from-code-point"],"core-js/es/string/includes":["es.string.includes"],"core-js/es/string/italics":["es.string.italics"],"core-js/es/string/iterator":["es.string.iterator"],"core-js/es/string/link":["es.string.link"],"core-js/es/string/match":["es.regexp.exec","es.string.match"],"core-js/es/string/match-all":["es.string.match-all"],"core-js/es/string/pad-end":["es.string.pad-end"],"core-js/es/string/pad-start":["es.string.pad-start"],"core-js/es/string/raw":["es.string.raw"],"core-js/es/string/repeat":["es.string.repeat"],"core-js/es/string/replace":["es.regexp.exec","es.string.replace"],"core-js/es/string/search":["es.regexp.exec","es.string.search"],"core-js/es/string/small":["es.string.small"],"core-js/es/string/split":["es.regexp.exec","es.string.split"],"core-js/es/string/starts-with":["es.string.starts-with"],"core-js/es/string/strike":["es.string.strike"],"core-js/es/string/sub":["es.string.sub"],"core-js/es/string/sup":["es.string.sup"],"core-js/es/string/trim":["es.string.trim"],"core-js/es/string/trim-end":["es.string.trim-end"],"core-js/es/string/trim-left":["es.string.trim-start"],"core-js/es/string/trim-right":["es.string.trim-end"],"core-js/es/string/trim-start":["es.string.trim-start"],"core-js/es/string/virtual":["es.string.code-point-at","es.string.ends-with","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup"],"core-js/es/string/virtual/anchor":["es.string.anchor"],"core-js/es/string/virtual/big":["es.string.big"],"core-js/es/string/virtual/blink":["es.string.blink"],"core-js/es/string/virtual/bold":["es.string.bold"],"core-js/es/string/virtual/code-point-at":["es.string.code-point-at"],"core-js/es/string/virtual/ends-with":["es.string.ends-with"],"core-js/es/string/virtual/fixed":["es.string.fixed"],"core-js/es/string/virtual/fontcolor":["es.string.fontcolor"],"core-js/es/string/virtual/fontsize":["es.string.fontsize"],"core-js/es/string/virtual/includes":["es.string.includes"],"core-js/es/string/virtual/italics":["es.string.italics"],"core-js/es/string/virtual/iterator":["es.string.iterator"],"core-js/es/string/virtual/link":["es.string.link"],"core-js/es/string/virtual/match-all":["es.string.match-all"],"core-js/es/string/virtual/pad-end":["es.string.pad-end"],"core-js/es/string/virtual/pad-start":["es.string.pad-start"],"core-js/es/string/virtual/repeat":["es.string.repeat"],"core-js/es/string/virtual/small":["es.string.small"],"core-js/es/string/virtual/starts-with":["es.string.starts-with"],"core-js/es/string/virtual/strike":["es.string.strike"],"core-js/es/string/virtual/sub":["es.string.sub"],"core-js/es/string/virtual/sup":["es.string.sup"],"core-js/es/string/virtual/trim":["es.string.trim"],"core-js/es/string/virtual/trim-end":["es.string.trim-end"],"core-js/es/string/virtual/trim-left":["es.string.trim-start"],"core-js/es/string/virtual/trim-right":["es.string.trim-end"],"core-js/es/string/virtual/trim-start":["es.string.trim-start"],"core-js/es/symbol":["es.symbol","es.symbol.description","es.symbol.async-iterator","es.symbol.has-instance","es.symbol.is-concat-spreadable","es.symbol.iterator","es.symbol.match","es.symbol.match-all","es.symbol.replace","es.symbol.search","es.symbol.species","es.symbol.split","es.symbol.to-primitive","es.symbol.to-string-tag","es.symbol.unscopables","es.array.concat","es.json.to-string-tag","es.math.to-string-tag","es.object.to-string"],"core-js/es/symbol/async-iterator":["es.symbol.async-iterator"],"core-js/es/symbol/description":["es.symbol.description"],"core-js/es/symbol/for":["es.symbol"],"core-js/es/symbol/has-instance":["es.symbol.has-instance","es.function.has-instance"],"core-js/es/symbol/is-concat-spreadable":["es.symbol.is-concat-spreadable","es.array.concat"],"core-js/es/symbol/iterator":["es.symbol.iterator","es.string.iterator","web.dom-collections.iterator"],"core-js/es/symbol/key-for":["es.symbol"],"core-js/es/symbol/match":["es.symbol.match","es.string.match"],"core-js/es/symbol/match-all":["es.symbol.match-all","es.string.match-all"],"core-js/es/symbol/replace":["es.symbol.replace","es.string.replace"],"core-js/es/symbol/search":["es.symbol.search","es.string.search"],"core-js/es/symbol/species":["es.symbol.species"],"core-js/es/symbol/split":["es.symbol.split","es.string.split"],"core-js/es/symbol/to-primitive":["es.symbol.to-primitive"],"core-js/es/symbol/to-string-tag":["es.symbol.to-string-tag","es.json.to-string-tag","es.math.to-string-tag","es.object.to-string"],"core-js/es/symbol/unscopables":["es.symbol.unscopables"],"core-js/es/typed-array":["es.object.to-string","es.typed-array.float32-array","es.typed-array.float64-array","es.typed-array.int8-array","es.typed-array.int16-array","es.typed-array.int32-array","es.typed-array.uint8-array","es.typed-array.uint8-clamped-array","es.typed-array.uint16-array","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/copy-within":["es.typed-array.copy-within"],"core-js/es/typed-array/entries":["es.typed-array.iterator"],"core-js/es/typed-array/every":["es.typed-array.every"],"core-js/es/typed-array/fill":["es.typed-array.fill"],"core-js/es/typed-array/filter":["es.typed-array.filter"],"core-js/es/typed-array/find":["es.typed-array.find"],"core-js/es/typed-array/find-index":["es.typed-array.find-index"],"core-js/es/typed-array/float32-array":["es.object.to-string","es.typed-array.float32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/float64-array":["es.object.to-string","es.typed-array.float64-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/for-each":["es.typed-array.for-each"],"core-js/es/typed-array/from":["es.typed-array.from"],"core-js/es/typed-array/includes":["es.typed-array.includes"],"core-js/es/typed-array/index-of":["es.typed-array.index-of"],"core-js/es/typed-array/int16-array":["es.object.to-string","es.typed-array.int16-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/int32-array":["es.object.to-string","es.typed-array.int32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/int8-array":["es.object.to-string","es.typed-array.int8-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/iterator":["es.typed-array.iterator"],"core-js/es/typed-array/join":["es.typed-array.join"],"core-js/es/typed-array/keys":["es.typed-array.iterator"],"core-js/es/typed-array/last-index-of":["es.typed-array.last-index-of"],"core-js/es/typed-array/map":["es.typed-array.map"],"core-js/es/typed-array/methods":["es.object.to-string","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/of":["es.typed-array.of"],"core-js/es/typed-array/reduce":["es.typed-array.reduce"],"core-js/es/typed-array/reduce-right":["es.typed-array.reduce-right"],"core-js/es/typed-array/reverse":["es.typed-array.reverse"],"core-js/es/typed-array/set":["es.typed-array.set"],"core-js/es/typed-array/slice":["es.typed-array.slice"],"core-js/es/typed-array/some":["es.typed-array.some"],"core-js/es/typed-array/sort":["es.typed-array.sort"],"core-js/es/typed-array/subarray":["es.typed-array.subarray"],"core-js/es/typed-array/to-locale-string":["es.typed-array.to-locale-string"],"core-js/es/typed-array/to-string":["es.typed-array.to-string"],
"core-js/es/typed-array/uint16-array":["es.object.to-string","es.typed-array.uint16-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/uint32-array":["es.object.to-string","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/uint8-array":["es.object.to-string","es.typed-array.uint8-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/uint8-clamped-array":["es.object.to-string","es.typed-array.uint8-clamped-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/es/typed-array/values":["es.typed-array.iterator"],"core-js/es/weak-map":["es.object.to-string","es.weak-map","web.dom-collections.iterator"],"core-js/es/weak-set":["es.object.to-string","es.weak-set","web.dom-collections.iterator"],"core-js/features":["es.symbol","es.symbol.description","es.symbol.async-iterator","es.symbol.has-instance","es.symbol.is-concat-spreadable","es.symbol.iterator","es.symbol.match","es.symbol.match-all","es.symbol.replace","es.symbol.search","es.symbol.species","es.symbol.split","es.symbol.to-primitive","es.symbol.to-string-tag","es.symbol.unscopables","es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.from","es.array.includes","es.array.index-of","es.array.is-array","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.of","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map","es.array-buffer.constructor","es.array-buffer.is-view","es.array-buffer.slice","es.data-view","es.date.now","es.date.to-iso-string","es.date.to-json","es.date.to-primitive","es.date.to-string","es.function.bind","es.function.has-instance","es.function.name","es.global-this","es.json.stringify","es.json.to-string-tag","es.map","es.math.acosh","es.math.asinh","es.math.atanh","es.math.cbrt","es.math.clz32","es.math.cosh","es.math.expm1","es.math.fround","es.math.hypot","es.math.imul","es.math.log10","es.math.log1p","es.math.log2","es.math.sign","es.math.sinh","es.math.tanh","es.math.to-string-tag","es.math.trunc","es.number.constructor","es.number.epsilon","es.number.is-finite","es.number.is-integer","es.number.is-nan","es.number.is-safe-integer","es.number.max-safe-integer","es.number.min-safe-integer","es.number.parse-float","es.number.parse-int","es.number.to-fixed","es.number.to-precision","es.object.assign","es.object.create","es.object.define-getter","es.object.define-properties","es.object.define-property","es.object.define-setter","es.object.entries","es.object.freeze","es.object.from-entries","es.object.get-own-property-descriptor","es.object.get-own-property-descriptors","es.object.get-own-property-names","es.object.get-prototype-of","es.object.is","es.object.is-extensible","es.object.is-frozen","es.object.is-sealed","es.object.keys","es.object.lookup-getter","es.object.lookup-setter","es.object.prevent-extensions","es.object.seal","es.object.set-prototype-of","es.object.to-string","es.object.values","es.parse-float","es.parse-int","es.promise","es.promise.all-settled","es.promise.finally","es.reflect.apply","es.reflect.construct","es.reflect.define-property","es.reflect.delete-property","es.reflect.get","es.reflect.get-own-property-descriptor","es.reflect.get-prototype-of","es.reflect.has","es.reflect.is-extensible","es.reflect.own-keys","es.reflect.prevent-extensions","es.reflect.set","es.reflect.set-prototype-of","es.regexp.constructor","es.regexp.exec","es.regexp.flags","es.regexp.sticky","es.regexp.test","es.regexp.to-string","es.set","es.string.code-point-at","es.string.ends-with","es.string.from-code-point","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.raw","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup","es.typed-array.float32-array","es.typed-array.float64-array","es.typed-array.int8-array","es.typed-array.int16-array","es.typed-array.int32-array","es.typed-array.uint8-array","es.typed-array.uint8-clamped-array","es.typed-array.uint16-array","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string","es.weak-map","es.weak-set","esnext.aggregate-error","esnext.array.is-template-object","esnext.array.last-index","esnext.array.last-item","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.composite-key","esnext.composite-symbol","esnext.global-this","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.map.update-or-insert","esnext.map.upsert","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.math.umulh","esnext.number.from-string","esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values","esnext.observable","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","esnext.reflect.define-metadata","esnext.reflect.delete-metadata","esnext.reflect.get-metadata","esnext.reflect.get-metadata-keys","esnext.reflect.get-own-metadata","esnext.reflect.get-own-metadata-keys","esnext.reflect.has-metadata","esnext.reflect.has-own-metadata","esnext.reflect.metadata","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.symbol.replace-all","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-map.upsert","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of","web.dom-collections.for-each","web.dom-collections.iterator","web.immediate","web.queue-microtask","web.timers","web.url","web.url.to-json","web.url-search-params"],"core-js/features/aggregate-error":["es.string.iterator","esnext.aggregate-error","web.dom-collections.iterator"],"core-js/features/array":["es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.from","es.array.includes","es.array.index-of","es.array.is-array","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.of","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map","es.string.iterator","esnext.array.is-template-object","esnext.array.last-index","esnext.array.last-item"],"core-js/features/array-buffer":["es.array-buffer.constructor","es.array-buffer.is-view","es.array-buffer.slice","es.object.to-string"],"core-js/features/array-buffer/constructor":["es.array-buffer.constructor","es.object.to-string"],"core-js/features/array-buffer/is-view":["es.array-buffer.is-view"],"core-js/features/array-buffer/slice":["es.array-buffer.slice"],"core-js/features/array/concat":["es.array.concat"],"core-js/features/array/copy-within":["es.array.copy-within"],"core-js/features/array/entries":["es.array.iterator"],"core-js/features/array/every":["es.array.every"],"core-js/features/array/fill":["es.array.fill"],"core-js/features/array/filter":["es.array.filter"],"core-js/features/array/find":["es.array.find"],"core-js/features/array/find-index":["es.array.find-index"],"core-js/features/array/flat":["es.array.flat","es.array.unscopables.flat"],"core-js/features/array/flat-map":["es.array.flat-map","es.array.unscopables.flat-map"],"core-js/features/array/for-each":["es.array.for-each"],"core-js/features/array/from":["es.array.from","es.string.iterator"],"core-js/features/array/includes":["es.array.includes"],"core-js/features/array/index-of":["es.array.index-of"],"core-js/features/array/is-array":["es.array.is-array"],"core-js/features/array/is-template-object":["esnext.array.is-template-object"],"core-js/features/array/iterator":["es.array.iterator"],"core-js/features/array/join":["es.array.join"],"core-js/features/array/keys":["es.array.iterator"],"core-js/features/array/last-index":["esnext.array.last-index"],"core-js/features/array/last-index-of":["es.array.last-index-of"],"core-js/features/array/last-item":["esnext.array.last-item"],"core-js/features/array/map":["es.array.map"],"core-js/features/array/of":["es.array.of"],"core-js/features/array/reduce":["es.array.reduce"],"core-js/features/array/reduce-right":["es.array.reduce-right"],"core-js/features/array/reverse":["es.array.reverse"],"core-js/features/array/slice":["es.array.slice"],"core-js/features/array/some":["es.array.some"],"core-js/features/array/sort":["es.array.sort"],"core-js/features/array/splice":["es.array.splice"],"core-js/features/array/values":["es.array.iterator"],"core-js/features/array/virtual":["es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.includes","es.array.index-of","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map"],"core-js/features/array/virtual/concat":["es.array.concat"],"core-js/features/array/virtual/copy-within":["es.array.copy-within"],"core-js/features/array/virtual/entries":["es.array.iterator"],"core-js/features/array/virtual/every":["es.array.every"],"core-js/features/array/virtual/fill":["es.array.fill"],"core-js/features/array/virtual/filter":["es.array.filter"],"core-js/features/array/virtual/find":["es.array.find"],"core-js/features/array/virtual/find-index":["es.array.find-index"],"core-js/features/array/virtual/flat":["es.array.flat","es.array.unscopables.flat"],"core-js/features/array/virtual/flat-map":["es.array.flat-map","es.array.unscopables.flat-map"],"core-js/features/array/virtual/for-each":["es.array.for-each"],"core-js/features/array/virtual/includes":["es.array.includes"],"core-js/features/array/virtual/index-of":["es.array.index-of"],"core-js/features/array/virtual/iterator":["es.array.iterator"],"core-js/features/array/virtual/join":["es.array.join"],"core-js/features/array/virtual/keys":["es.array.iterator"],"core-js/features/array/virtual/last-index-of":["es.array.last-index-of"],"core-js/features/array/virtual/map":["es.array.map"],"core-js/features/array/virtual/reduce":["es.array.reduce"],"core-js/features/array/virtual/reduce-right":["es.array.reduce-right"],"core-js/features/array/virtual/reverse":["es.array.reverse"],"core-js/features/array/virtual/slice":["es.array.slice"],"core-js/features/array/virtual/some":["es.array.some"],"core-js/features/array/virtual/sort":["es.array.sort"],"core-js/features/array/virtual/splice":["es.array.splice"],"core-js/features/array/virtual/values":["es.array.iterator"],"core-js/features/async-iterator":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","web.dom-collections.iterator"],"core-js/features/async-iterator/as-indexed-pairs":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","web.dom-collections.iterator"],"core-js/features/async-iterator/drop":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.drop","web.dom-collections.iterator"],"core-js/features/async-iterator/every":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.every","web.dom-collections.iterator"],"core-js/features/async-iterator/filter":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.filter","web.dom-collections.iterator"],"core-js/features/async-iterator/find":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.find","web.dom-collections.iterator"],"core-js/features/async-iterator/flat-map":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.flat-map","web.dom-collections.iterator"],"core-js/features/async-iterator/for-each":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.for-each","web.dom-collections.iterator"],"core-js/features/async-iterator/from":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.from","web.dom-collections.iterator"],"core-js/features/async-iterator/map":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.map","web.dom-collections.iterator"],"core-js/features/async-iterator/reduce":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.reduce","web.dom-collections.iterator"],"core-js/features/async-iterator/some":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.some","web.dom-collections.iterator"],"core-js/features/async-iterator/take":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.take","web.dom-collections.iterator"],"core-js/features/async-iterator/to-array":["es.object.to-string","es.promise","es.string.iterator","esnext.async-iterator.constructor","esnext.async-iterator.to-array","web.dom-collections.iterator"],"core-js/features/clear-immediate":["web.immediate"],"core-js/features/composite-key":["esnext.composite-key"],"core-js/features/composite-symbol":["es.symbol","esnext.composite-symbol"],"core-js/features/data-view":["es.data-view","es.object.to-string"],"core-js/features/date":["es.date.now","es.date.to-iso-string","es.date.to-json","es.date.to-primitive","es.date.to-string"],"core-js/features/date/now":["es.date.now"],"core-js/features/date/to-iso-string":["es.date.to-iso-string","es.date.to-json"],"core-js/features/date/to-json":["es.date.to-json"],"core-js/features/date/to-primitive":["es.date.to-primitive"],"core-js/features/date/to-string":["es.date.to-string"],"core-js/features/dom-collections":["es.array.iterator","web.dom-collections.for-each","web.dom-collections.iterator"],"core-js/features/dom-collections/for-each":["web.dom-collections.for-each"],"core-js/features/dom-collections/iterator":["web.dom-collections.iterator"],"core-js/features/function":["es.function.bind","es.function.has-instance","es.function.name"],"core-js/features/function/bind":["es.function.bind"],"core-js/features/function/has-instance":["es.function.has-instance"],"core-js/features/function/name":["es.function.name"],"core-js/features/function/virtual":["es.function.bind"],"core-js/features/function/virtual/bind":["es.function.bind"],"core-js/features/get-iterator":["es.string.iterator","web.dom-collections.iterator"],"core-js/features/get-iterator-method":["es.string.iterator","web.dom-collections.iterator"],"core-js/features/global-this":["es.global-this","esnext.global-this"],"core-js/features/instance/at":["esnext.string.at"],"core-js/features/instance/bind":["es.function.bind"],"core-js/features/instance/code-point-at":["es.string.code-point-at"],"core-js/features/instance/code-points":["esnext.string.code-points"],"core-js/features/instance/concat":["es.array.concat"],"core-js/features/instance/copy-within":["es.array.copy-within"],"core-js/features/instance/ends-with":["es.string.ends-with"],"core-js/features/instance/entries":["es.array.iterator","web.dom-collections.iterator"],"core-js/features/instance/every":["es.array.every"],"core-js/features/instance/fill":["es.array.fill"],"core-js/features/instance/filter":["es.array.filter"],"core-js/features/instance/find":["es.array.find"],"core-js/features/instance/find-index":["es.array.find-index"],"core-js/features/instance/flags":["es.regexp.flags"],"core-js/features/instance/flat":["es.array.flat","es.array.unscopables.flat"],"core-js/features/instance/flat-map":["es.array.flat-map","es.array.unscopables.flat-map"],"core-js/features/instance/for-each":["es.array.for-each","web.dom-collections.iterator"],"core-js/features/instance/includes":["es.array.includes","es.string.includes"],"core-js/features/instance/index-of":["es.array.index-of"],"core-js/features/instance/keys":["es.array.iterator","web.dom-collections.iterator"],"core-js/features/instance/last-index-of":["es.array.last-index-of"],"core-js/features/instance/map":["es.array.map"],"core-js/features/instance/match-all":["es.string.match-all","esnext.string.match-all"],"core-js/features/instance/pad-end":["es.string.pad-end"],"core-js/features/instance/pad-start":["es.string.pad-start"],"core-js/features/instance/reduce":["es.array.reduce"],"core-js/features/instance/reduce-right":["es.array.reduce-right"],"core-js/features/instance/repeat":["es.string.repeat"],"core-js/features/instance/replace-all":["esnext.string.replace-all"],"core-js/features/instance/reverse":["es.array.reverse"],"core-js/features/instance/slice":["es.array.slice"],"core-js/features/instance/some":["es.array.some"],"core-js/features/instance/sort":["es.array.sort"],"core-js/features/instance/splice":["es.array.splice"],"core-js/features/instance/starts-with":["es.string.starts-with"],"core-js/features/instance/trim":["es.string.trim"],"core-js/features/instance/trim-end":["es.string.trim-end"],"core-js/features/instance/trim-left":["es.string.trim-start"],"core-js/features/instance/trim-right":["es.string.trim-end"],"core-js/features/instance/trim-start":["es.string.trim-start"],"core-js/features/instance/values":["es.array.iterator","web.dom-collections.iterator"],"core-js/features/is-iterable":["es.string.iterator","web.dom-collections.iterator"],"core-js/features/iterator":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","web.dom-collections.iterator"],"core-js/features/iterator/as-indexed-pairs":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","web.dom-collections.iterator"],"core-js/features/iterator/drop":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.drop","web.dom-collections.iterator"],"core-js/features/iterator/every":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.every","web.dom-collections.iterator"],"core-js/features/iterator/filter":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.filter","web.dom-collections.iterator"],"core-js/features/iterator/find":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.find","web.dom-collections.iterator"],"core-js/features/iterator/flat-map":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.flat-map","web.dom-collections.iterator"],"core-js/features/iterator/for-each":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.for-each","web.dom-collections.iterator"],"core-js/features/iterator/from":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.from","web.dom-collections.iterator"],"core-js/features/iterator/map":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.map","web.dom-collections.iterator"],"core-js/features/iterator/reduce":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.reduce","web.dom-collections.iterator"],"core-js/features/iterator/some":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.some","web.dom-collections.iterator"],"core-js/features/iterator/take":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.take","web.dom-collections.iterator"],"core-js/features/iterator/to-array":["es.object.to-string","es.string.iterator","esnext.iterator.constructor","esnext.iterator.to-array","web.dom-collections.iterator"],"core-js/features/json":["es.json.stringify","es.json.to-string-tag"],"core-js/features/json/stringify":["es.json.stringify"],"core-js/features/json/to-string-tag":["es.json.to-string-tag"],"core-js/features/map":["es.map","es.object.to-string","es.string.iterator","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.map.update-or-insert","esnext.map.upsert","web.dom-collections.iterator"],"core-js/features/map/delete-all":["es.map","esnext.map.delete-all"],"core-js/features/map/every":["es.map","esnext.map.every"],"core-js/features/map/filter":["es.map","esnext.map.filter"],"core-js/features/map/find":["es.map","esnext.map.find"],"core-js/features/map/find-key":["es.map","esnext.map.find-key"],"core-js/features/map/from":["es.map","es.string.iterator","esnext.map.from","web.dom-collections.iterator"],"core-js/features/map/group-by":["es.map","esnext.map.group-by"],"core-js/features/map/includes":["es.map","esnext.map.includes"],"core-js/features/map/key-by":["es.map","esnext.map.key-by"],"core-js/features/map/key-of":["es.map","esnext.map.key-of"],"core-js/features/map/map-keys":["es.map","esnext.map.map-keys"],"core-js/features/map/map-values":["es.map","esnext.map.map-values"],"core-js/features/map/merge":["es.map","esnext.map.merge"],"core-js/features/map/of":["es.map","es.string.iterator","esnext.map.of","web.dom-collections.iterator"],"core-js/features/map/reduce":["es.map","esnext.map.reduce"],"core-js/features/map/some":["es.map","esnext.map.some"],"core-js/features/map/update":["es.map","esnext.map.update"],"core-js/features/map/update-or-insert":["es.map","esnext.map.update-or-insert"],"core-js/features/map/upsert":["es.map","esnext.map.upsert"],"core-js/features/math":["es.math.acosh","es.math.asinh","es.math.atanh","es.math.cbrt","es.math.clz32","es.math.cosh","es.math.expm1","es.math.fround","es.math.hypot","es.math.imul","es.math.log10","es.math.log1p","es.math.log2","es.math.sign","es.math.sinh","es.math.tanh","es.math.to-string-tag","es.math.trunc","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.math.umulh"],"core-js/features/math/acosh":["es.math.acosh"],"core-js/features/math/asinh":["es.math.asinh"],"core-js/features/math/atanh":["es.math.atanh"],"core-js/features/math/cbrt":["es.math.cbrt"],"core-js/features/math/clamp":["esnext.math.clamp"],"core-js/features/math/clz32":["es.math.clz32"],"core-js/features/math/cosh":["es.math.cosh"],"core-js/features/math/deg-per-rad":["esnext.math.deg-per-rad"],"core-js/features/math/degrees":["esnext.math.degrees"],"core-js/features/math/expm1":["es.math.expm1"],"core-js/features/math/fround":["es.math.fround"],"core-js/features/math/fscale":["esnext.math.fscale"],"core-js/features/math/hypot":["es.math.hypot"],"core-js/features/math/iaddh":["esnext.math.iaddh"],"core-js/features/math/imul":["es.math.imul"],"core-js/features/math/imulh":["esnext.math.imulh"],"core-js/features/math/isubh":["esnext.math.isubh"],"core-js/features/math/log10":["es.math.log10"],"core-js/features/math/log1p":["es.math.log1p"],"core-js/features/math/log2":["es.math.log2"],"core-js/features/math/rad-per-deg":["esnext.math.rad-per-deg"],"core-js/features/math/radians":["esnext.math.radians"],"core-js/features/math/scale":["esnext.math.scale"],"core-js/features/math/seeded-prng":["esnext.math.seeded-prng"],"core-js/features/math/sign":["es.math.sign"],"core-js/features/math/signbit":["esnext.math.signbit"],"core-js/features/math/sinh":["es.math.sinh"],"core-js/features/math/tanh":["es.math.tanh"],"core-js/features/math/to-string-tag":["es.math.to-string-tag"],"core-js/features/math/trunc":["es.math.trunc"],"core-js/features/math/umulh":["esnext.math.umulh"],"core-js/features/number":["es.number.constructor","es.number.epsilon","es.number.is-finite","es.number.is-integer","es.number.is-nan","es.number.is-safe-integer","es.number.max-safe-integer","es.number.min-safe-integer","es.number.parse-float","es.number.parse-int","es.number.to-fixed","es.number.to-precision","esnext.number.from-string"],"core-js/features/number/constructor":["es.number.constructor"],"core-js/features/number/epsilon":["es.number.epsilon"],"core-js/features/number/from-string":["esnext.number.from-string"],"core-js/features/number/is-finite":["es.number.is-finite"],"core-js/features/number/is-integer":["es.number.is-integer"],"core-js/features/number/is-nan":["es.number.is-nan"],"core-js/features/number/is-safe-integer":["es.number.is-safe-integer"],"core-js/features/number/max-safe-integer":["es.number.max-safe-integer"],"core-js/features/number/min-safe-integer":["es.number.min-safe-integer"],"core-js/features/number/parse-float":["es.number.parse-float"],"core-js/features/number/parse-int":["es.number.parse-int"],"core-js/features/number/to-fixed":["es.number.to-fixed"],"core-js/features/number/to-precision":["es.number.to-precision"],"core-js/features/number/virtual":["es.number.to-fixed","es.number.to-precision"],"core-js/features/number/virtual/to-fixed":["es.number.to-fixed"],"core-js/features/number/virtual/to-precision":["es.number.to-precision"],
"core-js/features/object":["es.symbol","es.json.to-string-tag","es.math.to-string-tag","es.object.assign","es.object.create","es.object.define-getter","es.object.define-properties","es.object.define-property","es.object.define-setter","es.object.entries","es.object.freeze","es.object.from-entries","es.object.get-own-property-descriptor","es.object.get-own-property-descriptors","es.object.get-own-property-names","es.object.get-prototype-of","es.object.is","es.object.is-extensible","es.object.is-frozen","es.object.is-sealed","es.object.keys","es.object.lookup-getter","es.object.lookup-setter","es.object.prevent-extensions","es.object.seal","es.object.set-prototype-of","es.object.to-string","es.object.values","esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values"],"core-js/features/object/assign":["es.object.assign"],"core-js/features/object/create":["es.object.create"],"core-js/features/object/define-getter":["es.object.define-getter"],"core-js/features/object/define-properties":["es.object.define-properties"],"core-js/features/object/define-property":["es.object.define-property"],"core-js/features/object/define-setter":["es.object.define-setter"],"core-js/features/object/entries":["es.object.entries"],"core-js/features/object/freeze":["es.object.freeze"],"core-js/features/object/from-entries":["es.array.iterator","es.object.from-entries"],"core-js/features/object/get-own-property-descriptor":["es.object.get-own-property-descriptor"],"core-js/features/object/get-own-property-descriptors":["es.object.get-own-property-descriptors"],"core-js/features/object/get-own-property-names":["es.object.get-own-property-names"],"core-js/features/object/get-own-property-symbols":["es.symbol"],"core-js/features/object/get-prototype-of":["es.object.get-prototype-of"],"core-js/features/object/is":["es.object.is"],"core-js/features/object/is-extensible":["es.object.is-extensible"],"core-js/features/object/is-frozen":["es.object.is-frozen"],"core-js/features/object/is-sealed":["es.object.is-sealed"],"core-js/features/object/iterate-entries":["esnext.object.iterate-entries"],"core-js/features/object/iterate-keys":["esnext.object.iterate-keys"],"core-js/features/object/iterate-values":["esnext.object.iterate-values"],"core-js/features/object/keys":["es.object.keys"],"core-js/features/object/lookup-getter":["es.object.lookup-setter"],"core-js/features/object/lookup-setter":["es.object.lookup-setter"],"core-js/features/object/prevent-extensions":["es.object.prevent-extensions"],"core-js/features/object/seal":["es.object.seal"],"core-js/features/object/set-prototype-of":["es.object.set-prototype-of"],"core-js/features/object/to-string":["es.json.to-string-tag","es.math.to-string-tag","es.object.to-string"],"core-js/features/object/values":["es.object.values"],"core-js/features/observable":["es.object.to-string","es.string.iterator","esnext.observable","esnext.symbol.observable","web.dom-collections.iterator"],"core-js/features/parse-float":["es.parse-float"],"core-js/features/parse-int":["es.parse-int"],"core-js/features/promise":["es.object.to-string","es.promise","es.promise.all-settled","es.promise.finally","es.string.iterator","esnext.aggregate-error","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","web.dom-collections.iterator"],"core-js/features/promise/all-settled":["es.promise","es.promise.all-settled","esnext.promise.all-settled"],"core-js/features/promise/any":["es.promise","esnext.aggregate-error","esnext.promise.any"],"core-js/features/promise/finally":["es.promise","es.promise.finally"],"core-js/features/promise/try":["es.promise","esnext.promise.try"],"core-js/features/queue-microtask":["web.queue-microtask"],"core-js/features/reflect":["es.reflect.apply","es.reflect.construct","es.reflect.define-property","es.reflect.delete-property","es.reflect.get","es.reflect.get-own-property-descriptor","es.reflect.get-prototype-of","es.reflect.has","es.reflect.is-extensible","es.reflect.own-keys","es.reflect.prevent-extensions","es.reflect.set","es.reflect.set-prototype-of","esnext.reflect.define-metadata","esnext.reflect.delete-metadata","esnext.reflect.get-metadata","esnext.reflect.get-metadata-keys","esnext.reflect.get-own-metadata","esnext.reflect.get-own-metadata-keys","esnext.reflect.has-metadata","esnext.reflect.has-own-metadata","esnext.reflect.metadata"],"core-js/features/reflect/apply":["es.reflect.apply"],"core-js/features/reflect/construct":["es.reflect.construct"],"core-js/features/reflect/define-metadata":["esnext.reflect.define-metadata"],"core-js/features/reflect/define-property":["es.reflect.define-property"],"core-js/features/reflect/delete-metadata":["esnext.reflect.delete-metadata"],"core-js/features/reflect/delete-property":["es.reflect.delete-property"],"core-js/features/reflect/get":["es.reflect.get"],"core-js/features/reflect/get-metadata":["esnext.reflect.get-metadata"],"core-js/features/reflect/get-metadata-keys":["esnext.reflect.get-metadata-keys"],"core-js/features/reflect/get-own-metadata":["esnext.reflect.get-own-metadata"],"core-js/features/reflect/get-own-metadata-keys":["esnext.reflect.get-own-metadata-keys"],"core-js/features/reflect/get-own-property-descriptor":["es.reflect.get-own-property-descriptor"],"core-js/features/reflect/get-prototype-of":["es.reflect.get-prototype-of"],"core-js/features/reflect/has":["es.reflect.has"],"core-js/features/reflect/has-metadata":["esnext.reflect.has-metadata"],"core-js/features/reflect/has-own-metadata":["esnext.reflect.has-own-metadata"],"core-js/features/reflect/is-extensible":["es.reflect.is-extensible"],"core-js/features/reflect/metadata":["esnext.reflect.metadata"],"core-js/features/reflect/own-keys":["es.reflect.own-keys"],"core-js/features/reflect/prevent-extensions":["es.reflect.prevent-extensions"],"core-js/features/reflect/set":["es.reflect.set"],"core-js/features/reflect/set-prototype-of":["es.reflect.set-prototype-of"],"core-js/features/regexp":["es.regexp.constructor","es.regexp.exec","es.regexp.flags","es.regexp.sticky","es.regexp.test","es.regexp.to-string","es.string.match","es.string.replace","es.string.search","es.string.split"],"core-js/features/regexp/constructor":["es.regexp.constructor"],"core-js/features/regexp/flags":["es.regexp.flags"],"core-js/features/regexp/match":["es.string.match"],"core-js/features/regexp/replace":["es.string.replace"],"core-js/features/regexp/search":["es.string.search"],"core-js/features/regexp/split":["es.string.split"],"core-js/features/regexp/sticky":["es.regexp.sticky"],"core-js/features/regexp/test":["es.regexp.exec","es.regexp.test"],"core-js/features/regexp/to-string":["es.regexp.to-string"],"core-js/features/set":["es.object.to-string","es.set","es.string.iterator","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","web.dom-collections.iterator"],"core-js/features/set-immediate":["web.immediate"],"core-js/features/set-interval":["web.timers"],"core-js/features/set-timeout":["web.timers"],"core-js/features/set/add-all":["es.set","esnext.set.add-all"],"core-js/features/set/delete-all":["es.set","esnext.set.delete-all"],"core-js/features/set/difference":["es.set","es.string.iterator","esnext.set.difference","web.dom-collections.iterator"],"core-js/features/set/every":["es.set","esnext.set.every"],"core-js/features/set/filter":["es.set","esnext.set.filter"],"core-js/features/set/find":["es.set","esnext.set.find"],"core-js/features/set/from":["es.set","es.string.iterator","esnext.set.from","web.dom-collections.iterator"],"core-js/features/set/intersection":["es.set","esnext.set.intersection"],"core-js/features/set/is-disjoint-from":["es.set","esnext.set.is-disjoint-from"],"core-js/features/set/is-subset-of":["es.set","es.string.iterator","esnext.set.is-subset-of","web.dom-collections.iterator"],"core-js/features/set/is-superset-of":["es.set","esnext.set.is-superset-of"],"core-js/features/set/join":["es.set","esnext.set.join"],"core-js/features/set/map":["es.set","esnext.set.map"],"core-js/features/set/of":["es.set","es.string.iterator","esnext.set.of","web.dom-collections.iterator"],"core-js/features/set/reduce":["es.set","esnext.set.reduce"],"core-js/features/set/some":["es.set","esnext.set.some"],"core-js/features/set/symmetric-difference":["es.set","es.string.iterator","esnext.set.symmetric-difference","web.dom-collections.iterator"],"core-js/features/set/union":["es.set","es.string.iterator","esnext.set.union","web.dom-collections.iterator"],"core-js/features/string":["es.regexp.exec","es.string.code-point-at","es.string.ends-with","es.string.from-code-point","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.raw","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all"],"core-js/features/string/anchor":["es.string.anchor"],"core-js/features/string/at":["esnext.string.at"],"core-js/features/string/big":["es.string.big"],"core-js/features/string/blink":["es.string.blink"],"core-js/features/string/bold":["es.string.bold"],"core-js/features/string/code-point-at":["es.string.code-point-at"],"core-js/features/string/code-points":["esnext.string.code-points"],"core-js/features/string/ends-with":["es.string.ends-with"],"core-js/features/string/fixed":["es.string.fixed"],"core-js/features/string/fontcolor":["es.string.fontcolor"],"core-js/features/string/fontsize":["es.string.fontsize"],"core-js/features/string/from-code-point":["es.string.from-code-point"],"core-js/features/string/includes":["es.string.includes"],"core-js/features/string/italics":["es.string.italics"],"core-js/features/string/iterator":["es.string.iterator"],"core-js/features/string/link":["es.string.link"],"core-js/features/string/match":["es.regexp.exec","es.string.match"],"core-js/features/string/match-all":["es.string.match-all","esnext.string.match-all"],"core-js/features/string/pad-end":["es.string.pad-end"],"core-js/features/string/pad-start":["es.string.pad-start"],"core-js/features/string/raw":["es.string.raw"],"core-js/features/string/repeat":["es.string.repeat"],"core-js/features/string/replace":["es.regexp.exec","es.string.replace"],"core-js/features/string/replace-all":["esnext.string.replace-all"],"core-js/features/string/search":["es.regexp.exec","es.string.search"],"core-js/features/string/small":["es.string.small"],"core-js/features/string/split":["es.regexp.exec","es.string.split"],"core-js/features/string/starts-with":["es.string.starts-with"],"core-js/features/string/strike":["es.string.strike"],"core-js/features/string/sub":["es.string.sub"],"core-js/features/string/sup":["es.string.sup"],"core-js/features/string/trim":["es.string.trim"],"core-js/features/string/trim-end":["es.string.trim-end"],"core-js/features/string/trim-left":["es.string.trim-start"],"core-js/features/string/trim-right":["es.string.trim-end"],"core-js/features/string/trim-start":["es.string.trim-start"],"core-js/features/string/virtual":["es.string.code-point-at","es.string.ends-with","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all"],"core-js/features/string/virtual/anchor":["es.string.anchor"],"core-js/features/string/virtual/at":["esnext.string.at"],"core-js/features/string/virtual/big":["es.string.big"],"core-js/features/string/virtual/blink":["es.string.blink"],"core-js/features/string/virtual/bold":["es.string.bold"],"core-js/features/string/virtual/code-point-at":["es.string.code-point-at"],"core-js/features/string/virtual/code-points":["esnext.string.code-points"],"core-js/features/string/virtual/ends-with":["es.string.ends-with"],"core-js/features/string/virtual/fixed":["es.string.fixed"],"core-js/features/string/virtual/fontcolor":["es.string.fontcolor"],"core-js/features/string/virtual/fontsize":["es.string.fontsize"],"core-js/features/string/virtual/includes":["es.string.includes"],"core-js/features/string/virtual/italics":["es.string.italics"],"core-js/features/string/virtual/iterator":["es.string.iterator"],"core-js/features/string/virtual/link":["es.string.link"],"core-js/features/string/virtual/match-all":["es.string.match-all","esnext.string.match-all"],"core-js/features/string/virtual/pad-end":["es.string.pad-end"],"core-js/features/string/virtual/pad-start":["es.string.pad-start"],"core-js/features/string/virtual/repeat":["es.string.repeat"],"core-js/features/string/virtual/replace-all":["esnext.string.replace-all"],"core-js/features/string/virtual/small":["es.string.small"],"core-js/features/string/virtual/starts-with":["es.string.starts-with"],"core-js/features/string/virtual/strike":["es.string.strike"],"core-js/features/string/virtual/sub":["es.string.sub"],"core-js/features/string/virtual/sup":["es.string.sup"],"core-js/features/string/virtual/trim":["es.string.trim"],"core-js/features/string/virtual/trim-end":["es.string.trim-end"],"core-js/features/string/virtual/trim-left":["es.string.trim-start"],"core-js/features/string/virtual/trim-right":["es.string.trim-end"],"core-js/features/string/virtual/trim-start":["es.string.trim-start"],"core-js/features/symbol":["es.symbol","es.symbol.description","es.symbol.async-iterator","es.symbol.has-instance","es.symbol.is-concat-spreadable","es.symbol.iterator","es.symbol.match","es.symbol.match-all","es.symbol.replace","es.symbol.search","es.symbol.species","es.symbol.split","es.symbol.to-primitive","es.symbol.to-string-tag","es.symbol.unscopables","es.array.concat","es.json.to-string-tag","es.math.to-string-tag","es.object.to-string","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.symbol.replace-all"],"core-js/features/symbol/async-dispose":["esnext.symbol.async-dispose"],"core-js/features/symbol/async-iterator":["es.symbol.async-iterator"],"core-js/features/symbol/description":["es.symbol.description"],"core-js/features/symbol/dispose":["esnext.symbol.dispose"],"core-js/features/symbol/for":["es.symbol"],"core-js/features/symbol/has-instance":["es.symbol.has-instance","es.function.has-instance"],"core-js/features/symbol/is-concat-spreadable":["es.symbol.is-concat-spreadable","es.array.concat"],"core-js/features/symbol/iterator":["es.symbol.iterator","es.string.iterator","web.dom-collections.iterator"],"core-js/features/symbol/key-for":["es.symbol"],"core-js/features/symbol/match":["es.symbol.match","es.string.match"],"core-js/features/symbol/match-all":["es.symbol.match-all","es.string.match-all"],"core-js/features/symbol/observable":["esnext.symbol.observable"],"core-js/features/symbol/pattern-match":["esnext.symbol.pattern-match"],"core-js/features/symbol/replace":["es.symbol.replace","es.string.replace"],"core-js/features/symbol/replace-all":["esnext.symbol.replace-all"],"core-js/features/symbol/search":["es.symbol.search","es.string.search"],"core-js/features/symbol/species":["es.symbol.species"],"core-js/features/symbol/split":["es.symbol.split","es.string.split"],"core-js/features/symbol/to-primitive":["es.symbol.to-primitive"],"core-js/features/symbol/to-string-tag":["es.symbol.to-string-tag","es.json.to-string-tag","es.math.to-string-tag","es.object.to-string"],"core-js/features/symbol/unscopables":["es.symbol.unscopables"],"core-js/features/typed-array":["es.object.to-string","es.typed-array.float32-array","es.typed-array.float64-array","es.typed-array.int8-array","es.typed-array.int16-array","es.typed-array.int32-array","es.typed-array.uint8-array","es.typed-array.uint8-clamped-array","es.typed-array.uint16-array","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/copy-within":["es.typed-array.copy-within"],"core-js/features/typed-array/entries":["es.typed-array.iterator"],"core-js/features/typed-array/every":["es.typed-array.every"],"core-js/features/typed-array/fill":["es.typed-array.fill"],"core-js/features/typed-array/filter":["es.typed-array.filter"],"core-js/features/typed-array/find":["es.typed-array.find"],"core-js/features/typed-array/find-index":["es.typed-array.find-index"],"core-js/features/typed-array/float32-array":["es.object.to-string","es.typed-array.float32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/float64-array":["es.object.to-string","es.typed-array.float64-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/for-each":["es.typed-array.for-each"],"core-js/features/typed-array/from":["es.typed-array.from"],"core-js/features/typed-array/includes":["es.typed-array.includes"],"core-js/features/typed-array/index-of":["es.typed-array.index-of"],"core-js/features/typed-array/int16-array":["es.object.to-string","es.typed-array.int16-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/int32-array":["es.object.to-string","es.typed-array.int32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/int8-array":["es.object.to-string","es.typed-array.int8-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/iterator":["es.typed-array.iterator"],"core-js/features/typed-array/join":["es.typed-array.join"],"core-js/features/typed-array/keys":["es.typed-array.iterator"],"core-js/features/typed-array/last-index-of":["es.typed-array.last-index-of"],"core-js/features/typed-array/map":["es.typed-array.map"],"core-js/features/typed-array/of":["es.typed-array.of"],"core-js/features/typed-array/reduce":["es.typed-array.reduce"],"core-js/features/typed-array/reduce-right":["es.typed-array.reduce-right"],"core-js/features/typed-array/reverse":["es.typed-array.reverse"],"core-js/features/typed-array/set":["es.typed-array.set"],"core-js/features/typed-array/slice":["es.typed-array.slice"],"core-js/features/typed-array/some":["es.typed-array.some"],"core-js/features/typed-array/sort":["es.typed-array.sort"],"core-js/features/typed-array/subarray":["es.typed-array.subarray"],"core-js/features/typed-array/to-locale-string":["es.typed-array.to-locale-string"],"core-js/features/typed-array/to-string":["es.typed-array.to-string"],"core-js/features/typed-array/uint16-array":["es.object.to-string","es.typed-array.uint16-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/uint32-array":["es.object.to-string","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/uint8-array":["es.object.to-string","es.typed-array.uint8-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/uint8-clamped-array":["es.object.to-string","es.typed-array.uint8-clamped-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/features/typed-array/values":["es.typed-array.iterator"],"core-js/features/url":["web.url","web.url.to-json","web.url-search-params"],"core-js/features/url-search-params":["web.url-search-params"],"core-js/features/url/to-json":["web.url.to-json"],"core-js/features/weak-map":["es.object.to-string","es.weak-map","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-map.upsert","web.dom-collections.iterator"],"core-js/features/weak-map/delete-all":["es.weak-map","esnext.weak-map.delete-all"],"core-js/features/weak-map/from":["es.string.iterator","es.weak-map","esnext.weak-map.from","web.dom-collections.iterator"],"core-js/features/weak-map/of":["es.string.iterator","es.weak-map","esnext.weak-map.of","web.dom-collections.iterator"],"core-js/features/weak-map/upsert":["es.weak-map","esnext.weak-map.upsert"],"core-js/features/weak-set":["es.object.to-string","es.weak-set","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of","web.dom-collections.iterator"],"core-js/features/weak-set/add-all":["es.weak-set","esnext.weak-set.add-all"],"core-js/features/weak-set/delete-all":["es.weak-set","esnext.weak-set.delete-all"],"core-js/features/weak-set/from":["es.string.iterator","es.weak-set","esnext.weak-set.from","web.dom-collections.iterator"],"core-js/features/weak-set/of":["es.string.iterator","es.weak-set","esnext.weak-set.of","web.dom-collections.iterator"],"core-js/modules/es.array-buffer.constructor":["es.array-buffer.constructor"],"core-js/modules/es.array-buffer.is-view":["es.array-buffer.is-view"],"core-js/modules/es.array-buffer.slice":["es.array-buffer.slice"],"core-js/modules/es.array.concat":["es.array.concat"],"core-js/modules/es.array.copy-within":["es.array.copy-within"],"core-js/modules/es.array.every":["es.array.every"],"core-js/modules/es.array.fill":["es.array.fill"],"core-js/modules/es.array.filter":["es.array.filter"],"core-js/modules/es.array.find":["es.array.find"],"core-js/modules/es.array.find-index":["es.array.find-index"],"core-js/modules/es.array.flat":["es.array.flat"],"core-js/modules/es.array.flat-map":["es.array.flat-map"],"core-js/modules/es.array.for-each":["es.array.for-each"],"core-js/modules/es.array.from":["es.array.from"],"core-js/modules/es.array.includes":["es.array.includes"],"core-js/modules/es.array.index-of":["es.array.index-of"],"core-js/modules/es.array.is-array":["es.array.is-array"],"core-js/modules/es.array.iterator":["es.array.iterator"],"core-js/modules/es.array.join":["es.array.join"],"core-js/modules/es.array.last-index-of":["es.array.last-index-of"],"core-js/modules/es.array.map":["es.array.map"],"core-js/modules/es.array.of":["es.array.of"],"core-js/modules/es.array.reduce":["es.array.reduce"],"core-js/modules/es.array.reduce-right":["es.array.reduce-right"],"core-js/modules/es.array.reverse":["es.array.reverse"],"core-js/modules/es.array.slice":["es.array.slice"],"core-js/modules/es.array.some":["es.array.some"],"core-js/modules/es.array.sort":["es.array.sort"],"core-js/modules/es.array.species":["es.array.species"],"core-js/modules/es.array.splice":["es.array.splice"],"core-js/modules/es.array.unscopables.flat":["es.array.unscopables.flat"],"core-js/modules/es.array.unscopables.flat-map":["es.array.unscopables.flat-map"],"core-js/modules/es.data-view":["es.data-view"],"core-js/modules/es.date.now":["es.date.now"],"core-js/modules/es.date.to-iso-string":["es.date.to-iso-string"],"core-js/modules/es.date.to-json":["es.date.to-json"],"core-js/modules/es.date.to-primitive":["es.date.to-primitive"],"core-js/modules/es.date.to-string":["es.date.to-string"],"core-js/modules/es.function.bind":["es.function.bind"],"core-js/modules/es.function.has-instance":["es.function.has-instance"],"core-js/modules/es.function.name":["es.function.name"],"core-js/modules/es.global-this":["es.global-this"],"core-js/modules/es.json.stringify":["es.json.stringify"],"core-js/modules/es.json.to-string-tag":["es.json.to-string-tag"],"core-js/modules/es.map":["es.map"],"core-js/modules/es.math.acosh":["es.math.acosh"],"core-js/modules/es.math.asinh":["es.math.asinh"],"core-js/modules/es.math.atanh":["es.math.atanh"],"core-js/modules/es.math.cbrt":["es.math.cbrt"],"core-js/modules/es.math.clz32":["es.math.clz32"],"core-js/modules/es.math.cosh":["es.math.cosh"],"core-js/modules/es.math.expm1":["es.math.expm1"],"core-js/modules/es.math.fround":["es.math.fround"],"core-js/modules/es.math.hypot":["es.math.hypot"],"core-js/modules/es.math.imul":["es.math.imul"],"core-js/modules/es.math.log10":["es.math.log10"],"core-js/modules/es.math.log1p":["es.math.log1p"],"core-js/modules/es.math.log2":["es.math.log2"],"core-js/modules/es.math.sign":["es.math.sign"],"core-js/modules/es.math.sinh":["es.math.sinh"],"core-js/modules/es.math.tanh":["es.math.tanh"],"core-js/modules/es.math.to-string-tag":["es.math.to-string-tag"],"core-js/modules/es.math.trunc":["es.math.trunc"],"core-js/modules/es.number.constructor":["es.number.constructor"],"core-js/modules/es.number.epsilon":["es.number.epsilon"],"core-js/modules/es.number.is-finite":["es.number.is-finite"],"core-js/modules/es.number.is-integer":["es.number.is-integer"],"core-js/modules/es.number.is-nan":["es.number.is-nan"],"core-js/modules/es.number.is-safe-integer":["es.number.is-safe-integer"],"core-js/modules/es.number.max-safe-integer":["es.number.max-safe-integer"],"core-js/modules/es.number.min-safe-integer":["es.number.min-safe-integer"],"core-js/modules/es.number.parse-float":["es.number.parse-float"],"core-js/modules/es.number.parse-int":["es.number.parse-int"],"core-js/modules/es.number.to-fixed":["es.number.to-fixed"],"core-js/modules/es.number.to-precision":["es.number.to-precision"],"core-js/modules/es.object.assign":["es.object.assign"],"core-js/modules/es.object.create":["es.object.create"],"core-js/modules/es.object.define-getter":["es.object.define-getter"],"core-js/modules/es.object.define-properties":["es.object.define-properties"],"core-js/modules/es.object.define-property":["es.object.define-property"],"core-js/modules/es.object.define-setter":["es.object.define-setter"],"core-js/modules/es.object.entries":["es.object.entries"],"core-js/modules/es.object.freeze":["es.object.freeze"],
"core-js/modules/es.object.from-entries":["es.object.from-entries"],"core-js/modules/es.object.get-own-property-descriptor":["es.object.get-own-property-descriptor"],"core-js/modules/es.object.get-own-property-descriptors":["es.object.get-own-property-descriptors"],"core-js/modules/es.object.get-own-property-names":["es.object.get-own-property-names"],"core-js/modules/es.object.get-prototype-of":["es.object.get-prototype-of"],"core-js/modules/es.object.is":["es.object.is"],"core-js/modules/es.object.is-extensible":["es.object.is-extensible"],"core-js/modules/es.object.is-frozen":["es.object.is-frozen"],"core-js/modules/es.object.is-sealed":["es.object.is-sealed"],"core-js/modules/es.object.keys":["es.object.keys"],"core-js/modules/es.object.lookup-getter":["es.object.lookup-getter"],"core-js/modules/es.object.lookup-setter":["es.object.lookup-setter"],"core-js/modules/es.object.prevent-extensions":["es.object.prevent-extensions"],"core-js/modules/es.object.seal":["es.object.seal"],"core-js/modules/es.object.set-prototype-of":["es.object.set-prototype-of"],"core-js/modules/es.object.to-string":["es.object.to-string"],"core-js/modules/es.object.values":["es.object.values"],"core-js/modules/es.parse-float":["es.parse-float"],"core-js/modules/es.parse-int":["es.parse-int"],"core-js/modules/es.promise":["es.promise"],"core-js/modules/es.promise.all-settled":["es.promise.all-settled"],"core-js/modules/es.promise.finally":["es.promise.finally"],"core-js/modules/es.reflect.apply":["es.reflect.apply"],"core-js/modules/es.reflect.construct":["es.reflect.construct"],"core-js/modules/es.reflect.define-property":["es.reflect.define-property"],"core-js/modules/es.reflect.delete-property":["es.reflect.delete-property"],"core-js/modules/es.reflect.get":["es.reflect.get"],"core-js/modules/es.reflect.get-own-property-descriptor":["es.reflect.get-own-property-descriptor"],"core-js/modules/es.reflect.get-prototype-of":["es.reflect.get-prototype-of"],"core-js/modules/es.reflect.has":["es.reflect.has"],"core-js/modules/es.reflect.is-extensible":["es.reflect.is-extensible"],"core-js/modules/es.reflect.own-keys":["es.reflect.own-keys"],"core-js/modules/es.reflect.prevent-extensions":["es.reflect.prevent-extensions"],"core-js/modules/es.reflect.set":["es.reflect.set"],"core-js/modules/es.reflect.set-prototype-of":["es.reflect.set-prototype-of"],"core-js/modules/es.regexp.constructor":["es.regexp.constructor"],"core-js/modules/es.regexp.exec":["es.regexp.exec"],"core-js/modules/es.regexp.flags":["es.regexp.flags"],"core-js/modules/es.regexp.sticky":["es.regexp.sticky"],"core-js/modules/es.regexp.test":["es.regexp.test"],"core-js/modules/es.regexp.to-string":["es.regexp.to-string"],"core-js/modules/es.set":["es.set"],"core-js/modules/es.string.anchor":["es.string.anchor"],"core-js/modules/es.string.big":["es.string.big"],"core-js/modules/es.string.blink":["es.string.blink"],"core-js/modules/es.string.bold":["es.string.bold"],"core-js/modules/es.string.code-point-at":["es.string.code-point-at"],"core-js/modules/es.string.ends-with":["es.string.ends-with"],"core-js/modules/es.string.fixed":["es.string.fixed"],"core-js/modules/es.string.fontcolor":["es.string.fontcolor"],"core-js/modules/es.string.fontsize":["es.string.fontsize"],"core-js/modules/es.string.from-code-point":["es.string.from-code-point"],"core-js/modules/es.string.includes":["es.string.includes"],"core-js/modules/es.string.italics":["es.string.italics"],"core-js/modules/es.string.iterator":["es.string.iterator"],"core-js/modules/es.string.link":["es.string.link"],"core-js/modules/es.string.match":["es.string.match"],"core-js/modules/es.string.match-all":["es.string.match-all"],"core-js/modules/es.string.pad-end":["es.string.pad-end"],"core-js/modules/es.string.pad-start":["es.string.pad-start"],"core-js/modules/es.string.raw":["es.string.raw"],"core-js/modules/es.string.repeat":["es.string.repeat"],"core-js/modules/es.string.replace":["es.string.replace"],"core-js/modules/es.string.search":["es.string.search"],"core-js/modules/es.string.small":["es.string.small"],"core-js/modules/es.string.split":["es.string.split"],"core-js/modules/es.string.starts-with":["es.string.starts-with"],"core-js/modules/es.string.strike":["es.string.strike"],"core-js/modules/es.string.sub":["es.string.sub"],"core-js/modules/es.string.sup":["es.string.sup"],"core-js/modules/es.string.trim":["es.string.trim"],"core-js/modules/es.string.trim-end":["es.string.trim-end"],"core-js/modules/es.string.trim-start":["es.string.trim-start"],"core-js/modules/es.symbol":["es.symbol"],"core-js/modules/es.symbol.async-iterator":["es.symbol.async-iterator"],"core-js/modules/es.symbol.description":["es.symbol.description"],"core-js/modules/es.symbol.has-instance":["es.symbol.has-instance"],"core-js/modules/es.symbol.is-concat-spreadable":["es.symbol.is-concat-spreadable"],"core-js/modules/es.symbol.iterator":["es.symbol.iterator"],"core-js/modules/es.symbol.match":["es.symbol.match"],"core-js/modules/es.symbol.match-all":["es.symbol.match-all"],"core-js/modules/es.symbol.replace":["es.symbol.replace"],"core-js/modules/es.symbol.search":["es.symbol.search"],"core-js/modules/es.symbol.species":["es.symbol.species"],"core-js/modules/es.symbol.split":["es.symbol.split"],"core-js/modules/es.symbol.to-primitive":["es.symbol.to-primitive"],"core-js/modules/es.symbol.to-string-tag":["es.symbol.to-string-tag"],"core-js/modules/es.symbol.unscopables":["es.symbol.unscopables"],"core-js/modules/es.typed-array.copy-within":["es.typed-array.copy-within"],"core-js/modules/es.typed-array.every":["es.typed-array.every"],"core-js/modules/es.typed-array.fill":["es.typed-array.fill"],"core-js/modules/es.typed-array.filter":["es.typed-array.filter"],"core-js/modules/es.typed-array.find":["es.typed-array.find"],"core-js/modules/es.typed-array.find-index":["es.typed-array.find-index"],"core-js/modules/es.typed-array.float32-array":["es.typed-array.float32-array"],"core-js/modules/es.typed-array.float64-array":["es.typed-array.float64-array"],"core-js/modules/es.typed-array.for-each":["es.typed-array.for-each"],"core-js/modules/es.typed-array.from":["es.typed-array.from"],"core-js/modules/es.typed-array.includes":["es.typed-array.includes"],"core-js/modules/es.typed-array.index-of":["es.typed-array.index-of"],"core-js/modules/es.typed-array.int16-array":["es.typed-array.int16-array"],"core-js/modules/es.typed-array.int32-array":["es.typed-array.int32-array"],"core-js/modules/es.typed-array.int8-array":["es.typed-array.int8-array"],"core-js/modules/es.typed-array.iterator":["es.typed-array.iterator"],"core-js/modules/es.typed-array.join":["es.typed-array.join"],"core-js/modules/es.typed-array.last-index-of":["es.typed-array.last-index-of"],"core-js/modules/es.typed-array.map":["es.typed-array.map"],"core-js/modules/es.typed-array.of":["es.typed-array.of"],"core-js/modules/es.typed-array.reduce":["es.typed-array.reduce"],"core-js/modules/es.typed-array.reduce-right":["es.typed-array.reduce-right"],"core-js/modules/es.typed-array.reverse":["es.typed-array.reverse"],"core-js/modules/es.typed-array.set":["es.typed-array.set"],"core-js/modules/es.typed-array.slice":["es.typed-array.slice"],"core-js/modules/es.typed-array.some":["es.typed-array.some"],"core-js/modules/es.typed-array.sort":["es.typed-array.sort"],"core-js/modules/es.typed-array.subarray":["es.typed-array.subarray"],"core-js/modules/es.typed-array.to-locale-string":["es.typed-array.to-locale-string"],"core-js/modules/es.typed-array.to-string":["es.typed-array.to-string"],"core-js/modules/es.typed-array.uint16-array":["es.typed-array.uint16-array"],"core-js/modules/es.typed-array.uint32-array":["es.typed-array.uint32-array"],"core-js/modules/es.typed-array.uint8-array":["es.typed-array.uint8-array"],"core-js/modules/es.typed-array.uint8-clamped-array":["es.typed-array.uint8-clamped-array"],"core-js/modules/es.weak-map":["es.weak-map"],"core-js/modules/es.weak-set":["es.weak-set"],"core-js/modules/esnext.aggregate-error":["esnext.aggregate-error"],"core-js/modules/esnext.array.is-template-object":["esnext.array.is-template-object"],"core-js/modules/esnext.array.last-index":["esnext.array.last-index"],"core-js/modules/esnext.array.last-item":["esnext.array.last-item"],"core-js/modules/esnext.async-iterator.as-indexed-pairs":["esnext.async-iterator.as-indexed-pairs"],"core-js/modules/esnext.async-iterator.constructor":["esnext.async-iterator.constructor"],"core-js/modules/esnext.async-iterator.drop":["esnext.async-iterator.drop"],"core-js/modules/esnext.async-iterator.every":["esnext.async-iterator.every"],"core-js/modules/esnext.async-iterator.filter":["esnext.async-iterator.filter"],"core-js/modules/esnext.async-iterator.find":["esnext.async-iterator.find"],"core-js/modules/esnext.async-iterator.flat-map":["esnext.async-iterator.flat-map"],"core-js/modules/esnext.async-iterator.for-each":["esnext.async-iterator.for-each"],"core-js/modules/esnext.async-iterator.from":["esnext.async-iterator.from"],"core-js/modules/esnext.async-iterator.map":["esnext.async-iterator.map"],"core-js/modules/esnext.async-iterator.reduce":["esnext.async-iterator.reduce"],"core-js/modules/esnext.async-iterator.some":["esnext.async-iterator.some"],"core-js/modules/esnext.async-iterator.take":["esnext.async-iterator.take"],"core-js/modules/esnext.async-iterator.to-array":["esnext.async-iterator.to-array"],"core-js/modules/esnext.composite-key":["esnext.composite-key"],"core-js/modules/esnext.composite-symbol":["esnext.composite-symbol"],"core-js/modules/esnext.global-this":["esnext.global-this"],"core-js/modules/esnext.iterator.as-indexed-pairs":["esnext.iterator.as-indexed-pairs"],"core-js/modules/esnext.iterator.constructor":["esnext.iterator.constructor"],"core-js/modules/esnext.iterator.drop":["esnext.iterator.drop"],"core-js/modules/esnext.iterator.every":["esnext.iterator.every"],"core-js/modules/esnext.iterator.filter":["esnext.iterator.filter"],"core-js/modules/esnext.iterator.find":["esnext.iterator.find"],"core-js/modules/esnext.iterator.flat-map":["esnext.iterator.flat-map"],"core-js/modules/esnext.iterator.for-each":["esnext.iterator.for-each"],"core-js/modules/esnext.iterator.from":["esnext.iterator.from"],"core-js/modules/esnext.iterator.map":["esnext.iterator.map"],"core-js/modules/esnext.iterator.reduce":["esnext.iterator.reduce"],"core-js/modules/esnext.iterator.some":["esnext.iterator.some"],"core-js/modules/esnext.iterator.take":["esnext.iterator.take"],"core-js/modules/esnext.iterator.to-array":["esnext.iterator.to-array"],"core-js/modules/esnext.map.delete-all":["esnext.map.delete-all"],"core-js/modules/esnext.map.every":["esnext.map.every"],"core-js/modules/esnext.map.filter":["esnext.map.filter"],"core-js/modules/esnext.map.find":["esnext.map.find"],"core-js/modules/esnext.map.find-key":["esnext.map.find-key"],"core-js/modules/esnext.map.from":["esnext.map.from"],"core-js/modules/esnext.map.group-by":["esnext.map.group-by"],"core-js/modules/esnext.map.includes":["esnext.map.includes"],"core-js/modules/esnext.map.key-by":["esnext.map.key-by"],"core-js/modules/esnext.map.key-of":["esnext.map.key-of"],"core-js/modules/esnext.map.map-keys":["esnext.map.map-keys"],"core-js/modules/esnext.map.map-values":["esnext.map.map-values"],"core-js/modules/esnext.map.merge":["esnext.map.merge"],"core-js/modules/esnext.map.of":["esnext.map.of"],"core-js/modules/esnext.map.reduce":["esnext.map.reduce"],"core-js/modules/esnext.map.some":["esnext.map.some"],"core-js/modules/esnext.map.update":["esnext.map.update"],"core-js/modules/esnext.map.update-or-insert":["esnext.map.update-or-insert"],"core-js/modules/esnext.map.upsert":["esnext.map.upsert"],"core-js/modules/esnext.math.clamp":["esnext.math.clamp"],"core-js/modules/esnext.math.deg-per-rad":["esnext.math.deg-per-rad"],"core-js/modules/esnext.math.degrees":["esnext.math.degrees"],"core-js/modules/esnext.math.fscale":["esnext.math.fscale"],"core-js/modules/esnext.math.iaddh":["esnext.math.iaddh"],"core-js/modules/esnext.math.imulh":["esnext.math.imulh"],"core-js/modules/esnext.math.isubh":["esnext.math.isubh"],"core-js/modules/esnext.math.rad-per-deg":["esnext.math.rad-per-deg"],"core-js/modules/esnext.math.radians":["esnext.math.radians"],"core-js/modules/esnext.math.scale":["esnext.math.scale"],"core-js/modules/esnext.math.seeded-prng":["esnext.math.seeded-prng"],"core-js/modules/esnext.math.signbit":["esnext.math.signbit"],"core-js/modules/esnext.math.umulh":["esnext.math.umulh"],"core-js/modules/esnext.number.from-string":["esnext.number.from-string"],"core-js/modules/esnext.object.iterate-entries":["esnext.object.iterate-entries"],"core-js/modules/esnext.object.iterate-keys":["esnext.object.iterate-keys"],"core-js/modules/esnext.object.iterate-values":["esnext.object.iterate-values"],"core-js/modules/esnext.observable":["esnext.observable"],"core-js/modules/esnext.promise.all-settled":["esnext.promise.all-settled"],"core-js/modules/esnext.promise.any":["esnext.promise.any"],"core-js/modules/esnext.promise.try":["esnext.promise.try"],"core-js/modules/esnext.reflect.define-metadata":["esnext.reflect.define-metadata"],"core-js/modules/esnext.reflect.delete-metadata":["esnext.reflect.delete-metadata"],"core-js/modules/esnext.reflect.get-metadata":["esnext.reflect.get-metadata"],"core-js/modules/esnext.reflect.get-metadata-keys":["esnext.reflect.get-metadata-keys"],"core-js/modules/esnext.reflect.get-own-metadata":["esnext.reflect.get-own-metadata"],"core-js/modules/esnext.reflect.get-own-metadata-keys":["esnext.reflect.get-own-metadata-keys"],"core-js/modules/esnext.reflect.has-metadata":["esnext.reflect.has-metadata"],"core-js/modules/esnext.reflect.has-own-metadata":["esnext.reflect.has-own-metadata"],"core-js/modules/esnext.reflect.metadata":["esnext.reflect.metadata"],"core-js/modules/esnext.set.add-all":["esnext.set.add-all"],"core-js/modules/esnext.set.delete-all":["esnext.set.delete-all"],"core-js/modules/esnext.set.difference":["esnext.set.difference"],"core-js/modules/esnext.set.every":["esnext.set.every"],"core-js/modules/esnext.set.filter":["esnext.set.filter"],"core-js/modules/esnext.set.find":["esnext.set.find"],"core-js/modules/esnext.set.from":["esnext.set.from"],"core-js/modules/esnext.set.intersection":["esnext.set.intersection"],"core-js/modules/esnext.set.is-disjoint-from":["esnext.set.is-disjoint-from"],"core-js/modules/esnext.set.is-subset-of":["esnext.set.is-subset-of"],"core-js/modules/esnext.set.is-superset-of":["esnext.set.is-superset-of"],"core-js/modules/esnext.set.join":["esnext.set.join"],"core-js/modules/esnext.set.map":["esnext.set.map"],"core-js/modules/esnext.set.of":["esnext.set.of"],"core-js/modules/esnext.set.reduce":["esnext.set.reduce"],"core-js/modules/esnext.set.some":["esnext.set.some"],"core-js/modules/esnext.set.symmetric-difference":["esnext.set.symmetric-difference"],"core-js/modules/esnext.set.union":["esnext.set.union"],"core-js/modules/esnext.string.at":["esnext.string.at"],"core-js/modules/esnext.string.code-points":["esnext.string.code-points"],"core-js/modules/esnext.string.match-all":["esnext.string.match-all"],"core-js/modules/esnext.string.replace-all":["esnext.string.replace-all"],"core-js/modules/esnext.symbol.async-dispose":["esnext.symbol.async-dispose"],"core-js/modules/esnext.symbol.dispose":["esnext.symbol.dispose"],"core-js/modules/esnext.symbol.observable":["esnext.symbol.observable"],"core-js/modules/esnext.symbol.pattern-match":["esnext.symbol.pattern-match"],"core-js/modules/esnext.symbol.replace-all":["esnext.symbol.replace-all"],"core-js/modules/esnext.weak-map.delete-all":["esnext.weak-map.delete-all"],"core-js/modules/esnext.weak-map.from":["esnext.weak-map.from"],"core-js/modules/esnext.weak-map.of":["esnext.weak-map.of"],"core-js/modules/esnext.weak-map.upsert":["esnext.weak-map.upsert"],"core-js/modules/esnext.weak-set.add-all":["esnext.weak-set.add-all"],"core-js/modules/esnext.weak-set.delete-all":["esnext.weak-set.delete-all"],"core-js/modules/esnext.weak-set.from":["esnext.weak-set.from"],"core-js/modules/esnext.weak-set.of":["esnext.weak-set.of"],"core-js/modules/web.dom-collections.for-each":["web.dom-collections.for-each"],"core-js/modules/web.dom-collections.iterator":["web.dom-collections.iterator"],"core-js/modules/web.immediate":["web.immediate"],"core-js/modules/web.queue-microtask":["web.queue-microtask"],"core-js/modules/web.timers":["web.timers"],"core-js/modules/web.url":["web.url"],"core-js/modules/web.url-search-params":["web.url-search-params"],"core-js/modules/web.url.to-json":["web.url.to-json"],"core-js/proposals":["esnext.aggregate-error","esnext.array.is-template-object","esnext.array.last-index","esnext.array.last-item","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.composite-key","esnext.composite-symbol","esnext.global-this","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.map.update-or-insert","esnext.map.upsert","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.math.umulh","esnext.number.from-string","esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values","esnext.observable","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","esnext.reflect.define-metadata","esnext.reflect.delete-metadata","esnext.reflect.get-metadata","esnext.reflect.get-metadata-keys","esnext.reflect.get-own-metadata","esnext.reflect.get-own-metadata-keys","esnext.reflect.has-metadata","esnext.reflect.has-own-metadata","esnext.reflect.metadata","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.symbol.replace-all","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-map.upsert","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of","web.url","web.url.to-json","web.url-search-params"],"core-js/proposals/array-is-template-object":["esnext.array.is-template-object"],"core-js/proposals/array-last":["esnext.array.last-index","esnext.array.last-item"],"core-js/proposals/collection-methods":["esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.set.add-all","esnext.set.delete-all","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.join","esnext.set.map","esnext.set.reduce","esnext.set.some","esnext.weak-map.delete-all","esnext.weak-set.add-all","esnext.weak-set.delete-all"],"core-js/proposals/collection-of-from":["esnext.map.from","esnext.map.of","esnext.set.from","esnext.set.of","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-set.from","esnext.weak-set.of"],"core-js/proposals/efficient-64-bit-arithmetic":["esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.umulh"],"core-js/proposals/global-this":["esnext.global-this"],"core-js/proposals/iterator-helpers":["esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array"],"core-js/proposals/keys-composition":["esnext.composite-key","esnext.composite-symbol"],"core-js/proposals/map-update-or-insert":["esnext.map.update-or-insert","esnext.map.upsert","esnext.weak-map.upsert"],"core-js/proposals/map-upsert":["esnext.map.update-or-insert","esnext.map.upsert","esnext.weak-map.upsert"],"core-js/proposals/math-extensions":["esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale"],"core-js/proposals/math-signbit":["esnext.math.signbit"],"core-js/proposals/number-from-string":["esnext.number.from-string"],"core-js/proposals/object-iteration":["esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values"],"core-js/proposals/observable":["esnext.observable","esnext.symbol.observable"],"core-js/proposals/pattern-matching":["esnext.symbol.pattern-match"],"core-js/proposals/promise-all-settled":["esnext.promise.all-settled"],"core-js/proposals/promise-any":["esnext.aggregate-error","esnext.promise.any"],"core-js/proposals/promise-try":["esnext.promise.try"],"core-js/proposals/reflect-metadata":["esnext.reflect.define-metadata","esnext.reflect.delete-metadata","esnext.reflect.get-metadata","esnext.reflect.get-metadata-keys","esnext.reflect.get-own-metadata","esnext.reflect.get-own-metadata-keys","esnext.reflect.has-metadata","esnext.reflect.has-own-metadata","esnext.reflect.metadata"],"core-js/proposals/seeded-random":["esnext.math.seeded-prng"],"core-js/proposals/set-methods":["esnext.set.difference","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.symmetric-difference","esnext.set.union"],"core-js/proposals/string-at":["esnext.string.at"],"core-js/proposals/string-code-points":["esnext.string.code-points"],"core-js/proposals/string-match-all":["esnext.string.match-all"],"core-js/proposals/string-replace-all":["esnext.string.replace-all","esnext.symbol.replace-all"],"core-js/proposals/url":["web.url","web.url.to-json","web.url-search-params"],"core-js/proposals/using-statement":["esnext.symbol.async-dispose","esnext.symbol.dispose"],"core-js/stable":["es.symbol","es.symbol.description","es.symbol.async-iterator","es.symbol.has-instance","es.symbol.is-concat-spreadable","es.symbol.iterator","es.symbol.match","es.symbol.match-all","es.symbol.replace","es.symbol.search","es.symbol.species","es.symbol.split","es.symbol.to-primitive","es.symbol.to-string-tag","es.symbol.unscopables","es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.from","es.array.includes","es.array.index-of","es.array.is-array","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.of","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map","es.array-buffer.constructor","es.array-buffer.is-view","es.array-buffer.slice","es.data-view","es.date.now","es.date.to-iso-string","es.date.to-json","es.date.to-primitive","es.date.to-string","es.function.bind","es.function.has-instance","es.function.name","es.global-this","es.json.stringify","es.json.to-string-tag","es.map","es.math.acosh","es.math.asinh","es.math.atanh","es.math.cbrt","es.math.clz32","es.math.cosh","es.math.expm1","es.math.fround","es.math.hypot","es.math.imul","es.math.log10","es.math.log1p","es.math.log2","es.math.sign","es.math.sinh","es.math.tanh","es.math.to-string-tag","es.math.trunc","es.number.constructor","es.number.epsilon","es.number.is-finite","es.number.is-integer","es.number.is-nan","es.number.is-safe-integer","es.number.max-safe-integer","es.number.min-safe-integer","es.number.parse-float","es.number.parse-int","es.number.to-fixed","es.number.to-precision","es.object.assign","es.object.create","es.object.define-getter","es.object.define-properties","es.object.define-property","es.object.define-setter","es.object.entries","es.object.freeze","es.object.from-entries","es.object.get-own-property-descriptor","es.object.get-own-property-descriptors","es.object.get-own-property-names","es.object.get-prototype-of","es.object.is","es.object.is-extensible","es.object.is-frozen","es.object.is-sealed","es.object.keys","es.object.lookup-getter","es.object.lookup-setter","es.object.prevent-extensions","es.object.seal","es.object.set-prototype-of","es.object.to-string","es.object.values","es.parse-float","es.parse-int","es.promise","es.promise.all-settled","es.promise.finally","es.reflect.apply","es.reflect.construct","es.reflect.define-property","es.reflect.delete-property","es.reflect.get","es.reflect.get-own-property-descriptor","es.reflect.get-prototype-of","es.reflect.has","es.reflect.is-extensible","es.reflect.own-keys","es.reflect.prevent-extensions","es.reflect.set","es.reflect.set-prototype-of","es.regexp.constructor","es.regexp.exec","es.regexp.flags","es.regexp.sticky","es.regexp.test","es.regexp.to-string","es.set","es.string.code-point-at","es.string.ends-with","es.string.from-code-point","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.raw","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup","es.typed-array.float32-array","es.typed-array.float64-array","es.typed-array.int8-array","es.typed-array.int16-array","es.typed-array.int32-array","es.typed-array.uint8-array","es.typed-array.uint8-clamped-array","es.typed-array.uint16-array","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string","es.weak-map","es.weak-set","web.dom-collections.for-each","web.dom-collections.iterator","web.immediate","web.queue-microtask","web.timers","web.url","web.url.to-json","web.url-search-params"],"core-js/stable/array":["es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.from","es.array.includes","es.array.index-of","es.array.is-array","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.of","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map","es.string.iterator"],"core-js/stable/array-buffer":["es.array-buffer.constructor","es.array-buffer.is-view","es.array-buffer.slice","es.object.to-string"],"core-js/stable/array-buffer/constructor":["es.array-buffer.constructor","es.object.to-string"],"core-js/stable/array-buffer/is-view":["es.array-buffer.is-view"],"core-js/stable/array-buffer/slice":["es.array-buffer.slice"],"core-js/stable/array/concat":["es.array.concat"],"core-js/stable/array/copy-within":["es.array.copy-within"],"core-js/stable/array/entries":["es.array.iterator"],"core-js/stable/array/every":["es.array.every"],"core-js/stable/array/fill":["es.array.fill"],"core-js/stable/array/filter":["es.array.filter"],"core-js/stable/array/find":["es.array.find"],"core-js/stable/array/find-index":["es.array.find-index"],"core-js/stable/array/flat":["es.array.flat","es.array.unscopables.flat"],"core-js/stable/array/flat-map":["es.array.flat-map","es.array.unscopables.flat-map"],"core-js/stable/array/for-each":["es.array.for-each"],"core-js/stable/array/from":["es.array.from","es.string.iterator"],"core-js/stable/array/includes":["es.array.includes"],"core-js/stable/array/index-of":["es.array.index-of"],"core-js/stable/array/is-array":["es.array.is-array"],"core-js/stable/array/iterator":["es.array.iterator"],"core-js/stable/array/join":["es.array.join"],"core-js/stable/array/keys":["es.array.iterator"],"core-js/stable/array/last-index-of":["es.array.last-index-of"],"core-js/stable/array/map":["es.array.map"],"core-js/stable/array/of":["es.array.of"],"core-js/stable/array/reduce":["es.array.reduce"],"core-js/stable/array/reduce-right":["es.array.reduce-right"],"core-js/stable/array/reverse":["es.array.reverse"],"core-js/stable/array/slice":["es.array.slice"],"core-js/stable/array/some":["es.array.some"],"core-js/stable/array/sort":["es.array.sort"],"core-js/stable/array/splice":["es.array.splice"],"core-js/stable/array/values":["es.array.iterator"],"core-js/stable/array/virtual":["es.array.concat","es.array.copy-within","es.array.every","es.array.fill","es.array.filter","es.array.find","es.array.find-index","es.array.flat","es.array.flat-map","es.array.for-each","es.array.includes","es.array.index-of","es.array.iterator","es.array.join","es.array.last-index-of","es.array.map","es.array.reduce","es.array.reduce-right","es.array.reverse","es.array.slice","es.array.some","es.array.sort","es.array.species","es.array.splice","es.array.unscopables.flat","es.array.unscopables.flat-map"],"core-js/stable/array/virtual/concat":["es.array.concat"],"core-js/stable/array/virtual/copy-within":["es.array.copy-within"],"core-js/stable/array/virtual/entries":["es.array.iterator"],"core-js/stable/array/virtual/every":["es.array.every"],"core-js/stable/array/virtual/fill":["es.array.fill"],"core-js/stable/array/virtual/filter":["es.array.filter"],"core-js/stable/array/virtual/find":["es.array.find"],
"core-js/stable/array/virtual/find-index":["es.array.find-index"],"core-js/stable/array/virtual/flat":["es.array.flat","es.array.unscopables.flat"],"core-js/stable/array/virtual/flat-map":["es.array.flat-map","es.array.unscopables.flat-map"],"core-js/stable/array/virtual/for-each":["es.array.for-each"],"core-js/stable/array/virtual/includes":["es.array.includes"],"core-js/stable/array/virtual/index-of":["es.array.index-of"],"core-js/stable/array/virtual/iterator":["es.array.iterator"],"core-js/stable/array/virtual/join":["es.array.join"],"core-js/stable/array/virtual/keys":["es.array.iterator"],"core-js/stable/array/virtual/last-index-of":["es.array.last-index-of"],"core-js/stable/array/virtual/map":["es.array.map"],"core-js/stable/array/virtual/reduce":["es.array.reduce"],"core-js/stable/array/virtual/reduce-right":["es.array.reduce-right"],"core-js/stable/array/virtual/reverse":["es.array.reverse"],"core-js/stable/array/virtual/slice":["es.array.slice"],"core-js/stable/array/virtual/some":["es.array.some"],"core-js/stable/array/virtual/sort":["es.array.sort"],"core-js/stable/array/virtual/splice":["es.array.splice"],"core-js/stable/array/virtual/values":["es.array.iterator"],"core-js/stable/clear-immediate":["web.immediate"],"core-js/stable/data-view":["es.data-view","es.object.to-string"],"core-js/stable/date":["es.date.now","es.date.to-iso-string","es.date.to-json","es.date.to-primitive","es.date.to-string"],"core-js/stable/date/now":["es.date.now"],"core-js/stable/date/to-iso-string":["es.date.to-iso-string","es.date.to-json"],"core-js/stable/date/to-json":["es.date.to-json"],"core-js/stable/date/to-primitive":["es.date.to-primitive"],"core-js/stable/date/to-string":["es.date.to-string"],"core-js/stable/dom-collections":["es.array.iterator","web.dom-collections.for-each","web.dom-collections.iterator"],"core-js/stable/dom-collections/for-each":["web.dom-collections.for-each"],"core-js/stable/dom-collections/iterator":["web.dom-collections.iterator"],"core-js/stable/function":["es.function.bind","es.function.has-instance","es.function.name"],"core-js/stable/function/bind":["es.function.bind"],"core-js/stable/function/has-instance":["es.function.has-instance"],"core-js/stable/function/name":["es.function.name"],"core-js/stable/function/virtual":["es.function.bind"],"core-js/stable/function/virtual/bind":["es.function.bind"],"core-js/stable/global-this":["es.global-this"],"core-js/stable/instance/bind":["es.function.bind"],"core-js/stable/instance/code-point-at":["es.string.code-point-at"],"core-js/stable/instance/concat":["es.array.concat"],"core-js/stable/instance/copy-within":["es.array.copy-within"],"core-js/stable/instance/ends-with":["es.string.ends-with"],"core-js/stable/instance/entries":["es.array.iterator","web.dom-collections.iterator"],"core-js/stable/instance/every":["es.array.every"],"core-js/stable/instance/fill":["es.array.fill"],"core-js/stable/instance/filter":["es.array.filter"],"core-js/stable/instance/find":["es.array.find"],"core-js/stable/instance/find-index":["es.array.find-index"],"core-js/stable/instance/flags":["es.regexp.flags"],"core-js/stable/instance/flat":["es.array.flat","es.array.unscopables.flat"],"core-js/stable/instance/flat-map":["es.array.flat-map","es.array.unscopables.flat-map"],"core-js/stable/instance/for-each":["es.array.for-each","web.dom-collections.iterator"],"core-js/stable/instance/includes":["es.array.includes","es.string.includes"],"core-js/stable/instance/index-of":["es.array.index-of"],"core-js/stable/instance/keys":["es.array.iterator","web.dom-collections.iterator"],"core-js/stable/instance/last-index-of":["es.array.last-index-of"],"core-js/stable/instance/map":["es.array.map"],"core-js/stable/instance/match-all":["es.string.match-all"],"core-js/stable/instance/pad-end":["es.string.pad-end"],"core-js/stable/instance/pad-start":["es.string.pad-start"],"core-js/stable/instance/reduce":["es.array.reduce"],"core-js/stable/instance/reduce-right":["es.array.reduce-right"],"core-js/stable/instance/repeat":["es.string.repeat"],"core-js/stable/instance/reverse":["es.array.reverse"],"core-js/stable/instance/slice":["es.array.slice"],"core-js/stable/instance/some":["es.array.some"],"core-js/stable/instance/sort":["es.array.sort"],"core-js/stable/instance/splice":["es.array.splice"],"core-js/stable/instance/starts-with":["es.string.starts-with"],"core-js/stable/instance/trim":["es.string.trim"],"core-js/stable/instance/trim-end":["es.string.trim-end"],"core-js/stable/instance/trim-left":["es.string.trim-start"],"core-js/stable/instance/trim-right":["es.string.trim-end"],"core-js/stable/instance/trim-start":["es.string.trim-start"],"core-js/stable/instance/values":["es.array.iterator","web.dom-collections.iterator"],"core-js/stable/json":["es.json.stringify","es.json.to-string-tag"],"core-js/stable/json/stringify":["es.json.stringify"],"core-js/stable/json/to-string-tag":["es.json.to-string-tag"],"core-js/stable/map":["es.map","es.object.to-string","es.string.iterator","web.dom-collections.iterator"],"core-js/stable/math":["es.math.acosh","es.math.asinh","es.math.atanh","es.math.cbrt","es.math.clz32","es.math.cosh","es.math.expm1","es.math.fround","es.math.hypot","es.math.imul","es.math.log10","es.math.log1p","es.math.log2","es.math.sign","es.math.sinh","es.math.tanh","es.math.to-string-tag","es.math.trunc"],"core-js/stable/math/acosh":["es.math.acosh"],"core-js/stable/math/asinh":["es.math.asinh"],"core-js/stable/math/atanh":["es.math.atanh"],"core-js/stable/math/cbrt":["es.math.cbrt"],"core-js/stable/math/clz32":["es.math.clz32"],"core-js/stable/math/cosh":["es.math.cosh"],"core-js/stable/math/expm1":["es.math.expm1"],"core-js/stable/math/fround":["es.math.fround"],"core-js/stable/math/hypot":["es.math.hypot"],"core-js/stable/math/imul":["es.math.imul"],"core-js/stable/math/log10":["es.math.log10"],"core-js/stable/math/log1p":["es.math.log1p"],"core-js/stable/math/log2":["es.math.log2"],"core-js/stable/math/sign":["es.math.sign"],"core-js/stable/math/sinh":["es.math.sinh"],"core-js/stable/math/tanh":["es.math.tanh"],"core-js/stable/math/to-string-tag":["es.math.to-string-tag"],"core-js/stable/math/trunc":["es.math.trunc"],"core-js/stable/number":["es.number.constructor","es.number.epsilon","es.number.is-finite","es.number.is-integer","es.number.is-nan","es.number.is-safe-integer","es.number.max-safe-integer","es.number.min-safe-integer","es.number.parse-float","es.number.parse-int","es.number.to-fixed","es.number.to-precision"],"core-js/stable/number/constructor":["es.number.constructor"],"core-js/stable/number/epsilon":["es.number.epsilon"],"core-js/stable/number/is-finite":["es.number.is-finite"],"core-js/stable/number/is-integer":["es.number.is-integer"],"core-js/stable/number/is-nan":["es.number.is-nan"],"core-js/stable/number/is-safe-integer":["es.number.is-safe-integer"],"core-js/stable/number/max-safe-integer":["es.number.max-safe-integer"],"core-js/stable/number/min-safe-integer":["es.number.min-safe-integer"],"core-js/stable/number/parse-float":["es.number.parse-float"],"core-js/stable/number/parse-int":["es.number.parse-int"],"core-js/stable/number/to-fixed":["es.number.to-fixed"],"core-js/stable/number/to-precision":["es.number.to-precision"],"core-js/stable/number/virtual":["es.number.to-fixed","es.number.to-precision"],"core-js/stable/number/virtual/to-fixed":["es.number.to-fixed"],"core-js/stable/number/virtual/to-precision":["es.number.to-precision"],"core-js/stable/object":["es.symbol","es.json.to-string-tag","es.math.to-string-tag","es.object.assign","es.object.create","es.object.define-getter","es.object.define-properties","es.object.define-property","es.object.define-setter","es.object.entries","es.object.freeze","es.object.from-entries","es.object.get-own-property-descriptor","es.object.get-own-property-descriptors","es.object.get-own-property-names","es.object.get-prototype-of","es.object.is","es.object.is-extensible","es.object.is-frozen","es.object.is-sealed","es.object.keys","es.object.lookup-getter","es.object.lookup-setter","es.object.prevent-extensions","es.object.seal","es.object.set-prototype-of","es.object.to-string","es.object.values"],"core-js/stable/object/assign":["es.object.assign"],"core-js/stable/object/create":["es.object.create"],"core-js/stable/object/define-getter":["es.object.define-getter"],"core-js/stable/object/define-properties":["es.object.define-properties"],"core-js/stable/object/define-property":["es.object.define-property"],"core-js/stable/object/define-setter":["es.object.define-setter"],"core-js/stable/object/entries":["es.object.entries"],"core-js/stable/object/freeze":["es.object.freeze"],"core-js/stable/object/from-entries":["es.array.iterator","es.object.from-entries"],"core-js/stable/object/get-own-property-descriptor":["es.object.get-own-property-descriptor"],"core-js/stable/object/get-own-property-descriptors":["es.object.get-own-property-descriptors"],"core-js/stable/object/get-own-property-names":["es.object.get-own-property-names"],"core-js/stable/object/get-own-property-symbols":["es.symbol"],"core-js/stable/object/get-prototype-of":["es.object.get-prototype-of"],"core-js/stable/object/is":["es.object.is"],"core-js/stable/object/is-extensible":["es.object.is-extensible"],"core-js/stable/object/is-frozen":["es.object.is-frozen"],"core-js/stable/object/is-sealed":["es.object.is-sealed"],"core-js/stable/object/keys":["es.object.keys"],"core-js/stable/object/lookup-getter":["es.object.lookup-setter"],"core-js/stable/object/lookup-setter":["es.object.lookup-setter"],"core-js/stable/object/prevent-extensions":["es.object.prevent-extensions"],"core-js/stable/object/seal":["es.object.seal"],"core-js/stable/object/set-prototype-of":["es.object.set-prototype-of"],"core-js/stable/object/to-string":["es.json.to-string-tag","es.math.to-string-tag","es.object.to-string"],"core-js/stable/object/values":["es.object.values"],"core-js/stable/parse-float":["es.parse-float"],"core-js/stable/parse-int":["es.parse-int"],"core-js/stable/promise":["es.object.to-string","es.promise","es.promise.all-settled","es.promise.finally","es.string.iterator","web.dom-collections.iterator"],"core-js/stable/promise/all-settled":["es.promise","es.promise.all-settled"],"core-js/stable/promise/finally":["es.promise","es.promise.finally"],"core-js/stable/queue-microtask":["web.queue-microtask"],"core-js/stable/reflect":["es.reflect.apply","es.reflect.construct","es.reflect.define-property","es.reflect.delete-property","es.reflect.get","es.reflect.get-own-property-descriptor","es.reflect.get-prototype-of","es.reflect.has","es.reflect.is-extensible","es.reflect.own-keys","es.reflect.prevent-extensions","es.reflect.set","es.reflect.set-prototype-of"],"core-js/stable/reflect/apply":["es.reflect.apply"],"core-js/stable/reflect/construct":["es.reflect.construct"],"core-js/stable/reflect/define-property":["es.reflect.define-property"],"core-js/stable/reflect/delete-property":["es.reflect.delete-property"],"core-js/stable/reflect/get":["es.reflect.get"],"core-js/stable/reflect/get-own-property-descriptor":["es.reflect.get-own-property-descriptor"],"core-js/stable/reflect/get-prototype-of":["es.reflect.get-prototype-of"],"core-js/stable/reflect/has":["es.reflect.has"],"core-js/stable/reflect/is-extensible":["es.reflect.is-extensible"],"core-js/stable/reflect/own-keys":["es.reflect.own-keys"],"core-js/stable/reflect/prevent-extensions":["es.reflect.prevent-extensions"],"core-js/stable/reflect/set":["es.reflect.set"],"core-js/stable/reflect/set-prototype-of":["es.reflect.set-prototype-of"],"core-js/stable/regexp":["es.regexp.constructor","es.regexp.exec","es.regexp.flags","es.regexp.sticky","es.regexp.test","es.regexp.to-string","es.string.match","es.string.replace","es.string.search","es.string.split"],"core-js/stable/regexp/constructor":["es.regexp.constructor"],"core-js/stable/regexp/flags":["es.regexp.flags"],"core-js/stable/regexp/match":["es.string.match"],"core-js/stable/regexp/replace":["es.string.replace"],"core-js/stable/regexp/search":["es.string.search"],"core-js/stable/regexp/split":["es.string.split"],"core-js/stable/regexp/sticky":["es.regexp.sticky"],"core-js/stable/regexp/test":["es.regexp.exec","es.regexp.test"],"core-js/stable/regexp/to-string":["es.regexp.to-string"],"core-js/stable/set":["es.object.to-string","es.set","es.string.iterator","web.dom-collections.iterator"],"core-js/stable/set-immediate":["web.immediate"],"core-js/stable/set-interval":["web.timers"],"core-js/stable/set-timeout":["web.timers"],"core-js/stable/string":["es.regexp.exec","es.string.code-point-at","es.string.ends-with","es.string.from-code-point","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.raw","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup"],"core-js/stable/string/anchor":["es.string.anchor"],"core-js/stable/string/big":["es.string.big"],"core-js/stable/string/blink":["es.string.blink"],"core-js/stable/string/bold":["es.string.bold"],"core-js/stable/string/code-point-at":["es.string.code-point-at"],"core-js/stable/string/ends-with":["es.string.ends-with"],"core-js/stable/string/fixed":["es.string.fixed"],"core-js/stable/string/fontcolor":["es.string.fontcolor"],"core-js/stable/string/fontsize":["es.string.fontsize"],"core-js/stable/string/from-code-point":["es.string.from-code-point"],"core-js/stable/string/includes":["es.string.includes"],"core-js/stable/string/italics":["es.string.italics"],"core-js/stable/string/iterator":["es.string.iterator"],"core-js/stable/string/link":["es.string.link"],"core-js/stable/string/match":["es.regexp.exec","es.string.match"],"core-js/stable/string/match-all":["es.string.match-all"],"core-js/stable/string/pad-end":["es.string.pad-end"],"core-js/stable/string/pad-start":["es.string.pad-start"],"core-js/stable/string/raw":["es.string.raw"],"core-js/stable/string/repeat":["es.string.repeat"],"core-js/stable/string/replace":["es.regexp.exec","es.string.replace"],"core-js/stable/string/search":["es.regexp.exec","es.string.search"],"core-js/stable/string/small":["es.string.small"],"core-js/stable/string/split":["es.regexp.exec","es.string.split"],"core-js/stable/string/starts-with":["es.string.starts-with"],"core-js/stable/string/strike":["es.string.strike"],"core-js/stable/string/sub":["es.string.sub"],"core-js/stable/string/sup":["es.string.sup"],"core-js/stable/string/trim":["es.string.trim"],"core-js/stable/string/trim-end":["es.string.trim-end"],"core-js/stable/string/trim-left":["es.string.trim-start"],"core-js/stable/string/trim-right":["es.string.trim-end"],"core-js/stable/string/trim-start":["es.string.trim-start"],"core-js/stable/string/virtual":["es.string.code-point-at","es.string.ends-with","es.string.includes","es.string.iterator","es.string.match","es.string.match-all","es.string.pad-end","es.string.pad-start","es.string.repeat","es.string.replace","es.string.search","es.string.split","es.string.starts-with","es.string.trim","es.string.trim-end","es.string.trim-start","es.string.anchor","es.string.big","es.string.blink","es.string.bold","es.string.fixed","es.string.fontcolor","es.string.fontsize","es.string.italics","es.string.link","es.string.small","es.string.strike","es.string.sub","es.string.sup"],"core-js/stable/string/virtual/anchor":["es.string.anchor"],"core-js/stable/string/virtual/big":["es.string.big"],"core-js/stable/string/virtual/blink":["es.string.blink"],"core-js/stable/string/virtual/bold":["es.string.bold"],"core-js/stable/string/virtual/code-point-at":["es.string.code-point-at"],"core-js/stable/string/virtual/ends-with":["es.string.ends-with"],"core-js/stable/string/virtual/fixed":["es.string.fixed"],"core-js/stable/string/virtual/fontcolor":["es.string.fontcolor"],"core-js/stable/string/virtual/fontsize":["es.string.fontsize"],"core-js/stable/string/virtual/includes":["es.string.includes"],"core-js/stable/string/virtual/italics":["es.string.italics"],"core-js/stable/string/virtual/iterator":["es.string.iterator"],"core-js/stable/string/virtual/link":["es.string.link"],"core-js/stable/string/virtual/match-all":["es.string.match-all"],"core-js/stable/string/virtual/pad-end":["es.string.pad-end"],"core-js/stable/string/virtual/pad-start":["es.string.pad-start"],"core-js/stable/string/virtual/repeat":["es.string.repeat"],"core-js/stable/string/virtual/small":["es.string.small"],"core-js/stable/string/virtual/starts-with":["es.string.starts-with"],"core-js/stable/string/virtual/strike":["es.string.strike"],"core-js/stable/string/virtual/sub":["es.string.sub"],"core-js/stable/string/virtual/sup":["es.string.sup"],"core-js/stable/string/virtual/trim":["es.string.trim"],"core-js/stable/string/virtual/trim-end":["es.string.trim-end"],"core-js/stable/string/virtual/trim-left":["es.string.trim-start"],"core-js/stable/string/virtual/trim-right":["es.string.trim-end"],"core-js/stable/string/virtual/trim-start":["es.string.trim-start"],"core-js/stable/symbol":["es.symbol","es.symbol.description","es.symbol.async-iterator","es.symbol.has-instance","es.symbol.is-concat-spreadable","es.symbol.iterator","es.symbol.match","es.symbol.match-all","es.symbol.replace","es.symbol.search","es.symbol.species","es.symbol.split","es.symbol.to-primitive","es.symbol.to-string-tag","es.symbol.unscopables","es.array.concat","es.json.to-string-tag","es.math.to-string-tag","es.object.to-string"],"core-js/stable/symbol/async-iterator":["es.symbol.async-iterator"],"core-js/stable/symbol/description":["es.symbol.description"],"core-js/stable/symbol/for":["es.symbol"],"core-js/stable/symbol/has-instance":["es.symbol.has-instance","es.function.has-instance"],"core-js/stable/symbol/is-concat-spreadable":["es.symbol.is-concat-spreadable","es.array.concat"],"core-js/stable/symbol/iterator":["es.symbol.iterator","es.string.iterator","web.dom-collections.iterator"],"core-js/stable/symbol/key-for":["es.symbol"],"core-js/stable/symbol/match":["es.symbol.match","es.string.match"],"core-js/stable/symbol/match-all":["es.symbol.match-all","es.string.match-all"],"core-js/stable/symbol/replace":["es.symbol.replace","es.string.replace"],"core-js/stable/symbol/search":["es.symbol.search","es.string.search"],"core-js/stable/symbol/species":["es.symbol.species"],"core-js/stable/symbol/split":["es.symbol.split","es.string.split"],"core-js/stable/symbol/to-primitive":["es.symbol.to-primitive"],"core-js/stable/symbol/to-string-tag":["es.symbol.to-string-tag","es.json.to-string-tag","es.math.to-string-tag","es.object.to-string"],"core-js/stable/symbol/unscopables":["es.symbol.unscopables"],"core-js/stable/typed-array":["es.object.to-string","es.typed-array.float32-array","es.typed-array.float64-array","es.typed-array.int8-array","es.typed-array.int16-array","es.typed-array.int32-array","es.typed-array.uint8-array","es.typed-array.uint8-clamped-array","es.typed-array.uint16-array","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/copy-within":["es.typed-array.copy-within"],"core-js/stable/typed-array/entries":["es.typed-array.iterator"],"core-js/stable/typed-array/every":["es.typed-array.every"],"core-js/stable/typed-array/fill":["es.typed-array.fill"],"core-js/stable/typed-array/filter":["es.typed-array.filter"],"core-js/stable/typed-array/find":["es.typed-array.find"],"core-js/stable/typed-array/find-index":["es.typed-array.find-index"],"core-js/stable/typed-array/float32-array":["es.object.to-string","es.typed-array.float32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/float64-array":["es.object.to-string","es.typed-array.float64-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/for-each":["es.typed-array.for-each"],"core-js/stable/typed-array/from":["es.typed-array.from"],"core-js/stable/typed-array/includes":["es.typed-array.includes"],"core-js/stable/typed-array/index-of":["es.typed-array.index-of"],"core-js/stable/typed-array/int16-array":["es.object.to-string","es.typed-array.int16-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/int32-array":["es.object.to-string","es.typed-array.int32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/int8-array":["es.object.to-string","es.typed-array.int8-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/iterator":["es.typed-array.iterator"],"core-js/stable/typed-array/join":["es.typed-array.join"],"core-js/stable/typed-array/keys":["es.typed-array.iterator"],"core-js/stable/typed-array/last-index-of":["es.typed-array.last-index-of"],"core-js/stable/typed-array/map":["es.typed-array.map"],"core-js/stable/typed-array/of":["es.typed-array.of"],"core-js/stable/typed-array/reduce":["es.typed-array.reduce"],"core-js/stable/typed-array/reduce-right":["es.typed-array.reduce-right"],"core-js/stable/typed-array/reverse":["es.typed-array.reverse"],"core-js/stable/typed-array/set":["es.typed-array.set"],"core-js/stable/typed-array/slice":["es.typed-array.slice"],"core-js/stable/typed-array/some":["es.typed-array.some"],"core-js/stable/typed-array/sort":["es.typed-array.sort"],"core-js/stable/typed-array/subarray":["es.typed-array.subarray"],"core-js/stable/typed-array/to-locale-string":["es.typed-array.to-locale-string"],"core-js/stable/typed-array/to-string":["es.typed-array.to-string"],"core-js/stable/typed-array/uint16-array":["es.object.to-string","es.typed-array.uint16-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/uint32-array":["es.object.to-string","es.typed-array.uint32-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/uint8-array":["es.object.to-string","es.typed-array.uint8-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/uint8-clamped-array":["es.object.to-string","es.typed-array.uint8-clamped-array","es.typed-array.copy-within","es.typed-array.every","es.typed-array.fill","es.typed-array.filter","es.typed-array.find","es.typed-array.find-index","es.typed-array.for-each","es.typed-array.from","es.typed-array.includes","es.typed-array.index-of","es.typed-array.iterator","es.typed-array.join","es.typed-array.last-index-of","es.typed-array.map","es.typed-array.of","es.typed-array.reduce","es.typed-array.reduce-right","es.typed-array.reverse","es.typed-array.set","es.typed-array.slice","es.typed-array.some","es.typed-array.sort","es.typed-array.subarray","es.typed-array.to-locale-string","es.typed-array.to-string"],"core-js/stable/typed-array/values":["es.typed-array.iterator"],"core-js/stable/url":["web.url","web.url.to-json","web.url-search-params"],"core-js/stable/url-search-params":["web.url-search-params"],"core-js/stable/url/to-json":["web.url.to-json"],"core-js/stable/weak-map":["es.object.to-string","es.weak-map","web.dom-collections.iterator"],"core-js/stable/weak-set":["es.object.to-string","es.weak-set","web.dom-collections.iterator"],"core-js/stage":["esnext.aggregate-error","esnext.array.is-template-object","esnext.array.last-index","esnext.array.last-item","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.composite-key","esnext.composite-symbol","esnext.global-this","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.map.update-or-insert","esnext.map.upsert","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.math.umulh","esnext.number.from-string","esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values","esnext.observable","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","esnext.reflect.define-metadata","esnext.reflect.delete-metadata","esnext.reflect.get-metadata","esnext.reflect.get-metadata-keys","esnext.reflect.get-own-metadata","esnext.reflect.get-own-metadata-keys","esnext.reflect.has-metadata","esnext.reflect.has-own-metadata","esnext.reflect.metadata","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.symbol.replace-all","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-map.upsert","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of","web.url","web.url.to-json","web.url-search-params"],
"core-js/stage/0":["esnext.aggregate-error","esnext.array.is-template-object","esnext.array.last-index","esnext.array.last-item","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.composite-key","esnext.composite-symbol","esnext.global-this","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.map.update-or-insert","esnext.map.upsert","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.math.umulh","esnext.number.from-string","esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values","esnext.observable","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.symbol.replace-all","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-map.upsert","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of","web.url","web.url.to-json","web.url-search-params"],"core-js/stage/1":["esnext.aggregate-error","esnext.array.is-template-object","esnext.array.last-index","esnext.array.last-item","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.composite-key","esnext.composite-symbol","esnext.global-this","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.map.update-or-insert","esnext.map.upsert","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.number.from-string","esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values","esnext.observable","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.symbol.replace-all","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-map.upsert","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of"],"core-js/stage/2":["esnext.aggregate-error","esnext.array.is-template-object","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.global-this","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.update-or-insert","esnext.map.upsert","esnext.promise.all-settled","esnext.promise.any","esnext.set.difference","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.symmetric-difference","esnext.set.union","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.replace-all","esnext.weak-map.upsert"],"core-js/stage/3":["esnext.aggregate-error","esnext.global-this","esnext.promise.all-settled","esnext.promise.any","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.replace-all"],"core-js/stage/4":["esnext.global-this","esnext.promise.all-settled","esnext.string.match-all"],"core-js/stage/pre":["esnext.aggregate-error","esnext.array.is-template-object","esnext.array.last-index","esnext.array.last-item","esnext.async-iterator.constructor","esnext.async-iterator.as-indexed-pairs","esnext.async-iterator.drop","esnext.async-iterator.every","esnext.async-iterator.filter","esnext.async-iterator.find","esnext.async-iterator.flat-map","esnext.async-iterator.for-each","esnext.async-iterator.from","esnext.async-iterator.map","esnext.async-iterator.reduce","esnext.async-iterator.some","esnext.async-iterator.take","esnext.async-iterator.to-array","esnext.composite-key","esnext.composite-symbol","esnext.global-this","esnext.iterator.constructor","esnext.iterator.as-indexed-pairs","esnext.iterator.drop","esnext.iterator.every","esnext.iterator.filter","esnext.iterator.find","esnext.iterator.flat-map","esnext.iterator.for-each","esnext.iterator.from","esnext.iterator.map","esnext.iterator.reduce","esnext.iterator.some","esnext.iterator.take","esnext.iterator.to-array","esnext.map.delete-all","esnext.map.every","esnext.map.filter","esnext.map.find","esnext.map.find-key","esnext.map.from","esnext.map.group-by","esnext.map.includes","esnext.map.key-by","esnext.map.key-of","esnext.map.map-keys","esnext.map.map-values","esnext.map.merge","esnext.map.of","esnext.map.reduce","esnext.map.some","esnext.map.update","esnext.map.update-or-insert","esnext.map.upsert","esnext.math.clamp","esnext.math.deg-per-rad","esnext.math.degrees","esnext.math.fscale","esnext.math.iaddh","esnext.math.imulh","esnext.math.isubh","esnext.math.rad-per-deg","esnext.math.radians","esnext.math.scale","esnext.math.seeded-prng","esnext.math.signbit","esnext.math.umulh","esnext.number.from-string","esnext.object.iterate-entries","esnext.object.iterate-keys","esnext.object.iterate-values","esnext.observable","esnext.promise.all-settled","esnext.promise.any","esnext.promise.try","esnext.reflect.define-metadata","esnext.reflect.delete-metadata","esnext.reflect.get-metadata","esnext.reflect.get-metadata-keys","esnext.reflect.get-own-metadata","esnext.reflect.get-own-metadata-keys","esnext.reflect.has-metadata","esnext.reflect.has-own-metadata","esnext.reflect.metadata","esnext.set.add-all","esnext.set.delete-all","esnext.set.difference","esnext.set.every","esnext.set.filter","esnext.set.find","esnext.set.from","esnext.set.intersection","esnext.set.is-disjoint-from","esnext.set.is-subset-of","esnext.set.is-superset-of","esnext.set.join","esnext.set.map","esnext.set.of","esnext.set.reduce","esnext.set.some","esnext.set.symmetric-difference","esnext.set.union","esnext.string.at","esnext.string.code-points","esnext.string.match-all","esnext.string.replace-all","esnext.symbol.async-dispose","esnext.symbol.dispose","esnext.symbol.observable","esnext.symbol.pattern-match","esnext.symbol.replace-all","esnext.weak-map.delete-all","esnext.weak-map.from","esnext.weak-map.of","esnext.weak-map.upsert","esnext.weak-set.add-all","esnext.weak-set.delete-all","esnext.weak-set.from","esnext.weak-set.of","web.url","web.url.to-json","web.url-search-params"],"core-js/web":["web.dom-collections.for-each","web.dom-collections.iterator","web.immediate","web.queue-microtask","web.timers","web.url","web.url.to-json","web.url-search-params"],"core-js/web/dom-collections":["web.dom-collections.for-each","web.dom-collections.iterator"],"core-js/web/immediate":["web.immediate"],"core-js/web/queue-microtask":["web.queue-microtask"],"core-js/web/timers":["web.timers"],"core-js/web/url":["web.url","web.url.to-json","web.url-search-params"],"core-js/web/url-search-params":["web.url-search-params"]};function SK(e){return"@babel/polyfill"===e||"babel-polyfill"===e}function TK(e){return"string"==typeof e&&(e=e.replace(/\\/g,"/").replace(/(\/(index)?)?(\.js)?$/i,"").toLowerCase()),tG(wK,e)&&wK[e]}var jK="\n  `@babel/polyfill` is deprecated. Please, use required parts of `core-js`\n  and `regenerator-runtime/runtime` separately";function AK(e,t){var r=t.corejs,n=t.include,a=t.exclude,s=t.polyfillTargets,i=t.debug,o=HW(iV,n,a,s,null),l=new Set(YG(r.version));function c(e,t){return!!t&&(1!==t.length||!o.has(t[0])||!l.has(t[0])||cG(t[0])!==e)}return{name:"corejs3-entry",visitor:{ImportDeclaration:function(e){var t=sG(e);if(t)if(SK(t))console.warn(jK);else{var r=TK(t);c(t,r)&&this.replaceBySeparateModulesImport(e,r)}},Program:{enter:function(e){var t=this;e.get("body").forEach(function(e){var r=iG(e);if(r)if(SK(r))console.warn(jK);else{var n=TK(r);c(r,n)&&t.replaceBySeparateModulesImport(e,n)}})},exit:function(e){for(var t,r=this,n=nG(o,this.polyfillsSet,l),a=U(Array.from(n).reverse());!(t=a()).done;){var s=t.value;this.injectedPolyfills.has(s)||uG(e,s)}n.forEach(function(e){return r.injectedPolyfills.add(e)})}}},pre:function(){this.injectedPolyfills=new Set,this.polyfillsSet=new Set,this.replaceBySeparateModulesImport=function(e,t){for(var r,n=U(t);!(r=n()).done;){var a=r.value;this.polyfillsSet.add(a)}e.remove()}},post:function(){i&&rV("core-js",this.injectedPolyfills.size>0,this.injectedPolyfills,this.file.opts.filename,s,iV)}}}function PK(e){return"regenerator-runtime/runtime"===e}function kK(){return{name:"regenerator-entry",visitor:{ImportDeclaration:function(e){PK(sG(e))&&(this.regeneratorImportExcluded=!0,e.remove())},Program:function(e){var t=this;e.get("body").forEach(function(e){PK(iG(e))&&(t.regeneratorImportExcluded=!0,e.remove())})}},pre:function(){this.regeneratorImportExcluded=!1},post:function(){if(this.opts.debug&&this.regeneratorImportExcluded){var e=this.file.opts.filename;"test"===si.env.BABEL_ENV&&(e=e.replace(/\\/g,"/")),console.log("\n["+e+"] Based on your targets, regenerator-runtime import excluded.")}}}}var CK={withProposals:{withoutBugfixes:TV,withBugfixes:Object.assign({},TV,jV)},withoutProposals:{withoutBugfixes:aG(TV,qV.proposalPlugins),withBugfixes:aG(Object.assign({},TV,jV),qV.proposalPlugins)}};var DK=function(e){var t=SV[e];if(!t)throw new Error('Could not find plugin "'+e+'". Ensure there is an entry in ./available-plugins.js for it.');return t},_K=function(e){return e.reduce(function(e,t){return e[t.match(/^(es|es6|es7|esnext|web)\./)?"builtIns":"plugins"].add(t),e},{all:e,plugins:new Set,builtIns:new Set})};function IK(e){return!!(null==e?void 0:e.supportsStaticESM)}function OK(e){return!!(null==e?void 0:e.supportsDynamicImport)}function NK(e){return!!(null==e?void 0:e.supportsExportNamespaceFrom)}function BK(e){return!!(null==e?void 0:e.supportsTopLevelAwait)}var FK=NI(function(e,t){e.assertVersion(7);var r=GV(t),n=r.bugfixes,a=r.configPath,s=r.debug,i=r.exclude,o=r.forceAllTransforms,l=r.ignoreBrowserslistConfig,c=r.include,u=r.loose,p=r.modules,d=r.shippedProposals,f=r.spec,h=r.targets,m=r.useBuiltIns,y=r.corejs,g=y.version,v=y.proposals,b=r.browserslistEnv,x=!1;(null==h?void 0:h.uglify)&&(x=!0,delete h.uglify,console.log(""),console.log("The uglify target has been deprecated. Set the top level"),console.log("option `forceAllTransforms: true` instead."),console.log("")),(null==h?void 0:h.esmodules)&&h.browsers&&(console.log(""),console.log("@babel/preset-env: esmodules and browsers targets have been specified together."),console.log("`browsers` target, `"+h.browsers+"` will be ignored."),console.log(""));var E,w,S=ZW(h,{ignoreBrowserslistConfig:l,configPath:a,browserslistEnv:b}),T=_K(c),j=_K(i),A=o||x?{}:S,P=function(e,t){return e?t?CK.withProposals.withBugfixes:CK.withProposals.withoutBugfixes:t?CK.withoutProposals.withBugfixes:CK.withoutProposals.withoutBugfixes}(d,n),k="auto"===p&&(null==e.caller?void 0:e.caller(NK))||!1===p&&!KW("proposal-export-namespace-from",A,{compatData:P,includes:T.plugins,excludes:j.plugins}),C=function(e){var t=e.modules,r=e.transformations,n=e.shouldTransformESM,a=e.shouldTransformDynamicImport,s=e.shouldTransformExportNamespaceFrom,i=e.shouldParseTopLevelAwait,o=[];return!1!==t&&r[t]?(n&&o.push(r[t]),a&&n&&"umd"!==t?o.push("proposal-dynamic-import"):(a&&console.warn("Dynamic import can only be supported when transforming ES modules to AMD, CommonJS or SystemJS. Only the parser plugin will be enabled."),o.push("syntax-dynamic-import"))):o.push("syntax-dynamic-import"),s?o.push("proposal-export-namespace-from"):o.push("syntax-export-namespace-from"),i&&o.push("syntax-top-level-await"),o}({modules:p,transformations:sV,shouldTransformESM:"auto"!==p||!(null==e.caller?void 0:e.caller(IK)),shouldTransformDynamicImport:"auto"!==p||!(null==e.caller?void 0:e.caller(OK)),shouldTransformExportNamespaceFrom:!k,shouldParseTopLevelAwait:!e.caller||e.caller(BK)}),D=HW(P,T.plugins,j.plugins,A,C,{loose:u}.loose?aV:null,d.pluginSyntaxMap);w=XV,(E=D).forEach(function(e){var t;null==(t=w[e])||t.forEach(function(e){return E.delete(e)})});var _=function(e){var t=e.useBuiltIns,r=e.corejs,n=e.polyfillTargets,a=e.include,s=e.exclude,i=e.proposals,o=e.shippedProposals,l=e.regenerator,c=e.debug,u=[];if("usage"===t||"entry"===t){var p={corejs:r,polyfillTargets:n,include:a,exclude:s,proposals:i,shippedProposals:o,regenerator:l,debug:c};r&&("usage"===t?(2===r.major?u.push([fG,p]):u.push([bK,p]),l&&u.push([xK,p])):2===r.major?u.push([EK,p]):(u.push([AK,p]),l||u.push([kK,p])))}return u}({useBuiltIns:m,corejs:g,polyfillTargets:S,include:T.builtIns,exclude:j.builtIns,proposals:v,shippedProposals:d,regenerator:D.has("transform-regenerator"),debug:s}),I=!1!==m,O=Array.from(D).map(function(e){return"proposal-class-properties"===e||"proposal-private-methods"===e||"proposal-private-property-in-object"===e?[DK(e),{loose:u?"#__internal__@babel/preset-env__prefer-true-but-false-is-ok-if-it-prevents-an-error":"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"}]:[DK(e),{spec:f,loose:u,useBuiltIns:I}]}).concat(_);return s&&(console.log("@babel/preset-env: `DEBUG` option"),console.log("\nUsing targets:"),console.log(JSON.stringify(function(e){return Object.keys(e).reduce(function(t,r){var n=e[r];return"string"==typeof n&&OW[r]!==n&&(n=VW(n)),t[r]=n,t},{})}(S),null,2)),console.log("\nUsing modules transform: "+p.toString()),console.log("\nUsing plugins:"),D.forEach(function(e){tV(e,S,TV)}),m?console.log("\nUsing polyfills with `"+m+"` option:"):console.log("\nUsing polyfills: No polyfills were added, since the `useBuiltIns` option was not set.")),{plugins:O}}),RK=NI(function(e,t){var r=t.all,n=t.allowDeclareFields;return e.assertVersion(7),{plugins:[[bR,{all:r,allowDeclareFields:n}]]}}),MK=new Map([["react",["cloneElement","createContext","createElement","createFactory","createRef","forwardRef","isValidElement","memo","lazy"]],["react-dom",["createPortal"]]]),LK=NI(function(e){return e.assertVersion(7),{name:"transform-react-pure-annotations",visitor:{CallExpression:function(e){(function(e){if(!we(e.node.callee)){for(var t,r=e.get("callee"),n=U(MK);!(t=n()).done;)for(var a,s=t.value,i=s[0],o=U(s[1]);!(a=o()).done;){var l=a.value;if(r.referencesImport(i,l))return!0}return!1}for(var c,u=U(MK);!(c=u()).done;){var p=c.value,d=p[0],f=p[1],h=e.get("callee.object");if(h.referencesImport(d,"default")||h.referencesImport(d,"*")){for(var m,y=U(f);!(m=y()).done;){var g=m.value;if(he(e.node.callee.property,{name:g}))return!0}return!1}}return!1})(e)&&uO(e)}}}});var UK,WK,VK=NI(function(e,t){e.assertVersion(7);var r=t.pragma,n=t.pragmaFrag,a=t.pure,s=t.throwIfNamespace,i=void 0===s||s,o=t.useSpread,l=t.runtime,c=void 0===l?"classic":l,u=t.importSource;"classic"===c&&(r=r||"React.createElement",n=n||"React.Fragment");var p=!!t.development,d=!!t.useBuiltIns;if("boolean"!=typeof p)throw new Error("@babel/preset-react 'development' option must be a boolean.");return{plugins:[["automatic"===c&&p?vM:yM,{importSource:u,pragma:r,pragmaFrag:n,runtime:c,throwIfNamespace:i,useBuiltIns:d,useSpread:o,pure:a}],aM,!1!==a&&LK,p&&"classic"===c&&EM,p&&"classic"===c&&bM].filter(Boolean)}}),GK=NI(function(e,t){var r=t.allExtensions,n=void 0!==r&&r,a=t.allowDeclareFields,s=t.allowNamespaces,i=t.jsxPragma,o=t.jsxPragmaFrag,l=void 0===o?"React.Fragment":o,c=t.isTSX,u=void 0!==c&&c,p=t.onlyRemoveTypeImports;if(e.assertVersion(7),"string"!=typeof l)throw new Error(".jsxPragmaFrag must be a string, or undefined");if("boolean"!=typeof n)throw new Error(".allExtensions must be a boolean, or undefined");if("boolean"!=typeof u)throw new Error(".isTSX must be a boolean, or undefined");if(u&&!n)throw new Error("isTSX:true requires allExtensions:true");var d=function(e){return{allowDeclareFields:a,allowNamespaces:s,isTSX:e,jsxPragma:i,jsxPragmaFrag:l,onlyRemoveTypeImports:p}};return{overrides:n?[{plugins:[[yU,d(u)]]}]:[{test:/\.ts$/,plugins:[[yU,d(!1)]]},{test:/\.tsx$/,plugins:[[yU,d(!0)]]}]}}),KK=["text/jsx","text/babel"],HK=0;function zK(e,t){var r=document.createElement("script");t.type&&r.setAttribute("type",t.type),r.text=function(e,t){var r;return null!=t.url?r=t.url:(r="Inline Babel script",++HK>1&&(r+=" ("+HK+")")),e(t.content,function(e,t){return{filename:t,presets:e.presets||["react","es2015"],plugins:e.plugins||["proposal-class-properties","proposal-object-rest-spread","transform-flow-strip-types"],sourceMaps:"inline",sourceFileName:t}}(t,r)).code}(e,t),UK.appendChild(r)}function qK(e,t){var r=e.getAttribute(t);return""===r?[]:r?r.split(",").map(function(e){return e.trim()}):null}function XK(e,t){var r=[],n=t.length;function a(){var t,a;for(a=0;a<n;a++)if((t=r[a]).loaded&&!t.executed)t.executed=!0,zK(e,t);else if(!t.loaded&&!t.error&&!t.async)break}t.forEach(function(e,t){var n,s,i,o,l={async:e.hasAttribute("async"),type:e.getAttribute("data-type"),error:!1,executed:!1,plugins:qK(e,"data-plugins"),presets:qK(e,"data-presets")};e.src?(r[t]=Object.assign({},l,{content:null,loaded:!1,url:e.src}),n=e.src,s=function(e){r[t].loaded=!0,r[t].content=e,a()},i=function(){r[t].error=!0,a()},(o=new XMLHttpRequest).open("GET",n,!0),"overrideMimeType"in o&&o.overrideMimeType("text/plain"),o.onreadystatechange=function(){if(4===o.readyState){if(0!==o.status&&200!==o.status)throw i(),new Error("Could not load "+n);s(o.responseText)}},o.send(null)):r[t]=Object.assign({},l,{content:e.innerHTML,loaded:!0,url:e.getAttribute("data-module")||null})}),a()}var JK=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function YK(e,t){return JK(t)&&"string"==typeof t[0]?Object.prototype.hasOwnProperty.call(e,t[0])?[e[t[0]]].concat(t.slice(1)):void 0:"string"==typeof t?e[t]:t}function $K(e){var t=(e.presets||[]).map(function(e){var t=YK(eH,e);if(!t)throw new Error('Invalid preset specified in Babel options: "'+e+'"');return JK(t)&&"object"==typeof t[0]&&Object.prototype.hasOwnProperty.call(t[0],"buildPreset")&&(t[0]=Object.assign({},t[0],{buildPreset:t[0].buildPreset})),t}),r=(e.plugins||[]).map(function(e){var t=YK(ZK,e);if(!t)throw new Error('Invalid plugin specified in Babel options: "'+e+'"');return t});return Object.assign({babelrc:!1},e,{presets:t,plugins:r})}function QK(e,t){return gI(e,$K(t))}var ZK={},eH={},tH=XA;function rH(e,t){Object.prototype.hasOwnProperty.call(ZK,e)&&console.warn('A plugin named "'+e+'" is already registered, it will be overridden'),ZK[e]=t}function nH(e){Object.keys(e).forEach(function(t){return rH(t,e[t])})}function aH(e,t){Object.prototype.hasOwnProperty.call(eH,e)&&("env"===e?console.warn("@babel/preset-env is now included in @babel/standalone, please remove @babel/preset-env-standalone"):console.warn('A preset named "'+e+'" is already registered, it will be overridden')),eH[e]=t}function sH(e){Object.keys(e).forEach(function(t){return aH(t,e[t])})}nH(bU),sH({env:FK,es2015:xU,es2016:function(){return{plugins:[ZK["transform-exponentiation-operator"]]}},es2017:function(){return{plugins:[ZK["transform-async-to-generator"]]}},react:VK,"stage-0":function(e,t){void 0===t&&(t={});var r=t,n=r.loose,a=void 0!==n&&n,s=r.useBuiltIns,i=void 0!==s&&s,o=r.decoratorsLegacy,l=void 0!==o&&o,c=r.decoratorsBeforeExport,u=r.pipelineProposal,p=void 0===u?"minimal":u,d=r.importAssertionsVersion;return{presets:[[SU,{loose:a,useBuiltIns:i,decoratorsLegacy:l,decoratorsBeforeExport:c,pipelineProposal:p,importAssertionsVersion:void 0===d?"september-2020":d}]],plugins:[qN]}},"stage-1":SU,"stage-2":wU,"stage-3":EU,"es2015-loose":{presets:[[xU,{loose:!0}]]},"es2015-no-commonjs":{presets:[[xU,{modules:!1}]]},typescript:GK,flow:RK});function iH(){oH()}function oH(e){!function(e,t){UK=document.getElementsByTagName("head")[0],t||(t=document.getElementsByTagName("script"));for(var r=[],n=0;n<t.length;n++){var a=t.item(n),s=a.type.split(";")[0];-1!==KK.indexOf(s)&&r.push(a)}0!==r.length&&(console.warn("You are using the in-browser Babel transformer. Be sure to precompile your scripts for production - https://babeljs.io/docs/setup/"),XK(e,r))}(QK,e)}"undefined"!=typeof window&&(null==(WK=window)?void 0:WK.addEventListener)&&window.addEventListener("DOMContentLoaded",iH,!1),e.availablePlugins=ZK,e.availablePresets=eH,e.buildExternalHelpers=tH,e.disableScriptTags=function(){window.removeEventListener("DOMContentLoaded",iH)},e.registerPlugin=rH,e.registerPlugins=nH,e.registerPreset=aH,e.registerPresets=sH,e.transform=QK,e.transformFromAst=function(e,t,r){return TI(e,t,$K(r))},e.transformScriptTags=oH,e.version="7.12.3",Object.defineProperty(e,"__esModule",{value:!0})});define("thirdparty/loop-protect",["require","exports","module"],function(require,exports,module){module.exports=function(){return function(_ref2){var t=_ref2.types;var maxIteration=100;var maxLoopTimeMs=100;var dateNow=function(){return t.callExpression(t.memberExpression(t.identifier("Date"),t.identifier("now")),[])};return{visitor:{"WhileStatement|ForStatement|DoWhileStatement":function(path){var loopStart=path.scope.parent.generateUidIdentifier("loopStart");var loopStartInit=dateNow();path.scope.parent.push({id:loopStart,init:loopStartInit});var iterator=path.scope.parent.generateUidIdentifier("loopIt");var iteratorInit=t.numericLiteral(0);path.scope.parent.push({id:iterator,init:iteratorInit});path.insertBefore(t.expressionStatement(t.callExpression(t.identifier("setTimeout"),[t.functionExpression(null,[],t.blockStatement([t.expressionStatement(t.assignmentExpression("=",loopStart,t.identifier("Infinity")))]))])));var guard=t.ifStatement(t.logicalExpression("&&",t.binaryExpression(">",t.updateExpression("++",iterator,true),t.numericLiteral(maxIteration)),t.binaryExpression(">",t.binaryExpression("-",dateNow(),loopStart),t.numericLiteral(maxLoopTimeMs))),t.throwStatement(t.newExpression(t.identifier("RangeError"),[t.stringLiteral("Potential infinite loop detected.")])));if(!path.get("body").isBlockStatement()){var statement=path.get("body").node;path.get("body").replaceWith(t.blockStatement([guard,statement]))}else{path.get("body").unshiftContainer("body",guard)}}}}}}});define("filesystem/impls/filer/lib/JSRewriter",["require","exports","module","thirdparty/babel-standalone.min","thirdparty/loop-protect"],function(require,exports,module){"use strict";var Babel=require("thirdparty/babel-standalone.min");var loopProtect=require("thirdparty/loop-protect");Babel.registerPlugin("loopProtection",loopProtect());function JSRewriter(js){this.js=js}JSRewriter.prototype.protectLoops=function(callback){var PreferencesManager=brackets.getModule("preferences/PreferencesManager");var shouldLoopProtect=PreferencesManager.get("loopProtect");var js=this.js;if(shouldLoopProtect){try{var result=Babel.transform(js,{plugins:["loopProtection"],retainLines:true});js=result.code}catch(e){console.error("Error parsing code with Babel: ",e)}}callback(null,js)};function rewrite(js,callback){setTimeout(function(){var rewriter=new JSRewriter(js);rewriter.protectLoops(callback)},0)}exports.rewrite=rewrite});define("filesystem/impls/filer/lib/HTMLRewriter",["require","exports","module","filesystem/impls/filer/lib/async","filesystem/impls/filer/lib/content","filesystem/impls/filer/lib/CSSRewriter","filesystem/impls/filer/lib/JSRewriter","filesystem/impls/filer/UrlCache","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/FilerUtils"],function(require,exports,module){"use strict";var Async=require("filesystem/impls/filer/lib/async");var Content=require("filesystem/impls/filer/lib/content");var CSSRewriter=require("filesystem/impls/filer/lib/CSSRewriter");var JSRewriter=require("filesystem/impls/filer/lib/JSRewriter");var UrlCache=require("filesystem/impls/filer/UrlCache");var Path=require("filesystem/impls/filer/FilerUtils").Path;var decodePath=require("filesystem/impls/filer/FilerUtils").decodePath;var PreferencesManager=brackets.getModule("preferences/PreferencesManager");var jsEnabledOverride=false;function HTMLRewriter(path,html,server){this.path=path;this.dir=Path.dirname(path);this.server=server;var parser=new DOMParser;this.doc=parser.parseFromString(html,"text/html")}HTMLRewriter.prototype.elements=function(type,urlType,callback){var elements=this.doc.querySelectorAll(type);var dir=this.dir;Async.eachSeries(elements,function(element,callback){var path=decodePath(element.getAttribute(urlType));var fullPath=Path.resolve(dir,path);if(!Content.isRelativeURL(path)){callback();return}var url=UrlCache.getUrl(fullPath);if(url===fullPath){console.log("[HTMLRewriter warning] couldn't get URL for `"+fullPath+"`")}else{element[urlType]=url}callback()},callback)};HTMLRewriter.prototype.styles=function(callback){var path=this.path;var elements=this.doc.querySelectorAll("style");Async.eachSeries(elements,function(element,callback){var content=element.innerHTML;if(!content){return callback()}CSSRewriter.rewrite(path,content,function(err,css){if(err){console.log("[HTMLRewriter warning] couldn't rewrite CSS `"+path+"`",err)}else{element.innerHTML=css}callback()})},callback)};HTMLRewriter.prototype.styleAttributes=function(callback){var path=this.path;var elements=this.doc.querySelectorAll("[style]");Async.eachSeries(elements,function(element,callback){var content=element.getAttribute("style");if(!content){return callback()}CSSRewriter.rewrite(path,content,function(err,css){if(err){console.log("[HTMLRewriter warning] couldn't rewrite CSS `"+path+"`",err)}else{element.setAttribute("style",css)}callback()})},callback)};HTMLRewriter.prototype.styleSheetLinks=function(callback){var dir=this.dir;var server=this.server;var elements=this.doc.querySelectorAll("link[rel='stylesheet']");var cachedUrls={};Async.eachSeries(elements,function(element,callback){var path=decodePath(element.getAttribute("href"));var fullPath=Path.resolve(dir,path);if(!Content.isRelativeURL(path)){callback();return}if(cachedUrls[fullPath]){element.href=cachedUrls[fullPath];return callback()}server.serveLiveDocForPath(fullPath,function(err,url){if(err||url===fullPath){console.log("[HTMLRewriter warning] couldn't get URL for `"+fullPath+"`",err)}else{cachedUrls[fullPath]=url;element.href=url}callback()})},callback)};HTMLRewriter.prototype.scripts=function(callback){var elements=this.doc.querySelectorAll("script");var jsEnabled=PreferencesManager.get("allowJavaScript");function maybeDisable(element){if(!element.getAttribute("data-brackets-id")){return}if(jsEnabled||jsEnabledOverride){if(element.getAttribute("type")==="text/x-scripts-disabled"){element.removeAttribute("type")}}else{element.setAttribute("type","text/x-scripts-disabled")}}if(elements){Array.prototype.forEach.call(elements,maybeDisable);Async.eachSeries(elements,function(element,callback){var content=element.innerHTML;if(!content){callback();return}if(!element.getAttribute("data-brackets-id")){callback();return}JSRewriter.rewrite(content,function(err,js){if(err){}else{element.innerHTML=js}callback()})},callback)}else{callback()}};HTMLRewriter.prototype.scriptSrcs=function(callback){var dir=this.dir;var server=this.server;var elements=this.doc.querySelectorAll("script[src]");var cachedUrls={};Async.eachSeries(elements,function(element,callback){var src=element.getAttribute("src");var fullPath;if(src.indexOf("//")>0){fullPath=decodePath(src.slice(src.indexOf(dir)))}else{fullPath=decodePath(Path.resolve(dir,src))}if(!Content.isRelativeURL(fullPath)){callback();return}if(cachedUrls[fullPath]){element.href=cachedUrls[fullPath];return callback()}server.serveLiveDocForPath(fullPath,function(err,url){if(err||url===fullPath){console.log("[HTMLRewriter warning] couldn't get URL for `"+fullPath+"`",err)}else{cachedUrls[fullPath]=url;element.src=url}callback()})},callback)};function rewrite(path,html,server,callback){if(typeof server==="function"){callback=server;server=null}if(!server){server={serveLiveDocForPath:function(path,callback){setTimeout(function(){callback(null,UrlCache.getUrl(path))},0)}}}var rewriter=new HTMLRewriter(path,html,server);function iterator(functionName){var args=Array.prototype.slice.call(arguments,1);return function(callback){setTimeout(function(){rewriter[functionName].apply(rewriter,args.concat([callback]))},0)}}var iterators;if(!UrlCache.getShouldRewriteUrls()){iterators=[iterator("scripts"),iterator("scriptSrcs")]}else{
iterators=[iterator("styles"),iterator("styleAttributes"),iterator("elements","iframe","src"),iterator("elements","img","src"),iterator("elements","script","src"),iterator("elements","source","src"),iterator("elements","video","src"),iterator("elements","audio","src"),iterator("styleSheetLinks"),iterator("scripts"),iterator("scriptSrcs")]}Async.series(iterators,function finishedRewriteSeries(err){var doc=rewriter.doc;var html=doc.documentElement.outerHTML;var doctype="";if(doc.doctype){doctype=(new XMLSerializer).serializeToString(doc.doctype)}jsEnabledOverride=false;callback(err,doctype+html)})}exports.rewrite=rewrite;exports.forceScriptsOnce=function(){jsEnabledOverride=true}});(function(root,factory){if(typeof define==="function"&&define.amd){define("thirdparty/path-utils/path-utils",[],factory)}else if(typeof module==="object"&&module.exports){module.exports=factory()}else{root.PathUtils=factory()}})(this,function(){var PathUtils={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#\.]*(?:\.[^\?#\.]+)*(\.[^\?#\.]+)|[^\?#]*)))?(\?[^#]+)?)(#.*)?/,parsedUrlPropNames:["href","hrefNoHash","hrefNoSearch","domain","protocol","doubleSlash","authority","userinfo","username","password","host","hostname","port","pathname","directory","filename","filenameExtension","search","hash"],defaultPorts:{http:"80",https:"443",ftp:"20",ftps:"990"},parseUrl:function(url){if(url&&typeof url==="object"){return url}var matches=PathUtils.urlParseRE.exec(url||"")||[],props=PathUtils.parsedUrlPropNames,cnt=props.length,result={},i;for(i=0;i<cnt;i++){result[props[i]]=matches[i]||""}return result},port:function(url){var u=PathUtils.parseUrl(url);return u.port||PathUtils.defaultPorts[u.protocol]},isSameDomain:function(absUrl1,absUrl2){return PathUtils.parseUrl(absUrl1).domain===PathUtils.parseUrl(absUrl2).domain},isRelativeUrl:function(url){return PathUtils.parseUrl(url).protocol===""},isAbsoluteUrl:function(url){return PathUtils.parseUrl(url).protocol!==""},makePathAbsolute:function(relPath,absPath){if(relPath&&relPath.charAt(0)==="/"){return relPath}relPath=relPath||"";absPath=absPath?absPath.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";var absStack=absPath?absPath.split("/"):[],relStack=relPath.split("/");for(var i=0;i<relStack.length;i++){var d=relStack[i];switch(d){case".":break;case"..":if(absStack.length){absStack.pop()}break;default:absStack.push(d);break}}return"/"+absStack.join("/")},makePathRelative:function(pathA,pathB){pathB=pathB?pathB.replace(/^\/|\/?[^\/]*$/g,""):"";pathA=pathA?pathA.replace(/^\//,""):"";var stackB=pathB?pathB.split("/"):[],stackA=pathA.split("/"),stackC=[],len=stackB.length,upLevel=false,startIndex=0;for(var i=0;i<len;i++){upLevel=upLevel||stackA[0]!==stackB[i];if(upLevel){stackC.push("..")}else{stackA.shift()}}return stackC.concat(stackA).join("/")},makeUrlAbsolute:function(relUrl,absUrl){if(!PathUtils.isRelativeUrl(relUrl)){return relUrl}var relObj=PathUtils.parseUrl(relUrl),absObj=PathUtils.parseUrl(absUrl),protocol=relObj.protocol||absObj.protocol,doubleSlash=relObj.protocol?relObj.doubleSlash:relObj.doubleSlash||absObj.doubleSlash,authority=relObj.authority||absObj.authority,hasPath=relObj.pathname!=="",pathname=PathUtils.makePathAbsolute(relObj.pathname||absObj.filename,absObj.pathname),search=relObj.search||!hasPath&&absObj.search||"",hash=relObj.hash;return protocol+doubleSlash+authority+pathname+search+hash}};function getterFunc(propName){return function(url){return PathUtils.parseUrl(url)[propName]}}var i,prop,props=PathUtils.parsedUrlPropNames,cnt=props.length;for(i=0;i<cnt;i++){prop=props[i];if(!PathUtils[prop]){PathUtils[prop]=getterFunc(prop)}}return PathUtils});define("utils/ExtensionUtils",["require","exports","module","utils/Async","filesystem/FileSystem","file/FileUtils","thirdparty/path-utils/path-utils","filesystem/impls/filer/BracketsFiler"],function(require,exports,module){"use strict";var Async=require("utils/Async"),FileSystem=require("filesystem/FileSystem"),FileUtils=require("file/FileUtils"),PathUtils=require("thirdparty/path-utils/path-utils");var Path=require("filesystem/impls/filer/BracketsFiler").Path;function addEmbeddedStyleSheet(css){return $("<style>").text(css).appendTo("head")[0]}function addLinkedStyleSheet(url,deferred){var attributes={type:"text/css",rel:"stylesheet",href:url};var $link=$("<link/>").attr(attributes);if(deferred){$link.on("load",deferred.resolve).on("error",deferred.reject)}$link.appendTo("head");return $link[0]}function isAbsolutePathOrUrl(pathOrUrl){return brackets.platform==="win"?PathUtils.isAbsoluteUrl(pathOrUrl):FileSystem.isAbsolutePath(pathOrUrl)}function parseLessCode(code,url){var result=new $.Deferred,options;if(url){var dir=url.slice(0,url.lastIndexOf("/")+1);options={filename:url,rootpath:dir};if(isAbsolutePathOrUrl(url)){options.currentFileInfo={currentDirectory:dir,entryPath:dir,filename:url,rootFilename:url,rootpath:dir}}}less.render(code,options,function onParse(err,tree){if(err){result.reject(err)}else{result.resolve(tree.css)}});return result.promise()}function getModulePath(module,path){var modulePath=module.uri.substr(0,module.uri.lastIndexOf("/")+1);if(path){modulePath+=path}return modulePath}function getModuleUrl(module,path){var url=encodeURI(getModulePath(module,path));if(brackets.platform==="win"&&url.indexOf(":")!==-1){url="file:///"+url}return url}function loadFile(module,path){var url=PathUtils.isAbsoluteUrl(path)?path:getModuleUrl(module,path),promise=$.get(url);return promise}function loadStyleSheet(module,path){var result=new $.Deferred;var url;if(brackets.env==="production"){path=path.replace(/\.less$/,".css")}if(Path.extname(path)===".css"){url=PathUtils.isAbsoluteUrl(path)?path:getModuleUrl(module,path);addLinkedStyleSheet(url,result);return result.promise()}loadFile(module,path).done(function(content){var url=this.url;if(url.slice(-5)===".less"){parseLessCode(content,url).done(function(css){result.resolve(addEmbeddedStyleSheet(css))}).fail(result.reject)}else{var deferred=new $.Deferred,link=addLinkedStyleSheet(url,deferred);deferred.done(function(){result.resolve(link)}).fail(result.reject)}}).fail(result.reject);result.fail(function(error,textStatus,httpError){if(error.readyState!==undefined){console.error("[Extension] Unable to read stylesheet "+path+":",textStatus,httpError)}else{console.error("[Extension] Unable to process stylesheet "+path,error)}});return result.promise()}function loadMetadata(folder){var packageJSONFile=FileSystem.getFileForPath(folder+"/package.json"),disabledFile=FileSystem.getFileForPath(folder+"/.disabled"),result=new $.Deferred,jsonPromise=new $.Deferred,disabledPromise=new $.Deferred,json,disabled;FileUtils.readAsText(packageJSONFile).then(function(text){try{json=JSON.parse(text);jsonPromise.resolve()}catch(e){jsonPromise.reject()}}).fail(jsonPromise.reject);disabledFile.exists(function(err,exists){if(err){disabled=false}else{disabled=exists}disabledPromise.resolve()});Async.waitForAll([jsonPromise,disabledPromise]).always(function(){if(!json){result.reject(disabled)}else{json.disabled=disabled;result.resolve(json)}});return result.promise()}function supportedServerCodeRunnerFileExtensions(){return["java","serverpy"]}exports.addEmbeddedStyleSheet=addEmbeddedStyleSheet;exports.addLinkedStyleSheet=addLinkedStyleSheet;exports.parseLessCode=parseLessCode;exports.getModulePath=getModulePath;exports.getModuleUrl=getModuleUrl;exports.loadFile=loadFile;exports.loadStyleSheet=loadStyleSheet;exports.loadMetadata=loadMetadata;exports.supportedServerCodeRunnerFileExtensions=supportedServerCodeRunnerFileExtensions});(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||a.defaults,this.rules=p.normal,this.options.gfm&&(this.rules=this.options.tables?p.tables:p.gfm)}function t(e,t){if(this.options=t||a.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?u.breaks:u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||a.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?String.fromCharCode("x"===t.charAt(1)?parseInt(t.substring(2),16):+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,s){return r?(s=s.source||s,s=s.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,s),n):new RegExp(e,t)}}function o(){}function h(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function a(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=h({},a.defaults,n||{});var l,o,p=n.highlight,u=0;try{l=e.lex(t,n)}catch(c){return i(c)}o=l.length;var g=function(e){if(e)return n.highlight=p,i(e);var t;try{t=r.parse(l,n)}catch(s){e=s}return n.highlight=p,e?i(e):i(null,t)};if(!p||p.length<3)return g();if(delete n.highlight,!o)return g();for(;u<l.length;u++)!function(e){return"code"!==e.type?--o||g():p(e.text,e.lang,function(t,n){return t?g(t):null==n||n===e.text?--o||g():(e.text=n,e.escaped=!0,void(--o||g()))})}(l[u])}else try{return n&&(n=h({},a.defaults,n)),r.parse(e.lex(t,n),n)}catch(c){if(c.message+="\nPlease report this to https://github.com/chjj/marked.",(n||a.defaults).silent)return"<p>An error occured:</p><pre>"+s(c.message+"",!0)+"</pre>";throw c}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=l(p.item,"gm")(/bull/g,p.bullet)(),p.list=l(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=l(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=l(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=l(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=h({},p),p.gfm=h({},p.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),p.gfm.paragraph=l(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=h({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var r,s,i,l,o,h,a,u,c,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<h.align.length;u++)h.align[u]=/^ *-+: *$/.test(h.align[u])?"right":/^ *:-+: *$/.test(h.align[u])?"center":/^ *:-+ *$/.test(h.align[u])?"left":null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].split(/ *\| */);this.tokens.push(h)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),l=i[2],this.tokens.push({type:"list_start",ordered:l.length>1}),i=i[0].match(this.rules.item),r=!1,c=i.length,u=0;c>u;u++)h=i[u],a=h.length,h=h.replace(/^ *([*+-]|\d+\.) +/,""),~h.indexOf("\n ")&&(a-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&u!==c-1&&(o=p.bullet.exec(i[u+1])[0],l===o||l.length>1&&o.length>1||(e=i.slice(u+1).join("\n")+e,u=c-1)),s=r||/\n\n(?!\s*$)/.test(h),u!==c-1&&(r="\n"===h.charAt(h.length-1),s||(s=r)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(h,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<h.align.length;u++)h.align[u]=/^ *-+: *$/.test(h.align[u])?"right":/^ *:-+: *$/.test(h.align[u])?"center":/^ *:-+ *$/.test(h.align[u])?"left":null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(h)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=l(u.link)("inside",u._inside)("href",u._href)(),u.reflink=l(u.reflink)("inside",u._inside)(),u.normal=h({},u),u.pedantic=h({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=h({},u.normal,{escape:l(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=h({},u.gfm,{br:l(u.br)("{2,}","*")(),text:l(u.gfm.text)("{2,}","*")()}),t.rules=u,t.output=function(e,n,r){var s=new t(n,r);return s.output(e)},t.prototype.output=function(e){for(var t,n,r,i,l="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),l+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=this.mangle(":"===i[1].charAt(6)?i[1].substring(7):i[1]),r=this.mangle("mailto:")+n):(n=s(i[1]),r=n),l+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),l+=this.options.sanitize?s(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,l+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){l+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),l+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),l+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),l+=this.renderer.codespan(s(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),l+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),l+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),l+=s(this.smartypants(i[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=s(i[1]),r=n,l+=this.renderer.link(r,null,n);return l},t.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){for(var t,n="",r=e.length,s=0;r>s;s++)t=e.charCodeAt(s),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(i(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(s){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var l='<a href="'+e+'"';return t&&(l+=' title="'+t+'"'),l+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.parse=function(e,t,n){var s=new r(t,n);return s.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,s,i="",l="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",s=0;s<t.length;s++)n+=this.renderer.tablecell(this.inline.output(t[s]),{header:!1,align:this.token.align[s]});l+=this.renderer.tablerow(n)}return this.renderer.table(i,l);case"blockquote_start":for(var l="";"blockquote_end"!==this.next().type;)l+=this.tok();return this.renderer.blockquote(l);case"list_start":for(var l="",o=this.token.ordered;"list_end"!==this.next().type;)l+=this.tok();return this.renderer.list(l,o);case"list_item_start":for(var l="";"list_item_end"!==this.next().type;)l+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(l);case"loose_item_start":for(var l="";"list_item_end"!==this.next().type;)l+=this.tok();return this.renderer.listitem(l);case"html":var h=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(h);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},o.exec=o,a.options=a.setOptions=function(e){return h(a.defaults,e),a},a.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},a.Parser=r,a.parser=r.parse,a.Renderer=n,a.Lexer=e,a.lexer=e.lex,a.InlineLexer=t,a.inlineLexer=t.output,a.parse=a,"undefined"!=typeof module&&"object"==typeof exports?module.exports=a:"function"==typeof define&&define.amd?define("thirdparty/marked/marked.min",[],function(){return a}):this.marked=a}).call(function(){return this||("undefined"!=typeof window?window:global)}());define("filesystem/impls/filer/lib/transforms",["require","exports","module","command/CommandManager","command/Commands","filesystem/impls/filer/BracketsFiler","filesystem/impls/filer/lib/handlers","language/LanguageManager","utils/ExtensionUtils","thirdparty/marked/marked.min","bramble/StartupState"],function(require,exports,module){"use strict";var CommandManager=require("command/CommandManager");var Commands=require("command/Commands");var BracketsFiler=require("filesystem/impls/filer/BracketsFiler");var Handlers=require("filesystem/impls/filer/lib/handlers");var LanguageManager=require("language/LanguageManager");var ExtensionUtils=require("utils/ExtensionUtils");var marked=require("thirdparty/marked/marked.min");var StartupState=require("bramble/StartupState");var Path=BracketsFiler.Path;var _transforms={};var _fs=BracketsFiler.fs();function _processExt(path){return path.replace(/^\.?/,".").toLowerCase()}function _register(transform){_transforms[transform.srcExt]=transform}function getTransform(path){var ext=_processExt(Path.extname(path));return _transforms[ext]}function applyTransform(path,data,callback){if(typeof data==="function"){callback=data;data=null}var transform=getTransform(path);if(!transform){return callback(null)}function _applyTransform(path,data){transform.transform(path,data,function(err,transformed){if(err){console.error("[Bramble Error] unable to transform file",path,err);return callback(err)}var transformedPath=transform.rewritePath(path);_fs.writeFile(transformedPath,transformed,function(err){if(err){console.error("[Bramble Error] unable to write transformed file",transformedPath,err);return callback(err)}Handlers.handleFile(transformedPath,data,function(err){if(err){console.error("[Bramble Error] unable to rewrite URL for transformed file",transformedPath,err);return callback(err)}CommandManager.execute(Commands.FILE_REFRESH).always(callback)})})})}if(!data){_fs.readFile(path,"utf8",function(err,data){if(err){if(err.code==="ENOENT"){data=""}else{return callback(err)}}_applyTransform(path,data)})}else{_applyTransform(path,data)}}function Transform(options,transformFn){this.srcExt=_processExt(options.srcExt);this.destExt=_processExt(options.destExt);this.replSrcExt=options.replSrcExt?options.replSrcExt:"";this.replDestExt=options.replDestExt?options.replDestExt:"";this.startComment=options.startComment||"\x3c!--";this.endComment=options.endComment||"--\x3e";this.transformFn=transformFn}Transform.prototype.generateComment=function(path){var original=Path.basename(path);var now=new Date;return this.startComment+"\n"+"This file was automatically generated from "+original+" on "+now+". "+"If you need to make changes, edit "+original+" directly instead of this file.\n"+this.endComment+"\n\n"};Transform.prototype.rewritePath=function(path){if(this.replSrcExt&&this.replDestExt){return path.replace(this.replSrcExt,this.replDestExt)}return path.replace(this.srcExt,this.destExt)};Transform.prototype.transform=function(path,data,callback){var self=this;if(!data){return callback(null,self.generateComment(path)+"<html>"+"  <body>"+"  </body>"+"</html>")}self.transformFn(path,data,function(err,transformed){if(err){return callback(err)}transformed=self.generateComment(path)+transformed;callback(null,transformed)})};function _setupMarkdownTransform(){function markdownToHTML(path,markdown,callback){var cssUrl=StartupState.url("base")+"thirdparty/github-markdown.css";var html="<!DOCTYPE html><html>\n"+'<head><link rel="stylesheet" href="'+cssUrl+'">\n'+"<style>\n"+"  .markdown-body {\n"+"    min-width: 200px;\n"+"    max-width: 790px;\n"+"    margin: 0 auto;\n"+"    padding: 20px;\n"+"  }\n"+"</style></head>\n"+'<body><article class="markdown-body">\n'+marked(markdown)+"\n"+"</article></body></html>";callback(null,html)}var markdownExts=LanguageManager.getLanguage("markdown").getFileExtensions();markdownExts.forEach(function(ext){_register(new Transform({srcExt:ext,destExt:"html",replSrcExt:"."+ext,replDestExt:"-mdpreview.html"},markdownToHTML))})}function _setupPythonTransform(){function pythonToHTML(path,pyFileData,callback){try{if(parent.window.IDE){var projectTags=parent.window.IDE.getProjectTags()||[];if(projectTags.indexOf("micropython")!==-1||parent.document.location.search.indexOf("microbit")!==-1||projectTags.indexOf("hifive")!==-1||parent.document.location.search.indexOf("hifive")!==-1){return callback(null,"<html><head></head><body></body></html>")}}}catch(e){console.error("[Bramble] Unable to read from parent frame in transforms",e)}if(path.indexOf("/project/")===0){var re=/(\/project\/([0-9a-fA-F]+)\/)(.*)/;var match=re.exec(path);if(match){path=path.substring(match[1].length)}else{path=path.substring("/project/".length)}}var html="<html>\n"+"<head>\n"+"    <title>My Python Program</title>\n"+"<style>\n"+"    body { margin: 0; padding: 0; overflow: auto; }\n"+"    #py-canvas { width: 100%; position: relative; height: 100%; text-align: left; overflow:  hidden; }\n"+"    canvas { max-width: 100%; max-height: 100%; position: absolute !important; top: 0 !important; left: 0 !important; margin-top: 0 !important; }\n"+"    .hidden { display: none; }\n"+"    .terminal { --color: black; --background: white; --size: 1.2; }\n"+"</style>\n"+'<link rel="stylesheet" href="/nb/lib/skulpt/dist/jquery.terminal.min.css"></link>\n'+'<script src="/ext/jquery.js"><\/script>\n'+'<script src="/ext/processing.min.js"><\/script>\n'+'<script src="/nb/lib/skulpt/skulpt.min.js"><\/script>\n'+'<script src="/nb/lib/skulpt/skulpt-stdlib.js"><\/script>\n'+'<script src="/nb/lib/skulpt/dist/jquery.terminal.min.js"><\/script>\n'+'<script src="/nb/lib/skulpt/dist/tynker.js"><\/script>\n'+"</head>\n"+"<body>\n"+'    <div id="py-canvas"></div>\n'+"    <script>\n"+'    window._pyfile = "'+path+'";\n'+"    <\/script>\n"+"</body>\n"+"</html>\n";callback(null,html)}var pythonExts=LanguageManager.getLanguage("py").getFileExtensions();pythonExts.forEach(function(ext){_register(new Transform({srcExt:ext,destExt:"html",replSrcExt:"."+ext,replDestExt:"-pypreview.html"},pythonToHTML))})}function _setupServerCodeRunnerTransform(){function codeToHTML(path,fileData,callback){if(path.indexOf("/project/")===0){var re=/(\/project\/([0-9a-fA-F]+)\/)(.*)/;var match=re.exec(path);if(match){path=path.substring(match[1].length)}else{path=path.substring("/project/".length)}}var html="<html>\n"+"<head>\n"+"    <title>My Program</title>\n"+"<style>\n"+"    body { margin: 0; padding: 0; overflow: auto; min-height: 100%; }\n"+"    .code-container { display: flex; flex-direction: column; min-height: 100%; justify-content: space-between; }\n"+"    #code-canvas { width: 100%; text-align: left; }\n"+"    .hidden { display: none; }\n"+"    .terminal { --color: black; --background: white; --size: 1.2; }\n"+"</style>\n"+'<link rel="stylesheet" href="/nb/lib/jquery-terminal/jquery.terminal.min.css"></link>\n'+'<script src="/ext/jquery.js"><\/script>\n'+'<script src="/nb/lib/jquery-terminal/jquery.terminal.min.js"><\/script>\n'+'<script src="/nb/lib/jquery-terminal/echo_newline.js"><\/script>\n'+'<script nomodule type="text/javascript" src="/js/dist/tynkerlib_coderunner_legacy.js"><\/script>\n'+'<script type="module" src="/js/dist/tynkerlib_coderunner_modern.js"><\/script>\n'+'<link rel="stylesheet" href="/js/dist/tynkerlib_coderunner_legacy.css"></link>\n'+"</head>\n"+"<body>\n"+'    <div class="code-container">\n'+'         <div id="code-canvas"></div>\n'+"    </div>\n"+"    <script>\n"+'        window._codefile = "'+path+'";\n'+"    <\/script>\n"+"</body>\n"+"</html>\n";callback(null,html)}var exts=ExtensionUtils.supportedServerCodeRunnerFileExtensions();exts.forEach(function(ext){_register(new Transform({srcExt:ext,destExt:"html",replSrcExt:"."+ext,replDestExt:"-"+ext+"preview.html"},codeToHTML))})}function init(){LanguageManager.ready.always(function(){_setupMarkdownTransform();_setupPythonTransform();_setupServerCodeRunnerTransform()})}init();exports.getTransform=getTransform;exports.applyTransform=applyTransform});define("filesystem/impls/filer/lib/handlers",["require","exports","module","filesystem/impls/filer/lib/content","filesystem/impls/filer/lib/HTMLRewriter","filesystem/impls/filer/lib/CSSRewriter","filesystem/impls/filer/lib/JSRewriter","filesystem/impls/filer/UrlCache","filesystem/impls/filer/lib/transforms","filesystem/impls/filer/BracketsFiler"],function(require,exports,module){"use strict";var Content=require("filesystem/impls/filer/lib/content");var HTMLRewriter=require("filesystem/impls/filer/lib/HTMLRewriter");var CSSRewriter=require("filesystem/impls/filer/lib/CSSRewriter")
;var JSRewriter=require("filesystem/impls/filer/lib/JSRewriter");var UrlCache=require("filesystem/impls/filer/UrlCache");var Transforms=require("filesystem/impls/filer/lib/transforms");var Path=require("filesystem/impls/filer/BracketsFiler").Path;function handleFile(path,data,callback){var ext=Path.extname(path);var mimeType=Content.mimeFromExt(ext);if(Content.isUTF8Encoded(ext)){data=data.toString()}function rewriteUrl(){if(Content.isHTML(ext)){HTMLRewriter.rewrite(path,data,callback)}else if(Content.isCSS(ext)){CSSRewriter.rewrite(path,data,function(err,css){if(err){console.error("[Handler.handleFile() Error",path,err);callback(err);return}UrlCache.createURL(path,css,mimeType,callback)})}else if(Content.isJS(ext)){JSRewriter.rewrite(data,function(err,js){if(err){console.error("[Handler.handleFile() Error",path,err);callback(err);return}UrlCache.createURL(path,js,mimeType,callback)})}else{UrlCache.createURL(path,data,mimeType,callback)}}Transforms.applyTransform(path,data,function(err){if(err){return callback(err)}rewriteUrl()})}exports.handleFile=handleFile});define("bramble/BrambleEvents",["require","exports","module","utils/EventDispatcher"],function(require,exports,module){"use strict";var EventDispatcher=require("utils/EventDispatcher");function triggerUpdateLayoutEvent(eventName){eventName="bramble:updateLayout"+eventName;var firstPane=$("#first-pane");var secondPane=$("#second-pane");var sidebar=$("#sidebar");exports.trigger(eventName,sidebar.is(":visible")?sidebar.width():0,firstPane?firstPane.width():0,secondPane?secondPane.width():0)}EventDispatcher.makeEventDispatcher(exports);exports.triggerUpdateLayoutStart=function(){triggerUpdateLayoutEvent("Start")};exports.triggerDialogOpened=function(){exports.trigger("bramble:dialogOpened")};exports.triggerDialogClosed=function(){exports.trigger("bramble:dialogClosed")};exports.triggerUpdateLayoutEnd=function(){triggerUpdateLayoutEvent("End")};exports.triggerPreviewModeChange=function(mode){exports.trigger("bramble:previewModeChange",mode)};exports.triggerFullscreeDisabled=function(){triggerUpdateLayoutEvent("End")};exports.triggerThemeChange=function(theme){exports.trigger("bramble:themeChange",theme)};exports.triggerSidebarCollapsed=function(){exports.trigger("bramble:sidebarChange",false)};exports.triggerSidebarExpanded=function(){exports.trigger("bramble:sidebarChange",true)};exports.triggerFileRenamed=function(oldFilename,newFilename){exports.trigger("fileRenamed",oldFilename,newFilename)};exports.triggerFileRemoved=function(filename){exports.trigger("fileRemoved",filename)};exports.triggerTutorialVisibilityChange=function(visible){exports.trigger("bramble:tutorialVisibilityChange",visible)};exports.triggerInspectorChange=function(enabled){exports.trigger("bramble:inspectorChange",enabled)};exports.triggerProjectDirty=function(path){exports.trigger("bramble:projectDirty",path)};exports.triggerProjectSaved=function(){exports.trigger("bramble:projectSaved")}});define("filesystem/impls/filer/FileSystemCache",["require","exports","module","filesystem/impls/filer/lib/content","filesystem/impls/filer/lib/async","filesystem/impls/filer/BracketsFiler","filesystem/impls/filer/UrlCache","filesystem/impls/filer/lib/transforms","bramble/StartupState","filesystem/impls/filer/FilerUtils"],function(require,exports,module){"use strict";var Content=require("filesystem/impls/filer/lib/content");var async=require("filesystem/impls/filer/lib/async");var BracketsFiler=require("filesystem/impls/filer/BracketsFiler");var UrlCache=require("filesystem/impls/filer/UrlCache");var Path=BracketsFiler.Path;var Transforms=require("filesystem/impls/filer/lib/transforms");var StartupState=require("bramble/StartupState");var decodePath=require("filesystem/impls/filer/FilerUtils").decodePath;exports.refresh=function(callback){var fs=BracketsFiler.fs();function _getUrlAsync(filename,callback){var decodedFilename=decodePath(filename);var cachedUrl=UrlCache.getUrl(filename);if(Content.needsRewriting(Path.extname(decodedFilename))&&UrlCache.getShouldRewriteUrls()){return callback(null)}fs.readFile(decodedFilename,null,function(err,data){if(err){callback(err);return}var mime=Content.mimeFromExt(Path.extname(decodedFilename));UrlCache.createURL(filename,data,mime,callback)})}function _load(dirPath,callback){fs.readdir(dirPath,function(err,entries){if(err){return callback(err)}function _getUrl(name,callback){name=Path.join(dirPath,name);fs.stat(name,function(err,stats){if(err){return callback(err)}if(stats.type==="DIRECTORY"){_load(name,callback)}else{Transforms.applyTransform(name,function(err){if(err){return callback(err)}_getUrlAsync(name,callback)})}})}async.eachSeries(entries,_getUrl,callback)})}UrlCache.clear(function(err){if(err){return callback(err)}_load(StartupState.project("root"),callback)})}});!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("Pica",[],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pica=t()}}(function(){return function t(e,i,r){function n(o,s){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[o]={exports:{}};e[o][0].call(f.exports,function(t){var i=e[o][1][t];return n(i||t)},f,f.exports,t,e,i,r)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e,i){"use strict";function r(t,e){this.__requested_features=t||[],this.__initialized=!1,this.__initCallbacks=[],this.__wasm_module=e&&e.wasm_module?e:null,this.features={js:!1,wasm:!1}}function n(t,e,i){for(var r=3,n=e*i*4|0;r<n;)t[r]=255,r=r+4|0}function a(t){return new Uint8Array(t.buffer,0,t.byteLength)}function o(t,e,i){if(f)e.set(a(t),i);else for(var r=i,n=0;n<t.length;n++){var o=t[n];e[r++]=255&o,e[r++]=o>>8&255}}var s=t("./utils").base64decode,u=t("./mathlib/wasm/math_wasm_base64");r.prototype.__init__=function(t){var e=this;if(this.__initCallbacks.length>0)this.__initCallbacks.push(t);else{this.__initCallbacks=[t];var i=function(){var t=e.__initCallbacks;e.__initCallbacks=[],e.__initialized=!0,t.forEach(function(t){return t()})};if(this.unsharp=this.unsharp_js,this.__requested_features.indexOf("js")>=0&&(this.features.js=!0,this.resize=this.resize_js),"undefined"!=typeof WebAssembly&&this.__requested_features.indexOf("wasm")>=0)return this.__wasm_module?(this.features.wasm=!0,this.resize=this.resize_wasm,void i()):void WebAssembly.compile(s(u)).then(function(t){e.__wasm_module=t,e.features.wasm=!0,e.resize=e.resize_wasm,i()}).catch(function(){i()});i()}},r.prototype.init=function(t){var e=this;if("function"!=typeof t)return this.__initialized?Promise.resolve(this):new Promise(function(t,i){e.__init__(function(r){r?i(r):e.features.wasm||e.features.js?t(e):i(new Error("Pica mathlib: no supported methods found"))})});this.__initialized?t(null,this):this.__init__(function(i){i?t(i):e.features.wasm||e.features.js?t(null,e):t(new Error("Pica mathlib: no supported methods found"))})},r.prototype.resizeAndUnsharp=function(t,e){var i=this.resize(t,e);return t.unsharpAmount&&this.unsharp(i,t.toWidth,t.toHeight,t.unsharpAmount,t.unsharpRadius,t.unsharpThreshold),i},r.prototype.unsharp_js=t("./mathlib/unsharp_js"),r.prototype.resize_js=t("./mathlib/resize_js");var h=t("./mathlib/resize_filter_gen"),f=!0;try{f=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(t){}r.prototype.resize_wasm=function(t,e){var i=t.src,r=t.width,a=t.height,s=t.toWidth,u=t.toHeight,f=t.scaleX||t.toWidth/t.width,l=t.scaleY||t.toHeight/t.height,c=t.offsetX||0,d=t.offsetY||0,p=t.dest||new Uint8Array(s*u*4),g=void 0===t.quality?3:t.quality,m=t.alpha||!1;e||(e={});var A="filter_"+g+"|"+a+"|"+u+"|"+l+"|"+d,w=e["filter_"+g+"|"+r+"|"+s+"|"+f+"|"+c]||h(g,r,s,f,c),v=e[A]||h(g,a,u,l,d),b=Math.max(i.byteLength,p.byteLength)+w.byteLength+v.byteLength+a*s*4,_=Math.ceil(b/65536),y=e.wasm_imports||{env:{memory:new WebAssembly.Memory({initial:_})}},I=y.env.memory,B=I.buffer.byteLength/65536;_>B&&I.grow(_-B+16);var C=e.wasm_instance||new WebAssembly.Instance(this.__wasm_module,y);e.wasm_imports||(e.wasm_imports=y),e.wasm_instance||(e.wasm_instance=C);var E=new Uint8Array(y.env.memory.buffer),x=new Uint32Array(y.env.memory.buffer),j=new Uint32Array(i.buffer);x.set(j);var M=Math.max(i.byteLength,p.byteLength),U=M+a*s*4,z=U+w.byteLength;o(w,E,U),o(v,E,z),C.exports.convolveHV(U,z,M,r,a,s,u);var Q=new Uint32Array(p.buffer);return Q.set(x.subarray(0,Q.length)),m||n(p,s,u),p},e.exports=r},{"./mathlib/resize_filter_gen":4,"./mathlib/resize_js":6,"./mathlib/unsharp_js":7,"./mathlib/wasm/math_wasm_base64":8,"./utils":11}],2:[function(t,e,i){"use strict";e.exports=function(t,e,i){for(var r,n,a,o,s,u=e*i,h=new Uint16Array(u),f=0;f<u;f++)r=t[4*f],n=t[4*f+1],a=t[4*f+2],s=r>=n&&r>=a?r:n>=a&&n>=r?n:a,o=r<=n&&r<=a?r:n<=a&&n<=r?n:a,h[f]=257*(s+o)>>1;return h}},{}],3:[function(t,e,i){"use strict";function r(t){return t<0?0:t>255?255:t}e.exports={convolveHorizontally:function(t,e,i,n,a,o){var s,u,h,f,l,c,d,p,g,m,A,w=0,v=0;for(g=0;g<n;g++){for(l=0,m=0;m<a;m++){for(c=o[l++],d=o[l++],p=w+4*c|0,s=u=h=f=0;d>0;d--)f=f+(A=o[l++])*t[p+3]|0,h=h+A*t[p+2]|0,u=u+A*t[p+1]|0,s=s+A*t[p]|0,p=p+4|0;e[v+3]=r(f+8192>>14),e[v+2]=r(h+8192>>14),e[v+1]=r(u+8192>>14),e[v]=r(s+8192>>14),v=v+4*n|0}v=4*(g+1)|0,w=(g+1)*i*4|0}},convolveVertically:function(t,e,i,n,a,o){var s,u,h,f,l,c,d,p,g,m,A,w=0,v=0;for(g=0;g<n;g++){for(l=0,m=0;m<a;m++){for(c=o[l++],d=o[l++],p=w+4*c|0,s=u=h=f=0;d>0;d--)f=f+(A=o[l++])*t[p+3]|0,h=h+A*t[p+2]|0,u=u+A*t[p+1]|0,s=s+A*t[p]|0,p=p+4|0;e[v+3]=r(f+8192>>14),e[v+2]=r(h+8192>>14),e[v+1]=r(u+8192>>14),e[v]=r(s+8192>>14),v=v+4*n|0}v=4*(g+1)|0,w=(g+1)*i*4|0}}}},{}],4:[function(t,e,i){"use strict";function r(t){return Math.round(t*((1<<a)-1))}var n=t("./resize_filter_info"),a=14;e.exports=function(t,e,i,a,o){var s,u,h,f,l,c,d,p,g,m,A,w,v,b,_,y,I,B=n[t].filter,C=1/a,E=Math.min(1,a),x=n[t].win/E,j=Math.floor(2*(x+1)),M=new Int16Array((j+2)*i),U=0,z=!M.subarray||!M.set;for(s=0;s<i;s++){for(u=(s+.5)*C+o,h=Math.max(0,Math.floor(u-x)),l=(f=Math.min(e-1,Math.ceil(u+x)))-h+1,c=new Float32Array(l),d=new Int16Array(l),p=0,g=h,m=0;g<=f;g++,m++)p+=A=B((g+.5-u)*E),c[m]=A;for(w=0,m=0;m<c.length;m++)w+=v=c[m]/p,d[m]=r(v);for(d[i>>1]+=r(1-w),b=0;b<d.length&&0===d[b];)b++;if(b<d.length){for(_=d.length-1;_>0&&0===d[_];)_--;if(y=h+b,I=_-b+1,M[U++]=y,M[U++]=I,z)for(m=b;m<=_;m++)M[U++]=d[m];else M.set(d.subarray(b,_+1),U),U+=I}else M[U++]=0,M[U++]=0}return M}},{"./resize_filter_info":5}],5:[function(t,e,i){"use strict";e.exports=[{win:.5,filter:function(t){return t>=-.5&&t<.5?1:0}},{win:1,filter:function(t){if(t<=-1||t>=1)return 0;if(t>-1.1920929e-7&&t<1.1920929e-7)return 1;var e=t*Math.PI;return Math.sin(e)/e*(.54+.46*Math.cos(e/1))}},{win:2,filter:function(t){if(t<=-2||t>=2)return 0;if(t>-1.1920929e-7&&t<1.1920929e-7)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/2)/(e/2)}},{win:3,filter:function(t){if(t<=-3||t>=3)return 0;if(t>-1.1920929e-7&&t<1.1920929e-7)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/3)/(e/3)}}]},{}],6:[function(t,e,i){"use strict";function r(t,e,i){for(var r=3,n=e*i*4|0;r<n;)t[r]=255,r=r+4|0}var n=t("./resize_filter_gen"),a=t("./resize_convolve_js").convolveHorizontally,o=t("./resize_convolve_js").convolveVertically;e.exports=function(t,e){var i=t.src,s=t.width,u=t.height,h=t.toWidth,f=t.toHeight,l=t.scaleX||t.toWidth/t.width,c=t.scaleY||t.toHeight/t.height,d=t.offsetX||0,p=t.offsetY||0,g=t.dest||new Uint8Array(h*f*4),m=void 0===t.quality?3:t.quality,A=t.alpha||!1;if(s<1||u<1||h<1||f<1)return[];e||(e={});var w="filter_"+m+"|"+u+"|"+f+"|"+c+"|"+p,v=e["filter_"+m+"|"+s+"|"+h+"|"+l+"|"+d]||n(m,s,h,l,d),b=e[w]||n(m,u,f,c,p),_=new Uint8Array(h*u*4);return a(i,_,s,u,h,v),o(_,g,u,h,f,b),A||r(g,h,f),g}},{"./resize_convolve_js":3,"./resize_filter_gen":4}],7:[function(t,e,i){"use strict";var r=t("glur/mono16"),n=t("./lightness16_js");e.exports=function(t,e,i,a,o,s){var u,h,f,l,c,d,p,g,m,A,w,v,b;if(!(0===a||o<.5)){o>2&&(o=2);var _=n(t,e,i),y=new Uint16Array(_);r(y,e,i,o);for(var I=a/100*4096+.5|0,B=257*s|0,C=e*i,E=0;E<C;E++)v=2*(_[E]-y[E]),Math.abs(v)>=B&&(u=t[b=4*E],h=t[b+1],f=t[b+2],d=257*((g=u>=h&&u>=f?u:h>=u&&h>=f?h:f)+(p=u<=h&&u<=f?u:h<=u&&h<=f?h:f))>>1,p===g?l=c=0:(c=d<=32767?4095*(g-p)/(g+p)|0:4095*(g-p)/(510-g-p)|0,l=u===g?65535*(h-f)/(6*(g-p))|0:h===g?21845+(65535*(f-u)/(6*(g-p))|0):43690+(65535*(u-h)/(6*(g-p))|0)),(d+=I*v+2048>>12)>65535?d=65535:d<0&&(d=0),0===c?u=h=f=d>>8:(m=2*d-(A=d<=32767?d*(4096+c)+2048>>12:d+((65535-d)*c+2048>>12))>>8,A>>=8,u=(w=l+21845&65535)>=43690?m:w>=32767?m+(6*(A-m)*(43690-w)+32768>>16):w>=10922?A:m+(6*(A-m)*w+32768>>16),h=(w=65535&l)>=43690?m:w>=32767?m+(6*(A-m)*(43690-w)+32768>>16):w>=10922?A:m+(6*(A-m)*w+32768>>16),f=(w=l-21845&65535)>=43690?m:w>=32767?m+(6*(A-m)*(43690-w)+32768>>16):w>=10922?A:m+(6*(A-m)*w+32768>>16)),t[b]=u,t[b+1]=h,t[b+2]=f)}}},{"./lightness16_js":2,"glur/mono16":13}],8:[function(t,e,i){"use strict";e.exports="AGFzbQEAAAABlICAgAACYAZ/f39/f38AYAd/f39/f39/AAKPgICAAAEDZW52Bm1lbW9yeQIAAQODgICAAAIAAQSEgICAAAFwAAAHmYCAgAACCGNvbnZvbHZlAAAKY29udm9sdmVIVgABCYGAgIAAAArtg4CAAALBg4CAAAEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLoYCAgAAAAkBBACACIAMgBCAFIAAQACACQQAgBCAFIAYgARAACws="},{}],9:[function(t,e,i){"use strict";function r(t,e){this.create=t,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=e||2e3}r.prototype.acquire=function(){var t=this,e=void 0;return 0!==this.available.length?e=this.available.pop():((e=this.create()).id=this.lastId++,e.release=function(){return t.release(e)}),this.acquired[e.id]=e,e},r.prototype.release=function(t){var e=this;delete this.acquired[t.id],t.lastUsed=Date.now(),this.available.push(t),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return e.gc()},100))},r.prototype.gc=function(){var t=this,e=Date.now();this.available=this.available.filter(function(i){return!(e-i.lastUsed>t.idle)||(i.destroy(),!1)}),0!==this.available.length?this.timeoutId=setTimeout(function(){return t.gc()},100):this.timeoutId=0},e.exports=r},{}],10:[function(t,e,i){"use strict";function r(t){var e=Math.round(t);return Math.abs(t-e)<a?e:Math.floor(t)}function n(t){var e=Math.round(t);return Math.abs(t-e)<a?e:Math.ceil(t)}var a=1e-5;e.exports=function(t){var e,i,a,o,s,u,h,f=t.toWidth/t.width,l=t.toHeight/t.height,c=r(t.srcTileSize*f)-2*t.destTileBorder,d=r(t.srcTileSize*l)-2*t.destTileBorder,p=[];for(o=0;o<t.toHeight;o+=d)for(a=0;a<t.toWidth;a+=c)(e=a-t.destTileBorder)<0&&(e=0),e+(s=a+c+t.destTileBorder-e)>=t.toWidth&&(s=t.toWidth-e),(i=o-t.destTileBorder)<0&&(i=0),i+(u=o+d+t.destTileBorder-i)>=t.toHeight&&(u=t.toHeight-i),h={toX:e,toY:i,toWidth:s,toHeight:u,toInnerX:a,toInnerY:o,toInnerWidth:c,toInnerHeight:d,offsetX:e/f-r(e/f),offsetY:i/l-r(i/l),scaleX:f,scaleY:l,x:r(e/f),y:r(i/l),width:n(s/f),height:n(u/l)},p.push(h);return p}},{}],11:[function(t,e,i){"use strict";function r(t){return Object.prototype.toString.call(t)}e.exports.isCanvas=function(t){var e=r(t);return"[object HTMLCanvasElement]"===e||"[object Canvas]"===e},e.exports.isImage=function(t){return"[object HTMLImageElement]"===r(t)},e.exports.limiter=function(t){function e(){i<t&&r.length&&(i++,r.shift()())}var i=0,r=[];return function(t){return new Promise(function(n,a){r.push(function(){t().then(function(t){n(t),i--,e()},function(t){a(t),i--,e()})}),e()})}},e.exports.cib_quality_name=function(t){switch(t){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},e.exports.cib_support=function(){return Promise.resolve().then(function(){if("undefined"==typeof createImageBitmap||"undefined"==typeof document)return!1;var t=document.createElement("canvas");return t.width=100,t.height=100,createImageBitmap(t,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(e){var i=10===e.width;return e.close(),t=null,i})}).catch(function(){return!1})};e.exports.base64decode=function(t){for(var e=t.replace(/[\r\n=]/g,""),i=e.length,r=[],n=0,a=0;a<i;a++)a%4==0&&a&&(r.push(n>>16&255),r.push(n>>8&255),r.push(255&n)),n=n<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r".indexOf(e.charAt(a));var o=i%4*6;return 0===o?(r.push(n>>16&255),r.push(n>>8&255),r.push(255&n)):18===o?(r.push(n>>10&255),r.push(n>>2&255)):12===o&&r.push(n>>4&255),new Uint8Array(r)}},{}],12:[function(t,e,i){"use strict";e.exports=function(){var e=t("./mathlib"),i=void 0,r={};onmessage=function(t){var n=t.data.opts;i||(i=new e(t.data.features,t.data.preload)),i.init(function(t){if(t)postMessage({err:t});else{var e=i.resizeAndUnsharp(n,r);postMessage({result:e},[e.buffer])}})}}},{"./mathlib":1}],13:[function(t,e,i){function r(t){t<.5&&(t=.5);var e=Math.exp(.527076)/t,i=Math.exp(-e),r=Math.exp(-2*e),n=(1-i)*(1-i)/(1+2*e*i-r);return a=n,o=n*(e-1)*i,s=n*(e+1)*i,u=-n*r,h=2*i,f=-r,l=(a+o)/(1-h-f),c=(s+u)/(1-h-f),new Float32Array([a,o,s,u,h,f,l,c])}function n(t,e,i,r,n,a){var o,s,u,h,f,l,c,d,p,g,m,A,w,v;for(p=0;p<a;p++){for(c=p,d=0,h=f=(o=t[l=p*n])*r[6],m=r[0],A=r[1],w=r[4],v=r[5],g=0;g<n;g++)u=(s=t[l])*m+o*A+h*w+f*v,f=h,h=u,o=s,i[d]=h,d++,l++;for(d--,c+=a*(n-1),h=f=(o=t[--l])*r[7],s=o,m=r[2],A=r[3],g=n-1;g>=0;g--)u=s*m+o*A+h*w+f*v,f=h,h=u,o=s,s=t[l],e[c]=i[d]+h,l--,d--,c-=a}}var a,o,s,u,h,f,l,c;e.exports=function(t,e,i,a){if(a){var o=new Uint16Array(t.length),s=new Float32Array(Math.max(e,i)),u=r(a);n(t,o,s,u,e,i,a),n(o,t,s,u,i,e,a)}}},{}],14:[function(t,e,i){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,s,u=r(t),h=1;h<arguments.length;h++){i=Object(arguments[h]);for(var f in i)a.call(i,f)&&(u[f]=i[f]);if(n){s=n(i);for(var l=0;l<s.length;l++)o.call(i,s[l])&&(u[s[l]]=i[s[l]])}}return u}},{}],15:[function(t,e,i){var r=arguments[3],n=arguments[4],a=arguments[5],o=JSON.stringify;e.exports=function(t,e){function i(t){m[t]=!0;for(var e in n[t][1]){var r=n[t][1][e];m[r]||i(r)}}for(var s,u=Object.keys(a),h=0,f=u.length;h<f;h++){var l=u[h],c=a[l].exports;if(c===t||c&&c.default===t){s=l;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var d={},h=0,f=u.length;h<f;h++)d[l=u[h]]=l;n[s]=[Function(["require","module","exports"],"("+t+")(self)"),d]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[s]=s,n[p]=[Function(["require"],"var f = require("+o(s)+");(f.default ? f.default : f)(self);"),g];var m={};i(p);var A="("+r+")({"+Object.keys(m).map(function(t){return o(t)+":["+n[t][0]+","+o(n[t][1])+"]"}).join(",")+"},{},["+o(p)+"])",w=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([A],{type:"text/javascript"});if(e&&e.bare)return v;var b=w.createObjectURL(v),_=new Worker(b);return _.objectURL=b,_}},{}],"/":[function(t,e,i){"use strict";function r(){return{value:o(f),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var t=window.URL||window.webkitURL||window.mozURL||window.msURL;t&&t.revokeObjectURL&&this.value.objectURL&&t.revokeObjectURL(this.value.objectURL)}}}}function n(t){if(!(this instanceof n))return new n(t);this.options=a(g,t||{});var e="lk_"+this.options.concurrency;this.__limit=c[e]||h.limiter(this.options.concurrency),c[e]||(c[e]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}var a=t("object-assign"),o=t("webworkify"),s=t("./lib/mathlib"),u=t("./lib/pool"),h=t("./lib/utils"),f=t("./lib/worker"),l=t("./lib/tiler"),c={},d=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(d=navigator.userAgent.indexOf("Safari")>=0)}catch(t){}var p=1;"undefined"!=typeof navigator&&(p=Math.min(navigator.hardwareConcurrency||1,4));var g={tile:1024,concurrency:p,features:["js","wasm","ww"],idle:2e3},m={quality:3,alpha:!1,unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},A=void 0,w=void 0;n.prototype.init=function(){var e=this;if(this.__initPromise)return this.__initPromise;if(!1!==A&&!0!==A&&(A=!1,"undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray))try{new ImageData(new Uint8ClampedArray(400),10,10),A=!0}catch(t){}!1!==w&&!0!==w&&(w=!1,"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?w=!0:this.debug("ImageBitmap does not support .close(), disabled")));var i=this.options.features.slice();if(i.indexOf("all")>=0&&(i=["cib","wasm","js","ww"]),this.__requested_features=i,this.__mathlib=new s(i),i.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{t("webworkify")(function(){}).terminate(),this.features.ww=!0;var n="wp_"+JSON.stringify(this.options);c[n]?this.__workersPool=c[n]:(this.__workersPool=new u(r,this.options.idle),c[n]=this.__workersPool)}catch(t){}var o=this.__mathlib.init().then(function(t){a(e.features,t.features)}),f=void 0;return f=w?h.cib_support().then(function(t){e.features.cib&&i.indexOf("cib")<0?e.debug("createImageBitmap() resize supported, but disabled by config"):i.indexOf("cib")>=0&&(e.features.cib=t)}):Promise.resolve(!1),this.__initPromise=Promise.all([o,f]).then(function(){return e}),this.__initPromise},n.prototype.resize=function(t,e,i){var r=this;this.debug("Start resize...");var n=m;isNaN(i)?i&&(n=a(n,i)):n=a(n,{quality:i}),n.toWidth=e.width,n.toHeigth=e.height,n.width=t.naturalWidth||t.width,n.height=t.naturalHeight||t.height;var o=!1,s=null;n.cancelToken&&(s=n.cancelToken.then(function(t){throw o=!0,t},function(t){throw o=!0,t}));var u=e.getContext("2d",{alpha:Boolean(n.alpha)});return this.init().then(function(){if(o)return s;if(r.features.cib)return r.debug("Resize via createImageBitmap()"),createImageBitmap(t,{resizeWidth:n.toWidth,resizeHeight:n.toHeigth,resizeQuality:h.cib_quality_name(n.quality)}).then(function(t){if(o)return s;if(!n.unsharpAmount)return u.drawImage(t,0,0),t.close(),u=null,r.debug("Finished!"),e;r.debug("Unsharp result");var i=document.createElement("canvas");i.width=n.toWidth,i.height=n.toHeigth;var a=i.getContext("2d",{alpha:Boolean(n.alpha)});a.drawImage(t,0,0),t.close();var h=a.getImageData(0,0,n.toWidth,n.toHeigth);return r.__mathlib.unsharp(h.data,n.toWidth,n.toHeigth,n.unsharpAmount,n.unsharpRadius,n.unsharpThreshold),u.putImageData(h,0,0),h=a=i=u=null,r.debug("Finished!"),e});var i=void 0,a=void 0,f={},c=function(t){return Promise.resolve().then(function(){return r.features.ww?new Promise(function(e,i){var n=r.__workersPool.acquire();s&&s.catch(function(t){return i(t)}),n.value.onmessage=function(t){n.release(),t.data.err?i(t.data.err):e(t.data.result)},n.value.postMessage({opts:t,features:r.__requested_features,preload:{wasm_nodule:r.__mathlib.__}},[t.src.buffer])}):r.__mathlib.resizeAndUnsharp(t,f)})},p=function(e){return r.__limit(function(){if(o)return s;var f=void 0;if(h.isCanvas(t))r.debug("Get tile pixel data"),f=i.getImageData(e.x,e.y,e.width,e.height);else{r.debug("Draw tile imageBitmap/image to temporary canvas");var l=document.createElement("canvas");l.width=e.width,l.height=e.height;var p=l.getContext("2d",{alpha:Boolean(n.alpha)});p.globalCompositeOperation="copy",p.drawImage(a||t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),r.debug("Get tile pixel data"),f=p.getImageData(0,0,e.width,e.height),p=l=null}var g={src:f.data,width:e.width,height:e.height,toWidth:e.toWidth,toHeight:e.toHeight,scaleX:e.scaleX,scaleY:e.scaleY,offsetX:e.offsetX,offsetY:e.offsetY,quality:n.quality,alpha:n.alpha,unsharpAmount:n.unsharpAmount,unsharpRadius:n.unsharpRadius,unsharpThreshold:n.unsharpThreshold};return r.debug("Invoke resize math"),Promise.resolve().then(function(){return c(g)}).then(function(t){if(o)return s;f=null;var i=void 0;if(r.debug("Convert raw rgba tile result to ImageData"),A)i=new ImageData(new Uint8ClampedArray(t),e.toWidth,e.toHeight);else if((i=u.createImageData(e.toWidth,e.toHeight)).data.set)i.data.set(t);else for(var n=i.data.length-1;n>=0;n--)i.data[n]=t[n];return r.debug("Draw tile"),d?u.putImageData(i,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth+1e-5,e.toInnerHeight+1e-5):u.putImageData(i,e.toX,e.toY,e.toInnerX-e.toX,e.toInnerY-e.toY,e.toInnerWidth,e.toInnerHeight),null})})};return Promise.resolve().then(function(){if(h.isCanvas(t))return i=t.getContext("2d",{alpha:Boolean(n.alpha)}),null;if(h.isImage(t))return w?(r.debug("Decode image via createImageBitmap"),createImageBitmap(t).then(function(t){a=t})):null;throw new Error('".from" should be image or canvas')}).then(function(){function t(){a&&(a.close(),a=null)}if(o)return s;r.debug("Calculate tiles");var i=l({width:n.width,height:n.height,srcTileSize:r.options.tile,toWidth:n.toWidth,toHeight:n.toHeigth,destTileBorder:Math.ceil(Math.max(3,2.5*n.unsharpRadius|0))}).map(function(t){return p(t)});return r.debug("Process tiles"),Promise.all(i).then(function(){return r.debug("Finished!"),t(),e},function(e){throw t(),e})})})},n.prototype.resizeBuffer=function(t){var e=this,i=a(m,t);return this.init().then(function(){return e.__mathlib.resizeAndUnsharp(i)})},n.prototype.toBlob=function(t,e,i){return e=e||"image/png",new Promise(function(r){if(t.toBlob)t.toBlob(function(t){return r(t)},e,i);else{for(var n=atob(t.toDataURL(e,i).split(",")[1]),a=n.length,o=new Uint8Array(a),s=0;s<a;s++)o[s]=n.charCodeAt(s);r(new Blob([o],{type:e}))}})},n.prototype.debug=function(){},e.exports=n},{"./lib/mathlib":1,"./lib/pool":9,"./lib/tiler":10,"./lib/utils":11,"./lib/worker":12,"object-assign":14,webworkify:15}]},{},[])("/")});define("filesystem/impls/filer/lib/ImageResizer",["require","exports","module","filesystem/impls/filer/lib/content","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/lib/Sizes","Pica"],function(require,exports,module){"use strict";var Content=require("filesystem/impls/filer/lib/content");var Path=require("filesystem/impls/filer/FilerUtils").Path;var Buffer=require("filesystem/impls/filer/FilerUtils").Buffer;var decodePath=require("filesystem/impls/filer/FilerUtils").decodePath;var base64ToBuffer=require("filesystem/impls/filer/FilerUtils").base64ToBuffer;var Sizes=require("filesystem/impls/filer/lib/Sizes");var pica=require("Pica")();var MAX_RESIZE_PASSES=5;function ImageResizer(path,data){this.path=decodePath(path);this.type=Content.mimeFromExt(Path.extname(this.path));this.size=data.length;this.blob=new Blob([data],{type:this.type});this.url=URL.createObjectURL(this.blob);this.canvas=document.createElement("canvas")}ImageResizer.prototype.cleanup=function(){URL.revokeObjectURL(this.url)};ImageResizer.prototype.resizedToBuffer=function(callback){var canvas=this.canvas;if(canvas.toBlob){canvas.toBlob(function(blob){var fileReader=new FileReader;fileReader.onload=function(){delete fileReader.onload;var buffer=new Buffer(this.result);callback(null,buffer)};fileReader.onerror=function(){callback(new Error("unable to read data"))};fileReader.readAsArrayBuffer(blob)})}else{var base64Str=canvas.toDataURL(self.type).split(",")[1];var buffer=base64ToBuffer(base64Str);callback(null,buffer)}};ImageResizer.prototype.resize=function(callback){var self=this;var buffer;var passes=0;var TARGET_SIZE=Sizes.RESIZED_IMAGE_TARGET_SIZE_KB;var scale=Math.min(Math.sqrt(TARGET_SIZE/self.size),1);var step=scale/2;function unexpectedInitialGuess(bufferSize){if(bufferSize<TARGET_SIZE*.5){return true}if(bufferSize>TARGET_SIZE*1.5){return true}return false}function redoInitialGuess(currentScale,bufferSize){var csSquared=currentScale*currentScale;var DERIVED_ORIGINAL_SIZE=bufferSize/csSquared;scale=Math.min(Math.sqrt(TARGET_SIZE/DERIVED_ORIGINAL_SIZE),1);step=scale/2}function finish(err,buffer){delete img.onload;delete img.onerror;self.cleanup();callback(err,buffer)}function resizePass(){if(passes++>MAX_RESIZE_PASSES){return finish(null,buffer)}self.canvas.width=img.width*scale;self.canvas.height=img.height*scale;var alpha=true;pica.resize(img,self.canvas,{alpha:alpha}).then(function(){self.resizedToBuffer(function(err,resizedBuffer){if(err){return finish(err)}buffer=resizedBuffer;var bufferSize=buffer.length;if(bufferSize>TARGET_SIZE+Sizes.IMAGE_RESIZE_TOLERANCE_KB){if(passes===1&&unexpectedInitialGuess(bufferSize)){redoInitialGuess(scale,bufferSize)}else{scale=scale-step;step/=2}resizePass()}else if(bufferSize<TARGET_SIZE-Sizes.IMAGE_RESIZE_TOLERANCE_KB&&scale<1){if(passes===1&&unexpectedInitialGuess(bufferSize)){redoInitialGuess(scale,bufferSize)}else{scale=Math.min(scale+step,1);step/=2}resizePass()}else{finish(null,buffer)}})}).catch(finish)}var img=new Image;img.onload=resizePass;img.onerror=function(){finish(new Error("Unable to load image for resizing"))};img.src=self.url};function resize(path,data,callback){var resizer=new ImageResizer(path,data);resizer.resize(callback)}exports.resize=resize});define("fileSystemImpl",["require","exports","module","filesystem/FileSystemError","filesystem/FileSystemStats","filesystem/impls/filer/BracketsFiler","filesystem/impls/filer/UrlCache","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/lib/handlers","filesystem/impls/filer/lib/content","utils/Async","bramble/BrambleEvents","filesystem/impls/filer/FileSystemCache","filesystem/impls/filer/lib/ImageResizer"],function(require,exports,module){"use strict";var FileSystemError=require("filesystem/FileSystemError"),FileSystemStats=require("filesystem/FileSystemStats"),BracketsFiler=require("filesystem/impls/filer/BracketsFiler"),UrlCache=require("filesystem/impls/filer/UrlCache"),decodePath=require("filesystem/impls/filer/FilerUtils").decodePath,Handlers=require("filesystem/impls/filer/lib/handlers"),Content=require("filesystem/impls/filer/lib/content"),Async=require("utils/Async"),BrambleEvents=require("bramble/BrambleEvents"),FileSystemCache=require("filesystem/impls/filer/FileSystemCache"),ImageResizer=require("filesystem/impls/filer/lib/ImageResizer");var fs=BracketsFiler.fs(),Path=BracketsFiler.Path,watchers={};var _doConsistencyCheck=false;var _changeCallback;function showOpenDialog(allowMultipleSelection,chooseDirectories,title,initialPath,fileTypes,callback){throw new Error("Filer dialogs not supported. See: https://github.com/humphd/brackets/pull/309")}function showSaveDialog(title,initialPath,defaultName,callback){throw new Error("Filer dialogs not supported. See: https://github.com/humphd/brackets/pull/309")}function _mapError(err){if(!err){return null}if(typeof err==="string"){return err}switch(err.code){case"EINVAL":return FileSystemError.INVALID_PARAMS;case"ENOENT":return FileSystemError.NOT_FOUND;case"EROFS":return FileSystemError.NOT_WRITABLE;case"ENOSPC":return FileSystemError.OUT_OF_SPACE;case"ENOTEMPTY":return"Directory Not Empty";case"EEXIST":return FileSystemError.ALREADY_EXISTS;case"ENOTDIR":
return FileSystemError.INVALID_PARAMS;case"EBADF":return FileSystemError.NOT_READABLE}console.log("[Brackets Filesystem] Unknown I/O error",err);return FileSystemError.UNKNOWN}function _wrap(cb){return function(err){var args=Array.prototype.slice.call(arguments);args[0]=_mapError(args[0]);cb.apply(null,args)}}function stat(path,callback){path=decodePath(path);fs.stat(path,function(err,stats){if(err){callback(_mapError(err));return}var mtime=new Date(stats.mtime);var options={isFile:stats.type==="FILE",mtime:mtime,size:stats.size,realPath:path,hash:mtime.getTime()};var fsStats=new FileSystemStats(options);callback(null,fsStats)})}function exists(path,callback){path=decodePath(path);fs.exists(path,function(exists){callback(null,exists)})}function readdir(path,callback){path=decodePath(path);path=Path.normalize(path);fs.readdir(path,function(err,contents){if(err){callback(_mapError(err));return}var count=contents.length;if(!count){callback(null,[],[]);return}var stats=[];contents.forEach(function(val,idx){stat(Path.join(path,val),function(err,stat){stats[idx]=err||stat;count--;if(count<=0){callback(null,contents,stats)}})})})}function mkdir(path,mode,callback){path=decodePath(path);if(typeof mode==="function"){callback=mode}fs.mkdir(path,mode,function(err){if(err){callback(_mapError(err));return}stat(path,callback)})}function rename(oldPath,newPath,callback){oldPath=decodePath(oldPath);newPath=decodePath(newPath);function updateURL(err){if(err){return callback(_mapError(err))}UrlCache.rename(oldPath,newPath,function(err){if(err){return callback(_mapError(err))}stat(newPath,function(err,stat){if(err){return callback(_mapError(err))}if(stat.isFile){BrambleEvents.triggerFileRenamed(oldPath,newPath)}callback()})})}fs.rename(oldPath,newPath,_wrap(updateURL))}function readFile(path,options,callback){path=decodePath(path);if(typeof options==="function"){callback=options}options=options||{};options.encoding=options.encoding===null?null:"utf8";var done=false,data,stat,err;if(options.stat){done=true;stat=options.stat}else{exports.stat(path,function(_err,_stat){if(done){callback(_err,_err?null:data,_stat)}else{done=true;stat=_stat;err=_err}})}fs.readFile(path,options.encoding,function(_err,_data){if(_err){callback(_mapError(_err));return}if(done){callback(err,err?null:_data,stat)}else{done=true;data=_data}})}function writeFile(path,data,options,callback){path=decodePath(path);if(typeof options==="function"){callback=options;options=null}options=options||{};options.encoding=options.encoding===null?null:"utf8";function _finishWrite(created){var result={};function runStep(fn){var result=new $.Deferred;fn(function(err){if(err){result.reject(err);return}result.resolve()});return result.promise()}Async.doSequentially([function step1RewriteAndCache(callback){var ext=Path.extname(path);if(Content.isHTML(ext)){return callback()}if(Content.isResizableImage(ext)&&!Content.isAnimatedImage(data)&&Content.isImageTooLarge(data.length)){ImageResizer.resize(path,data,function(err,resized){if(err){return callback(err)}data=resized;Handlers.handleFile(path,data,callback)})}else{Handlers.handleFile(path,data,callback)}},function step2RemoteWriteFile(callback){fs.writeFile(path,data,options.encoding,function(err){if(err){callback(err);return}stat(path,function(err,stat){result.stat=stat;result.created=created;callback(err)})})}],runStep,true).then(function(err){if(err){callback(_mapError(err));return}callback(null,result.stat,result.created)})}stat(path,function(err,stats){if(err){switch(err){case FileSystemError.NOT_FOUND:_finishWrite(true);break;default:callback(err)}return}if(_doConsistencyCheck&&options.hasOwnProperty("expectedHash")&&options.expectedHash!==stats._hash){console.error("Blind write attempted: ",path,stats._hash,options.expectedHash);if(options.hasOwnProperty("expectedContents")){fs.readFile(path,options.encoding,function(_err,_data){if(_err||_data!==options.expectedContents){callback(FileSystemError.CONTENTS_MODIFIED);return}_finishWrite(false)});return}else{callback(FileSystemError.CONTENTS_MODIFIED);return}}_finishWrite(false)})}function _rmfr(path,callback){fs.rm(path,{recursive:true},function(err){if(err){callback(_mapError(err));return}UrlCache.remove(path,function(err,removed){if(err){callback(_mapError(err));return}removed.forEach(function(filename){BrambleEvents.triggerFileRemoved(filename)});callback()})})}function unlink(path,callback){path=decodePath(path);_rmfr(path,callback)}function moveToTrash(path,callback){path=decodePath(path);_rmfr(path,callback)}function initWatchers(changeCallback,offlineCallback){_changeCallback=changeCallback}function watchPath(path,filterGlobs,callback){path=decodePath(path);path=Path.normalize(path);if(typeof filterGlobs==="function"){callback=filterGlobs}if(watchers[path]){return}watchers[path]=fs.watch(path,{recursive:true},function(event,filename){stat(filename,function(err,stats){if(err){return}_changeCallback(filename,stats)})});callback()}function unwatchPath(path,callback){path=decodePath(path);path=Path.normalize(path);if(watchers[path]){watchers[path].close();delete watchers[path]}callback()}function unwatchAll(callback){Object.keys(watchers).forEach(function(path){unwatchPath(path,function(){})});callback()}exports.showOpenDialog=showOpenDialog;exports.showSaveDialog=showSaveDialog;exports.exists=exists;exports.readdir=readdir;exports.mkdir=mkdir;exports.rename=rename;exports.stat=stat;exports.readFile=readFile;exports.writeFile=writeFile;exports.unlink=unlink;exports.moveToTrash=moveToTrash;exports.initWatchers=initWatchers;exports.watchPath=watchPath;exports.unwatchPath=unwatchPath;exports.unwatchAll=unwatchAll;exports.recursiveWatch=true;exports.normalizeUNCPaths=false});define("filesystem/FileSystem",["require","exports","module","filesystem/Directory","filesystem/File","filesystem/FileIndex","filesystem/FileSystemError","filesystem/WatchedRoot","utils/EventDispatcher","fileSystemImpl"],function(require,exports,module){"use strict";var Directory=require("filesystem/Directory"),File=require("filesystem/File"),FileIndex=require("filesystem/FileIndex"),FileSystemError=require("filesystem/FileSystemError"),WatchedRoot=require("filesystem/WatchedRoot"),EventDispatcher=require("utils/EventDispatcher");function FileSystem(){this._index=new FileIndex;this._watchedRoots={};this._watchRequests=[];this._externalChanges=[]}EventDispatcher.makeEventDispatcher(FileSystem.prototype);FileSystem.prototype._impl=null;FileSystem.prototype._index=null;FileSystem.prototype._activeChangeCount=0;FileSystem.prototype._getActiveChangeCount=function(){return this._activeChangeCount};FileSystem.prototype._externalChanges=null;FileSystem.prototype._triggerExternalChangesNow=function(){this._externalChanges.forEach(function(info){this._handleExternalChange(info.path,info.stat)},this);this._externalChanges.length=0};FileSystem.prototype._enqueueExternalChange=function(path,stat){this._externalChanges.push({path:path,stat:stat});if(!this._activeChangeCount){this._triggerExternalChangesNow()}};FileSystem.prototype._watchRequests=null;FileSystem.prototype._dequeueWatchRequest=function(){if(this._watchRequests.length>0){var request=this._watchRequests[0];request.fn.call(null,function(){var callbackArgs=arguments;try{request.cb.apply(null,callbackArgs)}finally{this._watchRequests.shift();this._dequeueWatchRequest()}}.bind(this))}};FileSystem.prototype._enqueueWatchRequest=function(fn,cb){this._watchRequests.push({fn:fn,cb:cb});if(this._watchRequests.length===1){this._dequeueWatchRequest()}};FileSystem.prototype._watchedRoots=null;FileSystem.prototype._findWatchedRootForPath=function(fullPath){var watchedRoot=null;Object.keys(this._watchedRoots).some(function(watchedPath){if(fullPath.indexOf(watchedPath)===0){watchedRoot=this._watchedRoots[watchedPath];return true}},this);return watchedRoot};FileSystem.prototype._watchOrUnwatchEntry=function(entry,watchedRoot,callback,shouldWatch){var impl=this._impl,recursiveWatch=impl.recursiveWatch,commandName=shouldWatch?"watchPath":"unwatchPath",filterGlobs=watchedRoot.filterGlobs;if(recursiveWatch){if(entry!==watchedRoot.entry){callback(null)}else{this._enqueueWatchRequest(function(requestCb){impl[commandName].call(impl,entry.fullPath,filterGlobs,requestCb)}.bind(this),callback)}}else if(shouldWatch){this._enqueueWatchRequest(function(requestCb){var entriesToWatch=[];var visitor=function(child){if(watchedRoot.filter(child.name,child.parentPath)){if(child.isDirectory||child===watchedRoot.entry){entriesToWatch.push(child)}return true}return false};entry.visit(visitor,function(err){if(err){requestCb(err);return}var count=entriesToWatch.length;if(count===0){requestCb(null);return}var watchCallback=function(){if(--count===0){requestCb(null)}};entriesToWatch.forEach(function(entry){impl.watchPath(entry.fullPath,filterGlobs,watchCallback)})})},callback)}else{this._enqueueWatchRequest(function(requestCb){impl.unwatchPath(entry.fullPath,requestCb)},callback)}};FileSystem.prototype._watchEntry=function(entry,watchedRoot,callback){this._watchOrUnwatchEntry(entry,watchedRoot,callback,true)};FileSystem.prototype._unwatchEntry=function(entry,watchedRoot,callback){this._watchOrUnwatchEntry(entry,watchedRoot,function(err){this._index.visitAll(function(child){if(child.fullPath.indexOf(entry.fullPath)===0){child._clearCachedData(true)}}.bind(this));callback(err)}.bind(this),false)};FileSystem.prototype.init=function(impl){console.assert(!this._impl,"This FileSystem has already been initialized!");var changeCallback=this._enqueueExternalChange.bind(this),offlineCallback=this._unwatchAll.bind(this);this._impl=impl;this._impl.initWatchers(changeCallback,offlineCallback)};FileSystem.prototype.close=function(){this._impl.unwatchAll();this._index.clear()};FileSystem.prototype._indexFilter=function(path,name){var parentRoot=this._findWatchedRootForPath(path);if(parentRoot){return parentRoot.filter(name,path)}return true};FileSystem.prototype._beginChange=function(){this._activeChangeCount++};FileSystem.prototype._endChange=function(){this._activeChangeCount--;if(this._activeChangeCount<0){console.error("FileSystem _activeChangeCount has fallen below zero!")}if(!this._activeChangeCount){this._triggerExternalChangesNow()}};FileSystem.isAbsolutePath=function(fullPath){return fullPath[0]==="/"||fullPath[1]===":"&&fullPath[2]==="/"};function _ensureTrailingSlash(path){if(path[path.length-1]!=="/"){path+="/"}return path}var _DUPLICATED_SLASH_RE=/\/{2,}/g;FileSystem.prototype._normalizePath=function(path,isDirectory){if(!FileSystem.isAbsolutePath(path)){throw new Error("Paths must be absolute: '"+path+"'")}var isUNCPath=this._impl.normalizeUNCPaths&&path.search(_DUPLICATED_SLASH_RE)===0;path=path.replace(_DUPLICATED_SLASH_RE,"/");if(path.indexOf("..")!==-1){var segments=path.split("/"),i;for(i=1;i<segments.length;i++){if(segments[i]===".."){if(i<2){throw new Error("Invalid absolute path: '"+path+"'")}segments.splice(i-1,2);i-=2}}path=segments.join("/")}if(isDirectory){path=_ensureTrailingSlash(path)}if(isUNCPath){path="/"+path}return path};FileSystem.prototype.addEntryForPathIfRequired=function(fileEntry,path){var entry=this._index.getEntry(path);if(!entry){this._index.addEntry(fileEntry)}};FileSystem.prototype._getEntryForPath=function(EntryConstructor,path){var isDirectory=EntryConstructor===Directory;path=this._normalizePath(path,isDirectory);var entry=this._index.getEntry(path);if(!entry){entry=new EntryConstructor(path,this);this._index.addEntry(entry)}return entry};FileSystem.prototype.getFileForPath=function(path){return this._getEntryForPath(File,path)};FileSystem.prototype.getDirectoryForPath=function(path){return this._getEntryForPath(Directory,path)};FileSystem.prototype.resolve=function(path,callback){var normalizedPath=this._normalizePath(path,false),item=this._index.getEntry(normalizedPath);if(!item){normalizedPath=_ensureTrailingSlash(normalizedPath);item=this._index.getEntry(normalizedPath)}if(item){item.stat(function(err,stat){if(err){callback(err);return}callback(null,item,stat)})}else{this._impl.stat(path,function(err,stat){if(err){callback(err);return}if(stat.isFile){item=this.getFileForPath(path)}else{item=this.getDirectoryForPath(path)}if(item._isWatched()){item._stat=stat}callback(null,item,stat)}.bind(this))}};FileSystem.prototype.showOpenDialog=function(allowMultipleSelection,chooseDirectories,title,initialPath,fileTypes,callback){this._impl.showOpenDialog(allowMultipleSelection,chooseDirectories,title,initialPath,fileTypes,callback)};FileSystem.prototype.showSaveDialog=function(title,initialPath,proposedNewFilename,callback){this._impl.showSaveDialog(title,initialPath,proposedNewFilename,callback)};FileSystem.prototype._fireRenameEvent=function(oldPath,newPath){this.trigger("rename",oldPath,newPath)};FileSystem.prototype._fireChangeEvent=function(entry,added,removed){this.trigger("change",entry,added,removed)};FileSystem.prototype._handleRename=function(oldFullPath,newFullPath,isDirectory){this._index.entryRenamed(oldFullPath,newFullPath,isDirectory)};FileSystem.prototype._handleDirectoryChange=function(directory,callback){var oldContents=directory._contents;directory._clearCachedData();directory.getContents(function(err,contents){var addedEntries=oldContents&&contents.filter(function(entry){return oldContents.indexOf(entry)===-1});var removedEntries=oldContents&&oldContents.filter(function(entry){return contents.indexOf(entry)===-1});var watchedRoot=this._findWatchedRootForPath(directory.fullPath);if(!watchedRoot||!watchedRoot.filter(directory.name,directory.parentPath)){this._index.visitAll(function(entry){if(entry.fullPath.indexOf(directory.fullPath)===0){entry._clearCachedData(true)}}.bind(this));callback(addedEntries,removedEntries);return}var addedCounter=addedEntries?addedEntries.length:0,removedCounter=removedEntries?removedEntries.length:0,counter=addedCounter+removedCounter;if(counter===0){callback(addedEntries,removedEntries);return}var watchOrUnwatchCallback=function(err){if(err){console.error("FileSystem error in _handleDirectoryChange after watch/unwatch entries: "+err)}if(--counter===0){callback(addedEntries,removedEntries)}};if(addedEntries){addedEntries.forEach(function(entry){this._watchEntry(entry,watchedRoot,watchOrUnwatchCallback)},this)}if(removedEntries){removedEntries.forEach(function(entry){this._unwatchEntry(entry,watchedRoot,watchOrUnwatchCallback)},this)}}.bind(this))};FileSystem.prototype._handleExternalChange=function(path,stat){if(!path){this._index.visitAll(function(entry){entry._clearCachedData(true)});this._fireChangeEvent(null);return}path=this._normalizePath(path,false);var entry=this._index.getEntry(path);if(entry){var oldStat=entry._stat;if(entry.isFile){if(!(stat&&oldStat&&stat.mtime.getTime()<=oldStat.mtime.getTime())){entry._clearCachedData();entry._stat=stat;this._fireChangeEvent(entry)}}else{this._handleDirectoryChange(entry,function(added,removed){entry._stat=stat;if(entry._isWatched()){this._fireChangeEvent(entry,added,removed)}}.bind(this))}}};FileSystem.prototype.clearAllCaches=function(){this._handleExternalChange(null)};FileSystem.prototype.watch=function(entry,filter,filterGlobs,callback){if(typeof callback==="undefined"&&typeof filterGlobs==="function"){callback=filterGlobs;filterGlobs=null}var fullPath=entry.fullPath;callback=callback||function(){};var watchingParentRoot=this._findWatchedRootForPath(fullPath);if(watchingParentRoot&&(watchingParentRoot.status===WatchedRoot.STARTING||watchingParentRoot.status===WatchedRoot.ACTIVE)){callback("A parent of this root is already watched");return}var watchingChildRoot=Object.keys(this._watchedRoots).some(function(path){var watchedRoot=this._watchedRoots[path],watchedPath=watchedRoot.entry.fullPath;return watchedPath.indexOf(fullPath)===0},this);if(watchingChildRoot&&(watchingChildRoot.status===WatchedRoot.STARTING||watchingChildRoot.status===WatchedRoot.ACTIVE)){callback("A child of this root is already watched");return}var watchedRoot=new WatchedRoot(entry,filter,filterGlobs);this._watchedRoots[fullPath]=watchedRoot;watchedRoot.status=WatchedRoot.STARTING;this._watchEntry(entry,watchedRoot,function(err){if(err){console.warn("Failed to watch root: ",entry.fullPath,err);delete this._watchedRoots[fullPath];callback(err);return}watchedRoot.status=WatchedRoot.ACTIVE;callback(null)}.bind(this))};FileSystem.prototype.unwatch=function(entry,callback){var fullPath=entry.fullPath,watchedRoot=this._watchedRoots[fullPath];callback=callback||function(){};if(!watchedRoot){callback(FileSystemError.ROOT_NOT_WATCHED);return}watchedRoot.status=WatchedRoot.INACTIVE;this._unwatchEntry(entry,watchedRoot,function(err){delete this._watchedRoots[fullPath];this._index.visitAll(function(child){if(child.fullPath.indexOf(entry.fullPath)===0){this._index.removeEntry(child)}}.bind(this));if(err){console.warn("Failed to unwatch root: ",entry.fullPath,err);callback(err);return}callback(null)}.bind(this))};FileSystem.prototype._unwatchAll=function(){console.warn("File watchers went offline!");Object.keys(this._watchedRoots).forEach(function(path){var watchedRoot=this._watchedRoots[path];watchedRoot.status=WatchedRoot.INACTIVE;delete this._watchedRoots[path];this._unwatchEntry(watchedRoot.entry,watchedRoot,function(){console.warn("Watching disabled for",watchedRoot.entry.fullPath)})},this);this._handleExternalChange(null)};var _instance;function _wrap(func){return function(){return func.apply(_instance,arguments)}}exports.init=_wrap(FileSystem.prototype.init);exports.close=_wrap(FileSystem.prototype.close);exports.shouldShow=_wrap(FileSystem.prototype.shouldShow);exports.getFileForPath=_wrap(FileSystem.prototype.getFileForPath);exports.addEntryForPathIfRequired=_wrap(FileSystem.prototype.addEntryForPathIfRequired);exports.getDirectoryForPath=_wrap(FileSystem.prototype.getDirectoryForPath);exports.resolve=_wrap(FileSystem.prototype.resolve);exports.showOpenDialog=_wrap(FileSystem.prototype.showOpenDialog);exports.showSaveDialog=_wrap(FileSystem.prototype.showSaveDialog);exports.watch=_wrap(FileSystem.prototype.watch);exports.unwatch=_wrap(FileSystem.prototype.unwatch);exports.clearAllCaches=_wrap(FileSystem.prototype.clearAllCaches);exports.isAbsolutePath=FileSystem.isAbsolutePath;exports._getActiveChangeCount=_wrap(FileSystem.prototype._getActiveChangeCount);exports.on=function(event,handler){_instance.on(event,handler)};exports.off=function(event,handler){_instance.off(event,handler)};exports._FileSystem=FileSystem;_instance=new FileSystem;_instance.init(require("fileSystemImpl"))});define("utils/KeyEvent",{DOM_VK_CANCEL:3,DOM_VK_HELP:6,DOM_VK_BACK_SPACE:8,DOM_VK_TAB:9,DOM_VK_CLEAR:12,DOM_VK_RETURN:13,DOM_VK_ENTER:14,DOM_VK_SHIFT:16,DOM_VK_CONTROL:17,DOM_VK_ALT:18,DOM_VK_PAUSE:19,DOM_VK_CAPS_LOCK:20,DOM_VK_ESCAPE:27,DOM_VK_SPACE:32,DOM_VK_PAGE_UP:33,DOM_VK_PAGE_DOWN:34,DOM_VK_END:35,DOM_VK_HOME:36,DOM_VK_LEFT:37,DOM_VK_UP:38,DOM_VK_RIGHT:39,DOM_VK_DOWN:40,DOM_VK_PRINTSCREEN:44,DOM_VK_INSERT:45,DOM_VK_DELETE:46,DOM_VK_0:48,DOM_VK_1:49,DOM_VK_2:50,DOM_VK_3:51,DOM_VK_4:52,DOM_VK_5:53,DOM_VK_6:54,DOM_VK_7:55,DOM_VK_8:56,DOM_VK_9:57,DOM_VK_A:65,DOM_VK_B:66,DOM_VK_C:67,DOM_VK_D:68,DOM_VK_E:69,DOM_VK_F:70,DOM_VK_G:71,DOM_VK_H:72,DOM_VK_I:73,DOM_VK_J:74,DOM_VK_K:75,DOM_VK_L:76,DOM_VK_M:77,DOM_VK_N:78,DOM_VK_O:79,DOM_VK_P:80,DOM_VK_Q:81,DOM_VK_R:82,DOM_VK_S:83,DOM_VK_T:84,DOM_VK_U:85,DOM_VK_V:86,DOM_VK_W:87,DOM_VK_X:88,DOM_VK_Y:89,DOM_VK_Z:90,DOM_VK_CONTEXT_MENU:93,DOM_VK_NUMPAD0:96,DOM_VK_NUMPAD1:97,DOM_VK_NUMPAD2:98,DOM_VK_NUMPAD3:99,DOM_VK_NUMPAD4:100,DOM_VK_NUMPAD5:101,DOM_VK_NUMPAD6:102,DOM_VK_NUMPAD7:103,DOM_VK_NUMPAD8:104,DOM_VK_NUMPAD9:105,DOM_VK_MULTIPLY:106,DOM_VK_ADD:107,DOM_VK_SEPARATOR:108,DOM_VK_SUBTRACT:109,DOM_VK_DECIMAL:110,DOM_VK_DIVIDE:111,DOM_VK_F1:112,DOM_VK_F2:113,DOM_VK_F3:114,DOM_VK_F4:115,DOM_VK_F5:116,DOM_VK_F6:117,DOM_VK_F7:118,DOM_VK_F8:119,DOM_VK_F9:120,DOM_VK_F10:121,DOM_VK_F11:122,DOM_VK_F12:123,DOM_VK_F13:124,DOM_VK_F14:125,DOM_VK_F15:126,DOM_VK_F16:127,DOM_VK_F17:128,DOM_VK_F18:129,DOM_VK_F19:130,DOM_VK_F20:131,DOM_VK_F21:132,DOM_VK_F22:133,DOM_VK_F23:134,DOM_VK_F24:135,DOM_VK_NUM_LOCK:144,DOM_VK_SCROLL_LOCK:145,DOM_VK_SEMICOLON:186,DOM_VK_EQUALS:187,DOM_VK_COMMA:188,DOM_VK_DASH:189,DOM_VK_PERIOD:190,DOM_VK_SLASH:191,DOM_VK_BACK_QUOTE:192,DOM_VK_OPEN_BRACKET:219,DOM_VK_BACK_SLASH:220,DOM_VK_CLOSE_BRACKET:221,DOM_VK_QUOTE:222,DOM_VK_META:224});define("text!base-config/keyboard.json",[],function(){return'{\n    "file.close_all":  [\n        "Ctrl-Shift-W"\n    ],\n    "file.save":  [\n        "Ctrl-S"\n    ],\n    "file.saveAll":  [\n        "Ctrl-Alt-S"\n    ],\n    "file.liveFilePreview":  [\n        "Ctrl-Alt-P"\n    ],\n    "file.reloadLivePreview": [\n        {\n            "key": "Ctrl-Shift-R"\n        }\n    ],\n    "file.previewHighlight":  [\n        "Ctrl-Shift-C"\n    ],\n    "file.quit":  [\n        "Ctrl-Q"\n    ],\n    "edit.undo": [\n        "Ctrl-Z"\n    ],\n    "edit.redo": [\n        {\n            "key": "Ctrl-Y"\n        },\n        {\n            "key": "Cmd-Shift-Z",\n            "platform": "mac"\n        }\n    ],\n    "edit.selectAll":  [\n        "Ctrl-A"\n    ],\n    "edit.splitSelIntoLines": [\n        {\n           "key": "Ctrl-Alt-L"\n        },\n        {\n           "key":"Ctrl-Shift-L",\n           "platform": "linux"\n        }\n    ],\n    "edit.addCursorToPrevLine": [\n        {\n            "key": "Shift-Alt-Up",\n            "displayKey": "Shift-Alt-↑"\n        }\n    ],\n    "edit.addCursorToNextLine": [\n        {\n            "key": "Shift-Alt-Down",\n            "displayKey": "Shift-Alt-↓"\n        }\n    ],\n    "edit.duplicate":  [\n        "Ctrl-D"\n    ],\n    "edit.deletelines":  [\n        "Ctrl-Shift-D"\n    ],\n    "edit.lineUp":  [\n        {\n            "key": "Ctrl-Shift-Up",\n            "displayKey": "Ctrl-Shift-↑"\n        },\n        {\n            "key": "Cmd-Ctrl-Up",\n            "displayKey": "Cmd-Ctrl-↑",\n            "platform": "mac"\n        }\n    ],\n    "edit.lineDown":  [\n        {\n            "key": "Ctrl-Shift-Down",\n            "displayKey": "Ctrl-Shift-↓"\n        },\n        {\n            "key": "Cmd-Ctrl-Down",\n            "displayKey": "Cmd-Ctrl-↓",\n            "platform": "mac"\n        }\n    ],\n    "edit.openLineAbove":  [\n        "Ctrl-Shift-Enter"\n    ],\n    "edit.openLineBelow":  [\n        "Ctrl-Enter"\n    ],\n    "edit.lineComment":  [\n        "Ctrl-/"\n    ],\n    "edit.blockComment":  [\n        {\n            "key": "Ctrl-Shift-/"\n        },\n        {\n            "key": "Cmd-Opt-/",\n            "platform": "mac"\n        }\n    ],\n    "edit.showCodeHints":  [\n        {\n            "key": "Ctrl-Space"\n        },\n        {\n            "key": "Ctrl-Space",\n            "platform": "mac"\n        }\n    ],\n    "cmd.find":  [\n        "Ctrl-F"\n    ],\n    "cmd.findInFiles":  [\n        "Ctrl-Shift-F"\n    ],\n    "cmd.replaceInFiles":  [\n        {\n            "key": "Ctrl-Shift-H"\n        },\n        {\n            "key": "Cmd-Opt-Shift-F",\n            "platform": "mac"\n        }\n    ],\n    "cmd.findNext":  [\n        {\n            "key": "F3"\n        },\n        {\n            "key": "Cmd-G",\n            "platform": "mac"\n        }\n    ],\n    "cmd.findPrevious":  [\n        {\n            "key": "Shift-F3"\n        },\n        {\n            "key": "Cmd-Shift-G",\n            "platform": "mac"\n        }\n    ],\n    "cmd.findAllAndSelect": [\n        {\n            "key": "Alt-F3"\n        },\n        {\n            "key": "Cmd-Ctrl-G",\n            "platform": "mac"\n        }\n    ],\n    "cmd.addNextMatch": [\n        {\n            "key": "Ctrl-B"\n        }\n    ],\n    "cmd.skipCurrentMatch": [\n        {\n            "key": "Ctrl-Shift-B"\n        }\n    ],\n    "cmd.replace":  [\n        {\n            "key": "Ctrl-H"\n        },\n        {\n            "key": "Cmd-Opt-F",\n            "platform": "mac"\n        }\n    ],\n    "view.toggleSidebar":  [\n        {   \n            "key" : "Ctrl-Alt-H"\n        },\n        {\n            "key": "Cmd-Shift-H",\n            "platform": "mac"\n        }\n    ],\n    "view.increaseFontSize":  [\n        {\n            "key": "Ctrl-=",\n            "displayKey": "Ctrl-+"\n        },\n        {\n            "key": "Ctrl-+"\n        }\n    ],\n    "view.decreaseFontSize":  [\n        {\n            "key": "Ctrl--",\n            "displayKey": "Ctrl-−"\n        }\n    ],\n    "view.restoreFontSize":  [\n        "Ctrl-0"\n    ],\n    "view.scrollLineUp":  [\n        {\n            "key": "Ctrl-Up",\n            "displayKey": "Ctrl-\\u2191"\n        },\n        {\n            "key": "Ctrl-Opt-Up",\n            "displayKey": "Ctrl-Opt-\\u2191",\n            "platform": "mac"\n        }\n    ],\n    "view.scrollLineDown":  [\n        {\n            "key": "Ctrl-Down",\n            "displayKey": "Ctrl-\\u2193"\n        },\n        {\n            "key": "Ctrl-Opt-Down",\n            "displayKey": "Ctrl-Opt-\\u2193",\n            "platform": "mac"\n        }\n    ],\n    "navigate.quickOpen":  [\n        "Ctrl-Shift-O"\n    ],\n    "navigate.gotoLine":  [\n        {\n            "key": "Ctrl-G"\n        }\n    ],\n    "navigate.gotoDefinition":  [\n        "Alt-T"\n    ],\n    "navigate.jumptoDefinition":  [\n        {\n            "key": "Ctrl-J"\n        },\n        {\n            "key": "Alt-J"\n        }\n    ],\n    "navigate.gotoFirstProblem":  [\n        {\n            "key": "F8"\n        },\n        {\n            "key": "Cmd-\'",\n            "platform": "mac"\n        }\n    ],\n    "navigate.toggleQuickEdit":  [\n        {\n            "key": "Alt-E"\n        },\n        {\n            "key": "Ctrl-E"\n        }\n    ],\n    "navigate.toggleQuickDocs":  [\n        "Alt-K"\n    ],\n    "navigate.previousMatch":  [\n        {\n            "key": "Alt-Up",\n            "displayKey": "Alt-↑"\n        }\n    ],\n    "navigate.nextMatch":  [\n        {\n            "key": "Alt-Down",\n            "displayKey": "Alt-↓"\n        }\n    ],\n    "navigate.newRule":  [\n        "Ctrl-Alt-N"\n    ],\n    "file.rename":  [\n        "F2"\n    ],\n    "help.support": [\n        "F1"\n    ]\n}\n'});define("command/KeyBindingManager",["require","exports","module","utils/Global","utils/AppInit","command/Commands","command/CommandManager","widgets/DefaultDialogs","utils/EventDispatcher","filesystem/FileSystem","filesystem/FileSystemError","file/FileUtils","utils/KeyEvent","strings","utils/StringUtils","utils/UrlParams","thirdparty/lodash","text!base-config/keyboard.json"],function(require,exports,module){"use strict";require("utils/Global");var AppInit=require("utils/AppInit"),Commands=require("command/Commands"),CommandManager=require("command/CommandManager"),DefaultDialogs=require("widgets/DefaultDialogs"),EventDispatcher=require("utils/EventDispatcher"),FileSystem=require("filesystem/FileSystem"),FileSystemError=require("filesystem/FileSystemError"),FileUtils=require("file/FileUtils"),KeyEvent=require("utils/KeyEvent"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),UrlParams=require("utils/UrlParams").UrlParams,_=require("thirdparty/lodash");var KeyboardPrefs=JSON.parse(require("text!base-config/keyboard.json"));var KEYMAP_FILENAME="keymap.json",_userKeyMapFilePath=brackets.app.getApplicationSupportDirectory()+"/"+KEYMAP_FILENAME;var _keyMap={},_defaultKeyMap={};var _customKeyMap={},_customKeyMapCache={};var _commandMap={};var _allCommands=[];var _displayKeyMap={up:"↑",down:"↓",left:"←",right:"→","-":"−"};var _specialCommands=[Commands.EDIT_UNDO,Commands.EDIT_REDO,Commands.EDIT_SELECT_ALL,Commands.EDIT_CUT,Commands.EDIT_COPY,Commands.EDIT_PASTE],_reservedShortcuts=["Ctrl-Z","Ctrl-Y","Ctrl-A","Ctrl-X","Ctrl-C","Ctrl-V"],_macReservedShortcuts=["Cmd-,","Cmd-H","Cmd-Alt-H","Cmd-M","Cmd-Shift-Z","Cmd-Q"],_keyNames=["Up","Down","Left","Right","Backspace","Enter","Space","Tab","PageUp","PageDown","Home","End","Insert","Delete"];var _showErrors=true;var _enabled=true;var _globalKeydownHooks=[];var _loadUserKeyMap;var CtrlDownStates={NOT_YET_DETECTED:0,DETECTED:1,DETECTED_AND_IGNORED:2};var _ctrlDown=CtrlDownStates.NOT_YET_DETECTED,_altGrDown=false;var _lastTimeStamp;var _lastKeyIdentifier;var MAX_INTERVAL_FOR_CTRL_ALT_KEYS=30;var _onCtrlUp;function _quitAltGrMode(){_enabled=true;_ctrlDown=CtrlDownStates.NOT_YET_DETECTED;_altGrDown=false;_lastTimeStamp=null;_lastKeyIdentifier=null;$(window).off("keyup",_onCtrlUp)}_onCtrlUp=function(e){var key=e.keyCode||e.which;if(_altGrDown&&key===KeyEvent.DOM_VK_CONTROL){_quitAltGrMode()}};function _detectAltGrKeyDown(e){if(brackets.platform!=="win"){return}if(!_altGrDown){if(_ctrlDown!==CtrlDownStates.DETECTED_AND_IGNORED&&e.ctrlKey&&e.keyIdentifier==="Control"){_ctrlDown=CtrlDownStates.DETECTED}else if(e.repeat&&e.ctrlKey&&e.keyIdentifier==="Control"){_ctrlDown=CtrlDownStates.DETECTED_AND_IGNORED}else if(_ctrlDown===CtrlDownStates.DETECTED&&e.altKey&&e.ctrlKey&&e.keyIdentifier==="Alt"&&e.timeStamp-_lastTimeStamp<MAX_INTERVAL_FOR_CTRL_ALT_KEYS){_altGrDown=true;_lastKeyIdentifier="Alt";_enabled=false;$(window).on("keyup",_onCtrlUp)}else{_ctrlDown=CtrlDownStates.NOT_YET_DETECTED}_lastTimeStamp=e.timeStamp}else if(e.keyIdentifier==="Control"||e.keyIdentifier==="Alt"){if(e.altKey&&e.ctrlKey&&e.keyIdentifier===_lastKeyIdentifier){_quitAltGrMode()}else{_lastKeyIdentifier=e.keyIdentifier}}}function _reset(){_keyMap={};_defaultKeyMap={};_customKeyMap={};_customKeyMapCache={};_commandMap={};_globalKeydownHooks=[];_userKeyMapFilePath=brackets.app.getApplicationSupportDirectory()+"/"+KEYMAP_FILENAME}function _buildKeyDescriptor(hasMacCtrl,hasCtrl,hasAlt,hasShift,key){if(!key){console.log("KeyBindingManager _buildKeyDescriptor() - No key provided!");return""}var keyDescriptor=[];if(hasMacCtrl){keyDescriptor.push("Ctrl")}if(hasAlt){keyDescriptor.push("Alt")}if(hasShift){keyDescriptor.push("Shift")}if(hasCtrl){if(brackets.platform==="mac"){keyDescriptor.push("Cmd")}else{keyDescriptor.unshift("Ctrl")}}keyDescriptor.push(key);return keyDescriptor.join("-")}function normalizeKeyDescriptorString(origDescriptor){var hasMacCtrl=false,hasCtrl=false,hasAlt=false,hasShift=false,key="",error=false;function _compareModifierString(left,right){if(!left||!right){return false}left=left.trim().toLowerCase();right=right.trim().toLowerCase();return left.length>0&&left===right}origDescriptor.split("-").forEach(function parseDescriptor(ele,i,arr){if(_compareModifierString("ctrl",ele)){if(brackets.platform==="mac"){hasMacCtrl=true}else{hasCtrl=true}}else if(_compareModifierString("cmd",ele)){if(brackets.platform==="mac"){hasCtrl=true}else{error=true}}else if(_compareModifierString("alt",ele)){hasAlt=true}else if(_compareModifierString("opt",ele)){if(brackets.platform==="mac"){hasAlt=true}else{error=true}}else if(_compareModifierString("shift",ele)){hasShift=true}else if(key.length>0){console.log("KeyBindingManager normalizeKeyDescriptorString() - Multiple keys defined. Using key: "+key+" from: "+origDescriptor);error=true}else{key=ele}});if(error){return null}if(key===""&&origDescriptor.search(/^.+--$/)!==-1){key="-"}if(key.indexOf("+")>=0&&key.length>1){return null}if(/^[a-z]/i.test(key)){key=_.capitalize(key.toLowerCase())}if(/^Page/.test(key)){key=key.replace(/(up|down)$/,function(match,p1){return _.capitalize(p1)})}if(key.length>1&&!/F\d+/.test(key)&&_keyNames.indexOf(key)===-1){return null}return _buildKeyDescriptor(hasMacCtrl,hasCtrl,hasAlt,hasShift,key)}function _mapKeycodeToKey(keycode,key){if(keycode>=KeyEvent.DOM_VK_0&&keycode<=KeyEvent.DOM_VK_9){return String(keycode-KeyEvent.DOM_VK_0)}else if(keycode>=KeyEvent.DOM_VK_NUMPAD0&&keycode<=KeyEvent.DOM_VK_NUMPAD9){return String(keycode-KeyEvent.DOM_VK_NUMPAD0)}switch(keycode){case KeyEvent.DOM_VK_SEMICOLON:return";";case KeyEvent.DOM_VK_EQUALS:return"=";case KeyEvent.DOM_VK_COMMA:return",";case KeyEvent.DOM_VK_SUBTRACT:case KeyEvent.DOM_VK_DASH:return"-";case KeyEvent.DOM_VK_ADD:return"+";case KeyEvent.DOM_VK_DECIMAL:
case KeyEvent.DOM_VK_PERIOD:return".";case KeyEvent.DOM_VK_DIVIDE:case KeyEvent.DOM_VK_SLASH:return"/";case KeyEvent.DOM_VK_BACK_QUOTE:return"`";case KeyEvent.DOM_VK_OPEN_BRACKET:return"[";case KeyEvent.DOM_VK_BACK_SLASH:return"\\";case KeyEvent.DOM_VK_CLOSE_BRACKET:return"]";case KeyEvent.DOM_VK_QUOTE:return"'";default:return key}}function _translateKeyboardEvent(event){var hasMacCtrl=brackets.platform==="mac"?event.ctrlKey:false,hasCtrl=brackets.platform!=="mac"?event.ctrlKey:event.metaKey,hasAlt=event.altKey,hasShift=event.shiftKey,key=String.fromCharCode(event.keyCode);var ident=event.keyIdentifier;if(ident){if(ident.charAt(0)==="U"&&ident.charAt(1)==="+"){key=String.fromCharCode(parseInt(ident.substring(2),16))}else{key=ident}}if(key==="\t"){key="Tab"}else if(key===" "){key="Space"}else if(key==="\b"){key="Backspace"}else if(key==="Help"){key="Insert"}else if(event.keyCode===KeyEvent.DOM_VK_DELETE){key="Delete"}else{key=_mapKeycodeToKey(event.keyCode,key)}return _buildKeyDescriptor(hasMacCtrl,hasCtrl,hasAlt,hasShift,key)}function formatKeyDescriptor(descriptor){var displayStr;if(brackets.platform==="mac"){displayStr=descriptor.replace(/-(?!$)/g,"");displayStr=displayStr.replace("Ctrl","⌃");displayStr=displayStr.replace("Cmd","⌘");displayStr=displayStr.replace("Shift","⇧");displayStr=displayStr.replace("Alt","⌥")}else{displayStr=descriptor.replace("Ctrl",Strings.KEYBOARD_CTRL);displayStr=displayStr.replace("Shift",Strings.KEYBOARD_SHIFT);displayStr=displayStr.replace(/-(?!$)/g,"+")}displayStr=displayStr.replace("Space",Strings.KEYBOARD_SPACE);displayStr=displayStr.replace("PageUp",Strings.KEYBOARD_PAGE_UP);displayStr=displayStr.replace("PageDown",Strings.KEYBOARD_PAGE_DOWN);displayStr=displayStr.replace("Home",Strings.KEYBOARD_HOME);displayStr=displayStr.replace("End",Strings.KEYBOARD_END);displayStr=displayStr.replace("Ins",Strings.KEYBOARD_INSERT);displayStr=displayStr.replace("Del",Strings.KEYBOARD_DELETE);return displayStr}function _isKeyAssigned(key){return _keyMap[key]!==undefined}function removeBinding(key,platform){if(!key||platform!==null&&platform!==undefined&&platform!==brackets.platform){return}var normalizedKey=normalizeKeyDescriptorString(key);if(!normalizedKey){console.log("Fail to nomalize "+key)}else if(_isKeyAssigned(normalizedKey)){var binding=_keyMap[normalizedKey],command=CommandManager.get(binding.commandID),bindings=_commandMap[binding.commandID];delete _keyMap[normalizedKey];if(bindings){_commandMap[binding.commandID]=bindings.filter(function(b){return b.key!==normalizedKey});if(command){command.trigger("keyBindingRemoved",{key:normalizedKey,displayKey:binding.displayKey})}}}}function _updateCommandAndKeyMaps(newBinding){if(_allCommands.length===0){return}if(newBinding&&newBinding.commandID&&_allCommands.indexOf(newBinding.commandID)===-1){_defaultKeyMap[newBinding.commandID]=_.cloneDeep(newBinding);_loadUserKeyMap()}}function _addBinding(commandID,keyBinding,platform,userBindings){var key,result=null,normalized,normalizedDisplay,explicitPlatform=keyBinding.platform||platform,targetPlatform,command,bindingsToDelete=[],existing;if(explicitPlatform&&explicitPlatform!=="all"){targetPlatform=explicitPlatform}else{targetPlatform=brackets.platform}if(explicitPlatform==="mac"&&brackets.platform!=="mac"){return null}key=keyBinding.key||keyBinding;if(brackets.platform==="mac"&&(explicitPlatform===undefined||explicitPlatform==="all")){key=key.replace("Ctrl","Cmd");if(keyBinding.displayKey!==undefined){keyBinding.displayKey=keyBinding.displayKey.replace("Ctrl","Cmd")}}normalized=normalizeKeyDescriptorString(key);if(!normalized){console.error("Unable to parse key binding "+key+". Permitted modifiers: Ctrl, Cmd, Alt, Opt, Shift; separated by '-' (not '+').");return null}existing=_keyMap[normalized];if(exports.useWindowsCompatibleBindings){if(explicitPlatform==="win"){if(existing&&(!existing.explicitPlatform||existing.explicitPlatform===brackets.platform||existing.explicitPlatform==="all")){return null}targetPlatform=brackets.platform}}if(targetPlatform!==brackets.platform){return null}if(existing){if(!existing.explicitPlatform&&explicitPlatform){removeBinding(normalized);existing=false}}var existingBindings=_commandMap[commandID]||[],isWindowsCompatible,isReplaceGeneric,ignoreGeneric;existingBindings.forEach(function(binding){isWindowsCompatible=exports.useWindowsCompatibleBindings&&binding.explicitPlatform==="win";isReplaceGeneric=!binding.explicitPlatform&&explicitPlatform;if(isWindowsCompatible||isReplaceGeneric){bindingsToDelete.push(binding)}else{ignoreGeneric=binding.explicitPlatform&&!explicitPlatform}});if(ignoreGeneric){return null}if(existing){console.error("Cannot assign "+normalized+" to "+commandID+". It is already assigned to "+_keyMap[normalized].commandID);return null}bindingsToDelete.forEach(function(binding){removeBinding(binding.key)});normalizedDisplay=keyBinding.displayKey?normalizeKeyDescriptorString(keyBinding.displayKey):normalized;if(!_commandMap[commandID]){_commandMap[commandID]=[]}result={key:normalized,displayKey:normalizedDisplay,explicitPlatform:explicitPlatform};_commandMap[commandID].push(result);_keyMap[normalized]={commandID:commandID,key:normalized,displayKey:normalizedDisplay,explicitPlatform:explicitPlatform};if(!userBindings){_updateCommandAndKeyMaps(_keyMap[normalized])}command=CommandManager.get(commandID);if(command){command.trigger("keyBindingAdded",result)}return result}function getKeymap(defaults){return $.extend({},defaults?_defaultKeyMap:_keyMap)}function _handleKey(key){if(_enabled&&_keyMap[key]){var promise=CommandManager.execute(_keyMap[key].commandID);return promise.state()!=="rejected"}return false}function _sortByPlatform(a,b){var a1=a.platform?1:0,b1=b.platform?1:0;return b1-a1}function addBinding(command,keyBindings,platform){var commandID="",results;if(!command){console.error("addBinding(): missing required parameter: command");return}if(!keyBindings){return}if(typeof command==="string"){commandID=command}else{commandID=command.getID()}if(Array.isArray(keyBindings)){var keyBinding;results=[];keyBindings.sort(_sortByPlatform);keyBindings.forEach(function addSingleBinding(keyBindingRequest){keyBinding=_addBinding(commandID,keyBindingRequest,keyBindingRequest.platform);if(keyBinding){results.push(keyBinding)}})}else{results=_addBinding(commandID,keyBindings,platform)}return results}function getKeyBindings(command){var bindings=[],commandID="";if(!command){console.error("getKeyBindings(): missing required parameter: command");return[]}if(typeof command==="string"){commandID=command}else{commandID=command.getID()}bindings=_commandMap[commandID];return bindings||[]}function _handleCommandRegistered(event,command){var commandId=command.getID(),defaults=KeyboardPrefs[commandId];if(defaults){addBinding(commandId,defaults)}}function addGlobalKeydownHook(hook){_globalKeydownHooks.push(hook)}function removeGlobalKeydownHook(hook){var index=_globalKeydownHooks.indexOf(hook);if(index!==-1){_globalKeydownHooks.splice(index,1)}}function _handleKeyEvent(event){var i,handled=false;for(i=_globalKeydownHooks.length-1;i>=0;i--){if(_globalKeydownHooks[i](event)){handled=true;break}}_detectAltGrKeyDown(event);if(!handled&&_handleKey(_translateKeyboardEvent(event))){event.stopPropagation();event.preventDefault()}}AppInit.htmlReady(function(){window.document.body.addEventListener("keydown",_handleKeyEvent,true);exports.useWindowsCompatibleBindings=brackets.platform!=="mac"&&brackets.platform!=="win"});function _showErrorsAndOpenKeyMap(err,message){require(["widgets/Dialogs"],function(Dialogs){var errorMessage=Strings.ERROR_KEYMAP_CORRUPT;if(err===FileSystemError.UNSUPPORTED_ENCODING){errorMessage=Strings.ERROR_LOADING_KEYMAP}else if(message){errorMessage=message}Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.ERROR_KEYMAP_TITLE,errorMessage).done(function(){if(err!==FileSystemError.UNSUPPORTED_ENCODING){CommandManager.execute(Commands.FILE_OPEN_KEYMAP)}})})}function _isSpecialCommand(commandID){if(brackets.platform==="mac"&&commandID==="file.quit"){return true}return _specialCommands.indexOf(commandID)>-1}function _isReservedShortcuts(normalizedKey){if(!normalizedKey){return false}if(_reservedShortcuts.indexOf(normalizedKey)>-1||_reservedShortcuts.indexOf(normalizedKey.replace("Cmd","Ctrl"))>-1){return true}if(brackets.platform==="mac"&&_macReservedShortcuts.indexOf(normalizedKey)>-1){return true}return false}function _getBulletList(list){var message="<ul class='dialog-list'>";list.forEach(function(info){message+="<li>"+info+"</li>"});message+="</ul>";return message}function _getDisplayKey(key){var displayKey="",match=key?key.match(/(Up|Down|Left|Right|\-)$/i):null;if(match&&!/Page(Up|Down)/.test(key)){displayKey=key.substr(0,match.index)+_displayKeyMap[match[0].toLowerCase()]}return displayKey}function _applyUserKeyBindings(){var remappedCommands=[],remappedKeys=[],restrictedCommands=[],restrictedKeys=[],invalidKeys=[],invalidCommands=[],multipleKeys=[],duplicateBindings=[],errorMessage="";_.forEach(_customKeyMap,function(commandID,key){var normalizedKey=normalizeKeyDescriptorString(key),existingBindings=_commandMap[commandID]||[];if(_isSpecialCommand(commandID)){restrictedCommands.push(commandID);return}if(_isReservedShortcuts(normalizedKey)){restrictedKeys.push(key);return}if(!normalizedKey){invalidKeys.push(key);return}if(_isKeyAssigned(normalizedKey)){if(remappedKeys.indexOf(normalizedKey)!==-1){duplicateBindings.push(key);return}if(_keyMap[normalizedKey].commandID===commandID){remappedCommands.push(commandID);return}removeBinding(normalizedKey)}if(remappedKeys.indexOf(normalizedKey)===-1){remappedKeys.push(normalizedKey)}if(existingBindings.length){existingBindings.forEach(function(binding){removeBinding(binding.key)})}if(commandID){if(_allCommands.indexOf(commandID)!==-1){if(remappedCommands.indexOf(commandID)===-1){var keybinding={key:normalizedKey};keybinding.displayKey=_getDisplayKey(normalizedKey);_addBinding(commandID,keybinding.displayKey?keybinding:normalizedKey,brackets.platform,true);remappedCommands.push(commandID)}else{multipleKeys.push(commandID)}}else{invalidCommands.push(commandID)}}});if(restrictedCommands.length){errorMessage=StringUtils.format(Strings.ERROR_RESTRICTED_COMMANDS,_getBulletList(restrictedCommands))}if(restrictedKeys.length){errorMessage+=StringUtils.format(Strings.ERROR_RESTRICTED_SHORTCUTS,_getBulletList(restrictedKeys))}if(multipleKeys.length){errorMessage+=StringUtils.format(Strings.ERROR_MULTIPLE_SHORTCUTS,_getBulletList(multipleKeys))}if(duplicateBindings.length){errorMessage+=StringUtils.format(Strings.ERROR_DUPLICATE_SHORTCUTS,_getBulletList(duplicateBindings))}if(invalidKeys.length){errorMessage+=StringUtils.format(Strings.ERROR_INVALID_SHORTCUTS,_getBulletList(invalidKeys))}if(invalidCommands.length){errorMessage+=StringUtils.format(Strings.ERROR_NONEXISTENT_COMMANDS,_getBulletList(invalidCommands))}if(_showErrors&&errorMessage){_showErrorsAndOpenKeyMap("",errorMessage)}}function _undoPriorUserKeyBindings(){_.forEach(_customKeyMapCache,function(commandID,key){var normalizedKey=normalizeKeyDescriptorString(key),defaults=_.find(_.toArray(_defaultKeyMap),{commandID:commandID}),defaultCommand=_defaultKeyMap[normalizedKey];if(_isSpecialCommand(commandID)||_isReservedShortcuts(normalizedKey)){return}if(_isKeyAssigned(normalizedKey)&&_customKeyMap[key]!==commandID&&_customKeyMap[normalizedKey]!==commandID){removeBinding(normalizedKey)}if(defaults){addBinding(commandID,defaults,brackets.platform)}if(defaultCommand&&defaultCommand.key){addBinding(defaultCommand.commandID,defaultCommand.key,brackets.platform)}})}function _getUserKeyMapFilePath(){if(window.isBracketsTestWindow){return brackets.app.getApplicationSupportDirectory()+"/_test_/"+KEYMAP_FILENAME}return _userKeyMapFilePath}function _readUserKeyMap(){var file=FileSystem.getFileForPath(_getUserKeyMapFilePath()),result=new $.Deferred;file.exists(function(err,doesExist){if(doesExist){FileUtils.readAsText(file).done(function(text){var keyMap={};try{if(text){var json=JSON.parse(text);result.resolve(json&&json.overrides||keyMap)}else{result.resolve(keyMap)}}catch(err){result.reject(err)}}).fail(function(err){result.reject(err)})}else{result.resolve()}});return result.promise()}_loadUserKeyMap=_.debounce(function(){_readUserKeyMap().then(function(keyMap){_allCommands=CommandManager.getAll();_customKeyMapCache=_.cloneDeep(_customKeyMap);_customKeyMap=keyMap;_undoPriorUserKeyBindings();_applyUserKeyBindings()},function(err){_showErrorsAndOpenKeyMap(err)})},200);function _openUserKeyMap(){var userKeyMapPath=_getUserKeyMapFilePath(),file=FileSystem.getFileForPath(userKeyMapPath);file.exists(function(err,doesExist){if(doesExist){CommandManager.execute(Commands.FILE_OPEN,{fullPath:userKeyMapPath})}else{var defaultContent='{\n    "documentation": "https://github.com/adobe/brackets/wiki/User-Key-Bindings",'+'\n    "overrides": {'+"\n        \n    }\n}\n";FileUtils.writeText(file,defaultContent,true).done(function(){CommandManager.execute(Commands.FILE_OPEN,{fullPath:userKeyMapPath})})}})}EventDispatcher.on_duringInit(CommandManager,"commandRegistered",_handleCommandRegistered);CommandManager.register(Strings.CMD_OPEN_KEYMAP,Commands.FILE_OPEN_KEYMAP,_openUserKeyMap);require(["document/DocumentManager"],function(DocumentManager){DocumentManager.on("documentSaved",function checkKeyMapUpdates(e,doc){if(doc&&doc.file.fullPath===_userKeyMapFilePath){_loadUserKeyMap()}})});function _initCommandAndKeyMaps(){_allCommands=CommandManager.getAll();_defaultKeyMap=_.cloneDeep(_keyMap)}function _setUserKeyMapFilePath(fullPath){_userKeyMapFilePath=fullPath}AppInit.extensionsLoaded(function(){var params=new UrlParams;params.parse();if(params.get("reloadWithoutUserExts")==="true"){_showErrors=false}_initCommandAndKeyMaps();_loadUserKeyMap()});exports._reset=_reset;exports._setUserKeyMapFilePath=_setUserKeyMapFilePath;exports._getDisplayKey=_getDisplayKey;exports._loadUserKeyMap=_loadUserKeyMap;exports._initCommandAndKeyMaps=_initCommandAndKeyMaps;exports._onCtrlUp=_onCtrlUp;exports.getKeymap=getKeymap;exports.addBinding=addBinding;exports.removeBinding=removeBinding;exports.formatKeyDescriptor=formatKeyDescriptor;exports.getKeyBindings=getKeyBindings;exports.addGlobalKeydownHook=addGlobalKeydownHook;exports.removeGlobalKeydownHook=removeGlobalKeydownHook;exports.useWindowsCompatibleBindings=false;exports._handleKey=_handleKey;exports._handleKeyEvent=_handleKeyEvent});define("text!htmlContent/dialog-template.html",[],function(){return'<div class="{{dlgClass}} template modal">\n    <div class="modal-header">\n        <h1 class="dialog-title">{{{title}}}</h1>\n    </div>\n    <div class="modal-body">\n        <div class="dialog-message">{{{message}}}</div>\n    </div>\n    <div class="modal-footer">\n        {{#buttons}}\n        <button class="dialog-button btn {{className}}" data-button-id="{{id}}">{{{text}}}</button>\n        {{/buttons}}\n    </div>\n</div>\n'});(function(root,factory){if(typeof exports==="object"&&exports){factory(exports)}else{var mustache={};factory(mustache);if(typeof define==="function"&&define.amd){define("thirdparty/mustache/mustache",mustache)}else{root.Mustache=mustache}}})(this,function(mustache){var whiteRe=/\s*/;var spaceRe=/\s+/;var nonSpaceRe=/\S/;var eqRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;var RegExp_test=RegExp.prototype.test;function testRegExp(re,string){return RegExp_test.call(re,string)}function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var Object_toString=Object.prototype.toString;var isArray=Array.isArray||function(obj){return Object_toString.call(obj)==="[object Array]"};function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escapeHtml(string){return String(string).replace(/[&<>"'\/]/g,function(s){return entityMap[s]})}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function(){return this.tail===""};Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(match&&match.index===0){this.tail=this.tail.substring(match[0].length);this.pos+=match[0].length;return match[0]}return""};Scanner.prototype.scanUntil=function(re){var match,pos=this.tail.search(re);switch(pos){case-1:match=this.tail;this.pos+=this.tail.length;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,pos);this.tail=this.tail.substring(pos);this.pos+=pos}return match};function Context(view,parent){this.view=view||{};this.parent=parent;this._cache={}}Context.make=function(view){return view instanceof Context?view:new Context(view)};Context.prototype.push=function(view){return new Context(view,this)};Context.prototype.lookup=function(name){var value=this._cache[name];if(!value){if(name=="."){value=this.view}else{var context=this;while(context){if(name.indexOf(".")>0){value=context.view;var names=name.split("."),i=0;while(value&&i<names.length){value=value[names[i++]]}}else{value=context.view[name]}if(value!=null)break;context=context.parent}}this._cache[name]=value}if(typeof value==="function")value=value.call(this.view);return value};function Writer(){this.clearCache()}Writer.prototype.clearCache=function(){this._cache={};this._partialCache={}};Writer.prototype.compile=function(template,tags){var fn=this._cache[template];if(!fn){var tokens=mustache.parse(template,tags);fn=this._cache[template]=this.compileTokens(tokens,template)}return fn};Writer.prototype.compilePartial=function(name,template,tags){var fn=this.compile(template,tags);this._partialCache[name]=fn;return fn};Writer.prototype.getPartial=function(name){if(!(name in this._partialCache)&&this._loadPartial){this.compilePartial(name,this._loadPartial(name))}return this._partialCache[name]};Writer.prototype.compileTokens=function(tokens,template){var self=this;return function(view,partials){if(partials){if(typeof partials==="function"){self._loadPartial=partials}else{for(var name in partials){self.compilePartial(name,partials[name])}}}return renderTokens(tokens,self,Context.make(view),template)}};Writer.prototype.render=function(template,view,partials){return this.compile(template)(view,partials)};function renderTokens(tokens,writer,context,template){var buffer="";var token,tokenValue,value;for(var i=0,len=tokens.length;i<len;++i){token=tokens[i];tokenValue=token[1];switch(token[0]){case"#":value=context.lookup(tokenValue);if(typeof value==="object"){if(isArray(value)){for(var j=0,jlen=value.length;j<jlen;++j){buffer+=renderTokens(token[4],writer,context.push(value[j]),template)}}else if(value){buffer+=renderTokens(token[4],writer,context.push(value),template)}}else if(typeof value==="function"){var text=template==null?null:template.slice(token[3],token[5]);value=value.call(context.view,text,function(template){return writer.render(template,context)});if(value!=null)buffer+=value}else if(value){buffer+=renderTokens(token[4],writer,context,template)}break;case"^":value=context.lookup(tokenValue);if(!value||isArray(value)&&value.length===0){buffer+=renderTokens(token[4],writer,context,template)}break;case">":value=writer.getPartial(tokenValue);if(typeof value==="function")buffer+=value(context);break;case"&":value=context.lookup(tokenValue);if(value!=null)buffer+=value;break;case"name":value=context.lookup(tokenValue);if(value!=null)buffer+=mustache.escape(value);break;case"text":buffer+=tokenValue;break}}return buffer}function nestTokens(tokens){var tree=[];var collector=tree;var sections=[];var token;for(var i=0,len=tokens.length;i<len;++i){token=tokens[i];switch(token[0]){case"#":case"^":sections.push(token);collector.push(token);collector=token[4]=[];break;case"/":var section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:tree;break;default:collector.push(token)}}return tree}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,len=tokens.length;i<len;++i){token=tokens[i];if(token){if(token[0]==="text"&&lastToken&&lastToken[0]==="text"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{lastToken=token;squashedTokens.push(token)}}}return squashedTokens}function escapeTags(tags){return[new RegExp(escapeRegExp(tags[0])+"\\s*"),new RegExp("\\s*"+escapeRegExp(tags[1]))]}function parseTemplate(template,tags){template=template||"";tags=tags||mustache.tags;if(typeof tags==="string")tags=tags.split(spaceRe);if(tags.length!==2)throw new Error("Invalid tags: "+tags.join(", "));var tagRes=escapeTags(tags);var scanner=new Scanner(template);var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length){delete tokens[spaces.pop()]}}else{spaces=[]}hasTag=false;nonSpace=false}var start,type,value,chr,token;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(tagRes[0]);if(value){for(var i=0,len=value.length;i<len;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push(["text",chr,start,start+1]);start+=1;if(chr=="\n")stripSpace()}}if(!scanner.scan(tagRes[0]))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if(type==="="){value=scanner.scanUntil(eqRe);scanner.scan(eqRe);scanner.scanUntil(tagRes[1])}else if(type==="{"){value=scanner.scanUntil(new RegExp("\\s*"+escapeRegExp("}"+tags[1])));scanner.scan(curlyRe);scanner.scanUntil(tagRes[1]);type="&"}else{value=scanner.scanUntil(tagRes[1])}if(!scanner.scan(tagRes[1]))throw new Error("Unclosed tag at "+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type==="#"||type==="^"){sections.push(token)}else if(type==="/"){if(sections.length===0)throw new Error('Unopened section "'+value+'" at '+start);var openSection=sections.pop();if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else if(type==="name"||type==="{"||type==="&"){nonSpace=true}else if(type==="="){tags=value.split(spaceRe);if(tags.length!==2)throw new Error("Invalid tags at "+start+": "+tags.join(", "));tagRes=escapeTags(tags)}}var openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);tokens=squashTokens(tokens);return nestTokens(tokens)}mustache.name="mustache.js";mustache.version="0.7.2";mustache.tags=["{{","}}"];mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;mustache.parse=parseTemplate;mustache.escape=escapeHtml;var defaultWriter=new Writer;mustache.clearCache=function(){return defaultWriter.clearCache()};mustache.compile=function(template,tags){return defaultWriter.compile(template,tags)};mustache.compilePartial=function(name,template,tags){return defaultWriter.compilePartial(name,template,tags)};mustache.compileTokens=function(tokens,template){return defaultWriter.compileTokens(tokens,template)};mustache.render=function(template,view,partials){return defaultWriter.render(template,view,partials)};mustache.to_html=function(template,view,partials,send){var result=mustache.render(template,view,partials);if(typeof send==="function"){send(result)}else{return result}}});define("widgets/Dialogs",["require","exports","module","utils/Global","command/KeyBindingManager","utils/KeyEvent","strings","text!htmlContent/dialog-template.html","thirdparty/mustache/mustache"],function(require,exports,module){"use strict";require("utils/Global");var KeyBindingManager=require("command/KeyBindingManager"),KeyEvent=require("utils/KeyEvent"),Strings=require("strings"),DialogTemplate=require("text!htmlContent/dialog-template.html"),Mustache=require("thirdparty/mustache/mustache"),BrambleEvents=brackets.getModule("bramble/BrambleEvents");var DIALOG_BTN_CANCEL="cancel",DIALOG_BTN_OK="ok",DIALOG_BTN_DONTSAVE="dontsave",DIALOG_BTN_SAVE_AS="save_as",DIALOG_CANCELED="_canceled",DIALOG_BTN_DOWNLOAD="download";var DIALOG_BTN_CLASS_PRIMARY="primary",DIALOG_BTN_CLASS_NORMAL="",DIALOG_BTN_CLASS_LEFT="left";var zIndex=1050;function _dismissDialog($dlg,buttonId){$dlg.data("buttonId",buttonId);$dlg.modal("hide")}function _processButton($dlg,buttonId,autoDismiss){if(autoDismiss){_dismissDialog($dlg,buttonId)}else{$dlg.triggerHandler("buttonClick",buttonId)}}function _hasButton($dlg,buttonId){return $dlg.find("[data-button-id='"+buttonId+"']").length>0}function _handleTab(event,$dlg){var $inputs=$(":input:enabled, a",$dlg).filter(":visible");function stopEvent(){event.stopPropagation();event.preventDefault()}if($(event.target).closest($dlg).length){if(!event.shiftKey&&event.target===$inputs[$inputs.length-1]||event.shiftKey&&event.target===$inputs[0]){$inputs.filter(event.shiftKey?":last":":first").focus();stopEvent()}else if(!$inputs.length){stopEvent()}}else{$inputs.first().focus();stopEvent()}}var _keydownHook=function(e,autoDismiss){var $primaryBtn=this.find(".primary"),buttonId=null,which=String.fromCharCode(e.which),$focusedElement=this.find(".dialog-button:focus, a:focus");function stopEvent(){e.preventDefault();e.stopPropagation()}var inTextArea=e.target.tagName==="TEXTAREA",inTypingField=inTextArea||$(e.target).filter(":text, :password").length>0;if(e.which===KeyEvent.DOM_VK_TAB){_handleTab(e,this)}else if(e.which===KeyEvent.DOM_VK_ESCAPE){buttonId=DIALOG_BTN_CANCEL}else if(e.which===KeyEvent.DOM_VK_RETURN&&(!inTextArea||e.ctrlKey)){stopEvent();if(e.target.tagName==="BUTTON"){this.find(e.target).click()}else if(e.target.tagName!=="INPUT"){$primaryBtn.click()}}else if(e.which===KeyEvent.DOM_VK_SPACE){if($focusedElement.length){stopEvent();$focusedElement.click()}}else if(brackets.platform==="mac"){if(e.metaKey&&e.which===KeyEvent.DOM_VK_BACK_SPACE){if(_hasButton(this,DIALOG_BTN_DONTSAVE)){buttonId=DIALOG_BTN_DONTSAVE}}else if(e.metaKey&&e.which===KeyEvent.DOM_VK_PERIOD){buttonId=DIALOG_BTN_CANCEL}}else{if(which==="N"&&!inTypingField){if(_hasButton(this,DIALOG_BTN_DONTSAVE)){buttonId=DIALOG_BTN_DONTSAVE}}}if(buttonId){stopEvent();_processButton(this,buttonId,autoDismiss)}return true};function Dialog($dlg,promise){this._$dlg=$dlg;this._promise=promise}Dialog.prototype.getElement=function(){return this._$dlg};Dialog.prototype.getPromise=function(){return this._promise};Dialog.prototype.close=function(){if(this._$dlg.is(":visible")){_dismissDialog(this._$dlg,DIALOG_CANCELED)}};Dialog.prototype.done=function(callback){this._promise.done(callback)};function setDialogMaxSize(){var maxWidth,maxHeight,$dlgs=$(".modal-inner-wrapper > .instance");if($dlgs.length>0){maxWidth=$("body").width();maxHeight=$("body").height();$dlgs.css({"max-width":maxWidth,"max-height":maxHeight,overflow:"auto"})}}function showModalDialogUsingTemplate(template,autoDismiss){if(autoDismiss===undefined){autoDismiss=true}$("body").append("<div class='modal-wrapper'><div class='modal-inner-wrapper'></div></div>");var result=new $.Deferred,promise=result.promise(),$dlg=$(template).addClass("instance").appendTo(".modal-inner-wrapper:last");setDialogMaxSize();$dlg.data("promise",promise);var keydownHook=function(e){return _keydownHook.call($dlg,e,autoDismiss)};var lastFocus=window.document.activeElement;$dlg.one("hidden",function(){var buttonId=$dlg.data("buttonId");if(!buttonId){buttonId=DIALOG_BTN_CANCEL}window.setTimeout(function(){result.resolve(buttonId);BrambleEvents.triggerDialogClosed()},0);$dlg.remove();KeyBindingManager.removeGlobalKeydownHook(keydownHook);if(lastFocus){lastFocus.focus()}$(".modal-wrapper:last").remove()}).one("shown",function(){var $primaryBtn=$dlg.find(".primary:enabled"),$otherBtn=$dlg.find(".modal-footer .dialog-button:enabled:eq(0)");if($primaryBtn.length){$primaryBtn.focus()}else if($otherBtn.length){$otherBtn.focus()}else{window.document.activeElement.blur()}KeyBindingManager.addGlobalKeydownHook(keydownHook);BrambleEvents.triggerDialogOpened()});$dlg.one("click",".dialog-button",function(e){_processButton($dlg,$(this).attr("data-button-id"),autoDismiss)});$dlg.modal({backdrop:"static",show:true,selector:".modal-inner-wrapper:last",keyboard:false}).css("z-index",zIndex+1).next().css("z-index",zIndex);zIndex+=2;return new Dialog($dlg,promise)}function showModalDialog(dlgClass,title,message,buttons,autoDismiss){var templateVars={dlgClass:dlgClass,title:title||"",message:message||"",buttons:buttons||[{className:DIALOG_BTN_CLASS_PRIMARY,id:DIALOG_BTN_OK,text:Strings.OK}]};var template=Mustache.render(DialogTemplate,templateVars);return showModalDialogUsingTemplate(template,autoDismiss)}function cancelModalDialogIfOpen(dlgClass,buttonId){$("."+dlgClass+".instance").each(function(){if($(this).is(":visible")){_dismissDialog($(this),buttonId||DIALOG_CANCELED)}})}function addLinkTooltips(elementOrDialog){var $element;if(elementOrDialog.getElement){$element=elementOrDialog.getElement().find(".dialog-message")}else{$element=elementOrDialog}$element.find("a").each(function(index,elem){var $elem=$(elem);var url=$elem.attr("href");if(url&&url!=="#"&&!$elem.attr("title")){$elem.attr("title",url)}})}window.addEventListener("resize",setDialogMaxSize);exports.DIALOG_BTN_CANCEL=DIALOG_BTN_CANCEL;exports.DIALOG_BTN_OK=DIALOG_BTN_OK;exports.DIALOG_BTN_DONTSAVE=DIALOG_BTN_DONTSAVE;exports.DIALOG_BTN_SAVE_AS=DIALOG_BTN_SAVE_AS;exports.DIALOG_CANCELED=DIALOG_CANCELED;exports.DIALOG_BTN_DOWNLOAD=DIALOG_BTN_DOWNLOAD;exports.DIALOG_BTN_CLASS_PRIMARY=DIALOG_BTN_CLASS_PRIMARY;exports.DIALOG_BTN_CLASS_NORMAL=DIALOG_BTN_CLASS_NORMAL;exports.DIALOG_BTN_CLASS_LEFT=DIALOG_BTN_CLASS_LEFT;exports.showModalDialog=showModalDialog;exports.showModalDialogUsingTemplate=showModalDialogUsingTemplate;exports.cancelModalDialogIfOpen=cancelModalDialogIfOpen;exports.addLinkTooltips=addLinkTooltips});define("text!htmlContent/project-settings-dialog.html",[],function(){return'<div class="project-settings-dialog modal">\n    <div class="modal-header">\n        <h1 class="dialog-title">{{title}}</h1>\n    </div>\n    <div class="modal-body">\n        <div class="field-container">\n            <label>\n                {{Strings.PROJECT_SETTING_BASE_URL}}: <input type="text" placeholder="{{Strings.PROJECT_SETTING_BASE_URL_HINT}}" value="{{baseUrl}}" class="url" />\n            </label>\n            {{#errorMessage}}<div class="alert" style="margin-bottom: 0">{{{errorMessage}}}</div>{{/errorMessage}}\n         </div>\n    </div>\n    <div class="modal-footer">\n        <button class="dialog-button btn" data-button-id="cancel">{{Strings.CANCEL}}</button>\n        <button class="dialog-button btn primary" data-button-id="ok">{{Strings.DONE}}</button>\n    </div>\n</div>\n'});define("preferences/PreferencesDialogs",["require","exports","module","widgets/Dialogs","project/ProjectManager","utils/StringUtils","strings","text!htmlContent/project-settings-dialog.html","thirdparty/mustache/mustache","thirdparty/path-utils/path-utils"],function(require,exports,module){"use strict";var Dialogs=require("widgets/Dialogs"),ProjectManager=require("project/ProjectManager"),StringUtils=require("utils/StringUtils"),Strings=require("strings"),SettingsDialogTemplate=require("text!htmlContent/project-settings-dialog.html"),Mustache=require("thirdparty/mustache/mustache"),PathUtils=require("thirdparty/path-utils/path-utils");function _validateBaseUrl(url){var result="";if(url===""){return result}var obj=PathUtils.parseUrl(url);if(!obj){result=Strings.BASEURL_ERROR_UNKNOWN_ERROR}else if(obj.href.search(/^(http|https):\/\//i)!==0){result=StringUtils.format(Strings.BASEURL_ERROR_INVALID_PROTOCOL,obj.href.substring(0,obj.href.indexOf("//")))}else if(obj.search!==""){result=StringUtils.format(Strings.BASEURL_ERROR_SEARCH_DISALLOWED,obj.search)}else if(obj.hash!==""){result=StringUtils.format(Strings.BASEURL_ERROR_HASH_DISALLOWED,obj.hash)}else{var index=url.search(/[ \^\[\]\{\}<>\\"\?]+/);if(index!==-1){result=StringUtils.format(Strings.BASEURL_ERROR_INVALID_CHAR,url[index])}}return result}function showProjectPreferencesDialog(baseUrl,errorMessage){var $baseUrlControl,dialog
;var projectName="",projectRoot=ProjectManager.getProjectRoot(),title;if(projectRoot){projectName=projectRoot.name}title=StringUtils.format(Strings.PROJECT_SETTINGS_TITLE,projectName);var templateVars={title:title,baseUrl:baseUrl,errorMessage:errorMessage,Strings:Strings};dialog=Dialogs.showModalDialogUsingTemplate(Mustache.render(SettingsDialogTemplate,templateVars));dialog.done(function(id){if(id===Dialogs.DIALOG_BTN_OK){var baseUrlValue=$baseUrlControl.val();var result=_validateBaseUrl(baseUrlValue);if(result===""){ProjectManager.setBaseUrl(baseUrlValue)}else{showProjectPreferencesDialog(baseUrlValue,result)}}});$baseUrlControl=dialog.getElement().find(".url");$baseUrlControl.focus();return dialog}exports._validateBaseUrl=_validateBaseUrl;exports.showProjectPreferencesDialog=showProjectPreferencesDialog});define("thirdparty/globmatch",["require","exports","module"],function(r,exports,module,platform){module.exports=fnmatch;minimatch.Minimatch=Minimatch;function fnmatch(filepath,glob){var matchOptions={dot:true,noext:true};if(filepath[filepath.length-1]!=="/"){matchOptions.matchBase=true}glob=glob.replace(/\*\*/g,"{*,**/**/**}");return minimatch(filepath,glob,matchOptions)}var LRU=function LRUCache(){var cache={};var cnt=0;this.set=function(k,v){cnt++;if(cnt>=100)cache={};cache[k]=v};this.get=function(k){return cache[k]}},cache=minimatch.cache=new LRU({max:100}),GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},sigmund=function sigmund(obj){return JSON.stringify(obj)};var path={basename:function(f){f=f.split(/[\/\\]/);var e=f.pop();if(!e)e=f.pop();return e}},qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",reSpecials=charSet("().*{}+?[]^$\\!");function charSet(s){return s.split("").reduce(function(set,c){set[c]=true;return set},{})}var slashSplit=/\/+/;minimatch.monkeyPatch=monkeyPatch;function monkeyPatch(){var desc=Object.getOwnPropertyDescriptor(String.prototype,"match");var orig=desc.value;desc.value=function(p){if(p instanceof Minimatch)return p.match(this);return orig.call(this,p)};Object.defineProperty(String.prototype,desc)}minimatch.filter=filter;function filter(pattern,options){options=options||{};return function(p,i,list){return minimatch(p,pattern,options)}}function ext(a,b){a=a||{};b=b||{};var t={};Object.keys(b).forEach(function(k){t[k]=b[k]});Object.keys(a).forEach(function(k){t[k]=a[k]});return t}minimatch.defaults=function(def){if(!def||!Object.keys(def).length)return minimatch;var orig=minimatch;var m=function minimatch(p,pattern,options){return orig.minimatch(p,pattern,ext(def,options))};m.Minimatch=function Minimatch(pattern,options){return new orig.Minimatch(pattern,ext(def,options))};return m};Minimatch.defaults=function(def){if(!def||!Object.keys(def).length)return Minimatch;return minimatch.defaults(def).Minimatch};function minimatch(p,pattern,options){if(typeof pattern!=="string"){throw new TypeError("glob pattern string required")}if(!options)options={};if(!options.nocomment&&pattern.charAt(0)==="#"){return false}if(pattern.trim()==="")return p==="";return new Minimatch(pattern,options).match(p)}function Minimatch(pattern,options){if(!(this instanceof Minimatch)){return new Minimatch(pattern,options,cache)}if(typeof pattern!=="string"){throw new TypeError("glob pattern string required")}if(!options)options={};pattern=pattern.trim();if(platform==="win32"){pattern=pattern.split("\\").join("/")}var cacheKey=pattern+"\n"+sigmund(options);var cached=minimatch.cache.get(cacheKey);if(cached)return cached;minimatch.cache.set(cacheKey,this);this.options=options;this.set=[];this.pattern=pattern;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.make()}Minimatch.prototype.make=make;function make(){if(this._made)return;var pattern=this.pattern;var options=this.options;if(!options.nocomment&&pattern.charAt(0)==="#"){this.comment=true;return}if(!pattern){this.empty=true;return}this.parseNegate();var set=this.globSet=this.braceExpand();if(options.debug)console.error(this.pattern,set);set=this.globParts=set.map(function(s){return s.split(slashSplit)});if(options.debug)console.error(this.pattern,set);set=set.map(function(s,si,set){return s.map(this.parse,this)},this);if(options.debug)console.error(this.pattern,set);set=set.filter(function(s){return-1===s.indexOf(false)});if(options.debug)console.error(this.pattern,set);this.set=set}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var pattern=this.pattern,negate=false,options=this.options,negateOffset=0;if(options.nonegate)return;for(var i=0,l=pattern.length;i<l&&pattern.charAt(i)==="!";i++){negate=!negate;negateOffset++}if(negateOffset)this.pattern=pattern.substr(negateOffset);this.negate=negate}minimatch.braceExpand=function(pattern,options){return new Minimatch(pattern,options).braceExpand()};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(pattern,options){options=options||this.options;pattern=typeof pattern==="undefined"?this.pattern:pattern;if(typeof pattern==="undefined"){throw new Error("undefined pattern")}if(options.nobrace||!pattern.match(/\{.*\}/)){return[pattern]}var escaping=false;if(pattern.charAt(0)!=="{"){var prefix=null;for(var i=0,l=pattern.length;i<l;i++){var c=pattern.charAt(i);if(c==="\\"){escaping=!escaping}else if(c==="{"&&!escaping){prefix=pattern.substr(0,i);break}}if(prefix===null){return[pattern]}var tail=braceExpand(pattern.substr(i),options);return tail.map(function(t){return prefix+t})}var numset=pattern.match(/^\{(-?[0-9]+)\.\.(-?[0-9]+)\}/);if(numset){var suf=braceExpand(pattern.substr(numset[0].length),options),start=+numset[1],end=+numset[2],inc=start>end?-1:1,set=[];for(var i=start;i!=end+inc;i+=inc){for(var ii=0,ll=suf.length;ii<ll;ii++){set.push(i+suf[ii])}}return set}var i=1,depth=1,set=[],member="",sawEnd=false,escaping=false;function addMember(){set.push(member);member=""}FOR:for(i=1,l=pattern.length;i<l;i++){var c=pattern.charAt(i);if(escaping){escaping=false;member+="\\"+c}else{switch(c){case"\\":escaping=true;continue;case"{":depth++;member+="{";continue;case"}":depth--;if(depth===0){addMember();i++;break FOR}else{member+=c;continue}case",":if(depth===1){addMember()}else{member+=c}continue;default:member+=c;continue}}}if(depth!==0){return braceExpand("\\"+pattern,options)}var suf=braceExpand(pattern.substr(i),options);var addBraces=set.length===1;set=set.map(function(p){return braceExpand(p,options)});set=set.reduce(function(l,r){return l.concat(r)});if(addBraces){set=set.map(function(s){return"{"+s+"}"})}var ret=[];for(var i=0,l=set.length;i<l;i++){for(var ii=0,ll=suf.length;ii<ll;ii++){ret.push(set[i]+suf[ii])}}return ret}Minimatch.prototype.parse=parse;var SUBPARSE={};function parse(pattern,isSub){var options=this.options;if(!options.noglobstar&&pattern==="**")return GLOBSTAR;if(pattern==="")return"";var re="",hasMagic=!!options.nocase,escaping=false,patternListStack=[],plType,stateChar,inClass=false,reClassStart=-1,classStart=-1,patternStart=pattern.charAt(0)==="."?"":options.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";function clearStateChar(){if(stateChar){switch(stateChar){case"*":re+=star;hasMagic=true;break;case"?":re+=qmark;hasMagic=true;break;default:re+="\\"+stateChar;break}stateChar=false}}for(var i=0,len=pattern.length,c;i<len&&(c=pattern.charAt(i));i++){if(options.debug){console.error("%s\t%s %s %j",pattern,i,re,c)}if(escaping&&reSpecials[c]){re+="\\"+c;escaping=false;continue}SWITCH:switch(c){case"/":return false;case"\\":clearStateChar();escaping=true;continue;case"?":case"*":case"+":case"@":case"!":if(options.debug){console.error("%s\t%s %s %j <-- stateChar",pattern,i,re,c)}if(inClass){if(c==="!"&&i===classStart+1)c="^";re+=c;continue}clearStateChar();stateChar=c;if(options.noext)clearStateChar();continue;case"(":if(inClass){re+="(";continue}if(!stateChar){re+="\\(";continue}plType=stateChar;patternListStack.push({type:plType,start:i-1,reStart:re.length});re+=stateChar==="!"?"(?:(?!":"(?:";stateChar=false;continue;case")":if(inClass||!patternListStack.length){re+="\\)";continue}hasMagic=true;re+=")";plType=patternListStack.pop().type;switch(plType){case"!":re+="[^/]*?)";break;case"?":case"+":case"*":re+=plType;case"@":break}continue;case"|":if(inClass||!patternListStack.length||escaping){re+="\\|";escaping=false;continue}re+="|";continue;case"[":clearStateChar();if(inClass){re+="\\"+c;continue}inClass=true;classStart=i;reClassStart=re.length;re+=c;continue;case"]":if(i===classStart+1||!inClass){re+="\\"+c;escaping=false;continue}hasMagic=true;inClass=false;re+=c;continue;default:clearStateChar();if(escaping){escaping=false}else if(reSpecials[c]&&!(c==="^"&&inClass)){re+="\\"}re+=c}}if(inClass){var cs=pattern.substr(classStart+1),sp=this.parse(cs,SUBPARSE);re=re.substr(0,reClassStart)+"\\["+sp[0];hasMagic=hasMagic||sp[1]}var pl;while(pl=patternListStack.pop()){var tail=re.slice(pl.reStart+3);tail=tail.replace(/((?:\\{2})*)(\\?)\|/g,function(_,$1,$2){if(!$2){$2="\\"}return $1+$1+$2+"|"});var t=pl.type==="*"?star:pl.type==="?"?qmark:"\\"+pl.type;hasMagic=true;re=re.slice(0,pl.reStart)+t+"\\("+tail}clearStateChar();if(escaping){re+="\\\\"}var addPatternStart=false;switch(re.charAt(0)){case".":case"[":case"(":addPatternStart=true}if(re!==""&&hasMagic)re="(?=.)"+re;if(addPatternStart)re=patternStart+re;if(isSub===SUBPARSE){return[re,hasMagic]}if(!hasMagic){return globUnescape(pattern)}var flags=options.nocase?"i":"",regExp=new RegExp("^"+re+"$",flags);regExp._glob=pattern;regExp._src=re;return regExp}minimatch.makeRe=function(pattern,options){return new Minimatch(pattern,options||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false)return this.regexp;var set=this.set;if(!set.length)return this.regexp=false;var options=this.options;var twoStar=options.noglobstar?star:options.dot?twoStarDot:twoStarNoDot,flags=options.nocase?"i":"";var re=set.map(function(pattern){return pattern.map(function(p){return p===GLOBSTAR?twoStar:typeof p==="string"?regExpEscape(p):p._src}).join("\\/")}).join("|");re="^(?:"+re+")$";if(this.negate)re="^(?!"+re+").*$";try{return this.regexp=new RegExp(re,flags)}catch(ex){return this.regexp=false}}minimatch.match=function(list,pattern,options){var mm=new Minimatch(pattern,options);list=list.filter(function(f){return mm.match(f)});if(options.nonull&&!list.length){list.push(pattern)}return list};Minimatch.prototype.match=match;function match(f,partial){if(this.comment)return false;if(this.empty)return f==="";if(f==="/"&&partial)return true;var options=this.options;if(platform==="win32"){f=f.split("\\").join("/")}f=f.split(slashSplit);if(options.debug){console.error(this.pattern,"split",f)}var set=this.set;for(var i=0,l=set.length;i<l;i++){var pattern=set[i];var hit=this.matchOne(f,pattern,partial);if(hit){if(options.flipNegate)return true;return!this.negate}}if(options.flipNegate)return false;return this.negate}Minimatch.prototype.matchOne=function(file,pattern,partial){var options=this.options;if(options.debug){console.error("matchOne",{this:this,file:file,pattern:pattern})}if(options.matchBase&&pattern.length===1){file=path.basename(file.join("/")).split("/")}if(options.debug){console.error("matchOne",file.length,pattern.length)}for(var fi=0,pi=0,fl=file.length,pl=pattern.length;fi<fl&&pi<pl;fi++,pi++){if(options.debug){console.error("matchOne loop")}var p=pattern[pi],f=file[fi];if(options.debug){console.error(pattern,p,f)}if(p===false)return false;if(p===GLOBSTAR){if(options.debug)console.error("GLOBSTAR",[pattern,p,f]);var fr=fi,pr=pi+1;if(pr===pl){if(options.debug)console.error("** at the end");for(;fi<fl;fi++){if(file[fi]==="."||file[fi]===".."||!options.dot&&file[fi].charAt(0)===".")return false}return true}WHILE:while(fr<fl){var swallowee=file[fr];if(options.debug){console.error("\nglobstar while",file,fr,pattern,pr,swallowee)}if(this.matchOne(file.slice(fr),pattern.slice(pr),partial)){if(options.debug)console.error("globstar found match!",fr,fl,swallowee);return true}else{if(swallowee==="."||swallowee===".."||!options.dot&&swallowee.charAt(0)==="."){if(options.debug)console.error("dot detected!",file,fr,pattern,pr);break WHILE}if(options.debug)console.error("globstar swallow a segment, and continue");fr++}}if(partial){if(fr===fl)return true}return false}var hit;if(typeof p==="string"){if(options.nocase){hit=f.toLowerCase()===p.toLowerCase()}else{hit=f===p}if(options.debug){console.error("string match",p,f,hit)}}else{hit=f.match(p);if(options.debug){console.error("pattern match",p,f,hit)}}if(!hit)return false}if(fi===fl&&pi===pl){return true}else if(fi===fl){return partial}else if(pi===pl){var emptyFileEnd=fi===fl-1&&file[fi]==="";return emptyFileEnd}throw new Error("wtf?")};function globUnescape(s){return s.replace(/\\(.)/g,"$1")}function regExpEscape(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});define("preferences/PreferencesBase",["require","exports","module","file/FileUtils","filesystem/FileSystem","filesystem/FileSystemError","utils/EventDispatcher","thirdparty/lodash","utils/Async","thirdparty/globmatch"],function(require,exports,module){"use strict";var FileUtils=require("file/FileUtils"),FileSystem=require("filesystem/FileSystem"),FileSystemError=require("filesystem/FileSystemError"),EventDispatcher=require("utils/EventDispatcher"),_=require("thirdparty/lodash"),Async=require("utils/Async"),globmatch=require("thirdparty/globmatch");var PREFERENCE_CHANGE="change",SCOPEORDER_CHANGE="scopeOrderChange";function MemoryStorage(data){this.data=data||{}}MemoryStorage.prototype={load:function(){var result=new $.Deferred;result.resolve(this.data);return result.promise()},save:function(newData){var result=new $.Deferred;this.data=newData;result.resolve();return result.promise()},fileChanged:function(filePath){}};EventDispatcher.makeEventDispatcher(MemoryStorage.prototype);function ParsingError(message){this.name="ParsingError";this.message=message||""}ParsingError.prototype=new Error;function FileStorage(path,createIfMissing,recreateIfInvalid){this.path=path;this.createIfMissing=createIfMissing;this.recreateIfInvalid=recreateIfInvalid;this._lineEndings=FileUtils.getPlatformLineEndings()}FileStorage.prototype={load:function(){var result=new $.Deferred;var path=this.path;var createIfMissing=this.createIfMissing;var recreateIfInvalid=this.recreateIfInvalid;var self=this;if(path){var prefFile=FileSystem.getFileForPath(path);prefFile.read({},function(err,text){if(err){if(createIfMissing){if(recreateIfInvalid&&(err===FileSystemError.NOT_READABLE||err===FileSystemError.UNSUPPORTED_ENCODING)){appshell.fs.moveToTrash(path,function(err){if(err){console.log("Cannot move unreadable preferences file "+path+" to trash!!")}else{console.log("Brackets has recreated the unreadable preferences file "+path+". You may refer to the deleted file in trash in case you need it!!")}}.bind(this))}result.resolve({})}else{result.reject(new Error("Unable to load preferences at "+path+" "+err))}return}self._lineEndings=FileUtils.sniffLineEndings(text);if(/^\s*$/.test(text)){result.resolve({})}else{try{result.resolve(JSON.parse(text))}catch(e){if(recreateIfInvalid){appshell.fs.moveToTrash(path,function(err){if(err){console.log("Cannot move unparseable preferences file "+path+" to trash!!")}else{console.log("Brackets has recreated the Invalid JSON preferences file "+path+". You may refer to the deleted file in trash in case you need it!!")}}.bind(this));result.resolve({})}else{result.reject(new ParsingError("Invalid JSON settings at "+path+"("+e.toString()+")"))}}}})}else{result.resolve({})}return result.promise()},save:function(newData){var result=new $.Deferred;var path=this.path;var prefFile=FileSystem.getFileForPath(path);if(path){try{var text=JSON.stringify(newData,null,4);text=FileUtils.translateLineEndings(text,this._lineEndings);prefFile.write(text,{},function(err){if(err){result.reject("Unable to save prefs at "+path+" "+err)}else{result.resolve()}})}catch(e){result.reject("Unable to convert prefs to JSON"+e.toString())}}else{result.resolve()}return result.promise()},setPath:function(newPath){this.path=newPath;this.trigger("changed")},fileChanged:function(filePath){if(filePath===this.path){this.trigger("changed")}}};EventDispatcher.makeEventDispatcher(FileStorage.prototype);function Scope(storage){this.storage=storage;storage.on("changed",this.load.bind(this));this.data={};this._dirty=false;this._layers=[];this._layerMap={};this._exclusions=[]}_.extend(Scope.prototype,{load:function(){var result=new $.Deferred;this.storage.load().then(function(data){var oldKeys=this.getKeys();this.data=data;result.resolve();this.trigger(PREFERENCE_CHANGE,{ids:_.union(this.getKeys(),oldKeys)})}.bind(this)).fail(function(error){result.reject(error)});return result.promise()},save:function(){var self=this;if(this._dirty){self._dirty=false;return this.storage.save(this.data)}else{return(new $.Deferred).resolve().promise()}},set:function(id,value,context,location){if(!location){location=this.getPreferenceLocation(id,context)}if(location&&location.layer){var layer=this._layerMap[location.layer];if(layer){if(this.data[layer.key]===undefined){this.data[layer.key]={}}var wasSet=layer.set(this.data[layer.key],id,value,context,location.layerID);this._dirty=this._dirty||wasSet;return wasSet}else{return false}}else{return this._performSet(id,value)}},_performSet:function(id,value){if(!_.isEqual(this.data[id],value)){this._dirty=true;if(value===undefined){delete this.data[id]}else{this.data[id]=_.cloneDeep(value)}return true}return false},get:function(id,context){var layerCounter,layers=this._layers,layer,data=this.data,result;context=context||{};for(layerCounter=0;layerCounter<layers.length;layerCounter++){layer=layers[layerCounter];result=layer.get(data[layer.key],id,context);if(result!==undefined){return result}}if(this._exclusions.indexOf(id)===-1){return data[id]}},getPreferenceLocation:function(id,context){var layerCounter,layers=this._layers,layer,data=this.data,result;context=context||{};for(layerCounter=0;layerCounter<layers.length;layerCounter++){layer=layers[layerCounter];result=layer.getPreferenceLocation(data[layer.key],id,context);if(result!==undefined){return{layer:layer.key,layerID:result}}}if(this._exclusions.indexOf(id)===-1&&data[id]!==undefined){return{}}return undefined},getKeys:function(context){context=context||{};var layerCounter,layers=this._layers,layer,data=this.data;var keySets=[_.difference(_.keys(data),this._exclusions)];for(layerCounter=0;layerCounter<layers.length;layerCounter++){layer=layers[layerCounter];keySets.push(layer.getKeys(data[layer.key],context))}return _.union.apply(null,keySets)},addLayer:function(layer){this._layers.push(layer);this._layerMap[layer.key]=layer;this._exclusions.push(layer.key);this.trigger(PREFERENCE_CHANGE,{ids:layer.getKeys(this.data[layer.key],{})})},fileChanged:function(filePath){this.storage.fileChanged(filePath)},contextChanged:function(oldContext,newContext){var changes=[],data=this.data;_.each(this._layers,function(layer){if(data[layer.key]&&oldContext[layer.key]!==newContext[layer.key]){var changesInLayer=layer.contextChanged(data[layer.key],oldContext,newContext);if(changesInLayer){changes.push(changesInLayer)}}});return _.union.apply(null,changes)}});EventDispatcher.makeEventDispatcher(Scope.prototype);function _findMatchingGlob(pathData,filename){var globs=Object.keys(pathData),globCounter;if(!filename){return}for(globCounter=0;globCounter<globs.length;globCounter++){var glob=globs[globCounter];if(globmatch(filename,glob)){return glob}}}function ProjectLayer(){this.projectPath=null}ProjectLayer.prototype={key:"project",get:function(data,id){if(!data||!this.projectPath){return}if(data[this.projectPath]&&data[this.projectPath][id]!==undefined){return data[this.projectPath][id]}return},getPreferenceLocation:function(data,id){if(!data||!this.projectPath){return}if(data[this.projectPath]&&data[this.projectPath][id]!==undefined){return this.projectPath}return},set:function(data,id,value,context,layerID){if(!layerID){layerID=this.getPreferenceLocation(data,id)}if(!layerID){return false}var section=data[layerID];if(!section){data[layerID]=section={}}if(!_.isEqual(section[id],value)){if(value===undefined){delete section[id]}else{section[id]=_.cloneDeep(value)}return true}return false},getKeys:function(data){if(!data){return}return _.union.apply(null,_.map(_.values(data),_.keys))},setProjectPath:function(projectPath){this.projectPath=projectPath}};function LanguageLayer(){}LanguageLayer.prototype={key:"language",get:function(data,id,context){if(!data||!context.language){return}if(data[context.language]&&data[context.language][id]!==undefined){return data[context.language][id]}return},getPreferenceLocation:function(data,id,context){if(!data||!context.language){return}if(data[context.language]&&data[context.language][id]!==undefined){return context.language}return},getKeys:function(data,context){if(!data){return}if(!_.isEmpty(context)){if(data[context.language]){return _.keys(data[context.language])}else{return[]}}else{return _.union.apply(null,_.map(_.values(data),_.keys))}},set:function(data,id,value,context,layerID){if(!layerID){layerID=this.getPreferenceLocation(data,id,context)}if(!layerID){return false}var section=data[layerID];if(!section){data[layerID]=section={}}if(!_.isEqual(section[id],value)){if(value===undefined){delete section[id];if(_.isEmpty(section)){delete data[layerID]}}else{section[id]=_.cloneDeep(value)}return true}return false},contextChanged:function(data,oldContext,newContext){if(newContext.language===undefined){return _.keys(data[oldContext.language])}if(oldContext.language===undefined){return _.keys(data[newContext.language])}return _.union(_.keys(data[newContext.language]),_.keys(data[oldContext.language]))}};function PathLayer(prefFilePath){this.setPrefFilePath(prefFilePath)}PathLayer.prototype={key:"path",get:function(data,id,context){var glob=this.getPreferenceLocation(data,id,context);if(!glob){return}return data[glob][id]},getPreferenceLocation:function(data,id,context){if(!data){return}var relativeFilename=FileUtils.getRelativeFilename(this.prefFilePath,context[this.key]);if(!relativeFilename){return}return _findMatchingGlob(data,relativeFilename)},set:function(data,id,value,context,layerID){if(!layerID){layerID=this.getPreferenceLocation(data,id,context)}if(!layerID){return false}var section=data[layerID];if(!section){data[layerID]=section={}}if(!_.isEqual(section[id],value)){if(value===undefined){delete section[id]}else{section[id]=_.cloneDeep(value)}return true}return false},getKeys:function(data,context){if(!data){return}var relativeFilename=FileUtils.getRelativeFilename(this.prefFilePath,context[this.key]);if(relativeFilename){var glob=_findMatchingGlob(data,relativeFilename);if(glob){return _.keys(data[glob])}else{return[]}}return _.union.apply(null,_.map(_.values(data),_.keys))},setPrefFilePath:function(prefFilePath){if(!prefFilePath){this.prefFilePath="/"}else{this.prefFilePath=FileUtils.getDirectoryPath(prefFilePath)}},contextChanged:function(data,oldContext,newContext){var newGlob=_findMatchingGlob(data,FileUtils.getRelativeFilename(this.prefFilePath,newContext[this.key])),oldGlob=_findMatchingGlob(data,FileUtils.getRelativeFilename(this.prefFilePath,oldContext[this.key]));if(newGlob===oldGlob){return}if(newGlob===undefined){return _.keys(data[oldGlob])}if(oldGlob===undefined){return _.keys(data[newGlob])}return _.union(_.keys(data[oldGlob]),_.keys(data[newGlob]))}};function Preference(properties){_.extend(this,properties)}EventDispatcher.makeEventDispatcher(Preference.prototype);function _addEventDispatcherImpl(proto){var temp={};EventDispatcher.makeEventDispatcher(temp);proto._on_internal=temp.on;proto._off_internal=temp.off;proto.trigger=temp.trigger}function PrefixedPreferencesSystem(base,prefix){this.base=base;this.prefix=prefix;this._listenerInstalled=false}PrefixedPreferencesSystem.prototype={definePreference:function(id,type,initial,options){return this.base.definePreference(this.prefix+id,type,initial,options)},getPreference:function(id){return this.base.getPreference(this.prefix+id)},get:function(id,context){context=context||{};return this.base.get(this.prefix+id,this.base._getContext(context))},getPreferenceLocation:function(id,context){return this.base.getPreferenceLocation(this.prefix+id,context)},set:function(id,value,options,doNotSave){return this.base.set(this.prefix+id,value,options,doNotSave)},_installListener:function(){if(this._listenerInstalled){return}var self=this,prefix=this.prefix;var onlyWithPrefix=function(id){if(_.startsWith(id,prefix)){return true}return false};var withoutPrefix=function(id){return id.substr(prefix.length)};this.base.on(PREFERENCE_CHANGE,function(e,data){var prefixedIds=data.ids.filter(onlyWithPrefix);if(prefixedIds.length>0){self.trigger(PREFERENCE_CHANGE,{ids:prefixedIds.map(withoutPrefix)})}});this._listenerInstalled=true},on:function(event,preferenceID,handler){if(typeof preferenceID==="function"){handler=preferenceID;preferenceID=null}if(preferenceID){var pref=this.getPreference(preferenceID);if(!pref){console.warn("[Bramble] skipping PreferenceManager.on, no such preferenceID",event,preferenceID);return}pref.on(event,handler)}else{this._installListener();this._on_internal(event,handler)}},off:function(event,preferenceID,handler){if(typeof preferenceID==="function"){handler=preferenceID;preferenceID=null}if(preferenceID){var pref=this.getPreference(preferenceID);pref.off(event,handler)}else{this._off_internal(event,handler)}},save:function(){return this.base.save()}};_addEventDispatcherImpl(PrefixedPreferencesSystem.prototype);function PreferencesSystem(contextBuilder){this.contextBuilder=contextBuilder;this._knownPrefs={};this._scopes={default:new Scope(new MemoryStorage)};this._scopes["default"].load();this._defaults={scopeOrder:["default"],_shadowScopeOrder:[{id:"default",scope:this._scopes["default"],promise:(new $.Deferred).resolve().promise()}]};this._pendingScopes={};this._saveInProgress=false;this._nextSaveDeferred=null;this._pathScopeDefinitions={};this._pathScopeFilenames=[];this._pathScopes={};this._changeEventQueue=null;var notifyPrefChange=function(id){var pref=this._knownPrefs[id];if(pref){pref.trigger(PREFERENCE_CHANGE)}}.bind(this);this.on(PREFERENCE_CHANGE,function(e,data){data.ids.forEach(notifyPrefChange)}.bind(this))}_.extend(PreferencesSystem.prototype,{definePreference:function(id,type,initial,options){options=options||{};if(this._knownPrefs.hasOwnProperty(id)){throw new Error("Preference "+id+" was redefined")}var pref=this._knownPrefs[id]=new Preference({type:type,initial:initial,name:options.name,description:options.description,validator:options.validator,excludeFromHints:options.excludeFromHints,keys:options.keys,values:options.values,valueType:options.valueType});this.set(id,initial,{location:{scope:"default"}});return pref},getPreference:function(id){return this._knownPrefs[id]},getAllPreferences:function(){return _.cloneDeep(this._knownPrefs)},_pushToScopeOrder:function(id,before){var defaultScopeOrder=this._defaults.scopeOrder,index=_.findIndex(defaultScopeOrder,function(id){return id===before});if(index>-1){defaultScopeOrder.splice(index,0,id)}else{throw new Error("Internal error: scope "+before+" should be in the scope order")}},_tryAddToScopeOrder:function(shadowEntry){var shadowScopeOrder=this._defaults._shadowScopeOrder,index=_.findIndex(shadowScopeOrder,function(entry){return entry===shadowEntry}),i=index+1;while(i<shadowScopeOrder.length){if(shadowScopeOrder[i].promise.state()==="pending"||shadowScopeOrder[i].promise.state()==="resolved"){break}i++}switch(shadowScopeOrder[i].promise.state()){case"pending":shadowScopeOrder[i].promise.always(function(){this._tryAddToScopeOrder(shadowEntry)}.bind(this));break;case"resolved":this._pushToScopeOrder(shadowEntry.id,shadowScopeOrder[i].id);this.trigger(SCOPEORDER_CHANGE,{id:shadowEntry.id,action:"added"});this._triggerChange({ids:shadowEntry.scope.getKeys()});break;default:throw new Error('Internal error: no scope found to add before. "default" is missing?..')}},_addToScopeOrder:function(id,scope,promise,addBefore){var shadowScopeOrder=this._defaults._shadowScopeOrder,shadowEntry,index,isPending=false,self=this;scope.on(PREFERENCE_CHANGE+".prefsys",function(e,data){self._triggerChange(data)}.bind(this));index=_.findIndex(shadowScopeOrder,function(entry){return entry.id===id});if(index>-1){shadowEntry=shadowScopeOrder[index]}else{shadowEntry={id:id,promise:promise,scope:scope};if(!addBefore){shadowScopeOrder.unshift(shadowEntry)}else{index=_.findIndex(shadowScopeOrder,function(entry){return entry.id===addBefore});if(index>-1){shadowScopeOrder.splice(index,0,shadowEntry)}else{var queue=this._pendingScopes[addBefore];if(!queue){queue=[];this._pendingScopes[addBefore]=queue}queue.unshift(shadowEntry);isPending=true}}}if(!isPending){promise.then(function(){this._scopes[id]=scope;this._tryAddToScopeOrder(shadowEntry)}.bind(this)).fail(function(err){_.pull(shadowScopeOrder,shadowEntry)}.bind(this));if(this._pendingScopes[id]){var pending=this._pendingScopes[id];delete this._pendingScopes[id];pending.forEach(function(entry){this._addToScopeOrder(entry.id,entry.scope,entry.promise,id)}.bind(this))}}},addToScopeOrder:function(id,addBefore){var shadowScopeOrder=this._defaults._shadowScopeOrder,index=_.findIndex(shadowScopeOrder,function(entry){return entry.id===id}),entry;if(index>-1){entry=shadowScopeOrder[index];this._addToScopeOrder(entry.id,entry.scope,entry.promise,addBefore)}},removeFromScopeOrder:function(id){var scope=this._scopes[id];if(scope){_.pull(this._defaults.scopeOrder,id);scope.off(".prefsys");this.trigger(SCOPEORDER_CHANGE,{id:id,action:"removed"});this._triggerChange({ids:scope.getKeys()})}},_getContext:function(context){if(context){if(this.contextBuilder){context=this.contextBuilder(context)}if(!context.scopeOrder){context.scopeOrder=this._defaults.scopeOrder}return context}return{scopeOrder:this._defaults.scopeOrder}},addScope:function(id,scope,options){var promise;options=options||{};if(this._scopes[id]){throw new Error("Attempt to redefine preferences scope: "+id)}if(!scope.get){scope=new Scope(scope)}promise=scope.load();this._addToScopeOrder(id,scope,promise,options.before);promise.fail(function(err){if(err instanceof ParsingError){console.error(err)}});return promise},removeScope:function(id){var scope=this._scopes[id],shadowIndex;if(!scope){return}this.removeFromScopeOrder(id);shadowIndex=_.findIndex(this._defaults._shadowScopeOrder,function(entry){return entry.id===id});this._defaults._shadowScopeOrder.splice(shadowIndex,1);delete this._scopes[id]},_getScopeOrder:function(context){return context.scopeOrder||this._defaults.scopeOrder},get:function(id,context){var scopeCounter;context=this._getContext(context);var scopeOrder=this._getScopeOrder(context);for(scopeCounter=0;scopeCounter<scopeOrder.length;scopeCounter++){var scope=this._scopes[scopeOrder[scopeCounter]];if(scope){var result=scope.get(id,context);if(result!==undefined){var pref=this.getPreference(id),validator=pref&&pref.validator;if(!validator||validator(result)){return _.cloneDeep(result)}}}}},getPreferenceLocation:function(id,context){var scopeCounter,scopeName;context=this._getContext(context);var scopeOrder=this._getScopeOrder(context);for(scopeCounter=0;scopeCounter<scopeOrder.length;scopeCounter++){scopeName=scopeOrder[scopeCounter];var scope=this._scopes[scopeName];if(scope){var result=scope.getPreferenceLocation(id,context);if(result!==undefined){result.scope=scopeName;return result}}}},set:function(id,value,options,doNotSave){options=options||{};var context=this._getContext(options.context),forceDefault=options.location&&options.location.scope==="default"?true:false,location=options.location||this.getPreferenceLocation(id,context);if(!location||location.scope==="default"&&!forceDefault){var scopeOrder=this._getScopeOrder(context);if(scopeOrder.length>1){location={
scope:scopeOrder[scopeOrder.length-2]}}else{return{valid:true,stored:false}}}var scope=this._scopes[location.scope];if(!scope){return{valid:true,stored:false}}var pref=this.getPreference(id),validator=pref&&pref.validator;if(validator&&!validator(value)){return{valid:false,stored:false}}var wasSet=scope.set(id,value,context,location);if(wasSet){if(!doNotSave){this.save()}this._triggerChange({ids:[id]})}return{valid:true,stored:wasSet}},save:function(){if(this._saveInProgress){if(!this._nextSaveDeferred){this._nextSaveDeferred=new $.Deferred}return this._nextSaveDeferred.promise()}var deferred=this._nextSaveDeferred||new $.Deferred;this._saveInProgress=true;this._nextSaveDeferred=null;Async.doInParallel(_.values(this._scopes),function(scope){if(scope){return scope.save()}else{return(new $.Deferred).resolve().promise()}}.bind(this)).then(function(){this._saveInProgress=false;if(this._nextSaveDeferred){this.save()}deferred.resolve()}.bind(this)).fail(function(err){deferred.reject(err)});return deferred.promise()},signalContextChanged:function(oldContext,newContext){var changes=[];_.each(this._scopes,function(scope){var changedInScope=scope.contextChanged(oldContext,newContext);if(changedInScope){changes.push(changedInScope)}});changes=_.union.apply(null,changes);if(changes.length>0){this._triggerChange({ids:changes})}},on:function(event,preferenceID,handler){if(typeof preferenceID==="function"){handler=preferenceID;preferenceID=null}if(preferenceID){var pref=this.getPreference(preferenceID);if(!pref){console.warn("[Bramble] skipping PreferenceManager.on, no such preferenceID",event,preferenceID);return}pref.on(event,handler)}else{this._on_internal(event,handler)}},off:function(event,preferenceID,handler){if(typeof preferenceID==="function"){handler=preferenceID;preferenceID=null}if(preferenceID){var pref=this.getPreference(preferenceID);pref.off(event,handler)}else{this._off_internal(event,handler)}},_triggerChange:function(data){if(this._changeEventQueue){this._changeEventQueue=_.union(this._changeEventQueue,data.ids)}else{this.trigger(PREFERENCE_CHANGE,data)}},pauseChangeEvents:function(){if(!this._changeEventQueue){this._changeEventQueue=[]}},resumeChangeEvents:function(){if(this._changeEventQueue){this.trigger(PREFERENCE_CHANGE,{ids:this._changeEventQueue});this._changeEventQueue=null}},fileChanged:function(filePath){_.forEach(this._scopes,function(scope){scope.fileChanged(filePath)})},getPrefixedSystem:function(prefix){return new PrefixedPreferencesSystem(this,prefix+".")}});_addEventDispatcherImpl(PreferencesSystem.prototype);exports.PreferencesSystem=PreferencesSystem;exports.Scope=Scope;exports.MemoryStorage=MemoryStorage;exports.PathLayer=PathLayer;exports.ProjectLayer=ProjectLayer;exports.LanguageLayer=LanguageLayer;exports.FileStorage=FileStorage});define("preferences/PreferencesImpl",["require","exports","module","./PreferencesBase","utils/Async"],function(require,exports,module){"use strict";var PreferencesBase=require("./PreferencesBase"),Async=require("utils/Async"),SETTINGS_FILENAME="brackets.json",STATE_FILENAME="state.json",userPrefFile=brackets.app.getApplicationSupportDirectory()+"/"+SETTINGS_FILENAME;var _prefManagerReadyDeferred=new $.Deferred;var userScopeCorrupt=false;function isUserScopeCorrupt(){return userScopeCorrupt}var _addScopePromises=[];var manager=new PreferencesBase.PreferencesSystem;manager.pauseChangeEvents();var projectStorage=new PreferencesBase.FileStorage(undefined,true),projectScope=new PreferencesBase.Scope(projectStorage),projectPathLayer=new PreferencesBase.PathLayer,projectLanguageLayer=new PreferencesBase.LanguageLayer;projectScope.addLayer(projectPathLayer);projectScope.addLayer(projectLanguageLayer);var userStorage=new PreferencesBase.FileStorage(userPrefFile,true),userScope=new PreferencesBase.Scope(userStorage),userLanguageLayer=new PreferencesBase.LanguageLayer;userScope.addLayer(userLanguageLayer);var userScopeLoading=manager.addScope("user",userScope);_addScopePromises.push(userScopeLoading);userScopeLoading.fail(function(err){_addScopePromises.push(manager.addScope("user",new PreferencesBase.MemoryStorage,{before:"default"}));if(err.name&&err.name==="ParsingError"){userScopeCorrupt=true}}).always(function(){_addScopePromises.push(manager.addScope("project",projectScope,{before:"user"}));_addScopePromises.push(manager.addScope("session",new PreferencesBase.MemoryStorage));Async.waitForAll(_addScopePromises).always(function(){_prefManagerReadyDeferred.resolve()})});var stateManager=new PreferencesBase.PreferencesSystem;var userStateFile=brackets.app.getApplicationSupportDirectory()+"/"+STATE_FILENAME;var smUserScope=new PreferencesBase.Scope(new PreferencesBase.MemoryStorage);var stateProjectLayer=new PreferencesBase.ProjectLayer;smUserScope.addLayer(stateProjectLayer);var smUserScopeLoading=stateManager.addScope("user",smUserScope);function _reloadUserPrefs(rootDir){var prefsDir=brackets.app.getApplicationSupportDirectory()+"/";if(prefsDir.indexOf(rootDir.fullPath)===0){manager.fileChanged(userPrefFile);stateManager.fileChanged(userStateFile)}}exports.manager=manager;exports.projectStorage=projectStorage;exports.projectPathLayer=projectPathLayer;exports.userScopeLoading=userScopeLoading;exports.stateManager=stateManager;exports.stateProjectLayer=stateProjectLayer;exports.smUserScopeLoading=smUserScopeLoading;exports.userPrefFile=userPrefFile;exports.isUserScopeCorrupt=isUserScopeCorrupt;exports.managerReady=_prefManagerReadyDeferred.promise();exports.reloadUserPrefs=_reloadUserPrefs;exports.STATE_FILENAME=STATE_FILENAME;exports.SETTINGS_FILENAME=SETTINGS_FILENAME});define("preferences/PreferencesManager",["require","exports","module","utils/AppInit","command/Commands","command/CommandManager","file/FileUtils","preferences/PreferencesBase","filesystem/FileSystem","strings","preferences/PreferencesImpl","thirdparty/lodash"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),Commands=require("command/Commands"),CommandManager=require("command/CommandManager"),FileUtils=require("file/FileUtils"),PreferencesBase=require("preferences/PreferencesBase"),FileSystem=require("filesystem/FileSystem"),Strings=require("strings"),PreferencesImpl=require("preferences/PreferencesImpl"),_=require("thirdparty/lodash");var currentFilename=null,currentLanguageId=null,projectDirectory=null,projectScopeIsIncluded=true;function _includeProjectScope(filename){filename=filename||currentFilename;if(!filename||!projectDirectory){return false}return FileUtils.getRelativeFilename(projectDirectory,filename)!==undefined}function getUserPrefFile(){return PreferencesImpl.userPrefFile}function _toggleProjectScope(){if(_includeProjectScope()===projectScopeIsIncluded){return}if(projectScopeIsIncluded){PreferencesImpl.manager.removeFromScopeOrder("project")}else{PreferencesImpl.manager.addToScopeOrder("project","user")}projectScopeIsIncluded=!projectScopeIsIncluded}function _setProjectSettingsFile(settingsFile){projectDirectory=FileUtils.getDirectoryPath(settingsFile);_toggleProjectScope();PreferencesImpl.projectPathLayer.setPrefFilePath(settingsFile);PreferencesImpl.projectStorage.setPath(settingsFile)}function getExtensionPrefs(prefix){return PreferencesImpl.manager.getPrefixedSystem(prefix)}var CURRENT_PROJECT={};var CURRENT_FILE;var scopeOrderWithProject=null;var scopeOrderWithoutProject=null;function _adjustScopeOrderForProject(scopeOrder,includeProject){var hasProject=scopeOrder.indexOf("project")>-1;if(hasProject===includeProject){return scopeOrder}var newScopeOrder;if(includeProject){var before=scopeOrder.indexOf("user");if(before===-1){before=scopeOrder.length-2}newScopeOrder=_.take(scopeOrder,before);newScopeOrder.push("project");newScopeOrder.push.apply(newScopeOrder,_.drop(scopeOrder,before))}else{newScopeOrder=_.without(scopeOrder,"project")}return newScopeOrder}function _buildContext(filename,languageId){var ctx={};if(filename){ctx.path=filename}else{ctx.path=currentFilename}if(languageId){ctx.language=languageId}else{ctx.language=currentLanguageId}ctx.scopeOrder=_includeProjectScope(ctx.path)?scopeOrderWithProject:scopeOrderWithoutProject;return ctx}function _getContext(context){context=context||{};return _buildContext(context.path,context.language)}function _setCurrentFile(newFilename){var oldFilename=currentFilename;if(oldFilename===newFilename){return}currentFilename=newFilename;_toggleProjectScope();PreferencesImpl.manager.signalContextChanged(_buildContext(oldFilename,currentLanguageId),_buildContext(newFilename,currentLanguageId))}function _setCurrentLanguage(newLanguageId){var oldLanguageId=currentLanguageId;if(oldLanguageId===newLanguageId){return}currentLanguageId=newLanguageId;PreferencesImpl.manager.signalContextChanged(_buildContext(currentFilename,oldLanguageId),_buildContext(currentFilename,newLanguageId))}PreferencesImpl.manager.contextBuilder=_getContext;function _updateCurrentProjectContext(){var defaultScopeOrder=PreferencesImpl.manager._getScopeOrder({});scopeOrderWithProject=_adjustScopeOrderForProject(defaultScopeOrder,true);scopeOrderWithoutProject=_adjustScopeOrderForProject(defaultScopeOrder,false);CURRENT_PROJECT.scopeOrder=scopeOrderWithProject}_updateCurrentProjectContext();PreferencesImpl.manager.on("scopeOrderChange",_updateCurrentProjectContext);function _handleOpenPreferences(){var fullPath=getUserPrefFile(),file=FileSystem.getFileForPath(fullPath);file.exists(function(err,doesExist){if(doesExist){CommandManager.execute(Commands.FILE_OPEN,{fullPath:fullPath})}else{FileUtils.writeText(file,"",true).done(function(){CommandManager.execute(Commands.FILE_OPEN,{fullPath:fullPath})})}})}CommandManager.register(Strings.CMD_OPEN_PREFERENCES,Commands.FILE_OPEN_PREFERENCES,_handleOpenPreferences);function getViewState(id,context){return PreferencesImpl.stateManager.get(id,context)}function setViewState(id,value,context,doNotSave){PreferencesImpl.stateManager.set(id,value,context);if(!doNotSave){PreferencesImpl.stateManager.save()}}AppInit.appReady(function(){PreferencesImpl.manager.resumeChangeEvents()});exports._isUserScopeCorrupt=PreferencesImpl.isUserScopeCorrupt;exports._setCurrentFile=_setCurrentFile;exports._setCurrentLanguage=_setCurrentLanguage;exports._setProjectSettingsFile=_setProjectSettingsFile;exports._smUserScopeLoading=PreferencesImpl.smUserScopeLoading;exports._stateProjectLayer=PreferencesImpl.stateProjectLayer;exports._reloadUserPrefs=PreferencesImpl.reloadUserPrefs;exports._buildContext=_buildContext;exports.CURRENT_FILE=CURRENT_FILE;exports.CURRENT_PROJECT=CURRENT_PROJECT;exports.ready=PreferencesImpl.managerReady;exports.getUserPrefFile=getUserPrefFile;exports.get=PreferencesImpl.manager.get.bind(PreferencesImpl.manager);exports.set=PreferencesImpl.manager.set.bind(PreferencesImpl.manager);exports.save=PreferencesImpl.manager.save.bind(PreferencesImpl.manager);exports.on=PreferencesImpl.manager.on.bind(PreferencesImpl.manager);exports.off=PreferencesImpl.manager.off.bind(PreferencesImpl.manager);exports.getPreference=PreferencesImpl.manager.getPreference.bind(PreferencesImpl.manager);exports.getAllPreferences=PreferencesImpl.manager.getAllPreferences.bind(PreferencesImpl.manager);exports.getExtensionPrefs=getExtensionPrefs;exports.getViewState=getViewState;exports.setViewState=setViewState;exports.addScope=PreferencesImpl.manager.addScope.bind(PreferencesImpl.manager);exports.stateManager=PreferencesImpl.stateManager;exports.FileStorage=PreferencesBase.FileStorage;exports.SETTINGS_FILENAME=PreferencesImpl.SETTINGS_FILENAME;exports.definePreference=PreferencesImpl.manager.definePreference.bind(PreferencesImpl.manager);exports.fileChanged=PreferencesImpl.manager.fileChanged.bind(PreferencesImpl.manager)});define("utils/ViewUtils",["require","exports","module","thirdparty/lodash","language/LanguageManager"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),LanguageManager=require("language/LanguageManager");var SCROLL_SHADOW_HEIGHT=5;var _resizeHandlers=[];function _updateScrollerShadow($displayElement,$scrollElement,$shadowTop,$shadowBottom,isPositionFixed){var offsetTop=0,scrollElement=$scrollElement.get(0),scrollTop=scrollElement.scrollTop,topShadowOffset=Math.min(scrollTop-SCROLL_SHADOW_HEIGHT,0),displayElementWidth=$displayElement.width();if($shadowTop){$shadowTop.css("background-position","0px "+topShadowOffset+"px");if(isPositionFixed){offsetTop=$displayElement.offset().top;$shadowTop.css("top",offsetTop)}if(isPositionFixed){$shadowTop.css("width",displayElementWidth)}}if($shadowBottom){var clientHeight=scrollElement.clientHeight,outerHeight=$displayElement.outerHeight(),scrollHeight=scrollElement.scrollHeight,bottomShadowOffset=SCROLL_SHADOW_HEIGHT;if(scrollHeight>clientHeight){bottomShadowOffset-=Math.min(SCROLL_SHADOW_HEIGHT,scrollHeight-(scrollTop+clientHeight))}$shadowBottom.css("background-position","0px "+bottomShadowOffset+"px");$shadowBottom.css("top",offsetTop+outerHeight-SCROLL_SHADOW_HEIGHT);$shadowBottom.css("width",displayElementWidth)}}function getOrCreateShadow($displayElement,position,isPositionFixed){var $findShadow=$displayElement.find(".scroller-shadow."+position);if($findShadow.length===0){$findShadow=$(window.document.createElement("div")).addClass("scroller-shadow "+position);$displayElement.append($findShadow)}if(!isPositionFixed){$findShadow.css("position","absolute");$findShadow.css(position,"0")}return $findShadow}function addScrollerShadow(displayElement,scrollElement,showBottom){var isPositionFixed=false;if(!scrollElement){scrollElement=displayElement;isPositionFixed=true}var $displayElement=$(displayElement),$scrollElement=$(scrollElement);var $shadowTop=getOrCreateShadow($displayElement,"top",isPositionFixed);var $shadowBottom=showBottom?getOrCreateShadow($displayElement,"bottom",isPositionFixed):null;var doUpdate=function(){_updateScrollerShadow($displayElement,$scrollElement,$shadowTop,$shadowBottom,isPositionFixed)};$scrollElement.off("scroll.scroller-shadow");$displayElement.off("contentChanged.scroller-shadow");$scrollElement.on("scroll.scroller-shadow",doUpdate);$displayElement.on("contentChanged.scroller-shadow",doUpdate);doUpdate()}function removeScrollerShadow(displayElement,scrollElement){if(!scrollElement){scrollElement=displayElement}var $displayElement=$(displayElement),$scrollElement=$(scrollElement);$displayElement.find(".scroller-shadow.top").remove();$displayElement.find(".scroller-shadow.bottom").remove();$scrollElement.off("scroll.scroller-shadow");$displayElement.off("contentChanged.scroller-shadow")}function toggleClass($domElement,className,addClass){if(addClass){$domElement.addClass(className)}else{$domElement.removeClass(className)}}function sidebarList($scrollerElement,selectedClassName,leafClassName){var $listElement=$scrollerElement.find("ul"),$selectionMarker,$selectionExtension,$sidebar=$("#sidebar"),showExtension=true;$selectionMarker=$(window.document.createElement("div")).addClass("sidebar-selection");$scrollerElement.prepend($selectionMarker);$scrollerElement.css("overflow","auto");$scrollerElement.css("position","relative");$selectionExtension=$(window.document.createElement("div")).addClass("sidebar-selection-extension");$scrollerElement.append($selectionExtension);selectedClassName="."+(selectedClassName||"selected");var updateSelectionExtension=function(){var selectionMarkerHeight=$selectionMarker.height(),selectionMarkerOffset=$selectionMarker.offset(),scrollerOffset=$scrollerElement.offset(),selectionExtensionHeight=$selectionExtension.outerHeight(),scrollerTop=scrollerOffset.top,scrollerBottom=scrollerTop+$scrollerElement.outerHeight(),selectionExtensionTop=selectionMarkerOffset.top;$selectionExtension.css("top",selectionExtensionTop);$selectionExtension.css("left",$sidebar.width()-$selectionExtension.outerWidth());toggleClass($selectionExtension,"selectionExtension-visible",showExtension);var selectionExtensionClipOffsetYBy=Math.floor((selectionMarkerHeight-selectionExtensionHeight)/2),selectionExtensionBottom=selectionExtensionTop+selectionExtensionHeight+selectionExtensionClipOffsetYBy;if(selectionExtensionTop<scrollerTop||selectionExtensionBottom>scrollerBottom){$selectionExtension.css("clip","rect("+Math.max(scrollerTop-selectionExtensionTop-selectionExtensionClipOffsetYBy,0)+"px, auto, "+(selectionExtensionHeight-Math.max(selectionExtensionBottom-scrollerBottom,0))+"px, auto)")}else{$selectionExtension.css("clip","")}};var hideSelectionMarker=function(event){$selectionExtension.addClass("forced-hidden");$selectionMarker.addClass("forced-hidden")};var updateSelectionMarker=function(event,reveal){var $listItem=$listElement.find(selectedClassName).closest("li");if(leafClassName){showExtension=$listItem.hasClass(leafClassName)}$selectionExtension.removeClass("forced-hidden");$selectionMarker.removeClass("forced-hidden");$selectionExtension.hide();$selectionMarker.hide();if($listItem.length===1){var selectionMarkerTop=$listItem.offset().top-$scrollerElement.offset().top+$scrollerElement.get(0).scrollTop;$selectionMarker.css("top",selectionMarkerTop);$selectionMarker.show();updateSelectionExtension();$selectionExtension.show();var scrollerElement=$scrollerElement.get(0),scrollerHeight=scrollerElement.clientHeight,selectionMarkerHeight=$selectionMarker.height(),selectionMarkerBottom=selectionMarkerTop+selectionMarkerHeight,currentScrollBottom=scrollerElement.scrollTop+scrollerHeight;if(reveal){if(selectionMarkerTop>=currentScrollBottom){$listItem.get(0).scrollIntoView(false)}else if(selectionMarkerBottom<=scrollerElement.scrollTop){$listItem.get(0).scrollIntoView(true)}}}};$listElement.on("selectionChanged",updateSelectionMarker);$scrollerElement.on("scroll",updateSelectionExtension);$scrollerElement.on("selectionRedraw",updateSelectionExtension);$scrollerElement.on("selectionHide",hideSelectionMarker);updateSelectionMarker();_resizeHandlers.push(updateSelectionExtension)}function _handleResize(){_resizeHandlers.forEach(function(f){f.apply()})}function getElementClipSize($view,elementRect){var delta,clip={top:0,right:0,bottom:0,left:0},viewOffset=$view.offset()||{top:0,left:0};delta=elementRect.top+elementRect.height-(viewOffset.top+$view.height());if(delta>0){clip.bottom=delta}delta=viewOffset.top-elementRect.top;if(delta>0){clip.top=delta}delta=viewOffset.left-elementRect.left;if(delta>0){clip.left=delta}delta=elementRect.left+elementRect.width-(viewOffset.left+$view.width());if(delta>0){clip.right=delta}return clip}function scrollElementIntoView($view,$element,scrollHorizontal){var elementOffset=$element.offset();var elementRect={top:elementOffset.top,left:elementOffset.left,height:$element.height(),width:$element.width()},clip=getElementClipSize($view,elementRect);if(clip.bottom>0){$view.scrollTop($view.scrollTop()+clip.bottom)}else if(clip.top>0){$view.scrollTop($view.scrollTop()-clip.top)}if(scrollHorizontal){if(clip.left>0){$view.scrollLeft($view.scrollLeft()-clip.left)}else if(clip.right>0){$view.scrollLeft($view.scrollLeft()+clip.right)}}}function getFileEntryDisplay(entry){var name=entry.name,ext=LanguageManager.getCompoundFileExtension(name),i=name.lastIndexOf("."+ext);if(i>0){name=_.escape(name.substring(0,i))+"<span class='extension'>"+_.escape(name.substring(i))+"</span>"}else{name=_.escape(name)}return name}function getDirNamesForDuplicateFiles(files){if(files.length<=1){return[]}var map={},filePaths=[],displayPaths=[];files.forEach(function(file,index){var fp=file.fullPath.split("/");fp.pop();displayPaths[index]=fp.pop();filePaths[index]=fp;if(!map[displayPaths[index]]){map[displayPaths[index]]=[index]}else{map[displayPaths[index]].push(index)}});var processMap=function(map){var didSomething=false;_.forEach(map,function(arr,key){if(arr.length>1){arr.forEach(function(index){if(filePaths[index].length!==0){displayPaths[index]=filePaths[index].pop()+"/"+displayPaths[index];didSomething=true;if(!map[displayPaths[index]]){map[displayPaths[index]]=[index]}else{map[displayPaths[index]].push(index)}}})}delete map[key]});return didSomething};var repeat;do{repeat=processMap(map)}while(repeat);return displayPaths}function traverseViewArray(viewArray,startIndex,direction){if(Math.abs(direction)!==1){console.error("traverseViewArray called with unsupported direction: "+direction.toString());return null}if(startIndex===-1){if(viewArray.length>0){return viewArray[0]}}else if(viewArray.length>1){startIndex+=direction;if(startIndex>=viewArray.length){startIndex=0}else if(startIndex<0){startIndex=viewArray.length-1}return viewArray[startIndex]}return null}function hideMainToolBar(){$("#main-toolbar").addClass("forced-hidden");$(".main-view .content").each(function(index,element){$(element).addClass("force-right-zero")})}function showMainToolBar(){$("#main-toolbar").removeClass("forced-hidden");$(".main-view .content").each(function(index,element){$(element).removeClass("force-right-zero")})}$(window).resize(_handleResize);exports.SCROLL_SHADOW_HEIGHT=SCROLL_SHADOW_HEIGHT;exports.addScrollerShadow=addScrollerShadow;exports.removeScrollerShadow=removeScrollerShadow;exports.sidebarList=sidebarList;exports.showMainToolBar=showMainToolBar;exports.hideMainToolBar=hideMainToolBar;exports.scrollElementIntoView=scrollElementIntoView;exports.getElementClipSize=getElementClipSize;exports.getFileEntryDisplay=getFileEntryDisplay;exports.toggleClass=toggleClass;exports.getDirNamesForDuplicateFiles=getDirNamesForDuplicateFiles;exports.traverseViewArray=traverseViewArray});define("utils/Resizer",["require","exports","module","utils/AppInit","utils/EventDispatcher","utils/ViewUtils","preferences/PreferencesManager"],function(require,exports,module){"use strict";var DIRECTION_VERTICAL="vert";var DIRECTION_HORIZONTAL="horz";var POSITION_TOP="top";var POSITION_BOTTOM="bottom";var POSITION_LEFT="left";var POSITION_RIGHT="right";var PREFS_PURE_CODE="noDistractions";var DEFAULT_MIN_SIZE=100;var AppInit=require("utils/AppInit"),EventDispatcher=require("utils/EventDispatcher"),ViewUtils=require("utils/ViewUtils"),PreferencesManager=require("preferences/PreferencesManager");var $mainView,$sideBar;var isResizing=false,isWindowResizing=false;function show(element){var showFunc=$(element).data("show");if(showFunc){showFunc.apply(element)}}function hide(element){var hideFunc=$(element).data("hide");if(hideFunc){hideFunc.apply(element)}}function toggle(element){if($(element).is(":visible")){hide(element)}else{show(element)}}function removeSizable(element){var removeSizableFunc=$(element).data("removeSizable");if(removeSizableFunc){removeSizableFunc.apply(element)}}function resyncSizer(element){var resyncSizerFunc=$(element).data("resyncSizer");if(resyncSizerFunc){resyncSizerFunc.apply(element)}}function isVisible(element){return $(element).is(":visible")}function _isPercentage(value){return!$.isNumeric(value)&&value.indexOf("%")>-1}function _percentageToPixels(value,total){return parseFloat(value.replace("%",""))*(total/100)}function _sideBarMaxSize(){var siblingsWidth=0;$sideBar.siblings().not(".content").each(function(i,elem){var $elem=$(elem);if($elem.css("display")!=="none"){siblingsWidth+=$elem.outerWidth()}});return $(".main-view").width()-siblingsWidth-1}function makeResizable(element,direction,position,minSize,collapsible,forceLeft,createdByWorkspaceManager,usePercentages,_attachToParent){var $resizer=$('<div class="'+direction+'-resizer"></div>'),$element=$(element),$parent=$element.parent(),$resizableElement=$($element.find(".resizable-content:first")[0]),$body=$(window.document.body),elementID=$element.attr("id"),elementPrefs=PreferencesManager.getViewState(elementID)||{},animationRequest=null,directionProperty=direction===DIRECTION_HORIZONTAL?"clientX":"clientY",directionIncrement=position===POSITION_TOP||position===POSITION_LEFT?1:-1,parentSizeFunction=direction===DIRECTION_HORIZONTAL?$parent.innerWidth:$parent.innerHeight,elementSizeFunction=function(newSize){if(!newSize){if(direction===DIRECTION_HORIZONTAL){return this.width()}else{return this.height()}}else if(!usePercentages){if(direction===DIRECTION_HORIZONTAL){return this.width(newSize)}else{return this.height(newSize)}}else{var parentSize=parentSizeFunction.apply($parent),percentage,prop;if(direction===DIRECTION_HORIZONTAL){prop="width"}else{prop="height"}percentage=newSize/parentSize;this.css(prop,percentage*100+"%");return this}},resizerCSSPosition=direction===DIRECTION_HORIZONTAL?"left":"top",contentSizeFunction=direction===DIRECTION_HORIZONTAL?$resizableElement.width:$resizableElement.height;if(PreferencesManager.get(PREFS_PURE_CODE)&&($element.hasClass("bottom-panel")||$element.hasClass("sidebar"))){elementPrefs.visible=false}if(!elementID){console.error("Resizable panels must have a DOM id to use as a preferences key:",element);return}if($parent[0]&&$parent.is(".content")&&!createdByWorkspaceManager){console.error("Resizable panels within the editor area should be created via WorkspaceManager.createBottomPanel(). \nElement:",element);return}if(minSize===undefined){minSize=DEFAULT_MIN_SIZE}collapsible=collapsible||false;if(_attachToParent){$parent.prepend($resizer)}else{$element.prepend($resizer)}$element.css("box-sizing","border-box");function adjustSibling(size){if(forceLeft!==undefined){$(forceLeft,$parent).css("left",size)}}function resizeElement(elementSize,contentSize){elementSizeFunction.apply($element,[elementSize]);if($resizableElement.length){contentSizeFunction.apply($resizableElement,[contentSize])}}function repositionResizer(elementSize){var resizerPosition=elementSize||1;if(position===POSITION_RIGHT||position===POSITION_BOTTOM){$resizer.css(resizerCSSPosition,resizerPosition)}}$element.data("removeSizable",function(){$resizer.off(".resizer");$element.removeData("show");$element.removeData("hide");$element.removeData("resyncSizer");$element.removeData("removeSizable");$resizer.remove()});$element.data("resyncSizer",function(){repositionResizer(elementSizeFunction.apply($element))});$element.data("show",function(){var elementOffset=$element.offset(),elementSize=elementSizeFunction.apply($element)||elementPrefs.size,contentSize=contentSizeFunction.apply($resizableElement)||elementPrefs.contentSize;resizeElement(elementSize,contentSize);$element.show();elementPrefs.visible=true;if(collapsible){if(_attachToParent){$parent.prepend($resizer)}else{$element.prepend($resizer)}if(position===POSITION_TOP){$resizer.css(resizerCSSPosition,"")}else if(position===POSITION_RIGHT){$resizer.css(resizerCSSPosition,elementOffset[resizerCSSPosition]+elementSize)}}adjustSibling(elementSize);$element.trigger("panelExpanded",[elementSize]);PreferencesManager.setViewState(elementID,elementPrefs,null,isResizing)});$element.data("hide",function(){var elementOffset=$element.offset(),elementSize=elementSizeFunction.apply($element),resizerSize=elementSizeFunction.apply($resizer);$element.hide();elementPrefs.visible=false;if(collapsible){$resizer.insertBefore($element);if(position===POSITION_RIGHT){$resizer.css(resizerCSSPosition,"")}else if(position===POSITION_TOP){$resizer.css(resizerCSSPosition,elementOffset[resizerCSSPosition]+elementSize-resizerSize)}}adjustSibling(0);$element.trigger("panelCollapsed",[elementSize]);PreferencesManager.setViewState(elementID,elementPrefs,null,isResizing)});$resizer.on("mousedown.resizer",function(e){$resizer.addClass("active");var $resizeShield=$("<div class='resizing-container "+direction+"-resizing' />"),startPosition=e[directionProperty],startSize=$element.is(":visible")?elementSizeFunction.apply($element):0,newSize=startSize,previousSize=startSize,baseSize=0,resizeStarted=false;isResizing=true;$body.append($resizeShield);if($resizableElement.length){$element.children().not(".horz-resizer, .vert-resizer, .resizable-content").each(function(index,child){if(direction===DIRECTION_HORIZONTAL){baseSize+=$(child).outerWidth()}else{baseSize+=$(child).outerHeight()}})}function doRedraw(){if(!isResizing){return}if(newSize!==previousSize){previousSize=newSize;if($element.is(":visible")){if(newSize<10){toggle($element);elementSizeFunction.apply($element,[0])}else{if(!resizeStarted){resizeStarted=true;$element.trigger("panelResizeStart",newSize)}resizeElement(newSize,newSize-baseSize);adjustSibling(newSize);$element.trigger("panelResizeUpdate",[newSize])}}else if(newSize>10){elementSizeFunction.apply($element,[newSize]);toggle($element);if(!resizeStarted){resizeStarted=true;$element.trigger("panelResizeStart",newSize)}}}animationRequest=window.requestAnimationFrame(doRedraw)}function onMouseMove(e){newSize=Math.max(startSize+directionIncrement*(startPosition-e[directionProperty]),minSize);var maxSize=$element.data("maxsize");if(maxSize!==undefined){if(_isPercentage(maxSize)){maxSize=_percentageToPixels(maxSize,_sideBarMaxSize())}newSize=Math.min(newSize,maxSize)}e.preventDefault();if(animationRequest===null){animationRequest=window.requestAnimationFrame(doRedraw)}}$(window.document).on("mousemove",onMouseMove);if(collapsible){$resizeShield.on("mousedown",function(e){$(window.document).off("mousemove",onMouseMove);$resizeShield.off("mousedown");$resizeShield.remove();animationRequest=null;toggle($element)})}function endResize(e){if(isResizing){var elementSize=elementSizeFunction.apply($element);if($element.is(":visible")){elementPrefs.size=elementSize;if($resizableElement.length){elementPrefs.contentSize=contentSizeFunction.apply($resizableElement)}PreferencesManager.setViewState(elementID,elementPrefs);repositionResizer(elementSize)}isResizing=false;if(resizeStarted){$element.trigger("panelResizeEnd",[elementSize])}window.setTimeout(function(){$(window.document).off("mousemove",onMouseMove);$resizeShield.off("mousedown");$resizeShield.remove();animationRequest=null;$resizer.removeClass("active")},300)}}$(window.document).one("mouseup",endResize);e.preventDefault()});if(elementPrefs){if(elementPrefs.size!==undefined){elementSizeFunction.apply($element,[elementPrefs.size])}if(elementPrefs.contentSize!==undefined){contentSizeFunction.apply($resizableElement,[elementPrefs.contentSize])}if(elementPrefs.visible!==undefined&&!elementPrefs.visible){hide($element)}else{adjustSibling(elementSizeFunction.apply($element));repositionResizer(elementSizeFunction.apply($element))}}}function updateResizeLimits(){var sideBarMaxSize=_sideBarMaxSize(),maxSize=$sideBar.data("maxsize"),width=false;if(maxSize!==undefined&&_isPercentage(maxSize)){sideBarMaxSize=_percentageToPixels(maxSize,sideBarMaxSize)}if($sideBar.width()>sideBarMaxSize){$sideBar.width(sideBarMaxSize);resyncSizer($sideBar);$(".content").css("left",$sideBar.width());$sideBar.trigger("panelResizeStart",$sideBar.width());$sideBar.trigger("panelResizeUpdate",[$sideBar.width()]);$sideBar.trigger("panelResizeEnd",[$sideBar.width()])}}function onWindowResize(e){if($sideBar.css("display")==="none"){return}if(!isWindowResizing){isWindowResizing=true;$(window.document).one("mousemove",function(){isWindowResizing=false;updateResizeLimits()})}}window.addEventListener("resize",onWindowResize,true);AppInit.htmlReady(function(){var minSize=DEFAULT_MIN_SIZE;$mainView=$(".main-view");$sideBar=$("#sidebar");$(".vert-resizable").each(function(index,element){if($(element).data().minsize!==undefined){minSize=$(element).data().minsize}if($(element).hasClass("top-resizer")){makeResizable(element,DIRECTION_VERTICAL,POSITION_TOP,minSize,$(element).hasClass("collapsible"))}});$(".horz-resizable").each(function(index,element){if($(element).data().minsize!==undefined){minSize=$(element).data().minsize}if($(element).hasClass("right-resizer")){makeResizable(element,DIRECTION_HORIZONTAL,POSITION_RIGHT,minSize,$(element).hasClass("collapsible"),$(element).data().forceleft)}});if($("#main-toolbar").hasClass("collapsible")&&PreferencesManager.get(PREFS_PURE_CODE)){ViewUtils.hideMainToolBar()}});EventDispatcher.makeEventDispatcher(exports);exports.makeResizable=makeResizable;exports.removeSizable=removeSizable;exports.resyncSizer=resyncSizer;exports.toggle=toggle;exports.show=show;exports.hide=hide
;exports.isVisible=isVisible;exports.DIRECTION_VERTICAL=DIRECTION_VERTICAL;exports.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL;exports.POSITION_TOP=POSITION_TOP;exports.POSITION_RIGHT=POSITION_RIGHT;exports.POSITION_BOTTOM=POSITION_BOTTOM;exports.POSITION_LEFT=POSITION_LEFT});define("view/WorkspaceManager",["require","exports","module","utils/AppInit","utils/EventDispatcher","utils/Resizer","bramble/BrambleEvents"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),EventDispatcher=require("utils/EventDispatcher"),Resizer=require("utils/Resizer");var BrambleEvents=require("bramble/BrambleEvents");var EVENT_WORKSPACE_UPDATE_LAYOUT="workspaceUpdateLayout",EVENT_WORKSPACE_PANEL_SHOWN="workspacePanelShown",EVENT_WORKSPACE_PANEL_HIDDEN="workspacePanelHidden";var $windowContent;var $editorHolder;var panelIDMap={};var windowResizing=false;function calcAvailableHeight(){var availableHt=$windowContent.height();$editorHolder.siblings().each(function(i,elem){var $elem=$(elem);if($elem.css("display")!=="none"&&$elem.css("position")!=="absolute"){availableHt-=$elem.outerHeight()}});return Math.max(availableHt,0)}function updateResizeLimits(){var editorAreaHeight=$editorHolder.height();$editorHolder.siblings().each(function(i,elem){var $elem=$(elem);if($elem.css("display")==="none"){$elem.data("maxsize",editorAreaHeight)}else{$elem.data("maxsize",editorAreaHeight+$elem.outerHeight())}})}function triggerUpdateLayout(refreshHint){var editorAreaHeight=calcAvailableHeight();$editorHolder.height(editorAreaHeight);exports.trigger(EVENT_WORKSPACE_UPDATE_LAYOUT,editorAreaHeight,refreshHint)}function handleWindowResize(){if(!$windowContent||!$editorHolder){return}triggerUpdateLayout();if(!windowResizing){windowResizing=true;$(window.document).one("mousemove",function(){windowResizing=false;updateResizeLimits()})}}function listenToResize($panel){$panel.on("panelCollapsed panelExpanded panelResizeUpdate",function(e){triggerUpdateLayout()});$panel.on("panelCollapsed panelExpanded panelResizeEnd",function(e){updateResizeLimits()})}function Panel($panel,minSize){this.$panel=$panel;Resizer.makeResizable($panel[0],Resizer.DIRECTION_VERTICAL,Resizer.POSITION_TOP,minSize,false,undefined,true);listenToResize($panel)}Panel.prototype.$panel=null;Panel.prototype.isVisible=function(){return this.$panel.is(":visible")};Panel.prototype.show=function(){Resizer.show(this.$panel[0]);exports.trigger(EVENT_WORKSPACE_PANEL_SHOWN,this.panelID)};Panel.prototype.hide=function(){Resizer.hide(this.$panel[0]);exports.trigger(EVENT_WORKSPACE_PANEL_HIDDEN,this.panelID)};Panel.prototype.setVisible=function(visible){if(visible){this.show()}else{this.hide()}};function createBottomPanel(id,$panel,minSize){$panel.insertBefore("#status-bar");$panel.hide();updateResizeLimits();panelIDMap[id]=new Panel($panel,minSize);panelIDMap[id].panelID=id;return panelIDMap[id]}function getAllPanelIDs(){var property,panelIDs=[];for(property in panelIDMap){if(panelIDMap.hasOwnProperty(property)){panelIDs.push(property)}}return panelIDs}function getPanelForID(panelID){return panelIDMap[panelID]}function recomputeLayout(refreshHint){triggerUpdateLayout(refreshHint);updateResizeLimits()}AppInit.htmlReady(function(){$windowContent=$(".content");$editorHolder=$("#editor-holder");var $sidebar=$("#sidebar");listenToResize($sidebar);$sidebar.on("panelCollapsed",function(){BrambleEvents.triggerSidebarCollapsed()});$sidebar.on("panelExpanded",function(){BrambleEvents.triggerSidebarExpanded()});$sidebar.on("panelCollapsed panelExpanded panelResizeUpdate",function(e){BrambleEvents.triggerUpdateLayoutStart()});$sidebar.on("panelCollapsed panelExpanded panelResizeEnd",function(e){BrambleEvents.triggerUpdateLayoutEnd()})});function _setMockDOM($mockWindowContent,$mockEditorHolder){$windowContent=$mockWindowContent;$editorHolder=$mockEditorHolder}window.addEventListener("resize",handleWindowResize,true);EventDispatcher.makeEventDispatcher(exports);exports.createBottomPanel=createBottomPanel;exports.recomputeLayout=recomputeLayout;exports.getAllPanelIDs=getAllPanelIDs;exports.getPanelForID=getPanelForID;exports._setMockDOM=_setMockDOM;exports.EVENT_WORKSPACE_UPDATE_LAYOUT=EVENT_WORKSPACE_UPDATE_LAYOUT;exports.EVENT_WORKSPACE_PANEL_SHOWN=EVENT_WORKSPACE_PANEL_SHOWN;exports.EVENT_WORKSPACE_PANEL_HIDDEN=EVENT_WORKSPACE_PANEL_HIDDEN});define("view/MainViewFactory",["require","exports","module","thirdparty/lodash"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var _factories=[];function registerViewFactory(factory){_factories.push(factory)}function findSuitableFactoryForPath(fullPath){return _.find(_factories,function(factory){return factory.canOpenFile(fullPath)})}exports.registerViewFactory=registerViewFactory;exports.findSuitableFactoryForPath=findSuitableFactoryForPath});define("view/ViewStateManager",["require","exports","module","thirdparty/lodash"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var _viewStateCache={};function reset(){_viewStateCache={}}function _setViewState(file,viewState){_viewStateCache[file.fullPath]=viewState}function updateViewState(view){if(view.getViewState){_setViewState(view.getFile(),view.getViewState())}}function getViewState(file){return _viewStateCache[file.fullPath]}function addViewStates(viewStates){_viewStateCache=_.extend(_viewStateCache,viewStates)}exports.reset=reset;exports.updateViewState=updateViewState;exports.getViewState=getViewState;exports.addViewStates=addViewStates});define("document/InMemoryFile",["require","exports","module","filesystem/File","filesystem/FileSystemError"],function(require,exports,module){"use strict";var File=require("filesystem/File"),FileSystemError=require("filesystem/FileSystemError");function InMemoryFile(fullPath,fileSystem){File.call(this,fullPath,fileSystem)}InMemoryFile.prototype=Object.create(File.prototype);InMemoryFile.prototype.constructor=InMemoryFile;InMemoryFile.prototype.parentClass=File.prototype;InMemoryFile.prototype.read=function(options,callback){if(typeof options==="function"){callback=options}callback(FileSystemError.NOT_FOUND)};InMemoryFile.prototype.write=function(data,encoding,callback){if(typeof encoding==="function"){callback=encoding}callback(FileSystemError.NOT_FOUND)};InMemoryFile.prototype.exists=function(callback){callback(null,false)};InMemoryFile.prototype.stat=function(callback){callback(FileSystemError.NOT_FOUND)};InMemoryFile.prototype.unlink=function(callback){callback(FileSystemError.NOT_FOUND)};InMemoryFile.prototype.rename=function(newName,callback){callback(FileSystemError.NOT_FOUND)};InMemoryFile.prototype.moveToTrash=function(callback){callback(FileSystemError.NOT_FOUND)};module.exports=InMemoryFile});define("text!htmlContent/pane.html",[],function(){return'<div id="{{id}}" class="view-pane">\n    <div class="pane-header">\n        <div class="pane-header-text"></div>\n        <div class="pane-header-flipview-btn flipview-icon-none"></div>\n        <div class="pane-header-close-btn file-status-icon can-close"></div>\n    </div>\n    <div class="pane-content">\n        <div class="not-editor"></div>\n    </div>\n</div>'});define("view/Pane",["require","exports","module","thirdparty/lodash","thirdparty/mustache/mustache","utils/EventDispatcher","filesystem/FileSystem","document/InMemoryFile","view/ViewStateManager","view/MainViewManager","preferences/PreferencesManager","document/DocumentManager","command/CommandManager","command/Commands","strings","utils/StringUtils","utils/ViewUtils","project/ProjectManager","text!htmlContent/pane.html"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache"),EventDispatcher=require("utils/EventDispatcher"),FileSystem=require("filesystem/FileSystem"),InMemoryFile=require("document/InMemoryFile"),ViewStateManager=require("view/ViewStateManager"),MainViewManager=require("view/MainViewManager"),PreferencesManager=require("preferences/PreferencesManager"),DocumentManager=require("document/DocumentManager"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),ViewUtils=require("utils/ViewUtils"),ProjectManager=require("project/ProjectManager"),paneTemplate=require("text!htmlContent/pane.html");var FIRST_PANE="first-pane";var SECOND_PANE="second-pane";PreferencesManager.definePreference("pane.showPaneHeaderButtons","string","hover",{description:Strings.DESCRIPTION_SHOW_PANE_HEADER_BUTTONS,values:["hover","always","never"]});PreferencesManager.definePreference("pane.mergePanesWhenLastFileClosed","boolean",false,{description:Strings.DESCRIPTION_MERGE_PANES_WHEN_LAST_FILE_CLOSED});function _makeIndexRequestObject(requestIndex,index){return{indexRequested:requestIndex,index:index}}function Pane(id,$container){this._initialize();var self=this,showPaneHeaderButtonsPref=PreferencesManager.get("pane.showPaneHeaderButtons"),$el=$container.append(Mustache.render(paneTemplate,{id:id})).find("#"+id),$header=$el.find(".pane-header"),$headerText=$header.find(".pane-header-text"),$headerFlipViewBtn=$header.find(".pane-header-flipview-btn"),$headerCloseBtn=$header.find(".pane-header-close-btn"),$content=$el.find(".pane-content");$el.on("focusin.pane",function(e){self._lastFocusedElement=e.target});$headerFlipViewBtn.on("click.pane",function(e){var currentFile=self.getCurrentlyViewedFile();var otherPaneId=self.id===FIRST_PANE?SECOND_PANE:FIRST_PANE;var otherPane=MainViewManager._getPane(otherPaneId);if(otherPane.getViewForPath(currentFile.fullPath)){return}var activePaneIdBeforeFlip=MainViewManager.getActivePaneId();var currentFileOnOtherPaneIndex=otherPane.findInViewList(currentFile.fullPath);if(currentFileOnOtherPaneIndex!==-1){CommandManager.execute(Commands.FILE_CLOSE,{File:currentFile,paneId:self.id})}MainViewManager._moveView(self.id,otherPaneId,currentFile).always(function(){CommandManager.execute(Commands.FILE_OPEN,{fullPath:currentFile.fullPath,paneId:otherPaneId}).always(function(){var activePaneBeforeFlip=MainViewManager._getPane(activePaneIdBeforeFlip);self.trigger("viewListChange");otherPane.trigger("viewListChange");setTimeout(function(){activePaneBeforeFlip.focus();self._lastFocusedElement=activePaneBeforeFlip.$el[0];MainViewManager.setActivePaneId(activePaneIdBeforeFlip)},1)})})});$headerCloseBtn.on("click.pane",function(){MainViewManager.setActivePaneId(self.id);var file=self.getCurrentlyViewedFile();if(file){CommandManager.execute(Commands.FILE_CLOSE,{File:file,paneId:self.id});if(!self.getCurrentlyViewedFile()&&PreferencesManager.get("pane.mergePanesWhenLastFileClosed")){MainViewManager.setLayoutScheme(1,1)}}else{MainViewManager.setLayoutScheme(1,1)}});this._lastFocusedElement=$el[0];Object.defineProperty(this,"id",{get:function(){return id},set:function(){console.error("cannot change the id of a working pane")}});Object.defineProperty(this,"$el",{get:function(){return $el},set:function(){console.error("cannot change the DOM node of a working pane")}});Object.defineProperty(this,"$header",{get:function(){return $header},set:function(){console.error("cannot change the DOM node of a working pane")}});Object.defineProperty(this,"$headerText",{get:function(){return $headerText},set:function(){console.error("cannot change the DOM node of a working pane")}});Object.defineProperty(this,"$headerFlipViewBtn",{get:function(){return $headerFlipViewBtn},set:function(){console.error("cannot change the DOM node of a working pane")}});Object.defineProperty(this,"$headerCloseBtn",{get:function(){return $headerCloseBtn},set:function(){console.error("cannot change the DOM node of a working pane")}});Object.defineProperty(this,"$content",{get:function(){return $content},set:function(){console.error("cannot change the DOM node of a working pane")}});Object.defineProperty(this,"$container",{get:function(){return $container},set:function(){console.error("cannot change the DOM node of a working pane")}});this.updateHeaderText();switch(showPaneHeaderButtonsPref){case"always":this.$header.addClass("always-show-header-buttons");break;case"never":this.$headerFlipViewBtn.css("display","none");this.$headerCloseBtn.css("display","none");break}DocumentManager.on(this._makeEventName("fileNameChange"),_.bind(this._handleFileNameChange,this));DocumentManager.on(this._makeEventName("pathDeleted"),_.bind(this._handleFileDeleted,this));MainViewManager.on(this._makeEventName("activePaneChange"),_.bind(this._handleActivePaneChange,this));MainViewManager.on(this._makeEventName("workingSetAdd"),_.bind(this.updateHeaderText,this));MainViewManager.on(this._makeEventName("workingSetRemove"),_.bind(this.updateHeaderText,this));MainViewManager.on(this._makeEventName("workingSetAddList"),_.bind(this.updateHeaderText,this));MainViewManager.on(this._makeEventName("workingSetRemoveList"),_.bind(this.updateHeaderText,this));MainViewManager.on(this._makeEventName("paneLayoutChange"),_.bind(this.updateFlipViewIcon,this))}EventDispatcher.makeEventDispatcher(Pane.prototype);Pane.prototype.id=null;Pane.prototype.$container=null;Pane.prototype.$el=null;Pane.prototype.$header=null;Pane.prototype.$headerText=null;Pane.prototype.$headerFlipViewBtn=null;Pane.prototype.$headerCloseBtn=null;Pane.prototype.$content=null;Pane.prototype._viewList=[];Pane.prototype._viewListMRUOrder=[];Pane.prototype._viewListAddedOrder=[];Pane.prototype._views={};Pane.prototype._currentView=null;Pane.prototype._lastFocusedElement=null;Pane.prototype._initialize=function(){this._viewList=[];this._viewListMRUOrder=[];this._viewListAddedOrder=[];this._views={};this._currentView=null;this.showInterstitial(true)};Pane.prototype._makeEventName=function(name){return name+".pane-"+this.id};Pane.prototype._reparent=function(view){view.$el.appendTo(this.$content);this._views[view.getFile().fullPath]=view;if(view.notifyContainerChange){view.notifyContainerChange()}};Pane.prototype._hideCurrentView=function(){if(this._currentView){var currentView=this._currentView;this._setViewVisibility(this._currentView,false);this.showInterstitial(true);this._currentView=null;this._notifyCurrentViewChange(null,currentView)}};Pane.prototype.moveView=function(file,destinationPane,destinationIndex){var self=this,openNextPromise=new $.Deferred,result=new $.Deferred;if(this.getCurrentlyViewedPath()===file.fullPath){var nextFile=this.traverseViewListByMRU(1,file.fullPath);if(nextFile){this._execOpenFile(nextFile.fullPath).fail(function(){self._hideCurrentView()}).always(function(){openNextPromise.resolve()})}else{this._hideCurrentView();openNextPromise.resolve()}}else{openNextPromise.resolve()}openNextPromise.done(function(){var viewListIndex=self.findInViewList(file.fullPath);var shouldAddView=viewListIndex!==-1;var view=self._views[file.fullPath];if(!shouldAddView){if(view){self._doDestroyView(view)}return result.resolve()}self._viewList.splice(viewListIndex,1);self._viewListMRUOrder.splice(self.findInViewListMRUOrder(file.fullPath),1);self._viewListAddedOrder.splice(self.findInViewListAddedOrder(file.fullPath),1);destinationPane._addToViewList(file,_makeIndexRequestObject(true,destinationIndex));if(view){delete self._views[file.fullPath];destinationPane.addView(view,!destinationPane.getCurrentlyViewedFile());result.resolve()}else if(!destinationPane.getCurrentlyViewedFile()){destinationPane._execOpenFile(file.fullPath).always(function(){result.resolve()})}else{result.resolve()}});return result.promise()};Pane.prototype.mergeFrom=function(other){var otherCurrentView=other._currentView;other._hideCurrentView();this._viewList=_.union(this._viewList,other._viewList);this._viewListMRUOrder=_.union(this._viewListMRUOrder,other._viewListMRUOrder);this._viewListAddedOrder=_.union(this._viewListAddedOrder,other._viewListAddedOrder);var self=this,viewsToDestroy=[];_.forEach(other._views,function(view){var file=view.getFile(),fullPath=file&&file.fullPath;if(fullPath&&other.findInViewList(fullPath)!==-1){self._reparent(view)}else{viewsToDestroy.push(view)}});if(otherCurrentView&&!other._isViewNeeded(otherCurrentView)&&viewsToDestroy.indexOf(otherCurrentView)===-1){viewsToDestroy.push(otherCurrentView)}_.forEach(viewsToDestroy,function(view){self.trigger("viewDestroy",view);view.destroy()});other._initialize()};Pane.prototype.destroy=function(){if(this._currentView||Object.keys(this._views).length>0||this._viewList.length>0){console.warn("destroying a pane that isn't empty")}this._reset();DocumentManager.off(this._makeEventName(""));MainViewManager.off(this._makeEventName(""));this.$el.off(".pane");this.$el.remove()};Pane.prototype.getViewList=function(){return _.clone(this._viewList)};Pane.prototype.getViewListSize=function(){return this._viewList.length};Pane.prototype.findInViewList=function(fullPath){return _.findIndex(this._viewList,function(file){return file.fullPath===fullPath})};Pane.prototype.findInViewListAddedOrder=function(fullPath){return _.findIndex(this._viewListAddedOrder,function(file){return file.fullPath===fullPath})};Pane.prototype.findInViewListMRUOrder=function(fullPath){return _.findIndex(this._viewListMRUOrder,function(file){return file.fullPath===fullPath})};Pane.prototype.ITEM_NOT_FOUND=-1;Pane.prototype.ITEM_FOUND_NO_SORT=0;Pane.prototype.ITEM_FOUND_NEEDS_SORT=1;Pane.prototype.reorderItem=function(file,index,force){var indexRequested=index!==undefined&&index!==null&&index>=0,curIndex=this.findInViewList(file.fullPath);if(curIndex!==-1){if(force||indexRequested&&curIndex!==index){var entry=this._viewList.splice(curIndex,1)[0];this._viewList.splice(index,0,entry);return this.ITEM_FOUND_NEEDS_SORT}return this.ITEM_FOUND_NO_SORT}return this.ITEM_NOT_FOUND};Pane.prototype._canAddFile=function(file){return this._views.hasOwnProperty(file.fullPath)&&this.findInViewList(file.fullPath)===-1||MainViewManager._getPaneIdForPath(file.fullPath)!==this.id};Pane.prototype._addToViewList=function(file,inPlace){if(inPlace&&inPlace.indexRequested){this._viewList.splice(inPlace.index,0,file)}else{this._viewList.push(file)}var currentPath=this.getCurrentlyViewedPath();if(currentPath&&currentPath===file.fullPath){this._viewListMRUOrder.unshift(file)}else{this._viewListMRUOrder.push(file)}this._viewListAddedOrder.unshift(file)};Pane.prototype.addToViewList=function(file,index){var indexRequested=index!==undefined&&index!==null&&index>=0&&index<this._viewList.length;this._addToViewList(file,_makeIndexRequestObject(indexRequested,index));if(!indexRequested){index=this._viewList.length-1}return index};Pane.prototype.addListToViewList=function(fileList){var self=this,uniqueFileList=[];fileList.forEach(function(file){if(self._canAddFile(file)){self._addToViewList(file);uniqueFileList.push(file)}});return uniqueFileList};Pane.prototype._notifyCurrentViewChange=function(newView,oldView){this.updateHeaderText();this.trigger("currentViewChange",newView,oldView)};Pane.prototype._doDestroyView=function(view){if(this._currentView===view){this._hideCurrentView()}delete this._views[view.getFile().fullPath];this.trigger("viewDestroy",view);view.destroy()};Pane.prototype._doRemove=function(file,preventViewChange){var index=this.findInViewList(file.fullPath);if(index>-1){this._viewList.splice(index,1);this._viewListMRUOrder.splice(this.findInViewListMRUOrder(file.fullPath),1);this._viewListAddedOrder.splice(this.findInViewListAddedOrder(file.fullPath),1)}var view=this._views[file.fullPath];if(view){if(!preventViewChange){this._doDestroyView(view)}}return index>-1||Boolean(view)};Pane.prototype.makeViewMostRecent=function(file){var index=this.findInViewListMRUOrder(file.fullPath);if(index!==-1){this._viewListMRUOrder.splice(index,1);this._viewListMRUOrder.unshift(file)}};Pane.prototype.sortViewList=function(compareFn){this._viewList.sort(_.partial(compareFn,this.id))};Pane.prototype.moveWorkingSetItem=function(fromIndex,toIndex){this._viewList.splice(toIndex,0,this._viewList.splice(fromIndex,1)[0])};Pane.prototype.swapViewListIndexes=function(index1,index2){var temp=this._viewList[index1];this._viewList[index1]=this._viewList[index2];this._viewList[index2]=temp;return true};Pane.prototype.traverseViewListByMRU=function(direction,current){if(!current&&this._currentView){var file=this._currentView.getFile();current=file&&file.fullPath}var index=current?this.findInViewListMRUOrder(current):-1;return ViewUtils.traverseViewArray(this._viewListMRUOrder,index,direction)};Pane.prototype.updateFlipViewIcon=function(){var paneID=this.id,directionIndex=0,ICON_CLASSES=["flipview-icon-none","flipview-icon-top","flipview-icon-right","flipview-icon-bottom","flipview-icon-left"],DIRECTION_STRINGS=["",Strings.TOP,Strings.RIGHT,Strings.BOTTOM,Strings.LEFT],layoutScheme=MainViewManager.getLayoutScheme(),hasFile=this.getCurrentlyViewedFile();if(layoutScheme.columns>1&&hasFile){directionIndex=paneID===FIRST_PANE?2:4}else if(layoutScheme.rows>1&&hasFile){directionIndex=paneID===FIRST_PANE?3:1}this.$headerFlipViewBtn.removeClass(ICON_CLASSES.join(" ")).addClass(ICON_CLASSES[directionIndex]);this.$headerFlipViewBtn.attr("title",StringUtils.format(Strings.FLIPVIEW_BTN_TOOLTIP,DIRECTION_STRINGS[directionIndex].toLowerCase()))};Pane.prototype.updateHeaderText=function(){var file=this.getCurrentlyViewedFile(),files,displayName;if(file){files=MainViewManager.getAllOpenFiles().filter(function(item){return item.name===file.name});if(files.length<2){this.$headerText.text(file.name)}else{displayName=ProjectManager.makeProjectRelativeIfPossible(file.fullPath);this.$headerText.text(displayName)}}else{this.$headerText.html(Strings.EMPTY_VIEW_HEADER)}this.updateFlipViewIcon()};Pane.prototype._handleFileNameChange=function(e,oldname,newname){var dispatchEvent=this.findInViewList(newname)>=0;if(this._views.hasOwnProperty(oldname)){var view=this._views[oldname];this._views[newname]=view;delete this._views[oldname]}this.updateHeaderText();if(dispatchEvent){this.trigger("viewListChange")}};Pane.prototype._handleFileDeleted=function(e,fullPath){if(this.removeView({fullPath:fullPath})){this.trigger("viewListChange")}};Pane.prototype.showInterstitial=function(show){if(this.$content){this.$content.find(".not-editor").css("display",show?"":"none")}};Pane.prototype.getViewForPath=function(path){return this._views[path]};Pane.prototype.addView=function(view,show){var file=view.getFile(),path=file&&file.fullPath;if(!path){console.error("cannot add a view that does not have a fullPath");return}if(view.$el.parent()!==this.$content){this._reparent(view)}else{this._views[path]=view}if(view.markPaneId){view.markPaneId(this.id)}if(show){this.showView(view)}};Pane.prototype._setViewVisibility=function(view,visible){view.$el.css("display",visible?"":"none");if(view.notifyVisibilityChange){view.notifyVisibilityChange(visible)}};Pane.prototype.showView=function(view){if(this._currentView&&this._currentView===view){this._setViewVisibility(this._currentView,true);this.updateLayout(true);return}var file=view.getFile(),newPath=file&&file.fullPath,oldView=this._currentView;if(this._currentView){if(this._currentView.getFile()){ViewStateManager.updateViewState(this._currentView)}this._setViewVisibility(this._currentView,false)}else{this.showInterstitial(false)}this._currentView=view;this._setViewVisibility(this._currentView,true);this.updateLayout();this._notifyCurrentViewChange(view,oldView);if(oldView){this.destroyViewIfNotNeeded(oldView)}if(!this._views.hasOwnProperty(newPath)){console.error(newPath+" found in pane working set but pane.addView() has not been called for the view created for it")}};Pane.prototype._updateHeaderHeight=function(){var paneContentHeight=this.$el.height();if(MainViewManager.getPaneCount()>1){this.$header.show();paneContentHeight-=this.$header.outerHeight()}else{this.$header.hide()}this.$content.height(paneContentHeight)};Pane.prototype.updateLayout=function(forceRefresh){this._updateHeaderHeight();if(this._currentView){this._currentView.updateLayout(forceRefresh)}};Pane.prototype._isViewNeeded=function(view){var path=view.getFile().fullPath,currentPath=this.getCurrentlyViewedPath();return this._currentView&&currentPath===path||this.findInViewList(path)!==-1};Pane.prototype.getCurrentlyViewedFile=function(){return this._currentView?this._currentView.getFile():null};Pane.prototype.getCurrentlyViewedPath=function(){var file=this.getCurrentlyViewedFile();return file?file.fullPath:null};Pane.prototype.destroyViewIfNotNeeded=function(view){if(!this._isViewNeeded(view)){var file=view.getFile(),path=file&&file.fullPath;delete this._views[path];this.trigger("viewDestroy",view);view.destroy()}};Pane.prototype._reset=function(){var self=this,views=[],view=this._currentView;_.forEach(this._views,function(_view){views.push(_view)});if(this._currentView&&views.indexOf(this._currentView)===-1){views.push(this._currentView)}this._initialize();if(view){this._notifyCurrentViewChange(null,view)}views.forEach(function(_view){self.trigger("viewDestroy",_view);_view.destroy()})};Pane.prototype._execOpenFile=function(fullPath){return CommandManager.execute(Commands.CMD_ADD_TO_WORKINGSET_AND_OPEN,{fullPath:fullPath,paneId:this.id,options:{noPaneActivate:true}})};Pane.prototype.removeView=function(file,suppressOpenNextFile,preventViewChange){var nextFile=!suppressOpenNextFile&&this.traverseViewListByMRU(1,file.fullPath);if(nextFile&&nextFile.fullPath!==file.fullPath&&this.getCurrentlyViewedPath()===file.fullPath){var self=this,fullPath=nextFile.fullPath,needOpenNextFile=this.findInViewList(fullPath)!==-1;if(this._doRemove(file,needOpenNextFile)){if(needOpenNextFile){this._execOpenFile(fullPath).fail(function(){self._doDestroyView(self._currentView)})}return true}else{return false}}else{return this._doRemove(file,preventViewChange)}};Pane.prototype.removeViews=function(list){var self=this,needsDestroyCurrentView=false,result;needsDestroyCurrentView=_.findIndex(list,function(file){return file.fullPath===self.getCurrentlyViewedPath()})!==-1;result=list.filter(function(file){return self.removeView(file,true,true)});if(needsDestroyCurrentView){var nextFile=this.traverseViewListByMRU(1,this.getCurrentlyViewedPath()),fullPath=nextFile&&nextFile.fullPath,needOpenNextFile=fullPath&&this.findInViewList(fullPath)!==-1;if(needOpenNextFile){this._execOpenFile(fullPath).fail(function(){self._doDestroyView(self._currentView)})}else{this._doDestroyView(this._currentView)}}return result};Pane.prototype.focus=function(){var current=window.document.activeElement,self=this;function tryFocusingCurrentView(){if(self._currentView){if(self._currentView.focus){self._currentView.focus()}else{self._currentView.$el.focus()}}else{self.$el.focus()}}if(this._lastFocusedElement===current){return}if(current.tagName.toLowerCase()==="textarea"&&(!this._currentView||!this._currentView._codeMirror)){current.blur()}var $lfe=$(this._lastFocusedElement);if($lfe.length&&!$lfe.is(".view-pane")&&$lfe.is(":visible")){$lfe.focus()}else{tryFocusingCurrentView()}};Pane.prototype._handleActivePaneChange=function(e,activePaneId){this.$el.toggleClass("active-pane",Boolean(activePaneId===this.id))};Pane.prototype.loadState=function(state){var filesToAdd=[],viewStates={},activeFile,data,self=this;var getInitialViewFilePath=function(){return self._viewList.length>0?self._viewList[0].fullPath:null};_.forEach(state,function(entry){filesToAdd.push(FileSystem.getFileForPath(entry.file));if(entry.active){activeFile=entry.file}if(entry.viewState){viewStates[entry.file]=entry.viewState}});this.addListToViewList(filesToAdd);ViewStateManager.addViewStates(viewStates);activeFile=activeFile||getInitialViewFilePath();if(activeFile){data={paneId:self.id,fullPath:activeFile}}return(new $.Deferred).resolve(data)};Pane.prototype.saveState=function(){var result=[],currentlyViewedPath=this.getCurrentlyViewedPath();if(this._currentView&&this._currentView.getFile()){ViewStateManager.updateViewState(this._currentView)}this._viewList.forEach(function(file){if(!(file instanceof InMemoryFile)){result.push({file:file.fullPath,active:file.fullPath===currentlyViewedPath,viewState:ViewStateManager.getViewState(file)})}});return result};Pane.prototype.getScrollState=function(){if(this._currentView&&this._currentView.getScrollPos){return{scrollPos:this._currentView.getScrollPos()}}};Pane.prototype.restoreAndAdjustScrollState=function(state,heightDelta){if(this._currentView&&state&&state.scrollPos&&this._currentView.adjustScrollPos){this._currentView.adjustScrollPos(state.scrollPos,heightDelta)}};exports.Pane=Pane});define("text!htmlContent/binary-view.html",[],function(){return'<div class="binary-view viewer-wrapper">\n    <div class="binary-data viewer-header">\n        <span class="file-type">\n          {{ Strings.BINARY_FILE_TITLE }}\n        </span>\n        <span class="binary-data-content file-details"><span>\n    </div>\n\n    <h1>{{ Strings.BINARY_FILE_CANNOT_EDIT }}</h1>\n\n    <p>{{ Strings.BINARY_FILE_OPTIONS_TITLE }}</p>\n\n    <div class="file-options">\n        <button class="binary-download">{{ Strings.BINARY_FILE_DOWNLOAD }}</button>\n        <button class="binary-new-tab">{{ Strings.BINARY_FILE_OPEN }}</button>\n        <button class="binary-force-edit">{{ Strings.BINARY_FILE_TRY_EDIT }}</button>\n    </div>\n</div>\n'});define("editor/BinaryViewer",["require","exports","module","document/DocumentManager","view/MainViewManager","command/CommandManager","command/Commands","text!htmlContent/binary-view.html","project/ProjectManager","strings","utils/StringUtils","filesystem/FileSystem","filesystem/impls/filer/UrlCache","file/FileUtils","thirdparty/lodash","thirdparty/mustache/mustache"],function(require,exports,module){"use strict";var DocumentManager=require("document/DocumentManager"),MainViewManager=require("view/MainViewManager"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),BinaryViewTemplate=require("text!htmlContent/binary-view.html"),ProjectManager=require("project/ProjectManager"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),FileSystem=require("filesystem/FileSystem"),UrlCache=require("filesystem/impls/filer/UrlCache"),FileUtils=require("file/FileUtils"),_=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache");var _viewers={};function _getUrl(file){return UrlCache.getUrl(file.fullPath)}function BinaryView(file,pane,deferred){this.file=file;this.$container=pane.$content;this.paneId=pane.id;this.deferred=deferred;this.fileChangeHandler=_.bind(this._onFilenameChange,this);DocumentManager.on("fileNameChange",this.fileChangeHandler);this._buildPage(file,this.$container,false)}BinaryView.prototype._buildPage=function(file,$container,fileRename){var self=this;if(fileRename&&$container.find(".viewer-wrapper").length>0){$container.find(".viewer-wrapper").remove()}this.$el=$(Mustache.render(BinaryViewTemplate,{url:_getUrl(this.file),Strings:Strings}));$container.append(this.$el);_viewers[file.fullPath]=this;this.$fileSize=this.$el.find(".file-details");this.$binaryDownload=this.$el.find(".binary-download");this.$binaryDownload.on("click",function(e){e.preventDefault();CommandManager.execute(Commands.FILE_DOWNLOAD,file.fullPath);return false});this.$binaryNewTab=this.$el.find(".binary-new-tab");this.$binaryNewTab.on("click",function(e){e.preventDefault();window.open(_getUrl(file),"_blank");return false});this.$binaryForceEdit=this.$el.find(".binary-force-edit");this.$binaryForceEdit.on("click",function(e){e.preventDefault();self.destroy();MainViewManager._open(self.paneId,file,{forceEditorOpen:true});return false});file.stat(function(err,stat){var deferred=self.deferred;self.deferred=null;if(err){if(deferred){deferred.reject(err)}return}var sizeString=stat.size?StringUtils.prettyPrintBytes(stat.size,2):"";self.$fileSize.html(sizeString);if(deferred){deferred.resolve(file)}})};BinaryView.prototype._onFilenameChange=function(e,oldPath,newPath){if(this.file.fullPath===newPath){delete _viewers[oldPath]
;this._buildPage(this.file,this.$container,true)}};BinaryView.prototype.getFile=function(){return this.file};BinaryView.prototype.updateLayout=function(){var $container=this.$el.parent();var pos=$container.position(),iWidth=$container.innerWidth(),iHeight=$container.innerHeight(),oWidth=$container.outerWidth(),oHeight=$container.outerHeight();this.$el.css({top:pos.top+(oHeight-iHeight)/2,left:pos.left+(oWidth-iWidth)/2,width:iWidth,height:iHeight})};BinaryView.prototype.destroy=function(){delete _viewers[this.file.fullPath];DocumentManager.off("fileNameChange",this.fileChangeHandler);this.$binaryDownload.off("click");this.$binaryNewTab.off("click");this.$binaryForceEdit.off("click");this.$el.remove()};BinaryView.prototype.refresh=function(){return};function _handleFileSystemChange(event,entry,added,removed){if(!entry||entry.isDirectory){return}var viewer=_viewers[entry.fullPath];if(viewer){viewer.refresh()}}FileSystem.on("change",_handleFileSystemChange);exports.openFile=function openFile(file,pane){var view=pane.getViewForPath(file.fullPath);var deferred=new $.Deferred;if(view){pane.showView(view)}else{view=new BinaryView(file,pane,deferred);pane.addView(view,true)}return deferred.promise()}});define("view/MainViewManager",["require","exports","module","thirdparty/lodash","utils/EventDispatcher","strings","utils/AppInit","command/CommandManager","view/MainViewFactory","view/ViewStateManager","command/Commands","editor/EditorManager","filesystem/FileSystemError","document/DocumentManager","preferences/PreferencesManager","project/ProjectManager","view/WorkspaceManager","utils/Async","utils/ViewUtils","utils/Resizer","view/Pane","bramble/BrambleEvents","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/lib/content","editor/BinaryViewer"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),EventDispatcher=require("utils/EventDispatcher"),Strings=require("strings"),AppInit=require("utils/AppInit"),CommandManager=require("command/CommandManager"),MainViewFactory=require("view/MainViewFactory"),ViewStateManager=require("view/ViewStateManager"),Commands=require("command/Commands"),EditorManager=require("editor/EditorManager"),FileSystemError=require("filesystem/FileSystemError"),DocumentManager=require("document/DocumentManager"),PreferencesManager=require("preferences/PreferencesManager"),ProjectManager=require("project/ProjectManager"),WorkspaceManager=require("view/WorkspaceManager"),AsyncUtils=require("utils/Async"),ViewUtils=require("utils/ViewUtils"),Resizer=require("utils/Resizer"),Pane=require("view/Pane").Pane,KeyBindingManager=brackets.getModule("command/KeyBindingManager");var BrambleEvents=require("bramble/BrambleEvents"),FilerUtils=require("filesystem/impls/filer/FilerUtils"),Path=FilerUtils.Path,Content=require("filesystem/impls/filer/lib/content"),BinaryViewer=require("editor/BinaryViewer");var PREFS_NAME="mainView.state";var OLD_PREFS_NAME="project.files";var ALL_PANES="ALL_PANES";var ACTIVE_PANE="ACTIVE_PANE";var FIRST_PANE="first-pane";var SECOND_PANE="second-pane";var VERTICAL="VERTICAL";var HORIZONTAL="HORIZONTAL";var MIN_PANE_SIZE=75;var _orientation=null;var _activePaneId=null;var _$el;var _panes={};var _paneScrollStates={};var _traversingFileList=false;var _mruList=[];var _paneTitles={};_paneTitles[FIRST_PANE]={};_paneTitles[SECOND_PANE]={};_paneTitles[FIRST_PANE][VERTICAL]=Strings.LEFT;_paneTitles[FIRST_PANE][HORIZONTAL]=Strings.TOP;_paneTitles[SECOND_PANE][VERTICAL]=Strings.RIGHT;_paneTitles[SECOND_PANE][HORIZONTAL]=Strings.BOTTOM;function _makeMRUListEntry(file,paneId){return{file:file,paneId:paneId}}function _findFileInMRUList(paneId,file){return _.findIndex(_mruList,function(record){return record.file.fullPath===file.fullPath&&record.paneId===paneId})}function isExclusiveToPane(file,paneId){paneId=paneId===ACTIVE_PANE&&_activePaneId?_activePaneId:paneId;var index=_.findIndex(_mruList,function(record){return record.file.fullPath===file.fullPath&&record.paneId!==paneId});return index===-1}function getActivePaneId(){return _activePaneId}function _resolvePaneId(paneId){if(!paneId||paneId===ACTIVE_PANE){return getActivePaneId()}return paneId}function _getPane(paneId){paneId=_resolvePaneId(paneId);if(_panes[paneId]){return _panes[paneId]}return null}function focusActivePane(){_getPane(ACTIVE_PANE).focus()}function _isSpecialPaneId(paneId){return paneId===ACTIVE_PANE||paneId===ALL_PANES}function _makeFileMostRecent(paneId,file){var index,entry,pane=_getPane(paneId);if(!_traversingFileList){pane.makeViewMostRecent(file);index=_.findIndex(_mruList,function(record){return record.file===file&&record.paneId===pane.id});entry=_makeMRUListEntry(file,pane.id);if(index!==-1){_mruList.splice(index,1)}if(_findFileInMRUList(pane.id,file)!==-1){console.log(file.fullPath+" duplicated in mru list")}_mruList.unshift(entry)}}function _makePaneMostRecent(paneId){var pane=_getPane(paneId);if(pane.getCurrentlyViewedFile()){_makeFileMostRecent(paneId,pane.getCurrentlyViewedFile())}}function setActivePaneId(newPaneId){if(!_isSpecialPaneId(newPaneId)&&newPaneId!==_activePaneId){var oldPaneId=_activePaneId,oldPane=_getPane(ACTIVE_PANE),newPane=_getPane(newPaneId);if(!newPane){throw new Error("invalid pane id: "+newPaneId)}_activePaneId=newPaneId;exports.trigger("activePaneChange",newPaneId,oldPaneId);exports.trigger("currentFileChange",_getPane(ACTIVE_PANE).getCurrentlyViewedFile(),newPaneId,oldPane.getCurrentlyViewedFile(),oldPaneId);_makePaneMostRecent(_activePaneId);focusActivePane()}}function _getPaneFromElement($el){return _.find(_panes,function(pane){if(pane.$el[0]===$el[0]){return pane}})}function getCurrentlyViewedFile(paneId){var pane=_getPane(paneId);return pane?pane.getCurrentlyViewedFile():null}function getCurrentlyViewedPath(paneId){var file=getCurrentlyViewedFile(paneId);return file?file.fullPath:null}function _activeEditorChange(e,current){if(current){var $container=current.$el.parent().parent(),pane=_getPaneFromElement($container);if(pane){if(pane.id!==_activePaneId){setActivePaneId(pane.id)}}else{var parents=$container.parents(".view-pane");if(parents.length===1){$container=$(parents[0]);pane=_getPaneFromElement($container);if(pane){if(pane.id!==_activePaneId){setActivePaneId(pane.id);current.focus()}}}}}}function _forEachPaneOrPanes(paneId,callback){if(paneId===ALL_PANES){_.forEach(_panes,callback)}else{callback(_getPane(paneId))}}function cacheScrollState(paneId){_forEachPaneOrPanes(paneId,function(pane){_paneScrollStates[pane.id]=pane.getScrollState()})}function restoreAdjustedScrollState(paneId,heightDelta){_forEachPaneOrPanes(paneId,function(pane){pane.restoreAndAdjustScrollState(_paneScrollStates[pane.id],heightDelta);delete _paneScrollStates[pane.id]})}function getWorkingSet(paneId){var result=[];_forEachPaneOrPanes(paneId,function(pane){var viewList=pane.getViewList();result=_.union(result,viewList)});return result}function getAllOpenFiles(){var result=getWorkingSet(ALL_PANES);_.forEach(_panes,function(pane){var file=pane.getCurrentlyViewedFile();if(file){result=_.union(result,[file])}});return result}function getPaneIdList(){return Object.keys(_panes)}function getWorkingSetSize(paneId){var result=0;_forEachPaneOrPanes(paneId,function(pane){result+=pane.getViewListSize()});return result}function getPaneTitle(paneId){return _paneTitles[paneId][_orientation]}function getPaneCount(){return Object.keys(_panes).length}function _doFindInWorkingSet(paneId,fullPath,method){var result=-1;_forEachPaneOrPanes(paneId,function(pane){var index=pane[method].call(pane,fullPath);if(index>=0){result=index;return false}});return result}function findInAllWorkingSets(fullPath){var index,result=[];_.forEach(_panes,function(pane){index=pane.findInViewList(fullPath);if(index>=0){result.push({paneId:pane.id,index:index})}});return result}function findInWorkingSet(paneId,fullPath){return _doFindInWorkingSet(paneId,fullPath,"findInViewList")}function findInWorkingSetByAddedOrder(paneId,fullPath){return _doFindInWorkingSet(paneId,fullPath,"findInViewListAddedOrder")}function findInWorkingSetByMRUOrder(paneId,fullPath){return _doFindInWorkingSet(paneId,fullPath,"findInViewListMRUOrder")}function _getPaneIdForPath(fullPath){var info=findInAllWorkingSets(fullPath).shift();if(!info){_.forEach(_panes,function(pane){if(pane.getCurrentlyViewedPath()===fullPath){info={paneId:pane.id};return false}})}if(!info){return null}return info.paneId}function addToWorkingSet(paneId,file,index,force){var pane=_getPane(paneId);if(!pane){throw new Error("invalid pane id: "+paneId)}var result=pane.reorderItem(file,index,force),entry=_makeMRUListEntry(file,pane.id);if(result===pane.ITEM_FOUND_NEEDS_SORT){console.warn("pane.reorderItem returned pane.ITEM_FOUND_NEEDS_SORT which shouldn't happen "+file);exports.trigger("workingSetSort",pane.id)}else if(result===pane.ITEM_NOT_FOUND){index=pane.addToViewList(file,index);if(_findFileInMRUList(pane.id,file)===-1){if(pane.getCurrentlyViewedFile()===file){_mruList.unshift(entry)}else{_mruList.push(entry)}}exports.trigger("workingSetAdd",file,index,pane.id)}}function addListToWorkingSet(paneId,fileList){var uniqueFileList,pane=_getPane(paneId);uniqueFileList=pane.addListToViewList(fileList);uniqueFileList.forEach(function(file){if(_findFileInMRUList(pane.id,file)!==-1){console.log(file.fullPath+" duplicated in mru list")}_mruList.push(_makeMRUListEntry(file,pane.id))});exports.trigger("workingSetAddList",uniqueFileList,pane.id);var unsolvedList=fileList.filter(function(item){return pane.findInViewList(item.fullPath)===-1&&_getPaneIdForPath(item.fullPath)});if(unsolvedList.length){addListToWorkingSet(_getPaneIdForPath(unsolvedList[0].fullPath),unsolvedList)}}function _removeFileFromMRU(paneId,file){var index,compare=function(record){return record.file===file&&record.paneId===paneId};do{index=_.findIndex(_mruList,compare);if(index!==-1){_mruList.splice(index,1)}}while(index!==-1)}function _removeView(paneId,file,suppressRedraw){var pane=_getPane(paneId);if(pane.removeView(file)){_removeFileFromMRU(pane.id,file);exports.trigger("workingSetRemove",file,suppressRedraw,pane.id)}}function _moveView(sourcePaneId,destinationPaneId,file,destinationIndex){var result=new $.Deferred,sourcePane=_getPane(sourcePaneId),destinationPane=_getPane(destinationPaneId);sourcePane.moveView(file,destinationPane,destinationIndex).done(function(){_removeFileFromMRU(destinationPane.id,file);_mruList.every(function(record){if(record.file===file&&record.paneId===sourcePane.id){record.paneId=destinationPane.id;return false}return true});exports.trigger("workingSetMove",file,sourcePane.id,destinationPane.id);result.resolve()});return result.promise()}function switchPaneFocus(){var $firstPane=$("#first-pane"),$secondPane=$("#second-pane");if($firstPane.hasClass("active-pane")){$secondPane.click()}else{$firstPane.click()}}function _removeDeletedFileFromMRU(e,fullPath){var index,compare=function(record){return record.file.fullPath===fullPath};do{index=_.findIndex(_mruList,compare);if(index!==-1){_mruList.splice(index,1)}}while(index!==-1)}function _sortWorkingSet(paneId,compareFn){_forEachPaneOrPanes(paneId,function(pane){pane.sortViewList(compareFn);exports.trigger("workingSetSort",pane.id)})}function _moveWorkingSetItem(paneId,fromIndex,toIndex){var pane=_getPane(paneId);pane.moveWorkingSetItem(fromIndex,toIndex);exports.trigger("workingSetSort",pane.id);exports.trigger("_workingSetDisableAutoSort",pane.id)}function _swapWorkingSetListIndexes(paneId,index1,index2){var pane=_getPane(paneId);pane.swapViewListIndexes(index1,index2);exports.trigger("workingSetSort",pane.id);exports.trigger("_workingSetDisableAutoSort",pane.id)}function traverseToNextViewByMRU(direction){var file=getCurrentlyViewedFile(),paneId=getActivePaneId(),index=_.findIndex(_mruList,function(record){return record.file===file&&record.paneId===paneId});return ViewUtils.traverseViewArray(_mruList,index,direction)}function traverseToNextViewInListOrder(direction){var file=getCurrentlyViewedFile(),curPaneId=getActivePaneId(),allFiles=[],index;getPaneIdList().forEach(function(paneId){var paneFiles=getWorkingSet(paneId).map(function(file){return{file:file,pane:paneId}});allFiles=allFiles.concat(paneFiles)});index=_.findIndex(allFiles,function(record){return record.file===file&&record.pane===curPaneId});return ViewUtils.traverseViewArray(allFiles,index,direction)}function beginTraversal(){_traversingFileList=true}function endTraversal(){var pane=_getPane(ACTIVE_PANE);if(_traversingFileList){_traversingFileList=false;_makeFileMostRecent(pane.id,pane.getCurrentlyViewedFile())}}function _synchronizePaneSize(pane,forceRefresh){var available;if(_orientation===VERTICAL){available=_$el.innerWidth()}else{available=_$el.innerHeight()}Resizer.resyncSizer(pane.$el);pane.$el.data("maxsize",available-MIN_PANE_SIZE);pane.updateLayout(forceRefresh)}function _updateLayout(event,viewAreaHeight,forceRefresh){var available;if(_orientation===VERTICAL){available=_$el.innerWidth()}else{available=_$el.innerHeight()}_.forEach(_panes,function(pane){if(pane.id===SECOND_PANE&&_orientation===HORIZONTAL){var percentage=(_panes[FIRST_PANE].$el.height()+1)/available;pane.$el.css("height",100-percentage*100+"%")}_synchronizePaneSize(pane,forceRefresh)})}function _initialLayout(forceRefresh){var panes=Object.keys(_panes),size=100/panes.length;_.forEach(_panes,function(pane){if(pane.id===FIRST_PANE){if(_orientation===VERTICAL){pane.$el.css({height:"100%",width:size+"%",float:"left"})}else{pane.$el.css({height:size+"%",width:"100%"})}}else{if(_orientation===VERTICAL){pane.$el.css({height:"100%",width:"auto",float:"none"})}else{pane.$el.css({width:"100%",height:"50%"})}}_synchronizePaneSize(pane,forceRefresh)})}function _updatePaneHeaders(){_forEachPaneOrPanes(ALL_PANES,function(pane){pane.updateHeaderText()})}function _createPaneIfNecessary(paneId){var newPane;if(!_panes.hasOwnProperty(paneId)){newPane=new Pane(paneId,_$el);_panes[paneId]=newPane;exports.trigger("paneCreate",newPane.id);newPane.$el.on("click.mainview dragover.mainview",function(){setActivePaneId(newPane.id)});newPane.on("viewListChange.mainview",function(){_updatePaneHeaders();exports.trigger("workingSetUpdate",newPane.id)});newPane.on("currentViewChange.mainview",function(e,newView,oldView){_updatePaneHeaders();if(_activePaneId===newPane.id){exports.trigger("currentFileChange",newView&&newView.getFile(),newPane.id,oldView&&oldView.getFile(),newPane.id)}});newPane.on("viewDestroy.mainView",function(e,view){_removeFileFromMRU(newPane.id,view.getFile())})}return newPane}function _makeFirstPaneResizable(){var firstPane=_panes[FIRST_PANE];Resizer.makeResizable(firstPane.$el,_orientation===HORIZONTAL?Resizer.DIRECTION_VERTICAL:Resizer.DIRECTION_HORIZONTAL,_orientation===HORIZONTAL?Resizer.POSITION_BOTTOM:Resizer.POSITION_RIGHT,MIN_PANE_SIZE,false,false,false,true,true);firstPane.$el.on("panelResizeUpdate",function(){_updateLayout();BrambleEvents.triggerUpdateLayoutStart()});firstPane.$el.on("panelResizeEnd",function(){BrambleEvents.triggerUpdateLayoutStart()})}function _doSplit(orientation){var firstPane,newPane;if(orientation===_orientation){return}firstPane=_panes[FIRST_PANE];Resizer.removeSizable(firstPane.$el);if(_orientation){_$el.removeClass("split-"+_orientation.toLowerCase())}_$el.addClass("split-"+orientation.toLowerCase());_orientation=orientation;newPane=_createPaneIfNecessary(SECOND_PANE);_makeFirstPaneResizable();_initialLayout();exports.trigger("paneLayoutChange",_orientation);if(newPane&&getCurrentlyViewedFile(firstPane.id)){setActivePaneId(newPane.id)}}function _edit(paneId,doc,optionsIn){var options=optionsIn||{};var pane=_getPane(paneId);if(doc.isUntitled()||!ProjectManager.isWithinProject(doc.file.fullPath)){addToWorkingSet(paneId,doc.file)}EditorManager.openDocument(doc,pane,options);_makeFileMostRecent(paneId,doc.file);if(!options.noPaneActivate){setActivePaneId(paneId)}}function _open(paneId,file,optionsIn){var result=new $.Deferred,options=optionsIn||{};function doPostOpenActivation(){if(!options.noPaneActivate){setActivePaneId(paneId)}}function openWithFactory(factory){file.exists(function(fileError,fileExists){if(!fileExists){result.reject(fileError||FileSystemError.NOT_FOUND);return}factory.openFile(file,pane).done(function(){if(!ProjectManager.isWithinProject(file.fullPath)){addToWorkingSet(paneId,file)}doPostOpenActivation();result.resolve(file)}).fail(function(fileError){result.reject(fileError)})})}if(!file||!_getPane(paneId)){return result.reject("bad argument").promise()}var pane=_getPane(paneId);var factory=MainViewFactory.findSuitableFactoryForPath(file.fullPath);if(factory){openWithFactory(factory)}else{if(Content.isUTF8Encoded(Path.extname(file.fullPath))||options.forceEditorOpen){DocumentManager.getDocumentForPath(file.fullPath).done(function(doc){_edit(paneId,doc,$.extend({},options,{noPaneActivate:true}));doPostOpenActivation();result.resolve(doc.file)}).fail(function(fileError){result.reject(fileError)})}else{openWithFactory(BinaryViewer)}}result.done(function(){_makeFileMostRecent(paneId,file)});return result}function _mergePanes(){if(_panes.hasOwnProperty(SECOND_PANE)){var firstPane=_panes[FIRST_PANE],secondPane=_panes[SECOND_PANE],fileList=secondPane.getViewList(),lastViewed=getCurrentlyViewedFile();Resizer.removeSizable(firstPane.$el);firstPane.mergeFrom(secondPane);exports.trigger("workingSetRemoveList",fileList,secondPane.id);setActivePaneId(firstPane.id);secondPane.$el.off(".mainview");secondPane.off(".mainview");secondPane.destroy();delete _panes[SECOND_PANE];exports.trigger("paneDestroy",secondPane.id);exports.trigger("workingSetAddList",fileList,firstPane.id);_mruList.forEach(function(record){if(record.paneId===secondPane.id){record.paneId=firstPane.id}});_$el.removeClass("split-"+_orientation.toLowerCase());_orientation=null;_initialLayout();exports.trigger("paneLayoutChange",_orientation);if(lastViewed&&getCurrentlyViewedFile()!==lastViewed){exports._open(firstPane.id,lastViewed)}}}function _close(paneId,file,optionsIn){var options=optionsIn||{};_forEachPaneOrPanes(paneId,function(pane){if(pane.removeView(file,options.noOpenNextFile)&&(paneId===ACTIVE_PANE||pane.id===paneId)){_removeFileFromMRU(pane.id,file);exports.trigger("workingSetRemove",file,false,pane.id);return false}})}function _closeList(paneId,fileList){_forEachPaneOrPanes(paneId,function(pane){var closedList=pane.removeViews(fileList);closedList.forEach(function(file){_removeFileFromMRU(pane.id,file)});exports.trigger("workingSetRemoveList",closedList,pane.id)})}function _closeAll(paneId){_forEachPaneOrPanes(paneId,function(pane){var closedList=pane.getViewList();closedList.forEach(function(file){_removeFileFromMRU(pane.id,file)});pane._reset();exports.trigger("workingSetRemoveList",closedList,pane.id)})}function _findPaneForDocument(document){var pane=_getPaneFromElement($(document._masterEditor.$el.parent().parent()));if(!pane){var info=findInAllWorkingSets(document.file.fullPath).shift();if(info){pane=_panes[info.paneId]}}return pane}function _destroyEditorIfNotNeeded(document){if(!(document instanceof DocumentManager.Document)){throw new Error("_destroyEditorIfUnneeded() should be passed a Document")}if(document._masterEditor){var pane=_findPaneForDocument(document);if(pane){pane.destroyViewIfNotNeeded(document._masterEditor)}else{document._masterEditor.destroy()}}}function _loadViewState(e){var panes,promises=[],context={location:{scope:"user",layer:"project"}},state=PreferencesManager.getViewState(PREFS_NAME,context);function convertViewState(){var context={location:{scope:"user",layer:"project"}},files=PreferencesManager.getViewState(OLD_PREFS_NAME,context);if(!files){return}var result={orientation:null,activePaneId:FIRST_PANE,panes:{"first-pane":[]}};files.forEach(function(value){result.panes[FIRST_PANE].push(value)});return result}if(!state){state=convertViewState()}_mergePanes();_mruList=[];ViewStateManager.reset();if(state){panes=Object.keys(state.panes);_orientation=panes.length>1?state.orientation:null;_.forEach(state.panes,function(paneState,paneId){_createPaneIfNecessary(paneId);promises.push(_panes[paneId].loadState(paneState))});AsyncUtils.waitForAll(promises).then(function(opensList){_initialLayout();if(panes.length>1){_makeFirstPaneResizable();if($.isNumeric(state.splitPercentage)&&state.splitPercentage>0){var prop;if(_orientation===VERTICAL){prop="width"}else{prop="height"}_panes[FIRST_PANE].$el.css(prop,state.splitPercentage*100+"%");_updateLayout()}}if(_orientation){_$el.addClass("split-"+_orientation.toLowerCase());exports.trigger("paneLayoutChange",_orientation)}_.forEach(_panes,function(pane){var fileList=pane.getViewList();fileList.forEach(function(file){if(_findFileInMRUList(pane.id,file)!==-1){console.log(file.fullPath+" duplicated in mru list")}_mruList.push(_makeMRUListEntry(file,pane.id))});exports.trigger("workingSetAddList",fileList,pane.id)});promises=[];opensList.forEach(function(openData){if(openData){promises.push(CommandManager.execute(Commands.FILE_OPEN,openData))}});AsyncUtils.waitForAll(promises).then(function(){setActivePaneId(state.activePaneId)})})}}function _saveViewState(){function _computeSplitPercentage(){var available,used;if(getPaneCount()===1){return 1}else{if(_orientation===VERTICAL){available=_$el.innerWidth();used=_panes[FIRST_PANE].$el.width()}else{available=_$el.innerHeight();used=_panes[FIRST_PANE].$el.height()}return used/available}}var projectRoot=ProjectManager.getProjectRoot(),context={location:{scope:"user",layer:"project",layerID:projectRoot.fullPath}},state={orientation:_orientation,activePaneId:getActivePaneId(),splitPercentage:_computeSplitPercentage(),panes:{}};if(!projectRoot){return}_.forEach(_panes,function(pane){state.panes[pane.id]=pane.saveState()});PreferencesManager.setViewState(PREFS_NAME,state,context)}function _initialize($container){if(_activePaneId){throw new Error("MainViewManager has already been initialized")}_$el=$container;_createPaneIfNecessary(FIRST_PANE);_activePaneId=FIRST_PANE;_panes[FIRST_PANE]._handleActivePaneChange(undefined,_activePaneId);_initialLayout();WorkspaceManager.on("workspaceUpdateLayout",_updateLayout);CommandManager.register(Strings.CMD_SWITCH_PANE_FOCUS,Commands.CMD_SWITCH_PANE_FOCUS,switchPaneFocus);KeyBindingManager.addBinding(Commands.CMD_SWITCH_PANE_FOCUS,{key:"Alt-W"})}function setLayoutScheme(rows,columns){if(rows<1||rows>2||columns<1||columns>2||columns===2&&rows===2){console.error("setLayoutScheme unsupported layout "+rows+", "+columns);return false}if(rows===columns){_mergePanes()}else if(rows>columns){_doSplit(HORIZONTAL)}else{_doSplit(VERTICAL)}return true}function getLayoutScheme(){var result={rows:1,columns:1};if(_orientation===HORIZONTAL){result.rows=2}else if(_orientation===VERTICAL){result.columns=2}return result}AppInit.htmlReady(function(){_initialize($("#editor-holder"))});EventDispatcher.on_duringInit(ProjectManager,"projectOpen",_loadViewState);EventDispatcher.on_duringInit(ProjectManager,"beforeProjectClose beforeAppClose",_saveViewState);EventDispatcher.on_duringInit(EditorManager,"activeEditorChange",_activeEditorChange);EventDispatcher.on_duringInit(DocumentManager,"pathDeleted",_removeDeletedFileFromMRU);EventDispatcher.makeEventDispatcher(exports);exports._initialize=_initialize;exports._getPane=_getPane;exports._removeView=_removeView;exports._moveView=_moveView;exports._sortWorkingSet=_sortWorkingSet;exports._moveWorkingSetItem=_moveWorkingSetItem;exports._swapWorkingSetListIndexes=_swapWorkingSetListIndexes;exports._destroyEditorIfNotNeeded=_destroyEditorIfNotNeeded;exports._edit=_edit;exports._open=_open;exports._close=_close;exports._closeAll=_closeAll;exports._closeList=_closeList;exports._getPaneIdForPath=_getPaneIdForPath;exports.addToWorkingSet=addToWorkingSet;exports.addListToWorkingSet=addListToWorkingSet;exports.getWorkingSetSize=getWorkingSetSize;exports.getWorkingSet=getWorkingSet;exports.cacheScrollState=cacheScrollState;exports.restoreAdjustedScrollState=restoreAdjustedScrollState;exports.findInWorkingSet=findInWorkingSet;exports.findInWorkingSetByAddedOrder=findInWorkingSetByAddedOrder;exports.findInWorkingSetByMRUOrder=findInWorkingSetByMRUOrder;exports.findInAllWorkingSets=findInAllWorkingSets;exports.findInGlobalMRUList=_findFileInMRUList;exports.beginTraversal=beginTraversal;exports.endTraversal=endTraversal;exports.traverseToNextViewByMRU=traverseToNextViewByMRU;exports.traverseToNextViewInListOrder=traverseToNextViewInListOrder;exports.getActivePaneId=getActivePaneId;exports.setActivePaneId=setActivePaneId;exports.getPaneIdList=getPaneIdList;exports.getPaneTitle=getPaneTitle;exports.getPaneCount=getPaneCount;exports.isExclusiveToPane=isExclusiveToPane;exports.getAllOpenFiles=getAllOpenFiles;exports.focusActivePane=focusActivePane;exports.switchPaneFocus=switchPaneFocus;exports.setLayoutScheme=setLayoutScheme;exports.getLayoutScheme=getLayoutScheme;exports.getCurrentlyViewedFile=getCurrentlyViewedFile;exports.getCurrentlyViewedPath=getCurrentlyViewedPath;exports.ALL_PANES=ALL_PANES;exports.ACTIVE_PANE=ACTIVE_PANE;exports.FIRST_PANE=FIRST_PANE;exports.SECOND_PANE=SECOND_PANE});define("utils/AnimationUtils",["require","exports","module","thirdparty/lodash","utils/Async"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),Async=require("utils/Async");function _detectTransitionEvent(){var event,el=window.document.createElement("fakeelement");var transitions={OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"};_.forEach(transitions,function(value,key){if(el.style[key]!==undefined){event=value}});return event}var _transitionEvent=_detectTransitionEvent();function animateUsingClass(target,animClass,timeoutDuration){var result=new $.Deferred,$target=$(target);timeoutDuration=timeoutDuration||400;function finish(e){if(e.target===target){result.resolve()}}function cleanup(){$target.removeClass(animClass).off(_transitionEvent,finish)}if($target.is(":hidden")){result.resolve()}else{$target.addClass(animClass).on(_transitionEvent,finish)}return Async.withTimeout(result.promise(),timeoutDuration,true).done(cleanup)}exports.animateUsingClass=animateUsingClass});define("widgets/PopUpManager",["require","exports","module","utils/AppInit","utils/EventDispatcher","command/CommandManager","utils/KeyEvent"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),EventDispatcher=require("utils/EventDispatcher"),CommandManager=require("command/CommandManager"),KeyEvent=require("utils/KeyEvent");var _popUps=[];function addPopUp($popUp,removeHandler,autoRemove){autoRemove=autoRemove||false;_popUps.push($popUp[0]);$popUp.data("PopUpManager-autoRemove",autoRemove);$popUp.data("PopUpManager-removeHandler",removeHandler)}function removePopUp($popUp){if($popUp.find(":visible").length>0){var removeHandler=$popUp.data("PopUpManager-removeHandler");if(removeHandler){removeHandler()}}var index=_popUps.indexOf($popUp[0]);if(index>=0){var autoRemove=$popUp.data("PopUpManager-autoRemove");if(autoRemove){$popUp.remove();_popUps.splice(index,1)}}}function removeCurrentPopUp(keyEvent){var $popUp,i,event=new $.Event("popUpClose");for(i=_popUps.length-1;i>=0;i--){$popUp=$(_popUps[i]);if($popUp.find(":visible").length>0){$popUp.trigger(event);if(!event.isDefaultPrevented()){if(keyEvent){keyEvent.stopImmediatePropagation()}removePopUp($popUp)}break}}}function _keydownCaptureListener(keyEvent){if(keyEvent.keyCode!==KeyEvent.DOM_VK_ESCAPE&&!(keyEvent.keyCode===KeyEvent.DOM_VK_ALT&&brackets.platform==="win")){return}if(keyEvent.keyCode===KeyEvent.DOM_VK_ALT&&keyEvent.ctrlKey){return}removeCurrentPopUp(keyEvent)}function _beforeMenuPopup(){removeCurrentPopUp()}function listenToContextMenu(contextMenu){contextMenu.on("beforeContextMenuOpen",_beforeMenuPopup)}AppInit.htmlReady(function(){window.document.body.addEventListener("keydown",_keydownCaptureListener,true);exports.on("beforeMenuPopup",_beforeMenuPopup);CommandManager.on("beforeExecuteCommand",function(event,commandId){removeCurrentPopUp()})});EventDispatcher.makeEventDispatcher(exports);exports.addPopUp=addPopUp;exports.removePopUp=removePopUp;exports.listenToContextMenu=listenToContextMenu});define("command/Menus",["require","exports","module","thirdparty/lodash","command/Commands","utils/EventDispatcher","command/KeyBindingManager","utils/StringUtils","command/CommandManager","widgets/PopUpManager","utils/ViewUtils","utils/DeprecationWarning","utils/Global"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var Commands=require("command/Commands"),EventDispatcher=require("utils/EventDispatcher"),KeyBindingManager=require("command/KeyBindingManager"),StringUtils=require("utils/StringUtils"),CommandManager=require("command/CommandManager"),PopUpManager=require("widgets/PopUpManager"),ViewUtils=require("utils/ViewUtils"),DeprecationWarning=require("utils/DeprecationWarning");require("utils/Global");var AppMenuBar={FILE_MENU:"file-menu",EDIT_MENU:"edit-menu",FIND_MENU:"find-menu",VIEW_MENU:"view-menu",NAVIGATE_MENU:"navigate-menu",HELP_MENU:"help-menu"};var ContextMenuIds={EDITOR_MENU:"editor-context-menu",INLINE_EDITOR_MENU:"inline-editor-context-menu",PROJECT_MENU:"project-context-menu",WORKING_SET_CONTEXT_MENU:"workingset-context-menu",WORKING_SET_CONFIG_MENU:"workingset-configuration-menu",SPLITVIEW_MENU:"splitview-menu"};var MenuSection={FILE_OPEN_CLOSE_COMMANDS:{sectionMarker:Commands.FILE_NEW},FILE_SAVE_COMMANDS:{sectionMarker:Commands.FILE_SAVE},FILE_LIVE:{sectionMarker:Commands.FILE_LIVE_FILE_PREVIEW},FILE_EXTENSION_MANAGER:{sectionMarker:Commands.FILE_EXTENSION_MANAGER},EDIT_UNDO_REDO_COMMANDS:{sectionMarker:Commands.EDIT_UNDO},EDIT_TEXT_COMMANDS:{sectionMarker:Commands.EDIT_CUT},EDIT_SELECTION_COMMANDS:{sectionMarker:Commands.EDIT_SELECT_ALL},EDIT_MODIFY_SELECTION:{sectionMarker:Commands.EDIT_INDENT},EDIT_COMMENT_SELECTION:{sectionMarker:Commands.EDIT_LINE_COMMENT},EDIT_CODE_HINTS_COMMANDS:{sectionMarker:Commands.SHOW_CODE_HINTS},EDIT_TOGGLE_OPTIONS:{sectionMarker:Commands.TOGGLE_CLOSE_BRACKETS},FIND_FIND_COMMANDS:{sectionMarker:Commands.CMD_FIND},FIND_FIND_IN_COMMANDS:{sectionMarker:Commands.CMD_FIND_IN_FILES},FIND_REPLACE_COMMANDS:{sectionMarker:Commands.CMD_REPLACE},VIEW_HIDESHOW_COMMANDS:{sectionMarker:Commands.VIEW_HIDE_SIDEBAR},VIEW_FONTSIZE_COMMANDS:{sectionMarker:Commands.VIEW_INCREASE_FONT_SIZE},VIEW_TOGGLE_OPTIONS:{sectionMarker:Commands.TOGGLE_ACTIVE_LINE},NAVIGATE_GOTO_COMMANDS:{sectionMarker:Commands.NAVIGATE_QUICK_OPEN},NAVIGATE_DOCUMENTS_COMMANDS:{sectionMarker:Commands.NAVIGATE_NEXT_DOC},NAVIGATE_OS_COMMANDS:{sectionMarker:Commands.NAVIGATE_SHOW_IN_FILE_TREE},NAVIGATE_QUICK_EDIT_COMMANDS:{sectionMarker:Commands.TOGGLE_QUICK_EDIT},NAVIGATE_QUICK_DOCS_COMMANDS:{sectionMarker:Commands.TOGGLE_QUICK_DOCS}};var BEFORE="before",AFTER="after",FIRST="first",LAST="last",FIRST_IN_SECTION="firstInSection",LAST_IN_SECTION="lastInSection";var DIVIDER="---";var NO_ERROR=0,ERR_UNKNOWN=1,ERR_INVALID_PARAMS=2,ERR_NOT_FOUND=3;var menuMap={};var contextMenuMap={};var menuItemMap={};function getMenu(id){return menuMap[id]}function getAllMenus(){return menuMap}function getContextMenu(id){return contextMenuMap[id]}function removeMenuItemEventListeners(menuItem){menuItem._command.off("enabledStateChange",menuItem._enabledChanged).off("checkedStateChange",menuItem._checkedChanged).off("nameChange",menuItem._nameChanged).off("keyBindingAdded",menuItem._keyBindingAdded).off("keyBindingRemoved",menuItem._keyBindingRemoved)}function _isContextMenu(id){return!!getContextMenu(id)}function _isHTMLMenu(id){return!brackets.nativeMenus||_isContextMenu(id)}function getMenuItem(id){return menuItemMap[id]}function _getHTMLMenu(id){return $("#"+StringUtils.jQueryIdEscape(id)).get(0)}function _getHTMLMenuItem(id){return $("#"+StringUtils.jQueryIdEscape(id)).get(0)}function _addKeyBindingToMenuItem($menuItem,key,displayKey){
var $shortcut=$menuItem.find(".menu-shortcut");if($shortcut.length===0){$shortcut=$("<span class='menu-shortcut' />");$menuItem.append($shortcut)}$shortcut.data("key",key);$shortcut.text(KeyBindingManager.formatKeyDescriptor(displayKey))}function _addExistingKeyBinding(menuItem){var bindings=KeyBindingManager.getKeyBindings(menuItem.getCommand().getID()),binding=null;if(bindings.length>0){binding=bindings[bindings.length-1];_addKeyBindingToMenuItem($(_getHTMLMenuItem(menuItem.id)),binding.key,binding.displayKey)}return binding}var _menuDividerIDCount=1;function _getNextMenuItemDividerID(){return"brackets-menuDivider-"+_menuDividerIDCount++}function _insertInList($list,$element,position,$relativeElement){var inserted=false;if(position){if(position===FIRST_IN_SECTION){position=BEFORE}else if(position===LAST_IN_SECTION){position=AFTER}if(position===FIRST){$list.prepend($element);inserted=true}else if($relativeElement&&$relativeElement.length>0){if(position===AFTER){$relativeElement.after($element);inserted=true}else if(position===BEFORE){$relativeElement.before($element);inserted=true}}}if(!inserted){$list.append($element)}}function MenuItem(id,command){this.id=id;this.isDivider=command===DIVIDER;this.isNative=false;if(!this.isDivider){this._enabledChanged=this._enabledChanged.bind(this);this._checkedChanged=this._checkedChanged.bind(this);this._nameChanged=this._nameChanged.bind(this);this._keyBindingAdded=this._keyBindingAdded.bind(this);this._keyBindingRemoved=this._keyBindingRemoved.bind(this);this._command=command;this._command.on("enabledStateChange",this._enabledChanged).on("checkedStateChange",this._checkedChanged).on("nameChange",this._nameChanged).on("keyBindingAdded",this._keyBindingAdded).on("keyBindingRemoved",this._keyBindingRemoved)}}function Menu(id){this.id=id}Menu.prototype._getMenuItemId=function(commandId){return this.id+"-"+commandId};Menu.prototype._getMenuItemForCommand=function(command){if(!command){return null}var foundMenuItem=menuItemMap[this._getMenuItemId(command.getID())];if(!foundMenuItem){return null}return $(_getHTMLMenuItem(foundMenuItem.id)).closest("li")};Menu.prototype._getRelativeMenuItem=function(relativeID,position){var $relativeElement;if(relativeID){if(position===FIRST_IN_SECTION||position===LAST_IN_SECTION){if(!relativeID.hasOwnProperty("sectionMarker")){console.error("Bad Parameter in _getRelativeMenuItem(): relativeID must be a MenuSection when position refers to a menu section");return null}var $sectionMarker=this._getMenuItemForCommand(CommandManager.get(relativeID.sectionMarker));if(!$sectionMarker){console.error("_getRelativeMenuItem(): MenuSection "+relativeID.sectionMarker+" not found in Menu "+this.id);return null}var $listElem=$sectionMarker;$relativeElement=$listElem;while(true){$listElem=position===FIRST_IN_SECTION?$listElem.prev():$listElem.next();if($listElem.length===0){break}else if($listElem.find(".divider").length>0){break}else{$relativeElement=$listElem}}}else{if(relativeID.hasOwnProperty("sectionMarker")){console.error("Bad Parameter in _getRelativeMenuItem(): if relativeID is a MenuSection, position must be FIRST_IN_SECTION or LAST_IN_SECTION");return null}var command=CommandManager.get(relativeID);if(command){$relativeElement=this._getMenuItemForCommand(command)}if(!$relativeElement){console.error("_getRelativeMenuItem(): MenuItem with Command id "+relativeID+" not found in Menu "+this.id);return null}}return $relativeElement}else if(position&&position!==FIRST&&position!==LAST){console.error("Bad Parameter in _getRelativeMenuItem(): relative position specified with no relativeID");return null}return $relativeElement};Menu.prototype.removeMenuItem=function(command){var menuItemID,commandID;if(!command){console.error("removeMenuItem(): missing required parameters: command");return}if(typeof command==="string"){var commandObj=CommandManager.get(command);if(!commandObj){console.error("removeMenuItem(): command not found: "+command);return}commandID=command}else{commandID=command.getID()}menuItemID=this._getMenuItemId(commandID);var menuItem=getMenuItem(menuItemID);removeMenuItemEventListeners(menuItem);if(_isHTMLMenu(this.id)){$(_getHTMLMenuItem(menuItemID)).parent().remove()}else{brackets.app.removeMenuItem(commandID,function(err){if(err){console.error("removeMenuItem() -- command not found: "+commandID+" (error: "+err+")")}})}delete menuItemMap[menuItemID]};Menu.prototype.removeMenuDivider=function(menuItemID){var menuItem,$HTMLMenuItem;if(!menuItemID){console.error("removeMenuDivider(): missing required parameters: menuItemID");return}menuItem=getMenuItem(menuItemID);if(!menuItem){console.error("removeMenuDivider(): parameter menuItemID: %s is not a valid menu item id",menuItemID);return}if(!menuItem.isDivider){console.error("removeMenuDivider(): parameter menuItemID: %s is not a menu divider",menuItemID);return}if(_isHTMLMenu(this.id)){$HTMLMenuItem=$(_getHTMLMenuItem(menuItemID)).parent();if($HTMLMenuItem){$HTMLMenuItem.remove()}else{console.error("removeMenuDivider(): HTML menu divider not found: %s",menuItemID);return}}else{brackets.app.removeMenuItem(menuItem.dividerId,function(err){if(err){console.error("removeMenuDivider() -- divider not found: %s (error: %s)",menuItemID,err)}})}if(!menuItemMap[menuItemID]){console.error("removeMenuDivider(): menu divider not found in menuItemMap: %s",menuItemID);return}delete menuItemMap[menuItemID]};Menu.prototype.addMenuItem=function(command,keyBindings,position,relativeID){var menuID=this.id,id,$menuItem,menuItem,name,commandID;if(!command){console.error("addMenuItem(): missing required parameters: command");return null}if(typeof command==="string"){if(command===DIVIDER){name=DIVIDER;commandID=_getNextMenuItemDividerID()}else{commandID=command;command=CommandManager.get(commandID);if(!command){console.error("addMenuItem(): commandID not found: "+commandID);return null}name=command.getName()}}else{commandID=command.getID();name=command.getName()}id=this._getMenuItemId(commandID);if(menuItemMap[id]){console.log("MenuItem added with same id of existing MenuItem: "+id);return null}menuItem=new MenuItem(id,command);menuItemMap[id]=menuItem;if(_isHTMLMenu(this.id)){if(name===DIVIDER){$menuItem=$("<li><hr class='divider' id='"+id+"' /></li>")}else{$menuItem=$("<li><a href='#' id='"+id+"' class='"+id.replace(".","")+"'><span class='menu-name'></span></a></li>");$menuItem.on("click",function(){menuItem._command.execute()})}var $relativeElement=this._getRelativeMenuItem(relativeID,position);_insertInList($("li#"+StringUtils.jQueryIdEscape(this.id)+" > ul.dropdown-menu"),$menuItem,position,$relativeElement)}else{var bindings=KeyBindingManager.getKeyBindings(commandID),binding,bindingStr="",displayStr="";if(bindings&&bindings.length>0){binding=bindings[bindings.length-1];bindingStr=binding.displayKey||binding.key}if(bindingStr.length>0){displayStr=KeyBindingManager.formatKeyDescriptor(bindingStr)}if(position===FIRST_IN_SECTION||position===LAST_IN_SECTION){if(!relativeID.hasOwnProperty("sectionMarker")){console.error("Bad Parameter in _getRelativeMenuItem(): relativeID must be a MenuSection when position refers to a menu section");return null}relativeID=relativeID.sectionMarker}brackets.app.addMenuItem(this.id,name,commandID,bindingStr,displayStr,position,relativeID,function(err){switch(err){case NO_ERROR:break;case ERR_INVALID_PARAMS:console.error("addMenuItem(): Invalid Parameters when adding the command "+commandID);break;case ERR_NOT_FOUND:console.error("_getRelativeMenuItem(): MenuItem with Command id "+relativeID+" not found in the Menu "+menuID);break;default:console.error("addMenuItem(); Unknown Error ("+err+") when adding the command "+commandID)}});menuItem.isNative=true}if(menuItem.isDivider){menuItem.dividerId=commandID}else{if(keyBindings){if(!Array.isArray(keyBindings)){keyBindings=[keyBindings]}}KeyBindingManager.addBinding(commandID,keyBindings);_addExistingKeyBinding(menuItem,commandID);menuItem._checkedChanged();menuItem._enabledChanged();menuItem._nameChanged()}return menuItem};Menu.prototype.addMenuDivider=function(position,relativeID){return this.addMenuItem(DIVIDER,"",position,relativeID)};MenuItem.prototype.getCommand=function(){return this._command};MenuItem.prototype.getParentMenu=function(){var parent=$(_getHTMLMenuItem(this.id)).parents(".dropdown").get(0);if(!parent){return null}return getMenu(parent.id)};MenuItem.prototype._checkedChanged=function(){var checked=!!this._command.getChecked();if(this.isNative){var enabled=!!this._command.getEnabled();brackets.app.setMenuItemState(this._command.getID(),enabled,checked,function(err){if(err){console.log("Error setting menu item state: "+err)}})}else{ViewUtils.toggleClass($(_getHTMLMenuItem(this.id)),"checked",checked)}};MenuItem.prototype._enabledChanged=function(){if(this.isNative){var enabled=!!this._command.getEnabled();var checked=!!this._command.getChecked();brackets.app.setMenuItemState(this._command.getID(),enabled,checked,function(err){if(err){console.log("Error setting menu item state: "+err)}})}else{ViewUtils.toggleClass($(_getHTMLMenuItem(this.id)),"disabled",!this._command.getEnabled())}};MenuItem.prototype._nameChanged=function(){if(this.isNative){brackets.app.setMenuTitle(this._command.getID(),this._command.getName(),function(err){if(err){console.log("Error setting menu title: "+err)}})}else{$(_getHTMLMenuItem(this.id)).find(".menu-name").text(this._command.getName())}};MenuItem.prototype._keyBindingAdded=function(event,keyBinding){if(this.isNative){var shortcutKey=keyBinding.displayKey||keyBinding.key;brackets.app.setMenuItemShortcut(this._command.getID(),shortcutKey,KeyBindingManager.formatKeyDescriptor(shortcutKey),function(err){if(err){console.error("Error setting menu item shortcut: "+err)}})}else{_addKeyBindingToMenuItem($(_getHTMLMenuItem(this.id)),keyBinding.key,keyBinding.displayKey)}};MenuItem.prototype._keyBindingRemoved=function(event,keyBinding){if(this.isNative){brackets.app.setMenuItemShortcut(this._command.getID(),"","",function(err){if(err){console.error("Error setting menu item shortcut: "+err)}})}else{var $shortcut=$(_getHTMLMenuItem(this.id)).find(".menu-shortcut");if($shortcut.length>0&&$shortcut.data("key")===keyBinding.key){if(_addExistingKeyBinding(this)===null){$shortcut.empty()}}}};function closeAll(){$(".dropdown").removeClass("open");$(".toggle-open").removeClass("toggle-open")}function addMenu(name,id,position,relativeID){name=_.escape(name);var $menubar=$("#titlebar .nav"),menu;if(!name||!id){console.error("call to addMenu() is missing required parameters");return null}if(menuMap[id]){console.log("Menu added with same name and id of existing Menu: "+id);return null}menu=new Menu(id);menuMap[id]=menu;if(!_isHTMLMenu(id)){brackets.app.addMenu(name,id,position,relativeID,function(err){switch(err){case NO_ERROR:brackets.app.setMenuTitle(id,name,function(err){if(err){console.error("setMenuTitle() -- error: "+err)}});break;case ERR_UNKNOWN:console.error("addMenu(): Unknown Error when adding the menu "+id);break;case ERR_INVALID_PARAMS:console.error("addMenu(): Invalid Parameters when adding the menu "+id);break;case ERR_NOT_FOUND:console.error("addMenu(): Menu with command "+relativeID+" could not be found when adding the menu "+id);break;default:console.error("addMenu(): Unknown Error ("+err+") when adding the menu "+id)}});return menu}var $toggle=$("<a href='#' class='dropdown-toggle' data-toggle='dropdown'>"+name+"</a>"),$popUp=$("<ul class='dropdown-menu'></ul>"),$newMenu=$("<li class='dropdown' id='"+id+"'></li>").append($toggle).append($popUp);var $relativeElement=relativeID&&$(_getHTMLMenu(relativeID));_insertInList($menubar,$newMenu,position,$relativeElement);PopUpManager.addPopUp($popUp,closeAll,false);return menu}function removeMenu(id){var menu,commandID="";if(!id){console.error("removeMenu(): missing required parameter: id");return}if(!menuMap[id]){console.error("removeMenu(): menu id not found: %s",id);return}menu=getMenu(id);_.forEach(menuItemMap,function(value,key){if(_.startsWith(key,id)){if(value.isDivider){menu.removeMenuDivider(key)}else{commandID=value.getCommand();menu.removeMenuItem(commandID)}}});if(_isHTMLMenu(id)){$(_getHTMLMenu(id)).remove()}else{brackets.app.removeMenu(id,function(err){if(err){console.error("removeMenu() -- id not found: "+id+" (error: "+err+")")}})}delete menuMap[id]}function ContextMenu(id){Menu.apply(this,arguments);var $newMenu=$("<li class='dropdown context-menu' id='"+StringUtils.jQueryIdEscape(id)+"'></li>"),$popUp=$("<ul class='dropdown-menu'></ul>"),$toggle=$("<a href='#' class='dropdown-toggle' data-toggle='dropdown'></a>").hide();$newMenu.append($toggle).append($popUp);$("#context-menu-bar > ul").append($newMenu);var self=this;PopUpManager.addPopUp($popUp,function(){self.close()},false);PopUpManager.listenToContextMenu(this)}ContextMenu.prototype=Object.create(Menu.prototype);ContextMenu.prototype.constructor=ContextMenu;ContextMenu.prototype.parentClass=Menu.prototype;EventDispatcher.makeEventDispatcher(ContextMenu.prototype);ContextMenu.prototype.open=function(mouseOrLocation){if(!mouseOrLocation||!mouseOrLocation.hasOwnProperty("pageX")||!mouseOrLocation.hasOwnProperty("pageY")){console.error("ContextMenu open(): missing required parameter");return}closeAll();var $window=$(window),escapedId=StringUtils.jQueryIdEscape(this.id),$menuAnchor=$("#"+escapedId),$menuWindow=$("#"+escapedId+" > ul"),posTop=mouseOrLocation.pageY,posLeft=mouseOrLocation.pageX;if(mouseOrLocation.menuToggleEl){$(mouseOrLocation.menuToggleEl).addClass("toggle-open")}$("#project-context-menu").toggleClass("file-menu",!!mouseOrLocation.fileMenu);if($menuWindow.children().length<=0){return}this.trigger("beforeContextMenuOpen");var elementRect={top:posTop,left:posLeft,height:$menuWindow.height()+25,width:$menuWindow.width()},clip=ViewUtils.getElementClipSize($window,elementRect);if(clip.bottom>0){posTop=Math.max(0,posTop-clip.bottom)}posTop-=30;posLeft+=3;if(clip.right>0){posLeft=Math.max(0,posLeft-clip.right)}$menuAnchor.addClass("open").css({left:posLeft,top:posTop})};ContextMenu.prototype.close=function(){this.trigger("beforeContextMenuClose");$(".toggle-open").removeClass("toggle-open");$("#"+StringUtils.jQueryIdEscape(this.id)).removeClass("open")};ContextMenu.prototype.isOpen=function(){return $("#"+StringUtils.jQueryIdEscape(this.id)).hasClass("open")};ContextMenu.assignContextMenuToSelector=function(selector,cmenu){$(selector).on("click",function(e){var buttonOffset,buttonHeight;e.stopPropagation();if(cmenu.isOpen()){cmenu.close()}else{buttonOffset=$(this).offset();buttonHeight=$(this).outerHeight();cmenu.open({pageX:buttonOffset.left,pageY:buttonOffset.top+buttonHeight})}})};function registerContextMenu(id){if(!id){console.error("call to registerContextMenu() is missing required parameters");return null}if(contextMenuMap[id]){console.log("Context Menu added with same name and id of existing Context Menu: "+id);return null}var cmenu=new ContextMenu(id);contextMenuMap[id]=cmenu;return cmenu}DeprecationWarning.deprecateConstant(ContextMenuIds,"WORKING_SET_MENU","WORKING_SET_CONTEXT_MENU");DeprecationWarning.deprecateConstant(ContextMenuIds,"WORKING_SET_SETTINGS_MENU","WORKING_SET_CONFIG_MENU");exports.AppMenuBar=AppMenuBar;exports.ContextMenuIds=ContextMenuIds;exports.MenuSection=MenuSection;exports.BEFORE=BEFORE;exports.AFTER=AFTER;exports.LAST=LAST;exports.FIRST=FIRST;exports.FIRST_IN_SECTION=FIRST_IN_SECTION;exports.LAST_IN_SECTION=LAST_IN_SECTION;exports.DIVIDER=DIVIDER;exports.getMenu=getMenu;exports.getAllMenus=getAllMenus;exports.getMenuItem=getMenuItem;exports.getContextMenu=getContextMenu;exports.addMenu=addMenu;exports.removeMenu=removeMenu;exports.registerContextMenu=registerContextMenu;exports.closeAll=closeAll;exports.Menu=Menu;exports.MenuItem=MenuItem;exports.ContextMenu=ContextMenu});define("document/TextRange",["require","exports","module","utils/EventDispatcher"],function(require,exports,module){"use strict";var EventDispatcher=require("utils/EventDispatcher");function TextRange(document,startLine,endLine){this.startLine=startLine;this.endLine=endLine;this.document=document;document.addRef();this._handleDocumentChange=this._handleDocumentChange.bind(this);this._handleDocumentDeleted=this._handleDocumentDeleted.bind(this);document.on("change",this._handleDocumentChange);document.on("deleted",this._handleDocumentDeleted)}EventDispatcher.makeEventDispatcher(TextRange.prototype);TextRange.prototype.dispose=function(editor,change){this.document.releaseRef();this.document.off("change",this._handleDocumentChange);this.document.off("deleted",this._handleDocumentDeleted)};TextRange.prototype.document=null;TextRange.prototype.startLine=null;TextRange.prototype.endLine=null;TextRange.prototype._applySingleChangeToRange=function(change){if(!change.from||!change.to){this.startLine=null;this.endLine=null;return{hasChanged:true,hasContentChanged:true}}else if(change.from.line<this.startLine&&change.to.line>=this.startLine||change.from.line<=this.endLine&&change.to.line>this.endLine){this.startLine=null;this.endLine=null;return{hasChanged:true,hasContentChanged:true}}else{var numAdded=change.text.length-(change.to.line-change.from.line+1);var result={hasChanged:false,hasContentChanged:false};if(numAdded!==0){if(change.to.line<this.startLine){this.startLine+=numAdded;result.hasChanged=true}if(change.to.line<=this.endLine){this.endLine+=numAdded;result.hasChanged=true}}if(change.from.line>=this.startLine&&change.from.line<=this.endLine){result.hasContentChanged=true}return result}};TextRange.prototype._applyChangesToRange=function(changeList){var hasChanged=false,hasContentChanged=false;var i;for(i=0;i<changeList.length;i++){var result=this._applySingleChangeToRange(changeList[i]);hasChanged=hasChanged||result.hasChanged;hasContentChanged=hasContentChanged||result.hasContentChanged;if(this.startLine===null||this.endLine===null){this.trigger("lostSync");break}}if(hasChanged){this.trigger("change")}if(hasContentChanged){this.trigger("contentChange")}};TextRange.prototype._handleDocumentChange=function(event,doc,changeList){this._applyChangesToRange(changeList)};TextRange.prototype._handleDocumentDeleted=function(event){this.trigger("lostSync")};TextRange.prototype.toString=function(){return"[TextRange "+this.startLine+"-"+this.endLine+" in "+this.document+"]"};exports.TextRange=TextRange});define("utils/TokenUtils",["require","exports","module","thirdparty/lodash","thirdparty/CodeMirror/lib/codemirror"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),CodeMirror=require("thirdparty/CodeMirror/lib/codemirror");var cache;function _clearCache(cm){cache=null;if(cm){cm.off("changes",_clearCache)}}function _manageCache(cm,line){if(!cache||!cache.tokens||cache.line!==line||cache.cm!==cm){var tokens=cm.getLineTokens(line,false);tokens.unshift(cm.getTokenAt({line:line,ch:0},false));cache={cm:cm,line:line,timeStamp:Date.now(),tokens:tokens};cm.off("changes",_clearCache);cm.on("changes",_clearCache)}return cache.tokens}function getTokenAt(cm,pos,precise){if(precise){_clearCache();return cm.getTokenAt(pos,precise)}var cachedTokens=_manageCache(cm,pos.line),tokenIndex=_.sortedIndex(cachedTokens,{end:pos.ch},"end"),token=cachedTokens[tokenIndex];return token||cm.getTokenAt(pos,precise)}function getInitialContext(cm,pos){return{editor:cm,pos:pos,token:cm.getTokenAt(pos,true)}}function movePrevToken(ctx,precise){if(precise===undefined){precise=true}if(ctx.pos.ch<=0||ctx.token.start<=0){if(ctx.pos.line<=0){return false}ctx.pos.line--;ctx.pos.ch=ctx.editor.getLine(ctx.pos.line).length}else{ctx.pos.ch=ctx.token.start}ctx.token=getTokenAt(ctx.editor,ctx.pos,precise);return true}function isAtStart(ctx){return(ctx.pos.ch<=0||ctx.token.start<=0)&&ctx.pos.line<=0}function moveNextToken(ctx,precise){var eol=ctx.editor.getLine(ctx.pos.line).length;if(precise===undefined){precise=true}if(ctx.pos.ch>=eol||ctx.token.end>=eol){if(ctx.pos.line>=ctx.editor.lineCount()-1){return false}ctx.pos.line++;ctx.pos.ch=0}else{ctx.pos.ch=ctx.token.end+1}ctx.token=getTokenAt(ctx.editor,ctx.pos,precise);return true}function isAtEnd(ctx){var eol=ctx.editor.getLine(ctx.pos.line).length;return(ctx.pos.ch>=eol||ctx.token.end>=eol)&&ctx.pos.line>=ctx.editor.lineCount()-1}function moveSkippingWhitespace(moveFxn,ctx){if(!moveFxn(ctx)){return false}while(!ctx.token.type&&!/\S/.test(ctx.token.string)){if(!moveFxn(ctx)){return false}}return true}function offsetInToken(ctx){var offset=ctx.pos.ch-ctx.token.start;if(offset<0){console.log("CodeHintUtils: _offsetInToken - Invalid context: pos not in the current token!")}return offset}function getModeAt(cm,pos,precise){precise=precise||true;var modeData=cm.getMode(),name;if(modeData.innerMode){modeData=CodeMirror.innerMode(modeData,getTokenAt(cm,pos,precise).state).mode}name=modeData.name==="xml"?modeData.configuration:modeData.name;return{mode:modeData,name:name}}exports.getTokenAt=getTokenAt;exports.movePrevToken=movePrevToken;exports.moveNextToken=moveNextToken;exports.isAtStart=isAtStart;exports.isAtEnd=isAtEnd;exports.moveSkippingWhitespace=moveSkippingWhitespace;exports.getInitialContext=getInitialContext;exports.offsetInToken=offsetInToken;exports.getModeAt=getModeAt});define("utils/ValidationUtils",["require","exports","module"],function(require,exports,module){"use strict";function isInteger(value){if(typeof value!=="number"||isNaN(parseInt(value,10))){return false}if(Math.floor(value)!==value){return false}if(!isFinite(value)){return false}return true}function isIntegerInRange(value,lowerLimit,upperLimit){if(!isInteger(value)){return false}var hasLowerLimt=typeof lowerLimit==="number",hasUpperLimt=typeof upperLimit==="number";return(!hasLowerLimt||value>=lowerLimit)&&(!hasUpperLimt||value<=upperLimit)}exports.isInteger=isInteger;exports.isIntegerInRange=isIntegerInRange});define("editor/Editor",["require","exports","module","utils/AnimationUtils","utils/Async","thirdparty/CodeMirror/lib/codemirror","language/LanguageManager","utils/EventDispatcher","command/Menus","utils/PerfUtils","widgets/PopUpManager","preferences/PreferencesManager","strings","document/TextRange","utils/TokenUtils","utils/ValidationUtils","utils/ViewUtils","view/MainViewManager","thirdparty/lodash"],function(require,exports,module){"use strict";var AnimationUtils=require("utils/AnimationUtils"),Async=require("utils/Async"),CodeMirror=require("thirdparty/CodeMirror/lib/codemirror"),LanguageManager=require("language/LanguageManager"),EventDispatcher=require("utils/EventDispatcher"),Menus=require("command/Menus"),PerfUtils=require("utils/PerfUtils"),PopUpManager=require("widgets/PopUpManager"),PreferencesManager=require("preferences/PreferencesManager"),Strings=require("strings"),TextRange=require("document/TextRange").TextRange,TokenUtils=require("utils/TokenUtils"),ValidationUtils=require("utils/ValidationUtils"),ViewUtils=require("utils/ViewUtils"),MainViewManager=require("view/MainViewManager"),_=require("thirdparty/lodash");var CLOSE_BRACKETS="closeBrackets",CLOSE_TAGS="closeTags",DRAG_DROP="dragDropText",HIGHLIGHT_MATCHES="highlightMatches",LINEWISE_COPY_CUT="lineWiseCopyCut",SCROLL_PAST_END="scrollPastEnd",SHOW_CURSOR_SELECT="showCursorWhenSelecting",SHOW_LINE_NUMBERS="showLineNumbers",SMART_INDENT="smartIndent",SOFT_TABS="softTabs",SPACE_UNITS="spaceUnits",STYLE_ACTIVE_LINE="styleActiveLine",TAB_SIZE="tabSize",UPPERCASE_COLORS="uppercaseColors",USE_TAB_CHAR="useTabChar",WORD_WRAP="wordWrap",INDENT_LINE_COMMENT="indentLineComment",ALLOW_JAVASCRIPT="allowJavaScript",AUTO_UPDATE="autoUpdate",LOOP_PROTECT="loopProtect";var cmOptions={};var MIN_SPACE_UNITS=1,MIN_TAB_SIZE=1,DEFAULT_SPACE_UNITS=4,DEFAULT_TAB_SIZE=4,MAX_SPACE_UNITS=10,MAX_TAB_SIZE=10;cmOptions[CLOSE_BRACKETS]="autoCloseBrackets";cmOptions[CLOSE_TAGS]="autoCloseTags";cmOptions[DRAG_DROP]="dragDrop";cmOptions[HIGHLIGHT_MATCHES]="highlightSelectionMatches";cmOptions[LINEWISE_COPY_CUT]="lineWiseCopyCut";cmOptions[SCROLL_PAST_END]="scrollPastEnd";cmOptions[SHOW_CURSOR_SELECT]="showCursorWhenSelecting";cmOptions[SHOW_LINE_NUMBERS]="lineNumbers";cmOptions[SMART_INDENT]="smartIndent";cmOptions[SPACE_UNITS]="indentUnit";cmOptions[STYLE_ACTIVE_LINE]="styleActiveLine";cmOptions[TAB_SIZE]="tabSize";cmOptions[USE_TAB_CHAR]="indentWithTabs";cmOptions[WORD_WRAP]="lineWrapping";cmOptions[ALLOW_JAVASCRIPT]="allowJavaScript";cmOptions[LOOP_PROTECT]="loopProtect";PreferencesManager.definePreference(CLOSE_BRACKETS,"boolean",true,{description:Strings.DESCRIPTION_CLOSE_BRACKETS});PreferencesManager.definePreference(CLOSE_TAGS,"object",{whenOpening:true,whenClosing:true,indentTags:[]},{description:Strings.DESCRIPTION_CLOSE_TAGS,keys:{dontCloseTags:{type:"array",description:Strings.DESCRIPTION_CLOSE_TAGS_DONT_CLOSE_TAGS},whenOpening:{type:"boolean",description:Strings.DESCRIPTION_CLOSE_TAGS_WHEN_OPENING,initial:true},whenClosing:{type:"boolean",description:Strings.DESCRIPTION_CLOSE_TAGS_WHEN_CLOSING,initial:true},indentTags:{type:"array",description:Strings.DESCRIPTION_CLOSE_TAGS_INDENT_TAGS}}});PreferencesManager.definePreference(DRAG_DROP,"boolean",false,{description:Strings.DESCRIPTION_DRAG_DROP_TEXT});PreferencesManager.definePreference(HIGHLIGHT_MATCHES,"boolean",false,{description:Strings.DESCRIPTION_HIGHLIGHT_MATCHES,keys:{showToken:{type:"boolean",description:Strings.DESCRIPTION_HIGHLIGHT_MATCHES_SHOW_TOKEN,initial:false},wordsOnly:{type:"boolean",description:Strings.DESCRIPTION_HIGHLIGHT_MATCHES_WORDS_ONLY,initial:false}}});PreferencesManager.definePreference(LINEWISE_COPY_CUT,"boolean",true,{description:Strings.DESCRIPTION_LINEWISE_COPY_CUT});PreferencesManager.definePreference(SCROLL_PAST_END,"boolean",false,{description:Strings.DESCRIPTION_SCROLL_PAST_END});PreferencesManager.definePreference(SHOW_CURSOR_SELECT,"boolean",false,{description:Strings.DESCRIPTION_SHOW_CURSOR_WHEN_SELECTING});PreferencesManager.definePreference(SHOW_LINE_NUMBERS,"boolean",true,{description:Strings.DESCRIPTION_SHOW_LINE_NUMBERS});PreferencesManager.definePreference(SMART_INDENT,"boolean",true,{description:Strings.DESCRIPTION_SMART_INDENT});PreferencesManager.definePreference(SOFT_TABS,"boolean",true,{description:Strings.DESCRIPTION_SOFT_TABS});PreferencesManager.definePreference(SPACE_UNITS,"number",DEFAULT_SPACE_UNITS,{validator:_.partialRight(ValidationUtils.isIntegerInRange,MIN_SPACE_UNITS,MAX_SPACE_UNITS),description:Strings.DESCRIPTION_SPACE_UNITS});PreferencesManager.definePreference(STYLE_ACTIVE_LINE,"boolean",false,{description:Strings.DESCRIPTION_STYLE_ACTIVE_LINE});PreferencesManager.definePreference(TAB_SIZE,"number",DEFAULT_TAB_SIZE,{validator:_.partialRight(ValidationUtils.isIntegerInRange,MIN_TAB_SIZE,MAX_TAB_SIZE),description:Strings.DESCRIPTION_TAB_SIZE});PreferencesManager.definePreference(UPPERCASE_COLORS,"boolean",false,{description:Strings.DESCRIPTION_UPPERCASE_COLORS});PreferencesManager.definePreference(USE_TAB_CHAR,"boolean",false,{description:Strings.DESCRIPTION_USE_TAB_CHAR});PreferencesManager.definePreference(WORD_WRAP,"boolean",true,{description:Strings.DESCRIPTION_WORD_WRAP});PreferencesManager.definePreference(INDENT_LINE_COMMENT,"boolean",false,{description:Strings.DESCRIPTION_INDENT_LINE_COMMENT});PreferencesManager.definePreference(ALLOW_JAVASCRIPT,"boolean",true,{description:Strings.DESCRIPTION_ALLOW_JAVASCRIPT});PreferencesManager.definePreference(AUTO_UPDATE,"boolean",true,{description:Strings.DESCRIPTION_AUTO_UPDATE});PreferencesManager.definePreference(LOOP_PROTECT,"boolean",true,{description:Strings.DESCRIPTION_LOOP_PROTECT});var editorOptions=Object.keys(cmOptions);var _duringFocus=false;var BOUNDARY_CHECK_NORMAL=0,BOUNDARY_IGNORE_TOP=1;function _copyPos(pos){return new CodeMirror.Pos(pos.line,pos.ch)}function _checkTopBoundary(options){return options!==BOUNDARY_IGNORE_TOP}function _checkBottomBoundary(options){return true}function _buildPreferencesContext(fullPath){return PreferencesManager._buildContext(fullPath,fullPath?LanguageManager.getLanguageForPath(fullPath).getId():undefined)}var _instances=[];function Editor(document,makeMasterEditor,container,range,options){var self=this;var isReadOnly=options&&options.isReadOnly;_instances.push(this);this.document=document;document.addRef();if(container.jquery){container=container.get(0)}var $container=$(container);if(range){this._visibleRange=new TextRange(document,range.startLine,range.endLine)}this._handleDocumentChange=this._handleDocumentChange.bind(this);this._handleDocumentDeleted=this._handleDocumentDeleted.bind(this);this._handleDocumentLanguageChanged=this._handleDocumentLanguageChanged.bind(this);this._doWorkingSetSync=this._doWorkingSetSync.bind(this);document.on("change",this._handleDocumentChange);document.on("deleted",this._handleDocumentDeleted);document.on("languageChanged",this._handleDocumentLanguageChanged);document.on("_dirtyFlagChange",this._doWorkingSetSync);var mode=this._getModeFromDocument();this._inlineWidgets=[];this._inlineWidgetQueues={};this._hideMarks=[];this._lastEditorWidth=null;this._$messagePopover=null;this._paneId=null;this._hostEditor=null;var codeMirrorKeyMap={Tab:function(){self._handleTabKey()},"Shift-Tab":"indentLess",Left:function(instance){self._handleSoftTabNavigation(-1,"moveH")},Right:function(instance){self._handleSoftTabNavigation(1,"moveH")},Backspace:function(instance){self._handleSoftTabNavigation(-1,"deleteH")},Delete:function(instance){self._handleSoftTabNavigation(1,"deleteH")},Esc:function(instance){if(self.getSelections().length>1){CodeMirror.commands.singleSelection(instance)}else{self.removeAllInlineWidgets()}},Home:"goLineLeftSmart","Cmd-Left":"goLineLeftSmart",End:"goLineRight","Cmd-Right":"goLineRight"};var currentOptions=this._currentOptions=_.zipObject(editorOptions,_.map(editorOptions,function(prefName){return self._getOption(prefName)}));$container.toggleClass("show-line-padding",Boolean(!this._getOption("showLineNumbers")));this._codeMirror=new CodeMirror(container,{autoCloseBrackets:currentOptions[CLOSE_BRACKETS],autoCloseTags:currentOptions[CLOSE_TAGS],coverGutterNextToScrollbar:true,cursorScrollMargin:3,dragDrop:currentOptions[DRAG_DROP],electricChars:true,extraKeys:codeMirrorKeyMap,highlightSelectionMatches:currentOptions[HIGHLIGHT_MATCHES],indentUnit:currentOptions[USE_TAB_CHAR]?currentOptions[TAB_SIZE]:currentOptions[SPACE_UNITS],indentWithTabs:currentOptions[USE_TAB_CHAR],inputStyle:"textarea",lineNumbers:currentOptions[SHOW_LINE_NUMBERS],lineWiseCopyCut:currentOptions[LINEWISE_COPY_CUT],lineWrapping:currentOptions[WORD_WRAP],allowJavaScript:currentOptions[ALLOW_JAVASCRIPT],matchBrackets:{maxScanLineLength:5e4,maxScanLines:1e3},matchTags:{bothTags:true},scrollPastEnd:!range&&currentOptions[SCROLL_PAST_END],showCursorWhenSelecting:currentOptions[SHOW_CURSOR_SELECT],smartIndent:currentOptions[SMART_INDENT],styleActiveLine:currentOptions[STYLE_ACTIVE_LINE],tabSize:currentOptions[TAB_SIZE],readOnly:isReadOnly,loopProtect:currentOptions[LOOP_PROTECT]});this._focused=false;this._installEditorListeners();this.on("cursorActivity",function(event,editor){self._handleCursorActivity(event)});this.on("keypress",function(event,editor,domEvent){self._handleKeypressEvents(domEvent)});this.on("change",function(event,editor,changeList){self._handleEditorChange(changeList)});this.on("focus",function(event,editor){if(self._hostEditor){self._hostEditor.document._toggleMasterEditor(self._hostEditor)}else{self.document._toggleMasterEditor(self)}});this._codeMirror.setOption("mode",mode);this._duringSync=true;this._resetText(document.getText());this._duringSync=false;if(range){this._updateHiddenLines();this.setCursorPos(range.startLine,0)}if(makeMasterEditor){document._makeEditable(this)}Object.defineProperty(this,"scrollTop",{get:function(){return this._codeMirror.getScrollInfo().top}});Object.defineProperty(this,"$el",{get:function(){return $(this.getRootElement())}})}EventDispatcher.makeEventDispatcher(Editor.prototype)
;EventDispatcher.markDeprecated(Editor.prototype,"keyEvent","'keydown/press/up'");Editor.prototype.markPaneId=function(paneId){this._paneId=paneId;this.document._associateEditor(this);this._doWorkingSetSync(null,this.document)};Editor.prototype._doWorkingSetSync=function(event,doc){if(doc===this.document&&this._paneId&&this.document.isDirty){MainViewManager.addToWorkingSet(this._paneId,this.document.file,-1,false)}};Editor.prototype.destroy=function(){this.trigger("beforeDestroy",this);$(this.getRootElement()).remove();_instances.splice(_instances.indexOf(this),1);this.document.releaseRef();this.document.off("change",this._handleDocumentChange);this.document.off("deleted",this._handleDocumentDeleted);this.document.off("languageChanged",this._handleDocumentLanguageChanged);this.document.off("_dirtyFlagChange",this._doWorkingSetSync);if(this._visibleRange){this._visibleRange.dispose()}if(this.document._masterEditor===this){this.document._makeNonEditable()}else{this.document._disassociateEditor(this)}var self=this;this._inlineWidgets.forEach(function(inlineWidget){self._removeInlineWidgetInternal(inlineWidget)})};Editor.prototype._handleCursorActivity=function(event){this._updateStyleActiveLine()};Editor.prototype._handleWhitespaceForElectricChars=function(){var self=this,instance=this._codeMirror,selections,lineStr;selections=this.getSelections().map(function(sel){lineStr=instance.getLine(sel.end.line);if(lineStr&&!/\S/.test(lineStr)){sel.end.ch=self.document.getLine(sel.end.line).length}return sel});this.setSelections(selections)};Editor.prototype._handleKeypressEvents=function(event){var keyStr=String.fromCharCode(event.which||event.keyCode);if(/[\]\{\}\)]/.test(keyStr)){this._handleWhitespaceForElectricChars()}};Editor.prototype._addIndentAtEachSelection=function(selections){var instance=this._codeMirror,usingTabs=instance.getOption("indentWithTabs"),indentUnit=instance.getOption("indentUnit"),edits=[];_.each(selections,function(sel){var indentStr="",i,numSpaces;if(usingTabs){indentStr="\t"}else{numSpaces=indentUnit-sel.start.ch%indentUnit;for(i=0;i<numSpaces;i++){indentStr+=" "}}edits.push({edit:{text:indentStr,start:sel.start}})});this.document.doMultipleEdits(edits)};Editor.prototype._autoIndentEachSelection=function(selections){var instance=this._codeMirror,lineLengths={};_.each(selections,function(sel){lineLengths[sel.start.line]=instance.getLine(sel.start.line).length});CodeMirror.commands.indentAuto(instance);var changed=false,newSelections=this.getSelections();if(newSelections.length===selections.length){_.each(selections,function(sel,index){var newSel=newSelections[index];if(CodeMirror.cmpPos(sel.start,newSel.start)!==0||CodeMirror.cmpPos(sel.end,newSel.end)!==0||instance.getLine(sel.start.line).length!==lineLengths[sel.start.line]){changed=true;return false}})}else{changed=true}if(!changed){CodeMirror.commands.indentMore(instance)}};Editor.prototype._handleTabKey=function(){var instance=this._codeMirror,selectionType="indentAuto",selections=this.getSelections();_.each(selections,function(sel){if(sel.start.line!==sel.end.line){selectionType="indentAtBeginning";return false}else if(sel.end.ch>0&&sel.end.ch>=instance.getLine(sel.end.line).search(/\S/)){selectionType="indentAtSelection"}});switch(selectionType){case"indentAtBeginning":CodeMirror.commands.indentMore(instance);break;case"indentAtSelection":this._addIndentAtEachSelection(selections);break;case"indentAuto":this._autoIndentEachSelection(selections);break}};Editor.prototype._handleSoftTabNavigation=function(direction,functionName){var instance=this._codeMirror,overallJump=null;if(!instance.getOption("indentWithTabs")&&PreferencesManager.get(SOFT_TABS)){var indentUnit=instance.getOption("indentUnit");_.each(this.getSelections(),function(sel){if(CodeMirror.cmpPos(sel.start,sel.end)!==0){return}var cursor=sel.start,jump=indentUnit===0?1:cursor.ch%indentUnit,line=instance.getLine(cursor.line);if(line.substr(0,cursor.ch).search(/\S/)!==-1){jump=null}else if(direction===1){if(indentUnit){jump=indentUnit-jump}if(cursor.ch+jump>line.length||line.substr(cursor.ch,jump).search(/\S/)!==-1){jump=null}}else{if(jump===0){jump=indentUnit}if(cursor.ch-jump<0){jump=null}else{jump=-jump}}if(jump!==null&&(overallJump===null||overallJump===jump)){overallJump=jump}else{overallJump=null;return false}})}if(overallJump===null){overallJump=direction}instance[functionName](overallJump,"char")};Editor.prototype._getModeFromDocument=function(){return this.document.getLanguage().getMode()||"text/plain"};Editor.prototype.selectAllNoScroll=function(){var cm=this._codeMirror,info=this._codeMirror.getScrollInfo();cm.operation(function(){cm.scrollTo(info.left,info.top);cm.execCommand("selectAll")})};Editor.prototype.isTextSubset=function(){return Boolean(this._visibleRange)};Editor.prototype._updateHiddenLines=function(){if(this._visibleRange){var cm=this._codeMirror,self=this;cm.operation(function(){self._hideMarks.forEach(function(mark){if(mark){mark.clear()}});self._hideMarks=[];self._hideMarks.push(self._hideLines(0,self._visibleRange.startLine));self._hideMarks.push(self._hideLines(self._visibleRange.endLine+1,self.lineCount()))})}};Editor.prototype._applyChanges=function(changeList){if(this._visibleRange){if(this._visibleRange.startLine===null||this._visibleRange.endLine===null){this.trigger("lostContent");return}}var cm=this._codeMirror;cm.operation(function(){var change,newText,i;for(i=0;i<changeList.length;i++){change=changeList[i];newText=change.text.join("\n");if(!change.from||!change.to){if(change.from||change.to){console.error("Change record received with only one end undefined--replacing entire text")}cm.setValue(newText)}else{cm.replaceRange(newText,change.from,change.to,change.origin)}}});this._updateHiddenLines()};Editor.prototype._handleEditorChange=function(changeList){if(this._duringSync){return}this.document._ensureMasterEditor();if(this.document._masterEditor!==this){this._duringSync=true;this.document._masterEditor._applyChanges(changeList);this._duringSync=false;this._updateHiddenLines()}this.trigger("editorChange",this,changeList)};Editor.prototype._handleDocumentChange=function(event,doc,changeList){if(this._duringSync){return}if(this.document._masterEditor!==this){this._duringSync=true;this._applyChanges(changeList);this._duringSync=false}};Editor.prototype._handleDocumentDeleted=function(event){this.trigger("lostContent",event)};Editor.prototype._handleDocumentLanguageChanged=function(event){this._codeMirror.setOption("mode",this._getModeFromDocument())};Editor.prototype._installEditorListeners=function(){var self=this;function _onKeyEvent(instance,event){self.trigger("keyEvent",self,event);self.trigger(event.type,self,event);return event.defaultPrevented}this._codeMirror.on("keydown",_onKeyEvent);this._codeMirror.on("keypress",_onKeyEvent);this._codeMirror.on("keyup",_onKeyEvent);this._codeMirror.on("changes",function(instance,changeList){self.trigger("change",self,changeList)});this._codeMirror.on("beforeChange",function(instance,changeObj){self.trigger("beforeChange",self,changeObj)});this._codeMirror.on("cursorActivity",function(instance){self.trigger("cursorActivity",self)});this._codeMirror.on("scroll",function(instance){if(self.isFullyVisible()){Menus.closeAll()}self.trigger("scroll",self)});this._codeMirror.on("focus",function(){self._focused=true;self.trigger("focus",self)});this._codeMirror.on("blur",function(){self._focused=false;self.trigger("blur",self)});this._codeMirror.on("update",function(instance){self.trigger("update",self)});this._codeMirror.on("overwriteToggle",function(instance,newstate){self.trigger("overwriteToggle",self,newstate)});this._codeMirror.on("drop",function(cm,event){var files=event.dataTransfer.files;if(files&&files.length){event.preventDefault()}});this._codeMirror.on("renderLine",function(cm,line,elt){var charWidth=self._codeMirror.defaultCharWidth();var off=CodeMirror.countColumn(line.text,null,cm.getOption("tabSize"))*charWidth;elt.style.textIndent="-"+off+"px";elt.style.paddingLeft=off+"px"})};Editor.prototype._resetText=function(text){var currentText=this._codeMirror.getValue();var textLF=text?text.replace(/(\r\n|\r|\n)/g,"\n"):null;var currentTextLF=currentText?currentText.replace(/(\r\n|\r|\n)/g,"\n"):null;if(textLF===currentTextLF){return}var perfTimerName=PerfUtils.markStart("Editor._resetText()\t"+(!this.document||this.document.file.fullPath));var cursorPos=this.getCursorPos(),scrollPos=this.getScrollPos();this._codeMirror.setValue(text);this._codeMirror.refresh();this._codeMirror.clearHistory();this._codeMirror.markClean();this.setCursorPos(cursorPos);this.setScrollPos(scrollPos.x,scrollPos.y);PerfUtils.addMeasurement(perfTimerName)};Editor.prototype.getFile=function(){return this.document.file};Editor.prototype.getCursorPos=function(expandTabs,which){if(which==="start"){which="from"}else if(which==="end"){which="to"}var cursor=_copyPos(this._codeMirror.getCursor(which));if(expandTabs){cursor.ch=this.getColOffset(cursor)}return cursor};Editor.prototype.getColOffset=function(pos){var line=this._codeMirror.getRange({line:pos.line,ch:0},pos),tabSize=null,column=0,i;for(i=0;i<line.length;i++){if(line[i]==="\t"){if(tabSize===null){tabSize=Editor.getTabSize()}if(tabSize>0){column+=tabSize-column%tabSize}}else{column++}}return column};Editor.prototype.getCharIndexForColumn=function(lineNum,column){var line=this._codeMirror.getLine(lineNum),tabSize=null,iCol=0,i;for(i=0;iCol<column;i++){if(line[i]==="\t"){if(tabSize===null){tabSize=Editor.getTabSize()}if(tabSize>0){iCol+=tabSize-iCol%tabSize}}else{iCol++}}return i};Editor.prototype.setCursorPos=function(line,ch,center,expandTabs){if(expandTabs){ch=this.getColOffset({line:line,ch:ch})}this._codeMirror.setCursor(line,ch);if(center){this.centerOnCursor()}};Editor.prototype.setSize=function(width,height){this._codeMirror.setSize(width,height)};var CENTERING_MARGIN=.15;Editor.prototype.centerOnCursor=function(centerOptions){var $scrollerElement=$(this.getScrollerElement());var editorHeight=$scrollerElement.height();var statusBarHeight=$scrollerElement.outerHeight()-editorHeight;var menuBarHeight=$scrollerElement.offset().top;var documentCursorPosition=this._codeMirror.cursorCoords(null,"local").bottom;var screenCursorPosition=this._codeMirror.cursorCoords(null,"page").bottom-menuBarHeight;if(_checkTopBoundary(centerOptions)&&screenCursorPosition<editorHeight*CENTERING_MARGIN||_checkBottomBoundary(centerOptions)&&screenCursorPosition>editorHeight*(1-CENTERING_MARGIN)){var pos=documentCursorPosition-editorHeight/2+statusBarHeight;var info=this._codeMirror.getScrollInfo();pos=Math.min(Math.max(pos,0),info.height-info.clientHeight);this.setScrollPos(null,pos)}};Editor.prototype.indexFromPos=function(coords){return this._codeMirror.indexFromPos(coords)};Editor.prototype.posWithinRange=function(pos,start,end,endInclusive){if(start.line<=pos.line&&end.line>=pos.line){if(endInclusive){return(start.line<pos.line||start.ch<=pos.ch)&&(end.line>pos.line||end.ch>=pos.ch)}else{return(start.line<pos.line||start.ch<=pos.ch)&&(end.line>pos.line||end.ch>pos.ch)}}return false};Editor.prototype.hasSelection=function(){return this._codeMirror.somethingSelected()};function _normalizeRange(anchorPos,headPos){if(headPos.line<anchorPos.line||headPos.line===anchorPos.line&&headPos.ch<anchorPos.ch){return{start:_copyPos(headPos),end:_copyPos(anchorPos),reversed:true}}else{return{start:_copyPos(anchorPos),end:_copyPos(headPos),reversed:false}}}Editor.prototype.getSelection=function(){return _normalizeRange(this.getCursorPos(false,"anchor"),this.getCursorPos(false,"head"))};Editor.prototype.getSelections=function(){var primarySel=this.getSelection();return _.map(this._codeMirror.listSelections(),function(sel){var result=_normalizeRange(sel.anchor,sel.head);if(result.start.line===primarySel.start.line&&result.start.ch===primarySel.start.ch&&result.end.line===primarySel.end.line&&result.end.ch===primarySel.end.ch){result.primary=true}else{result.primary=false}return result})};Editor.prototype.convertToLineSelections=function(selections,options){var self=this;options=options||{};_.defaults(options,{expandEndAtStartOfLine:false,mergeAdjacent:true});var combinedSelections=[],prevSel;_.each(selections,function(sel){var newSel=_.cloneDeep(sel);newSel.start.ch=0;var hasSelection=newSel.start.line!==newSel.end.line||newSel.start.ch!==newSel.end.ch;if(options.expandEndAtStartOfLine||!hasSelection||newSel.end.ch!==0){newSel.end={line:newSel.end.line+1,ch:0}}if(prevSel&&self.posWithinRange(newSel.start,prevSel.selectionForEdit.start,prevSel.selectionForEdit.end,options.mergeAdjacent)){prevSel.selectionForEdit.end.line=newSel.end.line;prevSel.selectionsToTrack.push(sel)}else{prevSel={selectionForEdit:newSel,selectionsToTrack:[sel]};combinedSelections.push(prevSel)}});return combinedSelections};Editor.prototype.getSelectedText=function(allSelections){if(allSelections){return this._codeMirror.getSelection()}else{var sel=this.getSelection();return this.document.getRange(sel.start,sel.end)}};Editor.prototype.setSelection=function(start,end,center,centerOptions,origin){this.setSelections([{start:start,end:end||start}],center,centerOptions,origin)};Editor.prototype.setSelections=function(selections,center,centerOptions,origin){var primIndex=selections.length-1,options;if(origin){options={origin:origin}}this._codeMirror.setSelections(_.map(selections,function(sel,index){if(sel.primary){primIndex=index}return{anchor:sel.reversed?sel.end:sel.start,head:sel.reversed?sel.start:sel.end}}),primIndex,options);if(center){this.centerOnCursor(centerOptions)}};Editor.prototype.toggleOverwrite=function(state){this._codeMirror.toggleOverwrite(state)};Editor.prototype.selectWordAt=function(pos){var word=this._codeMirror.findWordAt(pos);this.setSelection(word.anchor,word.head)};Editor.prototype.lineCount=function(){return this._codeMirror.lineCount()};Editor.prototype.isLineVisible=function(line){var coords=this._codeMirror.charCoords({line:line,ch:0},"local"),scrollInfo=this._codeMirror.getScrollInfo(),top=scrollInfo.top,bottom=scrollInfo.top+scrollInfo.clientHeight;return coords.top>=top&&coords.bottom<=bottom};Editor.prototype.getFirstVisibleLine=function(){return this._visibleRange?this._visibleRange.startLine:0};Editor.prototype.getLastVisibleLine=function(){return this._visibleRange?this._visibleRange.endLine:this.lineCount()-1};Editor.prototype._hideLines=function(from,to){if(to<=from){return}var value=this._codeMirror.markText({line:from,ch:0},{line:to-1,ch:this._codeMirror.getLine(to-1).length},{collapsed:true,inclusiveLeft:true,inclusiveRight:true,clearWhenEmpty:false});return value};Editor.prototype.totalHeight=function(){return this.getScrollerElement().scrollHeight};Editor.prototype.getScrollerElement=function(){return this._codeMirror.getScrollerElement()};Editor.prototype.getRootElement=function(){return this._codeMirror.getWrapperElement()};Editor.prototype._getLineSpaceElement=function(){return $(".CodeMirror-lines",this.getScrollerElement()).children().get(0)};Editor.prototype.getScrollPos=function(){var scrollInfo=this._codeMirror.getScrollInfo();return{x:scrollInfo.left,y:scrollInfo.top}};Editor.prototype.adjustScrollPos=function(scrollPos,heightDelta){this._codeMirror.scrollTo(scrollPos.x,scrollPos.y+heightDelta)};Editor.prototype.setScrollPos=function(x,y){this._codeMirror.scrollTo(x,y)};Editor.prototype.getTextHeight=function(){return this._codeMirror.defaultTextHeight()};Editor.prototype.addInlineWidget=function(pos,inlineWidget,scrollLineIntoView){var self=this,queue=this._inlineWidgetQueues[pos.line],deferred=new $.Deferred;if(!queue){queue=new Async.PromiseQueue;this._inlineWidgetQueues[pos.line]=queue}queue.add(function(){self._addInlineWidgetInternal(pos,inlineWidget,scrollLineIntoView,deferred);return deferred.promise()});return deferred.promise()};Editor.prototype._addInlineWidgetInternal=function(pos,inlineWidget,scrollLineIntoView,deferred){var self=this;this.removeAllInlineWidgetsForLine(pos.line).done(function(){if(scrollLineIntoView===undefined){scrollLineIntoView=true}if(scrollLineIntoView){self._codeMirror.scrollIntoView(pos)}inlineWidget.info=self._codeMirror.addLineWidget(pos.line,inlineWidget.htmlContent,{coverGutter:true,noHScroll:true});CodeMirror.on(inlineWidget.info.line,"delete",function(){self._removeInlineWidgetInternal(inlineWidget)});self._inlineWidgets.push(inlineWidget);inlineWidget.$htmlContent.height(0);AnimationUtils.animateUsingClass(inlineWidget.htmlContent,"animating").done(function(){deferred.resolve()});inlineWidget.onAdded()})};Editor.prototype.removeAllInlineWidgets=function(){var widgets=[].concat(this.getInlineWidgets());return Async.doInParallel(widgets,this.removeInlineWidget.bind(this))};Editor.prototype.removeInlineWidget=function(inlineWidget){var deferred=new $.Deferred,self=this;function finishRemoving(){self._codeMirror.removeLineWidget(inlineWidget.info);self._removeInlineWidgetInternal(inlineWidget);deferred.resolve()}if(!inlineWidget.closePromise){self._removeInlineWidgetFromList(inlineWidget);if(self.isFullyVisible()){AnimationUtils.animateUsingClass(inlineWidget.htmlContent,"animating").done(finishRemoving);inlineWidget.$htmlContent.height(0)}else{finishRemoving()}inlineWidget.closePromise=deferred.promise()}return inlineWidget.closePromise};Editor.prototype.removeAllInlineWidgetsForLine=function(lineNum){var lineInfo=this._codeMirror.lineInfo(lineNum),widgetInfos=lineInfo&&lineInfo.widgets?[].concat(lineInfo.widgets):null,self=this;if(widgetInfos&&widgetInfos.length){var inlineWidget,allWidgetInfos=this._inlineWidgets.map(function(w){return w.info});return Async.doInParallel(widgetInfos,function(info){inlineWidget=self._inlineWidgets[allWidgetInfos.indexOf(info)];if(inlineWidget){return self.removeInlineWidget(inlineWidget)}else{return(new $.Deferred).resolve().promise()}})}else{return(new $.Deferred).resolve().promise()}};Editor.prototype._removeInlineWidgetFromList=function(inlineWidget){var l=this._inlineWidgets.length,i;for(i=0;i<l;i++){if(this._inlineWidgets[i]===inlineWidget){this._inlineWidgets.splice(i,1);break}}};Editor.prototype._removeInlineWidgetInternal=function(inlineWidget){if(!inlineWidget.isClosed){this._removeInlineWidgetFromList(inlineWidget);inlineWidget.onClosed();inlineWidget.isClosed=true}};Editor.prototype.getInlineWidgets=function(){return this._inlineWidgets};Editor.prototype.getFocusedInlineWidget=function(){var result=null;this.getInlineWidgets().forEach(function(widget){if(widget.hasFocus()){result=widget}});return result};Editor.prototype.displayErrorMessageAtCursor=function(errorMsg){var arrowBelow,cursorPos,cursorCoord,popoverRect,top,left,clip,arrowCenter,arrowLeft,self=this,POPOVER_MARGIN=10,POPOVER_ARROW_HALF_WIDTH=10,POPOVER_ARROW_HALF_BASE=POPOVER_ARROW_HALF_WIDTH+3;function _removeListeners(){self.off(".msgbox")}function _clearMessagePopover(){if(self._$messagePopover&&self._$messagePopover.length>0){self._$messagePopover=null}_removeListeners()}function _removeMessagePopover(){if(self._$messagePopover){PopUpManager.removePopUp(self._$messagePopover)}}function _addListeners(){self.on("blur.msgbox",_removeMessagePopover).on("change.msgbox",_removeMessagePopover).on("cursorActivity.msgbox",_removeMessagePopover).on("update.msgbox",_removeMessagePopover)}if(this._$messagePopover){_removeMessagePopover()}cursorPos=this.getCursorPos();this._codeMirror.scrollIntoView(cursorPos);cursorCoord=this._codeMirror.charCoords(cursorPos);arrowBelow=cursorCoord.top>100;this._$messagePopover=$("<div/>").addClass("popover-message").appendTo($("body"));if(!arrowBelow){$("<div/>").addClass("arrowAbove").appendTo(this._$messagePopover)}$("<div/>").addClass("text").appendTo(this._$messagePopover).html(errorMsg);if(arrowBelow){$("<div/>").addClass("arrowBelow").appendTo(this._$messagePopover)}top=arrowBelow?cursorCoord.top-this._$messagePopover.height()-POPOVER_MARGIN:cursorCoord.bottom+POPOVER_MARGIN;left=cursorCoord.left-this._$messagePopover.width()/2;popoverRect={top:top,left:left,height:this._$messagePopover.height(),width:this._$messagePopover.width()};clip=ViewUtils.getElementClipSize($("#editor-holder"),popoverRect);if(clip.left>0){left+=clip.left}else if(clip.right>0){left-=clip.right}this._$messagePopover.css({top:top,left:left});arrowCenter=cursorCoord.left-left;arrowCenter=Math.min(popoverRect.width-POPOVER_ARROW_HALF_BASE,Math.max(arrowCenter,POPOVER_ARROW_HALF_BASE));arrowLeft=arrowCenter-POPOVER_ARROW_HALF_WIDTH;if(arrowBelow){this._$messagePopover.find(".arrowBelow").css({"margin-left":arrowLeft})}else{this._$messagePopover.find(".arrowAbove").css({"margin-left":arrowLeft})}PopUpManager.addPopUp(this._$messagePopover,_clearMessagePopover,true);_addListeners();AnimationUtils.animateUsingClass(this._$messagePopover[0],"animateOpen").done(function(){if(self._$messagePopover&&self._$messagePopover.length>0){self._$messagePopover.addClass("open");self.on("scroll.msgbox",_removeMessagePopover);AnimationUtils.animateUsingClass(self._$messagePopover[0],"animateClose",6e3).done(_removeMessagePopover)}})};Editor.prototype.getVirtualScrollAreaTop=function(){var topPadding=this._getLineSpaceElement().offsetTop,scroller=this.getScrollerElement();return $(scroller).offset().top-scroller.scrollTop+topPadding};Editor.prototype.setInlineWidgetHeight=function(inlineWidget,height,ensureVisible){var self=this,node=inlineWidget.htmlContent,oldHeight=node&&$(node).height()||0,changed=oldHeight!==height,isAttached=inlineWidget.info!==undefined;function updateHeight(){if(isAttached){inlineWidget.info.changed()}}function setOuterHeight(){function finishAnimating(e){if(e.target===node){updateHeight();$(node).off("webkitTransitionEnd",finishAnimating)}}$(node).height(height);if($(node).hasClass("animating")){$(node).on("webkitTransitionEnd",finishAnimating)}else{updateHeight()}}if(changed||!node.style.height){if($(node).hasClass("animating")){window.setTimeout(setOuterHeight,0)}else{setOuterHeight()}}if(ensureVisible&&isAttached){var offset=$(node).offset(),position=$(node).position(),scrollerTop=self.getVirtualScrollAreaTop();self._codeMirror.scrollIntoView({left:position.left,top:offset.top-scrollerTop,right:position.left,bottom:offset.top+height-scrollerTop})}};Editor.prototype._getInlineWidgetLineNumber=function(inlineWidget){return this._codeMirror.getLineNumber(inlineWidget.info.line)};Editor.prototype.focus=function(){if(_duringFocus){return}_duringFocus=true;try{this._codeMirror.focus()}finally{_duringFocus=false}};Editor.prototype.hasFocus=function(){return this._focused};Editor.prototype.getViewState=function(){return{selections:this.getSelections(),scrollPos:this.getScrollPos()}};Editor.prototype.restoreViewState=function(viewState){if(viewState.selection){this.setSelection(viewState.selection.start,viewState.selection.end)}if(viewState.selections){this.setSelections(viewState.selections)}if(viewState.scrollPos){this.setScrollPos(viewState.scrollPos.x,viewState.scrollPos.y)}};Editor.prototype.refresh=function(handleResize){var focusedItem=window.document.activeElement,restoreFocus=$.contains(this._codeMirror.getScrollerElement(),focusedItem);this._codeMirror.refresh();if(restoreFocus){focusedItem.focus()}};Editor.prototype.refreshAll=function(handleResize){this.refresh(handleResize);this.getInlineWidgets().forEach(function(inlineWidget){inlineWidget.refresh()})};Editor.prototype.undo=function(){this._codeMirror.undo()};Editor.prototype.redo=function(){this._codeMirror.redo()};Editor.prototype.notifyVisibilityChange=function(show,refresh){if(show&&(refresh||refresh===undefined)){this.refresh()}if(show){this._inlineWidgets.forEach(function(inlineWidget){inlineWidget.onParentShown()})}};Editor.prototype.setVisible=function(show,refresh){this.$el.css("display",show?"":"none");this.notifyVisibilityChange(show,refresh)};Editor.prototype.isFullyVisible=function(){return $(this.getRootElement()).is(":visible")};Editor.prototype.getModeForRange=function(start,end,knownMixed){var outerMode=this._codeMirror.getMode(),startMode=TokenUtils.getModeAt(this._codeMirror,start),endMode=TokenUtils.getModeAt(this._codeMirror,end);if(!knownMixed&&outerMode.name===startMode.name){return this._codeMirror.getOption("mode")}else if(!startMode||!endMode||startMode.name!==endMode.name){return null}else{return startMode}};Editor.prototype.getModeForSelection=function(){var self=this,sels=this.getSelections(),primarySel=this.getSelection(),outerMode=this._codeMirror.getMode(),startMode=TokenUtils.getModeAt(this._codeMirror,primarySel.start),isMixed=outerMode.name!==startMode.name;if(isMixed){if(primarySel.start.line!==primarySel.end.line||primarySel.start.ch!==primarySel.end.ch){var endMode=TokenUtils.getModeAt(this._codeMirror,primarySel.end);if(startMode.name!==endMode.name){return null}}var hasMixedSel=_.some(sels,function(sel){if(sels===primarySel){return false}var rangeMode=self.getModeForRange(sel.start,sel.end,true);return!rangeMode||rangeMode.name!==startMode.name});if(hasMixedSel){return null}return startMode.name}else{return this._codeMirror.getOption("mode")}};Editor.prototype.getLanguageForSelection=function(){return this.document.getLanguage().getLanguageForMode(this.getModeForSelection())};Editor.prototype.getModeForDocument=function(){return this._codeMirror.getOption("mode")};Editor.prototype.document=null;Editor.prototype._lastEditorWidth=null;Editor.prototype._duringSync=false;Editor.prototype._codeMirror=null;Editor.prototype._inlineWidgets=null;Editor.prototype._visibleRange=null;Editor.prototype._inlineWidgetQueues=null;Editor.prototype._hideMarks=null;Editor.prototype._getOption=function(prefName){return PreferencesManager.get(prefName,PreferencesManager._buildContext(this.document.file.fullPath,this.document.getLanguage().getId()))};Editor.prototype._updateOption=function(prefName){var oldValue=this._currentOptions[prefName],newValue=this._getOption(prefName);if(oldValue!==newValue){this._currentOptions[prefName]=newValue;if(prefName===USE_TAB_CHAR){this._codeMirror.setOption(cmOptions[prefName],newValue);this._codeMirror.setOption("indentUnit",newValue===true?this._currentOptions[TAB_SIZE]:this._currentOptions[SPACE_UNITS])}else if(prefName===STYLE_ACTIVE_LINE){this._updateStyleActiveLine()}else if(prefName===SCROLL_PAST_END&&this._visibleRange){return}else if(prefName===SHOW_LINE_NUMBERS){Editor._toggleLinePadding(!newValue);this._codeMirror.setOption(cmOptions[SHOW_LINE_NUMBERS],newValue);this.refreshAll()}else{this._codeMirror.setOption(cmOptions[prefName],newValue)}this.trigger("optionChange",prefName,newValue)}};Editor.prototype._updateStyleActiveLine=function(){if(this.hasSelection()){if(this._codeMirror.getOption("styleActiveLine")){this._codeMirror.setOption("styleActiveLine",false)}}else{this._codeMirror.setOption("styleActiveLine",this._currentOptions[STYLE_ACTIVE_LINE])}};Editor.prototype.updateLayout=function(forceRefresh){var curRoot=this.getRootElement(),curWidth=$(curRoot).width(),$editorHolder=this.$el.parent(),editorAreaHt=$editorHolder.height();if(!curRoot.style.height||$(curRoot).height()!==editorAreaHt){this.setSize(null,editorAreaHt);if(forceRefresh===undefined){forceRefresh=true}}else if(curWidth!==this._lastEditorWidth){if(forceRefresh===undefined){forceRefresh=true}}this._lastEditorWidth=curWidth;if(forceRefresh){this.refreshAll(forceRefresh)}};Editor.setUseTabChar=function(value,fullPath){var options=fullPath&&{context:fullPath};return PreferencesManager.set(USE_TAB_CHAR,value,options)};Editor.getUseTabChar=function(fullPath){return PreferencesManager.get(USE_TAB_CHAR,_buildPreferencesContext(fullPath))};Editor.setTabSize=function(value,fullPath){var options=fullPath&&{context:fullPath};return PreferencesManager.set(TAB_SIZE,value,options)};Editor.getTabSize=function(fullPath){return PreferencesManager.get(TAB_SIZE,_buildPreferencesContext(fullPath))};Editor.setSpaceUnits=function(value,fullPath){var options=fullPath&&{context:fullPath};return PreferencesManager.set(SPACE_UNITS,value,options)};Editor.getSpaceUnits=function(fullPath){return PreferencesManager.get(SPACE_UNITS,_buildPreferencesContext(fullPath))};Editor.setCloseBrackets=function(value,fullPath){var options=fullPath&&{context:fullPath};return PreferencesManager.set(CLOSE_BRACKETS,value,options)};Editor.getCloseBrackets=function(fullPath){return PreferencesManager.get(CLOSE_BRACKETS,_buildPreferencesContext(fullPath))};Editor.setShowLineNumbers=function(value,fullPath){var options=fullPath&&{context:fullPath};return PreferencesManager.set(SHOW_LINE_NUMBERS,value,options)};Editor.getShowLineNumbers=function(fullPath){return PreferencesManager.get(SHOW_LINE_NUMBERS,_buildPreferencesContext(fullPath))};Editor.setShowActiveLine=function(value,fullPath){return PreferencesManager.set(STYLE_ACTIVE_LINE,value)};Editor.getShowActiveLine=function(fullPath){return PreferencesManager.get(STYLE_ACTIVE_LINE,_buildPreferencesContext(fullPath))};Editor.setWordWrap=function(value,fullPath){var options=fullPath&&{context:fullPath};return PreferencesManager.set(WORD_WRAP,value,options)};Editor.getWordWrap=function(fullPath){return PreferencesManager.get(WORD_WRAP,_buildPreferencesContext(fullPath))};Editor.setIndentLineComment=function(value,fullPath){var options=fullPath&&{context:fullPath};return PreferencesManager.set(INDENT_LINE_COMMENT,value,options)};Editor.getIndentLineComment=function(fullPath){return PreferencesManager.get(INDENT_LINE_COMMENT,_buildPreferencesContext(fullPath))};Editor.setAllowJavaScript=function(value,fullPath){var options=fullPath&&{context:fullPath};return PreferencesManager.set(ALLOW_JAVASCRIPT,value,options)};Editor.getAllowJavaScript=function(fullPath){return PreferencesManager.get(ALLOW_JAVASCRIPT,_buildPreferencesContext(fullPath))};Editor.forEveryEditor=function(callback){_instances.forEach(callback)};Editor.setLoopProtect=function(value,fullPath){var options=fullPath&&{context:fullPath};return PreferencesManager.set(LOOP_PROTECT,value,options)};Editor.getLoopProtect=function(fullPath){return PreferencesManager.get(LOOP_PROTECT,_buildPreferencesContext(fullPath))};Editor._toggleLinePadding=function(showLinePadding){var $holders=[];_instances.forEach(function(editor){var $editorHolder=editor.$el.parent();if($holders.indexOf($editorHolder)===-1){$holders.push($editorHolder)}});_.each($holders,function($holder){$holder.toggleClass("show-line-padding",Boolean(showLinePadding))})};editorOptions.forEach(function(prefName){PreferencesManager.on("change",prefName,function(){_instances.forEach(function(editor){editor._updateOption(prefName)})})});exports.Editor=Editor;exports.BOUNDARY_CHECK_NORMAL=BOUNDARY_CHECK_NORMAL;exports.BOUNDARY_IGNORE_TOP=BOUNDARY_IGNORE_TOP});define("editor/InlineWidget",["require","exports","module","editor/EditorManager","utils/EventDispatcher","utils/KeyEvent"],function(require,exports,module){"use strict";var EditorManager=require("editor/EditorManager"),EventDispatcher=require("utils/EventDispatcher"),KeyEvent=require("utils/KeyEvent");function InlineWidget(){var self=this;this.htmlContent=window.document.createElement("div");this.$htmlContent=$(this.htmlContent).addClass("inline-widget").attr("tabindex","-1");this.$htmlContent.append("<div class='shadow top' />").append("<div class='shadow bottom' />").append("<a href='#' class='close no-focus'></a>");this.$closeBtn=this.$htmlContent.find(".close");this.$closeBtn.click(function(e){self.close();e.stopImmediatePropagation()});this.$htmlContent.on("keydown",function(e){if(e.keyCode===KeyEvent.DOM_VK_ESCAPE){self.close();e.stopImmediatePropagation()}})}InlineWidget.prototype.htmlContent=null;InlineWidget.prototype.$htmlContent=null;InlineWidget.prototype.id=null;InlineWidget.prototype.hostEditor=null;EventDispatcher.makeEventDispatcher(InlineWidget.prototype);InlineWidget.prototype.height=0;InlineWidget.prototype.close=function(){return EditorManager.closeInlineWidget(this.hostEditor,this)};InlineWidget.prototype.hasFocus=function(){
var focusedItem=window.document.activeElement,htmlContent=this.$htmlContent[0];return $.contains(htmlContent,focusedItem)||htmlContent===focusedItem};InlineWidget.prototype.onClosed=function(){this.trigger("close")};InlineWidget.prototype.onAdded=function(){this.trigger("add")};InlineWidget.prototype.load=function(hostEditor){this.hostEditor=hostEditor};InlineWidget.prototype.onParentShown=function(){};InlineWidget.prototype.refresh=function(){};exports.InlineWidget=InlineWidget});define("editor/InlineTextEditor",["require","exports","module","thirdparty/CodeMirror/lib/codemirror","utils/EventDispatcher","document/DocumentManager","editor/EditorManager","command/CommandManager","command/Commands","editor/InlineWidget","utils/KeyEvent"],function(require,exports,module){"use strict";var CodeMirror=require("thirdparty/CodeMirror/lib/codemirror"),EventDispatcher=require("utils/EventDispatcher"),DocumentManager=require("document/DocumentManager"),EditorManager=require("editor/EditorManager"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),InlineWidget=require("editor/InlineWidget").InlineWidget,KeyEvent=require("utils/KeyEvent");function _showDirtyIndicator($indicatorDiv,isDirty){$indicatorDiv.css("width",isDirty?16:0)}function _dirtyFlagChangeHandler(event,doc){var $dirtyIndicators=$(".inline-text-editor .dirty-indicator"),$indicator;$dirtyIndicators.each(function(index,indicator){$indicator=$(this);if($indicator.data("fullPath")===doc.file.fullPath){_showDirtyIndicator($indicator,doc.isDirty)}})}function InlineTextEditor(){InlineWidget.call(this);this.editor=null;this.handleKeyDown=this.handleKeyDown.bind(this);this.htmlContent.addEventListener("keydown",this.handleKeyDown,true)}InlineTextEditor.prototype=Object.create(InlineWidget.prototype);InlineTextEditor.prototype.constructor=InlineTextEditor;InlineTextEditor.prototype.parentClass=InlineWidget.prototype;InlineTextEditor.prototype.$wrapper=null;InlineTextEditor.prototype.editor=null;InlineTextEditor.prototype.$editorHolder=null;InlineTextEditor.prototype.$header=null;InlineTextEditor.prototype.$filename=null;function _syncGutterWidths(hostEditor){var allHostedEditors=EditorManager.getInlineEditors(hostEditor);allHostedEditors.push(hostEditor);var maxWidth=0;allHostedEditors.forEach(function(editor){var $gutter=$(editor._codeMirror.getGutterElement()).find(".CodeMirror-linenumbers");$gutter.css("min-width","");var curWidth=$gutter.width();if(curWidth>maxWidth){maxWidth=curWidth}});if(allHostedEditors.length===1){allHostedEditors[0]._codeMirror.setOption("gutters",allHostedEditors[0]._codeMirror.getOption("gutters"));return}maxWidth=maxWidth+"px";allHostedEditors.forEach(function(editor){$(editor._codeMirror.getGutterElement()).find(".CodeMirror-linenumbers").css("min-width",maxWidth);editor._codeMirror.setOption("gutters",editor._codeMirror.getOption("gutters"))})}InlineTextEditor.prototype.onClosed=function(){InlineTextEditor.prototype.parentClass.onClosed.apply(this,arguments);_syncGutterWidths(this.hostEditor);this.setInlineContent(null);this.htmlContent.removeEventListener("keydown",this.handleKeyDown,true)};InlineTextEditor.prototype.sizeInlineWidgetToContents=function(){};InlineTextEditor.prototype.onAdded=function(){var self=this;InlineTextEditor.prototype.parentClass.onAdded.apply(this,arguments);if(this.editor){this.editor.refresh()}CodeMirror.on(this.info,"redraw",function(){window.setTimeout(function(){if(self.editor){self.editor.refresh()}},0)});_syncGutterWidths(this.hostEditor);if(this.editor){this.editor.focus()}};InlineTextEditor.prototype.getFocusedEditor=function(){if(this.editor&&this.editor.hasFocus()){return this.editor}return null};InlineTextEditor.prototype.handleKeyDown=function(e){if(e.keyCode===KeyEvent.DOM_VK_ESCAPE&&this.editor&&this.editor.getSelections().length>1){CodeMirror.commands.singleSelection(this.editor._codeMirror);e.stopImmediatePropagation()}};InlineTextEditor.prototype.setInlineContent=function(doc,startLine,endLine){var self=this;if(this.editor){this.editor.off(".InlineTextEditor");this.editor.destroy();this.editor=null;this.$filename.off(".InlineTextEditor").removeAttr("title");this.$filename.html("")}if(!doc){return}var range={startLine:startLine,endLine:endLine};var $dirtyIndicatorDiv=$("<div/>").addClass("dirty-indicator").html("&bull;").width(0);$dirtyIndicatorDiv.data("fullPath",doc.file.fullPath);this.$lineNumber=$("<span class='line-number'/>");this.$filename.append($dirtyIndicatorDiv).append(doc.file.name+" : ").append(this.$lineNumber).attr("title",doc.file.fullPath);this.$filename.on("click.InlineTextEditor",function(){CommandManager.execute(Commands.FILE_OPEN,{fullPath:doc.file.fullPath}).done(function(){EditorManager.getCurrentFullEditor().setCursorPos(startLine,0,true)})});var inlineInfo=EditorManager.createInlineEditorForDocument(doc,range,this.$editorHolder.get(0));this.editor=inlineInfo.editor;this._updateLineRange(inlineInfo.editor);this.editor.on("update.InlineTextEditor",function(event,editor){self.sizeInlineWidgetToContents()});this.editor.on("change.InlineTextEditor",function(event,editor){if(self.hostEditor.isFullyVisible()){self.sizeInlineWidgetToContents();self._updateLineRange(editor)}});this.editor.on("lostContent.InlineTextEditor",function(){self._onLostContent.apply(self,arguments)});_showDirtyIndicator($dirtyIndicatorDiv,doc.isDirty)};InlineTextEditor.prototype._updateLineRange=function(editor){this._startLine=editor.getFirstVisibleLine();this._endLine=editor.getLastVisibleLine();this._lineCount=this._endLine-this._startLine;this.$lineNumber.text(this._startLine+1)};InlineTextEditor.prototype.load=function(hostEditor){InlineTextEditor.prototype.parentClass.load.apply(this,arguments);this.$wrapper=$("<div/>").addClass("inline-text-editor").appendTo(this.$htmlContent);this.$header=$("<div/>").addClass("inline-editor-header").appendTo(this.$wrapper);this.$filename=$("<a/>").addClass("filename").appendTo(this.$header);this.$editorHolder=$("<div/>").addClass("inline-editor-holder").appendTo(this.$wrapper)};InlineTextEditor.prototype.onParentShown=function(){InlineTextEditor.prototype.parentClass.onParentShown.apply(this,arguments);if(this.editor){this._updateLineRange(this.editor);this.editor.refresh()}this.sizeInlineWidgetToContents()};InlineTextEditor.prototype._onLostContent=function(){this.close()};EventDispatcher.on_duringInit(DocumentManager,"dirtyFlagChange",_dirtyFlagChangeHandler);exports.InlineTextEditor=InlineTextEditor});define("text!htmlContent/popover-template.html",[],function(){return'<div id="popover-container">\n    <div class="content">\n    </div>\n</div>\n'});define("editor/PopoverWidget",["require","exports","module","editor/EditorManager","utils/ViewUtils","utils/AppInit","text!htmlContent/popover-template.html"],function(require,exports,module){"use strict";var EditorManager=require("editor/EditorManager"),ViewUtils=require("utils/ViewUtils"),AppInit=require("utils/AppInit");var popoverContainerHTML=require("text!htmlContent/popover-template.html");var $popoverContainer,$popoverContent;var POINTER_HEIGHT=15,POPOVER_HORZ_MARGIN=5;var popoverState=null;function hidePopover(){if(!popoverState){return}if(popoverState.visible){$popoverContent.empty();$popoverContainer.hide();$popoverContainer.removeClass("active");if(popoverState.onClick){$popoverContent.off("click",popoverState.onClick)}}popoverState=null}function positionPopover(){var editor=popoverState.editor,xpos=popoverState.xpos,ypos=popoverState.ytop,ybot=popoverState.ybot;var previewWidth=$popoverContainer.outerWidth(),top=ypos-$popoverContainer.outerHeight()-POINTER_HEIGHT,left=xpos-previewWidth/2,elementRect={top:top,left:left-POPOVER_HORZ_MARGIN,height:$popoverContainer.outerHeight()+POINTER_HEIGHT,width:previewWidth+2*POPOVER_HORZ_MARGIN},clip=ViewUtils.getElementClipSize($(editor.getRootElement()),elementRect);if(clip.left>0){left+=clip.left}else if(clip.right>0){left-=clip.right}if(clip.top>0){top=ybot+POINTER_HEIGHT;$popoverContainer.removeClass("bubble-above").addClass("bubble-below")}else{$popoverContainer.removeClass("bubble-below").addClass("bubble-above")}$popoverContainer.css({left:left,top:top}).addClass("active")}function show(popover){hidePopover();popoverState=popover;$popoverContent.append(popoverState.content);$popoverContainer.show();popoverState.visible=true;if(popoverState.onClick){$popoverContent.on("click",popoverState.onClick)}positionPopover()}function onActiveEditorChange(event,current,previous){hidePopover();if(previous&&previous.document){previous.document.off("change",hidePopover)}if(current&&current.document){current.document.on("change",hidePopover)}}AppInit.appReady(function(){var ignoreFirstScroll=true;function handleScroll(){if(ignoreFirstScroll){ignoreFirstScroll=false;return}hidePopover()}EditorManager.on("activeEditorChange",onActiveEditorChange);var editorHolder=$("#editor-holder")[0];editorHolder.addEventListener("scroll",handleScroll,true)});$popoverContainer=$(popoverContainerHTML).appendTo($("body"));$popoverContent=$popoverContainer.find(".content");exports.show=show;exports.hide=hidePopover});define("editor/InlineProviderIndicator",["require","exports","module","command/Commands","command/CommandManager","editor/PopoverWidget"],function(require,exports,module){"use strict";var Commands=require("command/Commands");var CommandManager=require("command/CommandManager");var PopoverWidget=require("editor/PopoverWidget");var popoverContent="<span></span>";var disabled=false;function enable(){disabled=false}function disable(){disabled=true;hideIndicator()}function triggerEditorProvider(){CommandManager.execute(Commands.TOGGLE_QUICK_EDIT);hideIndicator();return false}function hideIndicator(){PopoverWidget.hide()}function showIndicator(editor){var cm=editor._codeMirror;var pos=editor.getCursorPos();var coord=cm.charCoords(pos);if(disabled){return}var popover={editor:editor,content:popoverContent,xpos:coord.left,ytop:coord.top,ybot:coord.bottom,onClick:triggerEditorProvider};PopoverWidget.show(popover)}exports.enable=enable;exports.disable=disable;exports.show=showIndicator;exports.hide=hideIndicator});define("editor/EditorManager",["require","exports","module","command/Commands","file/FileUtils","utils/EventDispatcher","view/WorkspaceManager","preferences/PreferencesManager","command/CommandManager","document/DocumentManager","view/MainViewManager","view/ViewStateManager","utils/PerfUtils","editor/Editor","editor/InlineTextEditor","strings","language/LanguageManager","utils/DeprecationWarning","editor/InlineProviderIndicator"],function(require,exports,module){"use strict";var Commands=require("command/Commands"),FileUtils=require("file/FileUtils"),EventDispatcher=require("utils/EventDispatcher"),WorkspaceManager=require("view/WorkspaceManager"),PreferencesManager=require("preferences/PreferencesManager"),CommandManager=require("command/CommandManager"),DocumentManager=require("document/DocumentManager"),MainViewManager=require("view/MainViewManager"),ViewStateManager=require("view/ViewStateManager"),PerfUtils=require("utils/PerfUtils"),Editor=require("editor/Editor").Editor,InlineTextEditor=require("editor/InlineTextEditor").InlineTextEditor,Strings=require("strings"),LanguageManager=require("language/LanguageManager"),DeprecationWarning=require("utils/DeprecationWarning"),InlineProviderIndicator=require("editor/InlineProviderIndicator");var _lastFocusedEditor=null;var _inlineEditProviders=[];var _inlineDocsProviders=[];var _jumpToDefProviders=[];var _$hiddenEditorsContainer;function getCurrentFullEditor(){var currentPath=MainViewManager.getCurrentlyViewedPath(MainViewManager.ACTIVE_PANE),doc=currentPath&&DocumentManager.getOpenDocumentForPath(currentPath);return doc&&doc._masterEditor}function _saveEditorViewState(editor){ViewStateManager.updateViewState(editor)}function _restoreEditorViewState(editor){var viewState=ViewStateManager.getViewState(editor.document.file);if(viewState){editor.restoreViewState(viewState)}}function _queryEditorProviders(editor){var pos=editor.getCursorPos();var providers=_inlineEditProviders;for(var i=0,len=providers.length;i<len;i++){var query=providers[i].provider.query;if(query&&query(editor,pos)){return true}}return false}function _checkCurrentPositionForProviders(e){var editor=e.target;var editorProviderAvailable=_queryEditorProviders(editor);if(editorProviderAvailable){InlineProviderIndicator.show(editor)}else{InlineProviderIndicator.hide()}}function _notifyActiveEditorChanged(current){if(_lastFocusedEditor===current){return}var previous=_lastFocusedEditor;_lastFocusedEditor=current;if(previous){previous.off("cursorActivity",_checkCurrentPositionForProviders)}if(current){current.on("cursorActivity",_checkCurrentPositionForProviders)}exports.trigger("activeEditorChange",current,previous)}function _handleCurrentFileChange(e,file){var doc=file&&DocumentManager.getOpenDocumentForPath(file.fullPath);_notifyActiveEditorChanged(doc&&doc._masterEditor)}function _createEditorForDocument(doc,makeMasterEditor,container,range,editorOptions){var editor=new Editor(doc,makeMasterEditor,container,range,editorOptions);editor.on("focus",function(){_notifyActiveEditorChanged(editor)});editor.on("beforeDestroy",function(){if(editor.$el.is(":visible")){_saveEditorViewState(editor)}});return editor}function _openInlineWidget(editor,providers,defaultErrorMsg){PerfUtils.markStart(PerfUtils.INLINE_WIDGET_OPEN);var pos=editor.getCursorPos(),inlinePromise,i,result=new $.Deferred,errorMsg,providerRet;for(i=0;i<providers.length&&!inlinePromise;i++){var provider=providers[i].provider;providerRet=provider(editor,pos);if(providerRet){if(providerRet.hasOwnProperty("done")){inlinePromise=providerRet}else if(!errorMsg&&typeof providerRet==="string"){errorMsg=providerRet}}}errorMsg=errorMsg||defaultErrorMsg;if(inlinePromise){inlinePromise.done(function(inlineWidget){InlineProviderIndicator.disable();editor.addInlineWidget(pos,inlineWidget).done(function(){PerfUtils.addMeasurement(PerfUtils.INLINE_WIDGET_OPEN);result.resolve()})}).fail(function(){PerfUtils.finalizeMeasurement(PerfUtils.INLINE_WIDGET_OPEN);editor.displayErrorMessageAtCursor(errorMsg);result.reject()})}else{PerfUtils.finalizeMeasurement(PerfUtils.INLINE_WIDGET_OPEN);editor.displayErrorMessageAtCursor(errorMsg);result.reject()}return result.promise()}function _toggleInlineWidget(providers,errorMsg){var result=new $.Deferred;var currentEditor=getCurrentFullEditor();if(currentEditor){var inlineWidget=currentEditor.getFocusedInlineWidget();if(inlineWidget){PerfUtils.markStart(PerfUtils.INLINE_WIDGET_CLOSE);inlineWidget.close().done(function(){InlineProviderIndicator.enable();PerfUtils.addMeasurement(PerfUtils.INLINE_WIDGET_CLOSE);result.resolve(false)})}else{_openInlineWidget(currentEditor,providers,errorMsg).done(function(){result.resolve(true)}).fail(function(){result.reject()})}}else{result.reject()}return result.promise()}function _insertProviderSorted(array,provider,priority){var index,prioritizedProvider={priority:priority,provider:provider};for(index=0;index<array.length;index++){if(array[index].priority<priority){break}}array.splice(index,0,prioritizedProvider)}function _createUnattachedMasterEditor(doc){if(!_$hiddenEditorsContainer){_$hiddenEditorsContainer=$("#hidden-editors")}var editor=_createEditorForDocument(doc,true,_$hiddenEditorsContainer);editor.setVisible(false)}function closeInlineWidget(hostEditor,inlineWidget){if(inlineWidget.hasFocus()){var widgetLine=hostEditor._codeMirror.getLineNumber(inlineWidget.info.line);var cursorLine=hostEditor.getCursorPos().line;if(cursorLine!==widgetLine){hostEditor.setCursorPos({line:widgetLine,pos:0})}hostEditor.focus()}InlineProviderIndicator.enable();return hostEditor.removeInlineWidget(inlineWidget)}function defaultQueryFunction(){return false}function registerInlineEditProvider(provider,priority,queryFunction){if(typeof priority==="function"){queryFunction=priority;priority=0}if(priority===undefined){priority=0}provider.query=queryFunction||defaultQueryFunction;_insertProviderSorted(_inlineEditProviders,provider,priority)}function registerInlineDocsProvider(provider,priority){if(priority===undefined){priority=0}_insertProviderSorted(_inlineDocsProviders,provider)}function registerJumpToDefProvider(provider){_jumpToDefProviders.push(provider)}function getInlineEditors(hostEditor){var inlineEditors=[];if(hostEditor){hostEditor.getInlineWidgets().forEach(function(widget){if(widget instanceof InlineTextEditor&&widget.editor){inlineEditors.push(widget.editor)}})}return inlineEditors}function _createFullEditorForDocument(document,pane,editorOptions){var editor=_createEditorForDocument(document,true,pane.$content,undefined,editorOptions);editor.setVisible(false);pane.addView(editor);exports.trigger("_fullEditorCreatedForDocument",document,editor,pane.id);return editor}function createInlineEditorForDocument(doc,range,inlineContent){$(inlineContent).hide();var inlineEditor=_createEditorForDocument(doc,false,inlineContent,range);inlineEditor._hostEditor=getCurrentFullEditor();$(inlineContent).show();return{content:inlineContent,editor:inlineEditor}}function focusEditor(){DeprecationWarning.deprecationWarning("Use MainViewManager.focusActivePane() instead of EditorManager.focusEditor().",true);MainViewManager.focusActivePane()}function resizeEditor(){DeprecationWarning.deprecationWarning("Use WorkspaceManager.recomputeLayout() instead of EditorManager.resizeEditor().",true);WorkspaceManager.recomputeLayout()}function _showEditor(document,pane,editorOptions){var createdNewEditor=false,editor=document._masterEditor;if(editor&&editor._paneId&&editor._paneId!==pane.id){editor=document._checkAssociatedEditorForPane(pane.id)}if(!editor){if(window.getSelection&&window.getSelection().empty){window.getSelection().empty()}editor=_createFullEditorForDocument(document,pane,editorOptions);createdNewEditor=true}else if(editor.$el.parent()[0]!==pane.$content[0]){pane.addView(editor)}pane.showView(editor);if(MainViewManager.getActivePaneId()===pane.id){editor.focus()}if(createdNewEditor){_restoreEditorViewState(editor)}}function getCurrentlyViewedPath(){DeprecationWarning.deprecationWarning("Use MainViewManager.getCurrentlyViewedFile() instead of EditorManager.getCurrentlyViewedPath().",true);var currentPath=MainViewManager.getCurrentlyViewedPath(MainViewManager.ACTIVE_PANE),doc;if(currentPath){doc=DocumentManager.getOpenDocumentForPath(currentPath)}if(doc){return currentPath}return null}function setEditorHolder(){throw new Error("EditorManager.setEditorHolder() has been removed.")}function registerCustomViewer(){throw new Error("EditorManager.registerCustomViewer() has been removed.")}function canOpenPath(fullPath){return!LanguageManager.getLanguageForPath(fullPath).isBinary()}function openDocument(doc,pane,editorOptions){if(/\-[a-z]+preview.html$/.test(doc.file.name)){return}var perfTimerName=PerfUtils.markStart("EditorManager.openDocument():\t"+(!doc||doc.file.fullPath));if(doc&&pane){_showEditor(doc,pane,editorOptions)}PerfUtils.addMeasurement(perfTimerName)}function getFocusedInlineWidget(){var currentEditor=getCurrentFullEditor();if(currentEditor){return currentEditor.getFocusedInlineWidget()}return null}function _getFocusedInlineEditor(){var focusedWidget=getFocusedInlineWidget();if(focusedWidget instanceof InlineTextEditor){return focusedWidget.getFocusedEditor()}return null}function getFocusedEditor(){var currentEditor=getCurrentFullEditor();if(currentEditor){var focusedInline=_getFocusedInlineEditor();if(focusedInline){return focusedInline}if(currentEditor.hasFocus()){return currentEditor}}return null}function getActiveEditor(){return _lastFocusedEditor}function _doJumpToDef(){var providers=_jumpToDefProviders;var promise,i,result=new $.Deferred;var editor=getActiveEditor();if(editor){var pos=editor.getCursorPos();PerfUtils.markStart(PerfUtils.JUMP_TO_DEFINITION);for(i=0;i<providers.length&&!promise;i++){var provider=providers[i];promise=provider(editor,pos)}if(promise){promise.done(function(){PerfUtils.addMeasurement(PerfUtils.JUMP_TO_DEFINITION);result.resolve()}).fail(function(){PerfUtils.finalizeMeasurement(PerfUtils.JUMP_TO_DEFINITION);result.reject()})}else{PerfUtils.finalizeMeasurement(PerfUtils.JUMP_TO_DEFINITION);result.reject()}}else{result.reject()}return result.promise()}function _handleRemoveFromPaneView(e,removedFiles){var handleFileRemoved=function(file){var doc=DocumentManager.getOpenDocumentForPath(file.fullPath);if(doc){MainViewManager._destroyEditorIfNotNeeded(doc)}};if($.isArray(removedFiles)){removedFiles.forEach(function(removedFile){handleFileRemoved(removedFile)})}else{handleFileRemoved(removedFiles)}}EventDispatcher.makeEventDispatcher(exports);exports.on("activeEditorChange",function(e,current){if(current&&current.document&&current.document.file){PreferencesManager._setCurrentFile(current.document.file.fullPath)}});CommandManager.register(Strings.CMD_TOGGLE_QUICK_EDIT,Commands.TOGGLE_QUICK_EDIT,function(){return _toggleInlineWidget(_inlineEditProviders,Strings.ERROR_QUICK_EDIT_PROVIDER_NOT_FOUND)});CommandManager.register(Strings.CMD_TOGGLE_QUICK_DOCS,Commands.TOGGLE_QUICK_DOCS,function(){return _toggleInlineWidget(_inlineDocsProviders,Strings.ERROR_QUICK_DOCS_PROVIDER_NOT_FOUND)});CommandManager.register(Strings.CMD_JUMPTO_DEFINITION,Commands.NAVIGATE_JUMPTO_DEFINITION,_doJumpToDef);PerfUtils.createPerfMeasurement("JUMP_TO_DEFINITION","Jump-To-Definiiton");MainViewManager.on("currentFileChange",_handleCurrentFileChange);MainViewManager.on("workingSetRemove workingSetRemoveList",_handleRemoveFromPaneView);exports._createFullEditorForDocument=_createFullEditorForDocument;exports._notifyActiveEditorChanged=_notifyActiveEditorChanged;exports._saveEditorViewState=_saveEditorViewState;exports._createUnattachedMasterEditor=_createUnattachedMasterEditor;exports.createInlineEditorForDocument=createInlineEditorForDocument;exports.getFocusedInlineWidget=getFocusedInlineWidget;exports.getInlineEditors=getInlineEditors;exports.closeInlineWidget=closeInlineWidget;exports.openDocument=openDocument;exports.canOpenPath=canOpenPath;exports.getActiveEditor=getActiveEditor;exports.getCurrentFullEditor=getCurrentFullEditor;exports.getFocusedEditor=getFocusedEditor;exports.registerInlineEditProvider=registerInlineEditProvider;exports.registerInlineDocsProvider=registerInlineDocsProvider;exports.registerJumpToDefProvider=registerJumpToDefProvider;exports.registerCustomViewer=registerCustomViewer;exports.resizeEditor=resizeEditor;exports.focusEditor=focusEditor;exports.getCurrentlyViewedPath=getCurrentlyViewedPath;exports.setEditorHolder=setEditorHolder});define("document/Document",["require","exports","module","editor/EditorManager","utils/EventDispatcher","file/FileUtils","document/InMemoryFile","utils/PerfUtils","language/LanguageManager","thirdparty/CodeMirror/lib/codemirror","thirdparty/lodash"],function(require,exports,module){"use strict";var EditorManager=require("editor/EditorManager"),EventDispatcher=require("utils/EventDispatcher"),FileUtils=require("file/FileUtils"),InMemoryFile=require("document/InMemoryFile"),PerfUtils=require("utils/PerfUtils"),LanguageManager=require("language/LanguageManager"),CodeMirror=require("thirdparty/CodeMirror/lib/codemirror"),_=require("thirdparty/lodash");function Document(file,initialTimestamp,rawText){this.file=file;this._updateLanguage();this.refreshText(rawText,initialTimestamp,true);this._associatedFullEditors=[]}EventDispatcher.makeEventDispatcher(Document.prototype);Document.prototype._refCount=0;Document.prototype.file=null;Document.prototype.language=null;Document.prototype.isDirty=false;Document.prototype.isSaving=false;Document.prototype.diskTimestamp=null;Document.prototype.keepChangesTime=null;Document.prototype._refreshInProgress=false;Document.prototype._text=null;Document.prototype._masterEditor=null;Document.prototype._lineEndings=null;Document.prototype.addRef=function(){if(this._refCount===0){if(exports.trigger("_afterDocumentCreate",this)){return}}this._refCount++};Document.prototype.releaseRef=function(){this._refCount--;if(this._refCount<0){console.error("Document ref count has fallen below zero!");return}if(this._refCount===0){if(exports.trigger("_beforeDocumentDelete",this)){return}}};Document.prototype._makeEditable=function(masterEditor){this._text=null;this._masterEditor=masterEditor;masterEditor.on("change",this._handleEditorChange.bind(this))};Document.prototype._makeNonEditable=function(){if(!this._masterEditor){console.error("Document is already non-editable")}else{this._text=this.getText(true);this._associatedFullEditors.splice(this._associatedFullEditors.indexOf(this._masterEditor),1);if(this._associatedFullEditors.length>0){this._masterEditor=this._associatedFullEditors[this._associatedFullEditors.length-1]}else{this._masterEditor=null}}};Document.prototype._toggleMasterEditor=function(masterEditor){if(this.file===masterEditor.document.file&&this._associatedFullEditors.indexOf(masterEditor)>=0){this._masterEditor=masterEditor}};Document.prototype._checkAssociatedEditorForPane=function(paneId){var editorCount,editorForPane;for(editorCount=0;editorCount<this._associatedFullEditors.length;++editorCount){if(this._associatedFullEditors[editorCount]._paneId===paneId){editorForPane=this._associatedFullEditors[editorCount];break}}return editorForPane};Document.prototype._disassociateEditor=function(editor){if(this._associatedFullEditors.indexOf(editor)>=0){this._associatedFullEditors.splice(this._associatedFullEditors.indexOf(editor),1)}};Document.prototype._associateEditor=function(editor){if(this._associatedFullEditors.indexOf(editor)===-1){this._associatedFullEditors.push(editor)}};Document.prototype._ensureMasterEditor=function(){if(!this._masterEditor){EditorManager._createUnattachedMasterEditor(this)}};Document.prototype.getText=function(useOriginalLineEndings){if(this._masterEditor){var codeMirrorText=this._masterEditor._codeMirror.getValue();if(useOriginalLineEndings){if(this._lineEndings===FileUtils.LINE_ENDINGS_CRLF){return codeMirrorText.replace(/\n/g,"\r\n")}}return codeMirrorText}else{if(useOriginalLineEndings){return this._text}else{return Document.normalizeText(this._text)}}};Document.normalizeText=function(text){return text.replace(/\r\n/g,"\n")};Document.prototype.setText=function(text){this._ensureMasterEditor();this._masterEditor._codeMirror.setValue(text)};Document.prototype._notifyDocumentChange=function(changeList){this.trigger("change",this,changeList);exports.trigger("documentChange",this,changeList)};Document.prototype.refreshText=function(text,newTimestamp,initial){var perfTimerName=PerfUtils.markStart("refreshText:\t"+(!this.file||this.file.fullPath));this._refreshInProgress=true;if(this._masterEditor){this._masterEditor._resetText(text)}else{this._text=text;if(!initial){this._notifyDocumentChange([{text:text.split(/\r?\n/)}])}}this._updateTimestamp(newTimestamp);if(this.isDirty){this._markClean()}this._refreshInProgress=false;this._lineEndings=FileUtils.sniffLineEndings(text);if(!this._lineEndings){this._lineEndings=FileUtils.getPlatformLineEndings()}exports.trigger("_documentRefreshed",this);PerfUtils.addMeasurement(perfTimerName)};Document.prototype.replaceRange=function(text,start,end,origin){this._ensureMasterEditor();this._masterEditor._codeMirror.replaceRange(text,start,end,origin)};Document.prototype.getRange=function(start,end){this._ensureMasterEditor();return this._masterEditor._codeMirror.getRange(start,end)};Document.prototype.getLine=function(lineNum){this._ensureMasterEditor();return this._masterEditor._codeMirror.getLine(lineNum)};Document.prototype.batchOperation=function(doOperation){this._ensureMasterEditor();var self=this;self._masterEditor._codeMirror.operation(doOperation)};Document.prototype._handleEditorChange=function(event,editor,changeList){if(this._masterEditor!==editor){return}if(!this._refreshInProgress){var wasDirty=this.isDirty;this.isDirty=!editor._codeMirror.isClean();if(wasDirty!==this.isDirty){exports.trigger("_dirtyFlagChange",this)}}this._notifyDocumentChange(changeList)};Document.prototype._markClean=function(){this.isDirty=false;if(this._masterEditor){this._masterEditor._codeMirror.markClean()}exports.trigger("_dirtyFlagChange",this)};Document.prototype._updateTimestamp=function(timestamp){this.diskTimestamp=timestamp;this.keepChangesTime=null};Document.prototype.notifySaved=function(){if(!this._masterEditor){console.log("### Warning: saving a Document that is not modifiable!")}this._markClean();var thisDoc=this;this.file.stat(function(err,stat){if(!err){thisDoc._updateTimestamp(stat.mtime)}else{console.log("Error updating timestamp after saving file: "+thisDoc.file.fullPath)}exports.trigger("_documentSaved",thisDoc)})};Document.prototype.adjustPosForChange=function(pos,textLines,start,end){var change={text:textLines,from:start,to:end};if(CodeMirror.cmpPos(pos,start)<0){return pos}if(CodeMirror.cmpPos(pos,end)<=0){return CodeMirror.changeEnd(change)}var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line===change.to.line){ch+=CodeMirror.changeEnd(change).ch-change.to.ch}return{line:line,ch:ch}};function oneOrEach(itemOrArr,cb){if(Array.isArray(itemOrArr)){_.each(itemOrArr,cb)}else{cb(itemOrArr,0)}}Document.prototype.doMultipleEdits=function(edits,origin){var self=this;edits.sort(function(editDesc1,editDesc2){var edit1=Array.isArray(editDesc1.edit)?editDesc1.edit[0]:editDesc1.edit,edit2=Array.isArray(editDesc2.edit)?editDesc2.edit[0]:editDesc2.edit;if(!edit1){return-1}else if(!edit2){return 1}else{return CodeMirror.cmpPos(edit2.start,edit1.start)}});var result=_.cloneDeep(_.pluck(edits,"selection"));_.each(edits,function(editDesc,index){oneOrEach(editDesc.edit,function(edit){if(edit){if(!edit.end){edit.end=edit.start}if(index>0){var prevEditGroup=edits[index-1].edit;oneOrEach(prevEditGroup,function(prevEdit){if(CodeMirror.cmpPos(edit.end,prevEdit.start)>0){throw new Error("Document.doMultipleEdits(): Overlapping edits specified")}})}}})});this.batchOperation(function(){_.each(edits,function(editDesc,index){oneOrEach(editDesc.edit,function(edit){if(edit){self.replaceRange(edit.text,edit.start,edit.end,origin);var textLines=edit.text.split("\n");_.each(result,function(selections,selIndex){if(selections){oneOrEach(selections,function(sel){if(sel.isBeforeEdit||selIndex!==index){sel.start=self.adjustPosForChange(sel.start,textLines,edit.start,edit.end);sel.end=self.adjustPosForChange(sel.end,textLines,edit.start,edit.end)}})}})}})})});result=_.chain(result).filter(function(item){return item!==undefined}).flatten().sort(function(sel1,sel2){return CodeMirror.cmpPos(sel1.start,sel2.start)}).value();_.each(result,function(item){delete item.isBeforeEdit});return result};Document.prototype.toString=function(){var dirtyInfo=this.isDirty?" (dirty!)":" (clean)";var editorInfo=this._masterEditor?" (Editable)":" (Non-editable)";var refInfo=" refs:"+this._refCount;return"[Document "+this.file.fullPath+dirtyInfo+editorInfo+refInfo+"]"};Document.prototype.getLanguage=function(){return this.language};Document.prototype._updateLanguage=function(){var oldLanguage=this.language;this.language=LanguageManager.getLanguageForPath(this.file.fullPath);if(oldLanguage&&oldLanguage!==this.language){this.trigger("languageChanged",oldLanguage,this.language)}};Document.prototype._notifyFilePathChanged=function(){this._updateLanguage()};Document.prototype.isUntitled=function(){return this.file instanceof InMemoryFile};EventDispatcher.makeEventDispatcher(exports);exports.Document=Document})
;define("document/DocumentManager",["require","exports","module","thirdparty/lodash","utils/AppInit","utils/EventDispatcher","document/Document","utils/DeprecationWarning","view/MainViewManager","view/MainViewFactory","project/FileSyncManager","filesystem/FileSystem","preferences/PreferencesManager","file/FileUtils","document/InMemoryFile","command/CommandManager","command/Commands","utils/PerfUtils","language/LanguageManager","strings"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var AppInit=require("utils/AppInit"),EventDispatcher=require("utils/EventDispatcher"),DocumentModule=require("document/Document"),DeprecationWarning=require("utils/DeprecationWarning"),MainViewManager=require("view/MainViewManager"),MainViewFactory=require("view/MainViewFactory"),FileSyncManager=require("project/FileSyncManager"),FileSystem=require("filesystem/FileSystem"),PreferencesManager=require("preferences/PreferencesManager"),FileUtils=require("file/FileUtils"),InMemoryFile=require("document/InMemoryFile"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),PerfUtils=require("utils/PerfUtils"),LanguageManager=require("language/LanguageManager"),Strings=require("strings");var _untitledDocumentPath="/_brackets_"+_.random(1e7,99999999);var _openDocuments={};function getOpenDocumentForPath(fullPath){var id;for(id in _openDocuments){if(_openDocuments.hasOwnProperty(id)){if(_openDocuments[id].file.fullPath===fullPath){return _openDocuments[id]}}}return null}function getCurrentDocument(){var file=MainViewManager.getCurrentlyViewedFile(MainViewManager.ACTIVE_PANE);if(file){return getOpenDocumentForPath(file.fullPath)}return null}function getWorkingSet(){DeprecationWarning.deprecationWarning("Use MainViewManager.getWorkingSet() instead of DocumentManager.getWorkingSet()",true);return MainViewManager.getWorkingSet(MainViewManager.ALL_PANES).filter(function(file){return!MainViewFactory.findSuitableFactoryForPath(file.fullPath)})}function findInWorkingSet(fullPath){DeprecationWarning.deprecationWarning("Use MainViewManager.findInWorkingSet() instead of DocumentManager.findInWorkingSet()",true);return MainViewManager.findInWorkingSet(MainViewManager.ACTIVE_PANE,fullPath)}function getAllOpenDocuments(){var result=[];var id;for(id in _openDocuments){if(_openDocuments.hasOwnProperty(id)){result.push(_openDocuments[id])}}return result}function addToWorkingSet(file,index,forceRedraw){DeprecationWarning.deprecationWarning("Use MainViewManager.addToWorkingSet() instead of DocumentManager.addToWorkingSet()",true);MainViewManager.addToWorkingSet(MainViewManager.ACTIVE_PANE,file,index,forceRedraw)}function addListToWorkingSet(fileList){DeprecationWarning.deprecationWarning("Use MainViewManager.addListToWorkingSet() instead of DocumentManager.addListToWorkingSet()",true);MainViewManager.addListToWorkingSet(MainViewManager.ACTIVE_PANE,fileList)}function removeListFromWorkingSet(list){DeprecationWarning.deprecationWarning("Use CommandManager.execute(Commands.FILE_CLOSE_LIST, {PaneId: MainViewManager.ALL_PANES, fileList: list}) instead of DocumentManager.removeListFromWorkingSet()",true);CommandManager.execute(Commands.FILE_CLOSE_LIST,{PaneId:MainViewManager.ALL_PANES,fileList:list})}function closeAll(){DeprecationWarning.deprecationWarning("Use CommandManager.execute(Commands.FILE_CLOSE_ALL,{PaneId: MainViewManager.ALL_PANES}) instead of DocumentManager.closeAll()",true);CommandManager.execute(Commands.FILE_CLOSE_ALL,{PaneId:MainViewManager.ALL_PANES})}function closeFullEditor(file){DeprecationWarning.deprecationWarning("Use CommandManager.execute(Commands.FILE_CLOSE, {File: file} instead of DocumentManager.closeFullEditor()",true);CommandManager.execute(Commands.FILE_CLOSE,{File:file})}function setCurrentDocument(doc){DeprecationWarning.deprecationWarning("Use CommandManager.execute(Commands.CMD_OPEN) instead of DocumentManager.setCurrentDocument()",true);CommandManager.execute(Commands.CMD_OPEN,{fullPath:doc.file.fullPath})}function beginDocumentNavigation(){DeprecationWarning.deprecationWarning("Use MainViewManager.beginTraversal() instead of DocumentManager.beginDocumentNavigation()",true);MainViewManager.beginTraversal()}function finalizeDocumentNavigation(){DeprecationWarning.deprecationWarning("Use MainViewManager.endTraversal() instead of DocumentManager.finalizeDocumentNavigation()",true);MainViewManager.endTraversal()}function getNextPrevFile(inc){DeprecationWarning.deprecationWarning("Use MainViewManager.traverseToNextViewByMRU() instead of DocumentManager.getNextPrevFile()",true);var result=MainViewManager.traverseToNextViewByMRU(inc);if(result){return result.file}return null}function _gcDocuments(){getAllOpenDocuments().forEach(function(doc){if(doc._refCount===1&&doc._masterEditor){MainViewManager._destroyEditorIfNotNeeded(doc)}})}function getDocumentForPath(fullPath){var doc=getOpenDocumentForPath(fullPath);if(doc){return(new $.Deferred).resolve(doc).promise()}else{if(fullPath.indexOf(_untitledDocumentPath)===0){console.error("getDocumentForPath called for non-open untitled document: "+fullPath);return(new $.Deferred).reject().promise()}var file=FileSystem.getFileForPath(fullPath),pendingPromise=getDocumentForPath._pendingDocumentPromises[file.id];if(pendingPromise){return pendingPromise}else{var result=new $.Deferred,promise=result.promise();getDocumentForPath._pendingDocumentPromises[file.id]=promise;var perfTimerName=PerfUtils.markStart("getDocumentForPath:\t"+fullPath);result.done(function(){PerfUtils.addMeasurement(perfTimerName)}).fail(function(){PerfUtils.finalizeMeasurement(perfTimerName)});FileUtils.readAsText(file).always(function(){delete getDocumentForPath._pendingDocumentPromises[file.id]}).done(function(rawText,readTimestamp){doc=new DocumentModule.Document(file,readTimestamp,rawText);_gcDocuments();result.resolve(doc)}).fail(function(fileError){result.reject(fileError)});return promise}}}getDocumentForPath._pendingDocumentPromises={};function getDocumentText(file,checkLineEndings){var result=new $.Deferred,doc=getOpenDocumentForPath(file.fullPath);if(doc){result.resolve(doc.getText(),doc.diskTimestamp,checkLineEndings?doc._lineEndings:null)}else{file.read(function(err,contents,stat){if(err){result.reject(err)}else{var originalLineEndings=checkLineEndings?FileUtils.sniffLineEndings(contents):null;contents=DocumentModule.Document.normalizeText(contents);result.resolve(contents,stat.mtime,originalLineEndings)}})}return result.promise()}function createUntitledDocument(counter,fileExt){var filename=Strings.UNTITLED+"-"+counter+fileExt,fullPath=_untitledDocumentPath+"/"+filename,now=new Date,file=new InMemoryFile(fullPath,FileSystem);FileSystem.addEntryForPathIfRequired(file,fullPath);return new DocumentModule.Document(file,now,"")}function notifyFileDeleted(file){exports.trigger("pathDeleted",file.fullPath);var doc=getOpenDocumentForPath(file.fullPath);if(doc){doc.trigger("deleted")}if(doc&&doc._refCount>0){console.warn("Deleted "+file.fullPath+" Document still has "+doc._refCount+" references. Did someone addRef() without listening for 'deleted'?")}}function notifyPathDeleted(fullPath){FileSyncManager.syncOpenDocuments(Strings.FILE_DELETED_TITLE);if(!getOpenDocumentForPath(fullPath)&&!MainViewManager.findInAllWorkingSets(fullPath).length){exports.trigger("pathDeleted",fullPath)}}function notifyPathNameChanged(oldName,newName){_.forEach(_openDocuments,function(doc){doc._notifyFilePathChanged()});exports.trigger("fileNameChange",oldName,newName)}function _handleLanguageAdded(){_.forEach(_openDocuments,function(doc){if(doc.getLanguage().isFallbackLanguage()){doc._updateLanguage()}})}function _handleLanguageModified(event,language){_.forEach(_openDocuments,function(doc){var docLanguage=doc.getLanguage();if(docLanguage===language||docLanguage.isFallbackLanguage()){doc._updateLanguage()}})}DocumentModule.on("_afterDocumentCreate",function(event,doc){if(_openDocuments[doc.file.id]){console.error("Document for this path already in _openDocuments!");return true}_openDocuments[doc.file.id]=doc;exports.trigger("afterDocumentCreate",doc)}).on("_beforeDocumentDelete",function(event,doc){if(!_openDocuments[doc.file.id]){console.error("Document with references was not in _openDocuments!");return true}exports.trigger("beforeDocumentDelete",doc);delete _openDocuments[doc.file.id]}).on("_documentRefreshed",function(event,doc){exports.trigger("documentRefreshed",doc)}).on("_dirtyFlagChange",function(event,doc){doc.trigger("_dirtyFlagChange",doc);exports.trigger("dirtyFlagChange",doc);if(doc.isDirty){MainViewManager.addToWorkingSet(MainViewManager.ACTIVE_PANE,doc.file);if(!MainViewManager.getCurrentlyViewedFile()&&MainViewManager.findInWorkingSet(MainViewManager.ACTIVE_PANE,doc.file.fullPath)!==-1){CommandManager.execute(Commands.FILE_OPEN,{fullPath:doc.file.fullPath})}}}).on("_documentSaved",function(event,doc){exports.trigger("documentSaved",doc)});EventDispatcher.makeEventDispatcher(exports);EventDispatcher.markDeprecated(exports,"currentDocumentChange","MainViewManager.currentFileChange");EventDispatcher.markDeprecated(exports,"workingSetAdd","MainViewManager.workingSetAdd");EventDispatcher.markDeprecated(exports,"workingSetAddList","MainViewManager.workingSetAddList");EventDispatcher.markDeprecated(exports,"workingSetRemove","MainViewManager.workingSetRemove");EventDispatcher.markDeprecated(exports,"workingSetRemoveList","MainViewManager.workingSetRemoveList");EventDispatcher.markDeprecated(exports,"workingSetSort","MainViewManager.workingSetSort");AppInit.extensionsLoaded(function(){function _proxyDeprecatedEvent(eventName){DeprecationWarning.deprecateEvent(exports,MainViewManager,eventName,eventName,"DocumentManager."+eventName,"MainViewManager."+eventName)}_proxyDeprecatedEvent("workingSetAdd");_proxyDeprecatedEvent("workingSetAddList");_proxyDeprecatedEvent("workingSetRemove");_proxyDeprecatedEvent("workingSetRemoveList");_proxyDeprecatedEvent("workingSetSort")});exports.on("documentSaved",function(e,doc){PreferencesManager.fileChanged(doc.file.fullPath)});MainViewManager.on("currentFileChange",function(e,newFile,newPaneId,oldFile){var newDoc=null,oldDoc=null;if(newFile){newDoc=getOpenDocumentForPath(newFile.fullPath)}if(oldFile){oldDoc=getOpenDocumentForPath(oldFile.fullPath)}if(oldDoc){oldDoc.off("languageChanged.DocumentManager")}if(newDoc){PreferencesManager._setCurrentLanguage(newDoc.getLanguage().getId());newDoc.on("languageChanged.DocumentManager",function(e,oldLang,newLang){PreferencesManager._setCurrentLanguage(newLang.getId());exports.trigger("currentDocumentLanguageChanged",[oldLang,newLang])})}else{PreferencesManager._setCurrentLanguage(undefined)}if(newDoc!==oldDoc){exports.trigger("currentDocumentChange",newDoc,oldDoc)}});exports.getWorkingSet=getWorkingSet;exports.findInWorkingSet=findInWorkingSet;exports.addToWorkingSet=addToWorkingSet;exports.addListToWorkingSet=addListToWorkingSet;exports.removeListFromWorkingSet=removeListFromWorkingSet;exports.getCurrentDocument=getCurrentDocument;exports.beginDocumentNavigation=beginDocumentNavigation;exports.finalizeDocumentNavigation=finalizeDocumentNavigation;exports.getNextPrevFile=getNextPrevFile;exports.setCurrentDocument=setCurrentDocument;exports.closeFullEditor=closeFullEditor;exports.closeAll=closeAll;exports.Document=DocumentModule.Document;exports.getDocumentForPath=getDocumentForPath;exports.getOpenDocumentForPath=getOpenDocumentForPath;exports.getDocumentText=getDocumentText;exports.createUntitledDocument=createUntitledDocument;exports.getAllOpenDocuments=getAllOpenDocuments;exports.notifyPathNameChanged=notifyPathNameChanged;exports.notifyPathDeleted=notifyPathDeleted;exports.notifyFileDeleted=notifyFileDeleted;PerfUtils.createPerfMeasurement("DOCUMENT_MANAGER_GET_DOCUMENT_FOR_PATH","DocumentManager.getDocumentForPath()");LanguageManager.on("languageAdded",_handleLanguageAdded);LanguageManager.on("languageModified",_handleLanguageModified)});define("project/FileViewController",["require","exports","module","document/DocumentManager","utils/EventDispatcher","view/MainViewManager","command/CommandManager","utils/PerfUtils","command/Commands","utils/DeprecationWarning"],function(require,exports,module){"use strict";var DocumentManager=require("document/DocumentManager"),EventDispatcher=require("utils/EventDispatcher"),MainViewManager=require("view/MainViewManager"),CommandManager=require("command/CommandManager"),PerfUtils=require("utils/PerfUtils"),Commands=require("command/Commands"),DeprecationWarning=require("utils/DeprecationWarning");var _curDocChangedDueToMe=false;var PROJECT_MANAGER="ProjectManager";var WORKING_SET_VIEW="WorkingSetView";var _fileSelectionFocus=PROJECT_MANAGER;EventDispatcher.on_duringInit(MainViewManager,"workingSetAdd",function(event,addedFile){if(/\-[a-z]+preview.html$/.test(addedFile.name)){return}_fileSelectionFocus=WORKING_SET_VIEW;exports.trigger("documentSelectionFocusChange")});EventDispatcher.on_duringInit(MainViewManager,"currentFileChange",function(event,file,paneId){var perfTimerName;if(!_curDocChangedDueToMe){perfTimerName=PerfUtils.markStart("FileViewController._oncurrentFileChange():\t"+(file?file.fullPath:"(no open file)"));_fileSelectionFocus=PROJECT_MANAGER}exports.trigger("documentSelectionFocusChange");if(!_curDocChangedDueToMe){PerfUtils.addMeasurement(perfTimerName)}});function _activatePane(paneId){if(paneId){MainViewManager.setActivePaneId(paneId)}else{MainViewManager.focusActivePane()}exports.trigger("documentSelectionFocusChange")}function setFileViewFocus(fileSelectionFocus){if(fileSelectionFocus!==PROJECT_MANAGER&&fileSelectionFocus!==WORKING_SET_VIEW){console.error("Bad parameter passed to FileViewController.setFileViewFocus");return}fileSelectionFocus=PROJECT_MANAGER;if(_fileSelectionFocus!==fileSelectionFocus){_fileSelectionFocus=fileSelectionFocus;exports.trigger("fileViewFocusChange")}}function openAndSelectDocument(fullPath,fileSelectionFocus,paneId){var result,curDocChangedDueToMe=_curDocChangedDueToMe;function _getDerivedPaneContext(){function _secondPaneContext(){return(window.event.ctrlKey||window.event.metaKey)&&window.event.altKey?MainViewManager.SECOND_PANE:null}function _firstPaneContext(){return window.event.ctrlKey||window.event.metaKey?MainViewManager.FIRST_PANE:null}return window.event&&(_secondPaneContext()||_firstPaneContext())}if(fileSelectionFocus!==PROJECT_MANAGER&&fileSelectionFocus!==WORKING_SET_VIEW){console.error("Bad parameter passed to FileViewController.openAndSelectDocument");return}_curDocChangedDueToMe=true;_fileSelectionFocus=fileSelectionFocus;paneId=paneId||_getDerivedPaneContext()||MainViewManager.ACTIVE_PANE;var currentPath=MainViewManager.getCurrentlyViewedPath(paneId);if(currentPath===fullPath){_activatePane(paneId);result=(new $.Deferred).resolve().promise()}else{result=CommandManager.execute(Commands.FILE_OPEN,{fullPath:fullPath,paneId:paneId})}result.always(function(){_curDocChangedDueToMe=curDocChangedDueToMe});return result}function openFileAndAddToWorkingSet(fullPath,paneId){var result=new $.Deferred,promise=CommandManager.execute(Commands.CMD_ADD_TO_WORKINGSET_AND_OPEN,{fullPath:fullPath,paneId:paneId});promise.done(function(file){_fileSelectionFocus=PROJECT_MANAGER;_activatePane(paneId);result.resolve(file)}).fail(function(err){result.reject(err)});return result.promise()}function addToWorkingSetAndSelect(fullPath){DeprecationWarning.deprecationWarning("Use FileViewController.openFileAndAddToWorkingSet() instead of FileViewController.addToWorkingSetAndSelect().",true);var result=new $.Deferred;openFileAndAddToWorkingSet(fullPath).done(function(file){var doc;if(file){doc=DocumentManager.getOpenDocumentForPath(file.fullPath)}result.resolve(doc)}).fail(function(err){result.reject(err)});return result.promise()}function getFileSelectionFocus(){return _fileSelectionFocus}EventDispatcher.makeEventDispatcher(exports);exports.addToWorkingSetAndSelect=addToWorkingSetAndSelect;exports.getFileSelectionFocus=getFileSelectionFocus;exports.openAndSelectDocument=openAndSelectDocument;exports.openFileAndAddToWorkingSet=openFileAndAddToWorkingSet;exports.setFileViewFocus=setFileViewFocus;exports.PROJECT_MANAGER=PROJECT_MANAGER;exports.WORKING_SET_VIEW=WORKING_SET_VIEW});define("project/FileTreeViewModel",["require","exports","module","thirdparty/immutable","thirdparty/lodash","utils/EventDispatcher","file/FileUtils"],function(require,exports,module){"use strict";var Immutable=require("thirdparty/immutable"),_=require("thirdparty/lodash"),EventDispatcher=require("utils/EventDispatcher"),FileUtils=require("file/FileUtils");var EVENT_CHANGE="change";function isFile(entry){return entry.get("children")===undefined}function FileTreeViewModel(){this._commit=this._commit.bind(this)}EventDispatcher.makeEventDispatcher(FileTreeViewModel.prototype);FileTreeViewModel.prototype.sortDirectoriesFirst=false;FileTreeViewModel.prototype._treeData=Immutable.Map();Object.defineProperty(FileTreeViewModel.prototype,"treeData",{get:function(){return this._treeData}});FileTreeViewModel.prototype._selectionViewInfo=Immutable.Map({width:0,scrollTop:0,scrollLeft:0,offsetTop:0,hasContext:false,hasSelection:false});Object.defineProperty(FileTreeViewModel.prototype,"selectionViewInfo",{get:function(){return this._selectionViewInfo}});FileTreeViewModel.prototype._rootChanged=function(){this._treeData=Immutable.Map()};FileTreeViewModel.prototype._commit=function(treeData,selectionViewInfo){var changed=false;if(treeData&&treeData!==this._treeData){this._treeData=treeData;changed=true}if(selectionViewInfo&&selectionViewInfo!==this._selectionViewInfo){this._selectionViewInfo=selectionViewInfo;changed=true}if(changed){this.trigger(EVENT_CHANGE)}};function _filePathToObjectPath(treeData,path){if(path===null){return null}else if(path===""){return[]}var parts=path.split("/"),part=parts.shift(),result=[],node;while(part){if(!treeData){return null}node=treeData.get(part);if(node===undefined){return null}result.push(part);part=parts.shift();if(part){treeData=node.get("children");if(treeData){result.push("children")}}}return result}function _isFilePathVisible(treeData,path){if(path===null){return null}else if(path===""){return true}var parts=path.split("/"),part=parts.shift(),result=[],node;while(part){if(treeData===null){return false}node=treeData.get(part);if(node===undefined){return null}result.push(part);part=parts.shift();if(part){if(!node.get("open")){return false}treeData=node.get("children");if(treeData){result.push("children")}}}return true}FileTreeViewModel.prototype.isFilePathVisible=function(path){return _isFilePathVisible(this._treeData,path)};FileTreeViewModel.prototype.isPathLoaded=function(path){var objectPath=_filePathToObjectPath(this._treeData,path);if(!objectPath){return false}if(_.last(path)==="/"){var directory=this._treeData.getIn(objectPath);if(!directory.get("children")||directory.get("notFullyLoaded")){return false}}return true};function _getOpenNodes(treeData,projectRootPath){var openNodes=[];function addNodesAtDepth(treeData,parent,depth){if(!treeData){return}treeData.forEach(function(value,key){if(isFile(value)){return}var directoryPath=parent+key+"/";if(value.get("open")){var nodeList=openNodes[depth];if(!nodeList){nodeList=openNodes[depth]=[]}nodeList.push(directoryPath);addNodesAtDepth(value.get("children"),directoryPath,depth+1)}})}addNodesAtDepth(treeData,projectRootPath,0);return openNodes}function _getChildDirectories(treeData,projectRootPath){var childDirectories=[];function addNodesAtDepth(treeData,parent,depth){if(!treeData){return}treeData.forEach(function(value,key){if(!isFile(value)){var directoryPath=key+"/";childDirectories.push(directoryPath)}})}addNodesAtDepth(treeData,projectRootPath,0);return childDirectories}FileTreeViewModel.prototype.getOpenNodes=function(projectRootPath){return _getOpenNodes(this._treeData,projectRootPath)};FileTreeViewModel.prototype.getChildDirectories=function(parent){var treeData=this._treeData,objectPath=_filePathToObjectPath(treeData,parent);if(!objectPath){return}var children;if(objectPath.length===0){children=this._treeData}else{objectPath.push("children");children=this._treeData.getIn(objectPath)}return _getChildDirectories(children,parent)};function _setIn(treeData,objectPath,newValue){return treeData.updateIn(objectPath,function(oldValue){return newValue})}function _moveMarker(treeData,markerName,oldPath,newPath){var objectPath;if(newPath){objectPath=_filePathToObjectPath(treeData,newPath)}var newTreeData=treeData;if(oldPath&&oldPath!==newPath){var lastObjectPath=_filePathToObjectPath(treeData,oldPath);if(lastObjectPath){newTreeData=newTreeData.updateIn(lastObjectPath,function(entry){return entry.delete(markerName)})}}if(newPath&&objectPath&&objectPath.length!==0){newTreeData=newTreeData.updateIn(objectPath,function(entry){return entry.set(markerName,true)})}return newTreeData}FileTreeViewModel.prototype.moveMarker=function(markerName,oldPath,newPath){var newTreeData=_moveMarker(this._treeData,markerName,oldPath,newPath),selectionViewInfo=this._selectionViewInfo;if(markerName==="selected"){selectionViewInfo=selectionViewInfo.set("hasSelection",!!newPath)}else if(markerName==="context"){selectionViewInfo=selectionViewInfo.set("hasContext",!!newPath)}this._commit(newTreeData,selectionViewInfo)};FileTreeViewModel.prototype.renameItem=function(currentPath,newName){var treeData=this._treeData,objectPath=_filePathToObjectPath(treeData,currentPath);if(!objectPath){return}var originalName=_.last(objectPath),currentObject=treeData.getIn(objectPath);objectPath.pop();treeData=treeData.updateIn(objectPath,function(directory){directory=directory.delete(originalName);directory=directory.set(newName,currentObject);return directory});this._commit(treeData)};function _setDirectoryOpen(treeData,path,open){var objectPath=_filePathToObjectPath(treeData,path),directory=treeData.getIn(objectPath);if(!objectPath){return{needsLoading:true,treeData:treeData}}if(isFile(directory)){return}var alreadyOpen=directory.get("open")===true;if(alreadyOpen&&open||!alreadyOpen&&!open){return}treeData=treeData.updateIn(objectPath,function(directory){if(open){return directory.set("open",true)}else{return directory.delete("open")}});if(open&&(directory.get("children")===null||directory.get("notFullyLoaded"))){return{needsLoading:true,treeData:treeData}}return{needsLoading:false,treeData:treeData}}FileTreeViewModel.prototype.setDirectoryOpen=function(path,open){var result=_setDirectoryOpen(this._treeData,path,open);if(result&&result.treeData){this._commit(result.treeData)}return result?result.needsLoading:false};FileTreeViewModel.prototype._getObject=function(path){var objectPath=_filePathToObjectPath(this._treeData,path);if(!objectPath){return null}return this._treeData.getIn(objectPath)};function _closeSubtree(directory){directory=directory.delete("open");var children=directory.get("children");if(children){children.keySeq().forEach(function(name){var subdir=children.get(name);if(!isFile(subdir)){subdir=_closeSubtree(subdir);children=children.set(name,subdir)}})}directory=directory.set("children",children);return directory}FileTreeViewModel.prototype.closeSubtree=function(path){var treeData=this._treeData,subtreePath=_filePathToObjectPath(treeData,path);if(!subtreePath){return}var directory=treeData.getIn(subtreePath);directory=_closeSubtree(directory);treeData=_setIn(treeData,subtreePath,directory);this._commit(treeData)};function _mergeContentsIntoChildren(children,contents){var keysSeen=[];children=children.withMutations(function(children){contents.forEach(function(entry){keysSeen.push(entry.name);var match=children.get(entry.name);if(match){var matchIsFile=isFile(match);if(matchIsFile!==entry.isFile){match=undefined}}if(!match){if(entry.isFile){children.set(entry.name,Immutable.Map())}else{children.set(entry.name,Immutable.Map({children:null}))}}});var currentEntries=children.keySeq().toJS(),deletedEntries=_.difference(currentEntries,keysSeen);deletedEntries.forEach(function(name){children.delete(name)})});return children}function _createNotFullyLoadedDirectory(directory){if(!directory){return Immutable.Map({notFullyLoaded:true,children:Immutable.Map()})}return directory.merge({notFullyLoaded:true,children:Immutable.Map()})}function _createIntermediateDirectories(treeData,path){var objectPath=[],result={objectPath:objectPath,treeData:treeData},treePointer=treeData;if(path===""){return result}var parts=path.split("/"),part=parts.shift(),node;while(part){if(treePointer===null){return null}node=treePointer.get(part);objectPath.push(part);if(node===undefined){treeData=treeData.updateIn(objectPath,_createNotFullyLoadedDirectory);node=treeData.getIn(objectPath)}part=parts.shift();if(part){treePointer=node.get("children");if(treePointer){objectPath.push("children")}else{treeData=treeData.updateIn(objectPath,_createNotFullyLoadedDirectory);objectPath.push("children");treePointer=treeData.getIn(objectPath)}}}result.treeData=treeData;return result}FileTreeViewModel.prototype.setDirectoryContents=function(path,contents){path=FileUtils.stripTrailingSlash(path);var intermediate=_createIntermediateDirectories(this._treeData,path),objectPath=intermediate.objectPath,treeData=intermediate.treeData;if(objectPath===null){return}var directory=treeData.getIn(objectPath),children=directory;if(path!==""){if(isFile(directory)){return}if(directory.get("notFullyLoaded")){directory=directory.delete("notFullyLoaded")}if(!directory.get("children")){directory=directory.set("children",Immutable.Map())}treeData=_setIn(treeData,objectPath,directory);objectPath.push("children");children=directory.get("children")}children=_mergeContentsIntoChildren(children,contents);treeData=_setIn(treeData,objectPath,children);this._commit(treeData)};function _openPath(treeData,path){var objectPath=_filePathToObjectPath(treeData,path);function setOpen(node){return node.set("open",true)}while(objectPath&&objectPath.length){var node=treeData.getIn(objectPath);if(isFile(node)){objectPath.pop()}else{if(!node.get("open")){treeData=treeData.updateIn(objectPath,setOpen)}objectPath.pop();if(objectPath.length){objectPath.pop()}}}return treeData}FileTreeViewModel.prototype.openPath=function(path){this._commit(_openPath(this._treeData,path))};function _createPlaceholder(treeData,basedir,name,isFolder,options){options=options||{};var parentPath=_filePathToObjectPath(treeData,basedir);if(!parentPath){return}var newObject={};if(!options.notInCreateMode){newObject.creating=true}if(isFolder){if(options.notInCreateMode){newObject.children=null}else{newObject.children=Immutable.Map()}}var newFile=Immutable.Map(newObject);if(!options.doNotOpen){treeData=_openPath(treeData,basedir)}if(parentPath.length>0){var childrenPath=_.clone(parentPath);childrenPath.push("children");treeData=treeData.updateIn(childrenPath,function(children){return children.set(name,newFile)})}else{treeData=treeData.set(name,newFile)}return treeData}FileTreeViewModel.prototype.createPlaceholder=function(basedir,name,isFolder){var treeData=_createPlaceholder(this._treeData,basedir,name,isFolder);this._commit(treeData)};function _deleteAtPath(treeData,path){var objectPath=_filePathToObjectPath(treeData,path);if(!objectPath){return}var originalName=_.last(objectPath);objectPath.pop();treeData=treeData.updateIn(objectPath,function(directory){directory=directory.delete(originalName);return directory});return treeData}FileTreeViewModel.prototype.deleteAtPath=function(path){var treeData=_deleteAtPath(this._treeData,path);if(treeData){this._commit(treeData)}};function _addTimestamp(item){return item.set("_timestamp",(new Date).getTime())}function _markAsChanged(treeData,changed){changed.forEach(function(filePath){var objectPath=_filePathToObjectPath(treeData,filePath);if(objectPath){treeData=treeData.updateIn(objectPath,_addTimestamp)}});return treeData}function _addNewEntries(treeData,added){added.forEach(function(filePath){var isFolder=_.last(filePath)==="/";filePath=isFolder?filePath.substr(0,filePath.length-1):filePath;var parentPath=FileUtils.getDirectoryPath(filePath),parentObjectPath=_filePathToObjectPath(treeData,parentPath),basename=FileUtils.getBaseName(filePath);if(parentObjectPath){var childrenPath=_.clone(parentObjectPath);childrenPath.push("children");if(treeData.getIn(childrenPath)===null){return}treeData=_createPlaceholder(treeData,parentPath,basename,isFolder,{notInCreateMode:true,doNotOpen:true})}});return treeData}FileTreeViewModel.prototype.processChanges=function(changes){var treeData=this._treeData;if(changes.changed){treeData=_markAsChanged(treeData,changes.changed)}if(changes.added){treeData=_addNewEntries(treeData,changes.added)}if(changes.removed){changes.removed.forEach(function(path){treeData=_deleteAtPath(treeData,path)})}this._commit(treeData)};FileTreeViewModel.prototype.ensureDirectoryExists=function(path){var treeData=this._treeData,pathWithoutSlash=FileUtils.stripTrailingSlash(path),parentPath=FileUtils.getDirectoryPath(pathWithoutSlash),name=pathWithoutSlash.substr(parentPath.length),targetPath=[];if(parentPath){targetPath=_filePathToObjectPath(treeData,parentPath);if(!targetPath){return}targetPath.push("children");if(!treeData.getIn(targetPath)){return}}targetPath.push(name);if(treeData.getIn(targetPath)){return}treeData=_setIn(treeData,targetPath,Immutable.Map({children:null}));this._commit(treeData)};FileTreeViewModel.prototype.setSortDirectoriesFirst=function(sortDirectoriesFirst){if(sortDirectoriesFirst!==this.sortDirectoriesFirst){this.sortDirectoriesFirst=sortDirectoriesFirst;this.trigger(EVENT_CHANGE)}};FileTreeViewModel.prototype.setSelectionWidth=function(width){var selectionViewInfo=this._selectionViewInfo;selectionViewInfo=selectionViewInfo.set("width",width);this._commit(null,selectionViewInfo)};FileTreeViewModel.prototype.setSelectionScrollerInfo=function(scrollWidth,scrollTop,scrollLeft,offsetTop){this._selectionViewInfo=this._selectionViewInfo.set("scrollWidth",scrollWidth);this._selectionViewInfo=this._selectionViewInfo.set("scrollTop",scrollTop);if(scrollLeft!==undefined){this._selectionViewInfo=this._selectionViewInfo.set("scrollLeft",scrollLeft)}if(offsetTop!==undefined){this._selectionViewInfo=this._selectionViewInfo.set("offsetTop",offsetTop)}};exports.EVENT_CHANGE=EVENT_CHANGE;exports._filePathToObjectPath=_filePathToObjectPath;exports._isFilePathVisible=_isFilePathVisible;exports._createPlaceholder=_createPlaceholder;exports.isFile=isFile;exports.FileTreeViewModel=FileTreeViewModel});define("project/ProjectModel",["require","exports","module","document/InMemoryFile","utils/EventDispatcher","file/FileUtils","thirdparty/lodash","filesystem/FileSystem","filesystem/FileSystemError","project/FileTreeViewModel","utils/Async","utils/PerfUtils","utils/ExtensionUtils"],function(require,exports,module){"use strict";var InMemoryFile=require("document/InMemoryFile"),EventDispatcher=require("utils/EventDispatcher"),FileUtils=require("file/FileUtils"),_=require("thirdparty/lodash"),FileSystem=require("filesystem/FileSystem"),FileSystemError=require("filesystem/FileSystemError"),FileTreeViewModel=require("project/FileTreeViewModel"),Async=require("utils/Async"),PerfUtils=require("utils/PerfUtils"),ExtensionUtils=require("utils/ExtensionUtils");var EVENT_CHANGE="change",EVENT_SHOULD_SELECT="select",EVENT_SHOULD_FOCUS="focus",ERROR_CREATION="creationError",ERROR_INVALID_FILENAME="invalidFilename",ERROR_NOT_IN_PROJECT="notInProject";var _exclusionList=["\\-pypreview\\.html$","\\-mdpreview\\.html$","\\.pyc$","^\\.git$","^\\.gitmodules$","^\\.svn$","^\\.DS_Store$","^Icon\\r","^Thumbs\\.db$","^\\.hg$","^CVS$","^\\.hgtags$","^\\.idea$","^\\.c9revisions$","^\\.SyncArchive$","^\\.SyncID$","^\\.SyncIgnore$","\\~$"];ExtensionUtils.supportedServerCodeRunnerFileExtensions().forEach(function(ext){_exclusionList.push("\\-"+ext+"preview\\.html$")});var _exclusionListRegEx=new RegExp(_exclusionList.join("|"))
;var defaultIgnoreGlobs=["**/(.pyc|.git|.gitmodules|.svn|.DS_Store|Thumbs.db|.hg|CVS|.hgtags|.idea|.c9revisions|.SyncArchive|.SyncID|.SyncIgnore)","**/bower_components","**/node_modules"];var _invalidChars;var _illegalFilenamesRegEx=/^(\.+|com[1-9]|lpt[1-9]|nul|con|prn|aux|)$|\.+$/i;function isValidFilename(filename,invalidChars){return!(new RegExp("["+invalidChars+"]+").test(filename)||_illegalFilenamesRegEx.test(filename))}function _shouldShowName(name){return!_exclusionListRegEx.test(name)}function shouldShow(entry){return _shouldShowName(entry.name)}var FILE_RENAMING=0,FILE_CREATING=1,RENAME_CANCELLED=2;function _pathIsFile(path){return _.last(path)!=="/"}function _getFSObject(path){if(!path){return path}else if(_pathIsFile(path)){return FileSystem.getFileForPath(path)}return FileSystem.getDirectoryForPath(path)}function _getPathFromFSObject(fsobj){if(fsobj&&fsobj.fullPath){return fsobj.fullPath}return fsobj}function doCreate(path,isFolder){var d=new $.Deferred;var name=FileUtils.getBaseName(path);if(!isValidFilename(name,_invalidChars)){return d.reject(ERROR_INVALID_FILENAME).promise()}FileSystem.resolve(path,function(err){if(!err){d.reject(FileSystemError.ALREADY_EXISTS)}else{if(isFolder){var directory=FileSystem.getDirectoryForPath(path);directory.create(function(err){if(err){d.reject(err)}else{d.resolve(directory)}})}else{var file=FileSystem.getFileForPath(path);var options={includeDefaultContent:true};FileUtils.writeText(file,"",false,options).then(function(){d.resolve(file)},d.reject)}}});return d.promise()}function ProjectModel(initial){initial=initial||{};if(initial.projectRoot){this.projectRoot=initial.projectRoot}if(initial.focused!==undefined){this._focused=initial.focused}this._viewModel=new FileTreeViewModel.FileTreeViewModel;this._viewModel.on(FileTreeViewModel.EVENT_CHANGE,function(){this.trigger(EVENT_CHANGE)}.bind(this));this._selections={}}EventDispatcher.makeEventDispatcher(ProjectModel.prototype);ProjectModel.prototype.projectRoot=null;ProjectModel.prototype._viewModel=null;ProjectModel.prototype._projectBaseUrl="";ProjectModel.prototype._selections=null;ProjectModel.prototype._focused=true;ProjectModel.prototype._currentPath=null;ProjectModel.prototype._allFilesCachePromise=null;ProjectModel.prototype.setFocused=function(focused){this._focused=focused;if(!focused){this.setSelected(null)}};ProjectModel.prototype.setSelectionWidth=function(width){this._viewModel.setSelectionWidth(width)};ProjectModel.prototype.setScrollerInfo=function(scrollWidth,scrollTop,scrollLeft,offsetTop){this._viewModel.setSelectionScrollerInfo(scrollWidth,scrollTop,scrollLeft,offsetTop)};ProjectModel.prototype.getBaseUrl=function getBaseUrl(){return this._projectBaseUrl};ProjectModel.prototype.setBaseUrl=function setBaseUrl(projectBaseUrl){if(projectBaseUrl.length>0&&projectBaseUrl[projectBaseUrl.length-1]!=="/"){projectBaseUrl+="/"}this._projectBaseUrl=projectBaseUrl;return projectBaseUrl};ProjectModel.prototype.isWithinProject=function isWithinProject(absPathOrEntry){var absPath=absPathOrEntry.fullPath||absPathOrEntry;return this.projectRoot&&absPath.indexOf(this.projectRoot.fullPath)===0};ProjectModel.prototype.makeProjectRelativeIfPossible=function makeProjectRelativeIfPossible(absPath){if(absPath&&this.isWithinProject(absPath)){return absPath.slice(this.projectRoot.fullPath.length)}return absPath};ProjectModel.prototype.getDirectoryInProject=function(path){if(path&&typeof path==="string"){if(_.last(path)!=="/"){path+="/"}}else if(path&&path.isDirectory){path=path.fullPath}else{path=null}if(!path||typeof path!=="string"||!this.isWithinProject(path)){path=this.projectRoot.fullPath}return path};ProjectModel.prototype._getAllFilesCache=function _getAllFilesCache(sort){if(!this._allFilesCachePromise){var deferred=new $.Deferred,allFiles=[],allFilesVisitor=function(entry){if(shouldShow(entry)){if(entry.isFile){allFiles.push(entry)}return true}return false};this._allFilesCachePromise=deferred.promise();var projectIndexTimer=PerfUtils.markStart("Creating project files cache: "+this.projectRoot.fullPath),options={sortList:sort};this.projectRoot.visit(allFilesVisitor,options,function(err){if(err){PerfUtils.finalizeMeasurement(projectIndexTimer);deferred.reject(err)}else{PerfUtils.addMeasurement(projectIndexTimer);deferred.resolve(allFiles)}}.bind(this))}return this._allFilesCachePromise};ProjectModel.prototype.getAllFiles=function getAllFiles(filter,additionalFiles,sort){if(additionalFiles===undefined&&typeof filter!=="function"){additionalFiles=filter;filter=null}var filteredFilesDeferred=new $.Deferred;this._getAllFilesCache(sort).done(function(result){if(additionalFiles){additionalFiles.forEach(function(file){if(result.indexOf(file)===-1&&!(file instanceof InMemoryFile)){result.push(file)}})}if(filter){result=result.filter(filter)}try{filteredFilesDeferred.resolve(result)}catch(e){console.error("Unhandled exception in getAllFiles handler: "+e,e.stack)}}).fail(function(err){try{filteredFilesDeferred.reject(err)}catch(e){console.error("Unhandled exception in getAllFiles handler: "+e,e.stack)}});return filteredFilesDeferred.promise()};ProjectModel.prototype._resetCache=function _resetCache(){this._allFilesCachePromise=null};ProjectModel.prototype.setProjectRoot=function(projectRoot){this.projectRoot=projectRoot;this._resetCache();this._viewModel._rootChanged();var d=new $.Deferred,self=this;projectRoot.getContents(function(err,contents){if(err){d.reject(err)}else{self._viewModel.setDirectoryContents("",contents);d.resolve()}});return d.promise()};ProjectModel.prototype._getDirectoryContents=function(path){var d=new $.Deferred;FileSystem.getDirectoryForPath(path).getContents(function(err,contents){if(err){d.reject(err)}else{d.resolve(contents)}});return d.promise()};ProjectModel.prototype.setDirectoryOpen=function(path,open){var projectRelative=this.makeProjectRelativeIfPossible(path),needsLoading=!this._viewModel.isPathLoaded(projectRelative),d=new $.Deferred,self=this;function onSuccess(contents){if(contents){self._viewModel.setDirectoryContents(projectRelative,contents)}if(open){self._viewModel.openPath(projectRelative);if(self._focused){var currentPathInProject=self.makeProjectRelativeIfPossible(self._currentPath);if(self._viewModel.isFilePathVisible(currentPathInProject)){self.setSelected(self._currentPath,true)}else{self.setSelected(null)}}}else{self._viewModel.setDirectoryOpen(projectRelative,false);var selected=self._selections.selected;if(selected){var relativeSelected=self.makeProjectRelativeIfPossible(selected);if(!self._viewModel.isFilePathVisible(relativeSelected)){self.setSelected(null)}}}d.resolve()}if(open&&needsLoading){var parentDirectory=FileUtils.getDirectoryPath(FileUtils.stripTrailingSlash(path));this.setDirectoryOpen(parentDirectory,true).then(function(){self._getDirectoryContents(path).then(onSuccess).fail(function(err){d.reject(err)})},function(err){d.reject(err)})}else{onSuccess()}return d.promise()};ProjectModel.prototype.showInTree=function(path){var d=new $.Deferred;path=_getPathFromFSObject(path);if(!this.isWithinProject(path)){return d.resolve().promise()}var parentDirectory=FileUtils.getDirectoryPath(path),self=this;this.setDirectoryOpen(parentDirectory,true).then(function(){if(_pathIsFile(path)){self.setSelected(path)}d.resolve()},function(err){d.reject(err)});return d.promise()};ProjectModel.prototype.setSelected=function(path,doNotOpen){path=_getPathFromFSObject(path);if(!_pathIsFile(path)){return}var oldProjectPath=this.makeProjectRelativeIfPossible(this._selections.selected),pathInProject=this.makeProjectRelativeIfPossible(path);if(path&&!this._viewModel.isFilePathVisible(pathInProject)){path=null;pathInProject=null}this.performRename();this._viewModel.moveMarker("selected",oldProjectPath,pathInProject);if(this._selections.context){this._viewModel.moveMarker("context",this.makeProjectRelativeIfPossible(this._selections.context),null);delete this._selections.context}var previousSelection=this._selections.selected;this._selections.selected=path;if(path){if(!doNotOpen){this.trigger(EVENT_SHOULD_SELECT,{path:path,previousPath:previousSelection,hadFocus:this._focused})}this.trigger(EVENT_SHOULD_FOCUS)}};ProjectModel.prototype.getSelected=function(){return _getFSObject(this._selections.selected)};ProjectModel.prototype.setCurrentFile=function(curFile){this._currentPath=_getPathFromFSObject(curFile)};ProjectModel.prototype.selectInWorkingSet=function(path){this.performRename();this.trigger(EVENT_SHOULD_SELECT,{path:path,add:true})};ProjectModel.prototype.setContext=function(path,_doNotRename,_saveContext){if(_saveContext){if(!path){this._selections.previousContext=this._selections.context}else{this._selections.previousContext=path}}else{delete this._selections.previousContext}path=_getPathFromFSObject(path);if(!_doNotRename){this.performRename()}var currentContext=this._selections.context;this._selections.context=path;this._viewModel.moveMarker("context",this.makeProjectRelativeIfPossible(currentContext),this.makeProjectRelativeIfPossible(path))};ProjectModel.prototype.restoreContext=function(){if(this._selections.previousContext){this.setContext(this._selections.previousContext)}};ProjectModel.prototype.getContext=function(){return _getFSObject(this._selections.context)};ProjectModel.prototype.startRename=function(path){var d=new $.Deferred;path=_getPathFromFSObject(path);if(!path){path=this._selections.context;if(!path){return d.resolve().promise()}}if(this._selections.rename&&this._selections.rename.path===path){return}if(!this.isWithinProject(path)){return d.reject({type:ERROR_NOT_IN_PROJECT,isFolder:!_pathIsFile(path),fullPath:path}).promise()}var projectRelativePath=this.makeProjectRelativeIfPossible(path);if(!this._viewModel.isFilePathVisible(projectRelativePath)){this.showInTree(path)}if(path!==this._selections.context){this.setContext(path)}else{this.performRename()}this._viewModel.moveMarker("rename",null,projectRelativePath);this._selections.rename={deferred:d,type:FILE_RENAMING,path:path,newName:FileUtils.getBaseName(path)};return d.promise()};ProjectModel.prototype.setRenameValue=function(name){if(!this._selections.rename){return}this._selections.rename.newName=name};ProjectModel.prototype.cancelRename=function(){var renameInfo=this._selections.rename;if(!renameInfo){return}if(renameInfo.type===FILE_CREATING){this._cancelCreating();return}this._viewModel.moveMarker("rename",this.makeProjectRelativeIfPossible(renameInfo.path),null);renameInfo.deferred.resolve(RENAME_CANCELLED);delete this._selections.rename;this.setContext(null)};function _renameItem(oldPath,newPath,newName,isFolder){var result=new $.Deferred;if(oldPath===newPath){result.resolve()}else if(!isValidFilename(newName,_invalidChars)){result.reject(ERROR_INVALID_FILENAME)}else{var entry=isFolder?FileSystem.getDirectoryForPath(oldPath):FileSystem.getFileForPath(oldPath);entry.rename(newPath,function(err){if(err){result.reject(err)}else{result.resolve()}})}return result.promise()}ProjectModel.prototype._renameItem=function(oldPath,newPath,newName){return _renameItem(oldPath,newPath,newName,!_pathIsFile(oldPath))};ProjectModel.prototype.performRename=function(){var renameInfo=this._selections.rename;if(!renameInfo){return}var oldPath=renameInfo.path,isFolder=renameInfo.isFolder||!_pathIsFile(oldPath),oldProjectPath=this.makeProjectRelativeIfPossible(oldPath),parentDirectory=FileUtils.getDirectoryPath(isFolder?FileUtils.stripTrailingSlash(oldPath):oldPath),oldName=FileUtils.getBaseName(oldPath),newName=renameInfo.newName,newPath=parentDirectory+newName,viewModel=this._viewModel,self=this;if(renameInfo.type!==FILE_CREATING&&oldName===newName){this.cancelRename();return}if(isFolder){newPath+="/"}delete this._selections.rename;delete this._selections.context;viewModel.moveMarker("rename",oldProjectPath,null);viewModel.moveMarker("context",oldProjectPath,null);viewModel.moveMarker("creating",oldProjectPath,null);function finalizeRename(){viewModel.renameItem(oldProjectPath,newName);if(self._selections.selected&&self._selections.selected.indexOf(oldPath)===0){self._selections.selected=newPath+self._selections.selected.slice(oldPath.length)}}if(renameInfo.type===FILE_CREATING){this.createAtPath(newPath).done(function(entry){finalizeRename();renameInfo.deferred.resolve(entry)}).fail(function(error){self._viewModel.deleteAtPath(self.makeProjectRelativeIfPossible(renameInfo.path));renameInfo.deferred.reject(error)})}else{this._renameItem(oldPath,newPath,newName).then(function(){finalizeRename();renameInfo.deferred.resolve({newPath:newPath})}).fail(function(errorType){var errorInfo={type:errorType,isFolder:isFolder,fullPath:oldPath};renameInfo.deferred.reject(errorInfo)})}};ProjectModel.prototype.createAtPath=function(path){var isFolder=!_pathIsFile(path),name=FileUtils.getBaseName(path),self=this;return doCreate(path,isFolder).done(function(entry){if(!isFolder){self.selectInWorkingSet(entry.fullPath)}}).fail(function(error){self.trigger(ERROR_CREATION,{type:error,name:name,isFolder:isFolder})})};ProjectModel.prototype.startCreating=function(basedir,newName,isFolder){this.performRename();var d=new $.Deferred,self=this;this.setDirectoryOpen(basedir,true).then(function(){self._viewModel.createPlaceholder(self.makeProjectRelativeIfPossible(basedir),newName,isFolder);var promise=self.startRename(basedir+newName);self._selections.rename.type=FILE_CREATING;if(isFolder){self._selections.rename.isFolder=isFolder}promise.then(d.resolve).fail(d.reject)}).fail(function(err){d.reject(err)});return d.promise()};ProjectModel.prototype._cancelCreating=function(){var renameInfo=this._selections.rename;if(!renameInfo||renameInfo.type!==FILE_CREATING){return}this._viewModel.deleteAtPath(this.makeProjectRelativeIfPossible(renameInfo.path));renameInfo.deferred.resolve(RENAME_CANCELLED);delete this._selections.rename;this.setContext(null)};ProjectModel.prototype.setSortDirectoriesFirst=function(sortDirectoriesFirst){this._viewModel.setSortDirectoriesFirst(sortDirectoriesFirst)};ProjectModel.prototype.getOpenNodes=function(){return this._viewModel.getOpenNodes(this.projectRoot.fullPath)};ProjectModel.prototype.reopenNodes=function(nodesByDepth){var deferred=new $.Deferred;if(!nodesByDepth||nodesByDepth.length===0){return deferred.resolve().promise()}else{var self=this;return Async.doSequentially(nodesByDepth,function(toOpenPaths){return Async.doInParallel(toOpenPaths,function(path){return self._getDirectoryContents(path).then(function(contents){var relative=self.makeProjectRelativeIfPossible(path);self._viewModel.setDirectoryContents(relative,contents);self._viewModel.setDirectoryOpen(relative,true)})},false)})}};ProjectModel.prototype.refresh=function(){var projectRoot=this.projectRoot,openNodes=this.getOpenNodes(),self=this,selections=this._selections,viewModel=this._viewModel,deferred=new $.Deferred;this.setProjectRoot(projectRoot).then(function(){self.reopenNodes(openNodes).then(function(){if(selections.selected){viewModel.moveMarker("selected",null,self.makeProjectRelativeIfPossible(selections.selected))}if(selections.context){viewModel.moveMarker("context",null,self.makeProjectRelativeIfPossible(selections.context))}if(selections.rename){viewModel.moveMarker("rename",null,self.makeProjectRelativeIfPossible(selections.rename))}deferred.resolve()})});return deferred.promise()};ProjectModel.prototype.handleFSEvent=function(entry,added,removed){this._resetCache();if(!entry){this.refresh();return}if(!this.isWithinProject(entry)){return}var changes={},self=this;if(entry.isFile){changes.changed=[this.makeProjectRelativeIfPossible(entry.fullPath)]}else{if(!added&&!removed){entry.getContents(function(err,contents){if(err){console.error("Unexpected error refreshing file tree for directory "+entry.fullPath+": "+err,err.stack);return}self._viewModel.setDirectoryContents(self.makeProjectRelativeIfPossible(entry.fullPath),contents)});return}}if(added){changes.added=added.map(function(entry){return self.makeProjectRelativeIfPossible(entry.fullPath)})}if(removed){if(this._selections.selected&&_.find(removed,{fullPath:this._selections.selected})){this.setSelected(null)}if(this._selections.rename&&_.find(removed,{fullPath:this._selections.rename.path})){this.cancelRename()}if(this._selections.context&&_.find(removed,{fullPath:this._selections.context})){this.setContext(null)}changes.removed=removed.map(function(entry){return self.makeProjectRelativeIfPossible(entry.fullPath)})}this._viewModel.processChanges(changes)};ProjectModel.prototype.closeSubtree=function(path){this._viewModel.closeSubtree(this.makeProjectRelativeIfPossible(path))};ProjectModel.prototype.toggleSubdirectories=function(path,openOrClose){var self=this,d=new $.Deferred;this.setDirectoryOpen(path,true).then(function(){var projectRelativePath=self.makeProjectRelativeIfPossible(path),childNodes=self._viewModel.getChildDirectories(projectRelativePath);Async.doInParallel(childNodes,function(node){return self.setDirectoryOpen(path+node,openOrClose)},true).then(function(){d.resolve()},function(err){d.reject(err)})});return d.promise()};function _ensureTrailingSlash(fullPath){if(_pathIsFile(fullPath)){return fullPath+"/"}return fullPath}function _getWelcomeProjectPath(sampleUrl,initialPath){if(sampleUrl){initialPath=initialPath.substr(0,initialPath.lastIndexOf("/"))+"/samples/"+sampleUrl}return _ensureTrailingSlash(initialPath)}function _addWelcomeProjectPath(path,currentProjects){var pathNoSlash=FileUtils.stripTrailingSlash(path);var newProjects;if(currentProjects){newProjects=_.clone(currentProjects)}else{newProjects=[]}if(newProjects.indexOf(pathNoSlash)===-1){newProjects.push(pathNoSlash)}return newProjects}function _isWelcomeProjectPath(path,welcomeProjectPath,welcomeProjects){if(path===welcomeProjectPath){return true}if(!welcomeProjects){return false}var pathNoSlash=FileUtils.stripTrailingSlash(path);return welcomeProjects.indexOf(pathNoSlash)!==-1}if(brackets.platform==="mac"){_invalidChars="?*|:/"}else if(brackets.platform==="linux"){_invalidChars="?*|/"}else{_invalidChars='/?*:<>\\|"'}exports._getWelcomeProjectPath=_getWelcomeProjectPath;exports._addWelcomeProjectPath=_addWelcomeProjectPath;exports._isWelcomeProjectPath=_isWelcomeProjectPath;exports._ensureTrailingSlash=_ensureTrailingSlash;exports._shouldShowName=_shouldShowName;exports._invalidChars=_invalidChars;exports.shouldShow=shouldShow;exports.defaultIgnoreGlobs=defaultIgnoreGlobs;exports.isValidFilename=isValidFilename;exports.EVENT_CHANGE=EVENT_CHANGE;exports.EVENT_SHOULD_SELECT=EVENT_SHOULD_SELECT;exports.EVENT_SHOULD_FOCUS=EVENT_SHOULD_FOCUS;exports.ERROR_CREATION=ERROR_CREATION;exports.ERROR_INVALID_FILENAME=ERROR_INVALID_FILENAME;exports.ERROR_NOT_IN_PROJECT=ERROR_NOT_IN_PROJECT;exports.FILE_RENAMING=FILE_RENAMING;exports.FILE_CREATING=FILE_CREATING;exports.RENAME_CANCELLED=RENAME_CANCELLED;exports.doCreate=doCreate;exports.ProjectModel=ProjectModel});!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!u&&s)return s(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";var r=e(35),o=e(45),a=e(61),i=e(23),u=e(104),s={};i(s,a),i(s,{findDOMNode:u("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:u("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:u("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:u("renderToString","ReactDOMServer","react-dom/server",o,o.renderToString),renderToStaticMarkup:u("renderToStaticMarkup","ReactDOMServer","react-dom/server",o,o.renderToStaticMarkup)}),s.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,s.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o,t.exports=s},{104:104,23:23,35:35,45:45,61:61}],2:[function(e,t,n){"use strict";var r=e(63),o=e(106),a=e(136),i={componentDidMount:function(){this.props.autoFocus&&a(o(this))}},u={Mixin:i,focusDOMComponent:function(){a(r.getNode(this._rootNodeID))}};t.exports=u},{106:106,136:136,63:63}],3:[function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function a(e){switch(e){case w.topCompositionStart:return R.compositionStart;case w.topCompositionEnd:return R.compositionEnd;case w.topCompositionUpdate:return R.compositionUpdate}}function i(e,t){return e===w.topKeyDown&&t.keyCode===_}function u(e,t){switch(e){case w.topKeyUp:return-1!==b.indexOf(t.keyCode);case w.topKeyDown:return t.keyCode!==_;case w.topKeyPress:case w.topMouseDown:case w.topBlur:return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r,o){var l,c;if(E?l=a(e):S?u(e,r)&&(l=R.compositionEnd):i(e,r)&&(l=R.compositionStart),!l)return null;M&&(S||l!==R.compositionStart?l===R.compositionEnd&&S&&(c=S.getData()):S=m.getPooled(t));var p=g.getPooled(l,n,r,o);if(c)p.data=c;else{var d=s(r);null!==d&&(p.data=d)}return h.accumulateTwoPhaseDispatches(p),p}function c(e,t){switch(e){case w.topCompositionEnd:return s(t);case w.topKeyPress:var n=t.which;return n!==N?null:(I=!0,P);case w.topTextInput:var r=t.data;return r===P&&I?null:r;default:return null}}function p(e,t){if(S){if(e===w.topCompositionEnd||u(e,t)){var n=S.getData();return m.release(S),S=null,n}return null}switch(e){case w.topPaste:return null;case w.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case w.topCompositionEnd:return M?null:t.data;default:return null}}function d(e,t,n,r,o){var a;if(a=D?c(e,r):p(e,r),!a)return null;var i=y.getPooled(R.beforeInput,n,r,o);return i.data=a,h.accumulateTwoPhaseDispatches(i),i}var f=e(15),h=e(19),v=e(128),m=e(20),g=e(88),y=e(92),C=e(146),b=[9,13,27,32],_=229,E=v.canUseDOM&&"CompositionEvent"in window,x=null;v.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var D=v.canUseDOM&&"TextEvent"in window&&!x&&!r(),M=v.canUseDOM&&(!E||x&&x>8&&11>=x),N=32,P=String.fromCharCode(N),w=f.topLevelTypes,R={beforeInput:{phasedRegistrationNames:{bubbled:C({onBeforeInput:null}),captured:C({onBeforeInputCapture:null})},dependencies:[w.topCompositionEnd,w.topKeyPress,w.topTextInput,w.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:C({onCompositionEnd:null}),captured:C({onCompositionEndCapture:null})},dependencies:[w.topBlur,w.topCompositionEnd,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:C({onCompositionStart:null}),captured:C({onCompositionStartCapture:null})},dependencies:[w.topBlur,w.topCompositionStart,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:C({onCompositionUpdate:null}),captured:C({onCompositionUpdateCapture:null})},dependencies:[w.topBlur,w.topCompositionUpdate,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]}},I=!1,S=null,T={eventTypes:R,extractEvents:function(e,t,n,r,o){return[l(e,t,n,r,o),d(e,t,n,r,o)]}};t.exports=T},{128:128,146:146,15:15,19:19,20:20,88:88,92:92}],4:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){a.forEach(function(t){o[r(t,e)]=o[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},u={isUnitlessNumber:o,shorthandPropertyExpansions:i};t.exports=u},{}],5:[function(e,t,n){"use strict";var r=e(4),o=e(128),a=e(69),i=(e(130),e(103)),u=e(141),s=e(148),l=(e(151),s(function(e){return u(e)})),c=!1,p="cssFloat";if(o.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(f){c=!0}void 0===document.documentElement.style.cssFloat&&(p="styleFloat")}var h={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=l(n)+":",t+=i(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=i(o,t[o]);if("float"===o&&(o=p),a)n[o]=a;else{var u=c&&r.shorthandPropertyExpansions[o];if(u)for(var s in u)n[s]="";else n[o]=""}}}};a.measureMethods(h,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=h},{103:103,128:128,130:130,141:141,148:148,151:151,4:4,69:69}],6:[function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=e(24),a=e(23),i=e(142);a(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?i(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),t.exports=r},{142:142,23:23,24:24}],7:[function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=x.getPooled(R.change,S,e,D(e));b.accumulateTwoPhaseDispatches(t),E.batchedUpdates(a,t)}function a(e){C.enqueueEvents(e),C.processEventQueue(!1)}function i(e,t){I=e,S=t,I.attachEvent("onchange",o)}function u(){I&&(I.detachEvent("onchange",o),I=null,S=null)}function s(e,t,n){return e===w.topChange?n:void 0}function l(e,t,n){e===w.topFocus?(u(),i(t,n)):e===w.topBlur&&u()}function c(e,t){I=e,S=t,T=e.value,k=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(I,"value",L),I.attachEvent("onpropertychange",d)}function p(){I&&(delete I.value,I.detachEvent("onpropertychange",d),I=null,S=null,T=null,k=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==T&&(T=t,o(e))}}function f(e,t,n){return e===w.topInput?n:void 0}function h(e,t,n){e===w.topFocus?(p(),c(t,n)):e===w.topBlur&&p()}function v(e,t,n){return e!==w.topSelectionChange&&e!==w.topKeyUp&&e!==w.topKeyDown||!I||I.value===T?void 0:(T=I.value,S)}function m(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,n){return e===w.topClick?n:void 0}var y=e(15),C=e(16),b=e(19),_=e(128),E=e(81),x=e(90),D=e(112),M=e(117),N=e(118),P=e(146),w=y.topLevelTypes,R={change:{phasedRegistrationNames:{bubbled:P({onChange:null}),captured:P({onChangeCapture:null})},dependencies:[w.topBlur,w.topChange,w.topClick,w.topFocus,w.topInput,w.topKeyDown,w.topKeyUp,w.topSelectionChange]}},I=null,S=null,T=null,k=null,O=!1;_.canUseDOM&&(O=M("change")&&(!("documentMode"in document)||document.documentMode>8));var A=!1;_.canUseDOM&&(A=M("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return k.get.call(this)},set:function(e){T=""+e,k.set.call(this,e)}},U={eventTypes:R,extractEvents:function(e,t,n,o,a){var i,u;if(r(t)?O?i=s:u=l:N(t)?A?i=f:(i=v,u=h):m(t)&&(i=g),i){var c=i(e,t,n);if(c){var p=x.getPooled(R.change,c,o,a);return p.type="change",b.accumulateTwoPhaseDispatches(p),p}}u&&u(e,t,n)}};t.exports=U},{112:112,117:117,118:118,128:128,146:146,15:15,16:16,19:19,81:81,90:90}],8:[function(e,t,n){"use strict";var r=0,o={createReactRootIndex:function(){return r++}};t.exports=o},{}],9:[function(e,t,n){"use strict";function r(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var o=e(12),a=e(65),i=e(69),u=e(122),s=e(123),l=e(142),c={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(e,t){for(var n,i=null,c=null,p=0;p<e.length;p++)if(n=e[p],n.type===a.MOVE_EXISTING||n.type===a.REMOVE_NODE){var d=n.fromIndex,f=n.parentNode.childNodes[d],h=n.parentID;f?void 0:l(!1),i=i||{},i[h]=i[h]||[],i[h][d]=f,c=c||[],c.push(f)}var v;if(v=t.length&&"string"==typeof t[0]?o.dangerouslyRenderMarkup(t):t,c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);for(var g=0;g<e.length;g++)switch(n=e[g],n.type){case a.INSERT_MARKUP:r(n.parentNode,v[n.markupIndex],n.toIndex);break;case a.MOVE_EXISTING:r(n.parentNode,i[n.parentID][n.fromIndex],n.toIndex);break;case a.SET_MARKUP:u(n.parentNode,n.content);break;case a.TEXT_CONTENT:s(n.parentNode,n.content);break;case a.REMOVE_NODE:}}};i.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=c},{12:12,122:122,123:123,142:142,65:65,69:69}],10:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e(142),a={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=a,n=e.Properties||{},i=e.DOMAttributeNamespaces||{},s=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&u._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){u.properties.hasOwnProperty(p)?o(!1):void 0;var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseAttribute:r(f,t.MUST_USE_ATTRIBUTE),mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasSideEffects:r(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.mustUseAttribute&&h.mustUseProperty?o(!1):void 0,!h.mustUseProperty&&h.hasSideEffects?o(!1):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o(!1),s.hasOwnProperty(p)){var v=s[p];h.attributeName=v}i.hasOwnProperty(p)&&(h.attributeNamespace=i[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),u.properties[p]=h}}},i={},u={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var n=u._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=i[e];return r||(i[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:a};t.exports=u},{142:142}],11:[function(e,t,n){"use strict";function r(e){return c.hasOwnProperty(e)?!0:l.hasOwnProperty(e)?!1:s.test(e)?(c[e]=!0,!0):(l[e]=!0,!1)}function o(e,t){
return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var a=e(10),i=e(69),u=e(120),s=(e(151),/^[a-zA-Z_][\w\.\-]*$/),l={},c={},p={createMarkupForID:function(e){return a.ID_ATTRIBUTE_NAME+"="+u(e)},setAttributeForID:function(e,t){e.setAttribute(a.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+u(t)}return a.isCustomAttribute(e)?null==t?"":e+"="+u(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+u(t):""},setValueForProperty:function(e,t,n){var r=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(r){var i=r.mutationMethod;if(i)i(e,n);else if(o(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute){var u=r.attributeName,s=r.attributeNamespace;s?e.setAttributeNS(s,u,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(u,""):e.setAttribute(u,""+n)}else{var l=r.propertyName;r.hasSideEffects&&""+e[l]==""+n||(e[l]=n)}}else a.isCustomAttribute(t)&&p.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var o=n.propertyName,i=a.getDefaultValueForProperty(e.nodeName,o);n.hasSideEffects&&""+e[o]===i||(e[o]=i)}}else a.isCustomAttribute(t)&&e.removeAttribute(t)}};i.measureMethods(p,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=p},{10:10,120:120,151:151,69:69}],12:[function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=e(128),a=e(133),i=e(134),u=e(138),s=e(142),l=/^(<[^ \/>]+)/,c="data-danger-index",p={dangerouslyRenderMarkup:function(e){o.canUseDOM?void 0:s(!1);for(var t,n={},p=0;p<e.length;p++)e[p]?void 0:s(!1),t=r(e[p]),t=u(t)?t:"*",n[t]=n[t]||[],n[t][p]=e[p];var d=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var h,v=n[t];for(h in v)if(v.hasOwnProperty(h)){var m=v[h];v[h]=m.replace(l,"$1 "+c+'="'+h+'" ')}for(var g=a(v.join(""),i),y=0;y<g.length;++y){var C=g[y];C.hasAttribute&&C.hasAttribute(c)&&(h=+C.getAttribute(c),C.removeAttribute(c),d.hasOwnProperty(h)?s(!1):void 0,d[h]=C,f+=1)}}return f!==d.length?s(!1):void 0,d.length!==e.length?s(!1):void 0,d},dangerouslyReplaceNodeWithMarkup:function(e,t){o.canUseDOM?void 0:s(!1),t?void 0:s(!1),"html"===e.tagName.toLowerCase()?s(!1):void 0;var n;n="string"==typeof t?a(t,i)[0]:t,e.parentNode.replaceChild(n,e)}};t.exports=p},{128:128,133:133,134:134,138:138,142:142}],13:[function(e,t,n){"use strict";var r=e(146),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},{146:146}],14:[function(e,t,n){"use strict";var r=e(15),o=e(19),a=e(94),i=e(63),u=e(146),s=r.topLevelTypes,l=i.getFirstReactDOM,c={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},p=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,r,u){if(e===s.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==s.topMouseOut&&e!==s.topMouseOver)return null;var d;if(t.window===t)d=t;else{var f=t.ownerDocument;d=f?f.defaultView||f.parentWindow:window}var h,v,m="",g="";if(e===s.topMouseOut?(h=t,m=n,v=l(r.relatedTarget||r.toElement),v?g=i.getID(v):v=d,v=v||d):(h=d,v=t,g=n),h===v)return null;var y=a.getPooled(c.mouseLeave,m,r,u);y.type="mouseleave",y.target=h,y.relatedTarget=v;var C=a.getPooled(c.mouseEnter,g,r,u);return C.type="mouseenter",C.target=v,C.relatedTarget=h,o.accumulateEnterLeaveDispatches(y,C,m,g),p[0]=y,p[1]=C,p}};t.exports=d},{146:146,15:15,19:19,63:63,94:94}],15:[function(e,t,n){"use strict";var r=e(145),o=r({bubbled:null,captured:null}),a=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),i={topLevelTypes:a,PropagationPhases:o};t.exports=i},{145:145}],16:[function(e,t,n){"use strict";var r=e(17),o=e(18),a=e(54),i=e(100),u=e(108),s=e(142),l=(e(151),{}),c=null,p=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},h=null,v={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(e){h=e},getInstanceHandle:function(){return h},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n?s(!1):void 0;var o=l[t]||(l[t]={});o[e]=n;var a=r.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=l[t];o&&delete o[e]},deleteAllListeners:function(e){for(var t in l)if(l[t][e]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete l[t][e]}},extractEvents:function(e,t,n,o,a){for(var u,s=r.plugins,l=0;l<s.length;l++){var c=s[l];if(c){var p=c.extractEvents(e,t,n,o,a);p&&(u=i(u,p))}}return u},enqueueEvents:function(e){e&&(c=i(c,e))},processEventQueue:function(e){var t=c;c=null,e?u(t,d):u(t,f),c?s(!1):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=v},{100:100,108:108,142:142,151:151,17:17,18:18,54:54}],17:[function(e,t,n){"use strict";function r(){if(u)for(var e in s){var t=s[e],n=u.indexOf(e);if(n>-1?void 0:i(!1),!l.plugins[n]){t.extractEvents?void 0:i(!1),l.plugins[n]=t;var r=t.eventTypes;for(var a in r)o(r[a],t,a)?void 0:i(!1)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?i(!1):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var u=r[o];a(u,t,n)}return!0}return e.registrationName?(a(e.registrationName,t,n),!0):!1}function a(e,t,n){l.registrationNameModules[e]?i(!1):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var i=e(142),u=null,s={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){u?i(!1):void 0,u=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];s.hasOwnProperty(n)&&s[n]===o||(s[n]?i(!1):void 0,s[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){u=null;for(var e in s)s.hasOwnProperty(e)&&delete s[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{142:142}],18:[function(e,t,n){"use strict";function r(e){return e===m.topMouseUp||e===m.topTouchEnd||e===m.topTouchCancel}function o(e){return e===m.topMouseMove||e===m.topTouchMove}function a(e){return e===m.topMouseDown||e===m.topTouchStart}function i(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=v.Mount.getNode(r),t?f.invokeGuardedCallbackWithCatch(o,n,e,r):f.invokeGuardedCallback(o,n,e,r),e.currentTarget=null}function u(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)i(e,t,n[o],r[o]);else n&&i(e,t,n,r);e._dispatchListeners=null,e._dispatchIDs=null}function s(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=s(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?h(!1):void 0;var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function p(e){return!!e._dispatchListeners}var d=e(15),f=e(54),h=e(142),v=(e(151),{Mount:null,injectMount:function(e){v.Mount=e}}),m=d.topLevelTypes,g={isEndish:r,isMoveish:o,isStartish:a,executeDirectDispatch:c,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getNode:function(e){return v.Mount.getNode(e)},getID:function(e){return v.Mount.getID(e)},injection:v};t.exports=g},{142:142,15:15,151:151,54:54}],19:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return y(e,r)}function o(e,t,n){var o=t?g.bubbled:g.captured,a=r(e,n,o);a&&(n._dispatchListeners=v(n._dispatchListeners,a),n._dispatchIDs=v(n._dispatchIDs,e))}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,o,e)}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,o,e)}function u(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=y(e,r);o&&(n._dispatchListeners=v(n._dispatchListeners,o),n._dispatchIDs=v(n._dispatchIDs,e))}}function s(e){e&&e.dispatchConfig.registrationName&&u(e.dispatchMarker,null,e)}function l(e){m(e,a)}function c(e){m(e,i)}function p(e,t,n,r){h.injection.getInstanceHandle().traverseEnterLeave(n,r,u,e,t)}function d(e){m(e,s)}var f=e(15),h=e(16),v=(e(151),e(100)),m=e(108),g=f.PropagationPhases,y=h.getListener,C={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=C},{100:100,108:108,15:15,151:151,16:16}],20:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(24),a=e(23),i=e(115);a(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),a=o.length;for(e=0;r>e&&n[e]===o[e];e++);var i=r-e;for(t=1;i>=t&&n[r-t]===o[a-t];t++);var u=t>1?1-t:void 0;return this._fallbackText=o.slice(e,u),this._fallbackText}}),o.addPoolingTo(r),t.exports=r},{115:115,23:23,24:24}],21:[function(e,t,n){"use strict";var r,o=e(10),a=e(128),i=o.injection.MUST_USE_ATTRIBUTE,u=o.injection.MUST_USE_PROPERTY,s=o.injection.HAS_BOOLEAN_VALUE,l=o.injection.HAS_SIDE_EFFECTS,c=o.injection.HAS_NUMERIC_VALUE,p=o.injection.HAS_POSITIVE_NUMERIC_VALUE,d=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(a.canUseDOM){var f=document.implementation;r=f&&f.hasFeature&&f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:i|s,allowTransparency:i,alt:null,async:s,autoComplete:null,autoPlay:s,capture:i|s,cellPadding:null,cellSpacing:null,charSet:i,challenge:i,checked:u|s,classID:i,className:r?i:u,cols:i|p,colSpan:null,content:null,contentEditable:null,contextMenu:i,controls:u|s,coords:null,crossOrigin:null,data:null,dateTime:i,default:s,defer:s,dir:null,disabled:i|s,download:d,draggable:null,encType:null,form:i,formAction:i,formEncType:i,formMethod:i,formNoValidate:s,formTarget:i,frameBorder:i,headers:null,height:i,hidden:i|s,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:u,inputMode:i,integrity:null,is:i,keyParams:i,keyType:i,kind:null,label:null,lang:null,list:i,loop:u|s,low:null,manifest:i,marginHeight:null,marginWidth:null,max:null,maxLength:i,media:i,mediaGroup:null,method:null,min:null,minLength:i,multiple:u|s,muted:u|s,name:null,nonce:i,noValidate:s,open:s,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:u|s,rel:null,required:s,reversed:s,role:i,rows:i|p,rowSpan:null,sandbox:null,scope:null,scoped:s,scrolling:null,seamless:i|s,selected:u|s,shape:null,size:i|p,sizes:i,span:p,spellCheck:null,src:null,srcDoc:u,srcLang:null,srcSet:i,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:u|l,width:i,wmode:i,wrap:null,about:i,datatype:i,inlist:i,prefix:i,property:i,resource:i,typeof:i,vocab:i,autoCapitalize:i,autoCorrect:i,autoSave:null,color:null,itemProp:i,itemScope:i|s,itemType:i,itemID:i,itemRef:i,results:null,security:i,unselectable:i},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=h},{10:10,128:128}],22:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?l(!1):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?l(!1):void 0}function a(e){r(e),null!=e.checked||null!=e.onChange?l(!1):void 0}function i(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var u=e(72),s=e(71),l=e(142),c=(e(151),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},d={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](t,r,e,s.prop);o instanceof Error&&!(o.message in d)&&(d[o.message]=!0,i(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(a(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(a(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{142:142,151:151,71:71,72:72}],23:[function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var a=arguments[o];if(null!=a){var i=Object(a);for(var u in i)r.call(i,u)&&(n[u]=i[u])}}return n}t.exports=r},{}],24:[function(e,t,n){"use strict";var r=e(142),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},a=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},i=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},u=function(e,t,n,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r),a}return new o(e,t,n,r)},s=function(e,t,n,r,o){var a=this;if(a.instancePool.length){var i=a.instancePool.pop();return a.call(i,e,t,n,r,o),i}return new a(e,t,n,r,o)},l=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=l,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:a,threeArgumentPooler:i,fourArgumentPooler:u,fiveArgumentPooler:s};t.exports=f},{142:142}],25:[function(e,t,n){"use strict";var r=(e(60),e(106)),o=(e(151),"_getDOMNodeDidWarn"),a={getDOMNode:function(){return this.constructor[o]=!0,r(this)}};t.exports=a},{106:106,151:151,60:60}],26:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=h++,d[e[m]]={}),d[e[m]]}var o=e(15),a=e(16),i=e(17),u=e(55),s=e(69),l=e(99),c=e(23),p=e(117),d={},f=!1,h=0,v={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,a=r(n),u=i.registrationNameDependencies[e],s=o.topLevelTypes,l=0;l<u.length;l++){var c=u[l];a.hasOwnProperty(c)&&a[c]||(c===s.topWheel?p("wheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"wheel",n):p("mousewheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(s.topWheel,"DOMMouseScroll",n):c===s.topScroll?p("scroll",!0)?g.ReactEventListener.trapCapturedEvent(s.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(s.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===s.topFocus||c===s.topBlur?(p("focus",!0)?(g.ReactEventListener.trapCapturedEvent(s.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(s.topBlur,"blur",n)):p("focusin")&&(g.ReactEventListener.trapBubbledEvent(s.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(s.topBlur,"focusout",n)),a[s.topBlur]=!0,a[s.topFocus]=!0):v.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,v[c],n),a[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!f){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),f=!0}},eventNameDispatchConfigs:a.eventNameDispatchConfigs,registrationNameModules:a.registrationNameModules,putListener:a.putListener,getListener:a.getListener,deleteListener:a.deleteListener,deleteAllListeners:a.deleteAllListeners});s.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=g},{117:117,15:15,16:16,17:17,23:23,55:55,69:69,99:99}],27:[function(e,t,n){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=a(t,null))}var o=e(74),a=e(116),i=e(124),u=e(125),s=(e(151),{instantiateChildren:function(e,t,n){if(null==e)return null;var o={};return u(e,r,o),o},updateChildren:function(e,t,n,r){if(!t&&!e)return null;var u;for(u in t)if(t.hasOwnProperty(u)){var s=e&&e[u],l=s&&s._currentElement,c=t[u];if(null!=s&&i(l,c))o.receiveComponent(s,c,n,r),t[u]=s;else{s&&o.unmountComponent(s,u);var p=a(c,null);t[u]=p}}for(u in e)!e.hasOwnProperty(u)||t&&t.hasOwnProperty(u)||o.unmountComponent(e[u]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];o.unmountComponent(n)}}});t.exports=s},{116:116,124:124,125:125,151:151,74:74}],28:[function(e,t,n){"use strict";function r(e){return(""+e).replace(b,"//")}function o(e,t){this.func=e,this.context=t,this.count=0}function a(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function i(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,a,r),o.release(r)}function u(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function s(e,t,n){var o=e.result,a=e.keyPrefix,i=e.func,u=e.context,s=i.call(u,t,e.count++);Array.isArray(s)?l(s,o,n,m.thatReturnsArgument):null!=s&&(v.isValidElement(s)&&(s=v.cloneAndReplaceKey(s,a+(s!==t?r(s.key||"")+"/":"")+n)),o.push(s))}function l(e,t,n,o,a){var i="";null!=n&&(i=r(n)+"/");var l=u.getPooled(t,i,o,a);g(e,s,l),u.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function f(e){var t=[];return l(e,t,null,m.thatReturnsArgument),t}var h=e(24),v=e(50),m=e(134),g=e(125),y=h.twoArgumentPooler,C=h.fourArgumentPooler,b=/\/(?!\/)/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(u,C);var _={forEach:i,map:c,mapIntoWithKeyPrefixInternal:l,count:d,toArray:f};t.exports=_},{125:125,134:134,24:24,50:50}],29:[function(e,t,n){"use strict";function r(e,t){var n=E.hasOwnProperty(t)?E[t]:null;D.hasOwnProperty(t)&&(n!==b.OVERRIDE_BASE?m(!1):void 0),e.hasOwnProperty(t)&&(n!==b.DEFINE_MANY&&n!==b.DEFINE_MANY_MERGED?m(!1):void 0)}function o(e,t){if(t){"function"==typeof t?m(!1):void 0,d.isValidElement(t)?m(!1):void 0;var n=e.prototype;t.hasOwnProperty(C)&&x.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==C){var a=t[o];if(r(n,o),x.hasOwnProperty(o))x[o](e,a);else{var i=E.hasOwnProperty(o),l=n.hasOwnProperty(o),c="function"==typeof a,p=c&&!i&&!l&&t.autobind!==!1;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[o]=a,n[o]=a;else if(l){var f=E[o];!i||f!==b.DEFINE_MANY_MERGED&&f!==b.DEFINE_MANY?m(!1):void 0,f===b.DEFINE_MANY_MERGED?n[o]=u(n[o],a):f===b.DEFINE_MANY&&(n[o]=s(n[o],a))}else n[o]=a}}}}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in x;o?m(!1):void 0;var a=n in e;a?m(!1):void 0,e[n]=r}}}function i(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:m(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?m(!1):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return i(o,n),i(o,r),o}}function s(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=l(e,n)}}var p=e(30),d=e(50),f=(e(71),e(70),e(67)),h=e(23),v=e(135),m=e(142),g=e(145),y=e(146),C=(e(151),y({mixins:null})),b=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),_=[],E={mixins:b.DEFINE_MANY,statics:b.DEFINE_MANY,propTypes:b.DEFINE_MANY,contextTypes:b.DEFINE_MANY,childContextTypes:b.DEFINE_MANY,getDefaultProps:b.DEFINE_MANY_MERGED,getInitialState:b.DEFINE_MANY_MERGED,getChildContext:b.DEFINE_MANY_MERGED,render:b.DEFINE_ONCE,componentWillMount:b.DEFINE_MANY,componentDidMount:b.DEFINE_MANY,componentWillReceiveProps:b.DEFINE_MANY,shouldComponentUpdate:b.DEFINE_ONCE,componentWillUpdate:b.DEFINE_MANY,componentDidUpdate:b.DEFINE_MANY,componentWillUnmount:b.DEFINE_MANY,updateComponent:b.OVERRIDE_BASE},x={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=h({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=h({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=h({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},D={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},M=function(){};h(M.prototype,p.prototype,D);var N={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindMap&&c(this),this.props=e,this.context=t,this.refs=v,this.updater=n||f,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?m(!1):void 0,this.state=r};t.prototype=new M,t.prototype.constructor=t,_.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:m(!1);for(var n in E)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){_.push(e)}}};t.exports=N},{135:135,142:142,145:145,146:146,151:151,23:23,30:30,50:50,67:67,70:70,71:71}],30:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var o=e(67),a=(e(102),e(135)),i=e(142);e(151);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?i(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};t.exports=r},{102:102,135:135,142:142,151:151,67:67}],31:[function(e,t,n){"use strict";var r=e(40),o=e(63),a={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){o.purgeID(e)}};t.exports=a},{40:40,63:63}],32:[function(e,t,n){"use strict";var r=e(142),o=!1,a={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r(!1):void 0,a.unmountIDFromEnvironment=e.unmountIDFromEnvironment,a.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,a.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=a},{142:142}],33:[function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(e){}var a=e(32),i=e(34),u=e(50),s=e(60),l=e(69),c=e(71),p=(e(70),e(74)),d=e(80),f=e(23),h=e(135),v=e(142),m=e(124);e(151);o.prototype.render=function(){var e=s.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var g=1,y={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=g++,this._rootNodeID=e;var r,a,i=this._processProps(this._currentElement.props),l=this._processContext(n),c=this._currentElement.type,f="prototype"in c;f&&(r=new c(i,l,d)),(!f||null===r||r===!1||u.isValidElement(r))&&(a=r,r=new o(c)),r.props=i,r.context=l,r.refs=h,r.updater=d,this._instance=r,s.set(r,this);var m=r.state;void 0===m&&(r.state=m=null),"object"!=typeof m||Array.isArray(m)?v(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===a&&(a=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(a);var y=p.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return r.componentDidMount&&t.getReactMountReady().enqueue(r.componentDidMount,r),y},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),p.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,s.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return h;t={};for(var o in r)t[o]=e[o];return t},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?v(!1):void 0;for(var o in r)o in t.childContextTypes?void 0:v(!1);return f({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var a in e)if(e.hasOwnProperty(a)){var i;try{"function"!=typeof e[a]?v(!1):void 0,i=e[a](t,a,o,n)}catch(u){i=u}i instanceof Error&&(r(this),n===c.prop)}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&p.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,o){
var a,i=this._instance,u=this._context===o?i.context:this._processContext(o);t===n?a=n.props:(a=this._processProps(n.props),i.componentWillReceiveProps&&i.componentWillReceiveProps(a,u));var s=this._processPendingState(a,u),l=this._pendingForceUpdate||!i.shouldComponentUpdate||i.shouldComponentUpdate(a,s,u);l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,s,u,e,o)):(this._currentElement=n,this._context=o,i.props=a,i.state=s,i.context=u)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var a=f({},o?r[0]:n.state),i=o?1:0;i<r.length;i++){var u=r[i];f(a,"function"==typeof u?u.call(n,a,e,t):u)}return a},_performComponentUpdate:function(e,t,n,r,o,a){var i,u,s,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(i=l.props,u=l.state,s=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=a,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,a),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,i,u,s),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(m(r,o))p.receiveComponent(n,o,e,this._processChildContext(t));else{var a=this._rootNodeID,i=n._rootNodeID;p.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o);var u=p.mountComponent(this._renderedComponent,a,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(i,u)}},_replaceNodeWithMarkupByID:function(e,t){a.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;i.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{i.current=null}return null===e||e===!1||u.isValidElement(e)?void 0:v(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?v(!1):void 0;var r=t.getPublicInstance(),o=n.refs===h?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof o?null:e},_instantiateReactComponent:null};l.measureMethods(y,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var C={Mixin:y};t.exports=C},{124:124,135:135,142:142,151:151,23:23,32:32,34:34,50:50,60:60,69:69,70:70,71:71,74:74,80:80}],34:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],35:[function(e,t,n){"use strict";var r=e(34),o=e(46),a=e(49),i=e(59),u=e(63),s=e(69),l=e(74),c=e(81),p=e(82),d=e(106),f=e(121);e(151);a.inject();var h=s.measure("React","render",u.render),v={findDOMNode:d,render:h,unmountComponentAtNode:u.unmountComponentAtNode,version:p,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:i,Mount:u,Reconciler:l,TextComponent:o});t.exports=v},{106:106,121:121,151:151,34:34,46:46,49:49,59:59,63:63,69:69,74:74,81:81,82:82}],36:[function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t,n){if(!t.disabled)return t;var o={};for(var a in t)t.hasOwnProperty(a)&&!r[a]&&(o[a]=t[a]);return o}};t.exports=o},{}],37:[function(e,t,n){"use strict";function r(){return this}function o(){var e=this._reactInternalComponent;return!!e}function a(){}function i(e,t){var n=this._reactInternalComponent;n&&(T.enqueueSetPropsInternal(n,e),t&&T.enqueueCallbackInternal(n,t))}function u(e,t){var n=this._reactInternalComponent;n&&(T.enqueueReplacePropsInternal(n,e),t&&T.enqueueCallbackInternal(n,t))}function s(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children?L(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&Y in t.dangerouslySetInnerHTML?void 0:L(!1)),null!=t.style&&"object"!=typeof t.style?L(!1):void 0)}function l(e,t,n,r){var o=R.findReactContainerForID(e);if(o){var a=o.nodeType===z?o.ownerDocument:o;j(t,a)}r.getReactMountReady().enqueue(c,{id:e,registrationName:t,listener:n})}function c(){var e=this;E.putListener(e.id,e.registrationName,e.listener)}function p(){var e=this;e._rootNodeID?void 0:L(!1);var t=R.getNode(e._rootNodeID);switch(t?void 0:L(!1),e._tag){case"iframe":e._wrapperState.listeners=[E.trapBubbledEvent(_.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&e._wrapperState.listeners.push(E.trapBubbledEvent(_.topLevelTypes[n],G[n],t));break;case"img":e._wrapperState.listeners=[E.trapBubbledEvent(_.topLevelTypes.topError,"error",t),E.trapBubbledEvent(_.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[E.trapBubbledEvent(_.topLevelTypes.topReset,"reset",t),E.trapBubbledEvent(_.topLevelTypes.topSubmit,"submit",t)]}}function d(){M.mountReadyWrapper(this)}function f(){P.postUpdateWrapper(this)}function h(e){J.call(Z,e)||($.test(e)?void 0:L(!1),Z[e]=!0)}function v(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){h(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var g=e(2),y=e(5),C=e(10),b=e(11),_=e(15),E=e(26),x=e(31),D=e(36),M=e(41),N=e(42),P=e(43),w=e(47),R=e(63),I=e(64),S=e(69),T=e(80),k=e(23),O=e(102),A=e(105),L=e(142),U=(e(117),e(146)),F=e(122),B=e(123),V=(e(149),e(126),e(151),E.deleteListener),j=E.listenTo,W=E.registrationNameModules,K={string:!0,number:!0},H=U({children:null}),q=U({style:null}),Y=U({__html:null}),z=1,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},$=(k({menuitem:!0},X),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),Z={},J={}.hasOwnProperty;m.displayName="ReactDOMComponent",m.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(p,this);break;case"button":r=D.getNativeProps(this,r,n);break;case"input":M.mountWrapper(this,r,n),r=M.getNativeProps(this,r,n);break;case"option":N.mountWrapper(this,r,n),r=N.getNativeProps(this,r,n);break;case"select":P.mountWrapper(this,r,n),r=P.getNativeProps(this,r,n),n=P.processChildContext(this,r,n);break;case"textarea":w.mountWrapper(this,r,n),r=w.getNativeProps(this,r,n)}s(this,r);var o;if(t.useCreateElement){var a=n[R.ownerDocumentContextKey],i=a.createElement(this._currentElement.type);b.setAttributeForID(i,this._rootNodeID),R.getID(i),this._updateDOMProperties({},r,t,i),this._createInitialChildren(t,r,n,i),o=i}else{var u=this._createOpenTagMarkupAndPutListeners(t,r),l=this._createContentMarkup(t,r,n);o=!l&&X[this._tag]?u+"/>":u+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(d,this);case"button":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(g.focusDOMComponent,this)}return o},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(W.hasOwnProperty(r))o&&l(this._rootNodeID,r,o,e);else{r===q&&(o&&(o=this._previousStyleCopy=k({},t.style)),o=y.createMarkupForStyles(o));var a=null;null!=this._tag&&v(this._tag,t)?r!==H&&(a=b.createMarkupForCustomAttribute(r,o)):a=b.createMarkupForProperty(r,o),a&&(n+=" "+a)}}if(e.renderToStaticMarkup)return n;var i=b.createMarkupForID(this._rootNodeID);return n+" "+i},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var a=K[typeof t.children]?t.children:null,i=null!=a?null:t.children;if(null!=a)r=A(a);else if(null!=i){var u=this.mountChildren(i,e,n);r=u.join("")}}return Q[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&F(r,o.__html);else{var a=K[typeof t.children]?t.children:null,i=null!=a?null:t.children;if(null!=a)B(r,a);else if(null!=i)for(var u=this.mountChildren(i,e,n),s=0;s<u.length;s++)r.appendChild(u[s])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"button":o=D.getNativeProps(this,o),a=D.getNativeProps(this,a);break;case"input":M.updateWrapper(this),o=M.getNativeProps(this,o),a=M.getNativeProps(this,a);break;case"option":o=N.getNativeProps(this,o),a=N.getNativeProps(this,a);break;case"select":o=P.getNativeProps(this,o),a=P.getNativeProps(this,a);break;case"textarea":w.updateWrapper(this),o=w.getNativeProps(this,o),a=w.getNativeProps(this,a)}s(this,a),this._updateDOMProperties(o,a,e,null),this._updateDOMChildren(o,a,e,r),!O&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=a),"select"===this._tag&&e.getReactMountReady().enqueue(f,this)},_updateDOMProperties:function(e,t,n,r){var o,a,i;for(o in e)if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o))if(o===q){var u=this._previousStyleCopy;for(a in u)u.hasOwnProperty(a)&&(i=i||{},i[a]="");this._previousStyleCopy=null}else W.hasOwnProperty(o)?e[o]&&V(this._rootNodeID,o):(C.properties[o]||C.isCustomAttribute(o))&&(r||(r=R.getNode(this._rootNodeID)),b.deleteValueForProperty(r,o));for(o in t){var s=t[o],c=o===q?this._previousStyleCopy:e[o];if(t.hasOwnProperty(o)&&s!==c)if(o===q)if(s?s=this._previousStyleCopy=k({},s):this._previousStyleCopy=null,c){for(a in c)!c.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(i=i||{},i[a]="");for(a in s)s.hasOwnProperty(a)&&c[a]!==s[a]&&(i=i||{},i[a]=s[a])}else i=s;else W.hasOwnProperty(o)?s?l(this._rootNodeID,o,s,n):c&&V(this._rootNodeID,o):v(this._tag,t)?(r||(r=R.getNode(this._rootNodeID)),o===H&&(s=null),b.setValueForAttribute(r,o,s)):(C.properties[o]||C.isCustomAttribute(o))&&(r||(r=R.getNode(this._rootNodeID)),null!=s?b.setValueForProperty(r,o,s):b.deleteValueForProperty(r,o))}i&&(r||(r=R.getNode(this._rootNodeID)),y.setValueForStyles(r,i))},_updateDOMChildren:function(e,t,n,r){var o=K[typeof e.children]?e.children:null,a=K[typeof t.children]?t.children:null,i=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=null!=o?null:e.children,l=null!=a?null:t.children,c=null!=o||null!=i,p=null!=a||null!=u;null!=s&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=a?o!==a&&this.updateTextContent(""+a):null!=u?i!==u&&this.updateMarkup(""+u):null!=l&&this.updateChildren(l,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":M.unmountWrapper(this);break;case"html":case"head":case"body":L(!1)}if(this.unmountChildren(),E.deleteAllListeners(this._rootNodeID),x.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=R.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=r,e.isMounted=o,e.setState=a,e.replaceState=a,e.forceUpdate=a,e.setProps=i,e.replaceProps=u,e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},S.measureMethods(m,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),k(m.prototype,m.Mixin,I.Mixin),t.exports=m},{10:10,102:102,105:105,11:11,117:117,122:122,123:123,126:126,142:142,146:146,149:149,15:15,151:151,2:2,23:23,26:26,31:31,36:36,41:41,42:42,43:43,47:47,5:5,63:63,64:64,69:69,80:80}],38:[function(e,t,n){"use strict";function r(e){return o.createFactory(e)}var o=e(50),a=(e(51),e(147)),i=a({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=i},{147:147,50:50,51:51}],39:[function(e,t,n){"use strict";var r={useCreateElement:!1};t.exports=r},{}],40:[function(e,t,n){"use strict";var r=e(9),o=e(11),a=e(63),i=e(69),u=e(142),s={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},l={updatePropertyByID:function(e,t,n){var r=a.getNode(e);s.hasOwnProperty(t)?u(!1):void 0,null!=n?o.setValueForProperty(r,t,n):o.deleteValueForProperty(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=a.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=a.getNode(e[n].parentID);r.processUpdates(e,t)}};i.measureMethods(l,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=l},{11:11,142:142,63:63,69:69,9:9}],41:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);s.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var a=u.getNode(this._rootNodeID),l=a;l.parentNode;)l=l.parentNode;for(var d=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),f=0;f<d.length;f++){var h=d[f];if(h!==a&&h.form===a.form){var v=u.getID(h);v?void 0:c(!1);var m=p[v];m?void 0:c(!1),s.asap(r,m)}}}return n}var a=e(40),i=e(22),u=e(63),s=e(81),l=e(23),c=e(142),p={},d={getNativeProps:function(e,t,n){var r=i.getValue(t),o=i.getChecked(t),a=l({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=o?o:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return a},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:o.bind(e)}},mountReadyWrapper:function(e){p[e._rootNodeID]=e},unmountWrapper:function(e){delete p[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&a.updatePropertyByID(e._rootNodeID,"checked",n||!1);var r=i.getValue(t);null!=r&&a.updatePropertyByID(e._rootNodeID,"value",""+r)}};t.exports=d},{142:142,22:22,23:23,40:40,63:63,81:81}],42:[function(e,t,n){"use strict";var r=e(28),o=e(43),a=e(23),i=(e(151),o.valueContextKey),u={mountWrapper:function(e,t,n){var r=n[i],o=null;if(null!=r)if(o=!1,Array.isArray(r)){for(var a=0;a<r.length;a++)if(""+r[a]==""+t.value){o=!0;break}}else o=""+r==""+t.value;e._wrapperState={selected:o}},getNativeProps:function(e,t,n){var o=a({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(o.selected=e._wrapperState.selected);var i="";return r.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e)&&(i+=e)}),o.children=i,o}};t.exports=u},{151:151,23:23,28:28,43:43}],43:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=i.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,a=u.getNode(e._rootNodeID).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<a.length;o++){var i=r.hasOwnProperty(a[o].value);a[o].selected!==i&&(a[o].selected=i)}}else{for(r=""+n,o=0;o<a.length;o++)if(a[o].value===r)return void(a[o].selected=!0);a.length&&(a[0].selected=!0)}}function a(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,s.asap(r,this),n}var i=e(22),u=e(63),s=e(81),l=e(23),c=(e(151),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),p={valueContextKey:c,getNativeProps:function(e,t,n){return l({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=i.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:a.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=l({},n);return r[c]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=i.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=p},{151:151,22:22,23:23,63:63,81:81}],44:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var a=o.text.length,i=a+r;return{start:a,end:i}}function a(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,a=t.focusNode,i=t.focusOffset,u=t.getRangeAt(0);try{u.startContainer.nodeType,u.endContainer.nodeType}catch(s){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:u.toString().length,p=u.cloneRange();p.selectNodeContents(e),p.setEnd(u.startContainer,u.startOffset);var d=r(p.startContainer,p.startOffset,p.endContainer,p.endOffset),f=d?0:p.toString().length,h=f+c,v=document.createRange();v.setStart(n,o),v.setEnd(a,i);var m=v.collapsed;return{start:m?h:f,end:m?f:h}}function i(e,t){var n,r,o=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function u(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),a="undefined"==typeof t.end?o:Math.min(t.end,r);if(!n.extend&&o>a){var i=a;a=o,o=i}var u=l(e,o),s=l(e,a);if(u&&s){var p=document.createRange();p.setStart(u.node,u.offset),n.removeAllRanges(),o>a?(n.addRange(p),n.extend(s.node,s.offset)):(p.setEnd(s.node,s.offset),n.addRange(p))}}}var s=e(128),l=e(114),c=e(115),p=s.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:a,setOffsets:p?i:u};t.exports=d},{114:114,115:115,128:128}],45:[function(e,t,n){"use strict";var r=e(49),o=e(78),a=e(82);r.inject();var i={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:a};t.exports=i},{49:49,78:78,82:82}],46:[function(e,t,n){"use strict";var r=e(9),o=e(11),a=e(31),i=e(63),u=e(23),s=e(105),l=e(123),c=(e(126),function(e){});u(c.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(this._rootNodeID=e,t.useCreateElement){var r=n[i.ownerDocumentContextKey],a=r.createElement("span");return o.setAttributeForID(a,e),i.getID(a),l(a,this._stringText),a}var u=s(this._stringText);return t.renderToStaticMarkup?u:"<span "+o.createMarkupForID(e)+">"+u+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var o=i.getNode(this._rootNodeID);r.updateTextContent(o,n)}}},unmountComponent:function(){a.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=c},{105:105,11:11,123:123,126:126,23:23,31:31,63:63,9:9}],47:[function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);return u.asap(r,this),n}var a=e(22),i=e(40),u=e(81),s=e(23),l=e(142),c=(e(151),{getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?l(!1):void 0;var r=s({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?l(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:l(!1),r=r[0]),n=""+r),null==n&&(n="");var i=a.getValue(t);e._wrapperState={initialValue:""+(null!=i?i:n),onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=a.getValue(t);null!=n&&i.updatePropertyByID(e._rootNodeID,"value",""+n)}});t.exports=c},{142:142,151:151,22:22,23:23,40:40,81:81}],48:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e(81),a=e(98),i=e(23),u=e(134),s={initialize:u,close:function(){d.isBatchingUpdates=!1}},l={initialize:u,close:o.flushBatchedUpdates.bind(o)},c=[l,s];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,a){var i=d.isBatchingUpdates;d.isBatchingUpdates=!0,i?e(t,n,r,o,a):p.perform(e,null,t,n,r,o,a)}};t.exports=d},{134:134,23:23,81:81,98:98}],49:[function(e,t,n){"use strict";function r(){M||(M=!0,g.EventEmitter.injectReactEventListener(m),g.EventPluginHub.injectEventPluginOrder(u),g.EventPluginHub.injectInstanceHandle(y),g.EventPluginHub.injectMount(C),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:s,ChangeEventPlugin:a,SelectEventPlugin:_,BeforeInputEventPlugin:o}),g.NativeComponent.injectGenericComponentClass(h),g.NativeComponent.injectTextComponentClass(v),g.Class.injectMixin(p),g.DOMProperty.injectDOMPropertyConfig(c),g.DOMProperty.injectDOMPropertyConfig(D),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(b),g.Updates.injectBatchingStrategy(f),g.RootIndex.injectCreateReactRootIndex(l.canUseDOM?i.createReactRootIndex:E.createReactRootIndex),g.Component.injectEnvironment(d))}var o=e(3),a=e(7),i=e(8),u=e(13),s=e(14),l=e(128),c=e(21),p=e(25),d=e(31),f=e(48),h=e(37),v=e(46),m=e(56),g=e(57),y=e(59),C=e(63),b=e(73),_=e(84),E=e(85),x=e(86),D=e(83),M=!1;t.exports={inject:r}},{128:128,13:13,14:14,21:21,25:25,3:3,31:31,37:37,46:46,48:48,56:56,57:57,59:59,63:63,7:7,73:73,8:8,83:83,84:84,85:85,86:86}],50:[function(e,t,n){"use strict";var r=e(34),o=e(23),a=(e(102),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),i={key:!0,ref:!0,__self:!0,__source:!0},u=function(e,t,n,r,o,i,u){var s={$$typeof:a,type:e,key:t,ref:n,props:u,_owner:i};return s};u.createElement=function(e,t,n){var o,a={},s=null,l=null,c=null,p=null;if(null!=t){l=void 0===t.ref?null:t.ref,s=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(o in t)t.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(a[o]=t[o])}var d=arguments.length-2;if(1===d)a.children=n;else if(d>1){for(var f=Array(d),h=0;d>h;h++)f[h]=arguments[h+2];a.children=f}if(e&&e.defaultProps){var v=e.defaultProps;for(o in v)"undefined"==typeof a[o]&&(a[o]=v[o])}return u(e,s,l,c,p,r.current,a)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){var n=u(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},u.cloneAndReplaceProps=function(e,t){var n=u(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n},u.cloneElement=function(e,t,n){var a,s=o({},e.props),l=e.key,c=e.ref,p=e._self,d=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,f=r.current),void 0!==t.key&&(l=""+t.key);for(a in t)t.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(s[a]=t[a])}var h=arguments.length-2;if(1===h)s.children=n;else if(h>1){for(var v=Array(h),m=0;h>m;m++)v[m]=arguments[m+2];s.children=v}return u(e.type,l,c,p,d,f,s)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.exports=u},{102:102,23:23,34:34}],51:[function(e,t,n){"use strict";function r(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){e._store&&!e._store.validated&&null==e.key&&(e._store.validated=!0,a("uniqueKey",e,t))}function a(e,t,n){var o=r();if(!o){var a="string"==typeof n?n:n.displayName||n.name;a&&(o=" Check the top-level render call using <"+a+">.")}var i=h[e]||(h[e]={});if(i[o])return null;i[o]=!0;var u={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(u.childOwner=" It was passed a child from "+t._owner.getName()+"."),u}function i(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];l.isValidElement(r)&&o(r,t)}else if(l.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var a=d(e);if(a&&a!==e.entries)for(var i,u=a.call(e);!(i=u.next()).done;)l.isValidElement(i.value)&&o(i.value,t)}}function u(e,t,n,o){for(var a in t)if(t.hasOwnProperty(a)){var i;try{"function"!=typeof t[a]?f(!1):void 0,i=t[a](n,a,e,o)}catch(u){i=u}i instanceof Error&&!(i.message in v)&&(v[i.message]=!0,r())}}function s(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&u(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps}}var l=e(50),c=e(71),p=(e(70),e(34)),d=(e(102),e(113)),f=e(142),h=(e(151),{}),v={},m={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,o=l.createElement.apply(this,arguments);if(null==o)return o;if(r)for(var a=2;a<arguments.length;a++)i(arguments[a],e);return s(o),o},createFactory:function(e){var t=m.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=l.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)i(arguments[o],r.type);return s(r),r}};t.exports=m},{102:102,113:113,142:142,151:151,34:34,50:50,70:70,71:71}],52:[function(e,t,n){"use strict";var r,o=e(50),a=e(53),i=e(74),u=e(23),s={injectEmptyComponent:function(e){r=o.createElement(e)}},l=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(r)};u(l.prototype,{construct:function(e){},mountComponent:function(e,t,n){return a.registerNullComponentID(e),this._rootNodeID=e,i.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){i.unmountComponent(this._renderedComponent),a.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=s,t.exports=l},{23:23,50:50,53:53,74:74}],53:[function(e,t,n){"use strict";function r(e){return!!i[e]}function o(e){i[e]=!0}function a(e){delete i[e]}var i={},u={isNullComponentID:r,registerNullComponentID:o,deregisterNullComponentID:a};t.exports=u},{}],54:[function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(a){return void(null===o&&(o=a))}}var o=null,a={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=a},{}],55:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(16),a={handleTopLevel:function(e,t,n,a,i){var u=o.extractEvents(e,t,n,a,i);r(u)}};t.exports=a},{16:16}],56:[function(e,t,n){"use strict";function r(e){var t=d.getID(e),n=p.getReactRootIDFromNodeID(t),r=d.findReactContainerForID(n),o=d.getFirstReactDOM(r);return o}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function a(e){i(e)}function i(e){for(var t=d.getFirstReactDOM(v(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var o=0;o<e.ancestors.length;o++){t=e.ancestors[o];var a=d.getID(t)||"";g._handleTopLevel(e.topLevelType,t,a,e.nativeEvent,v(e.nativeEvent))}}function u(e){var t=m(window);e(t)}var s=e(127),l=e(128),c=e(24),p=e(59),d=e(63),f=e(81),h=e(23),v=e(112),m=e(139);h(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?s.listen(r,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?s.capture(r,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=u.bind(null,e);s.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var n=o.getPooled(e,t);try{f.batchedUpdates(a,n)}finally{o.release(n)}}}};t.exports=g},{112:112,127:127,128:128,139:139,23:23,24:24,59:59,63:63,81:81}],57:[function(e,t,n){"use strict";var r=e(10),o=e(16),a=e(32),i=e(29),u=e(52),s=e(26),l=e(66),c=e(69),p=e(76),d=e(81),f={Component:a.injection,Class:i.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:o.injection,EventEmitter:s.injection,NativeComponent:l.injection,Perf:c.injection,RootIndex:p.injection,Updates:d.injection};t.exports=f},{10:10,16:16,26:26,29:29,32:32,52:52,66:66,69:69,76:76,81:81}],58:[function(e,t,n){"use strict";function r(e){return a(document.documentElement,e)}var o=e(44),a=e(131),i=e(136),u=e(137),s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=u()
;return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=u(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,o),i(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",r-n),a.select()}else o.setOffsets(e,t)}};t.exports=s},{131:131,136:136,137:137,44:44}],59:[function(e,t,n){"use strict";function r(e){return f+e.toString(36)}function o(e,t){return e.charAt(t)===f||t===e.length}function a(e){return""===e||e.charAt(0)===f&&e.charAt(e.length-1)!==f}function i(e,t){return 0===t.indexOf(e)&&o(t,e.length)}function u(e){return e?e.substr(0,e.lastIndexOf(f)):""}function s(e,t){if(a(e)&&a(t)?void 0:d(!1),i(e,t)?void 0:d(!1),e===t)return e;var n,r=e.length+h;for(n=r;n<t.length&&!o(t,n);n++);return t.substr(0,n)}function l(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,i=0;n>=i;i++)if(o(e,i)&&o(t,i))r=i;else if(e.charAt(i)!==t.charAt(i))break;var u=e.substr(0,r);return a(u)?void 0:d(!1),u}function c(e,t,n,r,o,a){e=e||"",t=t||"",e===t?d(!1):void 0;var l=i(t,e);l||i(e,t)?void 0:d(!1);for(var c=0,p=l?u:s,f=e;;f=p(f,t)){var h;if(o&&f===e||a&&f===t||(h=n(f,l,r)),h===!1||f===t)break;c++<v?void 0:d(!1)}}var p=e(76),d=e(142),f=".",h=f.length,v=1e4,m={createReactRootID:function(){return r(p.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===f&&e.length>1){var t=e.indexOf(f,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,o){var a=l(e,t);a!==e&&c(e,a,n,r,!1,!0),a!==t&&c(a,t,n,o,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(c("",e,t,n,!0,!0),c(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},getFirstCommonAncestorID:l,_getNextDescendantID:s,isAncestorIDOf:i,SEPARATOR:f};t.exports=m},{142:142,76:76}],60:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],61:[function(e,t,n){"use strict";var r=e(28),o=e(30),a=e(29),i=e(38),u=e(50),s=(e(51),e(72)),l=e(82),c=e(23),p=e(119),d=u.createElement,f=u.createFactory,h=u.cloneElement,v={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:p},Component:o,createElement:d,cloneElement:h,isValidElement:u.isValidElement,PropTypes:s,createClass:a.createClass,createFactory:f,createMixin:function(e){return e},DOM:i,version:l,__spread:c};t.exports=v},{119:119,23:23,28:28,29:29,30:30,38:38,50:50,51:51,72:72,82:82}],62:[function(e,t,n){"use strict";var r=e(101),o=/\/?>/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=a},{101:101}],63:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===W?e.documentElement:e.firstChild:null}function a(e){var t=o(e);return t&&Q.getID(t)}function i(e){var t=u(e);if(t)if(V.hasOwnProperty(t)){var n=V[t];n!==e&&(p(n,t)?L(!1):void 0,V[t]=e)}else V[t]=e;return t}function u(e){return e&&e.getAttribute&&e.getAttribute(B)||""}function s(e,t){var n=u(e);n!==t&&delete V[n],e.setAttribute(B,t),V[t]=e}function l(e){return V.hasOwnProperty(e)&&p(V[e],e)||(V[e]=Q.findReactNodeByID(e)),V[e]}function c(e){var t=N.get(e)._rootNodeID;return D.isNullComponentID(t)?null:(V.hasOwnProperty(t)&&p(V[t],t)||(V[t]=Q.findReactNodeByID(t)),V[t])}function p(e,t){if(e){u(e)!==t?L(!1):void 0;var n=Q.findReactContainerForID(t);if(n&&O(n,e))return!0}return!1}function d(e){delete V[e]}function f(e){var t=V[e];return t&&p(t,e)?void(G=t):!1}function h(e){G=null,M.traverseAncestors(e,f);var t=G;return G=null,t}function v(e,t,n,r,o,a){E.useCreateElement&&(a=T({},a),n.nodeType===W?a[H]=n:a[H]=n.ownerDocument);var i=R.mountComponent(e,t,r,a);e._renderedComponent._topLevelWrapper=e,Q._mountImageIntoNode(i,n,o,r)}function m(e,t,n,r,o){var a=S.ReactReconcileTransaction.getPooled(r);a.perform(v,null,e,t,n,a,r,o),S.ReactReconcileTransaction.release(a)}function g(e,t){for(R.unmountComponent(e),t.nodeType===W&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=a(e);return t?t!==M.getReactRootIDFromNodeID(t):!1}function C(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=u(e);if(t){var n,r=M.getReactRootIDFromNodeID(t),o=e;do{if(n=u(o),o=o.parentNode,null==o)return null}while(n!==r);if(o===Y[r])return e}}return null}var b=e(10),_=e(26),E=(e(34),e(39)),x=e(50),D=e(53),M=e(59),N=e(60),P=e(62),w=e(69),R=e(74),I=e(80),S=e(81),T=e(23),k=e(135),O=e(131),A=e(116),L=e(142),U=e(122),F=e(124),B=(e(126),e(151),b.ID_ATTRIBUTE_NAME),V={},j=1,W=9,K=11,H="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),q={},Y={},z=[],G=null,X=function(){};X.prototype.isReactComponent={},X.prototype.render=function(){return this.props};var Q={TopLevelWrapper:X,_instancesByReactRootID:q,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return Q.scrollMonitor(n,function(){I.enqueueElementInternal(e,t),r&&I.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){!t||t.nodeType!==j&&t.nodeType!==W&&t.nodeType!==K?L(!1):void 0,_.ensureScrollValueMonitoring();var n=Q.registerContainer(t);return q[n]=e,n},_renderNewRootComponent:function(e,t,n,r){var o=A(e,null),a=Q._registerComponent(o,t);return S.batchedUpdates(m,o,a,t,n,r),o},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?L(!1):void 0,Q._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){x.isValidElement(t)?void 0:L(!1);var i=new x(X,null,null,null,null,null,t),s=q[a(n)];if(s){var l=s._currentElement,c=l.props;if(F(c,t)){var p=s._renderedComponent.getPublicInstance(),d=r&&function(){r.call(p)};return Q._updateRootComponent(s,i,n,d),p}Q.unmountComponentAtNode(n)}var f=o(n),h=f&&!!u(f),v=y(n),m=h&&!s&&!v,g=Q._renderNewRootComponent(i,n,m,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):k)._renderedComponent.getPublicInstance();return r&&r.call(g),g},render:function(e,t,n){return Q._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=a(e);return t&&(t=M.getReactRootIDFromNodeID(t)),t||(t=M.createReactRootID()),Y[t]=e,t},unmountComponentAtNode:function(e){!e||e.nodeType!==j&&e.nodeType!==W&&e.nodeType!==K?L(!1):void 0;var t=a(e),n=q[t];if(!n){var r=(y(e),u(e));return r&&r===M.getReactRootIDFromNodeID(r),!1}return S.batchedUpdates(g,n,e),delete q[t],delete Y[t],!0},findReactContainerForID:function(e){var t=M.getReactRootIDFromNodeID(e),n=Y[t];return n},findReactNodeByID:function(e){var t=Q.findReactContainerForID(e);return Q.findComponentRoot(t,e)},getFirstReactDOM:function(e){return C(e)},findComponentRoot:function(e,t){var n=z,r=0,o=h(t)||e;for(n[0]=o.firstChild,n.length=1;r<n.length;){for(var a,i=n[r++];i;){var u=Q.getID(i);u?t===u?a=i:M.isAncestorIDOf(u,t)&&(n.length=r=0,n.push(i.firstChild)):n.push(i.firstChild),i=i.nextSibling}if(a)return n.length=0,a}n.length=0,L(!1)},_mountImageIntoNode:function(e,t,n,a){if(!t||t.nodeType!==j&&t.nodeType!==W&&t.nodeType!==K?L(!1):void 0,n){var i=o(t);if(P.canReuseMarkup(e,i))return;var u=i.getAttribute(P.CHECKSUM_ATTR_NAME);i.removeAttribute(P.CHECKSUM_ATTR_NAME);var s=i.outerHTML;i.setAttribute(P.CHECKSUM_ATTR_NAME,u);var l=e,c=r(l,s);" (client) "+l.substring(c-20,c+20)+"\n (server) "+s.substring(c-20,c+20),t.nodeType===W?L(!1):void 0}if(t.nodeType===W?L(!1):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else U(t,e)},ownerDocumentContextKey:H,getReactRootID:a,getID:i,setID:s,getNode:l,getNodeFromInstance:c,isValid:p,purgeID:d};w.measureMethods(Q,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=Q},{10:10,116:116,122:122,124:124,126:126,131:131,135:135,142:142,151:151,23:23,26:26,34:34,39:39,50:50,53:53,59:59,60:60,62:62,69:69,74:74,80:80,81:81}],64:[function(e,t,n){"use strict";function r(e,t,n){m.push({parentID:e,parentNode:null,type:p.INSERT_MARKUP,markupIndex:g.push(t)-1,content:null,fromIndex:null,toIndex:n})}function o(e,t,n){m.push({parentID:e,parentNode:null,type:p.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function a(e,t){m.push({parentID:e,parentNode:null,type:p.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function i(e,t){m.push({parentID:e,parentNode:null,type:p.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function u(e,t){m.push({parentID:e,parentNode:null,type:p.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(){m.length&&(c.processChildrenUpdates(m,g),l())}function l(){m.length=0,g.length=0}var c=e(32),p=e(65),d=(e(34),e(74)),f=e(27),h=e(107),v=0,m=[],g=[],y={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var o;return o=h(t),f.updateChildren(e,o,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],a=0;for(var i in r)if(r.hasOwnProperty(i)){var u=r[i],s=this._rootNodeID+i,l=d.mountComponent(u,s,t,n);u._mountIndex=a++,o.push(l)}return o},updateTextContent:function(e){v++;var t=!0;try{var n=this._renderedChildren;f.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{v--,v||(t?l():s())}},updateMarkup:function(e){v++;var t=!0;try{var n=this._renderedChildren;f.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{v--,v||(t?l():s())}},updateChildren:function(e,t,n){v++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{v--,v||(r?l():s())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,o=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=o,o||r){var a,i=0,u=0;for(a in o)if(o.hasOwnProperty(a)){var s=r&&r[a],l=o[a];s===l?(this.moveChild(s,u,i),i=Math.max(s._mountIndex,i),s._mountIndex=u):(s&&(i=Math.max(s._mountIndex,i),this._unmountChild(s)),this._mountChildByNameAtIndex(l,a,u,t,n)),u++}for(a in r)!r.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||this._unmountChild(r[a])}},unmountChildren:function(){var e=this._renderedChildren;f.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&o(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){a(this._rootNodeID,e._mountIndex)},setTextContent:function(e){u(this._rootNodeID,e)},setMarkup:function(e){i(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,o){var a=this._rootNodeID+t,i=d.mountComponent(e,a,r,o);e._mountIndex=n,this.createChild(e,i)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};t.exports=y},{107:107,27:27,32:32,34:34,65:65,74:74}],65:[function(e,t,n){"use strict";var r=e(145),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},{145:145}],66:[function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=p[t];return null==n&&(p[t]=n=l(t)),n}function o(e){return c?void 0:s(!1),new c(e.type,e.props)}function a(e){return new d(e)}function i(e){return e instanceof d}var u=e(23),s=e(142),l=null,c=null,p={},d=null,f={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){u(p,e)}},h={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:a,isTextComponent:i,injection:f};t.exports=h},{142:142,23:23}],67:[function(e,t,n){"use strict";function r(e,t){}var o=(e(151),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")},enqueueSetProps:function(e,t){r(e,"setProps")},enqueueReplaceProps:function(e,t){r(e,"replaceProps")}});t.exports=o},{151:151}],68:[function(e,t,n){"use strict";var r=e(142),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=o},{142:142}],69:[function(e,t,n){"use strict";function r(e,t,n){return n}var o={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){o.storedMeasure=e}}};t.exports=o},{}],70:[function(e,t,n){"use strict";var r={};t.exports=r},{}],71:[function(e,t,n){"use strict";var r=e(145),o=r({prop:null,context:null,childContext:null});t.exports=o},{145:145}],72:[function(e,t,n){"use strict";function r(e){function t(t,n,r,o,a,i){if(o=o||E,i=i||r,null==n[r]){var u=C[a];return t?new Error("Required "+u+" `"+i+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,a,i)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,o,a){var i=t[n],u=v(i);if(u!==e){var s=C[o],l=m(i);return new Error("Invalid "+s+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function a(){return r(b.thatReturns(null))}function i(e){function t(t,n,r,o,a){var i=t[n];if(!Array.isArray(i)){var u=C[o],s=v(i);return new Error("Invalid "+u+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<i.length;l++){var c=e(i,l,r,o,a+"["+l+"]");if(c instanceof Error)return c}return null}return r(t)}function u(){function e(e,t,n,r,o){if(!y.isValidElement(e[t])){var a=C[r];return new Error("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function s(e){function t(t,n,r,o,a){if(!(t[n]instanceof e)){var i=C[o],u=e.name||E,s=g(t[n]);return new Error("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return r(t)}function l(e){function t(t,n,r,o,a){for(var i=t[n],u=0;u<e.length;u++)if(i===e[u])return null;var s=C[o],l=JSON.stringify(e);return new Error("Invalid "+s+" `"+a+"` of value `"+i+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(e){function t(t,n,r,o,a){var i=t[n],u=v(i);if("object"!==u){var s=C[o];return new Error("Invalid "+s+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var l in i)if(i.hasOwnProperty(l)){var c=e(i,l,r,o,a+"."+l);if(c instanceof Error)return c}return null}return r(t)}function p(e){function t(t,n,r,o,a){for(var i=0;i<e.length;i++){var u=e[i];if(null==u(t,n,r,o,a))return null}var s=C[o];return new Error("Invalid "+s+" `"+a+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function d(){function e(e,t,n,r,o){if(!h(e[t])){var a=C[r];return new Error("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function f(e){function t(t,n,r,o,a){var i=t[n],u=v(i);if("object"!==u){var s=C[o];return new Error("Invalid "+s+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var p=c(i,l,r,o,a+"."+l);if(p)return p}}return null}return r(t)}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||y.isValidElement(e))return!0;var t=_(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!h(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!h(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var y=e(50),C=e(70),b=e(134),_=e(113),E="<<anonymous>>",x={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:a(),arrayOf:i,element:u(),instanceOf:s,node:d(),objectOf:c,oneOf:l,oneOfType:p,shape:f};t.exports=x},{113:113,134:134,50:50,70:70}],73:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=!e&&u.useCreateElement}var o=e(6),a=e(24),i=e(26),u=e(39),s=e(58),l=e(98),c=e(23),p={initialize:s.getSelectionInformation,close:s.restoreSelection},d={initialize:function(){var e=i.isEnabled();return i.setEnabled(!1),e},close:function(e){i.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,d,f],v={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};c(r.prototype,l.Mixin,v),a.addPoolingTo(r),t.exports=r},{23:23,24:24,26:26,39:39,58:58,6:6,98:98}],74:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e(75),a={mountComponent:function(e,t,n,o){var a=e.mountComponent(t,n,o);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e),a},unmountComponent:function(e){o.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,a){var i=e._currentElement;if(t!==i||a!==e._context){var u=o.shouldUpdateRefs(i,t);u&&o.detachRefs(e,i),e.receiveComponent(t,n,a),u&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};t.exports=a},{75:75}],75:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):a.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):a.removeComponentAsRefFrom(t,e,n)}var a=e(68),i={};i.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},i.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},i.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=i},{68:68}],76:[function(e,t,n){"use strict";var r={injectCreateReactRootIndex:function(e){o.createReactRootIndex=e}},o={createReactRootIndex:null,injection:r};t.exports=o},{}],77:[function(e,t,n){"use strict";var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=r},{}],78:[function(e,t,n){"use strict";function r(e){i.isValidElement(e)?void 0:h(!1);var t;try{p.injection.injectBatchingStrategy(l);var n=u.createReactRootID();return t=c.getPooled(!1),t.perform(function(){var r=f(e,null),o=r.mountComponent(n,t,d);return s.addChecksumToMarkup(o)},null)}finally{c.release(t),p.injection.injectBatchingStrategy(a)}}function o(e){i.isValidElement(e)?void 0:h(!1);var t;try{p.injection.injectBatchingStrategy(l);var n=u.createReactRootID();return t=c.getPooled(!0),t.perform(function(){var r=f(e,null);return r.mountComponent(n,t,d)},null)}finally{c.release(t),p.injection.injectBatchingStrategy(a)}}var a=e(48),i=e(50),u=e(59),s=e(62),l=e(77),c=e(79),p=e(81),d=e(135),f=e(116),h=e(142);t.exports={renderToString:r,renderToStaticMarkup:o}},{116:116,135:135,142:142,48:48,50:50,59:59,62:62,77:77,79:79,81:81}],79:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=a.getPooled(null),this.useCreateElement=!1}var o=e(24),a=e(6),i=e(98),u=e(23),s=e(134),l={initialize:function(){this.reactMountReady.reset()},close:s},c=[l],p={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null}};u(r.prototype,i.Mixin,p),o.addPoolingTo(r),t.exports=r},{134:134,23:23,24:24,6:6,98:98}],80:[function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function o(e,t){var n=i.get(e);return n?n:null}var a=(e(34),e(50)),i=e(60),u=e(81),s=e(23),l=e(142),c=(e(151),{isMounted:function(e){var t=i.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t){"function"!=typeof t?l(!1):void 0;var n=o(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?l(!1):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var a=n._pendingStateQueue||(n._pendingStateQueue=[]);a.push(t),r(n)}},enqueueSetProps:function(e,t){var n=o(e,"setProps");n&&c.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:l(!1);var o=n._pendingElement||n._currentElement,i=o.props,u=s({},i.props,t);n._pendingElement=a.cloneAndReplaceProps(o,a.cloneAndReplaceProps(i,u)),r(n)},enqueueReplaceProps:function(e,t){var n=o(e,"replaceProps");n&&c.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:l(!1);var o=n._pendingElement||n._currentElement,i=o.props;n._pendingElement=a.cloneAndReplaceProps(o,a.cloneAndReplaceProps(i,t)),r(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});t.exports=c},{142:142,151:151,23:23,34:34,50:50,60:60,81:81}],81:[function(e,t,n){"use strict";function r(){N.ReactReconcileTransaction&&b?void 0:m(!1)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=N.ReactReconcileTransaction.getPooled(!1)}function a(e,t,n,o,a,i){r(),b.batchedUpdates(e,t,n,o,a,i)}function i(e,t){return e._mountOrder-t._mountOrder}function u(e){var t=e.dirtyComponentsLength;t!==g.length?m(!1):void 0,g.sort(i);for(var n=0;t>n;n++){var r=g[n],o=r._pendingCallbacks;if(r._pendingCallbacks=null,f.performUpdateIfNecessary(r,e.reconcileTransaction),o)for(var a=0;a<o.length;a++)e.callbackQueue.enqueue(o[a],r.getPublicInstance())}}function s(e){return r(),b.isBatchingUpdates?void g.push(e):void b.batchedUpdates(s,e)}function l(e,t){b.isBatchingUpdates?void 0:m(!1),y.enqueue(e,t),C=!0}var c=e(6),p=e(24),d=e(69),f=e(74),h=e(98),v=e(23),m=e(142),g=[],y=c.getPooled(),C=!1,b=null,_={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),D()):g.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[_,E];v(o.prototype,h.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,N.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return h.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),p.addPoolingTo(o);var D=function(){for(;g.length||C;){if(g.length){var e=o.getPooled();e.perform(u,null,e),o.release(e)}if(C){C=!1;var t=y;y=c.getPooled(),t.notifyAll(),c.release(t)}}};D=d.measure("ReactUpdates","flushBatchedUpdates",D);var M={injectReconcileTransaction:function(e){e?void 0:m(!1),N.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:m(!1),"function"!=typeof e.batchedUpdates?m(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?m(!1):void 0,b=e}},N={ReactReconcileTransaction:null,batchedUpdates:a,enqueueUpdate:s,flushBatchedUpdates:D,injection:M,asap:l};t.exports=N},{142:142,23:23,24:24,6:6,69:69,74:74,98:98}],82:[function(e,t,n){"use strict";t.exports="0.14.5"},{}],83:[function(e,t,n){"use strict";var r=e(10),o=r.injection.MUST_USE_ATTRIBUTE,a={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,xlinkActuate:o,xlinkArcrole:o,xlinkHref:o,xlinkRole:o,xlinkShow:o,xlinkTitle:o,xlinkType:o,xmlBase:o,xmlLang:o,xmlSpace:o,y1:o,y2:o,y:o},DOMAttributeNamespaces:{xlinkActuate:a.xlink,xlinkArcrole:a.xlink,xlinkHref:a.xlink,xlinkRole:a.xlink,xlinkShow:a.xlink,xlinkTitle:a.xlink,xlinkType:a.xlink,xmlBase:a.xml,xmlLang:a.xml,xmlSpace:a.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=i},{10:10}],84:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(b||null==g||g!==c())return null;var n=r(g);if(!C||!f(C,n)){C=n;var o=l.getPooled(m.select,y,e,t);return o.type="select",o.target=g,i.accumulateTwoPhaseDispatches(o),o}return null}var a=e(15),i=e(19),u=e(128),s=e(58),l=e(90),c=e(137),p=e(118),d=e(146),f=e(149),h=a.topLevelTypes,v=u.canUseDOM&&"documentMode"in document&&document.documentMode<=11,m={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},g=null,y=null,C=null,b=!1,_=!1,E=d({onSelect:null}),x={eventTypes:m,extractEvents:function(e,t,n,r,a){if(!_)return null;switch(e){case h.topFocus:(p(t)||"true"===t.contentEditable)&&(g=t,y=n,C=null);break;case h.topBlur:g=null,y=null,C=null;break;case h.topMouseDown:b=!0;break;case h.topContextMenu:case h.topMouseUp:return b=!1,o(r,a);case h.topSelectionChange:if(v)break;case h.topKeyDown:case h.topKeyUp:return o(r,a)}return null},didPutListener:function(e,t,n){t===E&&(_=!0)}};t.exports=x},{118:118,128:128,137:137,146:146,149:149,15:15,19:19,58:58,90:90}],85:[function(e,t,n){"use strict";var r=Math.pow(2,53),o={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};t.exports=o},{}],86:[function(e,t,n){"use strict";var r=e(15),o=e(127),a=e(19),i=e(63),u=e(87),s=e(90),l=e(91),c=e(93),p=e(94),d=e(89),f=e(95),h=e(96),v=e(97),m=e(134),g=e(109),y=e(142),C=e(146),b=r.topLevelTypes,_={abort:{phasedRegistrationNames:{bubbled:C({onAbort:!0}),captured:C({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:C({onBlur:!0}),captured:C({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:C({onCanPlay:!0}),captured:C({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:C({onCanPlayThrough:!0}),captured:C({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:C({onClick:!0}),captured:C({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:C({onContextMenu:!0}),captured:C({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:C({onCopy:!0}),captured:C({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:C({onCut:!0}),captured:C({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:C({onDoubleClick:!0}),captured:C({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:C({onDrag:!0}),captured:C({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:C({onDragEnd:!0}),captured:C({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:C({onDragEnter:!0}),captured:C({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:C({onDragExit:!0}),captured:C({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:C({onDragLeave:!0}),captured:C({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:C({onDragOver:!0}),captured:C({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:C({onDragStart:!0}),captured:C({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:C({onDrop:!0}),captured:C({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:C({onDurationChange:!0}),captured:C({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:C({onEmptied:!0}),captured:C({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:C({onEncrypted:!0}),captured:C({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:C({onEnded:!0}),captured:C({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:C({onError:!0}),captured:C({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:C({onFocus:!0}),captured:C({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:C({onInput:!0}),captured:C({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:C({onKeyDown:!0}),captured:C({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:C({onKeyPress:!0}),captured:C({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:C({onKeyUp:!0}),captured:C({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:C({onLoad:!0}),captured:C({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:C({onLoadedData:!0}),
captured:C({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:C({onLoadedMetadata:!0}),captured:C({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:C({onLoadStart:!0}),captured:C({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:C({onMouseDown:!0}),captured:C({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:C({onMouseMove:!0}),captured:C({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:C({onMouseOut:!0}),captured:C({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:C({onMouseOver:!0}),captured:C({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:C({onMouseUp:!0}),captured:C({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:C({onPaste:!0}),captured:C({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:C({onPause:!0}),captured:C({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:C({onPlay:!0}),captured:C({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:C({onPlaying:!0}),captured:C({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:C({onProgress:!0}),captured:C({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:C({onRateChange:!0}),captured:C({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:C({onReset:!0}),captured:C({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:C({onScroll:!0}),captured:C({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:C({onSeeked:!0}),captured:C({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:C({onSeeking:!0}),captured:C({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:C({onStalled:!0}),captured:C({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:C({onSubmit:!0}),captured:C({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:C({onSuspend:!0}),captured:C({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:C({onTimeUpdate:!0}),captured:C({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:C({onTouchCancel:!0}),captured:C({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:C({onTouchEnd:!0}),captured:C({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:C({onTouchMove:!0}),captured:C({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:C({onTouchStart:!0}),captured:C({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:C({onVolumeChange:!0}),captured:C({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:C({onWaiting:!0}),captured:C({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:C({onWheel:!0}),captured:C({onWheelCapture:!0})}}},E={topAbort:_.abort,topBlur:_.blur,topCanPlay:_.canPlay,topCanPlayThrough:_.canPlayThrough,topClick:_.click,topContextMenu:_.contextMenu,topCopy:_.copy,topCut:_.cut,topDoubleClick:_.doubleClick,topDrag:_.drag,topDragEnd:_.dragEnd,topDragEnter:_.dragEnter,topDragExit:_.dragExit,topDragLeave:_.dragLeave,topDragOver:_.dragOver,topDragStart:_.dragStart,topDrop:_.drop,topDurationChange:_.durationChange,topEmptied:_.emptied,topEncrypted:_.encrypted,topEnded:_.ended,topError:_.error,topFocus:_.focus,topInput:_.input,topKeyDown:_.keyDown,topKeyPress:_.keyPress,topKeyUp:_.keyUp,topLoad:_.load,topLoadedData:_.loadedData,topLoadedMetadata:_.loadedMetadata,topLoadStart:_.loadStart,topMouseDown:_.mouseDown,topMouseMove:_.mouseMove,topMouseOut:_.mouseOut,topMouseOver:_.mouseOver,topMouseUp:_.mouseUp,topPaste:_.paste,topPause:_.pause,topPlay:_.play,topPlaying:_.playing,topProgress:_.progress,topRateChange:_.rateChange,topReset:_.reset,topScroll:_.scroll,topSeeked:_.seeked,topSeeking:_.seeking,topStalled:_.stalled,topSubmit:_.submit,topSuspend:_.suspend,topTimeUpdate:_.timeUpdate,topTouchCancel:_.touchCancel,topTouchEnd:_.touchEnd,topTouchMove:_.touchMove,topTouchStart:_.touchStart,topVolumeChange:_.volumeChange,topWaiting:_.waiting,topWheel:_.wheel};for(var x in E)E[x].dependencies=[x];var D=C({onClick:null}),M={},N={eventTypes:_,extractEvents:function(e,t,n,r,o){var i=E[e];if(!i)return null;var m;switch(e){case b.topAbort:case b.topCanPlay:case b.topCanPlayThrough:case b.topDurationChange:case b.topEmptied:case b.topEncrypted:case b.topEnded:case b.topError:case b.topInput:case b.topLoad:case b.topLoadedData:case b.topLoadedMetadata:case b.topLoadStart:case b.topPause:case b.topPlay:case b.topPlaying:case b.topProgress:case b.topRateChange:case b.topReset:case b.topSeeked:case b.topSeeking:case b.topStalled:case b.topSubmit:case b.topSuspend:case b.topTimeUpdate:case b.topVolumeChange:case b.topWaiting:m=s;break;case b.topKeyPress:if(0===g(r))return null;case b.topKeyDown:case b.topKeyUp:m=c;break;case b.topBlur:case b.topFocus:m=l;break;case b.topClick:if(2===r.button)return null;case b.topContextMenu:case b.topDoubleClick:case b.topMouseDown:case b.topMouseMove:case b.topMouseOut:case b.topMouseOver:case b.topMouseUp:m=p;break;case b.topDrag:case b.topDragEnd:case b.topDragEnter:case b.topDragExit:case b.topDragLeave:case b.topDragOver:case b.topDragStart:case b.topDrop:m=d;break;case b.topTouchCancel:case b.topTouchEnd:case b.topTouchMove:case b.topTouchStart:m=f;break;case b.topScroll:m=h;break;case b.topWheel:m=v;break;case b.topCopy:case b.topCut:case b.topPaste:m=u}m?void 0:y(!1);var C=m.getPooled(i,n,r,o);return a.accumulateTwoPhaseDispatches(C),C},didPutListener:function(e,t,n){if(t===D){var r=i.getNode(e);M[e]||(M[e]=o.listen(r,"click",m))}},willDeleteListener:function(e,t){t===D&&(M[e].remove(),delete M[e])}};t.exports=N},{109:109,127:127,134:134,142:142,146:146,15:15,19:19,63:63,87:87,89:89,90:90,91:91,93:93,94:94,95:95,96:96,97:97}],87:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(90),a={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,a),t.exports=r},{90:90}],88:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(90),a={data:null};o.augmentClass(r,a),t.exports=r},{90:90}],89:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(94),a={dataTransfer:null};o.augmentClass(r,a),t.exports=r},{94:94}],90:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n,this.target=r,this.currentTarget=r;var o=this.constructor.Interface;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];u?this[a]=u(n):this[a]=n[a]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;s?this.isDefaultPrevented=i.thatReturnsTrue:this.isDefaultPrevented=i.thatReturnsFalse,this.isPropagationStopped=i.thatReturnsFalse}var o=e(24),a=e(23),i=e(134),u=(e(151),{type:null,currentTarget:i.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});a(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=i.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=i.thatReturnsTrue)},persist:function(){this.isPersistent=i.thatReturnsTrue},isPersistent:i.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);a(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=a({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),t.exports=r},{134:134,151:151,23:23,24:24}],91:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(96),a={relatedTarget:null};o.augmentClass(r,a),t.exports=r},{96:96}],92:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(90),a={data:null};o.augmentClass(r,a),t.exports=r},{90:90}],93:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(96),a=e(109),i=e(110),u=e(111),s={key:i,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(e){return"keypress"===e.type?a(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?a(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,s),t.exports=r},{109:109,110:110,111:111,96:96}],94:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(96),a=e(99),i=e(111),u={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+a.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+a.currentScrollTop}};o.augmentClass(r,u),t.exports=r},{111:111,96:96,99:99}],95:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(96),a=e(111),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:a};o.augmentClass(r,i),t.exports=r},{111:111,96:96}],96:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(90),a=e(112),i={view:function(e){if(e.view)return e.view;var t=a(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,i),t.exports=r},{112:112,90:90}],97:[function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=e(94),a={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,a),t.exports=r},{94:94}],98:[function(e,t,n){"use strict";var r=e(142),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,a,i,u,s){this.isInTransaction()?r(!1):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,a,i,u,s),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=a.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===a.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,i=t[n],u=this.wrapperInitData[n];try{o=!0,u!==a.OBSERVED_ERROR&&i.close&&i.close.call(this,u),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(s){}}}this.wrapperInitData.length=0}},a={Mixin:o,OBSERVED_ERROR:{}};t.exports=a},{142:142}],99:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],100:[function(e,t,n){"use strict";function r(e,t){if(null==t?o(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var o=e(142);t.exports=r},{142:142}],101:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,a=e.length,i=-4&a;i>r;){for(;r<Math.min(r+4096,i);r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;a>r;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],102:[function(e,t,n){"use strict";var r=!1;t.exports=r},{}],103:[function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||a.hasOwnProperty(e)&&a[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e(4),a=o.isUnitlessNumber;t.exports=r},{4:4}],104:[function(e,t,n){"use strict";function r(e,t,n,r,o){return o}e(23),e(151);t.exports=r},{151:151,23:23}],105:[function(e,t,n){"use strict";function r(e){return a[e]}function o(e){return(""+e).replace(i,r)}var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;t.exports=o},{}],106:[function(e,t,n){"use strict";function r(e){return null==e?null:1===e.nodeType?e:o.has(e)?a.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?i(!1):void 0,void i(!1))}var o=(e(34),e(60)),a=e(63),i=e(142);e(151);t.exports=r},{142:142,151:151,34:34,60:60,63:63}],107:[function(e,t,n){"use strict";function r(e,t,n){var r=e,o=void 0===r[n];o&&null!=t&&(r[n]=t)}function o(e){if(null==e)return e;var t={};return a(e,r,t),t}var a=e(125);e(151);t.exports=o},{125:125,151:151}],108:[function(e,t,n){"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],109:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],110:[function(e,t,n){"use strict";function r(e){if(e.key){var t=a[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?i[e.keyCode]||"Unidentified":""}var o=e(109),a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{109:109}],111:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=a[e];return r?!!n[r]:!1}function o(e){return r}var a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],112:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=r},{}],113:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[a]);return"function"==typeof t?t:void 0}var o="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";t.exports=r},{}],114:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function a(e,t){for(var n=r(e),a=0,i=0;n;){if(3===n.nodeType){if(i=a+n.textContent.length,t>=a&&i>=t)return{node:n,offset:t-a};a=i}n=r(o(n))}}t.exports=a},{}],115:[function(e,t,n){"use strict";function r(){return!a&&o.canUseDOM&&(a="textContent"in document.documentElement?"textContent":"innerText"),a}var o=e(128),a=null;t.exports=r},{128:128}],116:[function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e){var t;if(null===e||e===!1)t=new i(o);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?l(!1):void 0,t="string"==typeof n.type?u.createInternalComponent(n):r(n.type)?new n.type(n):new c}else"string"==typeof e||"number"==typeof e?t=u.createInstanceForText(e):l(!1);return t.construct(e),t._mountIndex=0,t._mountImage=null,t}var a=e(33),i=e(52),u=e(66),s=e(23),l=e(142),c=(e(151),function(){});s(c.prototype,a.Mixin,{_instantiateReactComponent:o}),t.exports=o},{142:142,151:151,23:23,33:33,52:52,66:66}],117:[function(e,t,n){"use strict";function r(e,t){if(!a.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r="function"==typeof i[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,a=e(128);a.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{128:128}],118:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&o[e.type]||"textarea"===t)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],119:[function(e,t,n){"use strict";function r(e){return o.isValidElement(e)?void 0:a(!1),e}var o=e(50),a=e(142);t.exports=r},{142:142,50:50}],120:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e(105);t.exports=r},{105:105}],121:[function(e,t,n){"use strict";var r=e(63);t.exports=r.renderSubtreeIntoContainer},{63:63}],122:[function(e,t,n){"use strict";var r=e(128),o=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,i=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(i=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",""===u.innerHTML&&(i=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&a.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=i},{128:128}],123:[function(e,t,n){"use strict";var r=e(128),o=e(105),a=e(122),i=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(i=function(e,t){a(e,o(t))})),t.exports=i},{105:105,122:122,128:128}],124:[function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,a=typeof t;return"string"===o||"number"===o?"string"===a||"number"===a:"object"===a&&e.type===t.type&&e.key===t.key}t.exports=r},{}],125:[function(e,t,n){"use strict";function r(e){return v[e]}function o(e,t){return e&&null!=e.key?i(e.key):t.toString(36)}function a(e){return(""+e).replace(m,r)}function i(e){return"$"+a(e)}function u(e,t,n,r){var a=typeof e;if(("undefined"===a||"boolean"===a)&&(e=null),null===e||"string"===a||"number"===a||l.isValidElement(e))return n(r,e,""===t?f+o(e,0):t),1;var s,c,v=0,m=""===t?f:t+h;if(Array.isArray(e))for(var g=0;g<e.length;g++)s=e[g],c=m+o(s,g),v+=u(s,c,n,r);else{var y=p(e);if(y){var C,b=y.call(e);if(y!==e.entries)for(var _=0;!(C=b.next()).done;)s=C.value,c=m+o(s,_++),v+=u(s,c,n,r);else for(;!(C=b.next()).done;){var E=C.value;E&&(s=E[1],c=m+i(E[0])+h+o(s,0),v+=u(s,c,n,r))}}else"object"===a&&(String(e),d(!1))}return v}function s(e,t,n){return null==e?0:u(e,"",t,n)}var l=(e(34),e(50)),c=e(59),p=e(113),d=e(142),f=(e(151),c.SEPARATOR),h=":",v={"=":"=0",".":"=1",":":"=2"},m=/[=.:]/g;t.exports=s},{113:113,142:142,151:151,34:34,50:50,59:59}],126:[function(e,t,n){"use strict";var r=(e(23),e(134)),o=(e(151),r);t.exports=o},{134:134,151:151,23:23}],127:[function(e,t,n){"use strict";var r=e(134),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{134:134}],128:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],129:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],130:[function(e,t,n){"use strict";function r(e){return o(e.replace(a,"ms-"))}var o=e(129),a=/^-ms-/;t.exports=r},{129:129}],131:[function(e,t,n){"use strict";function r(e,t){var n=!0;e:for(;n;){var r=e,a=t;if(n=!1,r&&a){if(r===a)return!0;if(o(r))return!1;if(o(a)){e=r,t=a.parentNode,n=!0;continue e}return r.contains?r.contains(a):r.compareDocumentPosition?!!(16&r.compareDocumentPosition(a)):!1}return!1}}var o=e(144);t.exports=r},{144:144}],132:[function(e,t,n){"use strict";function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return r(e)?Array.isArray(e)?e.slice():a(e):[e]}var a=e(150);t.exports=o},{150:150}],133:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l?void 0:s(!1);var o=r(e),a=o&&u(o);if(a){n.innerHTML=a[1]+e+a[2];for(var c=a[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:s(!1),i(p).forEach(t));for(var d=i(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var a=e(128),i=e(132),u=e(138),s=e(142),l=a.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{128:128,132:132,138:138,142:142}],134:[function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],135:[function(e,t,n){"use strict";var r={};t.exports=r},{}],136:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(t){}}t.exports=r},{}],137:[function(e,t,n){"use strict";function r(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],138:[function(e,t,n){"use strict";function r(e){return i?void 0:a(!1),d.hasOwnProperty(e)||(e="*"),u.hasOwnProperty(e)||("*"===e?i.innerHTML="<link />":i.innerHTML="<"+e+"></"+e+">",u[e]=!i.firstChild),u[e]?d[e]:null}var o=e(128),a=e(142),i=o.canUseDOM?document.createElement("div"):null,u={},s=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=p,u[e]=!0}),t.exports=r},{128:128,142:142}],139:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],140:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],141:[function(e,t,n){"use strict";function r(e){return o(e).replace(a,"-ms-")}var o=e(140),a=/^ms-/;t.exports=r},{140:140}],142:[function(e,t,n){"use strict";function r(e,t,n,r,o,a,i,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,u],c=0;s=new Error(t.replace(/%s/g,function(){return l[c++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}t.exports=r},{}],143:[function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],144:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e(143);t.exports=r},{143:143}],145:[function(e,t,n){"use strict";var r=e(142),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=o},{142:142}],146:[function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],147:[function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var a in e)o.call(e,a)&&(r[a]=t.call(n,e[a],a,e));return r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],148:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],149:[function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=o.bind(t),i=0;i<n.length;i++)if(!a(n[i])||e[n[i]]!==t[n[i]])return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],150:[function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?o(!1):void 0,"number"!=typeof t?o(!1):void 0,0===t||t-1 in e?void 0:o(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),a=0;t>a;a++)r[a]=e[a];return r}var o=e(142);t.exports=r},{142:142}],151:[function(e,t,n){"use strict";var r=e(134),o=r;t.exports=o},{134:134}]},{},[1])(1)});(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f(require("react"))}else if(typeof define==="function"&&define.amd){define("thirdparty/react-dom",["react"],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.ReactDOM=f(g.React)}})(function(React){return React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED});define("thirdparty/classnames",["require","exports","module"],function(require,exports,module){"use strict";function classNames(){var classes="";var arg;for(var i=0;i<arguments.length;i++){arg=arguments[i];if(!arg){continue}if("string"===typeof arg||"number"===typeof arg){classes+=" "+arg}else if(Object.prototype.toString.call(arg)==="[object Array]"){classes+=" "+classNames.apply(null,arg)}else if("object"===typeof arg){for(var key in arg){if(!arg.hasOwnProperty(key)||!arg[key]){continue}classes+=" "+key}}}return classes.substr(1)}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}});!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("thirdparty/jszip/dist/jszip.min",[],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.JSZip=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(a){for(var b,c,e,f,g,h,i,j="",k=0;k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),e=a.charCodeAt(k++),f=b>>2,g=(3&b)<<4|c>>4,h=(15&c)<<2|e>>6,i=63&e,isNaN(c)?h=i=64:isNaN(e)&&(i=64),j=j+d.charAt(f)+d.charAt(g)+d.charAt(h)+d.charAt(i);return j},c.decode=function(a){var b,c,e,f,g,h,i,j="",k=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<a.length;)f=d.indexOf(a.charAt(k++)),g=d.indexOf(a.charAt(k++)),h=d.indexOf(a.charAt(k++)),i=d.indexOf(a.charAt(k++)),b=f<<2|g>>4,c=(15&g)<<4|h>>2,e=(3&h)<<6|i,j+=String.fromCharCode(b),64!=h&&(j+=String.fromCharCode(c)),64!=i&&(j+=String.fromCharCode(e));return j}},{}],2:[function(a,b){"use strict";function c(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}c.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},b.exports=c},{}],3:[function(a,b,c){"use strict";c.STORE={magic:"\0\0",compress:function(a){return a},uncompress:function(a){return a},compressInputType:null,uncompressInputType:null},c.DEFLATE=a("./flate")},{"./flate":8}],4:[function(a,b){"use strict"
;var c=a("./utils"),d=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];b.exports=function(a,b){if("undefined"==typeof a||!a.length)return 0;var e="string"!==c.getTypeOf(a);"undefined"==typeof b&&(b=0);var f=0,g=0,h=0;b=-1^b;for(var i=0,j=a.length;j>i;i++)h=e?a[i]:a.charCodeAt(i),g=255&(b^h),f=d[g],b=b>>>8^f;return-1^b}},{"./utils":21}],5:[function(a,b){"use strict";function c(){this.data=null,this.length=0,this.index=0}var d=a("./utils");c.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<a||0>a)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var b,c=0;for(this.checkOffset(a),b=this.index+a-1;b>=this.index;b--)c=(c<<8)+this.byteAt(b);return this.index+=a,c},readString:function(a){return d.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1)}},b.exports=c},{"./utils":21}],6:[function(a,b,c){"use strict";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!1,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],7:[function(a,b,c){"use strict";var d=a("./utils");c.string2binary=function(a){return d.string2binary(a)},c.string2Uint8Array=function(a){return d.transformTo("uint8array",a)},c.uint8Array2String=function(a){return d.transformTo("string",a)},c.string2Blob=function(a){var b=d.transformTo("arraybuffer",a);return d.arrayBuffer2Blob(b)},c.arrayBuffer2Blob=function(a){return d.arrayBuffer2Blob(a)},c.transformTo=function(a,b){return d.transformTo(a,b)},c.getTypeOf=function(a){return d.getTypeOf(a)},c.checkSupport=function(a){return d.checkSupport(a)},c.MAX_VALUE_16BITS=d.MAX_VALUE_16BITS,c.MAX_VALUE_32BITS=d.MAX_VALUE_32BITS,c.pretty=function(a){return d.pretty(a)},c.findCompression=function(a){return d.findCompression(a)},c.isRegExp=function(a){return d.isRegExp(a)}},{"./utils":21}],8:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,e=a("pako");c.uncompressInputType=d?"uint8array":"array",c.compressInputType=d?"uint8array":"array",c.magic="\b\0",c.compress=function(a,b){return e.deflateRaw(a,{level:b.level||-1})},c.uncompress=function(a){return e.inflateRaw(a)}},{pako:24}],9:[function(a,b){"use strict";function c(a,b){return this instanceof c?(this.files={},this.comment=null,this.root="",a&&this.load(a,b),void(this.clone=function(){var a=new c;for(var b in this)"function"!=typeof this[b]&&(a[b]=this[b]);return a})):new c(a,b)}var d=a("./base64");c.prototype=a("./object"),c.prototype.load=a("./load"),c.support=a("./support"),c.defaults=a("./defaults"),c.utils=a("./deprecatedPublicUtils"),c.base64={encode:function(a){return d.encode(a)},decode:function(a){return d.decode(a)}},c.compressions=a("./compressions"),b.exports=c},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(a,b){"use strict";var c=a("./base64"),d=a("./zipEntries");b.exports=function(a,b){var e,f,g,h;for(b=b||{},b.base64&&(a=c.decode(a)),f=new d(a,b),e=f.files,g=0;g<e.length;g++)h=e[g],this.file(h.fileName,h.decompressed,{binary:!0,optimizedBinaryString:!0,date:h.date,dir:h.dir,comment:h.fileComment.length?h.fileComment:null,unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions,createFolders:b.createFolders});return f.zipComment.length&&(this.comment=f.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(a,b){(function(a){"use strict";b.exports=function(b,c){return new a(b,c)},b.exports.test=function(b){return a.isBuffer(b)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(a,b){"use strict";function c(a){this.data=a,this.length=this.data.length,this.index=0}var d=a("./uint8ArrayReader");c.prototype=new d,c.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.index,this.index+a);return this.index+=a,b},b.exports=c},{"./uint8ArrayReader":18}],13:[function(a,b){"use strict";var c=a("./support"),d=a("./utils"),e=a("./crc32"),f=a("./signature"),g=a("./defaults"),h=a("./base64"),i=a("./compressions"),j=a("./compressedObject"),k=a("./nodeBuffer"),l=a("./utf8"),m=a("./stringWriter"),n=a("./uint8ArrayWriter"),o=function(a){if(a._data instanceof j&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,"uint8array"===d.getTypeOf(a._data))){var b=a._data;a._data=new Uint8Array(b.length),0!==b.length&&a._data.set(b,0)}return a._data},p=function(a){var b=o(a),e=d.getTypeOf(b);return"string"===e?!a.options.binary&&c.nodebuffer?k(b,"utf-8"):a.asBinary():b},q=function(a){var b=o(this);return null===b||"undefined"==typeof b?"":(this.options.base64&&(b=h.decode(b)),b=a&&this.options.binary?D.utf8decode(b):d.transformTo("string",b),a||this.options.binary||(b=d.transformTo("string",D.utf8encode(b))),b)},r=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this.options=c,this._initialMetadata={dir:c.dir,date:c.date}};r.prototype={asText:function(){return q.call(this,!0)},asBinary:function(){return q.call(this,!1)},asNodeBuffer:function(){var a=p(this);return d.transformTo("nodebuffer",a)},asUint8Array:function(){var a=p(this);return d.transformTo("uint8array",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var s=function(a,b){var c,d="";for(c=0;b>c;c++)d+=String.fromCharCode(255&a),a>>>=8;return d},t=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&"undefined"==typeof c[b]&&(c[b]=arguments[a][b]);return c},u=function(a){return a=a||{},a.base64!==!0||null!==a.binary&&void 0!==a.binary||(a.binary=!0),a=t(a,g),a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),a},v=function(a,b,c){var e,f=d.getTypeOf(b);if(c=u(c),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(a=x(a)),c.createFolders&&(e=w(a))&&y.call(this,e,!0),c.dir||null===b||"undefined"==typeof b)c.base64=!1,c.binary=!1,b=null,f=null;else if("string"===f)c.binary&&!c.base64&&c.optimizedBinaryString!==!0&&(b=d.string2binary(b));else{if(c.base64=!1,c.binary=!0,!(f||b instanceof j))throw new Error("The data of '"+a+"' is in an unsupported format !");"arraybuffer"===f&&(b=d.transformTo("uint8array",b))}var g=new r(a,b,c);return this.files[a]=g,g},w=function(a){"/"==a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf("/");return b>0?a.substring(0,b):""},x=function(a){return"/"!=a.slice(-1)&&(a+="/"),a},y=function(a,b){return b="undefined"!=typeof b?b:!1,a=x(a),this.files[a]||v.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},z=function(a,b,c){var f,g=new j;return a._data instanceof j?(g.uncompressedSize=a._data.uncompressedSize,g.crc32=a._data.crc32,0===g.uncompressedSize||a.dir?(b=i.STORE,g.compressedContent="",g.crc32=0):a._data.compressionMethod===b.magic?g.compressedContent=a._data.getCompressedContent():(f=a._data.getContent(),g.compressedContent=b.compress(d.transformTo(b.compressInputType,f),c))):(f=p(a),(!f||0===f.length||a.dir)&&(b=i.STORE,f=""),g.uncompressedSize=f.length,g.crc32=e(f),g.compressedContent=b.compress(d.transformTo(b.compressInputType,f),c)),g.compressedSize=g.compressedContent.length,g.compressionMethod=b.magic,g},A=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16},B=function(a){return 63&(a||0)},C=function(a,b,c,g,h){var i,j,k,m,n=(c.compressedContent,d.transformTo("string",l.utf8encode(b.name))),o=b.comment||"",p=d.transformTo("string",l.utf8encode(o)),q=n.length!==b.name.length,r=p.length!==o.length,t=b.options,u="",v="",w="";k=b._initialMetadata.dir!==b.dir?b.dir:t.dir,m=b._initialMetadata.date!==b.date?b.date:t.date;var x=0,y=0;k&&(x|=16),"UNIX"===h?(y=798,x|=A(b.unixPermissions,k)):(y=20,x|=B(b.dosPermissions,k)),i=m.getHours(),i<<=6,i|=m.getMinutes(),i<<=5,i|=m.getSeconds()/2,j=m.getFullYear()-1980,j<<=4,j|=m.getMonth()+1,j<<=5,j|=m.getDate(),q&&(v=s(1,1)+s(e(n),4)+n,u+="up"+s(v.length,2)+v),r&&(w=s(1,1)+s(this.crc32(p),4)+p,u+="uc"+s(w.length,2)+w);var z="";z+="\n\0",z+=q||r?"\0\b":"\0\0",z+=c.compressionMethod,z+=s(i,2),z+=s(j,2),z+=s(c.crc32,4),z+=s(c.compressedSize,4),z+=s(c.uncompressedSize,4),z+=s(n.length,2),z+=s(u.length,2);var C=f.LOCAL_FILE_HEADER+z+n+u,D=f.CENTRAL_FILE_HEADER+s(y,2)+z+s(p.length,2)+"\0\0\0\0"+s(x,4)+s(g,4)+n+u+p;return{fileRecord:C,dirRecord:D,compressedObject:c}},D={load:function(){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(a){var b,c,d,e,f=[];for(b in this.files)this.files.hasOwnProperty(b)&&(d=this.files[b],e=new r(d.name,d._data,t(d.options)),c=b.slice(this.root.length,b.length),b.slice(0,this.root.length)===this.root&&a(c,e)&&f.push(e));return f},file:function(a,b,c){if(1===arguments.length){if(d.isRegExp(a)){var e=a;return this.filter(function(a,b){return!b.dir&&e.test(a)})}return this.filter(function(b,c){return!c.dir&&b===a})[0]||null}return a=this.root+a,v.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(d.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=y.call(this,b),e=this.clone();return e.root=c.name,e},remove:function(a){a=this.root+a;var b=this.files[a];if(b||("/"!=a.slice(-1)&&(a+="/"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(a){a=t(a||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),d.checkSupport(a.type),("darwin"===a.platform||"freebsd"===a.platform||"linux"===a.platform||"sunos"===a.platform)&&(a.platform="UNIX"),"win32"===a.platform&&(a.platform="DOS");var b,c,e=[],g=0,j=0,k=d.transformTo("string",this.utf8encode(a.comment||this.comment||""));for(var l in this.files)if(this.files.hasOwnProperty(l)){var o=this.files[l],p=o.options.compression||a.compression.toUpperCase(),q=i[p];if(!q)throw new Error(p+" is not a valid compression method !");var r=o.options.compressionOptions||a.compressionOptions||{},u=z.call(this,o,q,r),v=C.call(this,l,o,u,g,a.platform);g+=v.fileRecord.length+u.compressedSize,j+=v.dirRecord.length,e.push(v)}var w="";w=f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(e.length,2)+s(e.length,2)+s(j,4)+s(g,4)+s(k.length,2)+k;var x=a.type.toLowerCase();for(b="uint8array"===x||"arraybuffer"===x||"blob"===x||"nodebuffer"===x?new n(g+j+w.length):new m(g+j+w.length),c=0;c<e.length;c++)b.append(e[c].fileRecord),b.append(e[c].compressedObject.compressedContent);for(c=0;c<e.length;c++)b.append(e[c].dirRecord);b.append(w);var y=b.finalize();switch(a.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return d.transformTo(a.type.toLowerCase(),y);case"blob":return d.arrayBuffer2Blob(d.transformTo("arraybuffer",y),a.mimeType);case"base64":return a.base64?h.encode(y):y;default:return y}},crc32:function(a,b){return e(a,b)},utf8encode:function(a){return d.transformTo("string",l.utf8encode(a))},utf8decode:function(a){return l.utf8decode(a)}};b.exports=D},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(a,b,c){"use strict";c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\b"},{}],15:[function(a,b){"use strict";function c(a,b){this.data=a,b||(this.data=e.string2binary(this.data)),this.length=this.data.length,this.index=0}var d=a("./dataReader"),e=a("./utils");c.prototype=new d,c.prototype.byteAt=function(a){return this.data.charCodeAt(a)},c.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)},c.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.index,this.index+a);return this.index+=a,b},b.exports=c},{"./dataReader":5,"./utils":21}],16:[function(a,b){"use strict";var c=a("./utils"),d=function(){this.data=[]};d.prototype={append:function(a){a=c.transformTo("string",a),this.data.push(a)},finalize:function(){return this.data.join("")}},b.exports=d},{"./utils":21}],17:[function(a,b,c){(function(a){"use strict";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,c.nodebuffer="undefined"!=typeof a,c.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)c.blob=!1;else{var b=new ArrayBuffer(0);try{c.blob=0===new Blob([b],{type:"application/zip"}).size}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;f.append(b),c.blob=0===f.getBlob("application/zip").size}catch(d){c.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(a,b){"use strict";function c(a){a&&(this.data=a,this.length=this.data.length,this.index=0)}var d=a("./dataReader");c.prototype=new d,c.prototype.byteAt=function(a){return this.data[a]},c.prototype.lastIndexOfSignature=function(a){for(var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.length-4;f>=0;--f)if(this.data[f]===b&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===e)return f;return-1},c.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.index,this.index+a);return this.index+=a,b},b.exports=c},{"./dataReader":5}],19:[function(a,b){"use strict";var c=a("./utils"),d=function(a){this.data=new Uint8Array(a),this.index=0};d.prototype={append:function(a){0!==a.length&&(a=c.transformTo("uint8array",a),this.data.set(a,this.index),this.index+=a.length)},finalize:function(){return this.data}},b.exports=d},{"./utils":21}],20:[function(a,b,c){"use strict";for(var d=a("./utils"),e=a("./support"),f=a("./nodeBuffer"),g=new Array(256),h=0;256>h;h++)g[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;g[254]=g[254]=1;var i=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=e.uint8array?new Uint8Array(i):new Array(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},j=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+g[a[c]]>b?c:b},k=function(a){var b,c,e,f,h=a.length,i=new Array(2*h);for(c=0,b=0;h>b;)if(e=a[b++],128>e)i[c++]=e;else if(f=g[e],f>4)i[c++]=65533,b+=f-1;else{for(e&=2===f?31:3===f?15:7;f>1&&h>b;)e=e<<6|63&a[b++],f--;f>1?i[c++]=65533:65536>e?i[c++]=e:(e-=65536,i[c++]=55296|e>>10&1023,i[c++]=56320|1023&e)}return i.length!==c&&(i.subarray?i=i.subarray(0,c):i.length=c),d.applyFromCharCode(i)};c.utf8encode=function(a){return e.nodebuffer?f(a,"utf-8"):i(a)},c.utf8decode=function(a){if(e.nodebuffer)return d.transformTo("nodebuffer",a).toString("utf-8");a=d.transformTo(e.uint8array?"uint8array":"array",a);for(var b=[],c=0,f=a.length,g=65536;f>c;){var h=j(a,Math.min(c+g,f));b.push(e.uint8array?k(a.subarray(c,h)):k(a.slice(c,h))),c=h}return b.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(a,b,c){"use strict";function d(a){return a}function e(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function f(a){var b=65536,d=[],e=a.length,f=c.getTypeOf(a),g=0,h=!0;try{switch(f){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,j(0))}}catch(i){h=!1}if(!h){for(var k="",l=0;l<a.length;l++)k+=String.fromCharCode(a[l]);return k}for(;e>g&&b>1;)try{d.push("array"===f||"nodebuffer"===f?String.fromCharCode.apply(null,a.slice(g,Math.min(g+b,e))):String.fromCharCode.apply(null,a.subarray(g,Math.min(g+b,e)))),g+=b}catch(i){b=Math.floor(b/2)}return d.join("")}function g(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var h=a("./support"),i=a("./compressions"),j=a("./nodeBuffer");c.string2binary=function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b},c.arrayBuffer2Blob=function(a,b){c.checkSupport("blob"),b=b||"application/zip";try{return new Blob([a],{type:b})}catch(d){try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,f=new e;return f.append(a),f.getBlob(b)}catch(d){throw new Error("Bug : can't construct the Blob.")}}},c.applyFromCharCode=f;var k={};k.string={string:d,array:function(a){return e(a,new Array(a.length))},arraybuffer:function(a){return k.string.uint8array(a).buffer},uint8array:function(a){return e(a,new Uint8Array(a.length))},nodebuffer:function(a){return e(a,j(a.length))}},k.array={string:f,array:d,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(a)}},k.arraybuffer={string:function(a){return f(new Uint8Array(a))},array:function(a){return g(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:d,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return j(new Uint8Array(a))}},k.uint8array={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:d,nodebuffer:function(a){return j(a)}},k.nodebuffer={string:f,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return k.nodebuffer.uint8array(a).buffer},uint8array:function(a){return g(a,new Uint8Array(a.length))},nodebuffer:d},c.transformTo=function(a,b){if(b||(b=""),!a)return b;c.checkSupport(a);var d=c.getTypeOf(b),e=k[d][a](b);return e},c.getTypeOf=function(a){return"string"==typeof a?"string":"[object Array]"===Object.prototype.toString.call(a)?"array":h.nodebuffer&&j.test(a)?"nodebuffer":h.uint8array&&a instanceof Uint8Array?"uint8array":h.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(a){var b=h[a.toLowerCase()];if(!b)throw new Error(a+" is not supported by this browser")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var b,c,d="";for(c=0;c<(a||"").length;c++)b=a.charCodeAt(c),d+="\\x"+(16>b?"0":"")+b.toString(16).toUpperCase();return d},c.findCompression=function(a){for(var b in i)if(i.hasOwnProperty(b)&&i[b].magic===a)return i[b];return null},c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(a,b){"use strict";function c(a,b){this.files=[],this.loadOptions=b,a&&this.load(a)}var d=a("./stringReader"),e=a("./nodeBufferReader"),f=a("./uint8ArrayReader"),g=a("./utils"),h=a("./signature"),i=a("./zipEntry"),j=a("./support"),k=a("./object");c.prototype={checkSignature:function(a){var b=this.reader.readString(4);if(b!==a)throw new Error("Corrupted zip or bug : unexpected signature ("+g.pretty(b)+", expected "+g.pretty(a)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=k.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var a,b,c,d=this.zip64EndOfCentralSize-44,e=0;d>e;)a=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readString(b),this.zip64ExtensibleData[a]={id:a,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===h.CENTRAL_FILE_HEADER;)a=new i({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(-1===a){var b=!0;try{this.reader.setIndex(0),this.checkSignature(h.LOCAL_FILE_HEADER),b=!1}catch(c){}throw new Error(b?"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html":"Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(a),this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,a=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===a)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(a),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(a){var b=g.getTypeOf(a);this.reader="string"!==b||j.uint8array?"nodebuffer"===b?new e(a):new f(g.transformTo("uint8array",a)):new d(a,this.loadOptions.optimizedBinaryString)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=c},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(a,b){"use strict";function c(a,b){this.options=a,this.loadOptions=b}var d=a("./stringReader"),e=a("./utils"),f=a("./compressedObject"),g=a("./object"),h=0,i=3;c.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(a,b,c){return function(){var d=a.index;a.setIndex(b);var e=a.readData(c);return a.setIndex(d),e}},prepareContent:function(a,b,c,d,f){return function(){var a=e.transformTo(d.uncompressInputType,this.getCompressedContent()),b=d.uncompress(a);if(b.length!==f)throw new Error("Bug : uncompressed data size mismatch");return b}},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readString(this.fileNameLength),a.skip(c),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(b=e.findCompression(this.compressionMethod),null===b)throw new Error("Corrupted zip : compression "+e.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new f,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(a,a.index,this.compressedSize,b),this.decompressed.getContent=this.prepareContent(a,a.index,this.compressedSize,b,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=e.transformTo("string",this.decompressed.getContent()),g.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(a){if(this.versionMadeBy=a.readInt(2),this.versionNeeded=a.readInt(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4),this.fileNameLength=a.readInt(2),this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=a.readString(this.fileNameLength),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1,a===h&&(this.dosPermissions=63&this.externalFileAttributes),a===i&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var a=new d(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=a.readInt(8)),this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===e.MAX_VALUE_32BITS&&(this.diskNumberStart=a.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index;for(this.extraFields=this.extraFields||{};a.index<e+this.extraFieldsLength;)b=a.readInt(2),c=a.readInt(2),d=a.readString(c),this.extraFields[b]={id:b,length:c,value:d}},handleUTF8:function(){if(this.useUTF8())this.fileName=g.utf8decode(this.fileName),this.fileComment=g.utf8decode(this.fileComment);else{var a=this.findExtraFieldUnicodePath();null!==a&&(this.fileName=a);var b=this.findExtraFieldUnicodeComment();null!==b&&(this.fileComment=b)}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=new d(a.value);return 1!==b.readInt(1)?null:g.crc32(this.fileName)!==b.readInt(4)?null:g.utf8decode(b.readString(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=new d(a.value);return 1!==b.readInt(1)?null:g.crc32(this.fileComment)!==b.readInt(4)?null:g.utf8decode(b.readString(a.length-5))}return null}},b.exports=c},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(a,b){"use strict";var c=a("./lib/utils/common").assign,d=a("./lib/deflate"),e=a("./lib/inflate"),f=a("./lib/zlib/constants"),g={};c(g,d,e,f),b.exports=g},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(a,b,c){"use strict";function d(a,b){var c=new s(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function e(a,b){return b=b||{},b.raw=!0,d(a,b)}function f(a,b){return b=b||{},b.gzip=!0,d(a,b)}var g=a("./zlib/deflate.js"),h=a("./utils/common"),i=a("./utils/strings"),j=a("./zlib/messages"),k=a("./zlib/zstream"),l=0,m=4,n=0,o=1,p=-1,q=0,r=8,s=function(a){this.options=h.assign({level:p,method:r,chunkSize:16384,windowBits:15,memLevel:8,strategy:q,to:""},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=g.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==n)throw new Error(j[c]);b.header&&g.deflateSetHeader(this.strm,b.header)};s.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?m:l,e.input="string"==typeof a?i.string2buf(a):a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new h.Buf8(f),e.next_out=0,e.avail_out=f),c=g.deflate(e,d),c!==o&&c!==n)return this.onEnd(c),this.ended=!0,!1
;(0===e.avail_out||0===e.avail_in&&d===m)&&this.onData("string"===this.options.to?i.buf2binstring(h.shrinkBuf(e.output,e.next_out)):h.shrinkBuf(e.output,e.next_out))}while((e.avail_in>0||0===e.avail_out)&&c!==o);return d===m?(c=g.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===n):!0},s.prototype.onData=function(a){this.chunks.push(a)},s.prototype.onEnd=function(a){a===n&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=s,c.deflate=d,c.deflateRaw=e,c.gzip=f},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(a,b,c){"use strict";function d(a,b){var c=new m(b);if(c.push(a,!0),c.err)throw c.msg;return c.result}function e(a,b){return b=b||{},b.raw=!0,d(a,b)}var f=a("./zlib/inflate.js"),g=a("./utils/common"),h=a("./utils/strings"),i=a("./zlib/constants"),j=a("./zlib/messages"),k=a("./zlib/zstream"),l=a("./zlib/gzheader"),m=function(a){this.options=g.assign({chunkSize:16384,windowBits:0,to:""},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var c=f.inflateInit2(this.strm,b.windowBits);if(c!==i.Z_OK)throw new Error(j[c]);this.header=new l,f.inflateGetHeader(this.strm,this.header)};m.prototype.push=function(a,b){var c,d,e,j,k,l=this.strm,m=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?i.Z_FINISH:i.Z_NO_FLUSH,l.input="string"==typeof a?h.binstring2buf(a):a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new g.Buf8(m),l.next_out=0,l.avail_out=m),c=f.inflate(l,i.Z_NO_FLUSH),c!==i.Z_STREAM_END&&c!==i.Z_OK)return this.onEnd(c),this.ended=!0,!1;l.next_out&&(0===l.avail_out||c===i.Z_STREAM_END||0===l.avail_in&&d===i.Z_FINISH)&&("string"===this.options.to?(e=h.utf8border(l.output,l.next_out),j=l.next_out-e,k=h.buf2string(l.output,e),l.next_out=j,l.avail_out=m-j,j&&g.arraySet(l.output,l.output,e,j,0),this.onData(k)):this.onData(g.shrinkBuf(l.output,l.next_out)))}while(l.avail_in>0&&c!==i.Z_STREAM_END);return c===i.Z_STREAM_END&&(d=i.Z_FINISH),d===i.Z_FINISH?(c=f.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===i.Z_OK):!0},m.prototype.onData=function(a){this.chunks.push(a)},m.prototype.onEnd=function(a){a===i.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):g.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=m,c.inflate=d,c.inflateRaw=e,c.ungzip=d},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],28:[function(a,b,c){"use strict";function d(a,b){if(65537>b&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c="",d=0;b>d;d++)c+=String.fromCharCode(a[d]);return c}var e=a("./common"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){g=!1}for(var i=new e.Buf8(256),j=0;256>j;j++)i[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;i[254]=i[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;h>f;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=128>c?1:2048>c?2:65536>c?3:4;for(b=new e.Buf8(i),g=0,f=0;i>g;f++)c=a.charCodeAt(f),55296===(64512&c)&&h>f+1&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),128>c?b[g++]=c:2048>c?(b[g++]=192|c>>>6,b[g++]=128|63&c):65536>c?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;d>c;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,h=b||a.length,j=new Array(2*h);for(e=0,c=0;h>c;)if(f=a[c++],128>f)j[e++]=f;else if(g=i[f],g>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&h>c;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:65536>f?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return 0>c?b:0===c?b:c+i[a[c]]>b?c:b}},{"./common":27}],29:[function(a,b){"use strict";function c(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do{e=e+b[d++]|0,f=f+e|0}while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=c},{}],30:[function(a,b){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(a,b){"use strict";function c(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function d(a,b,c,d){var f=e,g=d+c;a=-1^a;for(var h=d;g>h;h++)a=a>>>8^f[255&(a^b[h])];return-1^a}var e=c();b.exports=d},{}],32:[function(a,b,c){"use strict";function d(a,b){return a.msg=G[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(C.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){D._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,C.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=E(a.adler,b,e,c):2===a.state.wrap&&(a.adler=F(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-jb?a.strstart-(a.w_size-jb):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ib,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do{if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do{}while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&m>f);if(d=ib-(m-f),f=m-ib,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-jb)){C.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do{d=a.head[--b],a.head[b]=d>=g?d-g:0}while(--c);c=g,b=c;do{d=a.prev[--b],a.prev[b]=d>=g?d-g:0}while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=hb)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+hb-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<hb)););}while(a.lookahead<jb&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===H)return sb;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return sb;if(a.strstart-a.block_start>=a.w_size-jb&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?sb:sb}function o(a,b){for(var c,d;;){if(a.lookahead<jb){if(m(a),a.lookahead<jb&&b===H)return sb;if(0===a.lookahead)break}if(c=0,a.lookahead>=hb&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-jb&&(a.match_length=l(a,c)),a.match_length>=hb)if(d=D._tr_tally(a,a.strstart-a.match_start,a.match_length-hb),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=hb){a.match_length--;do{a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart}while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=a.strstart<hb-1?a.strstart:hb-1,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function p(a,b){for(var c,d,e;;){if(a.lookahead<jb){if(m(a),a.lookahead<jb&&b===H)return sb;if(0===a.lookahead)break}if(c=0,a.lookahead>=hb&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=hb-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-jb&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===S||a.match_length===hb&&a.strstart-a.match_start>4096)&&(a.match_length=hb-1)),a.prev_length>=hb&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-hb,d=D._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-hb),a.lookahead-=a.prev_length-1,a.prev_length-=2;do{++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+hb-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart)}while(0!==--a.prev_length);if(a.match_available=0,a.match_length=hb-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return sb}else if(a.match_available){if(d=D._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return sb}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=D._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<hb-1?a.strstart:hb-1,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ib){if(m(a),a.lookahead<=ib&&b===H)return sb;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=hb&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ib;do{}while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&f>e);a.match_length=ib-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=hb?(c=D._tr_tally(a,1,a.match_length-hb),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===H)return sb;break}if(a.match_length=0,c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return sb}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ub:vb):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sb:tb}function s(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=B[a.level].max_lazy,a.good_match=B[a.level].good_length,a.nice_match=B[a.level].nice_length,a.max_chain_length=B[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=hb-1,a.match_available=0,a.ins_h=0}function t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*fb),this.dyn_dtree=new C.Buf16(2*(2*db+1)),this.bl_tree=new C.Buf16(2*(2*eb+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(gb+1),this.heap=new C.Buf16(2*cb+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*cb+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function u(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=X,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?lb:qb,a.adler=2===b.wrap?0:1,b.last_flush=H,D._tr_init(b),M):d(a,O)}function v(a){var b=u(a);return b===M&&s(a.state),b}function w(a,b){return a&&a.state?2!==a.state.wrap?O:(a.state.gzhead=b,M):O}function x(a,b,c,e,f,g){if(!a)return O;var h=1;if(b===R&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>Z||c!==Y||8>e||e>15||0>b||b>9||0>g||g>V)return d(a,O);8===e&&(e=9);var i=new t;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+hb-1)/hb),i.window=new C.Buf8(2*i.w_size),i.head=new C.Buf16(i.hash_size),i.prev=new C.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new C.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,v(a)}function y(a,b){return x(a,b,Y,$,_,W)}function z(a,b){var c,h,k,l;if(!a||!a.state||b>L||0>b)return a?d(a,O):O;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===rb&&b!==K)return d(a,0===a.avail_out?Q:O);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===lb)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=F(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=mb):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,wb),h.status=qb);else{var m=Y+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=T||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=kb),m+=31-m%31,h.status=qb,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===mb)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=nb)}else h.status=nb;if(h.status===nb)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=ob)}else h.status=ob;if(h.status===ob)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=pb)}else h.status=pb;if(h.status===pb&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=qb)):h.status=qb),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,M}else if(0===a.avail_in&&e(b)<=e(c)&&b!==K)return d(a,Q);if(h.status===rb&&0!==a.avail_in)return d(a,Q);if(0!==a.avail_in||0!==h.lookahead||b!==H&&h.status!==rb){var o=h.strategy===T?r(h,b):h.strategy===U?q(h,b):B[h.level].func(h,b);if((o===ub||o===vb)&&(h.status=rb),o===sb||o===ub)return 0===a.avail_out&&(h.last_flush=-1),M;if(o===tb&&(b===I?D._tr_align(h):b!==L&&(D._tr_stored_block(h,0,0,!1),b===J&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,M}return b!==K?M:h.wrap<=0?N:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?M:N)}function A(a){var b;return a&&a.state?(b=a.state.status,b!==lb&&b!==mb&&b!==nb&&b!==ob&&b!==pb&&b!==qb&&b!==rb?d(a,O):(a.state=null,b===qb?d(a,P):M)):O}var B,C=a("../utils/common"),D=a("./trees"),E=a("./adler32"),F=a("./crc32"),G=a("./messages"),H=0,I=1,J=3,K=4,L=5,M=0,N=1,O=-2,P=-3,Q=-5,R=-1,S=1,T=2,U=3,V=4,W=0,X=2,Y=8,Z=9,$=15,_=8,ab=29,bb=256,cb=bb+1+ab,db=30,eb=19,fb=2*cb+1,gb=15,hb=3,ib=258,jb=ib+hb+1,kb=32,lb=42,mb=69,nb=73,ob=91,pb=103,qb=113,rb=666,sb=1,tb=2,ub=3,vb=4,wb=3,xb=function(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e};B=[new xb(0,0,0,0,n),new xb(4,4,8,4,o),new xb(4,5,16,8,o),new xb(4,6,32,32,o),new xb(4,4,16,16,p),new xb(8,16,32,32,p),new xb(8,16,128,128,p),new xb(8,32,128,256,p),new xb(32,128,258,1024,p),new xb(32,258,258,4096,p)],c.deflateInit=y,c.deflateInit2=x,c.deflateReset=v,c.deflateResetKeep=u,c.deflateSetHeader=w,c.deflate=z,c.deflateEnd=A,c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(a,b){"use strict";function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}b.exports=c},{}],34:[function(a,b){"use strict";var c=30,d=12;b.exports=function(a,b){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;e=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=e.dmax,l=e.wsize,m=e.whave,n=e.wnext,o=e.window,p=e.hold,q=e.bits,r=e.lencode,s=e.distcode,t=(1<<e.lenbits)-1,u=(1<<e.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){e.mode=d;break a}a.msg="invalid literal/length code",e.mode=c;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg="invalid distance code",e.mode=c;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg="invalid distance too far back",e.mode=c;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&e.sane){a.msg="invalid distance too far back",e.mode=c;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do{C[h++]=o[z++]}while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do{C[h++]=o[z++]}while(--w);if(z=0,x>n){w=n,x-=w;do{C[h++]=o[z++]}while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do{C[h++]=o[z++]}while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do{C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3}while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),e.hold=p,e.bits=q}},{}],35:[function(a,b,c){"use strict";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(ob),b.distcode=b.distdyn=new r.Buf32(pb),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,rb)}function k(a){if(sb){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),sb=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab=0,Bb=new r.Buf8(4),Cb=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xb=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg="incorrect header check",c.mode=lb;break}if((15&m)!==J){a.msg="unknown compression method",c.mode=lb;break}if(m>>>=4,n-=4,wb=(15&m)+8,0===c.wbits)c.wbits=wb;else if(wb>c.wbits){a.msg="invalid window size",c.mode=lb;break}c.dmax=1<<wb,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg="unknown compression method",c.mode=lb;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=lb;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,Bb[2]=m>>>16&255,Bb[3]=m>>>24&255,c.check=t(c.check,Bb,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Bb[0]=255&m,Bb[1]=m>>>8&255,c.check=t(c.check,Bb,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wb=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wb)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do{wb=e[g+q++],c.head&&wb&&c.length<65536&&(c.head.name+=String.fromCharCode(wb))}while(wb&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wb)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do{wb=e[g+q++],c.head&&wb&&c.length<65536&&(c.head.comment+=String.fromCharCode(wb))}while(wb&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wb)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg="header crc mismatch",c.mode=lb;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ib;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=bb,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg="invalid block type",c.mode=lb}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg="invalid stored block lengths",c.mode=lb;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=lb;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Cb[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Cb[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,yb={bits:c.lenbits},xb=v(w,c.lens,0,19,c.lencode,0,c.work,yb),c.lenbits=yb.bits,xb){a.msg="invalid code lengths set",c.mode=lb;break}c.have=0,c.mode=ab;case ab:for(;c.have<c.nlen+c.ndist;){for(;Ab=c.lencode[m&(1<<c.lenbits)-1],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sb)m>>>=qb,n-=qb,c.lens[c.have++]=sb;else{if(16===sb){for(zb=qb+2;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qb,n-=qb,0===c.have){a.msg="invalid bit length repeat",c.mode=lb;break}wb=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sb){for(zb=qb+3;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qb,n-=qb,wb=0,q=3+(7&m),m>>>=3,n-=3}else{for(zb=qb+7;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qb,n-=qb,wb=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=lb;break}for(;q--;)c.lens[c.have++]=wb}}if(c.mode===lb)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=lb;break}if(c.lenbits=9,yb={bits:c.lenbits},xb=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,yb),c.lenbits=yb.bits,xb){a.msg="invalid literal/lengths set",c.mode=lb;break}if(c.distbits=6,c.distcode=c.distdyn,yb={bits:c.distbits},xb=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,yb),c.distbits=yb.bits,xb){a.msg="invalid distances set",c.mode=lb;break}if(c.mode=bb,b===B)break a;case bb:c.mode=cb;case cb:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);break}for(c.back=0;Ab=c.lencode[m&(1<<c.lenbits)-1],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(rb&&0===(240&rb)){for(tb=qb,ub=rb,vb=sb;Ab=c.lencode[vb+((m&(1<<tb+ub)-1)>>tb)],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=tb+qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=tb,n-=tb,c.back+=tb}if(m>>>=qb,n-=qb,c.back+=qb,c.length=sb,0===rb){c.mode=hb;break}if(32&rb){c.back=-1,c.mode=V;break}if(64&rb){a.msg="invalid literal/length code",c.mode=lb;break}c.extra=15&rb,c.mode=db;case db:if(c.extra){for(zb=c.extra;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=eb;case eb:for(;Ab=c.distcode[m&(1<<c.distbits)-1],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&rb)){for(tb=qb,ub=rb,vb=sb;Ab=c.distcode[vb+((m&(1<<tb+ub)-1)>>tb)],qb=Ab>>>24,rb=Ab>>>16&255,sb=65535&Ab,!(n>=tb+qb);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=tb,n-=tb,c.back+=tb}if(m>>>=qb,n-=qb,c.back+=qb,64&rb){a.msg="invalid distance code",c.mode=lb;break}c.offset=sb,c.extra=15&rb,c.mode=fb;case fb:if(c.extra){for(zb=c.extra;zb>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=lb;break}c.mode=gb;case gb:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=lb;break}q>c.wnext?(q-=c.wnext,ob=c.wsize-q):ob=c.wnext-q,q>c.length&&(q=c.length),pb=c.window}else pb=f,ob=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do{f[h++]=pb[ob++]}while(--q);0===c.length&&(c.mode=cb);break;case hb:
if(0===j)break a;f[h++]=c.length,j--,c.mode=cb;break;case ib:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg="incorrect data check",c.mode=lb;break}m=0,n=0}c.mode=jb;case jb:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=lb;break}m=0,n=0}c.mode=kb;case kb:xb=D;break a;case lb:xb=G;break a;case mb:return H;case nb:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<lb&&(c.mode<ib||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=mb,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===bb||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xb===C&&(xb=I),xb)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a("../utils/common"),s=a("./adler32"),t=a("./crc32"),u=a("./inffast"),v=a("./inftrees"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,ab=19,bb=20,cb=21,db=22,eb=23,fb=24,gb=25,hb=26,ib=27,jb=28,kb=29,lb=30,mb=31,nb=32,ob=852,pb=592,qb=15,rb=qb,sb=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(a,b){"use strict";var c=a("../utils/common"),d=15,e=852,f=592,g=0,h=1,i=2,j=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,n,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new c.Buf16(d+1),Q=new c.Buf16(d+1),R=null,S=0;for(D=0;d>=D;D++)P[D]=0;for(E=0;o>E;E++)P[b[n+E]]++;for(H=C,G=d;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;G>F&&0===P[F];F++);for(F>H&&(H=F),K=1,D=1;d>=D;D++)if(K<<=1,K-=P[D],0>K)return-1;if(K>0&&(a===g||1!==G))return-1;for(Q[1]=0,D=1;d>D;D++)Q[D+1]=Q[D]+P[D];for(E=0;o>E;E++)0!==b[n+E]&&(r[Q[b[n+E]]++]=E);if(a===g?(N=R=r,y=19):a===h?(N=j,O-=257,R=k,S-=257,y=256):(N=l,R=m,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===h&&L>e||a===i&&L>f)return 1;for(var T=0;;){T++,z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do{u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0}while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[n+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;G>I+J&&(K-=P[I+J],!(0>=K));)I++,K<<=1;if(L+=1<<I,a===h&&L>e||a===i&&L>f)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{"../utils/common":27}],37:[function(a,b){"use strict";b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(a,b,c){"use strict";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a){return 256>a?gb[a]:gb[256+(a>>>7)]}function f(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function g(a,b,c){a.bi_valid>V-c?(a.bi_buf|=b<<a.bi_valid&65535,f(a,a.bi_buf),a.bi_buf=b>>V-a.bi_valid,a.bi_valid+=c-V):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function h(a,b,c){g(a,c[2*b],c[2*b+1])}function i(a,b){var c=0;do{c|=1&a,a>>>=1,c<<=1}while(--b>0);return c>>>1}function j(a){16===a.bi_valid?(f(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function k(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;U>=f;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;T>c;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function l(a,b,c){var d,e,f=new Array(U+1),g=0;for(d=1;U>=d;d++)f[d]=g=g+c[d-1]<<1;for(e=0;b>=e;e++){var h=a[2*e+1];0!==h&&(a[2*e]=i(f[h]++,h))}}function m(){var a,b,c,d,e,f=new Array(U+1);for(c=0,d=0;O-1>d;d++)for(ib[d]=c,a=0;a<1<<_[d];a++)hb[c++]=d;for(hb[c-1]=d,e=0,d=0;16>d;d++)for(jb[d]=e,a=0;a<1<<ab[d];a++)gb[e++]=d;for(e>>=7;R>d;d++)for(jb[d]=e<<7,a=0;a<1<<ab[d]-7;a++)gb[256+e++]=d;for(b=0;U>=b;b++)f[b]=0;for(a=0;143>=a;)eb[2*a+1]=8,a++,f[8]++;for(;255>=a;)eb[2*a+1]=9,a++,f[9]++;for(;279>=a;)eb[2*a+1]=7,a++,f[7]++;for(;287>=a;)eb[2*a+1]=8,a++,f[8]++;for(l(eb,Q+1,f),a=0;R>a;a++)fb[2*a+1]=5,fb[2*a]=i(a,5);kb=new nb(eb,_,P+1,Q,U),lb=new nb(fb,ab,0,R,U),mb=new nb(new Array(0),bb,0,S,W)}function n(a){var b;for(b=0;Q>b;b++)a.dyn_ltree[2*b]=0;for(b=0;R>b;b++)a.dyn_dtree[2*b]=0;for(b=0;S>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*X]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function o(a){a.bi_valid>8?f(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function p(a,b,c,d){o(a),d&&(f(a,c),f(a,~c)),E.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function q(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function r(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&q(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!q(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function s(a,b,c){var d,f,i,j,k=0;if(0!==a.last_lit)do{d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],f=a.pending_buf[a.l_buf+k],k++,0===d?h(a,f,b):(i=hb[f],h(a,i+P+1,b),j=_[i],0!==j&&(f-=ib[i],g(a,f,j)),d--,i=e(d),h(a,i,c),j=ab[i],0!==j&&(d-=jb[i],g(a,d,j)))}while(k<a.last_lit);h(a,X,b)}function t(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=T,c=0;i>c;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=2>j?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)r(a,f,c);e=i;do{c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],r(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,r(a,f,1)}while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],k(a,b),l(f,j,a.bl_count)}function u(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(j>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*Y]++):10>=h?a.bl_tree[2*Z]++:a.bl_tree[2*$]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function v(a,b,c){var d,e,f=-1,i=b[1],j=0,k=7,l=4;for(0===i&&(k=138,l=3),d=0;c>=d;d++)if(e=i,i=b[2*(d+1)+1],!(++j<k&&e===i)){if(l>j){do{h(a,e,a.bl_tree)}while(0!==--j)}else 0!==e?(e!==f&&(h(a,e,a.bl_tree),j--),h(a,Y,a.bl_tree),g(a,j-3,2)):10>=j?(h(a,Z,a.bl_tree),g(a,j-3,3)):(h(a,$,a.bl_tree),g(a,j-11,7));j=0,f=e,0===i?(k=138,l=3):e===i?(k=6,l=3):(k=7,l=4)}}function w(a){var b;for(u(a,a.dyn_ltree,a.l_desc.max_code),u(a,a.dyn_dtree,a.d_desc.max_code),t(a,a.bl_desc),b=S-1;b>=3&&0===a.bl_tree[2*cb[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function x(a,b,c,d){var e;for(g(a,b-257,5),g(a,c-1,5),g(a,d-4,4),e=0;d>e;e++)g(a,a.bl_tree[2*cb[e]+1],3);v(a,a.dyn_ltree,b-1),v(a,a.dyn_dtree,c-1)}function y(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return G;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return H;for(b=32;P>b;b++)if(0!==a.dyn_ltree[2*b])return H;return G}function z(a){pb||(m(),pb=!0),a.l_desc=new ob(a.dyn_ltree,kb),a.d_desc=new ob(a.dyn_dtree,lb),a.bl_desc=new ob(a.bl_tree,mb),a.bi_buf=0,a.bi_valid=0,n(a)}function A(a,b,c,d){g(a,(J<<1)+(d?1:0),3),p(a,b,c,!0)}function B(a){g(a,K<<1,3),h(a,X,eb),j(a)}function C(a,b,c,d){var e,f,h=0;a.level>0?(a.strm.data_type===I&&(a.strm.data_type=y(a)),t(a,a.l_desc),t(a,a.d_desc),h=w(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,e>=f&&(e=f)):e=f=c+5,e>=c+4&&-1!==b?A(a,b,c,d):a.strategy===F||f===e?(g(a,(K<<1)+(d?1:0),3),s(a,eb,fb)):(g(a,(L<<1)+(d?1:0),3),x(a,a.l_desc.max_code+1,a.d_desc.max_code+1,h+1),s(a,a.dyn_ltree,a.dyn_dtree)),n(a),d&&o(a)}function D(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(hb[c]+P+1)]++,a.dyn_dtree[2*e(b)]++),a.last_lit===a.lit_bufsize-1}var E=a("../utils/common"),F=4,G=0,H=1,I=2,J=0,K=1,L=2,M=3,N=258,O=29,P=256,Q=P+1+O,R=30,S=19,T=2*Q+1,U=15,V=16,W=7,X=256,Y=16,Z=17,$=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ab=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],bb=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],cb=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],db=512,eb=new Array(2*(Q+2));d(eb);var fb=new Array(2*R);d(fb);var gb=new Array(db);d(gb);var hb=new Array(N-M+1);d(hb);var ib=new Array(O);d(ib);var jb=new Array(R);d(jb);var kb,lb,mb,nb=function(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length},ob=function(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b},pb=!1;c._tr_init=z,c._tr_stored_block=A,c._tr_flush_block=C,c._tr_tally=D,c._tr_align=B},{"../utils/common":27}],39:[function(a,b){"use strict";function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}b.exports=c},{}]},{},[9])(9)});var saveAs=saveAs||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=e.webkitRequestFileSystem,c=e.requestFileSystem||a||e.mozRequestFileSystem,u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},f="application/octet-stream",s=0,d=500,l=function(t){var o=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,d)},v=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(i){u(i)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},w=function(t,u,d){d||(t=p(t));var w,y,m,S=this,h=t.type,O=!1,R=function(){v(S,"writestart progress write writeend".split(" "))},b=function(){if((O||!w)&&(w=n().createObjectURL(t)),y)y.location.href=w;else{var o=e.open(w,"_blank");void 0==o&&"undefined"!=typeof safari&&(e.location.href=w)}S.readyState=S.DONE,R(),l(w)},g=function(e){return function(){return S.readyState!==S.DONE?e.apply(this,arguments):void 0}},E={create:!0,exclusive:!1};return S.readyState=S.INIT,u||(u="download"),r?(w=n().createObjectURL(t),o.href=w,o.download=u,void setTimeout(function(){i(o),R(),l(w),S.readyState=S.DONE})):(e.chrome&&h&&h!==f&&(m=t.slice||t.webkitSlice,t=m.call(t,0,t.size,f),O=!0),a&&"download"!==u&&(u+=".download"),(h===f||a)&&(y=e),c?(s+=t.size,void c(e.TEMPORARY,s,g(function(e){e.root.getDirectory("saved",E,g(function(e){var n=function(){e.getFile(u,E,g(function(e){e.createWriter(g(function(n){n.onwriteend=function(t){y.location.href=e.toURL(),S.readyState=S.DONE,v(S,"writeend",t),l(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&b()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=S["on"+e]}),n.write(t),S.abort=function(){n.abort(),S.readyState=S.DONE},S.readyState=S.WRITING}),b)}),b)};e.getFile(u,{create:!1},g(function(e){e.remove(),n()}),g(function(e){e.code===e.NOT_FOUND_ERR?n():b()}))}),b)}),b)):void b())},y=w.prototype,m=function(e,t,n){return new w(e,t,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(y.abort=function(){var e=this;e.readyState=e.DONE,v(e,"abort")},y.readyState=y.INIT=0,y.WRITING=1,y.DONE=2,y.error=y.onwritestart=y.onprogress=y.onwrite=y.onabort=y.onerror=y.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define("thirdparty/FileSaver",[],function(){return saveAs});define("filesystem/impls/filer/ArchiveUtils",["require","exports","module","command/CommandManager","command/Commands","filesystem/impls/filer/lib/async","bramble/StartupState","thirdparty/jszip/dist/jszip.min","filesystem/impls/filer/FileSystemCache","filesystem/FileSystem","filesystem/impls/filer/BracketsFiler","filesystem/impls/filer/FilerUtils","thirdparty/FileSaver","widgets/Dialogs","widgets/DefaultDialogs","strings","utils/StringUtils"],function(require,exports,module){"use strict";var CommandManager=require("command/CommandManager");var Commands=require("command/Commands");var async=require("filesystem/impls/filer/lib/async");var StartupState=require("bramble/StartupState");var JSZip=require("thirdparty/jszip/dist/jszip.min");var FileSystemCache=require("filesystem/impls/filer/FileSystemCache");var FileSystem=require("filesystem/FileSystem");var Filer=require("filesystem/impls/filer/BracketsFiler");var FilerUtils=require("filesystem/impls/filer/FilerUtils");var saveAs=require("thirdparty/FileSaver");var Dialogs=require("widgets/Dialogs");var DefaultDialogs=require("widgets/DefaultDialogs");var Strings=require("strings");var StringUtils=require("utils/StringUtils");var Buffer=Filer.Buffer;var Path=Filer.Path;var fs=Filer.fs();function skipFile(filename){var basename=Path.basename(filename);if(/^__MACOSX\//.test(filename)){return true}if(basename===".DS_Store"){return true}if(/^\._/.test(basename)){return true}if(/(Tt)humbs\.db/.test(basename)){return true}if(basename==="desktop.ini"){return true}return false}function _refreshFilesystem(callback){CommandManager.execute(Commands.FILE_REFRESH).always(callback)}function unzip(zipfile,options,callback){var projectPrefix=StartupState.project("zipFilenamePrefix").replace(/\/?$/,"/");if(typeof options==="function"){callback=options;options={}}options=options||{};callback=callback||function(){};if(!zipfile){callback(new Error("missing zipfile argument"));return}var root=options.root||StartupState.project("root");var destination=Path.resolve(options.destination||root);function _unzip(data){var archive=new JSZip(data);var filenames=[];archive.filter(function(relPath,file){if(skipFile(file.name)){return}var isDir=file.options.dir;var filename=removeThimbleProjectFolder(file.name);filenames.push({absPath:Path.join(destination,filename),isDirectory:isDir,data:isDir?null:new Buffer(file.asArrayBuffer())})});function removeThimbleProjectFolder(path){return path.replace(projectPrefix,"")}function decompress(path,callback){var basedir=Path.dirname(path.absPath);if(path.isDirectory){fs.mkdirp(path.absPath,callback)}else{fs.stat(basedir,function(err,stats){if(err){if(err.code!=="ENOENT"){return callback(err)}fs.mkdirp(basedir,function(err){if(err){return callback(err)}FilerUtils.writeFileAsBinary(path.absPath,path.data,callback)})}else{FilerUtils.writeFileAsBinary(path.absPath,path.data,callback)}})}}async.eachSeries(filenames,decompress,function(err){if(err){return callback(err)}_refreshFilesystem(function(err){if(err){return callback(err)}Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_INFO,Strings.DND_SUCCESS_UNZIP_TITLE).getPromise().then(function(){callback(null)},callback)})})}if(typeof zipfile==="string"){FilerUtils.readFileAsBinary(Path.resolve(root,zipfile)).fail(callback).done(_unzip)}else{_unzip(zipfile)}}function archive(path,rootName,callback){var root=StartupState.project("root");var pathPrefix=path.replace(/\/?$/,"");if(typeof rootName==="function"){callback=rootName;rootName=null}rootName=(rootName||StartupState.project("zipFilenamePrefix")).replace(/\/?$/,"");callback=callback||function(){};var zipFilename=rootName+".zip";var rootFolder=rootName+"/";var jszip=new JSZip;function toRelProjectPath(path){return path.replace(pathPrefix,rootFolder)}function addFile(path,callback){FilerUtils.readFileAsBinary(path).fail(callback).done(function(data){jszip.file(toRelProjectPath(path),data.buffer,{binary:true});callback()})}function addDir(path,callback){fs.readdir(path,function(err,list){jszip.folder(toRelProjectPath(path));async.eachSeries(list,function(entry,callback){add(Path.join(path,entry),callback)},callback)})}function add(path,callback){path=Path.resolve(root,path);fs.stat(path,function(err,stats){if(err){return callback(err)}if(stats.type==="DIRECTORY"){addDir(path,callback)}else{addFile(path,callback)}})}add(path,function(err){if(err){return callback(err)}var compressed=jszip.generate({type:"arraybuffer"});var blob=new Blob([compressed],{type:"application/zip"});saveAs(blob,zipFilename);callback()})}function untar(tarArchive,options,callback){if(typeof options==="function"){callback=options;options={}}options=options||{};callback=callback||function(){};var untarWorker=new Worker("thirdparty/bitjs/bitjs-untar.min.js");var root=options.root||StartupState.project("root");var pending=null;function extract(path,data,callback){path=Path.resolve(root,path);var basedir=Path.dirname(path);if(skipFile(path)){return callback()}fs.mkdirp(basedir,function(err){if(err&&err.code!=="EEXIST"){return callback(err)}FilerUtils.writeFileAsBinary(path,new Buffer(data),callback)})}function finish(err){untarWorker.terminate();untarWorker=null;_refreshFilesystem(function(err){if(err){return callback(err)}Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_INFO,Strings.DND_SUCCESS_UNTAR_TITLE).getPromise().then(function(){callback(null)},callback)})}function writeCallback(err){if(err){console.error("[Bramble untar] couldn't extract file",err)}pending--;if(pending===0){finish(err)}}untarWorker.addEventListener("message",function(e){var data=e.data;if(data.type==="progress"&&pending===null){pending=data.totalFilesInArchive}else if(data.type==="extract"){extract(data.unarchivedFile.filename,data.unarchivedFile.fileData,writeCallback)}else if(data.type==="error"){finish(new Error("[Bramble untar]: "+data.msg))}});untarWorker.postMessage({file:tarArchive.buffer})}exports.skipFile=skipFile;exports.archive=archive;exports.unzip=unzip;exports.untar=untar});define("filesystem/impls/filer/lib/LegacyFileImport",["require","exports","module","thirdparty/lodash","utils/Async","filesystem/FileSystem","file/FileUtils","strings","filesystem/impls/filer/BracketsFiler","filesystem/impls/filer/lib/content","filesystem/impls/filer/ArchiveUtils"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),Async=require("utils/Async"),FileSystem=require("filesystem/FileSystem"),FileUtils=require("file/FileUtils"),Strings=require("strings"),Filer=require("filesystem/impls/filer/BracketsFiler"),Path=Filer.Path,Content=require("filesystem/impls/filer/lib/content"),ArchiveUtils=require("filesystem/impls/filer/ArchiveUtils");function LegacyFileImport(){}LegacyFileImport.prototype.import=function(source,parentPath,callback){var files=source instanceof DataTransfer?source.files:source;var pathList=[];var errorList=[];if(!(files&&files.length)){return callback()}function shouldOpenFile(filename,encoding){return Content.isImage(Path.extname(filename))||encoding==="utf8"}function handleRegularFile(deferred,file,filename,buffer,encoding){if(ArchiveUtils.skipFile(filename)){deferred.resolve();return}file.write(buffer,{encoding:encoding},function(err){if(err){errorList.push({path:filename,error:"unable to write file: "+err.message||""});deferred.reject(err);return}if(shouldOpenFile(filename,encoding)){pathList.push(filename)}deferred.resolve()})}function handleZipFile(deferred,file,filename,buffer,encoding){var basename=Path.basename(filename);ArchiveUtils.unzip(buffer,{root:parentPath},function(err){if(err){errorList.push({path:filename,error:Strings.DND_ERROR_UNZIP});deferred.reject(err);return}deferred.resolve()})}function handleTarFile(deferred,file,filename,buffer,encoding){var basename=Path.basename(filename);ArchiveUtils.untar(buffer,{root:parentPath},function(err){if(err){errorList.push({path:filename,error:Strings.DND_ERROR_UNTAR});deferred.reject(err);return}deferred.resolve()})}function prepareDropPaths(fileList){function rateFileByType(filename){var ext=Path.extname(filename);if(Content.isHTML(ext)||Content.isMarkdown(ext)){return 10}else if(Content.isCSS(ext)){return 8}else if(Content.isImage(ext)){return 1}return 3}return _.toArray(fileList).sort(function(a,b){a=rateFileByType(a.name);b=rateFileByType(b.name);if(a<b){return-1}if(a>b){return 1}return 0})}function maybeImportFile(item){var deferred=new $.Deferred;var reader=new FileReader;var wasRejected=Content.shouldRejectFile(item.name,item.size);if(wasRejected){errorList.push({path:item.name,error:wasRejected.message});deferred.reject(wasRejected);return deferred.promise()}reader.onload=function(e){delete reader.onload;var filename=Path.join(parentPath,item.name);var file=FileSystem.getFileForPath(filename);var ext=Path.extname(filename).toLowerCase();var buffer=new Filer.Buffer(e.target.result);var utf8FromExt=Content.isUTF8Encoded(ext);var utf8FromOS=Content.isTextType(item.type);var encoding=utf8FromExt||utf8FromOS?"utf8":null;if(encoding==="utf8"){buffer=buffer.toString()}if(ext===".zip"){handleZipFile(deferred,file,filename,buffer,encoding)}else if(ext===".tar"){handleTarFile(deferred,file,filename,buffer,encoding)}else{handleRegularFile(deferred,file,filename,buffer,encoding)}};reader.onerror=function(e){delete reader.onerror;errorList.push({path:item.name,error:e.target.error.message});deferred.reject(e.target.error)};reader.readAsArrayBuffer(item);return deferred.promise()}Async.doSequentially(prepareDropPaths(files),maybeImportFile,false).done(function(){callback(null,pathList)}).fail(function(){callback(errorList)})};exports.create=function(options){return new LegacyFileImport(options)}});define("filesystem/impls/filer/lib/WebKitFileImport",["require","exports","module","thirdparty/lodash","utils/Async","filesystem/FileSystem","file/FileUtils","strings","filesystem/impls/filer/BracketsFiler","filesystem/impls/filer/lib/content","filesystem/impls/filer/ArchiveUtils"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),Async=require("utils/Async"),FileSystem=require("filesystem/FileSystem"),FileUtils=require("file/FileUtils"),Strings=require("strings"),Filer=require("filesystem/impls/filer/BracketsFiler"),Path=Filer.Path,Content=require("filesystem/impls/filer/lib/content"),ArchiveUtils=require("filesystem/impls/filer/ArchiveUtils");function WebKitFileImport(){}WebKitFileImport.prototype.import=function(source,parentPath,callback){var items=source instanceof DataTransfer?source.items:source;var pathList=[];var errorList=[];var started=0;var completed=0;if(!(items&&items.length)){return callback()}function shouldOpenFile(filename,encoding){return Content.isImage(Path.extname(filename))||encoding==="utf8"}function checkDone(){if(started===completed){if(errorList.length){callback(errorList)}else{callback(null,pathList)}}}function onError(deferred,path,err){completed++;errorList.push({path:path,error:err.message});deferred.reject(err);checkDone()}function onSuccess(deferred){completed++;deferred.resolve();checkDone()}function handleDirectory(deferred,entry,path){function readDir(folder,callback){var reading=0;function read(reader){reading++;reader.readEntries(function(entries){reading--;entries.forEach(function(entry){if(entry.isDirectory){maybeImportDirectory(path,entry)}else{maybeImportFile(path,entry)}});if(entries.length){read(reader)}else if(reading===0){callback()}})}read(folder.createReader())}FileSystem.getDirectoryForPath(path).create(function(err){if(err&&err.code!=="EEXIST"){onError(deferred,path,err);return}completed++;readDir(entry,function(files){deferred.resolve()})})}function handleRegularFile(deferred,file,filename,buffer,encoding){file.write(buffer,{encoding:encoding},function(err){if(err){onError(deferred,filename,err);return}if(shouldOpenFile(filename,encoding)){pathList.push(filename)}onSuccess(deferred)})}function handleZipFile(deferred,file,filename,buffer,encoding){var basename=Path.basename(filename);ArchiveUtils.unzip(buffer,{root:parentPath},function(err){if(err){onError(deferred,filename,new Error(Strings.DND_ERROR_UNZIP));return}onSuccess(deferred)})}function handleTarFile(deferred,file,filename,buffer,encoding){var basename=Path.basename(filename);ArchiveUtils.untar(buffer,{root:parentPath},function(err){if(err){onError(deferred,filename,new Error(Strings.DND_ERROR_UNTAR));return}onSuccess(deferred)})}function maybeImportDirectory(parentPath,entry,deferred){started++;var fullPath=Path.join(parentPath,entry.name);deferred=deferred||new $.Deferred;handleDirectory(deferred,entry,fullPath);return deferred.promise()}function maybeImportFile(parentPath,entry,deferred){started++;deferred=deferred||new $.Deferred;entry.file(function(file){var reader=new FileReader;reader.onload=function(e){delete reader.onload;var filename=Path.join(parentPath,entry.name);var file=FileSystem.getFileForPath(filename);var ext=Path.extname(filename).toLowerCase();var buffer=new Filer.Buffer(e.target.result);var utf8FromExt=Content.isUTF8Encoded(ext);var encoding=utf8FromExt?"utf8":null;if(utf8FromExt){buffer=buffer.toString()}if(ArchiveUtils.skipFile(filename)){onSuccess(deferred);return}var wasRejected=Content.shouldRejectFile(entry.name,buffer.byteLength);if(wasRejected){onError(deferred,entry.name,wasRejected);return}if(ext===".zip"){handleZipFile(deferred,file,filename,buffer,encoding)}else if(ext===".tar"){handleTarFile(deferred,file,filename,buffer,encoding)}else{handleRegularFile(deferred,file,filename,buffer,encoding)}};reader.onerror=function(e){delete reader.onerror;onError(deferred,entry.name,e.target.error)};reader.readAsArrayBuffer(file)},function(err){onError(deferred,entry.name,err)});return deferred.promise()}function maybeImport(entry,count){var deferred=new $.Deferred;var err;if(entry.isDirectory){maybeImportDirectory(parentPath,entry,deferred)}else if(entry.isFile){maybeImportFile(parentPath,entry,deferred)}else{err=new Error(Strings.DND_UNSUPPORTED_FILE_TYPE);deferred.reject(err)}}for(var i=0,l=items.length;i<l;i++){maybeImport(items[i].webkitGetAsEntry())}};exports.create=function(options){return new WebKitFileImport(options)}});define("LiveDevelopment/LiveDevelopmentUtils",["require","exports","module","language/LanguageManager","project/ProjectManager"],function(require,exports,module){"use strict";var LanguageManager=require("language/LanguageManager"),ProjectManager=require("project/ProjectManager");var _staticHtmlFileExts=["htm","html","xhtml"],_serverHtmlFileExts=["php","php3","php4","php5","phtm","phtml","cfm","cfml","asp","aspx","jsp","jspx","shtm","shtml"];function isStaticHtmlFileExt(filePath){if(!filePath){return false}return _staticHtmlFileExts.indexOf(LanguageManager.getLanguageForPath(filePath).getId())!==-1}function isServerHtmlFileExt(filePath){if(!filePath){return false}return _serverHtmlFileExts.indexOf(LanguageManager.getLanguageForPath(filePath).getId())!==-1}function isHtmlFileExt(ext){return isStaticHtmlFileExt(ext)||ProjectManager.getBaseUrl()&&isServerHtmlFileExt(ext)}exports.isHtmlFileExt=isHtmlFileExt;exports.isStaticHtmlFileExt=isStaticHtmlFileExt;exports.isServerHtmlFileExt=isServerHtmlFileExt});define("LiveDevelopment/LiveDevServerManager",["require","exports","module"],function(require,exports,module){"use strict";var _serverProviders=[];function _providerSort(a,b){return b.priority-a.priority}function getServer(localPath){var provider,server,i;for(i=0;i<_serverProviders.length;i++){provider=_serverProviders[i];server=provider.create();if(server.canServe(localPath)){return server}}return null}function registerServer(provider,priority){if(!provider.create){console.error("Incompatible live development server provider");return}var providerObj={};providerObj.create=provider.create;providerObj.priority=priority||0;_serverProviders.push(providerObj);_serverProviders.sort(_providerSort);return providerObj}function removeServer(provider){var i;for(i=0;i<_serverProviders.length;i++){if(provider===_serverProviders[i]){_serverProviders.splice(i,1)}}}exports.getProvider=getServer;exports.registerProvider=registerServer;exports.getServer=getServer;exports.registerServer=registerServer;exports.removeServer=removeServer});define("text!LiveDevelopment/MultiBrowserImpl/protocol/remote/LiveDevProtocolRemote.js",[],function(){
return'/*\n * Copyright (c) 2014 - present Adobe Systems Incorporated. All rights reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the "Software"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n *\n */\n\n/*jslint evil: true */\n\n// This is the script that Brackets live development injects into HTML pages in order to\n// establish and maintain the live development socket connection. Note that Brackets may\n// also inject other scripts via "evaluate" once this has connected back to Brackets.\n\n(function (global) {\n    "use strict";\n\n    // This protocol handler assumes that there is also an injected transport script that\n    // has the following methods:\n    //     setCallbacks(obj) - a method that takes an object with a "message" callback that\n    //         will be called with the message string whenever a message is received by the transport.\n    //     send(msgStr) - sends the given message string over the transport.\n    var transport = global._Brackets_LiveDev_Transport;\n\n    /**\n     * Manage messaging between Editor and Browser at the protocol layer.\n     * Handle messages that arrives through the current transport and dispatch them\n     * to subscribers. Subscribers are handlers that implements remote commands/functions.\n     * Property \'method\' of messages body is used as the \'key\' to identify message types.\n     * Provide a \'send\' operation that allows remote commands sending messages to the Editor.\n     */\n    var MessageBroker = {\n\n        /**\n         * Collection of handlers (subscribers) per each method.\n         * To be pushed by \'on\' and consumed by \'trigger\' stored this way:\n         *      handlers[method] = [handler1, handler2, ...]\n         */\n        handlers: {},\n\n         /**\n          * Dispatch messages to handlers according to msg.method value.\n          * @param {Object} msg Message to be dispatched.\n          */\n        trigger: function (msg) {\n            var msgHandlers;\n            if (!msg.method) {\n                // no message type, ignoring it\n                // TODO: should we trigger a generic event?\n                return;\n            }\n            // get handlers for msg.method\n            msgHandlers = this.handlers[msg.method];\n\n            if (msgHandlers && msgHandlers.length > 0) {\n                // invoke handlers with the received message\n                msgHandlers.forEach(function (handler) {\n                    try {\n                        // TODO: check which context should be used to call handlers here.\n                        handler(msg);\n                        return;\n                    } catch (e) {\n                        return;\n                    }\n                });\n            } else {\n                // no subscribers, ignore it.\n                // TODO: any other default handling? (eg. specific respond, trigger as a generic event, etc.);\n                return;\n            }\n        },\n\n        /**\n         * Send a response of a particular message to the Editor.\n         * Original message must provide an \'id\' property\n         * @param {Object} orig Original message.\n         * @param {Object} response Message to be sent as the response.\n         */\n        respond: function (orig, response) {\n            if (!orig.id) { \n                return;\n            }\n            response.id = orig.id;\n            this.send(response);\n        },\n\n        /**\n         * Subscribe handlers to specific messages.\n         * @param {string} method Message type.\n         * @param {function} handler.\n         * TODO: add handler name or any identification mechanism to then implement \'off\'?\n         */\n        on: function (method, handler) {\n            if (!method || !handler) {\n                return;\n            }\n            if (!this.handlers[method]) {\n                //initialize array\n                this.handlers[method] = [];\n            }\n            // add handler to the stack\n            this.handlers[method].push(handler);\n        },\n\n        /**\n         * Send a message to the Editor.\n         * @param {string} msgStr Message to be sent.\n         */\n        send: function (msgStr) {\n            transport.send(JSON.stringify(msgStr));\n        }\n    };\n\n    /**\n     * Runtime Domain. Implements remote commands for "Runtime.*"\n     */\n    var Runtime = {\n        /**\n         * Evaluate an expresion and return its result.\n         */\n        evaluate: function (msg) {\n            var result = eval(msg.params.expression);\n            MessageBroker.respond(msg, {\n                result: JSON.stringify(result) // TODO: in original protocol this is an object handle\n            });\n        }\n    };\n\n    // subscribe handler to method Runtime.evaluate\n    MessageBroker.on("Runtime.evaluate", Runtime.evaluate);\n\n    /**\n     * CSS Domain.\n     */\n    var CSS = {\n\n        setStylesheetText : function (msg) {\n\n            if (!msg || !msg.params || !msg.params.text || !msg.params.url) {\n                return;\n            }\n\n            var i,\n                node;\n\n            var head = window.document.getElementsByTagName(\'head\')[0];\n            // create an style element to replace the one loaded with <link>\n            var s = window.document.createElement(\'style\');\n            s.type = \'text/css\';\n            s.appendChild(window.document.createTextNode(msg.params.text));\n\n            for (i = 0; i < window.document.styleSheets.length; i++) {\n                node = window.document.styleSheets[i];\n                if (node.ownerNode.id === msg.params.url) {\n                    head.insertBefore(s, node.ownerNode); // insert the style element here\n                    // now can remove the style element previously created (if any)\n                    node.ownerNode.parentNode.removeChild(node.ownerNode);\n                } else if (node.href === msg.params.url  && !node.disabled) {\n                    // if the link element to change\n                    head.insertBefore(s, node.ownerNode); // insert the style element here\n                    node.disabled = true;\n                    i++; // since we have just inserted a stylesheet\n                }\n            }\n            s.id = msg.params.url;\n        },\n\n        /**\n        * retrieves the content of the stylesheet\n        * TODO: it now depends on reloadCSS implementation\n        */\n        getStylesheetText: function (msg) {\n            var i,\n                sheet,\n                text = "";\n            for (i = 0; i < window.document.styleSheets.length; i++) {\n                sheet = window.document.styleSheets[i];\n                // if it was already \'reloaded\'\n                if (sheet.ownerNode.id ===  msg.params.url) {\n                    text = sheet.ownerNode.textContent;\n                } else if (sheet.href === msg.params.url && !sheet.disabled) {\n                    var j,\n                        rules;\n\n                    // Deal with Firefox\'s SecurityError when accessing sheets\n                    // from other domains, and Chrome returning `undefined`.\n                    try {\n                        rules = window.document.styleSheets[i].cssRules;\n                    } catch (e) {\n                        if (e.name !== "SecurityError") {\n                            throw e;\n                        }\n                    }\n                    if (!rules) {\n                        return;\n                    }\n\n                    for (j = 0; j < rules.length; j++) {\n                        text += rules[j].cssText + \'\\n\';\n                    }\n                }\n            }\n\n            MessageBroker.respond(msg, {\n                text: text\n            });\n        }\n    };\n\n    MessageBroker.on("CSS.setStylesheetText", CSS.setStylesheetText);\n    MessageBroker.on("CSS.getStylesheetText", CSS.getStylesheetText);\n\n    /**\n     * Page Domain.\n     */\n    var Page = {\n        /**\n         * Reload the current page optionally ignoring cache.\n         * @param {Object} msg\n         */\n        reload: function (msg) {\n            // just reload the page\n            window.location.reload(msg.params.ignoreCache);\n        },\n\n        /**\n         * Navigate to a different page.\n         * @param {Object} msg\n         */\n        navigate: function (msg) {\n            if (msg.params.url) {\n                // navigate to a new page.\n                window.location.replace(msg.params.url);\n            }\n        }\n    };\n\n    // subscribe handler to method Page.reload\n    MessageBroker.on("Page.reload", Page.reload);\n    MessageBroker.on("Page.navigate", Page.navigate);\n    MessageBroker.on("ConnectionClose", Page.close);\n\n\n\n    // By the time this executes, there must already be an active transport.\n    if (!transport) {\n        console.error("[Brackets LiveDev] No transport set");\n        return;\n    }\n\n    var ProtocolManager = {\n\n        _documentObserver: {},\n\n        _protocolHandler: {},\n\n        enable: function () {\n            transport.setCallbacks(this._protocolHandler);\n            transport.enable();\n        },\n\n        onConnect: function () {\n            this._documentObserver.start(window.document, transport);\n        },\n\n        onClose: function () {\n            var body = window.document.getElementsByTagName("body")[0],\n                overlay = window.document.createElement("div"),\n                background = window.document.createElement("div"),\n                status = window.document.createElement("div");\n\n            overlay.style.width = "100%";\n            overlay.style.height = "100%";\n            overlay.style.zIndex = 2227;\n            overlay.style.position = "absolute";\n            overlay.style.top = 0;\n            overlay.style.left = 0;\n\n            background.style.backgroundColor = "#fff";\n            background.style.opacity = 0.5;\n            background.style.width = "100%";\n            background.style.height = "100%";\n            background.style.position = "absolute";\n            background.style.top = 0;\n            background.style.left = 0;\n\n            status.textContent = "Live Development Session has Ended";\n            status.style.width = "100%";\n            status.style.color = "#fff";\n            status.style.backgroundColor = "#666";\n            status.style.position = "absolute";\n            status.style.top = 0;\n            status.style.left = 0;\n            status.style.padding = "0.2em";\n            status.style.verticalAlign = "top";\n            status.style.textAlign = "center";\n            overlay.appendChild(background);\n            overlay.appendChild(status);\n            body.appendChild(overlay);\n\n            // change the title as well\n            window.document.title = "(Brackets Live Preview: closed) " + window.document.title;\n        },\n\n        setDocumentObserver: function (documentOberver) {\n            if (!documentOberver) {\n                return;\n            }\n            this._documentObserver = documentOberver;\n        },\n\n        setProtocolHandler: function (protocolHandler) {\n            if (!protocolHandler) {\n                return;\n            }\n            this._protocolHandler = protocolHandler;\n        }\n    };\n\n    // exposing ProtocolManager\n    global._Brackets_LiveDev_ProtocolManager = ProtocolManager;\n\n    /**\n     * The remote handler for the protocol.\n     */\n    var ProtocolHandler = {\n        /**\n         * Handles a message from the transport. Parses it as JSON and delegates\n         * to MessageBroker who is in charge of routing them to handlers.\n         * @param {string} msgStr The protocol message as stringified JSON.\n         */\n        message: function (msgStr) {\n            var msg;\n            try {\n                msg = JSON.parse(msgStr);\n            } catch (e) {\n                // Ignore any message that isn\'t valid JSON (e.g., coming from an extension)\n                return;\n            }\n            // delegates handling/routing to MessageBroker.\n            MessageBroker.trigger(msg);\n        },\n\n        close: function (evt) {\n            ProtocolManager.onClose();\n        },\n\n        connect: function (evt) {\n            ProtocolManager.onConnect();\n        }\n    };\n\n    ProtocolManager.setProtocolHandler(ProtocolHandler);\n\n    window.addEventListener(\'load\', function () {\n        ProtocolManager.enable();\n    });\n\n}(this));\n'});define("text!LiveDevelopment/MultiBrowserImpl/protocol/remote/DocumentObserver.js",[],function(){return'/*\n * Copyright (c) 2014 - present Adobe Systems Incorporated. All rights reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the "Software"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n *\n */\n\n/*global setInterval, clearInterval */\n\n(function (global) {\n    "use strict";\n\n    var ProtocolManager = global._Brackets_LiveDev_ProtocolManager;\n\n    var _document = null;\n    var _transport;\n\n\n    /**\n     * Retrieves related documents (external CSS and JS files)\n     *\n     * @return {{scripts: object, stylesheets: object}} Related scripts and stylesheets\n     */\n    function related() {\n\n        var rel = {\n            scripts: {},\n            stylesheets: {}\n        };\n        var i;\n        // iterate on document scripts (HTMLCollection doesn\'t provide forEach iterator).\n        for (i = 0; i < _document.scripts.length; i++) {\n            // add only external scripts\n            if (_document.scripts[i].src) {\n                rel.scripts[_document.scripts[i].src] = true;\n            }\n        }\n\n        var s, j;\n        //traverse @import rules\n        var traverseRules = function _traverseRules(sheet, base) {\n            var i,\n                href,\n                cssRules;\n\n            // Deal with cases where we have not sheet, don\'t crash.\n            if(!sheet) {\n                return;\n            }\n            href = sheet.href;\n\n            // Deal with Firefox\'s SecurityError when accessing sheets\n            // from other domains. Chrome will safely return `undefined`.\n            // IE gives an "Access Denied" error (-2147024891), which we also need to catch.\n            try {\n                cssRules = sheet.cssRules;\n            } catch (e) {\n                if (!(e.name === "SecurityError" || e.number === -2147024891)) {\n                    throw e;\n                }\n            }\n\n            if (href && cssRules) {\n                if (rel.stylesheets[href] === undefined) {\n                    rel.stylesheets[href] = [];\n                }\n                rel.stylesheets[href].push(base);\n\n                for (i = 0; i < cssRules.length; i++) {\n                    if (cssRules[i].href) {\n                        traverseRules(cssRules[i].styleSheet, base);\n                    }\n                }\n            }\n        };\n        //iterate on document.stylesheets (StyleSheetList doesn\'t provide forEach iterator).\n        for (j = 0; j < window.document.styleSheets.length; j++) {\n            s = window.document.styleSheets[j];\n            traverseRules(s, s.href);\n        }\n        return rel;\n    }\n\n    /**\n     * Common functions.\n     */\n    var Utils = {\n\n        isExternalStylesheet: function (node) {\n            return (node.nodeName.toUpperCase() === "LINK" && node.rel === "stylesheet" && node.href);\n        },\n        isExternalScript: function (node) {\n            return (node.nodeName.toUpperCase() === "SCRIPT" && node.src);\n        }\n    };\n\n    /**\n     * CSS related commands and notifications\n     */\n    var CSS = {\n\n            /**\n            * Maintains a map of stylesheets loaded thorugh @import rules and their parents.\n            * Populated by extractImports, consumed by notifyImportsAdded / notifyImportsRemoved.\n            * @type {\n            */\n            stylesheets : {},\n\n            /**\n             * Check the stylesheet that was just added be really loaded\n             * to be able to extract potential import-ed stylesheets.\n             * It invokes notifyStylesheetAdded once the sheet is loaded.\n             * @param  {string} href Absolute URL of the stylesheet.\n             */\n            checkForStylesheetLoaded : function (href) {\n                var self = this;\n\n\n                // Inspect CSSRules for @imports:\n                // styleSheet obejct is required to scan CSSImportRules but\n                // browsers differ on the implementation of MutationObserver interface.\n                // Webkit triggers notifications before stylesheets are loaded,\n                // Firefox does it after loading.\n                // There are also differences on when \'load\' event is triggered for\n                // the \'link\' nodes. Webkit triggers it before stylesheet is loaded.\n                // Some references to check:\n                //      http://www.phpied.com/when-is-a-stylesheet-really-loaded/\n                //      http://stackoverflow.com/questions/17747616/webkit-dynamically-created-stylesheet-when-does-it-really-load\n                //        http://stackoverflow.com/questions/11425209/are-dom-mutation-observers-slower-than-dom-mutation-events\n                //\n                // TODO: This is just a temporary \'cross-browser\' solution, it needs optimization.\n                var loadInterval = setInterval(function () {\n                    var i;\n                    for (i = 0; i < window.document.styleSheets.length; i++) {\n                        if (window.document.styleSheets[i].href === href) {\n                            //clear interval\n                            clearInterval(loadInterval);\n                            // notify stylesheets added\n                            self.notifyStylesheetAdded(href);\n                            break;\n                        }\n                    }\n                }, 50);\n            },\n\n            onStylesheetRemoved : function (url) {\n                // get style node created when setting new text for stylesheet.\n                var s = window.document.getElementById(url);\n                // remove\n                if (s && s.parentNode && s.parentNode.removeChild) {\n                    s.parentNode.removeChild(s);\n                }\n            },\n\n            /**\n             * Send a notification for the stylesheet added and\n             * its import-ed styleshets based on document.stylesheets diff\n             * from previous status. It also updates stylesheets status.\n             */\n            notifyStylesheetAdded : function () {\n                var added = {},\n                    current,\n                    newStatus;\n\n                current = this.stylesheets;\n                newStatus = related().stylesheets;\n\n                Object.keys(newStatus).forEach(function (v, i) {\n                    if (!current[v]) {\n                        added[v] = newStatus[v];\n                    }\n                });\n\n                Object.keys(added).forEach(function (v, i) {\n                    _transport.send(JSON.stringify({\n                        method: "StylesheetAdded",\n                        href: v,\n                        roots: [added[v]]\n                    }));\n                });\n\n                this.stylesheets = newStatus;\n            },\n\n            /**\n             * Send a notification for the removed stylesheet and\n             * its import-ed styleshets based on document.stylesheets diff\n             * from previous status. It also updates stylesheets status.\n             */\n            notifyStylesheetRemoved : function () {\n\n                var self = this;\n                var removed = {},\n                    newStatus,\n                    current;\n\n                current = self.stylesheets;\n                newStatus = related().stylesheets;\n\n                Object.keys(current).forEach(function (v, i) {\n                    if (!newStatus[v]) {\n                        removed[v] = current[v];\n                        // remove node created by setStylesheetText if any\n                        self.onStylesheetRemoved(current[v]);\n                    }\n                });\n\n                Object.keys(removed).forEach(function (v, i) {\n                    _transport.send(JSON.stringify({\n                        method: "StylesheetRemoved",\n                        href: v,\n                        roots: [removed[v]]\n                    }));\n                });\n\n                self.stylesheets = newStatus;\n            }\n        };\n\n\n    /* process related docs added */\n    function _onNodesAdded(nodes) {\n        var i;\n        for (i = 0; i < nodes.length; i++) {\n            //check for Javascript files\n            if (Utils.isExternalScript(nodes[i])) {\n                _transport.send(JSON.stringify({\n                    method: \'ScriptAdded\',\n                    src: nodes[i].src\n                }));\n            }\n            //check for stylesheets\n            if (Utils.isExternalStylesheet(nodes[i])) {\n                CSS.checkForStylesheetLoaded(nodes[i].href);\n            }\n        }\n    }\n    /* process related docs removed */\n    function _onNodesRemoved(nodes) {\n        var i;\n        //iterate on removed nodes\n        for (i = 0; i < nodes.length; i++) {\n\n            // check for external JS files\n            if (Utils.isExternalScript(nodes[i])) {\n                _transport.send(JSON.stringify({\n                    method: \'ScriptRemoved\',\n                    src: nodes[i].src\n                }));\n            }\n            //check for external StyleSheets\n            if (Utils.isExternalStylesheet(nodes[i])) {\n                CSS.notifyStylesheetRemoved(nodes[i].href);\n            }\n        }\n    }\n\n    function _enableListeners() {\n        // enable MutationOberver if it\'s supported\n        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n        if (MutationObserver) {\n            var observer = new MutationObserver(function (mutations) {\n                mutations.forEach(function (mutation) {\n                    if (mutation.addedNodes.length > 0) {\n                        _onNodesAdded(mutation.addedNodes);\n                    }\n                    if (mutation.removedNodes.length > 0) {\n                        _onNodesRemoved(mutation.removedNodes);\n                    }\n                });\n            });\n            observer.observe(_document, {\n                childList: true,\n                subtree: true\n            });\n        } else {\n            // use MutationEvents as fallback\n            window.document.addEventListener(\'DOMNodeInserted\', function niLstnr(e) {\n                _onNodesAdded([e.target]);\n            });\n            window.document.addEventListener(\'DOMNodeRemoved\', function nrLstnr(e) {\n                _onNodesRemoved([e.target]);\n            });\n        }\n    }\n\n\n    /**\n     * Start listening for events and send initial related documents message.\n     *\n     * @param {HTMLDocument} document\n     * @param {object} transport Live development transport connection\n     */\n    function start(document, transport) {\n        _transport = transport;\n        _document = document;\n        // start listening to node changes\n        _enableListeners();\n\n        var rel = related();\n\n        // send the current status of related docs.\n        _transport.send(JSON.stringify({\n            method: "DocumentRelated",\n            related: rel\n        }));\n        // initialize stylesheets with current status for further notifications.\n        CSS.stylesheets = rel.stylesheets;\n    }\n\n    /**\n     * Stop listening.\n     * TODO currently a no-op.\n     */\n    function stop() {\n\n    }\n\n    var DocumentObserver = {\n        start: start,\n        stop: stop,\n        related: related\n    };\n\n    ProtocolManager.setDocumentObserver(DocumentObserver);\n\n}(this));\n'});define("text!LiveDevelopment/Agents/RemoteFunctions.js",[],function(){
return'/*\n * Copyright (c) 2012 - present Adobe Systems Incorporated. All rights reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the "Software"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n *\n */\n\n/*jslint forin: true */\n/*global Node */\n/*theseus instrument: false */\n\n/**\n * RemoteFunctions define the functions to be executed in the browser. This\n * modules should define a single function that returns an object of all\n * exported functions.\n */\nfunction RemoteFunctions(experimental) {\n    "use strict";\n\n    var lastKeepAliveTime = Date.now();\n\n    /**\n     * @type {DOMEditHandler}\n     */\n    var _editHandler;\n\n    var HIGHLIGHT_CLASSNAME = "__brackets-ld-highlight",\n        KEEP_ALIVE_TIMEOUT  = 3000;   // Keep alive timeout value, in milliseconds\n\n    // determine whether an event should be processed for Live Development\n    function _validEvent(event) {\n        if (window.navigator.platform.substr(0, 3) === "Mac") {\n            // Mac\n            return event.metaKey;\n        } else {\n            // Windows\n            return event.ctrlKey;\n        }\n    }\n\n    // determine the color for a type\n    function _typeColor(type, highlight) {\n        switch (type) {\n        case "html":\n            return highlight ? "#eec" : "#ffe";\n        case "css":\n            return highlight ? "#cee" : "#eff";\n        case "js":\n            return highlight ? "#ccf" : "#eef";\n        default:\n            return highlight ? "#ddd" : "#eee";\n        }\n    }\n\n    // compute the screen offset of an element\n    function _screenOffset(element) {\n        var elemBounds = element.getBoundingClientRect(),\n            body = window.document.body,\n            offsetTop,\n            offsetLeft;\n\n        if (window.getComputedStyle(body).position === "static") {\n            offsetLeft = elemBounds.left + window.pageXOffset;\n            offsetTop = elemBounds.top + window.pageYOffset;\n        } else {\n            var bodyBounds = body.getBoundingClientRect();\n            offsetLeft = elemBounds.left - bodyBounds.left;\n            offsetTop = elemBounds.top - bodyBounds.top;\n        }\n        return { left: offsetLeft, top: offsetTop };\n    }\n\n    // set an event on a element\n    function _trigger(element, name, value, autoRemove) {\n        var key = "data-ld-" + name;\n        if (value !== undefined && value !== null) {\n            element.setAttribute(key, value);\n            if (autoRemove) {\n                window.setTimeout(element.removeAttribute.bind(element, key));\n            }\n        } else {\n            element.removeAttribute(key);\n        }\n    }\n\n    // construct the info menu\n    function Menu(element) {\n        this.element = element;\n        _trigger(this.element, "showgoto", 1, true);\n        window.setTimeout(window.remoteShowGoto);\n        this.remove = this.remove.bind(this);\n    }\n\n    Menu.prototype = {\n        onClick: function (url, event) {\n            event.preventDefault();\n            _trigger(this.element, "goto", url, true);\n            this.remove();\n        },\n\n        createBody: function () {\n            if (this.body) {\n                return;\n            }\n\n            // compute the position on screen\n            var offset = _screenOffset(this.element),\n                x = offset.left,\n                y = offset.top + this.element.offsetHeight;\n\n            // create the container\n            this.body = window.document.createElement("div");\n            this.body.style.setProperty("z-index", 2147483647);\n            this.body.style.setProperty("position", "absolute");\n            this.body.style.setProperty("left", x + "px");\n            this.body.style.setProperty("top", y + "px");\n            this.body.style.setProperty("font-size", "11pt");\n\n            // draw the background\n            this.body.style.setProperty("background", "#fff");\n            this.body.style.setProperty("border", "1px solid #888");\n            this.body.style.setProperty("-webkit-box-shadow", "2px 2px 6px 0px #ccc");\n            this.body.style.setProperty("border-radius", "6px");\n            this.body.style.setProperty("padding", "6px");\n        },\n\n        addItem: function (target) {\n            var item = window.document.createElement("div");\n            item.style.setProperty("padding", "2px 6px");\n            if (this.body.childNodes.length > 0) {\n                item.style.setProperty("border-top", "1px solid #ccc");\n            }\n            item.style.setProperty("cursor", "pointer");\n            item.style.setProperty("background", _typeColor(target.type));\n            item.innerHTML = target.name;\n            item.addEventListener("click", this.onClick.bind(this, target.url));\n\n            if (target.file) {\n                var file = window.document.createElement("i");\n                file.style.setProperty("float", "right");\n                file.style.setProperty("margin-left", "12px");\n                file.innerHTML = " " + target.file;\n                item.appendChild(file);\n            }\n            this.body.appendChild(item);\n        },\n\n        show: function () {\n            if (!this.body) {\n                this.body = this.createBody();\n            }\n            if (!this.body.parentNode) {\n                window.document.body.appendChild(this.body);\n            }\n            window.document.addEventListener("click", this.remove);\n        },\n\n        remove: function () {\n            if (this.body && this.body.parentNode) {\n                window.document.body.removeChild(this.body);\n            }\n            window.document.removeEventListener("click", this.remove);\n        }\n\n    };\n\n    function Editor(element) {\n        this.onBlur = this.onBlur.bind(this);\n        this.onKeyPress = this.onKeyPress.bind(this);\n\n        this.element = element;\n        this.element.setAttribute("contenteditable", "true");\n        this.element.focus();\n        this.element.addEventListener("blur", this.onBlur);\n        this.element.addEventListener("keypress", this.onKeyPress);\n\n        this.revertText = this.element.innerHTML;\n\n        _trigger(this.element, "edit", 1);\n    }\n\n    Editor.prototype = {\n        onBlur: function (event) {\n            this.element.removeAttribute("contenteditable");\n            this.element.removeEventListener("blur", this.onBlur);\n            this.element.removeEventListener("keypress", this.onKeyPress);\n            _trigger(this.element, "edit", 0, true);\n        },\n\n        onKeyPress: function (event) {\n            switch (event.which) {\n            case 13: // return\n                this.element.blur();\n                break;\n            case 27: // esc\n                this.element.innerHTML = this.revertText;\n                this.element.blur();\n                break;\n            }\n        }\n    };\n\n    function Highlight(color, trigger) {\n        this.color = color;\n        this.trigger = !!trigger;\n        this.elements = [];\n        this.selector = "";\n    }\n\n    Highlight.prototype = {\n        _elementExists: function (element) {\n            var i;\n            for (i in this.elements) {\n                if (this.elements[i] === element) {\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _makeHighlightDiv: function (element, doAnimation) {\n            var elementBounds = element.getBoundingClientRect(),\n                highlight = window.document.createElement("div"),\n                styles = window.getComputedStyle(element);\n\n            // Don\'t highlight elements with 0 width & height\n            if (elementBounds.width === 0 && elementBounds.height === 0) {\n                return;\n            }\n\n            highlight.className = HIGHLIGHT_CLASSNAME;\n\n            var offset = _screenOffset(element);\n\n            var stylesToSet = {\n                "left": offset.left + "px",\n                "top": offset.top + "px",\n                "width": elementBounds.width + "px",\n                "height": elementBounds.height + "px",\n                "z-index": 2000000,\n                "margin": 0,\n                "padding": 0,\n                "position": "absolute",\n                "pointer-events": "none",\n                "border-top-left-radius": styles.borderTopLeftRadius,\n                "border-top-right-radius": styles.borderTopRightRadius,\n                "border-bottom-left-radius": styles.borderBottomLeftRadius,\n                "border-bottom-right-radius": styles.borderBottomRightRadius,\n                "border-style": "solid",\n                "border-width": "1px",\n                "border-color": "#00a2ff",\n                "box-shadow": "0 0 1px #fff",\n                "box-sizing": "border-box"\n            };\n\n            var animateStartValues = {\n                "background-color": "rgba(0, 162, 255, 0.5)",\n                "opacity": 0\n            };\n\n            var animateEndValues = {\n                "background-color": "rgba(0, 162, 255, 0)",\n                "opacity": 1\n            };\n\n            var transitionValues = {\n                "-webkit-transition-property": "opacity, background-color",\n                "-webkit-transition-duration": "300ms, 2.3s",\n                "transition-property": "opacity, background-color",\n                "transition-duration": "300ms, 2.3s"\n            };\n\n            function _setStyleValues(styleValues, obj) {\n                var prop;\n\n                for (prop in styleValues) {\n                    obj.setProperty(prop, styleValues[prop]);\n                }\n            }\n\n            _setStyleValues(stylesToSet, highlight.style);\n            _setStyleValues(\n                doAnimation ? animateStartValues : animateEndValues,\n                highlight.style\n            );\n\n\n            if (doAnimation) {\n                _setStyleValues(transitionValues, highlight.style);\n\n                window.setTimeout(function () {\n                    _setStyleValues(animateEndValues, highlight.style);\n                }, 20);\n            }\n\n            window.document.body.appendChild(highlight);\n        },\n\n        add: function (element, doAnimation) {\n            if (this._elementExists(element) || element === window.document) {\n                return;\n            }\n            if (this.trigger) {\n                _trigger(element, "highlight", 1);\n            }\n            this.elements.push(element);\n\n            this._makeHighlightDiv(element, doAnimation);\n        },\n\n        clear: function () {\n            var i, highlights = window.document.querySelectorAll("." + HIGHLIGHT_CLASSNAME),\n                body = window.document.body;\n\n            for (i = 0; i < highlights.length; i++) {\n                body.removeChild(highlights[i]);\n            }\n\n            if (this.trigger) {\n                for (i = 0; i < this.elements.length; i++) {\n                    _trigger(this.elements[i], "highlight", 0);\n                }\n            }\n\n            this.elements = [];\n        },\n\n        redraw: function () {\n            var i, highlighted;\n\n            // When redrawing a selector-based highlight, run a new selector\n            // query to ensure we have the latest set of elements to highlight.\n            if (this.selector) {\n                highlighted = window.document.querySelectorAll(this.selector);\n            } else {\n                highlighted = this.elements.slice(0);\n            }\n\n            this.clear();\n            for (i = 0; i < highlighted.length; i++) {\n                this.add(highlighted[i], false);\n            }\n        }\n    };\n\n    var _currentEditor;\n    function _toggleEditor(element) {\n        _currentEditor = new Editor(element);\n    }\n\n    var _currentMenu;\n    function _toggleMenu(element) {\n        if (_currentMenu) {\n            _currentMenu.remove();\n        }\n        _currentMenu = new Menu(element);\n    }\n\n    var _localHighlight;\n    var _remoteHighlight;\n    var _setup = false;\n\n\n    /** Event Handlers ***********************************************************/\n\n    function onMouseOver(event) {\n        if (_validEvent(event)) {\n            _localHighlight.add(event.target, true);\n        }\n    }\n\n    function onMouseOut(event) {\n        if (_validEvent(event)) {\n            _localHighlight.clear();\n        }\n    }\n\n    function onMouseMove(event) {\n        onMouseOver(event);\n        window.document.removeEventListener("mousemove", onMouseMove);\n    }\n\n    function onClick(event) {\n        if (_validEvent(event)) {\n            event.preventDefault();\n            event.stopPropagation();\n            if (event.altKey) {\n                _toggleEditor(event.target);\n            } else {\n                _toggleMenu(event.target);\n            }\n        }\n    }\n\n    function onKeyUp(event) {\n        if (_setup && !_validEvent(event)) {\n            window.document.removeEventListener("keyup", onKeyUp);\n            window.document.removeEventListener("mouseover", onMouseOver);\n            window.document.removeEventListener("mouseout", onMouseOut);\n            window.document.removeEventListener("mousemove", onMouseMove);\n            window.document.removeEventListener("click", onClick);\n            _localHighlight.clear();\n            _localHighlight = undefined;\n            _setup = false;\n        }\n    }\n\n    function onKeyDown(event) {\n        if (!_setup && _validEvent(event)) {\n            window.document.addEventListener("keyup", onKeyUp);\n            window.document.addEventListener("mouseover", onMouseOver);\n            window.document.addEventListener("mouseout", onMouseOut);\n            window.document.addEventListener("mousemove", onMouseMove);\n            window.document.addEventListener("click", onClick);\n            _localHighlight = new Highlight("#ecc", true);\n            _setup = true;\n        }\n    }\n\n    /** Public Commands **********************************************************/\n\n    // keep alive. Called once a second when a Live Development connection is active.\n    // If several seconds have passed without this method being called, we can assume\n    // that the connection has been severed and we should remove all our code/hooks.\n    function keepAlive() {\n        lastKeepAliveTime = Date.now();\n    }\n\n    // show goto\n    function showGoto(targets) {\n        if (!_currentMenu) {\n            return;\n        }\n        _currentMenu.createBody();\n        var i;\n        for (i in targets) {\n            _currentMenu.addItem(targets[i]);\n        }\n        _currentMenu.show();\n    }\n\n    // remove active highlights\n    function hideHighlight() {\n        if (_remoteHighlight) {\n            _remoteHighlight.clear();\n            _remoteHighlight = null;\n        }\n    }\n\n    // highlight a node\n    function highlight(node, clear) {\n        if (!_remoteHighlight) {\n            _remoteHighlight = new Highlight("#cfc");\n        }\n        if (clear) {\n            _remoteHighlight.clear();\n        }\n        _remoteHighlight.add(node, true);\n    }\n\n    // highlight a rule\n    function highlightRule(rule) {\n        hideHighlight();\n        var i, nodes = window.document.querySelectorAll(rule);\n        for (i = 0; i < nodes.length; i++) {\n            highlight(nodes[i]);\n        }\n        _remoteHighlight.selector = rule;\n    }\n\n    // redraw active highlights\n    function redrawHighlights() {\n        if (_remoteHighlight) {\n            _remoteHighlight.redraw();\n        }\n    }\n\n    window.addEventListener("resize", redrawHighlights);\n    // Add a capture-phase scroll listener to update highlights when\n    // any element scrolls.\n\n    function _scrollHandler(e) {\n        // Document scrolls can be updated immediately. Any other scrolls\n        // need to be updated on a timer to ensure the layout is correct.\n        if (e.target === window.document) {\n            redrawHighlights();\n        } else {\n            if (_remoteHighlight || _localHighlight) {\n                window.setTimeout(redrawHighlights, 0);\n            }\n        }\n    }\n\n    window.addEventListener("scroll", _scrollHandler, true);\n\n    var aliveTest = window.setInterval(function () {\n        if (Date.now() > lastKeepAliveTime + KEEP_ALIVE_TIMEOUT) {\n            // Remove highlights\n            hideHighlight();\n\n            // Remove listeners\n            window.removeEventListener("resize", redrawHighlights);\n            window.removeEventListener("scroll", _scrollHandler, true);\n\n            // Clear this interval\n            window.clearInterval(aliveTest);\n        }\n    }, 1000);\n\n    /**\n     * Constructor\n     * @param {Document} htmlDocument\n     */\n    function DOMEditHandler(htmlDocument) {\n        this.htmlDocument = htmlDocument;\n        this.rememberedNodes = null;\n        this.entityParseParent = htmlDocument.createElement("div");\n    }\n\n    /**\n     * @private\n     * Find the first matching element with the specified data-brackets-id\n     * @param {string} id\n     * @return {Element}\n     */\n    DOMEditHandler.prototype._queryBracketsID = function (id) {\n        if (!id) {\n            return null;\n        }\n\n        if (this.rememberedNodes && this.rememberedNodes[id]) {\n            return this.rememberedNodes[id];\n        }\n\n        var results = this.htmlDocument.querySelectorAll("[data-brackets-id=\'" + id + "\']");\n        return results && results[0];\n    };\n\n    /**\n     * @private\n     * Insert a new child element\n     * @param {Element} targetElement Parent element already in the document\n     * @param {Element} childElement New child element\n     * @param {Object} edit\n     */\n    DOMEditHandler.prototype._insertChildNode = function (targetElement, childElement, edit) {\n        var before = this._queryBracketsID(edit.beforeID),\n            after  = this._queryBracketsID(edit.afterID);\n\n        if (edit.firstChild) {\n            before = targetElement.firstChild;\n        } else if (edit.lastChild) {\n            after = targetElement.lastChild;\n        }\n\n        if (before) {\n            targetElement.insertBefore(childElement, before);\n        } else if (after && (after !== targetElement.lastChild)) {\n            targetElement.insertBefore(childElement, after.nextSibling);\n        } else {\n            targetElement.appendChild(childElement);\n        }\n    };\n\n    /**\n     * @private\n     * Given a string containing encoded entity references, returns the string with the entities decoded.\n     * @param {string} text The text to parse.\n     * @return {string} The decoded text.\n     */\n    DOMEditHandler.prototype._parseEntities = function (text) {\n        // Kind of a hack: just set the innerHTML of a div to the text, which will parse the entities, then\n        // read the content out.\n        var result;\n        this.entityParseParent.innerHTML = text;\n        result = this.entityParseParent.textContent;\n        this.entityParseParent.textContent = "";\n        return result;\n    };\n\n    /**\n     * @private\n     * @param {Node} node\n     * @return {boolean} true if node expects its content to be raw text (not parsed for entities) according to the HTML5 spec.\n     */\n    function _isRawTextNode(node) {\n        return (node.nodeType === Node.ELEMENT_NODE && /script|style|noscript|noframes|noembed|iframe|xmp/i.test(node.tagName));\n    }\n\n    /**\n     * @private\n     * Replace a range of text and comment nodes with an optional new text node\n     * @param {Element} targetElement\n     * @param {Object} edit\n     */\n    DOMEditHandler.prototype._textReplace = function (targetElement, edit) {\n        function prevIgnoringHighlights(node) {\n            do {\n                node = node.previousSibling;\n            } while (node && node.className === HIGHLIGHT_CLASSNAME);\n            return node;\n        }\n        function nextIgnoringHighlights(node) {\n            do {\n                node = node.nextSibling;\n            } while (node && node.className === HIGHLIGHT_CLASSNAME);\n            return node;\n        }\n        function lastChildIgnoringHighlights(node) {\n            node = (node.childNodes.length ? node.childNodes.item(node.childNodes.length - 1) : null);\n            if (node && node.className === HIGHLIGHT_CLASSNAME) {\n                node = prevIgnoringHighlights(node);\n            }\n            return node;\n        }\n\n        var start           = (edit.afterID)  ? this._queryBracketsID(edit.afterID)  : null,\n            startMissing    = edit.afterID && !start,\n            end             = (edit.beforeID) ? this._queryBracketsID(edit.beforeID) : null,\n            endMissing      = edit.beforeID && !end,\n            moveNext        = start && nextIgnoringHighlights(start),\n            current         = moveNext || (end && prevIgnoringHighlights(end)) || lastChildIgnoringHighlights(targetElement),\n            next,\n            textNode        = (edit.content !== undefined) ? this.htmlDocument.createTextNode(_isRawTextNode(targetElement) ? edit.content : this._parseEntities(edit.content)) : null,\n            lastRemovedWasText,\n            isText;\n\n        // remove all nodes inside the range\n        while (current && (current !== end)) {\n            isText = current.nodeType === Node.TEXT_NODE;\n\n            // if start is defined, delete following text nodes\n            // if start is not defined, delete preceding text nodes\n            next = (moveNext) ? nextIgnoringHighlights(current) : prevIgnoringHighlights(current);\n\n            // only delete up to the nearest element.\n            // if the start/end tag was deleted in a prior edit, stop removing\n            // nodes when we hit adjacent text nodes\n            if ((current.nodeType === Node.ELEMENT_NODE) ||\n                    ((startMissing || endMissing) && (isText && lastRemovedWasText))) {\n                break;\n            } else {\n                lastRemovedWasText = isText;\n\n                if (current.remove) {\n                    current.remove();\n                } else if (current.parentNode && current.parentNode.removeChild) {\n                    current.parentNode.removeChild(current);\n                }\n                current = next;\n            }\n        }\n\n        if (textNode) {\n            // OK to use nextSibling here (not nextIgnoringHighlights) because we do literally\n            // want to insert immediately after the start tag.\n            if (start && start.nextSibling) {\n                targetElement.insertBefore(textNode, start.nextSibling);\n            } else if (end) {\n                targetElement.insertBefore(textNode, end);\n            } else {\n                targetElement.appendChild(textNode);\n            }\n        }\n    };\n\n    /**\n     * @private\n     * Apply an array of DOM edits to the document\n     * @param {Array.<Object>} edits\n     */\n    DOMEditHandler.prototype.apply = function (edits) {\n        var targetID,\n            targetElement,\n            childElement,\n            self = this;\n\n        this.rememberedNodes = {};\n\n        edits.forEach(function (edit) {\n            var editIsSpecialTag = edit.type === "elementInsert" && (edit.tag === "html" || edit.tag === "head" || edit.tag === "body");\n\n            if (edit.type === "rememberNodes") {\n                edit.tagIDs.forEach(function (tagID) {\n                    var node = self._queryBracketsID(tagID);\n                    self.rememberedNodes[tagID] = node;\n                    if (node.remove) {\n                        node.remove();\n                    } else if (node.parentNode && node.parentNode.removeChild) {\n                        node.parentNode.removeChild(node);\n                    }\n                });\n                return;\n            }\n\n            targetID = edit.type.match(/textReplace|textDelete|textInsert|elementInsert|elementMove/) ? edit.parentID : edit.tagID;\n            targetElement = self._queryBracketsID(targetID);\n\n            if (!targetElement && !editIsSpecialTag) {\n                return;\n            }\n\n            switch (edit.type) {\n            case "attrChange":\n            case "attrAdd":\n                targetElement.setAttribute(edit.attribute, self._parseEntities(edit.value));\n                break;\n            case "attrDelete":\n                targetElement.removeAttribute(edit.attribute);\n                break;\n            case "elementDelete":\n                if (targetElement.remove) {\n                    targetElement.remove();\n                } else if (targetElement.parentNode && targetElement.parentNode.removeChild) {\n                    targetElement.parentNode.removeChild(targetElement);\n                }\n                break;\n            case "elementInsert":\n                childElement = null;\n                if (editIsSpecialTag) {\n                    // If we already have one of these elements (which we should), then\n                    // just copy the attributes and set the ID.\n                    childElement = self.htmlDocument[edit.tag === "html" ? "documentElement" : edit.tag];\n                    if (!childElement) {\n                        // Treat this as a normal insertion.\n                        editIsSpecialTag = false;\n                    }\n                }\n                if (!editIsSpecialTag) {\n                    childElement = self.htmlDocument.createElement(edit.tag);\n                }\n\n                Object.keys(edit.attributes).forEach(function (attr) {\n                    childElement.setAttribute(attr, self._parseEntities(edit.attributes[attr]));\n                });\n                childElement.setAttribute("data-brackets-id", edit.tagID);\n\n                if (!editIsSpecialTag) {\n                    self._insertChildNode(targetElement, childElement, edit);\n                }\n                break;\n            case "elementMove":\n                childElement = self._queryBracketsID(edit.tagID);\n                self._insertChildNode(targetElement, childElement, edit);\n                break;\n            case "textInsert":\n                var textElement = self.htmlDocument.createTextNode(_isRawTextNode(targetElement) ? edit.content : self._parseEntities(edit.content));\n                self._insertChildNode(targetElement, textElement, edit);\n                break;\n            case "textReplace":\n            case "textDelete":\n                self._textReplace(targetElement, edit);\n                break;\n            }\n        });\n\n        this.rememberedNodes = {};\n\n        // update highlight after applying diffs\n        redrawHighlights();\n    };\n\n    function applyDOMEdits(edits) {\n        _editHandler.apply(edits);\n    }\n\n    /**\n     *\n     * @param {Element} elem\n     */\n    function _domElementToJSON(elem) {\n        var json = { tag: elem.tagName.toLowerCase(), attributes: {}, children: [] },\n            i,\n            len,\n            node,\n            value;\n\n        len = elem.attributes.length;\n        for (i = 0; i < len; i++) {\n            node = elem.attributes.item(i);\n            value = (node.name === "data-brackets-id") ? parseInt(node.value, 10) : node.value;\n            json.attributes[node.name] = value;\n        }\n\n        len = elem.childNodes.length;\n        for (i = 0; i < len; i++) {\n            node = elem.childNodes.item(i);\n\n            // ignores comment nodes and visuals generated by live preview\n            if (node.nodeType === Node.ELEMENT_NODE && node.className !== HIGHLIGHT_CLASSNAME) {\n                json.children.push(_domElementToJSON(node));\n            } else if (node.nodeType === Node.TEXT_NODE) {\n                json.children.push({ content: node.nodeValue });\n            }\n        }\n\n        return json;\n    }\n\n    function getSimpleDOM() {\n        return JSON.stringify(_domElementToJSON(window.document.documentElement));\n    }\n\n    // init\n    _editHandler = new DOMEditHandler(window.document);\n\n    if (experimental) {\n        window.document.addEventListener("keydown", onKeyDown);\n    }\n\n    return {\n        "DOMEditHandler"        : DOMEditHandler,\n        "keepAlive"             : keepAlive,\n        "showGoto"              : showGoto,\n        "hideHighlight"         : hideHighlight,\n        "highlight"             : highlight,\n        "highlightRule"         : highlightRule,\n        "redrawHighlights"      : redrawHighlights,\n        "applyDOMEdits"         : applyDOMEdits,\n        "getSimpleDOM"          : getSimpleDOM\n    };\n}\n'});define("LiveDevelopment/MultiBrowserImpl/protocol/LiveDevProtocol",["require","exports","module","utils/EventDispatcher","text!LiveDevelopment/MultiBrowserImpl/protocol/remote/LiveDevProtocolRemote.js","text!LiveDevelopment/MultiBrowserImpl/protocol/remote/DocumentObserver.js","text!LiveDevelopment/Agents/RemoteFunctions.js"],function(require,exports,module){"use strict";var EventDispatcher=require("utils/EventDispatcher");var LiveDevProtocolRemote=require("text!LiveDevelopment/MultiBrowserImpl/protocol/remote/LiveDevProtocolRemote.js"),DocumentObserver=require("text!LiveDevelopment/MultiBrowserImpl/protocol/remote/DocumentObserver.js"),RemoteFunctions=require("text!LiveDevelopment/Agents/RemoteFunctions.js");var _connections={};var _transport=null;var _nextMsgId=1;var _responseDeferreds={};function getConnectionIds(){return Object.keys(_connections)}function _receive(clientId,msgStr){var msg=JSON.parse(msgStr),event=msg.method||"event",deferred;if(msg.id){deferred=_responseDeferreds[msg.id];if(deferred){delete _responseDeferreds[msg.id];if(msg.error){deferred.reject(msg)}else{deferred.resolve(msg)}}}else{msg.clientId=clientId;exports.trigger(event,msg)}}function _send(msg,clients){var id=_nextMsgId++,result=new $.Deferred;clients=clients||getConnectionIds();msg.id=id;_responseDeferreds[id]=result;_transport.send(clients,JSON.stringify(msg));return result.promise()}function _connect(clientId,url){_connections[clientId]=true;exports.trigger("ConnectionConnect",{clientId:clientId,url:url})}function _close(clientId){delete _connections[clientId];exports.trigger("ConnectionClose",{clientId:clientId})}function setTransport(transport){if(_transport){_transport.off(".livedev")}_transport=transport;_transport.on("connect.livedev",function(event,msg){_connect(msg[0],msg[1])}).on("message.livedev",function(event,msg){_receive(msg[0],msg[1])}).on("close.livedev",function(event,msg){_close(msg[0])});_transport.start()}
function getRemoteFunctionsScript(){var script="";script+=DocumentObserver;script+="window._LD=("+RemoteFunctions+"())";return"<script>\n"+script+"<\/script>\n"}function getRemoteScript(){var transportScript=_transport.getRemoteScript()||"";var remoteFunctionsScript=getRemoteFunctionsScript()||"";return transportScript+"<script>\n"+LiveDevProtocolRemote+"<\/script>\n"+remoteFunctionsScript}function evaluate(script,clients){return _send({method:"Runtime.evaluate",params:{expression:script}},clients)}function setStylesheetText(url,text,clients){return _send({method:"CSS.setStylesheetText",params:{url:url,text:text}})}function getStylesheetText(url,clients){return _send({method:"CSS.getStylesheetText",params:{url:url}},clients)}function reload(ignoreCache,clients){return _send({method:"Page.reload",params:{ignoreCache:true}},clients)}function navigate(url,clients){return _send({method:"Page.navigate",params:{url:url}},clients)}function close(clientId){_transport.close(clientId)}function closeAllConnections(){getConnectionIds().forEach(function(clientId){close(clientId)});_connections={}}EventDispatcher.makeEventDispatcher(exports);exports.setTransport=setTransport;exports.getRemoteScript=getRemoteScript;exports.evaluate=evaluate;exports.setStylesheetText=setStylesheetText;exports.getStylesheetText=getStylesheetText;exports.reload=reload;exports.navigate=navigate;exports.close=close;exports.getConnectionIds=getConnectionIds;exports.closeAllConnections=closeAllConnections});define("language/HTMLUtils",["require","exports","module","thirdparty/CodeMirror/lib/codemirror","utils/TokenUtils"],function(require,exports,module){"use strict";var CodeMirror=require("thirdparty/CodeMirror/lib/codemirror"),TokenUtils=require("utils/TokenUtils");var TAG_NAME="tagName",CLOSING_TAG="closingTag",ATTR_NAME="attr.name",ATTR_VALUE="attr.value";var tagPrefixedRegExp=/^tag/;function _extractAttrVal(ctx){var attrValue=ctx.token.string,startChar=attrValue.charAt(0),endChar=attrValue.charAt(attrValue.length-1),offset=TokenUtils.offsetInToken(ctx),foundEqualSign=false;if(attrValue.length>1&&(startChar==="'"||startChar==='"')&&endChar===startChar){foundEqualSign=attrValue.match(/\=\s*['"]$/)!==null;if(!foundEqualSign){attrValue=attrValue.substring(1,attrValue.length-1);offset=offset-1>attrValue.length?attrValue.length:offset-1;return{val:attrValue,offset:offset,quoteChar:startChar,hasEndQuote:true}}}if(foundEqualSign){var spaceIndex=attrValue.indexOf(" "),bracketIndex=attrValue.indexOf(">"),upToIndex=spaceIndex!==-1&&spaceIndex<bracketIndex?spaceIndex:bracketIndex;attrValue=attrValue.substring(0,upToIndex>offset?upToIndex:offset)}else if(offset>0&&(startChar==="'"||startChar==='"')){attrValue=attrValue.substring(0,offset)}startChar=attrValue.charAt(0);if(startChar==="'"||startChar==='"'){attrValue=attrValue.substring(1);offset--}else{startChar="";if(endChar===">"){attrValue="";offset=0}}return{val:attrValue,offset:offset,quoteChar:startChar,hasEndQuote:false}}function _extractTagName(ctx){var mode=ctx.editor.getMode(),innerModeData=CodeMirror.innerMode(mode,ctx.token.state);if(ctx.token.type==="tag bracket"){return innerModeData.state.tagName}return innerModeData.state.tagName||ctx.token.string}function getTagAttributes(editor,pos){var attrs=[],backwardCtx=TokenUtils.getInitialContext(editor._codeMirror,pos),forwardCtx=$.extend({},backwardCtx);if(editor.getModeForSelection()==="html"){if(backwardCtx.token&&!tagPrefixedRegExp.test(backwardCtx.token.type)){while(TokenUtils.movePrevToken(backwardCtx)&&!tagPrefixedRegExp.test(backwardCtx.token.type)){if(backwardCtx.token.type==="error"&&backwardCtx.token.string.indexOf("<")===0){break}if(backwardCtx.token.type==="attribute"){attrs.push(backwardCtx.token.string)}}while(TokenUtils.moveNextToken(forwardCtx)&&!tagPrefixedRegExp.test(forwardCtx.token.type)){if(forwardCtx.token.type==="attribute"){if(forwardCtx.token.string.indexOf("<")===0){break}attrs.push(forwardCtx.token.string)}else if(forwardCtx.token.type==="error"){if(forwardCtx.token.string.indexOf("<")===0||forwardCtx.token.string.indexOf(">")===0){break}if(/\S/.test(forwardCtx.token.string)&&forwardCtx.token.string.indexOf('"')===-1&&forwardCtx.token.string.indexOf("'")===-1&&forwardCtx.token.string.indexOf("=")===-1){attrs.push(forwardCtx.token.string)}}}}}return attrs}function createTagInfo(tokenType,offset,tagName,attrName,attrValue,valueAssigned,quoteChar,hasEndQuote){return{tagName:tagName||"",attr:{name:attrName||"",value:attrValue||"",valueAssigned:valueAssigned||false,quoteChar:quoteChar||"",hasEndQuote:hasEndQuote||false},position:{tokenType:tokenType||"",offset:offset||0}}}function _getTagInfoStartingFromAttrValue(ctx){var attrInfo=_extractAttrVal(ctx),attrVal=attrInfo.val,offset=attrInfo.offset,quoteChar=attrInfo.quoteChar,hasEndQuote=attrInfo.hasEndQuote,strLength=ctx.token.string.length;if((ctx.token.type==="string"||ctx.token.type==="error")&&ctx.pos.ch===ctx.token.end&&strLength>1){var firstChar=ctx.token.string[0],lastChar=ctx.token.string[strLength-1];if(firstChar===lastChar&&(firstChar==="'"||firstChar==='"')){return createTagInfo()}}if(!TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctx)||ctx.token.string!=="="){return createTagInfo()}if(!TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctx)||ctx.token.type!=="attribute"){return createTagInfo()}var attrName=ctx.token.string;var tagName=_extractTagName(ctx);return createTagInfo(ATTR_VALUE,offset,tagName,attrName,attrVal,true,quoteChar,hasEndQuote)}function _getTagInfoStartingFromAttrName(ctx,isPriorAttr){if(isPriorAttr===false&&ctx.token.type!=="attribute"){return createTagInfo()}var tagName=_extractTagName(ctx);var attrName=ctx.token.string;var offset=TokenUtils.offsetInToken(ctx);if(!TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctx)||ctx.token.string!=="="){if(isPriorAttr&&(!ctx.token.type||ctx.token.type&&ctx.token.type!=="attribute"&&ctx.token.type.indexOf("error")===-1&&ctx.token.string.indexOf("<")!==-1)){return createTagInfo()}return createTagInfo(ATTR_NAME,offset,tagName,attrName)}if(!TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctx)){return createTagInfo(ATTR_NAME,offset,tagName,attrName)}var attrInfo=_extractAttrVal(ctx),attrVal=attrInfo.val,quoteChar=attrInfo.quoteChar,hasEndQuote=attrInfo.hasEndQuote;return createTagInfo(ATTR_NAME,offset,tagName,attrName,attrVal,true,quoteChar,hasEndQuote)}function getTagInfo(editor,constPos){var pos=$.extend({},constPos),ctx=TokenUtils.getInitialContext(editor._codeMirror,pos),offset=TokenUtils.offsetInToken(ctx),tagInfo,tokenType;if(editor.getModeForSelection()!=="html"){return createTagInfo()}if(ctx.token.string.length>0&&!/\S/.test(ctx.token.string)){var testPos={ch:ctx.pos.ch+1,line:ctx.pos.line},testToken=editor._codeMirror.getTokenAt(testPos,true);if(testToken.string.length>0&&/\S/.test(testToken.string)&&testToken.string.charAt(0)!==">"){ctx.token=testToken;if(tagPrefixedRegExp.test(ctx.token.type)){if(ctx.token.string.charAt(0)==="<"){return createTagInfo()}}else if(ctx.token.type==="attribute"){return _getTagInfoStartingFromAttrName(ctx,false)}else if(ctx.token.string==="="){return createTagInfo()}}else{if(!TokenUtils.movePrevToken(ctx)){return createTagInfo()}if(ctx.token.type==="comment"){return createTagInfo()}else if(!tagPrefixedRegExp.test(ctx.token.type)&&ctx.token.string!=="="){tagInfo=_getTagInfoStartingFromAttrValue(ctx);if(ctx.token.type==="comment"||tagPrefixedRegExp.test(ctx.token.type)&&(ctx.token.string===">"||ctx.token.string==="/>"||ctx.token.string==="</")){return createTagInfo()}if(!tagInfo.tagName){tagInfo=_getTagInfoStartingFromAttrName(ctx,true)}if(tagInfo.tagName){return createTagInfo(ATTR_NAME,0,tagInfo.tagName)}return createTagInfo()}tokenType=ATTR_NAME;offset=0}}if(tagPrefixedRegExp.test(ctx.token.type)){if(ctx.token.type!=="tag bracket"){if(TokenUtils.movePrevToken(ctx)&&!/\S/.test(ctx.token.string)){return createTagInfo()}if(ctx.token.type==="tag bracket"&&ctx.token.string==="</"){tokenType=CLOSING_TAG}TokenUtils.moveNextToken(ctx)}if(ctx.token.string===">"||ctx.token.string==="/>"){return createTagInfo()}if(ctx.token.string!=="="&&ctx.token.string.match(/^["']/)===null){if(!tokenType){tokenType=TAG_NAME;if(ctx.token.type==="tag bracket"){if(ctx.token.string==="</"){tokenType=CLOSING_TAG;offset-=2}else{offset=0}if(offset===0){TokenUtils.moveNextToken(ctx)}}}return createTagInfo(tokenType,offset,_extractTagName(ctx))}}if(ctx.token.string==="="){if(!TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctx)||ctx.token.type!=="attribute"){return createTagInfo()}tokenType=ATTR_VALUE;offset=0}if(ctx.token.type==="attribute"){tagInfo=_getTagInfoStartingFromAttrName(ctx,false);if(tagInfo.attr.quoteChar){offset=constPos.ch-ctx.pos.ch}else if(tokenType===ATTR_VALUE&&constPos.ch+1<ctx.pos.ch){tagInfo.attr.value=""}}else{tagInfo=_getTagInfoStartingFromAttrValue(ctx)}if(tokenType&&tagInfo.tagName){tagInfo.position.tokenType=tokenType;tagInfo.position.offset=offset}return tagInfo}function findBlocks(editor,modeName){var ctx=TokenUtils.getInitialContext(editor._codeMirror,{line:0,ch:0}),blocks=[],currentBlock=null,inBlock=false,outerMode=editor._codeMirror.getMode(),tokenModeName,previousMode;while(TokenUtils.moveNextToken(ctx,false)){tokenModeName=CodeMirror.innerMode(outerMode,ctx.token.state).mode.name;if(inBlock){if(!currentBlock.end){currentBlock.end=currentBlock.start}if(tokenModeName===previousMode){currentBlock.text=editor.document.getRange(currentBlock.start,currentBlock.end);inBlock=false}else{currentBlock.end={line:ctx.pos.line,ch:ctx.pos.ch}}}else{if(tokenModeName===modeName){currentBlock={start:{line:ctx.pos.line,ch:ctx.pos.ch}};blocks.push(currentBlock);inBlock=true}else{previousMode=tokenModeName}}}return blocks}function findStyleBlocks(editor){return findBlocks(editor,"css")}exports.TAG_NAME=TAG_NAME;exports.CLOSING_TAG=CLOSING_TAG;exports.ATTR_NAME=ATTR_NAME;exports.ATTR_VALUE=ATTR_VALUE;exports.getTagInfo=getTagInfo;exports.getTagAttributes=getTagAttributes;exports.createTagInfo=createTagInfo;exports.findStyleBlocks=findStyleBlocks;exports.findBlocks=findBlocks});define("language/CSSUtils",["require","exports","module","thirdparty/CodeMirror/lib/codemirror","utils/Async","document/DocumentManager","editor/EditorManager","language/HTMLUtils","language/LanguageManager","project/ProjectManager","utils/TokenUtils","thirdparty/lodash"],function(require,exports,module){"use strict";var CodeMirror=require("thirdparty/CodeMirror/lib/codemirror"),Async=require("utils/Async"),DocumentManager=require("document/DocumentManager"),EditorManager=require("editor/EditorManager"),HTMLUtils=require("language/HTMLUtils"),LanguageManager=require("language/LanguageManager"),ProjectManager=require("project/ProjectManager"),TokenUtils=require("utils/TokenUtils"),_=require("thirdparty/lodash");var SELECTOR="selector",PROP_NAME="prop.name",PROP_VALUE="prop.value",IMPORT_URL="import.url";var RESERVED_FLOW_NAMES=["content","element"],INVALID_FLOW_NAMES=["none","inherit","default","auto","initial"],IGNORED_FLOW_NAMES=RESERVED_FLOW_NAMES.concat(INVALID_FLOW_NAMES);var _bracketPairs={"{":"}","[":"]","(":")"},_invertedBracketPairs=_.invert(_bracketPairs);function isCSSPreprocessorFile(filePath){var languageId=LanguageManager.getLanguageForPath(filePath).getId();return languageId==="less"||languageId==="scss"}function _hasNonWhitespace(text){return/\S/.test(text)}function _getContextState(ctx){if(!ctx||!ctx.token){return null}var state=ctx.token.state.localState||ctx.token.state;if(!state.context&&ctx.token.state.html&&ctx.token.state.html.localState){state=ctx.token.state.html.localState}return state}function _isInPropName(ctx){var state=_getContextState(ctx),lastToken;if(!state||!state.context||ctx.token.type==="comment"){return false}lastToken=state.context.type;return lastToken==="{"||lastToken==="rule"||lastToken==="block"}function _isInPropValue(ctx){function isInsideParens(context){if(context.type!=="parens"||!context.prev){return false}if(context.prev.type==="prop"){return true}return isInsideParens(context.prev)}var state=_getContextState(ctx);if(!state||!state.context||!state.context.prev||ctx.token.type==="comment"){return false}return state.context.type==="prop"&&(state.context.prev.type==="rule"||state.context.prev.type==="block")||isInsideParens(state.context)}function _isInAtRule(ctx){var state=_getContextState(ctx);if(!state||!state.context){return false}return state.context.type==="atBlock_parens"}function createInfo(context,offset,name,index,values,isNewItem,range){var ruleInfo={context:context||"",offset:offset||0,name:name||"",index:-1,values:[],isNewItem:isNewItem===true,range:range};if(context===PROP_VALUE||context===SELECTOR||context===IMPORT_URL){ruleInfo.index=index;ruleInfo.values=values}return ruleInfo}function _getPropNameInfo(ctx){var propName="",offset=TokenUtils.offsetInToken(ctx),tokenString=ctx.token.string,excludedCharacters=[";","{","}"];if(ctx.token.type==="property"||ctx.token.type==="property error"||ctx.token.type==="tag"){propName=tokenString;if(TokenUtils.movePrevToken(ctx)&&_hasNonWhitespace(ctx.token.string)&&excludedCharacters.indexOf(ctx.token.string)===-1){propName=ctx.token.string+tokenString;offset+=ctx.token.string.length}}else if(ctx.token.type==="meta"||tokenString==="-"){propName=tokenString;if(TokenUtils.moveNextToken(ctx)&&(ctx.token.type==="property"||ctx.token.type==="property error"||ctx.token.type==="tag")){propName+=ctx.token.string}}else if(_hasNonWhitespace(tokenString)&&excludedCharacters.indexOf(tokenString)===-1){return createInfo()}else{var testPos={ch:ctx.pos.ch+1,line:ctx.pos.line},testToken=ctx.editor.getTokenAt(testPos,true);if(testToken.type==="property"||testToken.type==="property error"||testToken.type==="tag"){propName=testToken.string;offset=0}else if(testToken.type==="meta"||testToken.string==="-"){ctx.pos=testPos;ctx.token=testToken;return _getPropNameInfo(ctx)}}if(propName===""){offset=0}return createInfo(PROP_NAME,offset,propName)}function _getPropNameStartingFromPropValue(ctx){var ctxClone=$.extend({},ctx),propName="";do{if(ctxClone.token.string!==":"&&!_isInPropValue(ctxClone)){return""}}while(ctxClone.token.string!==":"&&TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctxClone));if(ctxClone.token.string===":"&&TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctxClone)&&(ctxClone.token.type==="property"||ctxClone.token.type==="property error")){propName=ctxClone.token.string;if(TokenUtils.movePrevToken(ctxClone)&&ctxClone.token.type==="meta"){propName=ctxClone.token.string+propName}}return propName}function _getPrecedingPropValues(ctx){var lastValue="",curValue,propValues=[];while(ctx.token.string!==":"&&TokenUtils.movePrevToken(ctx)){if(ctx.token.string===":"||!_isInPropValue(ctx)){break}curValue=ctx.token.string;if(lastValue!==""){curValue+=lastValue}if(ctx.token.string.length>0&&!ctx.token.string.match(/\S/)||ctx.token.string===","){lastValue=curValue}else{lastValue="";if(propValues.length===0||curValue.match(/,\s*$/)){propValues.push(curValue)}else{propValues[propValues.length-1]=curValue+propValues[propValues.length-1]}}}if(propValues.length>0){propValues.reverse()}return propValues}function _getSucceedingPropValues(ctx,currentValue){var lastValue=currentValue,propValues=[];while(ctx.token.string!==";"&&ctx.token.string!=="}"&&TokenUtils.moveNextToken(ctx)){if(ctx.token.string===";"||ctx.token.string==="}"){break}if(!_isInPropValue(ctx)){lastValue="";break}if(lastValue===""){lastValue=ctx.token.string.trim()}else if(lastValue.length>0){if(ctx.token.string.length>0&&!ctx.token.string.match(/\S/)){lastValue+=ctx.token.string;propValues.push(lastValue);lastValue=""}else if(ctx.token.string===","){lastValue+=ctx.token.string}else if(lastValue&&lastValue.match(/,$/)){propValues.push(lastValue);if(ctx.token.string.length>0){lastValue=ctx.token.string}else{lastValue=""}}else{lastValue+=ctx.token.string}}}if(lastValue.length>0){propValues.push(lastValue)}return propValues}function _getRangeForPropValue(startCtx,endCtx){var range={start:{},end:{}};while(TokenUtils.moveNextToken(startCtx)){if(_hasNonWhitespace(startCtx.token.string)){break}}while(endCtx.token.string===";"||endCtx.token.string==="}"||!_hasNonWhitespace(endCtx.token.string)){TokenUtils.movePrevToken(endCtx)}range.start=_.clone(startCtx.pos);range.start.ch=startCtx.token.start;range.end=_.clone(endCtx.pos);range.end.ch=endCtx.token.end;return range}function _getRuleInfoStartingFromPropValue(ctx,editor){var propNamePos=$.extend({},ctx.pos),backwardPos=$.extend({},ctx.pos),forwardPos=$.extend({},ctx.pos),propNameCtx=TokenUtils.getInitialContext(editor._codeMirror,propNamePos),backwardCtx,forwardCtx,lastValue="",propValues=[],index=-1,offset=TokenUtils.offsetInToken(ctx),canAddNewOne=false,testPos={ch:ctx.pos.ch+1,line:ctx.pos.line},testToken=editor._codeMirror.getTokenAt(testPos,true),propName,range;propName=_getPropNameStartingFromPropValue(propNameCtx);if(!propName){return createInfo()}backwardCtx=TokenUtils.getInitialContext(editor._codeMirror,backwardPos);propValues=_getPrecedingPropValues(backwardCtx);lastValue="";if(ctx.token.string===":"){index=0;canAddNewOne=true}else{index=propValues.length-1;if(ctx.token.string===","){propValues[index]+=ctx.token.string;index++;canAddNewOne=true}else{index=index<0?0:index+1;if(ctx.token.string.match(/\S/)){lastValue=ctx.token.string}else{canAddNewOne=true;if(index>0){propValues[index-1]+=ctx.token.string.substr(0,offset)}}}}if(canAddNewOne){offset=0;if(editor.document.getLine(ctx.pos.line).length>ctx.pos.ch&&(testToken.string.length===0||testToken.string.match(/\S/))){canAddNewOne=false}}forwardCtx=TokenUtils.getInitialContext(editor._codeMirror,forwardPos);propValues=propValues.concat(_getSucceedingPropValues(forwardCtx,lastValue));if(propValues.length){range=_getRangeForPropValue(backwardCtx,forwardCtx)}else{range={start:_.clone(ctx.pos),end:_.clone(ctx.pos)}}if(index===propValues.length){canAddNewOne=true}return createInfo(PROP_VALUE,offset,propName,index,propValues,canAddNewOne,range)}function _getImportUrlInfo(ctx,editor){var backwardPos=$.extend({},ctx.pos),forwardPos=$.extend({},ctx.pos),backwardCtx,forwardCtx,index=0,propValues=[],offset=TokenUtils.offsetInToken(ctx);if(ctx.token.type&&ctx.token.type!=="string"){return createInfo()}backwardCtx=TokenUtils.getInitialContext(editor._codeMirror,backwardPos);propValues[0]=backwardCtx.token.string;while(TokenUtils.movePrevToken(backwardCtx)){if(backwardCtx.token.type==="def"&&backwardCtx.token.string==="@import"){break}if(backwardCtx.token.type&&backwardCtx.token.type!=="atom"&&backwardCtx.token.string!=="url"){break}propValues[0]=backwardCtx.token.string+propValues[0];offset+=backwardCtx.token.string.length}if(backwardCtx.token.type!=="def"||backwardCtx.token.string!=="@import"){return createInfo()}forwardCtx=TokenUtils.getInitialContext(editor._codeMirror,forwardPos);do{if(!TokenUtils.moveNextToken(forwardCtx)){if(forwardCtx.token.string==="("){break}else{return createInfo()}}propValues[0]+=forwardCtx.token.string}while(forwardCtx.token.string!==")"&&forwardCtx.token.string!=="");return createInfo(IMPORT_URL,offset,"",index,propValues,false)}function getInfoAtPos(editor,constPos){var pos=$.extend({},constPos),ctx=TokenUtils.getInitialContext(editor._codeMirror,pos),mode=editor.getModeForSelection();if(mode!=="css"&&mode!=="text/x-scss"&&mode!=="text/x-less"){return createInfo()}if(_isInPropName(ctx)){return _getPropNameInfo(ctx,editor)}if(_isInPropValue(ctx)){return _getRuleInfoStartingFromPropValue(ctx,editor)}if(_isInAtRule(ctx)){return _getImportUrlInfo(ctx,editor)}return createInfo()}function getCompleteSelectors(info,useGroup){if(info.parentSelectors){var completeSelectors=info.parentSelectors+" / ";if(useGroup&&info.selectorGroup){completeSelectors+=info.selectorGroup}else{completeSelectors+=info.selector}return completeSelectors}else if(useGroup&&info.selectorGroup){return info.selectorGroup}return info.selector}function extractAllSelectors(text,documentMode){var state,lines,lineCount,token,style,stream,line,selectors=[],mode=CodeMirror.getMode({indentUnit:2},documentMode||"css"),currentSelector="",currentLevel=0,ruleStartChar=-1,ruleStartLine=-1,selectorStartChar=-1,selectorStartLine=-1,selectorGroupStartLine=-1,selectorGroupStartChar=-1,declListStartLine=-1,declListStartChar=-1,escapePattern=new RegExp("\\\\[^\\\\]+","g"),validationPattern=new RegExp("\\\\([a-f0-9]{6}|[a-f0-9]{4}(\\s|\\\\|$)|[a-f0-9]{2}(\\s|\\\\|$)|.)","i"),_parseRuleList;function _hasStream(){while(stream.eol()){line++;if(line>=lineCount){return false}if(_hasNonWhitespace(currentSelector)){currentSelector+=" "}stream=new CodeMirror.StringStream(lines[line])}return true}function _firstToken(){state=CodeMirror.startState(mode);lines=CodeMirror.splitLines(text);lineCount=lines.length;if(lineCount===0){return false}line=0;stream=new CodeMirror.StringStream(lines[line]);if(!_hasStream()){return false}style=mode.token(stream,state);token=stream.current();return true}function _nextToken(){stream.start=stream.pos;if(!_hasStream()){return false}style=mode.token(stream,state);token=stream.current();return true}function _firstTokenSkippingWhitespace(){if(!_firstToken()){return false}while(!_hasNonWhitespace(token)){if(!_nextToken()){return false}}return true}function _nextTokenSkippingWhitespace(){if(!_nextToken()){return false}while(!_hasNonWhitespace(token)){if(!_nextToken()){return false}}return true}function _isStartComment(){return/^\/[\/\*]/.test(token)}function _parseComment(){if(/^\/\//.test(token)){return}while(!/\*\/$/.test(token)){if(!_nextToken()){break}}}function _nextTokenSkippingComments(){if(!_nextToken()){return false}while(_isStartComment()){_parseComment();if(!_nextToken()){return false}}return true}function _skipToClosingBracket(startChar){var skippedText="",unmatchedBraces=0;if(!startChar){startChar="{"}while(true){if(token.indexOf(startChar)!==-1&&token.indexOf(_bracketPairs[startChar])===-1){unmatchedBraces++}else if(token===_bracketPairs[startChar]){unmatchedBraces--;if(unmatchedBraces<=0){skippedText+=token;return skippedText}}skippedText+=token;if(!_nextTokenSkippingComments()){return skippedText}}}function _maybeProperty(){return/^-(moz|ms|o|webkit)-$/.test(token)||state.state!=="top"&&state.state!=="block"&&state.state!=="pseudo"&&stream.string.indexOf(";")!==-1&&!/\([^)]+;/.test(stream.string)}function _skipProperty(){var prevToken="";while(token!==";"){if(/[#@]\{$/.test(token)||token==="{"&&/[#@]$/.test(prevToken)){_skipToClosingBracket("{");if(token==="}"){_nextToken()}if(token===";"){break}}if(token==="{"||token==="}"){return false}prevToken=token;if(!_nextTokenSkippingComments()){break}}return true}function _getParentSelectors(){var j;for(j=selectors.length-1;j>=0;j--){if(selectors[j].declListEndLine===-1&&selectors[j].level<currentLevel){return getCompleteSelectors(selectors[j],true)}}return""}function _parseSelector(start,level){currentSelector="";selectorStartChar=start;selectorStartLine=line;while(token!==","&&token!=="{"||token==="{"&&/[#@]$/.test(currentSelector)||token===","&&!_hasNonWhitespace(currentSelector)){if(token==="{"){currentSelector+=_skipToClosingBracket("{");_nextToken()}else if(token==="}"&&(!currentSelector||/:\s*\S/.test(currentSelector)||!/[#@]\{.+/.test(currentSelector))){return false}if(token===";"&&state.state!=="parens"||state.state==="prop"&&!/\{/.test(stream.string)){currentSelector=""}else if(token==="("){if(_hasNonWhitespace(currentSelector)){currentSelector+=_skipToClosingBracket("(")}else{_skipToClosingBracket("(")}}else if(_hasNonWhitespace(token)||_hasNonWhitespace(currentSelector)){currentSelector+=token}if(!_nextTokenSkippingComments()){return false}}if(!currentSelector){return false}if(/\\/.test(currentSelector)){currentSelector=currentSelector.replace(escapePattern,function(escapedToken){return escapedToken.replace(validationPattern,function(unicodeChar){unicodeChar=unicodeChar.substr(1);if(unicodeChar.length===1){return unicodeChar}else{if(parseInt(unicodeChar,16)<1114111){return String.fromCharCode(parseInt(unicodeChar,16))}else{return String.fromCharCode(65533)}}})})}currentSelector=currentSelector.trim();var startChar=selectorGroupStartLine===-1?selectorStartChar:selectorStartChar+1;var selectorStart=stream.string.indexOf(currentSelector,selectorStartChar)!==-1?stream.string.indexOf(currentSelector,selectorStartChar-currentSelector.length):startChar;if(currentSelector!==""){if(currentLevel<level){currentLevel++}if(ruleStartLine===-1){ruleStartLine=line;ruleStartChar=stream.start-currentSelector.length}var parentSelectors=_getParentSelectors();selectors.push({selector:currentSelector,ruleStartLine:ruleStartLine,ruleStartChar:ruleStartChar,selectorStartLine:selectorStartLine,selectorStartChar:selectorStart,declListEndLine:-1,selectorEndLine:line,selectorEndChar:selectorStart+currentSelector.length,selectorGroupStartLine:selectorGroupStartLine,selectorGroupStartChar:selectorGroupStartChar,level:currentLevel,parentSelectors:parentSelectors});currentSelector=""}selectorStartChar=-1;return true}function _parseSelectorList(level){selectorGroupStartLine=stream.string.indexOf(",")!==-1?line:-1;selectorGroupStartChar=stream.start;if(!_parseSelector(stream.start,level)){return false}while(token===","){if(!_nextTokenSkippingComments()){return false}if(!_parseSelector(stream.start,level)){return false}}return true}function _parseDeclarationList(level){var j;declListStartLine=Math.min(line,lineCount-1);declListStartChar=stream.start;var selectorGroup,sgLine;if(selectorGroupStartLine!==-1){selectorGroup="";for(sgLine=selectorGroupStartLine;sgLine<=declListStartLine;sgLine++){var startChar=0,endChar=lines[sgLine].length;if(sgLine===selectorGroupStartLine){startChar=selectorGroupStartChar}else{selectorGroup+=" "}if(sgLine===declListStartLine){endChar=declListStartChar}selectorGroup+=lines[sgLine].substring(startChar,endChar).trim()}selectorGroup=selectorGroup.trim()}for(j=selectors.length-1;j>=0;j--){if(selectors[j].level===level){if(selectors[j].declListEndLine!==-1){break}else{selectors[j].declListStartLine=declListStartLine;selectors[j].declListStartChar=declListStartChar;if(selectorGroup){selectors[j].selectorGroup=selectorGroup}}}}var nested=true;do{selectorGroupStartLine=-1;selectorGroupStartChar=-1;ruleStartLine=-1;ruleStartChar=-1;if(!nested){if(currentLevel>0&&currentLevel===level){currentLevel--;if(token==="}"){_nextTokenSkippingWhitespace()}}}if(token==="{"){_nextTokenSkippingWhitespace()}nested=_parseRuleList(undefined,currentLevel+1);for(j=selectors.length-1;j>=0;j--){if(selectors[j].level<currentLevel){break}if(selectors[j].declListEndLine===-1){selectors[j].declListEndLine=line;selectors[j].declListEndChar=stream.pos-1}}}while(currentLevel>0&&currentLevel===level)}function includeCommentInNextRule(){if(ruleStartChar!==-1){return false}if(stream.start>0&&lines[line].substr(0,stream.start).indexOf("}")!==-1){return false}return true}function _isStartAtRule(){return/^@/.test(token)&&!/^@mixin/i.test(token)&&token!=="@"}function _followedByPseudoSelector(){return/\}:(enabled|disabled|checked|indeterminate|link|visited|hover|active|focus|target|lang|root|nth-|first-|last-|only-|empty|not)/.test(stream.string)}function _isVariableInterpolatedProperty(){return/[@#]\{\S+\}(\s*:|.*;)/.test(stream.string)&&!_followedByPseudoSelector()}function _parseAtRule(level){ruleStartLine=-1;ruleStartChar=-1;selectorStartLine=-1;selectorStartChar=-1;selectorGroupStartLine=-1;selectorGroupStartChar=-1;if(/@media/i.test(token)){while(token!=="{"){if(!_nextTokenSkippingComments()){return}}if(!_nextTokenSkippingWhitespace()){return}if(currentLevel<=level){currentLevel++}_parseRuleList("}",currentLevel+1);if(currentLevel>0){currentLevel--}}else{while(token!==";"){if(token==="{"){_skipToClosingBracket("{");return}if(!_nextTokenSkippingComments()){return}}}}function _parseRule(level){if(!_parseSelectorList(level)){return false}_parseDeclarationList(level);return true}_parseRuleList=function(escapeToken,level){while(!escapeToken||token!==escapeToken){if(_isVariableInterpolatedProperty()){if(!_skipProperty()){return false}}else if(_isStartAtRule()){_parseAtRule(level)}else if(_isStartComment()){if(includeCommentInNextRule()){ruleStartChar=stream.start;ruleStartLine=line}_parseComment()}else if(_maybeProperty()){if(!_skipProperty()){return false}}else{if(!_parseRule(level===undefined?0:level)&&level>0){return false}if(level>0){return true}ruleStartChar=-1;ruleStartLine=-1}if(!_nextTokenSkippingWhitespace()){break}}return true};if(_firstTokenSkippingWhitespace()){_parseRuleList()}return selectors}function _stripAtRules(selector){selector=selector.trim();if(selector.indexOf("@")===0){return""}return selector}function _getSelectorInFinalCSSForm(selectorArray){var finalSelectorArray=[""],parentSelectorArray=[],group=[];_.forEach(selectorArray,function(selector){selector=_stripAtRules(selector);group=selector.split(",");parentSelectorArray=[];_.forEach(group,function(cs){var ampersandIndex=cs.indexOf("&");_.forEach(finalSelectorArray,function(ps){if(ampersandIndex===-1){cs=_stripAtRules(cs);if(ps.length&&cs.length){ps+=" "}ps+=cs}else{ps=_stripAtRules(cs.replace(/&/g,ps))}parentSelectorArray.push(ps)})});finalSelectorArray=parentSelectorArray});return finalSelectorArray.join(", ")}function _findAllMatchingSelectorsInText(text,selector,mode){var allSelectors=extractAllSelectors(text,mode);var result=[];var classOrIdSelector=selector[0]==="."||selector[0]==="#";if(selector[0]==="."){selector="\\"+selector}if(!classOrIdSelector){selector="(^|[\\s>+~])"+selector}var re=new RegExp(selector+"(\\[[^\\]]*\\]|:{1,2}[\\w-()]+|\\.[\\w-]+|#[\\w-]+)*\\s*$",classOrIdSelector?"":"i");allSelectors.forEach(function(entry){var actualSelector=entry.selector;if(entry.selector.indexOf("&")!==-1&&entry.parentSelectors){var selectorArray=entry.parentSelectors.split(" / ");selectorArray.push(entry.selector);actualSelector=_getSelectorInFinalCSSForm(selectorArray)}if(actualSelector.search(re)!==-1){result.push(entry)}else if(!classOrIdSelector){if(/\*\s*$/.test(actualSelector)){result.push(entry)}}});return result}function _addSelectorsToResults(resultSelectors,selectorsToAdd,sourceDoc,lineOffset){selectorsToAdd.forEach(function(selectorInfo){resultSelectors.push({name:getCompleteSelectors(selectorInfo),document:sourceDoc,lineStart:selectorInfo.ruleStartLine+lineOffset,lineEnd:selectorInfo.declListEndLine+lineOffset,selectorGroup:selectorInfo.selectorGroup})})}function _findMatchingRulesInCSSFiles(selector,resultSelectors){var result=new $.Deferred;function _loadFileAndScan(fullPath,selector){var oneFileResult=new $.Deferred;DocumentManager.getDocumentForPath(fullPath).done(function(doc){var oneCSSFileMatches=_findAllMatchingSelectorsInText(doc.getText(),selector,doc.getLanguage().getMode());_addSelectorsToResults(resultSelectors,oneCSSFileMatches,doc,0);oneFileResult.resolve()}).fail(function(error){console.warn("Unable to read "+fullPath+" during CSS rule search:",error);oneFileResult.resolve()});return oneFileResult.promise()}ProjectManager.getAllFiles(ProjectManager.getLanguageFilter(["css","less","scss"])).done(function(cssFiles){Async.doInParallel(cssFiles,function(fileInfo,number){return _loadFileAndScan(fileInfo.fullPath,selector)}).then(result.resolve,result.reject)});return result.promise()}function _findMatchingRulesInStyleBlocks(htmlDocument,selector,resultSelectors){var htmlEditor=EditorManager.getCurrentFullEditor();if(htmlEditor.document!==htmlDocument){console.error("Cannot search for <style> blocks in HTML file other than current editor");return}var styleBlocks=HTMLUtils.findStyleBlocks(htmlEditor);styleBlocks.forEach(function(styleBlockInfo){var oneStyleBlockMatches=_findAllMatchingSelectorsInText(styleBlockInfo.text,selector);_addSelectorsToResults(resultSelectors,oneStyleBlockMatches,htmlDocument,styleBlockInfo.start.line)})}function findMatchingRules(selector,htmlDocument){
var result=new $.Deferred,resultSelectors=[];if(htmlDocument){_findMatchingRulesInStyleBlocks(htmlDocument,selector,resultSelectors)}_findMatchingRulesInCSSFiles(selector,resultSelectors).done(function(){result.resolve(resultSelectors)}).fail(function(error){result.reject(error)});return result.promise()}function findSelectorAtDocumentPos(editor,pos){var cm=editor._codeMirror;var ctx=TokenUtils.getInitialContext(cm,$.extend({},pos));var selector="",foundChars=false;var isPreprocessorDoc=isCSSPreprocessorFile(editor.document.file.fullPath);var selectorArray=[];function _skipToOpeningBracket(ctx,startChar){var unmatchedBraces=0;if(!startChar){startChar="}"}while(true){if(startChar===ctx.token.string){unmatchedBraces++}else if(ctx.token.string.match(_invertedBracketPairs[startChar])){unmatchedBraces--;if(unmatchedBraces<=0){return}}if(!TokenUtils.movePrevToken(ctx)){return}}}function _parseSelector(ctx){var selector="";TokenUtils.movePrevToken(ctx);while(true){if(ctx.token.type!=="comment"){if(/[\{\}\;]/.test(ctx.token.string)){break}if(ctx.token.string==="style"&&ctx.token.type==="tag"){var eotIndex=selector.indexOf(">");if(eotIndex!==-1){selector=selector.substring(eotIndex+1)}break}selector=ctx.token.string+selector}if(!TokenUtils.movePrevToken(ctx)){break}}return selector}var skipPrevSibling=false,state=_getContextState(ctx);if(isPreprocessorDoc&&_hasNonWhitespace(ctx.token.string)&&ctx.token.string!=="{"&&(state.state==="block"||state.state==="top")){foundChars=true}do{if(ctx.token.type!=="comment"){if(ctx.token.string==="}"){if(isPreprocessorDoc){if(state.state==="top"){break}skipPrevSibling=true;_skipToOpeningBracket(ctx,"}")}else{break}}else if(ctx.token.string==="{"){selector=_parseSelector(ctx);if(isPreprocessorDoc){if(!skipPrevSibling&&!/^\s*@/.test(selector)){selectorArray.unshift(selector)}if(skipPrevSibling){skipPrevSibling=false}}else{break}}else{if(!isPreprocessorDoc&&_hasNonWhitespace(ctx.token.string)){foundChars=true}TokenUtils.movePrevToken(ctx)}}else{TokenUtils.movePrevToken(ctx)}}while(!TokenUtils.isAtStart(ctx));selector=_stripAtRules(selector);ctx=TokenUtils.getInitialContext(cm,$.extend({},pos));if(!selector&&!foundChars&&!isPreprocessorDoc||isPreprocessorDoc&&(ctx.token.string===""||/\s+/.test(ctx.token.string))){if(TokenUtils.moveNextToken(ctx)&&ctx.token.type!=="comment"&&_hasNonWhitespace(ctx.token.string)){foundChars=true;ctx=TokenUtils.getInitialContext(cm,$.extend({},pos))}}if((!selector||isPreprocessorDoc)&&foundChars){while(true){if(ctx.token.type!=="comment"){if(ctx.token.string==="{"){selector=_parseSelector(ctx);if(isPreprocessorDoc&&!/^\s*@/.test(selector)){selectorArray.push(selector)}break}else if(ctx.token.string==="}"||ctx.token.string===";"){break}}if(!TokenUtils.moveNextToken(ctx)){break}}}if(isPreprocessorDoc){return _getSelectorInFinalCSSForm(selectorArray)}return _stripAtRules(selector)}function _removeComments(content){return content.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\//g,"")}function _removeStrings(content){var s=content.replace(/\\\"|\\\'/g,"");return s.replace(/\"(.*?)\"|\'(.*?)\'/g,"")}function reduceStyleSheetForRegExParsing(content){return _removeStrings(_removeComments(content))}function extractAllNamedFlows(text){var namedFlowRegEx=/(?:flow\-(into|from)\:\s*)([\w\-]+)(?:\s*;)/gi,result=[],names={},thisMatch;text=reduceStyleSheetForRegExParsing(text);thisMatch=namedFlowRegEx.exec(text);while(thisMatch){var thisName=thisMatch[2];if(IGNORED_FLOW_NAMES.indexOf(thisName)===-1&&!names.hasOwnProperty(thisName)){names[thisName]=result.push(thisName)}thisMatch=namedFlowRegEx.exec(text)}return result}function addRuleToDocument(doc,selector,useTabChar,indentUnit){var newRule="\n"+selector+" {\n",blankLineOffset;if(useTabChar){newRule+="\t";blankLineOffset=1}else{var i;for(i=0;i<indentUnit;i++){newRule+=" "}blankLineOffset=indentUnit}newRule+="\n}\n";var docLines=doc.getText().split("\n"),lastDocLine=docLines.length-1,lastDocChar=docLines[docLines.length-1].length;doc.replaceRange(newRule,{line:lastDocLine,ch:lastDocChar});return{range:{from:{line:lastDocLine+1,ch:0},to:{line:lastDocLine+3,ch:1}},pos:{line:lastDocLine+2,ch:blankLineOffset}}}function consolidateRules(rules){var newRules=[],lastRule;rules.forEach(function(rule){if(rule.selectorGroup){rule.name=rule.selectorGroup}if(!(lastRule&&rule.document===lastRule.document&&rule.lineStart===lastRule.lineStart&&rule.lineEnd===lastRule.lineEnd&&rule.selectorGroup===lastRule.selectorGroup)){newRules.push(rule)}lastRule=rule});return newRules}function getRangeSelectors(range){var i,startIndex=0,endIndex,text=range.document.getText();for(i=0;i<range.startLine;i++){startIndex=text.indexOf("\n",startIndex)+1}endIndex=startIndex;for(i=range.startLine+1;i<=range.endLine+1;i++){endIndex=text.indexOf("\n",endIndex)+1}var allSelectors=extractAllSelectors(text.substring(startIndex,endIndex));return allSelectors.length?allSelectors[0].selectorGroup||allSelectors[0].selector:""}exports._findAllMatchingSelectorsInText=_findAllMatchingSelectorsInText;exports.findMatchingRules=findMatchingRules;exports.extractAllSelectors=extractAllSelectors;exports.extractAllNamedFlows=extractAllNamedFlows;exports.findSelectorAtDocumentPos=findSelectorAtDocumentPos;exports.reduceStyleSheetForRegExParsing=reduceStyleSheetForRegExParsing;exports.addRuleToDocument=addRuleToDocument;exports.consolidateRules=consolidateRules;exports.getRangeSelectors=getRangeSelectors;exports.getCompleteSelectors=getCompleteSelectors;exports.isCSSPreprocessorFile=isCSSPreprocessorFile;exports.SELECTOR=SELECTOR;exports.PROP_NAME=PROP_NAME;exports.PROP_VALUE=PROP_VALUE;exports.IMPORT_URL=IMPORT_URL;exports.getInfoAtPos=getInfoAtPos;exports.createInfo=createInfo});define("LiveDevelopment/MultiBrowserImpl/documents/LiveDocument",["require","exports","module","editor/EditorManager","utils/EventDispatcher","preferences/PreferencesManager","thirdparty/lodash"],function(require,exports,module){"use strict";var EditorManager=require("editor/EditorManager"),EventDispatcher=require("utils/EventDispatcher"),PreferencesManager=require("preferences/PreferencesManager"),_=require("thirdparty/lodash");var SYNC_ERROR_CLASS="live-preview-sync-error";function LiveDocument(protocol,urlResolver,doc,editor,roots){this.protocol=protocol;this.urlResolver=urlResolver;this.doc=doc;this.roots=roots||[];this._onActiveEditorChange=this._onActiveEditorChange.bind(this);this._onCursorActivity=this._onCursorActivity.bind(this);this._onHighlightPrefChange=this._onHighlightPrefChange.bind(this);EditorManager.on("activeEditorChange",this._onActiveEditorChange);PreferencesManager.stateManager.getPreference("livedev.highlight").on("change",this._onHighlightPrefChange);$(window).focus(this._onHighlightPrefChange);if(editor){this._attachToEditor(editor)}}EventDispatcher.makeEventDispatcher(LiveDocument.prototype);LiveDocument.prototype.close=function(){this._clearErrorDisplay();this._detachFromEditor();EditorManager.off("activeEditorChange",this._onActiveEditorChange);PreferencesManager.stateManager.getPreference("livedev.highlight").off("change",this._onHighlightPrefChange)};LiveDocument.prototype.isLiveEditingEnabled=function(){return false};LiveDocument.prototype.setInstrumentationEnabled=function(enabled){};LiveDocument.prototype.getResponseData=function(enabled){return{body:this.doc.getText()}};LiveDocument.prototype._onHighlightPrefChange=function(){if(this.isHighlightEnabled()){this.updateHighlight()}else{this.hideHighlight()}};LiveDocument.prototype._onActiveEditorChange=function(event,newActive,oldActive){if(newActive&&newActive.document===this.doc){this._attachToEditor(newActive)}};LiveDocument.prototype._attachToEditor=function(editor){this.editor=editor;if(this.editor){this.editor.on("cursorActivity",this._onCursorActivity);this.updateHighlight()}};LiveDocument.prototype._detachFromEditor=function(){if(this.editor){this.hideHighlight();this.editor.off("cursorActivity",this._onCursorActivity);this.editor=null}};LiveDocument.prototype._onCursorActivity=function(event,editor){if(!this.editor){return}this.updateHighlight()};LiveDocument.prototype._updateErrorDisplay=function(){var self=this,startLine,endLine,i,lineHandle;if(!this.editor){return}this.editor._codeMirror.operation(function(){self._clearErrorDisplay();self._errorLineHandles=self._errorLineHandles||[];self.errors.forEach(function(error){startLine=error.startPos.line;endLine=error.endPos.line;for(i=startLine;i<endLine+1;i++){lineHandle=self.editor._codeMirror.addLineClass(i,"wrap",SYNC_ERROR_CLASS);self._errorLineHandles.push(lineHandle)}})});this.trigger("errorStatusChanged",!!this.errors.length)};LiveDocument.prototype._clearErrorDisplay=function(){var self=this,lineHandle;if(!this.editor||!this._errorLineHandles||!this._errorLineHandles.length){return}this.editor._codeMirror.operation(function(){while(true){lineHandle=self._errorLineHandles.pop();if(!lineHandle){break}self.editor._codeMirror.removeLineClass(lineHandle,"wrap",SYNC_ERROR_CLASS)}})};LiveDocument.prototype.isHighlightEnabled=function(){return PreferencesManager.getViewState("livedev.highlight")};LiveDocument.prototype.updateHighlight=function(){};LiveDocument.prototype.hideHighlight=function(temporary){if(!temporary){this._lastHighlight=null}this.protocol.evaluate("_LD.hideHighlight()")};LiveDocument.prototype.highlightRule=function(name){if(this._lastHighlight===name){return}this._lastHighlight=name;this.protocol.evaluate("_LD.highlightRule("+JSON.stringify(name)+")")};LiveDocument.prototype.highlightDomElement=function(ids){var selector="";if(!Array.isArray(ids)){ids=[ids]}_.each(ids,function(id){if(selector!==""){selector+=","}selector+="[data-brackets-id='"+id+"']"});this.highlightRule(selector)};LiveDocument.prototype.redrawHighlights=function(){if(this.isHighlightEnabled()){this.protocol.evaluate("_LD.redrawHighlights()")}};module.exports=LiveDocument});define("LiveDevelopment/MultiBrowserImpl/documents/LiveCSSDocument",["require","exports","module","thirdparty/lodash","language/CSSUtils","utils/EventDispatcher","LiveDevelopment/MultiBrowserImpl/documents/LiveDocument","thirdparty/path-utils/path-utils","filesystem/impls/filer/UrlCache"],function LiveCSSDocumentModule(require,exports,module){"use strict";var _=require("thirdparty/lodash"),CSSUtils=require("language/CSSUtils"),EventDispatcher=require("utils/EventDispatcher"),LiveDocument=require("LiveDevelopment/MultiBrowserImpl/documents/LiveDocument"),PathUtils=require("thirdparty/path-utils/path-utils");var UrlCache=require("filesystem/impls/filer/UrlCache");function normalizeRoots(roots){return roots.map(function(root){return UrlCache.getFilename(root.toString())})}var LiveCSSDocument=function LiveCSSDocument(protocol,urlResolver,doc,editor,roots){LiveDocument.apply(this,arguments);this.roots=normalizeRoots(this.roots);this.doc.addRef();this.onChange=this.onChange.bind(this);this.onDeleted=this.onDeleted.bind(this);this.doc.on("change.LiveCSSDocument",this.onChange);this.doc.on("deleted.LiveCSSDocument",this.onDeleted);if(editor){this._attachToEditor(editor)}};LiveCSSDocument.prototype=Object.create(LiveDocument.prototype);LiveCSSDocument.prototype.constructor=LiveCSSDocument;LiveCSSDocument.prototype.parentClass=LiveDocument.prototype;EventDispatcher.makeEventDispatcher(LiveCSSDocument.prototype);LiveCSSDocument.prototype.close=function(){this.doc.off(".LiveCSSDocument");this.doc.releaseRef();this.parentClass.close.call(this)};LiveCSSDocument.prototype._updateBrowser=function(){var i,docUrl=this.doc.url;function makeUrlsRelativeToCss(match,quotationMark,url){if(PathUtils.isRelativeUrl(url)){var absUrl=PathUtils.makeUrlAbsolute(url,docUrl);return"url("+quotationMark+absUrl+quotationMark+")"}return match}for(i=0;i<this.roots.length;i++){if(docUrl!==this.roots[i].toString()){this.trigger("updateDoc",this.roots[i])}else{var docText=this.doc.getText();docText=docText.replace(/\burl\(\s*(["']?)([^)\n]+)\1\s*\)/gi,makeUrlsRelativeToCss);this.protocol.setStylesheetText(docUrl,docText)}}this.redrawHighlights()};LiveCSSDocument.prototype.updateHighlight=function(){if(this.isHighlightEnabled()&&this.editor){var editor=this.editor,selectors=[];_.each(this.editor.getSelections(),function(sel){var selector=CSSUtils.findSelectorAtDocumentPos(editor,sel.reversed?sel.end:sel.start);if(selector){selectors.push(selector)}});if(selectors.length){this.highlightRule(selectors.join(","))}else{this.hideHighlight()}}};LiveCSSDocument.prototype.isLiveEditingEnabled=function(){return true};LiveCSSDocument.prototype.onChange=function(event,editor,change){this._updateBrowser()};LiveCSSDocument.prototype.onDeleted=function(event){this.close();this.trigger("deleted",[this])};LiveCSSDocument.prototype.getSourceFromBrowser=function(){var deferred=new $.Deferred;this.protocol.getStylesheetText(this.doc.url).then(function(res){deferred.resolve(res.text)},deferred.reject);return deferred.promise()};module.exports=LiveCSSDocument});define("language/HTMLDOMDiff",["require","exports","module"],function(require,exports,module){"use strict";function generateAttributeEdits(oldNode,newNode){var oldAttributes=$.extend({},oldNode.attributes),newAttributes=newNode.attributes,edits=[];Object.keys(newAttributes).forEach(function(attributeName){if(oldAttributes[attributeName]!==newAttributes[attributeName]){var type=oldAttributes.hasOwnProperty(attributeName)?"attrChange":"attrAdd";edits.push({type:type,tagID:oldNode.tagID,attribute:attributeName,value:newAttributes[attributeName]})}delete oldAttributes[attributeName]});Object.keys(oldAttributes).forEach(function(attributeName){edits.push({type:"attrDelete",tagID:oldNode.tagID,attribute:attributeName})});return edits}function getParentID(node){return node.parent&&node.parent.tagID}var generateChildEdits=function(oldParent,oldNodeMap,newParent,newNodeMap){var newIndex=0,oldIndex=0,newChildren=newParent.children,oldChildren=oldParent?oldParent.children:[],newChild,oldChild,newEdits=[],newEdit,textAfterID,edits=[],moves=[],newElements=[];var finalizeNewEdits=function(beforeID,isBeingDeleted){newEdits.forEach(function(edit){if(edit.type!=="elementDelete"){edit.beforeID=beforeID}});edits.push.apply(edits,newEdits);newEdits=[];if(!isBeingDeleted){textAfterID=beforeID}};var addElementInsert=function(){if(!oldNodeMap[newChild.tagID]){newEdit={type:"elementInsert",tag:newChild.tag,tagID:newChild.tagID,parentID:newChild.parent.tagID,attributes:newChild.attributes};newEdits.push(newEdit);newElements.push(newChild);textAfterID=newChild.tagID;newIndex++;return true}return false};var addElementDelete=function(){if(!newNodeMap[oldChild.tagID]){finalizeNewEdits(oldChild.tagID,true);newEdit={type:"elementDelete",tagID:oldChild.tagID};newEdits.push(newEdit);oldIndex++;return true}return false};var addTextInsert=function(){newEdit={type:"textInsert",content:newChild.content,parentID:newChild.parent.tagID};if(textAfterID){newEdit.afterID=textAfterID}else{newEdit.firstChild=true}newEdits.push(newEdit);newIndex++};var prevNode=function(){if(newIndex>0){return newParent.children[newIndex-1]}return null};var addTextDelete=function(){var prev=prevNode();if(prev&&!prev.children){newEdit={type:"textReplace",content:prev.content}}else{newEdit={type:"textDelete"}}var previousEdit=newEdits.length>0&&newEdits[newEdits.length-1];if(previousEdit&&previousEdit.type==="textReplace"&&previousEdit.afterID===textAfterID){oldIndex++;return}newEdit.parentID=oldChild.parent.tagID;if(oldChild.parent.children.length===1){newEdits.push(newEdit)}else{if(textAfterID){newEdit.afterID=textAfterID}newEdits.push(newEdit)}oldIndex++};var addElementMove=function(){var possiblyMovedElement=oldNodeMap[newChild.tagID];if(possiblyMovedElement&&newParent.tagID!==getParentID(possiblyMovedElement)){newEdit={type:"elementMove",tagID:newChild.tagID,parentID:newChild.parent.tagID};moves.push(newEdit.tagID);newEdits.push(newEdit);newIndex++;return true}return false};var hasMoved=function(oldChild){var oldChildInNewTree=newNodeMap[oldChild.tagID];return oldChild.children&&oldChildInNewTree&&getParentID(oldChild)!==getParentID(oldChildInNewTree)};while(newIndex<newChildren.length&&oldIndex<oldChildren.length){newChild=newChildren[newIndex];if(newChild.children&&addElementMove()){continue}oldChild=oldChildren[oldIndex];if(hasMoved(oldChild)){oldIndex++;continue}if(newChild.isElement()||oldChild.isElement()){if(newChild.isElement()&&oldChild.isText()){addTextDelete();addElementInsert()}else if(oldChild.isElement()&&newChild.isText()){if(!addElementDelete()){addTextInsert()}}else{if(newChild.tagID!==oldChild.tagID){if(!addElementDelete()){if(!addElementInsert()){console.error("HTML Instrumentation: This should not happen. Two elements have different tag IDs and there was no insert/delete. This generally means there was a reordering of elements.");newIndex++;oldIndex++}}}else{finalizeNewEdits(oldChild.tagID,false);newIndex++;oldIndex++}}}else{if(newChild.textSignature!==oldChild.textSignature){newEdit={type:"textReplace",content:newChild.content,parentID:newChild.parent.tagID};if(textAfterID){newEdit.afterID=textAfterID}newEdits.push(newEdit)}newIndex++;oldIndex++}}while(oldIndex<oldChildren.length){oldChild=oldChildren[oldIndex];if(hasMoved(oldChild)){oldIndex++}else if(oldChild.isElement()){if(!addElementDelete()){console.error("HTML Instrumentation: failed to add elementDelete for remaining element in the original DOM. This should not happen.",oldChild);oldIndex++}}else{addTextDelete()}}while(newIndex<newChildren.length){newChild=newChildren[newIndex];if(newChild.isElement()){if(!addElementMove()){if(!addElementInsert()){console.error("HTML Instrumentation: failed to add elementInsert for remaining element in the updated DOM. This should not happen.");newIndex++}}}else{addTextInsert()}}newEdits.forEach(function(edit){if(edit.type==="textInsert"||edit.type==="elementInsert"||edit.type==="elementMove"){edit.lastChild=true;delete edit.firstChild;delete edit.afterID}});edits.push.apply(edits,newEdits);return{edits:edits,moves:moves,newElements:newElements}};function domdiff(oldNode,newNode){var queue=[],edits=[],moves=[],newElement,oldElement,oldNodeMap=oldNode?oldNode.nodeMap:{},newNodeMap=newNode.nodeMap;var queuePush=function(node){if(node.children&&oldNodeMap[node.tagID]){queue.push(node)}};var addEdits=function(delta){edits.push.apply(edits,delta.edits);moves.push.apply(moves,delta.moves);queue.push.apply(queue,delta.newElements)};queue.push(newNode);do{newElement=queue.pop();oldElement=oldNodeMap[newElement.tagID];if(oldElement){if(newElement.attributeSignature!==oldElement.attributeSignature){edits.push.apply(edits,generateAttributeEdits(oldElement,newElement))}if(newElement.childSignature!==oldElement.childSignature){addEdits(generateChildEdits(oldElement,oldNodeMap,newElement,newNodeMap))}if(newElement.subtreeSignature!==oldElement.subtreeSignature){newElement.children.forEach(queuePush)}}else{if(!newElement.parent){edits.push({type:"elementInsert",tag:newElement.tag,tagID:newElement.tagID,parentID:null,attributes:newElement.attributes})}addEdits(generateChildEdits(null,oldNodeMap,newElement,newNodeMap))}}while(queue.length);if(moves.length>0){edits.unshift({type:"rememberNodes",tagIDs:moves})}return edits}function shouldReload(oldNode,newNode){switch(oldNode.tag){case"html":case"script":return true}switch(newNode.tag){case"html":case"script":return true}return false}exports.domdiff=domdiff;exports.shouldReload=shouldReload});define("language/HTMLTokenizer",["require","exports","module"],function(require,exports,module){"use strict";var i=0,TEXT=i++,BEFORE_TAG_NAME=i++,IN_TAG_NAME=i++,BEFORE_CLOSING_TAG_NAME=i++,IN_CLOSING_TAG_NAME=i++,AFTER_CLOSING_TAG_NAME=i++,AFTER_SELFCLOSE_SLASH=i++,BEFORE_ATTRIBUTE_NAME=i++,AFTER_QUOTED_ATTRIBUTE_VALUE=i++,IN_ATTRIBUTE_NAME=i++,AFTER_ATTRIBUTE_NAME=i++,BEFORE_ATTRIBUTE_VALUE=i++,IN_ATTRIBUTE_VALUE_DOUBLE_QUOTES=i++,IN_ATTRIBUTE_VALUE_SINGLE_QUOTES=i++,IN_ATTRIBUTE_VALUE_NO_QUOTES=i++,BEFORE_DECLARATION=i++,IN_DECLARATION=i++,IN_PROCESSING_INSTRUCTION=i++,BEFORE_COMMENT=i++,IN_COMMENT=i++,AFTER_COMMENT_1=i++,AFTER_COMMENT_2=i++,BEFORE_CDATA_1=i++,BEFORE_CDATA_2=i++,BEFORE_CDATA_3=i++,BEFORE_CDATA_4=i++,BEFORE_CDATA_5=i++,BEFORE_CDATA_6=i++,IN_CDATA=i++,AFTER_CDATA_1=i++,AFTER_CDATA_2=i++,BEFORE_SPECIAL=i++,BEFORE_SPECIAL_END=i++,BEFORE_SCRIPT_1=i++,BEFORE_SCRIPT_2=i++,BEFORE_SCRIPT_3=i++,BEFORE_SCRIPT_4=i++,BEFORE_SCRIPT_5=i++,AFTER_SCRIPT_1=i++,AFTER_SCRIPT_2=i++,AFTER_SCRIPT_3=i++,AFTER_SCRIPT_4=i++,AFTER_SCRIPT_5=i++,BEFORE_STYLE_1=i++,BEFORE_STYLE_2=i++,BEFORE_STYLE_3=i++,BEFORE_STYLE_4=i++,AFTER_STYLE_1=i++,AFTER_STYLE_2=i++,AFTER_STYLE_3=i++,AFTER_STYLE_4=i++;function isWhitespace(c){return c===" "||c==="\t"||c==="\r"||c==="\n"}function isLegalInTagName(c){return/[A-Za-z0-9\-]/.test(c)}function isLegalInAttributeName(c){return c!=='"'&&c!=="'"&&c!=="<"&&c!=="="}function isLegalInUnquotedAttributeValue(c){return c!=="<"&&c!=="="}function _clonePos(pos,offset){return pos?{line:pos.line,ch:pos.ch+(offset||0)}:null}function Tokenizer(text){this._state=TEXT;this._buffer=text;this._sectionStart=0;this._sectionStartPos={line:0,ch:0};this._index=0;this._indexPos={line:0,ch:0};this._special=0;this._token=null;this._nextToken=null}Tokenizer.prototype.nextToken=function(){this._token=null;if(this._nextToken){var result=this._nextToken;this._nextToken=null;return result}while(this._index<this._buffer.length&&!this._token){var c=this._buffer.charAt(this._index);if(this._state===TEXT){if(c==="<"){this._emitTokenIfNonempty("text");this._state=BEFORE_TAG_NAME;this._startSection()}}else if(this._state===BEFORE_TAG_NAME){if(c==="/"){this._state=BEFORE_CLOSING_TAG_NAME}else if(c===">"||this._special>0){this._state=TEXT}else{if(c==="!"){this._state=BEFORE_DECLARATION;this._startSection(1)}else if(c==="?"){this._state=IN_PROCESSING_INSTRUCTION;this._startSection(1)}else if(c==="s"||c==="S"){this._state=BEFORE_SPECIAL;this._startSection()}else if(!isLegalInTagName(c)){this._emitSpecialToken("error");break}else if(!isWhitespace(c)){this._state=IN_TAG_NAME;this._startSection()}}}else if(this._state===IN_TAG_NAME){if(c==="/"){this._emitToken("opentagname");this._emitSpecialToken("selfclosingtag",this._index+2,_clonePos(this._indexPos,2));this._state=AFTER_SELFCLOSE_SLASH}else if(c===">"){this._emitToken("opentagname");this._emitSpecialToken("opentagend",this._index+1,_clonePos(this._indexPos,1));this._state=TEXT;this._startSection(1)}else if(isWhitespace(c)){this._emitToken("opentagname");this._state=BEFORE_ATTRIBUTE_NAME}else if(!isLegalInTagName(c)){this._emitSpecialToken("error");break}}else if(this._state===BEFORE_CLOSING_TAG_NAME){if(c===">"){this._state=TEXT}else if(this._special>0){if(c==="s"||c==="S"){this._state=BEFORE_SPECIAL_END}else{this._state=TEXT;continue}}else if(!isLegalInTagName(c)){this._emitSpecialToken("error");break}else if(!isWhitespace(c)){this._state=IN_CLOSING_TAG_NAME;this._startSection()}}else if(this._state===IN_CLOSING_TAG_NAME){if(c===">"){this._emitToken("closetag");this._state=TEXT;this._startSection(1);this._special=0}else if(isWhitespace(c)){this._emitToken("closetag");this._state=AFTER_CLOSING_TAG_NAME;this._special=0}else if(!isLegalInTagName(c)){this._emitSpecialToken("error");break}}else if(this._state===AFTER_CLOSING_TAG_NAME){if(c===">"){this._state=TEXT;this._startSection(1)}else if(!isWhitespace(c)){this._emitSpecialToken("error");break}}else if(this._state===AFTER_SELFCLOSE_SLASH){if(c===">"){this._state=TEXT;this._startSection(1)}else{this._emitSpecialToken("error");break}}else if(this._state===BEFORE_ATTRIBUTE_NAME){if(c===">"){this._state=TEXT;this._emitSpecialToken("opentagend",this._index+1,_clonePos(this._indexPos,1));this._startSection(1)}else if(c==="/"){this._emitSpecialToken("selfclosingtag",this._index+2,_clonePos(this._indexPos,2));this._state=AFTER_SELFCLOSE_SLASH}else if(!isLegalInAttributeName(c)){this._emitSpecialToken("error");break}else if(!isWhitespace(c)){this._state=IN_ATTRIBUTE_NAME;this._startSection()}}else if(this._state===IN_ATTRIBUTE_NAME){if(c==="="){this._emitTokenIfNonempty("attribname");this._state=BEFORE_ATTRIBUTE_VALUE}else if(isWhitespace(c)){this._emitTokenIfNonempty("attribname");this._state=AFTER_ATTRIBUTE_NAME}else if(c==="/"||c===">"){this._emitTokenIfNonempty("attribname");this._state=BEFORE_ATTRIBUTE_NAME;continue}else if(!isLegalInAttributeName(c)){this._emitSpecialToken("error");break}}else if(this._state===AFTER_ATTRIBUTE_NAME){if(c==="="){this._state=BEFORE_ATTRIBUTE_VALUE}else if(c==="/"||c===">"){this._state=BEFORE_ATTRIBUTE_NAME;continue}else if(!isLegalInAttributeName(c)){this._emitSpecialToken("error");break}else if(!isWhitespace(c)){this._state=IN_ATTRIBUTE_NAME;this._startSection()}}else if(this._state===BEFORE_ATTRIBUTE_VALUE){if(c==='"'){this._state=IN_ATTRIBUTE_VALUE_DOUBLE_QUOTES;this._startSection(1)}else if(c==="'"){this._state=IN_ATTRIBUTE_VALUE_SINGLE_QUOTES;this._startSection(1)}else if(!isLegalInUnquotedAttributeValue(c)){this._emitSpecialToken("error");break}else if(!isWhitespace(c)){this._state=IN_ATTRIBUTE_VALUE_NO_QUOTES;this._startSection()}}else if(this._state===IN_ATTRIBUTE_VALUE_DOUBLE_QUOTES){if(c==='"'){this._emitToken("attribvalue");this._state=AFTER_QUOTED_ATTRIBUTE_VALUE}}else if(this._state===IN_ATTRIBUTE_VALUE_SINGLE_QUOTES){if(c==="'"){this._state=AFTER_QUOTED_ATTRIBUTE_VALUE;this._emitToken("attribvalue")}}else if(this._state===IN_ATTRIBUTE_VALUE_NO_QUOTES){if(c===">"){this._emitToken("attribvalue");this._emitSpecialToken("opentagend",this._index+1,_clonePos(this._indexPos,1));this._state=TEXT;this._startSection(1)}else if(isWhitespace(c)){this._emitToken("attribvalue");this._state=BEFORE_ATTRIBUTE_NAME}else if(!isLegalInUnquotedAttributeValue(c)){this._emitSpecialToken("error");break}}else if(this._state===AFTER_QUOTED_ATTRIBUTE_VALUE){if(c===">"){this._state=TEXT;this._emitSpecialToken("opentagend",this._index+1,_clonePos(this._indexPos,1));this._startSection(1)}else if(c==="/"){this._emitSpecialToken("selfclosingtag",this._index+2,_clonePos(this._indexPos,2));this._state=AFTER_SELFCLOSE_SLASH}else if(isWhitespace(c)){this._state=BEFORE_ATTRIBUTE_NAME}else{this._emitSpecialToken("error");break}}else if(this._state===BEFORE_DECLARATION){if(c==="["){this._state=BEFORE_CDATA_1}else if(c==="-"){this._state=BEFORE_COMMENT}else{this._state=IN_DECLARATION}}else if(this._state===IN_DECLARATION){if(c===">"){this._emitToken("declaration");this._state=TEXT;this._startSection(1)}}else if(this._state===IN_PROCESSING_INSTRUCTION){if(c===">"){this._emitToken("processinginstruction");this._state=TEXT;this._startSection(1)}}else if(this._state===BEFORE_COMMENT){if(c==="-"){this._state=IN_COMMENT;this._startSection(1)}else{this._state=IN_DECLARATION}}else if(this._state===IN_COMMENT){if(c==="-"){this._state=AFTER_COMMENT_1}}else if(this._state===AFTER_COMMENT_1){if(c==="-"){this._state=AFTER_COMMENT_2}else{this._state=IN_COMMENT}}else if(this._state===AFTER_COMMENT_2){if(c===">"){this._emitToken("comment",this._index-2,_clonePos(this._indexPos,-2));this._state=TEXT;this._startSection(1)}else if(c!=="-"){this._state=IN_COMMENT}}else if(this._state===BEFORE_CDATA_1){if(c==="C"){this._state=BEFORE_CDATA_2}else{this._state=IN_DECLARATION}}else if(this._state===BEFORE_CDATA_2){if(c==="D"){this._state=BEFORE_CDATA_3}else{this._state=IN_DECLARATION}}else if(this._state===BEFORE_CDATA_3){if(c==="A"){this._state=BEFORE_CDATA_4}else{this._state=IN_DECLARATION}}else if(this._state===BEFORE_CDATA_4){if(c==="T"){this._state=BEFORE_CDATA_5}else{this._state=IN_DECLARATION}}else if(this._state===BEFORE_CDATA_5){if(c==="A"){this._state=BEFORE_CDATA_6}else{this._state=IN_DECLARATION}}else if(this._state===BEFORE_CDATA_6){if(c==="["){this._state=IN_CDATA;this._startSection(1)}else{this._state=IN_DECLARATION}}else if(this._state===IN_CDATA){if(c==="]"){this._state=AFTER_CDATA_1}}else if(this._state===AFTER_CDATA_1){if(c==="]"){this._state=AFTER_CDATA_2}else{this._state=IN_CDATA}}else if(this._state===AFTER_CDATA_2){if(c===">"){this._emitToken("cdata",this._index-2,_clonePos(this._indexPos,-2));this._state=TEXT;this._startSection(1)}else if(c!=="]"){this._state=IN_CDATA}}else if(this._state===BEFORE_SPECIAL){if(c==="c"||c==="C"){this._state=BEFORE_SCRIPT_1}else if(c==="t"||c==="T"){this._state=BEFORE_STYLE_1}else{this._state=IN_TAG_NAME;continue}}else if(this._state===BEFORE_SPECIAL_END){if(this._special===1&&(c==="c"||c==="C")){this._state=AFTER_SCRIPT_1}else if(this._special===2&&(c==="t"||c==="T")){this._state=AFTER_STYLE_1}else{this._state=TEXT}}else if(this._state===BEFORE_SCRIPT_1){if(c==="r"||c==="R"){this._state=BEFORE_SCRIPT_2}else{this._state=IN_TAG_NAME;continue}}else if(this._state===BEFORE_SCRIPT_2){if(c==="i"||c==="I"){this._state=BEFORE_SCRIPT_3}else{this._state=IN_TAG_NAME;continue}}else if(this._state===BEFORE_SCRIPT_3){if(c==="p"||c==="P"){this._state=BEFORE_SCRIPT_4}else{this._state=IN_TAG_NAME;continue}}else if(this._state===BEFORE_SCRIPT_4){if(c==="t"||c==="T"){this._state=BEFORE_SCRIPT_5}else{this._state=IN_TAG_NAME;continue}}else if(this._state===BEFORE_SCRIPT_5){if(c==="/"||c===">"||isWhitespace(c)){this._special=1}this._state=IN_TAG_NAME;continue}else if(this._state===AFTER_SCRIPT_1){if(c==="r"||c==="R"){this._state=AFTER_SCRIPT_2}else{this._state=TEXT}}else if(this._state===AFTER_SCRIPT_2){if(c==="i"||c==="I"){this._state=AFTER_SCRIPT_3}else{this._state=TEXT}}else if(this._state===AFTER_SCRIPT_3){if(c==="p"||c==="P"){this._state=AFTER_SCRIPT_4}else{this._state=TEXT}}else if(this._state===AFTER_SCRIPT_4){if(c==="t"||c==="T"){this._state=AFTER_SCRIPT_5}else{this._state=TEXT}}else if(this._state===AFTER_SCRIPT_5){if(c===">"||isWhitespace(c)){this._state=IN_CLOSING_TAG_NAME;this._startSection(-6);continue}else{this._state=TEXT}}else if(this._state===BEFORE_STYLE_1){if(c==="y"||c==="Y"){this._state=BEFORE_STYLE_2}else{this._state=IN_TAG_NAME;continue}}else if(this._state===BEFORE_STYLE_2){if(c==="l"||c==="L"){this._state=BEFORE_STYLE_3}else{this._state=IN_TAG_NAME;continue}}else if(this._state===BEFORE_STYLE_3){if(c==="e"||c==="E"){this._state=BEFORE_STYLE_4}else{this._state=IN_TAG_NAME;continue}}else if(this._state===BEFORE_STYLE_4){if(c==="/"||c===">"||isWhitespace(c)){this._special=2}this._state=IN_TAG_NAME;continue}else if(this._state===AFTER_STYLE_1){if(c==="y"||c==="Y"){this._state=AFTER_STYLE_2}else{this._state=TEXT}}else if(this._state===AFTER_STYLE_2){if(c==="l"||c==="L"){this._state=AFTER_STYLE_3}else{this._state=TEXT}}else if(this._state===AFTER_STYLE_3){if(c==="e"||c==="E"){this._state=AFTER_STYLE_4}else{this._state=TEXT}}else if(this._state===AFTER_STYLE_4){if(c===">"||isWhitespace(c)){this._state=IN_CLOSING_TAG_NAME;this._startSection(-5);continue}else{this._state=TEXT}}else{console.error("HTMLTokenizer: Encountered unknown state");this._emitSpecialToken("error");break}if(c==="\n"){this._indexPos.line++;this._indexPos.ch=0}else{this._indexPos.ch++}this._index++}if(!this._token){if(this._state!==TEXT){this._emitSpecialToken("error")}else{this._emitTokenIfNonempty("text");this._startSection()}}return this._token};Tokenizer.prototype._startSection=function(offset){offset=offset||0;this._sectionStart=this._index+offset;this._sectionStartPos=_clonePos(this._indexPos,offset)};Tokenizer.prototype._setToken=function(type,index,indexPos){if(index===undefined){index=this._index}if(indexPos===undefined){indexPos=this._indexPos}var token={type:type,contents:this._sectionStart===-1?"":this._buffer.substring(this._sectionStart,index),start:this._sectionStart,end:index,startPos:_clonePos(this._sectionStartPos),endPos:_clonePos(indexPos)};if(this._token){if(this._nextToken){console.error("HTMLTokenizer: Tried to emit more than two tokens in a single call")}this._nextToken=token}else{this._token=token}};Tokenizer.prototype._emitToken=function(type,index,indexPos){this._setToken(type,index,indexPos);this._sectionStart=-1;this._sectionStartPos=null};Tokenizer.prototype._emitSpecialToken=function(type,index,indexPos){
this._sectionStart=-1;this._sectionStartPos=null;this._emitToken(type,index,indexPos)};Tokenizer.prototype._emitTokenIfNonempty=function(type){if(this._index>this._sectionStart){this._setToken(type)}this._sectionStart=-1;this._sectionStartPos=null};exports.Tokenizer=Tokenizer});define("thirdparty/murmurhash3_gc",["require","exports","module"],function(require,exports,module){var MurmurHash3={mul32:function(m,n){var nlo=n&65535;var nhi=n-nlo;return(nhi*m|0)+(nlo*m|0)|0},hashBytes:function(data,len,seed){var c1=3432918353,c2=461845907;var h1=seed;var roundedEnd=len&~3;for(var i=0;i<roundedEnd;i+=4){var k1=data.charCodeAt(i)&255|(data.charCodeAt(i+1)&255)<<8|(data.charCodeAt(i+2)&255)<<16|(data.charCodeAt(i+3)&255)<<24;k1=this.mul32(k1,c1);k1=(k1&131071)<<15|k1>>>17;k1=this.mul32(k1,c2);h1^=k1;h1=(h1&524287)<<13|h1>>>19;h1=h1*5+3864292196|0}k1=0;switch(len%4){case 3:k1=(data.charCodeAt(roundedEnd+2)&255)<<16;case 2:k1|=(data.charCodeAt(roundedEnd+1)&255)<<8;case 1:k1|=data.charCodeAt(roundedEnd)&255;k1=this.mul32(k1,c1);k1=(k1&131071)<<15|k1>>>17;k1=this.mul32(k1,c2);h1^=k1}h1^=len;h1^=h1>>>16;h1=this.mul32(h1,2246822507);h1^=h1>>>13;h1=this.mul32(h1,3266489909);h1^=h1>>>16;return h1},hashString:function(data,len,seed){var c1=3432918353,c2=461845907;var h1=seed;var roundedEnd=len&~1;for(var i=0;i<roundedEnd;i+=2){var k1=data.charCodeAt(i)|data.charCodeAt(i+1)<<16;k1=this.mul32(k1,c1);k1=(k1&131071)<<15|k1>>>17;k1=this.mul32(k1,c2);h1^=k1;h1=(h1&524287)<<13|h1>>>19;h1=h1*5+3864292196|0}if(len%2==1){k1=data.charCodeAt(roundedEnd);k1=this.mul32(k1,c1);k1=(k1&131071)<<15|k1>>>17;k1=this.mul32(k1,c2);h1^=k1}h1^=len<<1;h1^=h1>>>16;h1=this.mul32(h1,2246822507);h1^=h1>>>13;h1=this.mul32(h1,3266489909);h1^=h1>>>16;return h1}};if(typeof module!=="undefined"&&typeof module.exports!=="undefined"){module.exports=MurmurHash3}});define("LiveDevelopment/MultiBrowserImpl/language/HTMLSimpleDOM",["require","exports","module","language/HTMLTokenizer","thirdparty/murmurhash3_gc","utils/PerfUtils"],function(require,exports,module){"use strict";var Tokenizer=require("language/HTMLTokenizer").Tokenizer,MurmurHash3=require("thirdparty/murmurhash3_gc"),PerfUtils=require("utils/PerfUtils");var seed=Math.floor(Math.random()*65535);var tagID=1;var openImpliesClose={li:{li:true},dt:{dd:true,dt:true},dd:{dd:true,dt:true},address:{p:true},article:{p:true},aside:{p:true},blockquote:{p:true},dir:{p:true},div:{p:true},dl:{p:true},fieldset:{p:true},footer:{p:true},form:{p:true},h1:{p:true},h2:{p:true},h3:{p:true},h4:{p:true},h5:{p:true},h6:{p:true},header:{p:true},hgroup:{p:true},hr:{p:true},main:{p:true},menu:{p:true},nav:{p:true},ol:{p:true},p:{p:true},pre:{p:true},section:{p:true},table:{p:true},ul:{p:true},rt:{rp:true,rt:true},rp:{rp:true,rt:true},optgroup:{optgroup:true,option:true},option:{option:true},tbody:{thead:true,tbody:true,tfoot:true},tfoot:{tbody:true},tr:{tr:true,th:true,td:true},th:{th:true,td:true},td:{thead:true,th:true,td:true},body:{head:true,link:true,script:true}};var voidElements={area:true,base:true,basefont:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,isindex:true,keygen:true,link:true,menuitem:true,meta:true,param:true,source:true,track:true,wbr:true};function SimpleNode(properties){$.extend(this,properties)}SimpleNode.prototype={update:function(){if(this.isElement()){var i,subtreeHashes="",childHashes="",child;for(i=0;i<this.children.length;i++){child=this.children[i];if(child.isElement()){childHashes+=String(child.tagID);subtreeHashes+=String(child.tagID)+child.attributeSignature+child.subtreeSignature}else{childHashes+=child.textSignature;subtreeHashes+=child.textSignature}}this.childSignature=MurmurHash3.hashString(childHashes,childHashes.length,seed);this.subtreeSignature=MurmurHash3.hashString(subtreeHashes,subtreeHashes.length,seed)}else{this.textSignature=MurmurHash3.hashString(this.content,this.content.length,seed)}},updateAttributeSignature:function(){var attributeString=JSON.stringify(this.attributes);this.attributeSignature=MurmurHash3.hashString(attributeString,attributeString.length,seed)},isElement:function(){return!!this.children},isText:function(){return!this.children}};function getTextNodeID(textNode){var childIndex=textNode.parent.children.indexOf(textNode);if(childIndex===0){return textNode.parent.tagID+".0"}return textNode.parent.children[childIndex-1].tagID+"t"}function _addPos(pos1,pos2){return{line:pos1.line+pos2.line,ch:pos2.line===0?pos1.ch+pos2.ch:pos2.ch}}function _offsetPos(pos,offset){return{line:pos.line,ch:pos.ch+offset}}function Builder(text,startOffset,startOffsetPos){this.stack=[];this.text=text;this.t=new Tokenizer(text);this.currentTag=null;this.startOffset=startOffset||0;this.startOffsetPos=startOffsetPos||{line:0,ch:0}}Builder.prototype._logError=function(token){var error={token:token},startPos=token?token.startPos||token.endPos:this.startOffsetPos,endPos=token?token.endPos:this.startOffsetPos;error.startPos=_addPos(this.startOffsetPos,startPos);error.endPos=_addPos(this.startOffsetPos,endPos);if(!this.errors){this.errors=[]}this.errors.push(error)};Builder.prototype.build=function(strict,markCache){var self=this;var token,lastClosedTag,lastTextNode,lastIndex=0;var stack=this.stack;var attributeName=null;var nodeMap={};markCache=markCache||{};var timerBuildFull="HTMLInstr. Build DOM Full";var timerBuildPart="HTMLInstr. Build DOM Partial";PerfUtils.markStart([timerBuildFull,timerBuildPart]);function closeTag(endIndex,endPos){lastClosedTag=stack[stack.length-1];stack.pop();lastClosedTag.update();lastClosedTag.end=self.startOffset+endIndex;lastClosedTag.endPos=_addPos(self.startOffsetPos,endPos)}while((token=this.t.nextToken())!==null){if(token.type!=="text"&&token.type!=="comment"&&lastTextNode){lastTextNode=null}if(token.type==="error"){PerfUtils.finalizeMeasurement(timerBuildFull);PerfUtils.addMeasurement(timerBuildPart);this._logError(token);return null}else if(token.type==="opentagname"){var newTagName=token.contents.toLowerCase(),newTag;if(openImpliesClose.hasOwnProperty(newTagName)){var closable=openImpliesClose[newTagName];while(stack.length>0&&closable.hasOwnProperty(stack[stack.length-1].tag)){closeTag(token.start-1,_offsetPos(token.startPos,-1))}}newTag=new SimpleNode({tag:token.contents.toLowerCase(),children:[],attributes:{},parent:stack.length?stack[stack.length-1]:null,start:this.startOffset+token.start-1,startPos:_addPos(this.startOffsetPos,_offsetPos(token.startPos,-1))});newTag.tagID=this.getID(newTag,markCache);if(nodeMap[newTag.tagID]){newTag.tagID=this.getNewID()}nodeMap[newTag.tagID]=newTag;if(newTag.parent){newTag.parent.children.push(newTag)}this.currentTag=newTag;if(voidElements.hasOwnProperty(newTag.tag)){newTag.update()}else{stack.push(newTag)}}else if(token.type==="opentagend"||token.type==="selfclosingtag"){if(this.currentTag){if(token.type==="selfclosingtag"&&stack.length&&stack[stack.length-1]===this.currentTag){closeTag(token.end,token.endPos)}else{this.currentTag.openEnd=this.currentTag.end=this.startOffset+token.end;this.currentTag.endPos=_addPos(this.startOffsetPos,token.endPos);lastClosedTag=this.currentTag;this.currentTag.updateAttributeSignature();this.currentTag=null}}}else if(token.type==="closetag"){var closeTagName=token.contents.toLowerCase();if(!voidElements.hasOwnProperty(closeTagName)){var i;for(i=stack.length-1;i>=0;i--){if(stack[i].tag===closeTagName){break}}if(strict&&i!==stack.length-1){PerfUtils.finalizeMeasurement(timerBuildFull);PerfUtils.addMeasurement(timerBuildPart);this._logError(token);return null}if(i>=0){do{if(stack.length===i+1){closeTag(token.end+1,_offsetPos(token.endPos,1))}else{closeTag(token.start-2,_offsetPos(token.startPos,-2))}}while(stack.length>i)}else{if(strict){PerfUtils.finalizeMeasurement(timerBuildFull);PerfUtils.addMeasurement(timerBuildPart);this._logError(token);return null}}}}else if(token.type==="attribname"){attributeName=token.contents.toLowerCase();this.currentTag.attributes[attributeName]=""}else if(token.type==="attribvalue"&&attributeName!==null){this.currentTag.attributes[attributeName]=token.contents;attributeName=null}else if(token.type==="text"){if(stack.length){var parent=stack[stack.length-1];var newNode;if(lastTextNode){newNode=lastTextNode;newNode.content+=token.contents}else{newNode=new SimpleNode({parent:stack[stack.length-1],content:token.contents});parent.children.push(newNode);newNode.tagID=getTextNodeID(newNode);nodeMap[newNode.tagID]=newNode;lastTextNode=newNode}newNode.update()}}lastIndex=token.end}if(stack.length){if(strict){PerfUtils.finalizeMeasurement(timerBuildFull);PerfUtils.addMeasurement(timerBuildPart);this._logError(token);return null}else{var lines=this.text.split("\n"),lastPos={line:lines.length-1,ch:lines[lines.length-1].length};while(stack.length){closeTag(this.text.length,lastPos)}}}var dom=lastClosedTag;if(!dom){this._logError(token);return null}dom.nodeMap=nodeMap;PerfUtils.addMeasurement(timerBuildFull);PerfUtils.finalizeMeasurement(timerBuildPart);return dom};Builder.prototype.getNewID=function(){return tagID++};Builder.prototype.getID=Builder.prototype.getNewID;function build(text,strict){var builder=new Builder(text);return builder.build(strict)}function _dumpDOM(root){var result="",indent="";function walk(node){if(node.tag){result+=indent+"TAG "+node.tagID+" "+node.tag+" "+JSON.stringify(node.attributes)+"\n"}else{result+=indent+"TEXT "+(node.tagID||"- ")+node.content+"\n"}if(node.isElement()){indent+="  ";node.children.forEach(walk);indent=indent.slice(2)}}walk(root);return result}exports.build=build;exports.Builder=Builder;exports.SimpleNode=SimpleNode;exports._dumpDOM=_dumpDOM;exports._offsetPos=_offsetPos;exports._getTextNodeID=getTextNodeID;exports._seed=seed});define("LiveDevelopment/MultiBrowserImpl/language/HTMLInstrumentation",["require","exports","module","document/DocumentManager","language/HTMLDOMDiff","LiveDevelopment/MultiBrowserImpl/language/HTMLSimpleDOM"],function(require,exports,module){"use strict";var DocumentManager=require("document/DocumentManager"),HTMLDOMDiff=require("language/HTMLDOMDiff"),HTMLSimpleDOM=require("LiveDevelopment/MultiBrowserImpl/language/HTMLSimpleDOM");var allowIncremental=true;var _cachedValues={};function _removeDocFromCache(evt,document){if(_cachedValues.hasOwnProperty(document.file.fullPath)){delete _cachedValues[document.file.fullPath];document.off(".htmlInstrumentation")}}function _posEq(pos1,pos2){return pos1&&pos2&&pos1.line===pos2.line&&pos1.ch===pos2.ch}function _getSortedTagMarks(marks,markCache){marks=marks.filter(function(mark){return!!mark.tagID}).map(function(mark){if(!markCache[mark.tagID]){markCache[mark.tagID]={mark:mark,range:mark.find()}}return markCache[mark.tagID]});marks.sort(function(mark1,mark2){return mark1.range.from.line===mark2.range.from.line?mark1.range.from.ch-mark2.range.from.ch:mark1.range.from.line-mark2.range.from.line});return marks}function _getMarkerAtDocumentPos(editor,pos,preferParent,markCache){var marks,match;markCache=markCache||{};marks=_getSortedTagMarks(editor._codeMirror.findMarksAt(pos),markCache);if(!marks.length){return null}match=marks[marks.length-1];if(preferParent){if(_posEq(match.range.from,pos)||_posEq(match.range.to,pos)){if(marks.length>1){match=marks[marks.length-2]}else{match.mark=null}}}return match.mark}function _getTagIDAtDocumentPos(editor,pos,markCache){var match=_getMarkerAtDocumentPos(editor,pos,false,markCache);return match?match.tagID:-1}function _markTags(cm,node){node.children.forEach(function(childNode){if(childNode.isElement()){_markTags(cm,childNode)}});var mark=cm.markText(node.startPos,node.endPos);mark.tagID=node.tagID}function _markTextFromDOM(editor,dom){var cm=editor._codeMirror;var marks=cm.getAllMarks();cm.operation(function(){marks.forEach(function(mark){if(mark.hasOwnProperty("tagID")){mark.clear()}})});_markTags(cm,dom)}function DOMUpdater(previousDOM,editor,changeList){var text,startOffset=0,startOffsetPos;this.isIncremental=false;function isDangerousEdit(text){return/[<>\/=\"\']/.test(text)}if(changeList&&changeList.length===1){var change=changeList[0];if(!isDangerousEdit(change.text)&&!isDangerousEdit(change.removed)){var startMark=_getMarkerAtDocumentPos(editor,change.from,true);if(startMark){var range=startMark.find();if(range){text=editor._codeMirror.getRange(range.from,range.to);this.changedTagID=startMark.tagID;startOffsetPos=range.from;startOffset=editor._codeMirror.indexFromPos(startOffsetPos);this.isIncremental=true}}}}if(!this.changedTagID){text=editor.document.getText()}HTMLSimpleDOM.Builder.call(this,text,startOffset,startOffsetPos);this.editor=editor;this.cm=editor._codeMirror;this.previousDOM=previousDOM}DOMUpdater.prototype=Object.create(HTMLSimpleDOM.Builder.prototype);function _hasAncestorWithID(node,id){var ancestor=node.parent;while(ancestor&&ancestor.tagID!==id){ancestor=ancestor.parent}return!!ancestor}DOMUpdater.prototype.getID=function(newTag,markCache){var currentTagID=_getTagIDAtDocumentPos(this.editor,HTMLSimpleDOM._offsetPos(newTag.startPos,1),markCache);if(currentTagID===-1||_hasAncestorWithID(newTag,currentTagID)){currentTagID=this.getNewID()}else{var oldNode=this.previousDOM.nodeMap[currentTagID];if(!oldNode||oldNode.tag!==newTag.tag){currentTagID=this.getNewID()}}return currentTagID};DOMUpdater.prototype._updateMarkedRanges=function(nodeMap,markCache){var updateIDs=Object.keys(nodeMap),cm=this.cm,marks=cm.getAllMarks();cm.operation(function(){marks.forEach(function(mark){if(mark.hasOwnProperty("tagID")&&nodeMap[mark.tagID]){var node=nodeMap[mark.tagID],markInfo=markCache[mark.tagID];if(!(markInfo&&_posEq(markInfo.range.from,node.startPos)&&_posEq(markInfo.range.to,node.endPos))){mark.clear();mark=cm.markText(node.startPos,node.endPos);mark.tagID=node.tagID}updateIDs.splice(updateIDs.indexOf(String(node.tagID)),1)}});updateIDs.forEach(function(id){var node=nodeMap[id],mark;if(node.isElement()){mark=cm.markText(node.startPos,node.endPos);mark.tagID=Number(id)}})})};DOMUpdater.prototype._buildNodeMap=function(root){var nodeMap={};function walk(node){if(node.tagID){nodeMap[node.tagID]=node}if(node.isElement()){node.children.forEach(walk)}}walk(root);root.nodeMap=nodeMap};DOMUpdater.prototype._handleDeletions=function(nodeMap,oldSubtreeMap,newSubtreeMap){var deletedIDs=[];Object.keys(oldSubtreeMap).forEach(function(key){if(!newSubtreeMap.hasOwnProperty(key)){deletedIDs.push(key);delete nodeMap[key]}});if(deletedIDs.length){var marks=this.cm.getAllMarks();marks.forEach(function(mark){if(mark.hasOwnProperty("tagID")&&deletedIDs.indexOf(mark.tagID)!==-1){mark.clear()}})}};DOMUpdater.prototype.update=function(){var markCache={},newSubtree=this.build(true,markCache),result={newDOM:newSubtree,oldSubtree:this.previousDOM,newSubtree:newSubtree};if(!newSubtree){return null}if(this.changedTagID){var oldSubtree=this.previousDOM.nodeMap[this.changedTagID],parent=oldSubtree.parent;if(parent){var childIndex=parent.children.indexOf(oldSubtree);if(childIndex===-1){console.error("DOMUpdater.update(): couldn't locate old subtree in tree")}else{oldSubtree.parent=null;newSubtree.parent=parent;parent.children[childIndex]=newSubtree;$.extend(this.previousDOM.nodeMap,newSubtree.nodeMap);this._updateMarkedRanges(newSubtree.nodeMap,markCache);this._buildNodeMap(oldSubtree);this._handleDeletions(this.previousDOM.nodeMap,oldSubtree.nodeMap,newSubtree.nodeMap);var curParent=parent;while(curParent){curParent.update();curParent=curParent.parent}result.newDOM=this.previousDOM;result.oldSubtree=oldSubtree}}}else{_markTextFromDOM(this.editor,result.newDOM)}return result};function _updateDOM(previousDOM,editor,changeList){if(!allowIncremental){changeList=undefined}var updater=new DOMUpdater(previousDOM,editor,changeList);var result=updater.update();if(!result){return{errors:updater.errors}}if(HTMLDOMDiff.shouldReload(result.oldSubtree,result.newSubtree)){return{dom:result.newDOM,reload:true,_wasIncremental:updater.isIncremental}}var edits=HTMLDOMDiff.domdiff(result.oldSubtree,result.newSubtree);if(result.newSubtree!==result.newDOM){delete result.newSubtree.nodeMap}return{dom:result.newDOM,edits:edits,_wasIncremental:updater.isIncremental}}function getUnappliedEditList(editor,changeList){var cachedValue=_cachedValues[editor.document.file.fullPath];if(!cachedValue||!cachedValue.dom||_cachedValues[editor.document.file.fullPath].invalid){changeList=null}var result=_updateDOM(cachedValue&&cachedValue.dom,editor,changeList);if(!result.errors){_cachedValues[editor.document.file.fullPath]={timestamp:editor.document.diskTimestamp,dom:result.dom,dirty:false};result.dom.fullBuild=false;return{reload:result.reload,edits:result.edits}}else{if(cachedValue){cachedValue.invalid=true}return{errors:result.errors}}}function _processBrowserSimpleDOM(browserRoot,editorRootTagID){var nodeMap={},root;function _processElement(elem){elem.tagID=elem.attributes["data-brackets-id"];delete elem.attributes["data-brackets-id"];elem.children.forEach(function(child){child.parent=elem;if(child.isElement()){_processElement(child)}else if(child.isText()){child.update();child.tagID=HTMLSimpleDOM.getTextNodeID(child);nodeMap[child.tagID]=child}});elem.update();nodeMap[elem.tagID]=elem;if(elem.tagID===editorRootTagID){root=elem}}_processElement(browserRoot);root=root||browserRoot;root.nodeMap=nodeMap;return root}function _getBrowserDiff(editor,browserSimpleDOM){var cachedValue=_cachedValues[editor.document.file.fullPath],editorRoot=cachedValue.dom,browserRoot;browserRoot=_processBrowserSimpleDOM(browserSimpleDOM,editorRoot.tagID);return{diff:HTMLDOMDiff.domdiff(editorRoot,browserRoot),browser:browserRoot,editor:editorRoot}}DocumentManager.on("beforeDocumentDelete",_removeDocFromCache);function scanDocument(doc){if(!_cachedValues.hasOwnProperty(doc.file.fullPath)){_cachedValues[doc.file.fullPath]=null}var cachedValue=_cachedValues[doc.file.fullPath];if(cachedValue&&!cachedValue.invalid&&cachedValue.timestamp===doc.diskTimestamp){return cachedValue.dom}var text=doc.getText(),dom=HTMLSimpleDOM.build(text);if(dom){_cachedValues[doc.file.fullPath]={timestamp:doc.diskTimestamp,dom:dom,dirty:false};dom.fullBuild=true}return dom}function generateInstrumentedHTML(editor,remoteScript){var doc=editor.document,dom=scanDocument(doc),orig=doc.getText(),gen="",lastIndex=0,remoteScriptInserted=false,markCache;if(!dom){return null}if(dom.fullBuild){_markTextFromDOM(editor,dom)}else{markCache={};editor._codeMirror.getAllMarks().forEach(function(mark){if(mark.tagID){markCache[mark.tagID]={mark:mark,range:mark.find()}}})}function walk(node){if(node.tag){var attrText=" data-brackets-id='"+node.tagID+"'";if(node.tag!=="html"){attrText+=" data-bramble-start-line='"+node.startPos.line+"'"+" data-bramble-start-ch='"+node.startPos.ch+"'"+" data-bramble-end-line='"+node.endPos.line+"'"+" data-bramble-end-ch='"+node.endPos.ch+"'"}var startOffset;if(dom.fullBuild){startOffset=node.start}else{var mark=markCache[node.tagID];if(mark){startOffset=editor._codeMirror.indexFromPos(mark.range.from)}else{console.warn("generateInstrumentedHTML(): couldn't find existing mark for tagID "+node.tagID);startOffset=node.start}}var insertIndex=startOffset+node.tag.length+1;gen+=orig.substr(lastIndex,insertIndex-lastIndex)+attrText;lastIndex=insertIndex;if(remoteScript&&!remoteScriptInserted&&node.tag==="head"){insertIndex=node.openEnd;gen+=orig.substr(lastIndex,insertIndex-lastIndex)+remoteScript;lastIndex=insertIndex;remoteScriptInserted=true}}if(node.isElement()){node.children.forEach(walk)}}walk(dom);gen+=orig.substr(lastIndex);if(remoteScript&&!remoteScriptInserted){gen+=remoteScript}return gen}function _markText(editor){var cache=_cachedValues[editor.document.file.fullPath],dom=cache&&cache.dom;if(!dom){console.error("Couldn't find the dom for "+editor.document.file.fullPath);return}else if(!dom.fullBuild){console.error("Tried to mark text from a stale DOM for "+editor.document.file.fullPath);return}_markTextFromDOM(editor,dom)}function _resetCache(){_cachedValues={}}exports._markText=_markText;exports._getMarkerAtDocumentPos=_getMarkerAtDocumentPos;exports._getTagIDAtDocumentPos=_getTagIDAtDocumentPos;exports._markTextFromDOM=_markTextFromDOM;exports._updateDOM=_updateDOM;exports._allowIncremental=allowIncremental;exports._getBrowserDiff=_getBrowserDiff;exports._resetCache=_resetCache;exports.scanDocument=scanDocument;exports.generateInstrumentedHTML=generateInstrumentedHTML;exports.getUnappliedEditList=getUnappliedEditList});define("LiveDevelopment/MultiBrowserImpl/documents/LiveHTMLDocument",["require","exports","module","utils/EventDispatcher","utils/PerfUtils","thirdparty/lodash","LiveDevelopment/MultiBrowserImpl/documents/LiveDocument","LiveDevelopment/MultiBrowserImpl/language/HTMLInstrumentation"],function(require,exports,module){"use strict";var EventDispatcher=require("utils/EventDispatcher"),PerfUtils=require("utils/PerfUtils"),_=require("thirdparty/lodash"),LiveDocument=require("LiveDevelopment/MultiBrowserImpl/documents/LiveDocument"),HTMLInstrumentation=require("LiveDevelopment/MultiBrowserImpl/language/HTMLInstrumentation");function LiveHTMLDocument(protocol,urlResolver,doc,editor){LiveDocument.apply(this,arguments);this._instrumentationEnabled=false;this._relatedDocuments={stylesheets:{},scripts:{}};this._debug=false;this._onChange=this._onChange.bind(this);this.doc.on("change",this._onChange);this._onRelated=this._onRelated.bind(this);this.protocol.on("DocumentRelated",this._onRelated);this._onStylesheetAdded=this._onStylesheetAdded.bind(this);this.protocol.on("StylesheetAdded",this._onStylesheetAdded);this._onStylesheetRemoved=this._onStylesheetRemoved.bind(this);this.protocol.on("StylesheetRemoved",this._onStylesheetRemoved);this._onScriptAdded=this._onScriptAdded.bind(this);this.protocol.on("ScriptAdded",this._onScriptAdded);this._onScriptRemoved=this._onScriptRemoved.bind(this);this.protocol.on("ScriptRemoved",this._onScriptRemoved)}LiveHTMLDocument.prototype=Object.create(LiveDocument.prototype);LiveHTMLDocument.prototype.constructor=LiveHTMLDocument;LiveHTMLDocument.prototype.parentClass=LiveDocument.prototype;EventDispatcher.makeEventDispatcher(LiveHTMLDocument.prototype);LiveHTMLDocument.prototype.isLiveEditingEnabled=function(){return this._instrumentationEnabled};LiveHTMLDocument.prototype.setInstrumentationEnabled=function(enabled){if(!this.editor){return}if(enabled&&!this._instrumentationEnabled){HTMLInstrumentation.scanDocument(this.doc);HTMLInstrumentation._markText(this.editor)}this._instrumentationEnabled=enabled};LiveHTMLDocument.prototype.getResponseData=function(enabled){var body;if(this._instrumentationEnabled){body=HTMLInstrumentation.generateInstrumentedHTML(this.editor,this.protocol.getRemoteScript())}return{body:body||this.doc.getText()}};LiveHTMLDocument.prototype.close=function(){this.protocol.off("DocumentRelated",this._onRelated);this.protocol.off("StylesheetAdded",this._onStylesheetAdded);this.protocol.off("StylesheetRemoved",this._onStylesheetRemoved);this.protocol.off("ScriptAdded",this._onScriptAdded);this.protocol.off("ScriptRemoved",this._onScriptRemoved);this.doc.off("change",this._onChange);this.parentClass.close.call(this)};LiveHTMLDocument.prototype.updateHighlight=function(){if(!this.editor||!this.isHighlightEnabled()){return}var editor=this.editor,ids=[];_.each(this.editor.getSelections(),function(sel){var tagID=HTMLInstrumentation._getTagIDAtDocumentPos(editor,sel.reversed?sel.end:sel.start);if(tagID!==-1){ids.push(tagID)}});if(!ids.length){this.hideHighlight()}else{this.highlightDomElement(ids)}};LiveHTMLDocument.prototype._compareWithBrowser=function(change){};LiveHTMLDocument.prototype._onChange=function(event,doc,change){if(!this._instrumentationEnabled){return}var perfTimerName="LiveHTMLDocument applyDOMEdits",isNestedTimer=PerfUtils.isActive(perfTimerName);if(!isNestedTimer){PerfUtils.markStart(perfTimerName)}var self=this,result=HTMLInstrumentation.getUnappliedEditList(this.editor,change),applyEditsPromise,reloadPromise;if(result.reload){reloadPromise=this.protocol.reload();reloadPromise.always(function(){if(!isNestedTimer){PerfUtils.finalizeMeasurement(perfTimerName)}})}else{if(result.edits){applyEditsPromise=this.protocol.evaluate("_LD.applyDOMEdits("+JSON.stringify(result.edits)+")");applyEditsPromise.always(function(){if(!isNestedTimer){PerfUtils.addMeasurement(perfTimerName)}})}}this.errors=result.errors||[];this._updateErrorDisplay();if(this._debug){console.log("Edits applied to browser were:");console.log(JSON.stringify(result.edits,null,2));applyEditsPromise.done(function(){self._compareWithBrowser(change)})}};LiveHTMLDocument.prototype._onRelated=function(event,msg){this._relatedDocuments=msg.related;return};LiveHTMLDocument.prototype._onStylesheetAdded=function(event,msg){this._relatedDocuments.stylesheets[msg.href]=true;return};LiveHTMLDocument.prototype._onStylesheetRemoved=function(event,msg){delete this._relatedDocuments.stylesheets[msg.href];return};LiveHTMLDocument.prototype._onScriptAdded=function(event,msg){this._relatedDocuments.scripts[msg.src]=true;return};LiveHTMLDocument.prototype._onScriptRemoved=function(event,msg){delete this._relatedDocuments.scripts[msg.src];return};LiveHTMLDocument.prototype.isRelated=function(fullPath){return this._relatedDocuments.scripts[this.urlResolver(fullPath)]||this._relatedDocuments.stylesheets[this.urlResolver(fullPath)]};LiveHTMLDocument.prototype.getRelated=function(){return this._relatedDocuments};module.exports=LiveHTMLDocument});define("LiveDevelopment/Servers/BaseServer",["require","exports","module"],function(require,exports,module){"use strict";function BaseServer(config){this._baseUrl=config.baseUrl;this._root=config.root;this._pathResolver=config.pathResolver;this._liveDocuments={}}BaseServer.prototype.getBaseUrl=function(){return this._baseUrl};BaseServer.prototype._setDocInfo=function(liveDocument){var parentUrl,matches,doc=liveDocument.doc;matches=/^(.*\/)(.+\.([^.]+))$/.exec(doc.file.fullPath);if(!matches){return}doc.extension=matches[3];parentUrl=this.pathToUrl(matches[1]);doc.url=parentUrl+encodeURI(matches[2]);doc.root={url:doc.url};if(doc.isDirty&&liveDocument._updateBrowser){liveDocument._updateBrowser()}};BaseServer.prototype.pathToUrl=function(path){var baseUrl=this.getBaseUrl(),relativePath=this._pathResolver(path);if(relativePath!==path){var encodedDocPath=encodeURI(path);var encodedProjectPath=encodeURI(this._root);return encodedDocPath.replace(encodedProjectPath,baseUrl)}return null};BaseServer.prototype.urlToPath=function(url){var path,baseUrl="";baseUrl=this.getBaseUrl();if(baseUrl!==""&&url.indexOf(baseUrl)===0){path=url.replace(baseUrl,encodeURI(this._root));return decodeURI(path)}return null};BaseServer.prototype.readyToServe=function(){return $.Deferred().resolve().promise()};BaseServer.prototype.canServe=function(localPath){return true};BaseServer.prototype._documentKey=function(absolutePath){return"/"+encodeURI(this._pathResolver(absolutePath))};BaseServer.prototype.add=function(liveDocument){if(!liveDocument){return}var key=this._documentKey(liveDocument.doc.file.fullPath);this._setDocInfo(liveDocument);this._liveDocuments[key]=liveDocument};BaseServer.prototype.remove=function(liveDocument){if(!liveDocument){return}var key=this._liveDocuments[this._documentKey(liveDocument.doc.file.fullPath)];if(key){delete this._liveDocuments[key]}};BaseServer.prototype.get=function(path){return this._liveDocuments[this._documentKey(path)]};BaseServer.prototype.clear=function(){this._liveDocuments={}};BaseServer.prototype.start=function(){};BaseServer.prototype.stop=function(){};exports.BaseServer=BaseServer});define("LiveDevelopment/LiveDevMultiBrowser",["require","exports","module","command/CommandManager","command/Commands","widgets/Dialogs","widgets/DefaultDialogs","document/DocumentManager","editor/EditorManager","utils/EventDispatcher","file/FileUtils","view/MainViewManager","preferences/PreferencesDialogs","project/ProjectManager","preferences/PreferencesManager","strings","thirdparty/lodash","filesystem/impls/filer/lib/transforms","filesystem/FileSystem","LiveDevelopment/LiveDevelopmentUtils","LiveDevelopment/LiveDevServerManager","LiveDevelopment/MultiBrowserImpl/protocol/LiveDevProtocol","utils/ExtensionUtils","LiveDevelopment/MultiBrowserImpl/documents/LiveCSSDocument","LiveDevelopment/MultiBrowserImpl/documents/LiveHTMLDocument","LiveDevelopment/Servers/BaseServer"],function(require,exports,module){"use strict";var STATUS_INACTIVE=exports.STATUS_INACTIVE=0;var STATUS_CONNECTING=exports.STATUS_CONNECTING=1;var STATUS_ACTIVE=exports.STATUS_ACTIVE=2;var STATUS_OUT_OF_SYNC=exports.STATUS_OUT_OF_SYNC=3;var STATUS_SYNC_ERROR=exports.STATUS_SYNC_ERROR=4;var STATUS_RELOADING=exports.STATUS_RELOADING=5;var STATUS_RESTARTING=exports.STATUS_RESTARTING=6;var CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),Dialogs=require("widgets/Dialogs"),DefaultDialogs=require("widgets/DefaultDialogs"),DocumentManager=require("document/DocumentManager"),EditorManager=require("editor/EditorManager"),EventDispatcher=require("utils/EventDispatcher"),FileUtils=require("file/FileUtils"),MainViewManager=require("view/MainViewManager"),PreferencesDialogs=require("preferences/PreferencesDialogs"),ProjectManager=require("project/ProjectManager"),PreferencesManager=require("preferences/PreferencesManager"),Strings=require("strings"),_=require("thirdparty/lodash"),Transforms=require("filesystem/impls/filer/lib/transforms"),FileSystem=require("filesystem/FileSystem"),LiveDevelopmentUtils=require("LiveDevelopment/LiveDevelopmentUtils"),LiveDevServerManager=require("LiveDevelopment/LiveDevServerManager"),LiveDevProtocol=require("LiveDevelopment/MultiBrowserImpl/protocol/LiveDevProtocol"),ExtensionUtils=require("utils/ExtensionUtils");var LiveCSSDocument=require("LiveDevelopment/MultiBrowserImpl/documents/LiveCSSDocument"),LiveHTMLDocument=require("LiveDevelopment/MultiBrowserImpl/documents/LiveHTMLDocument");require("LiveDevelopment/Servers/BaseServer");var _liveDocument;var _relatedDocuments={};var _protocol=LiveDevProtocol;var _launcher;var _server;function _classForDocument(doc){if(doc.getLanguage().getId()==="css"){return LiveCSSDocument}if(LiveDevelopmentUtils.isHtmlFileExt(doc.file.fullPath)){return LiveHTMLDocument}return null}function isActive(){return exports.status>STATUS_INACTIVE}function getLiveDocForPath(path){if(!_server){return null}return _server.get(path)}function _closeDocument(liveDocument){liveDocument.off(".livedev");liveDocument.close()}function _handleRelatedDocumentDeleted(url){var liveDoc=_relatedDocuments[url];if(liveDoc){delete _relatedDocuments[url]}if(_server){_server.remove(liveDoc)}_closeDocument(liveDoc)}function _setStatus(status,closeReason){if(status===exports.status){return}exports.status=status;var reason=status===STATUS_INACTIVE?closeReason:null;exports.trigger("statusChange",status,reason)}function _closeDocuments(){if(_liveDocument){_closeDocument(_liveDocument);_liveDocument=undefined}Object.keys(_relatedDocuments).forEach(function(url){_closeDocument(_relatedDocuments[url]);delete _relatedDocuments[url]});if(_server){_server.clear()}}function _resolveUrl(path){return path}function _createLiveDocument(doc,editor,roots){var DocClass=_classForDocument(doc),liveDocument;if(!DocClass){return null}liveDocument=new DocClass(_protocol,_resolveUrl,doc,editor,roots);liveDocument.on("errorStatusChanged.livedev",function(event,hasErrors){if(isActive()){_setStatus(hasErrors?STATUS_SYNC_ERROR:STATUS_ACTIVE)}});return liveDocument}function _docIsOutOfSync(doc){var liveDoc=_server&&_server.get(doc.file.fullPath),isLiveEditingEnabled=liveDoc&&liveDoc.isLiveEditingEnabled();return doc.isDirty&&!isLiveEditingEnabled}function _styleSheetAdded(event,url,roots){var path=_server&&_server.urlToPath(url),alreadyAdded=!!_relatedDocuments[url],docPromise;if(!path||alreadyAdded){return}try{docPromise=DocumentManager.getDocumentForPath(path)}catch(e){
console.log("[Bramble] No stylesheet found for path, skipping: "+path);return}docPromise.done(function(doc){if(_classForDocument(doc)===LiveCSSDocument&&(!_liveDocument||doc!==_liveDocument.doc)){var liveDoc=_server.get(path);if(liveDoc){return}liveDoc=_createLiveDocument(doc,doc._masterEditor,roots);if(liveDoc){_server.add(liveDoc);_relatedDocuments[doc.url]=liveDoc;liveDoc.on("updateDoc",function(event,url){var path=_server.urlToPath(url),doc=getLiveDocForPath(path);doc._updateBrowser()})}}})}function _getInitialDocFromCurrent(){var doc=DocumentManager.getCurrentDocument(),refPath,i;if(doc){refPath=doc.file.fullPath;if(LiveDevelopmentUtils.isStaticHtmlFileExt(refPath)||LiveDevelopmentUtils.isServerHtmlFileExt(refPath)){return(new $.Deferred).resolve(doc)}var ext=FileUtils.getFileExtension(refPath);if(ext==="py"){var $deferred=new $.Deferred;Transforms.applyTransform(refPath,function(err){refPath=FileUtils.getFilenameWithoutExtension(refPath)+"-pypreview.html";DocumentManager.getDocumentForPath(refPath).then(function(d){$deferred.resolve(d)}).fail(function(){$deferred.resolve(doc)})});return $deferred}else if(ext==="md"){var $deferred=new $.Deferred;Transforms.applyTransform(refPath,function(err){refPath=FileUtils.getFilenameWithoutExtension(refPath)+"-mdpreview.html";DocumentManager.getDocumentForPath(refPath).then(function(d){$deferred.resolve(d)}).fail(function(){$deferred.resolve(doc)})});return $deferred}else if(ExtensionUtils.supportedServerCodeRunnerFileExtensions().indexOf(ext)>=0){var $deferred=new $.Deferred;Transforms.applyTransform(refPath,function(err){refPath=FileUtils.getFilenameWithoutExtension(refPath)+"-"+ext+"preview.html";DocumentManager.getDocumentForPath(refPath).then(function(d){$deferred.resolve(d)}).fail(function(){$deferred.resolve(doc)})});return $deferred}}var result=new $.Deferred;var baseUrl=ProjectManager.getBaseUrl(),hasOwnServerForLiveDevelopment=baseUrl&&baseUrl.length;ProjectManager.getAllFiles().done(function(allFiles){var projectRoot=ProjectManager.getProjectRoot().fullPath,containingFolder,indexFileFound=false,stillInProjectTree=true;if(refPath){containingFolder=FileUtils.getDirectoryPath(refPath)}else{containingFolder=projectRoot}var filteredFiltered=allFiles.filter(function(item){var parent=FileUtils.getParentPath(item.fullPath);return containingFolder.indexOf(parent)===0});var filterIndexFile=function(fileInfo){if(fileInfo.fullPath.indexOf(containingFolder)===0){if(FileUtils.getFilenameWithoutExtension(fileInfo.name)==="index"){if(hasOwnServerForLiveDevelopment){if(LiveDevelopmentUtils.isServerHtmlFileExt(fileInfo.name)||LiveDevelopmentUtils.isStaticHtmlFileExt(fileInfo.name)){return true}}else if(LiveDevelopmentUtils.isStaticHtmlFileExt(fileInfo.name)){return true}}else{return false}}};while(!indexFileFound&&stillInProjectTree){i=_.findIndex(filteredFiltered,filterIndexFile);if(i===-1){containingFolder=FileUtils.getParentPath(containingFolder);if(containingFolder.indexOf(projectRoot)===-1){stillInProjectTree=false}}else{indexFileFound=true}}if(i!==-1){DocumentManager.getDocumentForPath(filteredFiltered[i].fullPath).then(result.resolve,result.resolve);return}result.resolve(null)});return result.promise()}function _removeProtocolListeners(protocol){if(!protocol._listeners){return}protocol.off("ConnectionConnect.livedev",protocol._listeners["ConnectionConnect.livedev"]).off("ConnectionClose.livedev",protocol._listeners["ConnectionClose.livedev"]).off("DocumentRelated.livedev",protocol._listeners["DocumentRelated.livedev"]).off("StylesheetAdded.livedev",protocol._listeners["StylesheetAdded.livedev"]).off("StylesheetRemoved.livedev",protocol._listeners["StylesheetRemoved.livedev"]);protocol._listeners=null}function _close(doCloseWindow,reason){if(exports.status!==STATUS_INACTIVE){_closeDocuments();_removeProtocolListeners(_protocol);_protocol.closeAllConnections();if(_server){_server.stop();_server=null}}_setStatus(STATUS_INACTIVE,reason||"explicit_close")}function close(){_close(true);return(new $.Deferred).resolve().promise()}function _showWrongDocError(){}function _showLiveDevServerNotReadyError(){}function _createLiveDocumentForFrame(doc){doc._ensureMasterEditor();_liveDocument=_createLiveDocument(doc,doc._masterEditor);_server.add(_liveDocument)}function _launch(url){_launcher.launch(url)}function _open(doc){if(doc&&_liveDocument&&doc===_liveDocument.doc){if(_server){if(exports.status<STATUS_ACTIVE){_launch(_server.pathToUrl(doc.file.fullPath))}if(exports.status===STATUS_RESTARTING){_protocol.navigate(_server.pathToUrl(doc.file.fullPath))}if(_protocol._listeners){_removeProtocolListeners(_protocol)}_protocol._listeners={"ConnectionConnect.livedev":function(event,msg){if(_protocol.getConnectionIds().length===1){if(_liveDocument&&msg.url===_resolveUrl(_liveDocument.doc.file.fullPath)){_setStatus(STATUS_ACTIVE)}}},"ConnectionClose.livedev":function(event,msg){if(_protocol.getConnectionIds().length===0){setTimeout(function(){if(_protocol.getConnectionIds().length===0&&exports.status<=STATUS_ACTIVE){_close(false,"detached_target_closed")}},5e3)}},"DocumentRelated.livedev":function(event,msg){var relatedDocs=msg.related;var docs=Object.keys(relatedDocs.stylesheets);docs.forEach(function(url){_styleSheetAdded(null,url,relatedDocs.stylesheets[url])})},"StylesheetAdded.livedev":function(event,msg){_styleSheetAdded(null,msg.href,msg.roots)},"StylesheetRemoved.livedev":function(event,msg){_handleRelatedDocumentDeleted(msg.href)}};_protocol.on("ConnectionConnect.livedev",_protocol._listeners["ConnectionConnect.livedev"]).on("ConnectionClose.livedev",_protocol._listeners["ConnectionClose.livedev"]).on("DocumentRelated.livedev",_protocol._listeners["DocumentRelated.livedev"]).on("StylesheetAdded.livedev",_protocol._listeners["StylesheetAdded.livedev"]).on("StylesheetRemoved.livedev",_protocol._listeners["StylesheetRemoved.livedev"])}else{console.error("LiveDevelopment._open(): No server active")}}else{close()}}function _doLaunchAfterServerReady(initialDoc){var fname=initialDoc.file.fullPath;var ext=FileUtils.getFileExtension(fname);if(ext==="py"||ext==="java"){Transforms.applyTransform(fname,function(err){fname=FileUtils.getFilenameWithoutExtension(fname)+".html";DocumentManager.getDocumentForPath(fname).then(function(doc){_createLiveDocumentForFrame(doc);_server.start();_open(doc);if(!isActive()){open()}}).fail(function(){_createLiveDocumentForFrame(initialDoc);_server.start();_open(initialDoc)})})}else{_createLiveDocumentForFrame(initialDoc);_server.start();_open(initialDoc)}}function _prepareServer(doc){var deferred=new $.Deferred,showBaseUrlPrompt=false;_server=LiveDevServerManager.getServer(doc.file.fullPath);showBaseUrlPrompt=!_server&&LiveDevelopmentUtils.isServerHtmlFileExt(doc.file.fullPath);if(showBaseUrlPrompt){PreferencesDialogs.showProjectPreferencesDialog("",Strings.LIVE_DEV_NEED_BASEURL_MESSAGE).done(function(id){if(id===Dialogs.DIALOG_BTN_OK&&ProjectManager.getBaseUrl()){_prepareServer(doc).then(deferred.resolve,deferred.reject)}else{deferred.reject()}})}else if(_server){var readyPromise=_server.readyToServe();if(!readyPromise){_showLiveDevServerNotReadyError();deferred.reject()}else{readyPromise.then(deferred.resolve,function(){_showLiveDevServerNotReadyError();deferred.reject()})}}else{deferred.reject()}return deferred.promise()}function _onFileRename(oldName,newName){_onFileChange()}function _onFileChange(){var doc=DocumentManager.getCurrentDocument();if(!isActive()){open()}if(!isActive()||!doc){return}var fname=doc.file.fullPath;var ext=FileUtils.getFileExtension(fname);if(ext==="py"){Transforms.applyTransform(fname,function(err){fname=FileUtils.getFilenameWithoutExtension(fname)+"-pypreview.html";DocumentManager.getDocumentForPath(fname).then(function(d){var docUrl=_server&&_server.pathToUrl(d.file.fullPath),isViewable=_server&&_server.canServe(d.file.fullPath);if(_liveDocument.doc.url!==docUrl&&isViewable){_closeDocuments();_createLiveDocumentForFrame(d);_server.start();_open(d)}}).fail(function(){var docUrl=_server&&_server.pathToUrl(doc.file.fullPath),isViewable=_server&&_server.canServe(doc.file.fullPath);if(_liveDocument.doc.url!==docUrl&&isViewable){_closeDocuments();_createLiveDocumentForFrame(doc);_setStatus(STATUS_RESTARTING);_open(doc)}})})}else if(ext==="md"){Transforms.applyTransform(fname,function(err){fname=FileUtils.getFilenameWithoutExtension(fname)+"-mdpreview.html";DocumentManager.getDocumentForPath(fname).then(function(d){var docUrl=_server&&_server.pathToUrl(d.file.fullPath),isViewable=_server&&_server.canServe(d.file.fullPath);if(_liveDocument.doc.url!==docUrl&&isViewable){_closeDocuments();_createLiveDocumentForFrame(d);_server.start();_open(d)}}).fail(function(){var docUrl=_server&&_server.pathToUrl(doc.file.fullPath),isViewable=_server&&_server.canServe(doc.file.fullPath);if(_liveDocument.doc.url!==docUrl&&isViewable){_closeDocuments();_createLiveDocumentForFrame(doc);_setStatus(STATUS_RESTARTING);_open(doc)}})})}else if(ExtensionUtils.supportedServerCodeRunnerFileExtensions().indexOf(ext)>=0){Transforms.applyTransform(fname,function(err){fname=FileUtils.getFilenameWithoutExtension(fname)+"-"+ext+"preview.html";DocumentManager.getDocumentForPath(fname).then(function(d){var docUrl=_server&&_server.pathToUrl(d.file.fullPath),isViewable=_server&&_server.canServe(d.file.fullPath);if(_liveDocument.doc.url!==docUrl&&isViewable){_closeDocuments();_createLiveDocumentForFrame(d);_server.start();_open(d)}}).fail(function(){var docUrl=_server&&_server.pathToUrl(doc.file.fullPath),isViewable=_server&&_server.canServe(doc.file.fullPath);if(_liveDocument.doc.url!==docUrl&&isViewable){_closeDocuments();_createLiveDocumentForFrame(doc);_setStatus(STATUS_RESTARTING);_open(doc)}})})}else{var docUrl=_server&&_server.pathToUrl(doc.file.fullPath),isViewable=_server&&_server.canServe(doc.file.fullPath);if(_liveDocument.doc.url!==docUrl&&isViewable){_closeDocuments();_createLiveDocumentForFrame(doc);_setStatus(STATUS_RESTARTING);_open(doc)}}}function open(){_getInitialDocFromCurrent().done(function(doc){var prepareServerPromise=doc&&_prepareServer(doc)||(new $.Deferred).reject(),otherDocumentsInWorkingFiles;if(doc&&!doc._masterEditor){otherDocumentsInWorkingFiles=MainViewManager.getWorkingSetSize(MainViewManager.ALL_PANES);MainViewManager.addToWorkingSet(MainViewManager.ACTIVE_PANE,doc.file);if(!otherDocumentsInWorkingFiles){CommandManager.execute(Commands.CMD_OPEN,{fullPath:doc.file.fullPath})}}prepareServerPromise.done(function(){_setStatus(STATUS_CONNECTING);_doLaunchAfterServerReady(doc)}).fail(function(){_showWrongDocError()})})}function _onDocumentSaved(event,doc){if(!isActive()||!_server){return}var absolutePath=doc.file.fullPath;if(_liveDocument.isRelated(absolutePath)){if(doc.getLanguage().getId()==="javascript"||doc.getLanguage().getId()==="css"){_setStatus(STATUS_RELOADING);_protocol.reload()}}}function _onDirtyFlagChange(event,doc){if(!isActive()||!_server){return}var absolutePath=doc.file.fullPath;if(_liveDocument.isRelated(absolutePath)){_setStatus(_docIsOutOfSync(doc)?STATUS_OUT_OF_SYNC:STATUS_ACTIVE)}}function setTransport(transport){_protocol.setTransport(transport)}function setLauncher(launcher){if(!(launcher&&launcher.launch)){console.log("Invalid launcher object: ",launcher,new Error("LiveDevMultiBrowser.setLauncher()"));return}_launcher=launcher}function init(){MainViewManager.on("currentFileChange",_onFileChange);DocumentManager.on("documentSaved",_onDocumentSaved).on("dirtyFlagChange",_onDirtyFlagChange).on("fileNameChange",_onFileRename);ProjectManager.on("beforeProjectClose beforeAppClose",close);_setStatus(STATUS_INACTIVE)}function getLiveDocForEditor(editor){if(!editor){return null}return getLiveDocForPath(editor.document.file.fullPath)}function showHighlight(){var doc=getLiveDocForEditor(EditorManager.getActiveEditor());if(doc&&doc.updateHighlight){doc.updateHighlight()}}function hideHighlight(){if(_protocol){_protocol.evaluate("_LD.hideHighlight()")}}function redrawHighlight(){if(_protocol){_protocol.evaluate("_LD.redrawHighlights()")}}function reconnect(){return $.Deferred().resolve()}function reload(){if(_protocol){_protocol.reload()}}function getCurrentProjectServerConfig(){return{baseUrl:ProjectManager.getBaseUrl(),pathResolver:ProjectManager.makeProjectRelativeIfPossible,root:ProjectManager.getProjectRoot().fullPath}}function getServerBaseUrl(){return _server&&_server.getBaseUrl()}function _getCurrentLiveDoc(){return _liveDocument}EventDispatcher.makeEventDispatcher(exports);PreferencesManager.definePreference("livePreviewAutoReload","boolean",true);exports._server=_server;exports._getCurrentLiveDoc=_getCurrentLiveDoc;exports._getInitialDocFromCurrent=_getInitialDocFromCurrent;exports.open=open;exports.close=close;exports.reconnect=reconnect;exports.reload=reload;exports.getLiveDocForPath=getLiveDocForPath;exports.showHighlight=showHighlight;exports.hideHighlight=hideHighlight;exports.redrawHighlight=redrawHighlight;exports.init=init;exports.isActive=isActive;exports.getServerBaseUrl=getServerBaseUrl;exports.getCurrentProjectServerConfig=getCurrentProjectServerConfig;exports.setTransport=setTransport;exports.setLauncher=setLauncher});define("filesystem/impls/filer/lib/FileImport",["require","exports","module","filesystem/impls/filer/lib/LegacyFileImport","filesystem/impls/filer/lib/WebKitFileImport","filesystem/impls/filer/FileSystemCache","bramble/StartupState","LiveDevelopment/LiveDevMultiBrowser","preferences/PreferencesManager"],function(require,exports,module){"use strict";var LegacyFileImport=require("filesystem/impls/filer/lib/LegacyFileImport"),WebKitFileImport=require("filesystem/impls/filer/lib/WebKitFileImport"),FileSystemCache=require("filesystem/impls/filer/FileSystemCache"),BrambleStartupState=require("bramble/StartupState"),LiveDevMultiBrowser=require("LiveDevelopment/LiveDevMultiBrowser"),PreferencesManager=require("preferences/PreferencesManager");function chooseImportStrategy(source){if(source instanceof FileList){return LegacyFileImport.create()}if(source instanceof DataTransfer){if(window.DataTransferItem&&window.DataTransferItem.prototype.webkitGetAsEntry&&window.DataTransferItemList){return WebKitFileImport.create()}return LegacyFileImport.create()}}exports.import=function(source,parentPath,callback){if(!(source instanceof FileList||source instanceof DataTransfer)){callback(new Error("[Bramble] expected DataTransfer or FileList to FileImport.import()"));return}var strategy=chooseImportStrategy(source);PreferencesManager.set("livePreviewAutoReload",false);parentPath=parentPath||BrambleStartupState.project("root");return strategy.import(source,parentPath,function(err){PreferencesManager.set("livePreviewAutoReload",true);if(err){return callback(err)}FileSystemCache.refresh(function(){LiveDevMultiBrowser.reload();callback()})})}});define("utils/DragAndDrop",["require","exports","module","utils/Async","command/CommandManager","command/Commands","widgets/Dialogs","widgets/DefaultDialogs","view/MainViewManager","filesystem/FileSystem","file/FileUtils","project/ProjectManager","strings","utils/StringUtils","filesystem/impls/filer/lib/FileImport","filesystem/impls/filer/FileSystemCache","filesystem/impls/filer/lib/Sizes"],function(require,exports,module){"use strict";var Async=require("utils/Async"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),Dialogs=require("widgets/Dialogs"),DefaultDialogs=require("widgets/DefaultDialogs"),MainViewManager=require("view/MainViewManager"),FileSystem=require("filesystem/FileSystem"),FileUtils=require("file/FileUtils"),ProjectManager=require("project/ProjectManager"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),FileImport=require("filesystem/impls/filer/lib/FileImport"),FileSystemCache=require("filesystem/impls/filer/FileSystemCache"),Sizes=require("filesystem/impls/filer/lib/Sizes");var _dropPathHint;function isValidDrop(types){var i=0;var type;if(types){for(var i=0;i<types.length;i++){type=types[i];if(type==="Files"||type==="public.file-url"||type==="application/x-moz-file"){return true}}}return false}function stopURIListPropagation(event){var files=event.dataTransfer.files;var types=event.dataTransfer.types;if(!(files&&files.length)&&types){types.forEach(function(value){if(value==="text/uri-list"){event.stopPropagation();event.preventDefault();return}})}}function _showErrorDialog(errorFiles,callback){function errorToString(err){return FileUtils.getFileErrorString(err)}if(!errorFiles.length){return}var message=Strings.ERROR_OPENING_FILES;message+="<ul class='dialog-list'>";errorFiles.forEach(function(info){message+="<li><span class='dialog-filename'>"+StringUtils.breakableUrl(ProjectManager.makeProjectRelativeIfPossible(info.path))+"</span> - "+errorToString(info.error)+"</li>"});message+="</ul>";var dlg=Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.ERROR_OPENING_FILE_TITLE,message);if(callback){dlg.done(callback)}}function openDroppedFiles(paths){var errorFiles=[],ERR_MULTIPLE_ITEMS_WITH_DIR={};return Async.doInParallel(paths,function(path,idx){var result=new $.Deferred;FileSystem.resolve(path,function(err,item){if(!err&&item.isFile){if(idx<paths.length-1){if(MainViewManager.findInWorkingSet(MainViewManager.ALL_PANES,path)!==-1){result.resolve();return}}CommandManager.execute(Commands.CMD_ADD_TO_WORKINGSET_AND_OPEN,{fullPath:path,silent:true}).done(function(){result.resolve()}).fail(function(openErr){errorFiles.push({path:path,error:openErr});result.reject()})}else if(!err&&item.isDirectory&&paths.length===1){ProjectManager.openProject(path).done(function(){result.resolve()}).fail(function(){result.reject()})}else{errorFiles.push({path:path,error:err||ERR_MULTIPLE_ITEMS_WITH_DIR});result.reject()}});return result.promise()},false).fail(function(){function errorToString(err){if(err===ERR_MULTIPLE_ITEMS_WITH_DIR){return Strings.ERROR_MIXED_DRAGDROP}else{return FileUtils.getFileErrorString(err)}}if(errorFiles.length>0){var message=Strings.ERROR_OPENING_FILES;message+="<ul class='dialog-list'>";errorFiles.forEach(function(info){message+="<li><span class='dialog-filename'>"+StringUtils.breakableUrl(ProjectManager.makeProjectRelativeIfPossible(info.path))+"</span> - "+errorToString(info.error)+"</li>"});message+="</ul>";Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.ERROR_OPENING_FILE_TITLE,message)}})}function attachHandlers(options){options=options||{};options.elem=options.elem||window.document.body;var noop=function(){};options.ondragover=options.ondragover||noop;options.ondragleave=options.ondragleave||noop;options.ondrop=options.ondrop||noop;options.onfilesdone=options.onfilesdone||noop;function handleDragLeave(event){event=event.originalEvent||event;event.stopPropagation();event.preventDefault();options.ondragleave(event)}function handleDragOver(event){event=event.originalEvent||event;stopURIListPropagation(event);event.stopPropagation();event.preventDefault();options.ondragover(event);var dropEffect="none";if(isValidDrop(event.dataTransfer.types)){if(options.elem===window.document.body){if($(".modal.instance").length===0){dropEffect="copy"}}else{dropEffect="copy"}}event.dataTransfer.dropEffect=dropEffect}function handleDrop(event){event=event.originalEvent||event;stopURIListPropagation(event);event.stopPropagation();event.preventDefault();options.ondrop(event);processFiles(event.dataTransfer,function(err){if(err){console.log("[Bramble] error handling dropped files",err)}options.onfilesdone();if(options.autoRemoveHandlers){var elem=options.elem;$(elem).off("dragover",handleDragOver).off("dragleave",handleDragLeave).off("drop",handleDrop);elem.removeEventListener("dragover",codeMirrorDragOverHandler,true);elem.removeEventListener("dragleave",codeMirrorDragLeaveHandler,true);elem.removeEventListener("drop",codeMirrorDropHandler,true)}})}$(options.elem).on("dragover",handleDragOver).on("dragleave",handleDragLeave).on("drop",handleDrop);var codeMirrorDragOverHandler=function(event){if($(event.target).closest(".CodeMirror").length){handleDragOver(event)}};var codeMirrorDropHandler=function(event){if($(event.target).closest(".CodeMirror").length){handleDrop(event)}};var codeMirrorDragLeaveHandler=function(event){if($(event.target).closest(".CodeMirror").length){handleDragLeave(event)}};options.elem.addEventListener("dragover",codeMirrorDragOverHandler,true);options.elem.addEventListener("dragleave",codeMirrorDragLeaveHandler,true);options.elem.addEventListener("drop",codeMirrorDropHandler,true)}function processFiles(source,callback){if(Sizes.getEnforceLimits()){return CommandManager.execute("bramble.projectSizeError").done(function(){callback(new Error("not enough free space."))})}FileImport.import(source,_dropPathHint,function(err,paths){_dropPathHint=null;if(err){_showErrorDialog(err);callback(err);return}paths=paths||[];openDroppedFiles(paths);callback()})}function setDropPathHint(path){_dropPathHint=path}CommandManager.register(Strings.CMD_OPEN_DROPPED_FILES,Commands.FILE_OPEN_DROPPED_FILES,openDroppedFiles);exports.processFiles=processFiles;exports.attachHandlers=attachHandlers;exports.isValidDrop=isValidDrop;exports.openDroppedFiles=openDroppedFiles;exports.setDropPathHint=setDropPathHint});define("project/FileTreeView",["require","exports","module","thirdparty/react","thirdparty/react-dom","thirdparty/classnames","thirdparty/immutable","thirdparty/lodash","file/FileUtils","language/LanguageManager","project/FileTreeViewModel","utils/ViewUtils","utils/KeyEvent","utils/DragAndDrop","filesystem/impls/filer/UrlCache","command/Menus","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/lib/content"],function(require,exports,module){"use strict";var React=require("thirdparty/react"),ReactDOM=require("thirdparty/react-dom"),Classnames=require("thirdparty/classnames"),Immutable=require("thirdparty/immutable"),_=require("thirdparty/lodash"),FileUtils=require("file/FileUtils"),LanguageManager=require("language/LanguageManager"),FileTreeViewModel=require("project/FileTreeViewModel"),ViewUtils=require("utils/ViewUtils"),KeyEvent=require("utils/KeyEvent"),DragAndDrop=require("utils/DragAndDrop"),UrlCache=require("filesystem/impls/filer/UrlCache"),Menus=require("command/Menus");var FilerUtils=require("filesystem/impls/filer/FilerUtils"),Path=FilerUtils.Path,Content=require("filesystem/impls/filer/lib/content");var DOM=React.DOM;var _extensions=Immutable.Map();var CLICK_RENAME_MINIMUM=500,RIGHT_MOUSE_BUTTON=2,LEFT_MOUSE_BUTTON=0;var INDENTATION_WIDTH=10;function _getName(fullname,extension){return extension!==""?fullname.substring(0,fullname.length-extension.length-1):fullname}var pathComputer={myPath:function(){var result=this.props.parentPath+this.props.name;if(!FileTreeViewModel.isFile(this.props.entry)&&_.last(result)!=="/"){result+="/"}return result}};function _measureText(text){var measuringElement=$("<span />",{css:{position:"absolute",top:"-200px",left:"-1000px",visibility:"hidden","white-space":"pre"}}).appendTo("body");measuringElement.text("pW"+text);var width=measuringElement.width();measuringElement.remove();return width}function _createThickness(depth){return DOM.div({style:{display:"inline-block",width:INDENTATION_WIDTH*depth}})}function _createAlignedIns(depth){return DOM.ins({className:"jstree-icon",style:{marginLeft:INDENTATION_WIDTH*depth}})}var renameBehavior={handleClick:function(e){e.stopPropagation();if(e.button!==LEFT_MOUSE_BUTTON){e.preventDefault()}},handleKeyDown:function(e){if(e.keyCode===KeyEvent.DOM_VK_ESCAPE){this.props.actions.cancelRename()}else if(e.keyCode===KeyEvent.DOM_VK_RETURN){this.props.actions.performRename()}},handleInput:function(e){this.props.actions.setRenameValue(this.refs.name.value.trim());if(e.keyCode!==KeyEvent.DOM_VK_LEFT&&e.keyCode!==KeyEvent.DOM_VK_RIGHT){var node=this.refs.name,newWidth=_measureText(node.value);$(node).width(newWidth)}},handleBlur:function(){this.props.actions.performRename()}};var fileRenameInput=React.createFactory(React.createClass({mixins:[renameBehavior],componentDidMount:function(){var fullname=this.props.name,extension=LanguageManager.getCompoundFileExtension(fullname);var node=this.refs.name;node.setSelectionRange(0,_getName(fullname,extension).length);ViewUtils.scrollElementIntoView($("#project-files-container"),$(node),true)},render:function(){var width=_measureText(this.props.name);return DOM.input({className:"jstree-rename-input",type:"text",defaultValue:this.props.name,autoFocus:true,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onClick:this.handleClick,onBlur:this.handleBlur,style:{width:width},ref:"name"})}}));var contextSettable={handleMouseDown:function(e){e.stopPropagation();if(e.button===RIGHT_MOUSE_BUTTON||this.props.platform==="mac"&&e.button===LEFT_MOUSE_BUTTON&&e.ctrlKey){this.props.actions.setContext(this.myPath());e.preventDefault();return}if(this.props.entry.get("rename")){return}}};function isDefined(value){return value!==undefined}var extendable={getIcons:function(){var result,extensions=this.props.extensions;if(extensions&&extensions.get("icons")){var data=this.getDataForExtension();result=extensions.get("icons").map(function(callback){try{var result=callback(data);if(result&&!React.isValidElement(result)){result=React.DOM.span({dangerouslySetInnerHTML:{__html:$(result)[0].outerHTML}})}return result}catch(e){console.error("Exception thrown in FileTreeView icon provider: "+e,e.stack)}}).filter(isDefined).toArray()}if(!result||result.length===0){result=[DOM.ins({className:"jstree-icon"}," ")]}return result},getClasses:function(classes){var extensions=this.props.extensions;if(extensions&&extensions.get("addClass")){var data=this.getDataForExtension();classes=classes+" "+extensions.get("addClass").map(function(callback){try{return callback(data)}catch(e){console.error("Exception thrown in FileTreeView addClass provider: "+e,e.stack)}}).filter(isDefined).toArray().join(" ")}return classes}};var fileNode=React.createFactory(React.createClass({mixins:[contextSettable,pathComputer,extendable],getInitialState:function(){return{menuOpened:false}},shouldComponentUpdate:function(nextProps,nextState){return nextProps.forceRender||this.props.entry!==nextProps.entry||this.props.extensions!==nextProps.extensions},componentDidUpdate:function(prevProps,prevState){var wasSelected=prevProps.entry.get("selected"),isSelected=this.props.entry.get("selected");if(isSelected&&!wasSelected){ViewUtils.scrollElementIntoView($("#project-files-container"),$(ReactDOM.findDOMNode(this)),true)}},startRename:function(){if(!this.props.entry.get("rename")){this.props.actions.startRename(this.myPath())}},handleClick:function(e){if(this.props.entry.get("rename")){e.stopPropagation();return}if(e.button!==LEFT_MOUSE_BUTTON){return}this.props.actions.setSelected(this.myPath());e.stopPropagation();e.preventDefault()},handleDragEnter:function(event){DragAndDrop.setDropPathHint(this.props.parentPath);event.stopPropagation();event.preventDefault()},handleDragStart:function(event){var filename=this.myPath();var downloadUrl=UrlCache.getDownloadUrl(filename);var dataTransfer=event.dataTransfer;dataTransfer.setData("DownloadUrl",downloadUrl);dataTransfer.effectAllowed="copy";event.stopPropagation()},getDataForExtension:function(){return{name:this.props.name,isFile:true,fullPath:this.myPath()}},handleToggleClick:function(event){if($(event.target).hasClass("toggle-open")){Menus.closeAll()}else{this.props.actions.setContext(this.myPath());var menuToggle=$(event.nativeEvent.target);var e=$.Event("contextmenu");e.menuToggleEl=event.target;e.pageX=menuToggle.offset().left+2;e.pageY=menuToggle.offset().top+26;e.fileMenu=true;e.fromToggle=true;$("#project-files-container").trigger(e)}event.stopPropagation();event.preventDefault()},render:function(){var fullname=this.props.name,ext=LanguageManager.getCompoundFileExtension(fullname),name=_getName(fullname,ext),mime=Content.mimeFromExt(ext),fileType;if(Content.isHTML(ext)){fileType="html"}else if(Content.isImage(ext)){fileType="image"}else if(Content.isFont(ext)){fileType="font"}else if(Content.isAudio(ext)){fileType="audio"}else if(Content.isVideo(ext)){fileType="video"}else if(Content.isCSS(ext)){fileType="css"}else if(Content.isScript(ext)){fileType="js"}else if(Content.isPDF(ext)){fileType="pdf"}else{if(mime.indexOf("text/")===0){fileType="default"}else{fileType="binary"}}var insClassName="jstree-icon-"+fileType;if(ext){ext=DOM.span({className:"extension"},"."+ext)}var nameDisplay,cx=Classnames;var fileClasses=cx({"jstree-clicked selected-node":this.props.entry.get("selected"),"context-node":this.props.entry.get("context")});var liArgs=[{className:this.getClasses("jstree-leaf"),onClick:this.handleClick,onMouseDown:this.handleMouseDown,onDragEnter:this.handleDragEnter,onDragStart:this.handleDragStart,draggable:true},DOM.ins({className:insClassName})];var thickness=_createThickness(this.props.depth);if(this.props.entry.get("rename")){liArgs.push(thickness);nameDisplay=fileRenameInput({actions:this.props.actions,entry:this.props.entry,name:this.props.name,parentPath:this.props.parentPath})}else{var aArgs=_.flatten([{href:"#",className:fileClasses},DOM.span({className:"menuToggle",onClick:this.handleToggleClick}),thickness,this.getIcons(),name,ext]);nameDisplay=DOM.a.apply(DOM.a,aArgs)}liArgs.push(nameDisplay);return DOM.li.apply(DOM.li,liArgs)}}));function _buildDirsFirstComparator(contents){function _dirsFirstCompare(a,b){var aIsFile=FileTreeViewModel.isFile(contents.get(a)),bIsFile=FileTreeViewModel.isFile(contents.get(b));if(!aIsFile&&bIsFile){return-1}else if(aIsFile&&!bIsFile){return 1}else{return FileUtils.compareFilenames(a,b)}}return _dirsFirstCompare}function _sortDirectoryContents(contents,dirsFirst){if(dirsFirst){return contents.keySeq().sort(_buildDirsFirstComparator(contents))}else{return contents.keySeq().sort(FileUtils.compareFilenames)}}var directoryNode,directoryContents;var directoryRenameInput=React.createFactory(React.createClass({mixins:[renameBehavior],componentDidMount:function(){var fullname=this.props.name;var node=this.refs.name;node.setSelectionRange(0,fullname.length);ViewUtils.scrollElementIntoView($("#project-files-container"),$(node),true)},render:function(){var width=_measureText(this.props.name);return DOM.input({className:"jstree-rename-input",type:"text",defaultValue:this.props.name,autoFocus:true,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onBlur:this.handleBlur,style:{width:width},onClick:this.handleClick,ref:"name"})}}));directoryNode=React.createFactory(React.createClass({mixins:[contextSettable,pathComputer,extendable],shouldComponentUpdate:function(nextProps,nextState){return nextProps.forceRender||this.props.entry!==nextProps.entry||this.props.sortDirectoriesFirst!==nextProps.sortDirectoriesFirst||this.props.extensions!==nextProps.extensions},handleClick:function(event){if(this.props.entry.get("rename")){event.stopPropagation();return}if(event.button!==LEFT_MOUSE_BUTTON){return}var isOpen=this.props.entry.get("open"),setOpen=isOpen?false:true;if(event.metaKey||event.ctrlKey){if(event.altKey){if(setOpen){this.props.actions.toggleSubdirectories(this.myPath(),setOpen);this.props.actions.setDirectoryOpen(this.myPath(),setOpen)}else{this.props.actions.closeSubtree(this.myPath())}}else{this.props.actions.toggleSubdirectories(this.props.parentPath,setOpen)}}else{this.props.actions.setDirectoryOpen(this.myPath(),setOpen)}event.stopPropagation();event.preventDefault()},handleDragEnter:function(event){var isOpen=this.props.entry.get("open");if(!isOpen){this.props.actions.setDirectoryOpen(this.myPath(),true)}DragAndDrop.setDropPathHint(this.myPath());event.stopPropagation();event.preventDefault()},getDataForExtension:function(){return{name:this.props.name,isFile:false,fullPath:this.myPath()}},handleToggleClick:function(event){if($(event.target).hasClass("toggle-open")){Menus.closeAll()}else{this.props.actions.setContext(this.myPath());var menuToggle=$(event.nativeEvent.target);var e=$.Event("contextmenu")
;e.fromToggle=true;e.menuToggleEl=event.target;e.pageX=menuToggle.offset().left+2;e.pageY=menuToggle.offset().top+26;$("#project-files-container").trigger(e)}event.stopPropagation();event.preventDefault()},render:function(){var entry=this.props.entry,nodeClass,childNodes,children=entry.get("children"),isOpen=entry.get("open");if(isOpen&&children){nodeClass="open";childNodes=directoryContents({depth:this.props.depth+1,parentPath:this.myPath(),contents:children,extensions:this.props.extensions,actions:this.props.actions,forceRender:this.props.forceRender,platform:this.props.platform,sortDirectoriesFirst:this.props.sortDirectoriesFirst})}else{nodeClass="closed"}var nameDisplay,cx=Classnames;var directoryClasses=cx({"jstree-clicked sidebar-selection":entry.get("selected"),"context-node":entry.get("context")});var isTutorialDir=this.props.name==="_tutorial";var showTutorialDir=window.parent._showTutorialFile;var liArgs=[{className:this.getClasses("jstree-"+nodeClass),style:isTutorialDir&&!showTutorialDir?{display:"none"}:{},onClick:this.handleClick,onMouseDown:this.handleMouseDown,onDragEnter:this.handleDragEnter},_createAlignedIns(this.props.depth)];var thickness=_createThickness(this.props.depth);if(entry.get("rename")){liArgs.push(thickness);nameDisplay=directoryRenameInput({actions:this.props.actions,entry:entry,name:this.props.name,parentPath:this.props.parentPath})}else{var aArgs=_.flatten([{href:"#",className:directoryClasses},DOM.span({className:"menuToggle",onClick:this.handleToggleClick}),thickness,this.getIcons(),this.props.name]);nameDisplay=DOM.a.apply(DOM.a,aArgs)}liArgs.push(nameDisplay);liArgs.push(childNodes);return DOM.li.apply(DOM.li,liArgs)}}));directoryContents=React.createFactory(React.createClass({shouldComponentUpdate:function(nextProps,nextState){return nextProps.forceRender||this.props.contents!==nextProps.contents||this.props.sortDirectoriesFirst!==nextProps.sortDirectoriesFirst||this.props.extensions!==nextProps.extensions},render:function(){var extensions=this.props.extensions,iconClass=extensions&&extensions.get("icons")?"jstree-icons":"jstree-no-icons",ulProps=this.props.isRoot?{className:"jstree-brackets jstree-no-dots "+iconClass}:null;var contents=this.props.contents,namesInOrder=_sortDirectoryContents(contents,this.props.sortDirectoriesFirst);return DOM.ul(ulProps,namesInOrder.map(function(name){var entry=contents.get(name);if(FileTreeViewModel.isFile(entry)){return fileNode({depth:this.props.depth,parentPath:this.props.parentPath,name:name,entry:entry,actions:this.props.actions,extensions:this.props.extensions,forceRender:this.props.forceRender,platform:this.props.platform,key:name})}else{return directoryNode({depth:this.props.depth,parentPath:this.props.parentPath,name:name,entry:entry,actions:this.props.actions,extensions:this.props.extensions,sortDirectoriesFirst:this.props.sortDirectoriesFirst,forceRender:this.props.forceRender,platform:this.props.platform,key:name})}}.bind(this)).toArray())}}));var fileSelectionBox=React.createFactory(React.createClass({componentDidUpdate:function(){if(!this.props.visible){return}var node=ReactDOM.findDOMNode(this),selectedNode=$(node.parentNode).find(this.props.selectedClassName),selectionViewInfo=this.props.selectionViewInfo;if(selectedNode.length===0){return}node.style.top=selectedNode.offset().top-selectionViewInfo.get("offsetTop")+selectionViewInfo.get("scrollTop")-selectedNode.position().top+"px"},render:function(){var selectionViewInfo=this.props.selectionViewInfo,left=selectionViewInfo.get("scrollLeft"),width=selectionViewInfo.get("width"),scrollWidth=selectionViewInfo.get("scrollWidth");return DOM.div({style:{overflow:"auto",left:left,display:this.props.visible?"block":"none"},className:this.props.className})}}));var selectionExtension=React.createFactory(React.createClass({componentDidUpdate:function(){if(!this.props.visible){return}var node=ReactDOM.findDOMNode(this),selectedNode=$(node.parentNode).find(this.props.selectedClassName).closest("li"),selectionViewInfo=this.props.selectionViewInfo;if(selectedNode.length===0){return}var top=selectedNode.offset().top,baselineHeight=node.dataset.initialHeight,height=baselineHeight,scrollerTop=selectionViewInfo.get("offsetTop");if(!baselineHeight){baselineHeight=$(node).outerHeight();node.dataset.initialHeight=baselineHeight;height=baselineHeight}if(top<scrollerTop-baselineHeight){node.style.display="none";return}node.style.display="block";if(top<scrollerTop){var difference=scrollerTop-top;top+=difference;height=parseInt(height,10);height-=difference}node.style.top=top+"px";node.style.height=height+"px";node.style.left=selectionViewInfo.get("width")-$(node).outerWidth()+"px"},render:function(){return DOM.div({style:{display:this.props.visible?"block":"none"},className:this.props.className})}}));var fileTreeView=React.createFactory(React.createClass({shouldComponentUpdate:function(nextProps,nextState){return nextProps.forceRender||this.props.treeData!==nextProps.treeData||this.props.sortDirectoriesFirst!==nextProps.sortDirectoriesFirst||this.props.extensions!==nextProps.extensions||this.props.selectionViewInfo!==nextProps.selectionViewInfo},render:function(){var selectionBackground=fileSelectionBox({ref:"selectionBackground",selectionViewInfo:this.props.selectionViewInfo,className:"filetree-selection",visible:this.props.selectionViewInfo.get("hasSelection"),selectedClassName:".selected-node",forceUpdate:true}),contextBackground=fileSelectionBox({ref:"contextBackground",selectionViewInfo:this.props.selectionViewInfo,className:"filetree-context",visible:this.props.selectionViewInfo.get("hasContext"),selectedClassName:".context-node",forceUpdate:true}),extensionForSelection=selectionExtension({selectionViewInfo:this.props.selectionViewInfo,selectedClassName:".selected-node",visible:this.props.selectionViewInfo.get("hasSelection"),forceUpdate:true,className:"filetree-selection-extension"}),extensionForContext=selectionExtension({selectionViewInfo:this.props.selectionViewInfo,selectedClassName:".context-node",visible:this.props.selectionViewInfo.get("hasContext"),forceUpdate:true,className:"filetree-context-extension"}),contents=directoryContents({isRoot:true,depth:1,parentPath:this.props.parentPath,sortDirectoriesFirst:this.props.sortDirectoriesFirst,contents:this.props.treeData,extensions:this.props.extensions,actions:this.props.actions,forceRender:this.props.forceRender,platform:this.props.platform});return DOM.div(null,selectionBackground,contextBackground,extensionForSelection,extensionForContext,contents)}}));function render(element,viewModel,projectRoot,actions,forceRender,platform){if(!projectRoot){return}ReactDOM.render(fileTreeView({treeData:viewModel.treeData,selectionViewInfo:viewModel.selectionViewInfo,sortDirectoriesFirst:viewModel.sortDirectoriesFirst,parentPath:projectRoot.fullPath,actions:actions,extensions:_extensions,platform:platform,forceRender:forceRender}),element)}function _addExtension(category,callback){if(!callback||typeof callback!=="function"){console.error("Attempt to add FileTreeView",category,"extension without a callback function");return}var callbackList=_extensions.get(category);if(!callbackList){callbackList=Immutable.List()}callbackList=callbackList.push(callback);_extensions=_extensions.set(category,callbackList)}function addIconProvider(callback){_addExtension("icons",callback)}function addClassesProvider(callback){_addExtension("addClass",callback)}exports._sortFormattedDirectory=_sortDirectoryContents;exports._fileNode=fileNode;exports._directoryNode=directoryNode;exports._directoryContents=directoryContents;exports._fileTreeView=fileTreeView;exports.addIconProvider=addIconProvider;exports.addClassesProvider=addClassesProvider;exports.render=render});define("command/DefaultMenus",["require","exports","module","utils/AppInit","command/Commands","command/Menus","strings"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),Commands=require("command/Commands"),Menus=require("command/Menus"),Strings=require("strings");AppInit.htmlReady(function(){var menu;menu=Menus.addMenu(Strings.FILE_MENU,Menus.AppMenuBar.FILE_MENU);menu.addMenuItem(Commands.FILE_NEW_UNTITLED);menu.addMenuItem(Commands.FILE_OPEN);menu.addMenuItem(Commands.FILE_OPEN_FOLDER);menu.addMenuItem(Commands.FILE_CLOSE);menu.addMenuItem(Commands.FILE_CLOSE_ALL);menu.addMenuDivider();menu.addMenuItem(Commands.FILE_SAVE);menu.addMenuItem(Commands.FILE_SAVE_ALL);menu.addMenuItem(Commands.FILE_SAVE_AS);menu.addMenuDivider();menu.addMenuItem(Commands.FILE_LIVE_FILE_PREVIEW);menu.addMenuItem(Commands.TOGGLE_LIVE_PREVIEW_MB_MODE);menu.addMenuItem(Commands.FILE_PROJECT_SETTINGS);menu.addMenuDivider();if(brackets.platform!=="mac"||!brackets.nativeMenus){menu.addMenuDivider();menu.addMenuItem(Commands.FILE_QUIT)}menu=Menus.addMenu(Strings.EDIT_MENU,Menus.AppMenuBar.EDIT_MENU);menu.addMenuItem(Commands.EDIT_UNDO);menu.addMenuItem(Commands.EDIT_REDO);menu.addMenuDivider();if(brackets.nativeMenus){menu.addMenuItem(Commands.EDIT_CUT);menu.addMenuItem(Commands.EDIT_COPY);menu.addMenuItem(Commands.EDIT_PASTE);menu.addMenuDivider()}menu.addMenuItem(Commands.EDIT_SELECT_ALL);menu.addMenuItem(Commands.EDIT_SELECT_LINE);menu.addMenuItem(Commands.EDIT_SPLIT_SEL_INTO_LINES);menu.addMenuItem(Commands.EDIT_ADD_CUR_TO_PREV_LINE);menu.addMenuItem(Commands.EDIT_ADD_CUR_TO_NEXT_LINE);menu.addMenuDivider();menu.addMenuItem(Commands.EDIT_INDENT);menu.addMenuItem(Commands.EDIT_UNINDENT);menu.addMenuItem(Commands.EDIT_DUPLICATE);menu.addMenuItem(Commands.EDIT_DELETE_LINES);menu.addMenuItem(Commands.EDIT_LINE_UP);menu.addMenuItem(Commands.EDIT_LINE_DOWN);menu.addMenuDivider();menu.addMenuItem(Commands.EDIT_LINE_COMMENT);menu.addMenuItem(Commands.EDIT_BLOCK_COMMENT);menu.addMenuDivider();menu.addMenuItem(Commands.SHOW_CODE_HINTS);menu.addMenuDivider();menu.addMenuItem(Commands.TOGGLE_CLOSE_BRACKETS);menu=Menus.addMenu(Strings.FIND_MENU,Menus.AppMenuBar.FIND_MENU);menu.addMenuItem(Commands.CMD_FIND);menu.addMenuItem(Commands.CMD_FIND_NEXT);menu.addMenuItem(Commands.CMD_FIND_PREVIOUS);menu.addMenuItem(Commands.CMD_FIND_ALL_AND_SELECT);menu.addMenuItem(Commands.CMD_ADD_NEXT_MATCH);menu.addMenuItem(Commands.CMD_SKIP_CURRENT_MATCH);menu.addMenuDivider();menu.addMenuItem(Commands.CMD_FIND_IN_FILES);menu.addMenuDivider();menu.addMenuItem(Commands.CMD_REPLACE);menu.addMenuItem(Commands.CMD_REPLACE_IN_FILES);menu=Menus.addMenu(Strings.VIEW_MENU,Menus.AppMenuBar.VIEW_MENU);menu.addMenuItem(Commands.CMD_THEMES_OPEN_SETTINGS);menu.addMenuDivider();menu.addMenuItem(Commands.CMD_SPLITVIEW_NONE);menu.addMenuItem(Commands.CMD_SPLITVIEW_VERTICAL);menu.addMenuItem(Commands.CMD_SPLITVIEW_HORIZONTAL);menu.addMenuDivider();menu.addMenuItem(Commands.VIEW_HIDE_SIDEBAR);menu.addMenuDivider();menu.addMenuItem(Commands.VIEW_INCREASE_FONT_SIZE);menu.addMenuItem(Commands.VIEW_DECREASE_FONT_SIZE);menu.addMenuItem(Commands.VIEW_RESTORE_FONT_SIZE);menu.addMenuDivider();menu.addMenuItem(Commands.TOGGLE_ACTIVE_LINE);menu.addMenuItem(Commands.TOGGLE_LINE_NUMBERS);menu.addMenuItem(Commands.TOGGLE_WORD_WRAP);menu.addMenuDivider();menu.addMenuItem(Commands.FILE_LIVE_HIGHLIGHT);menu.addMenuDivider();menu.addMenuItem(Commands.VIEW_TOGGLE_INSPECTION);menu=Menus.addMenu(Strings.NAVIGATE_MENU,Menus.AppMenuBar.NAVIGATE_MENU);menu.addMenuItem(Commands.NAVIGATE_QUICK_OPEN);menu.addMenuItem(Commands.NAVIGATE_GOTO_LINE);menu.addMenuItem(Commands.NAVIGATE_GOTO_DEFINITION);menu.addMenuItem(Commands.NAVIGATE_JUMPTO_DEFINITION);menu.addMenuItem(Commands.NAVIGATE_GOTO_FIRST_PROBLEM);menu.addMenuDivider();menu.addMenuItem(Commands.NAVIGATE_NEXT_DOC);menu.addMenuItem(Commands.NAVIGATE_PREV_DOC);menu.addMenuItem(Commands.NAVIGATE_NEXT_DOC_LIST_ORDER);menu.addMenuItem(Commands.NAVIGATE_PREV_DOC_LIST_ORDER);menu.addMenuDivider();menu.addMenuItem(Commands.NAVIGATE_SHOW_IN_FILE_TREE);menu.addMenuDivider();menu.addMenuItem(Commands.TOGGLE_QUICK_EDIT);menu.addMenuItem(Commands.QUICK_EDIT_PREV_MATCH);menu.addMenuItem(Commands.QUICK_EDIT_NEXT_MATCH);menu.addMenuItem(Commands.CSS_QUICK_EDIT_NEW_RULE);menu.addMenuDivider();menu.addMenuItem(Commands.TOGGLE_QUICK_DOCS);menu=Menus.addMenu(Strings.HELP_MENU,Menus.AppMenuBar.HELP_MENU);var workingset_cmenu=Menus.registerContextMenu(Menus.ContextMenuIds.WORKING_SET_CONTEXT_MENU);workingset_cmenu.addMenuItem(Commands.FILE_SAVE);workingset_cmenu.addMenuItem(Commands.FILE_SAVE_AS);workingset_cmenu.addMenuItem(Commands.FILE_RENAME);workingset_cmenu.addMenuItem(Commands.NAVIGATE_SHOW_IN_FILE_TREE);workingset_cmenu.addMenuItem(Commands.NAVIGATE_SHOW_IN_OS);workingset_cmenu.addMenuDivider();workingset_cmenu.addMenuItem(Commands.CMD_FIND_IN_SUBTREE);workingset_cmenu.addMenuItem(Commands.CMD_REPLACE_IN_SUBTREE);workingset_cmenu.addMenuDivider();workingset_cmenu.addMenuItem(Commands.FILE_CLOSE);var workingset_configuration_menu=Menus.registerContextMenu(Menus.ContextMenuIds.WORKING_SET_CONFIG_MENU);workingset_configuration_menu.addMenuItem(Commands.CMD_WORKINGSET_SORT_BY_ADDED);workingset_configuration_menu.addMenuItem(Commands.CMD_WORKINGSET_SORT_BY_NAME);workingset_configuration_menu.addMenuItem(Commands.CMD_WORKINGSET_SORT_BY_TYPE);workingset_configuration_menu.addMenuDivider();workingset_configuration_menu.addMenuItem(Commands.CMD_WORKING_SORT_TOGGLE_AUTO);var splitview_menu=Menus.registerContextMenu(Menus.ContextMenuIds.SPLITVIEW_MENU);splitview_menu.addMenuItem(Commands.CMD_SPLITVIEW_NONE);splitview_menu.addMenuItem(Commands.CMD_SPLITVIEW_VERTICAL);splitview_menu.addMenuItem(Commands.CMD_SPLITVIEW_HORIZONTAL);var project_cmenu=Menus.registerContextMenu(Menus.ContextMenuIds.PROJECT_MENU);project_cmenu.addMenuItem(Commands.FILE_NEW);project_cmenu.addMenuItem(Commands.FILE_NEW_FOLDER);project_cmenu.addMenuItem(Commands.FILE_RENAME);project_cmenu.addMenuItem(Commands.FILE_DOWNLOAD);project_cmenu.addMenuItem(Commands.FILE_DELETE);var inline_editor_cmenu=Menus.registerContextMenu(Menus.ContextMenuIds.INLINE_EDITOR_MENU);inline_editor_cmenu.addMenuItem(Commands.TOGGLE_QUICK_EDIT);inline_editor_cmenu.addMenuItem(Commands.EDIT_SELECT_ALL);inline_editor_cmenu.addMenuDivider();inline_editor_cmenu.addMenuItem(Commands.QUICK_EDIT_PREV_MATCH);inline_editor_cmenu.addMenuItem(Commands.QUICK_EDIT_NEXT_MATCH);$("#editor-holder").on("contextmenu",function(e){require(["editor/EditorManager"],function(EditorManager){if($(e.target).parents(".CodeMirror-gutter").length!==0){return}var editor=EditorManager.getFocusedEditor(),inlineWidget=EditorManager.getFocusedInlineWidget();if(editor){if(inlineWidget){inline_editor_cmenu.open(e)}}})});$("#project-files-container").on("contextmenu",function(e){project_cmenu.open(e)});Menus.ContextMenu.assignContextMenuToSelector(".working-set-option-btn",workingset_configuration_menu);Menus.ContextMenu.assignContextMenuToSelector(".working-set-splitview-btn",splitview_menu);$(window).contextmenu(function(e){e.preventDefault()});$(window.document).on("mousedown",".dropdown",function(e){e.preventDefault()});$(window.document).on("mouseenter","#titlebar .dropdown",function(e){var open=$(this).siblings(".open");if(open.length>0){open.removeClass("open");$(this).addClass("open")}})})});define("project/ProjectManager",["require","exports","module","utils/Global","thirdparty/lodash","utils/AppInit","utils/Async","preferences/PreferencesDialogs","preferences/PreferencesManager","document/DocumentManager","view/MainViewManager","command/CommandManager","command/Commands","widgets/Dialogs","widgets/DefaultDialogs","utils/EventDispatcher","language/LanguageManager","command/Menus","utils/StringUtils","strings","filesystem/FileSystem","project/FileViewController","utils/PerfUtils","file/FileUtils","filesystem/FileSystemError","project/FileSyncManager","project/ProjectModel","project/FileTreeView","utils/ViewUtils","command/DefaultMenus"],function(require,exports,module){"use strict";require("utils/Global");var _=require("thirdparty/lodash");var AppInit=require("utils/AppInit"),Async=require("utils/Async"),PreferencesDialogs=require("preferences/PreferencesDialogs"),PreferencesManager=require("preferences/PreferencesManager"),DocumentManager=require("document/DocumentManager"),MainViewManager=require("view/MainViewManager"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),Dialogs=require("widgets/Dialogs"),DefaultDialogs=require("widgets/DefaultDialogs"),EventDispatcher=require("utils/EventDispatcher"),LanguageManager=require("language/LanguageManager"),Menus=require("command/Menus"),StringUtils=require("utils/StringUtils"),Strings=require("strings"),FileSystem=require("filesystem/FileSystem"),FileViewController=require("project/FileViewController"),PerfUtils=require("utils/PerfUtils"),FileUtils=require("file/FileUtils"),FileSystemError=require("filesystem/FileSystemError"),FileSyncManager=require("project/FileSyncManager"),ProjectModel=require("project/ProjectModel"),FileTreeView=require("project/FileTreeView"),ViewUtils=require("utils/ViewUtils");require("command/DefaultMenus");var SETTINGS_FILENAME="."+PreferencesManager.SETTINGS_FILENAME;var SORT_DIRECTORIES_FIRST="sortDirectoriesFirst";var _fileSystemChange,_fileSystemRename,_showErrorDialog,_saveTreeState,renameItemInline,_renderTreeSync,_renderTree;var ERR_TYPE_CREATE=1,ERR_TYPE_CREATE_EXISTS=2,ERR_TYPE_RENAME=3,ERR_TYPE_DELETE=4,ERR_TYPE_LOADING_PROJECT=5,ERR_TYPE_LOADING_PROJECT_NATIVE=6,ERR_TYPE_MAX_FILES=7,ERR_TYPE_OPEN_DIALOG=8,ERR_TYPE_INVALID_FILENAME=9;var $projectTreeContainer;var fileTreeViewContainer;function _hasFileSelectionFocus(){return FileViewController.getFileSelectionFocus()===FileViewController.PROJECT_MANAGER}var model=new ProjectModel.ProjectModel({focused:_hasFileSelectionFocus()});var _projectWarnedForTooManyFiles=false;function _displayCreationError(e,errorInfo){window.setTimeout(function(){var error=errorInfo.type,isFolder=errorInfo.isFolder,name=errorInfo.name;if(error===FileSystemError.ALREADY_EXISTS){_showErrorDialog(ERR_TYPE_CREATE_EXISTS,isFolder,null,name)}else if(error===ProjectModel.ERROR_INVALID_FILENAME){_showErrorDialog(ERR_TYPE_INVALID_FILENAME,isFolder,ProjectModel._invalidChars)}else{var errString=error===FileSystemError.NOT_WRITABLE?Strings.NO_MODIFICATION_ALLOWED_ERR:StringUtils.format(Strings.GENERIC_ERROR,error);_showErrorDialog(ERR_TYPE_CREATE,isFolder,errString,name).getPromise()}},10)}function _revertSelection(previousPath,switchToWorkingSet){model.setSelected(previousPath);if(switchToWorkingSet){FileViewController.setFileViewFocus(FileViewController.WORKING_SET_VIEW)}}function ActionCreator(model){this.model=model;this._bindEvents()}ActionCreator.prototype._bindEvents=function(){this.model.on(ProjectModel.EVENT_CHANGE,function(){_renderTree()});this.model.on(ProjectModel.EVENT_SHOULD_SELECT,function(e,data){if(data.add){FileViewController.openFileAndAddToWorkingSet(data.path).fail(_.partial(_revertSelection,data.previousPath,!data.hadFocus))}else{FileViewController.openAndSelectDocument(data.path,FileViewController.PROJECT_MANAGER).fail(_.partial(_revertSelection,data.previousPath,!data.hadFocus))}});this.model.on(ProjectModel.EVENT_SHOULD_FOCUS,function(){FileViewController.setFileViewFocus(FileViewController.PROJECT_MANAGER)});this.model.on(ProjectModel.ERROR_CREATION,_displayCreationError)};ActionCreator.prototype.setDirectoryOpen=function(path,open){this.model.setDirectoryOpen(path,open).then(_saveTreeState)};ActionCreator.prototype.setSelected=function(path,doNotOpen){this.model.setSelected(path,doNotOpen)};ActionCreator.prototype.selectInWorkingSet=function(path){this.model.selectInWorkingSet(path)};ActionCreator.prototype.setContext=function(path){this.model.setContext(path)};ActionCreator.prototype.restoreContext=function(){this.model.restoreContext()};ActionCreator.prototype.startRename=function(path){renameItemInline(path)};ActionCreator.prototype.setRenameValue=function(path){this.model.setRenameValue(path)};ActionCreator.prototype.cancelRename=function(){this.model.cancelRename()};ActionCreator.prototype.performRename=function(){return this.model.performRename()};ActionCreator.prototype.startCreating=function(basedir,newName,isFolder){return this.model.startCreating(basedir,newName,isFolder)};ActionCreator.prototype.setSortDirectoriesFirst=function(sortDirectoriesFirst){this.model.setSortDirectoriesFirst(sortDirectoriesFirst)};ActionCreator.prototype.setFocused=function(focused){this.model.setFocused(focused)};ActionCreator.prototype.setCurrentFile=function(curFile){this.model.setCurrentFile(curFile)};ActionCreator.prototype.toggleSubdirectories=function(path,openOrClose){this.model.toggleSubdirectories(path,openOrClose).then(_saveTreeState)};ActionCreator.prototype.closeSubtree=function(path){this.model.closeSubtree(path);_saveTreeState()};ActionCreator.prototype.refresh=function(){this.model.refresh()};var actionCreator=new ActionCreator(model);function getSelectedItem(){var selectedEntry=model.getContext();if(!selectedEntry){selectedEntry=model.getSelected()}if(!selectedEntry){selectedEntry=MainViewManager.getCurrentlyViewedFile()}return selectedEntry}function _fileViewControllerChange(){actionCreator.setFocused(_hasFileSelectionFocus());_renderTree()}function _documentSelectionFocusChange(){var curFullPath=MainViewManager.getCurrentlyViewedPath(MainViewManager.ACTIVE_PANE);if(curFullPath&&_hasFileSelectionFocus()){actionCreator.setSelected(curFullPath,true)}else{actionCreator.setSelected(null)}_fileViewControllerChange()}function _currentFileChange(e,curFile){actionCreator.setCurrentFile(curFile)}function _getProjectViewStateContext(){return{location:{scope:"user",layer:"project",layerID:model.projectRoot.fullPath}}}function getBaseUrl(){return model.getBaseUrl()}function setBaseUrl(projectBaseUrl){var context=_getProjectViewStateContext();projectBaseUrl=model.setBaseUrl(projectBaseUrl);PreferencesManager.setViewState("project.baseUrl",projectBaseUrl,context)}function isWithinProject(absPathOrEntry){return model.isWithinProject(absPathOrEntry)}function makeProjectRelativeIfPossible(absPath){return model.makeProjectRelativeIfPossible(absPath)}function getProjectRoot(){return model.projectRoot}function _setProjectRoot(rootEntry){var d=new $.Deferred;model.setProjectRoot(rootEntry).then(function(){d.resolve();model.reopenNodes(PreferencesManager.getViewState("project.treeState",_getProjectViewStateContext()))});return d.promise()}var _saveProjectPath=function(){PreferencesManager.setViewState("projectPath",model.projectRoot.fullPath)};_saveTreeState=function(){var context=_getProjectViewStateContext(),openNodes=model.getOpenNodes();PreferencesManager.setViewState("project.treeState",openNodes,context)};_showErrorDialog=function(errType,isFolder,error,path){var titleType=isFolder?Strings.DIRECTORY_TITLE:Strings.FILE_TITLE,entryType=isFolder?Strings.DIRECTORY:Strings.FILE,title,message;path=StringUtils.breakableUrl(path);switch(errType){case ERR_TYPE_CREATE:title=StringUtils.format(Strings[isFolder?"ERROR_CREATING_DIRECTORY_TITLE":"ERROR_CREATING_FILE_TITLE"],titleType);message=StringUtils.format(Strings[isFolder?"ERROR_CREATING_DIRECTORY":"ERROR_CREATING_FILE"],entryType,path,error);break;case ERR_TYPE_CREATE_EXISTS:title=StringUtils.format(Strings[isFolder?"INVALID_DIRNAME_TITLE":"INVALID_FILENAME_TITLE"],titleType);message=StringUtils.format(Strings.ENTRY_WITH_SAME_NAME_EXISTS,path);break;case ERR_TYPE_RENAME:title=StringUtils.format(Strings[isFolder?"ERROR_RENAMING_DIRECTORY_TITLE":"ERROR_RENAMING_FILE_TITLE"],titleType);message=StringUtils.format(Strings[isFolder?"ERROR_RENAMING_DIRECTORY":"ERROR_RENAMING_FILE"],path,error,entryType);break;case ERR_TYPE_DELETE:title=StringUtils.format(Strings[isFolder?"ERROR_DELETING_DIRECTORY_TITLE":"ERROR_DELETING_FILE_TITLE"],titleType);message=StringUtils.format(Strings[isFolder?"ERROR_DELETING_DIRECTORY":"ERROR_DELETING_FILE"],path,error,entryType);break;case ERR_TYPE_LOADING_PROJECT:title=Strings.ERROR_LOADING_PROJECT;message=StringUtils.format(Strings.READ_DIRECTORY_ENTRIES_ERROR,path,error);break;case ERR_TYPE_LOADING_PROJECT_NATIVE:title=Strings.ERROR_LOADING_PROJECT;message=StringUtils.format(Strings.REQUEST_NATIVE_FILE_SYSTEM_ERROR,path,error);break;case ERR_TYPE_MAX_FILES:title=Strings.ERROR_MAX_FILES_TITLE;message=Strings.ERROR_MAX_FILES;break;case ERR_TYPE_OPEN_DIALOG:title=Strings.ERROR_LOADING_PROJECT;message=StringUtils.format(Strings.OPEN_DIALOG_ERROR,error);break;case ERR_TYPE_INVALID_FILENAME:title=StringUtils.format(Strings[isFolder?"INVALID_DIRNAME_TITLE":"INVALID_FILENAME_TITLE"],isFolder?Strings.DIRECTORY_NAME:Strings.FILENAME);message=StringUtils.format(Strings[isFolder?"INVALID_DIRNAME_MESSAGE":"INVALID_FILENAME_MESSAGE"],isFolder?Strings.DIRECTORY_NAMES_LEDE:Strings.FILENAMES_LEDE,error);break}if(title&&message){return Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,title,message)}return null};var _RENDER_DEBOUNCE_TIME=100;_renderTreeSync=function(forceRender){var projectRoot=getProjectRoot();if(!projectRoot){return}model.setScrollerInfo($projectTreeContainer[0].scrollWidth,$projectTreeContainer.scrollTop(),0,$projectTreeContainer.offset().top);FileTreeView.render(fileTreeViewContainer,model._viewModel,projectRoot,actionCreator,forceRender,brackets.platform)};_renderTree=_.debounce(_renderTreeSync,_RENDER_DEBOUNCE_TIME);function _getWelcomeProjectPath(){return"/"}function addWelcomeProjectPath(path){var welcomeProjects=ProjectModel._addWelcomeProjectPath(path,PreferencesManager.getViewState("welcomeProjects"));PreferencesManager.setViewState("welcomeProjects",welcomeProjects)}function isWelcomeProjectPath(path){return ProjectModel._isWelcomeProjectPath(path,_getWelcomeProjectPath(),PreferencesManager.getViewState("welcomeProjects"))}function updateWelcomeProjectPath(path){if(isWelcomeProjectPath(path)){return _getWelcomeProjectPath()}else{return path}}function _getFallbackProjectPath(){var fallbackPaths=[],recentProjects=PreferencesManager.getViewState("recentProjects")||[],deferred=new $.Deferred;if(recentProjects.length>1){fallbackPaths.push(recentProjects[1])}fallbackPaths.push(_getWelcomeProjectPath());function processItem(path){var deferred=new $.Deferred,fileEntry=FileSystem.getDirectoryForPath(path);fileEntry.exists(function(err,exists){if(!err&&exists){deferred.resolve()}else{deferred.reject()}});return deferred.promise()}Async.firstSequentially(fallbackPaths,processItem).done(function(fallbackPath){deferred.resolve(fallbackPath)}).fail(function(){deferred.resolve(FileUtils.getNativeBracketsDirectoryPath())});return deferred.promise()}function getInitialProjectPath(){return"/"}function _watchProjectRoot(rootPath){FileSystem.on("change",_fileSystemChange);FileSystem.on("rename",_fileSystemRename);FileSystem.watch(FileSystem.getDirectoryForPath(rootPath),ProjectModel._shouldShowName,ProjectModel.defaultIgnoreGlobs,function(err){if(err===FileSystemError.TOO_MANY_ENTRIES){if(!_projectWarnedForTooManyFiles){_showErrorDialog(ERR_TYPE_MAX_FILES);_projectWarnedForTooManyFiles=true}}else if(err){console.error("Error watching project root: ",rootPath,err)}});model._resetCache()}function _unwatchProjectRoot(){var result=new $.Deferred;if(!model.projectRoot){result.reject()}else{FileSystem.off("change",_fileSystemChange);FileSystem.off("rename",_fileSystemRename);FileSystem.unwatch(model.projectRoot,function(err){if(err){console.error("Error unwatching project root: ",model.projectRoot.fullPath,err);result.reject(err)}else{result.resolve()}});model._resetCache()}return result.promise()}function _reloadProjectPreferencesScope(){var root=getProjectRoot();if(root){PreferencesManager._setProjectSettingsFile(root.fullPath+SETTINGS_FILENAME)}else{PreferencesManager._setProjectSettingsFile()}}function _loadProject(rootPath,isUpdating){var result=new $.Deferred,startLoad=new $.Deferred;rootPath=ProjectModel._ensureTrailingSlash(rootPath);var projectPrefFullPath=rootPath+SETTINGS_FILENAME,file=FileSystem.getFileForPath(projectPrefFullPath);FileUtils.readAsText(file).done(function(text){try{if(text){JSON.parse(text)}}catch(err){var info=MainViewManager.findInAllWorkingSets(projectPrefFullPath);var paneId;if(info.length){paneId=info[0].paneId}FileViewController.openFileAndAddToWorkingSet(projectPrefFullPath,paneId).done(function(){Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.ERROR_PREFS_CORRUPT_TITLE,Strings.ERROR_PROJ_PREFS_CORRUPT).done(function(){MainViewManager.focusActivePane()})})}});if(isUpdating){startLoad.resolve()}else{if(model.projectRoot&&model.projectRoot.fullPath===rootPath){return(new $.Deferred).resolve().promise()}if(model.projectRoot){exports.trigger("beforeProjectClose",model.projectRoot)}MainViewManager._closeAll(MainViewManager.ALL_PANES);_unwatchProjectRoot().always(function(){if(model.projectRoot){LanguageManager._resetPathLanguageOverrides();PreferencesManager._reloadUserPrefs(model.projectRoot);exports.trigger("projectClose",model.projectRoot)}startLoad.resolve()})}startLoad.done(function(){var context={location:{scope:"user",layer:"project"}};if(!isUpdating){PreferencesManager._stateProjectLayer.setProjectPath(rootPath)}if(!isUpdating){_watchProjectRoot(rootPath)}var rootEntry=FileSystem.getDirectoryForPath(rootPath);rootEntry.exists(function(err,exists){if(exists){var projectRootChanged=!model.projectRoot||!rootEntry||model.projectRoot.fullPath!==rootEntry.fullPath;var perfTimerName=PerfUtils.markStart("Load Project: "+rootPath);_projectWarnedForTooManyFiles=false;_setProjectRoot(rootEntry).always(function(){model.setBaseUrl(PreferencesManager.getViewState("project.baseUrl",context)||"");if(projectRootChanged){_reloadProjectPreferencesScope();PreferencesManager._setCurrentFile(rootPath)}if(rootPath===_getWelcomeProjectPath()){addWelcomeProjectPath(rootPath)}if(projectRootChanged){exports.trigger("projectOpen",model.projectRoot);result.resolve()}else{exports.trigger("projectRefresh",model.projectRoot);result.resolve()}PerfUtils.addMeasurement(perfTimerName)})}else{console.log("error loading project");_showErrorDialog(ERR_TYPE_LOADING_PROJECT_NATIVE,true,err||FileSystemError.NOT_FOUND,rootPath).done(function(){model.projectRoot=null;_getFallbackProjectPath().done(function(path){_loadProject(path).always(function(){result.reject()})})})}})});return result.promise()}var _refreshDelay=1e3;var refreshFileTree=function refreshFileTree(){FileSystem.clearAllCaches();return(new $.Deferred).resolve().promise()};refreshFileTree=_.debounce(refreshFileTree,_refreshDelay);function showInTree(entry){return model.showInTree(entry).then(_saveTreeState)}function openProject(path){var result=new $.Deferred;CommandManager.execute(Commands.FILE_CLOSE_ALL,{promptOnly:true}).done(function(){if(path){_loadProject(path,false).then(result.resolve,result.reject)}else{FileSystem.showOpenDialog(false,true,Strings.CHOOSE_FOLDER,model.projectRoot.fullPath,null,function(err,files){if(!err){if(files.length>0){_loadProject(files[0]).then(result.resolve,result.reject)}else{result.reject()}}else{_showErrorDialog(ERR_TYPE_OPEN_DIALOG,null,err);result.reject()}})}}).fail(function(){result.reject()});return result.promise()}function _projectSettings(){return PreferencesDialogs.showProjectPreferencesDialog(getBaseUrl()).getPromise()}function createNewItem(baseDir,initialName,skipRename,isFolder){baseDir=model.getDirectoryInProject(baseDir);if(skipRename){if(isFolder){return model.createAtPath(baseDir+initialName+"/")}return model.createAtPath(baseDir+initialName)}return actionCreator.startCreating(baseDir,initialName,isFolder)}function deleteItem(entry){var result=new $.Deferred;entry.moveToTrash(function(err){if(!err){DocumentManager.notifyPathDeleted(entry.fullPath);result.resolve()}else{_showErrorDialog(ERR_TYPE_DELETE,entry.isDirectory,FileUtils.getFileErrorString(err),entry.fullPath);result.reject(err)}});return result.promise()}function getLanguageFilter(languageId){return function languageFilter(file){var id=LanguageManager.getLanguageForPath(file.fullPath).getId()
;if(typeof languageId==="string"){return id===languageId}else{return languageId.indexOf(id)!==-1}}}_fileSystemChange=function(event,entry,added,removed){FileSyncManager.syncOpenDocuments();model.handleFSEvent(entry,added,removed);if(removed){removed.forEach(function(file){DocumentManager.notifyPathDeleted(file.fullPath)})}};_fileSystemRename=function(event,oldName,newName){DocumentManager.notifyPathNameChanged(oldName,newName)};function forceFinishRename(){actionCreator.performRename()}function _setFileTreeSelectionWidth(width){model.setSelectionWidth(width);_renderTreeSync()}AppInit.htmlReady(function(){$projectTreeContainer=$("#project-files-container");$projectTreeContainer.addClass("jstree jstree-brackets");$projectTreeContainer.css("overflow","auto");$projectTreeContainer.css("position","relative");fileTreeViewContainer=$("<div>").appendTo($projectTreeContainer)[0];model.setSelectionWidth($projectTreeContainer.width());$(".main-view").click(function(jqEvent){if(!jqEvent.target.classList.contains("jstree-rename-input")){forceFinishRename();actionCreator.setContext(null)}});$("#working-set-list-container").on("contentChanged",function(){$projectTreeContainer.trigger("contentChanged")});Menus.getContextMenu(Menus.ContextMenuIds.PROJECT_MENU).on("beforeContextMenuOpen",function(){actionCreator.restoreContext()});Menus.getContextMenu(Menus.ContextMenuIds.PROJECT_MENU).on("beforeContextMenuClose",function(){model.setContext(null,false,true)});$projectTreeContainer.on("contextmenu",function(){forceFinishRename()});$("#project-context-menu").on("click.dropdown-menu",function(){model.setContext(null,true)});$projectTreeContainer.on("scroll",function(){if($(".dropdown.open").length>0){Menus.closeAll();actionCreator.setContext(null)}_renderTreeSync()});_renderTree();ViewUtils.addScrollerShadow($projectTreeContainer[0])});EventDispatcher.makeEventDispatcher(exports);PreferencesManager.stateManager.definePreference("projectPath","string",_getWelcomeProjectPath());exports.on("projectOpen",_reloadProjectPreferencesScope);exports.on("projectOpen",_saveProjectPath);exports.on("beforeAppClose",_unwatchProjectRoot);EventDispatcher.on_duringInit(FileViewController,"documentSelectionFocusChange",_documentSelectionFocusChange);EventDispatcher.on_duringInit(FileViewController,"fileViewFocusChange",_fileViewControllerChange);EventDispatcher.on_duringInit(MainViewManager,"currentFileChange",_currentFileChange);CommandManager.register(Strings.CMD_OPEN_FOLDER,Commands.FILE_OPEN_FOLDER,openProject);CommandManager.register(Strings.CMD_PROJECT_SETTINGS,Commands.FILE_PROJECT_SETTINGS,_projectSettings);CommandManager.register(Strings.CMD_FILE_REFRESH,Commands.FILE_REFRESH,refreshFileTree);PreferencesManager.definePreference(SORT_DIRECTORIES_FIRST,"boolean",true,{description:Strings.DESCRIPTION_SORT_DIRECTORIES_FIRST}).on("change",function(){actionCreator.setSortDirectoriesFirst(PreferencesManager.get(SORT_DIRECTORIES_FIRST))});actionCreator.setSortDirectoriesFirst(PreferencesManager.get(SORT_DIRECTORIES_FIRST));function getContext(){return model.getContext()}renameItemInline=function(entry){var d=new $.Deferred;model.startRename(entry).done(function(){d.resolve()}).fail(function(errorInfo){window.setTimeout(function(){switch(errorInfo.type){case ProjectModel.ERROR_INVALID_FILENAME:_showErrorDialog(ERR_TYPE_INVALID_FILENAME,errorInfo.isFolder,ProjectModel._invalidChars);break;case FileSystemError.ALREADY_EXISTS:_showErrorDialog(ERR_TYPE_RENAME,errorInfo.isFolder,Strings.FILE_EXISTS_ERR,errorInfo.fullPath);break;case ProjectModel.ERROR_NOT_IN_PROJECT:_showErrorDialog(ERR_TYPE_RENAME,errorInfo.isFolder,Strings.ERROR_RENAMING_NOT_IN_PROJECT,errorInfo.fullPath);break;default:_showErrorDialog(ERR_TYPE_RENAME,errorInfo.isFolder,FileUtils.getFileErrorString(errorInfo.type),errorInfo.fullPath)}},10);d.reject(errorInfo)});return d.promise()};function getAllFiles(filter,includeWorkingSet,sort){var viewFiles,deferred;if(includeWorkingSet===undefined&&typeof filter!=="function"){includeWorkingSet=filter;filter=null}if(includeWorkingSet){viewFiles=MainViewManager.getWorkingSet(MainViewManager.ALL_PANES)}deferred=new $.Deferred;model.getAllFiles(filter,viewFiles,sort).done(function(fileList){deferred.resolve(fileList)}).fail(function(err){if(err===FileSystemError.TOO_MANY_ENTRIES&&!_projectWarnedForTooManyFiles){_showErrorDialog(ERR_TYPE_MAX_FILES);_projectWarnedForTooManyFiles=true}deferred.resolve([])});return deferred.promise()}function addIconProvider(callback){return FileTreeView.addIconProvider(callback)}function addClassesProvider(callback){return FileTreeView.addClassesProvider(callback)}function rerenderTree(){_renderTree(true)}exports._actionCreator=actionCreator;exports._RENDER_DEBOUNCE_TIME=_RENDER_DEBOUNCE_TIME;exports._setFileTreeSelectionWidth=_setFileTreeSelectionWidth;exports.getProjectRoot=getProjectRoot;exports.getBaseUrl=getBaseUrl;exports.setBaseUrl=setBaseUrl;exports.isWithinProject=isWithinProject;exports.makeProjectRelativeIfPossible=makeProjectRelativeIfPossible;exports.shouldShow=ProjectModel.shouldShow;exports.openProject=openProject;exports.getSelectedItem=getSelectedItem;exports.getContext=getContext;exports.getInitialProjectPath=getInitialProjectPath;exports.isWelcomeProjectPath=isWelcomeProjectPath;exports.updateWelcomeProjectPath=updateWelcomeProjectPath;exports.createNewItem=createNewItem;exports.renameItemInline=renameItemInline;exports.deleteItem=deleteItem;exports.forceFinishRename=forceFinishRename;exports.showInTree=showInTree;exports.refreshFileTree=refreshFileTree;exports.getAllFiles=getAllFiles;exports.getLanguageFilter=getLanguageFilter;exports.addIconProvider=addIconProvider;exports.addClassesProvider=addClassesProvider;exports.rerenderTree=rerenderTree});define("project/FileSyncManager",["require","exports","module","project/ProjectManager","document/DocumentManager","view/MainViewManager","utils/Async","widgets/Dialogs","widgets/DefaultDialogs","strings","utils/StringUtils","file/FileUtils","filesystem/FileSystemError"],function(require,exports,module){"use strict";var ProjectManager=require("project/ProjectManager"),DocumentManager=require("document/DocumentManager"),MainViewManager=require("view/MainViewManager"),Async=require("utils/Async"),Dialogs=require("widgets/Dialogs"),DefaultDialogs=require("widgets/DefaultDialogs"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),FileUtils=require("file/FileUtils"),FileSystemError=require("filesystem/FileSystemError");var _alreadyChecking=false;var _restartPending=false;var toReload;var toClose;var editConflicts;var deleteConflicts;function findExternalChanges(docs){toReload=[];toClose=[];editConflicts=[];deleteConflicts=[];function checkDoc(doc){var result=new $.Deferred;if(doc.isUntitled()){result.resolve()}else{doc.file.stat(function(err,stat){if(!err){var fileTime=stat.mtime.getTime();if(fileTime!==doc.diskTimestamp.getTime()){if(doc.keepChangesTime!==fileTime){if(doc.isDirty){editConflicts.push({doc:doc,fileTime:fileTime})}else{toReload.push(doc)}}}result.resolve()}else{if(err===FileSystemError.NOT_FOUND){if(doc.keepChangesTime!==-1){if(doc.isDirty){deleteConflicts.push({doc:doc,fileTime:-1})}else{toClose.push(doc)}}result.resolve()}else{console.log("Error checking modification status of "+doc.file.fullPath,err);result.reject()}}})}return result.promise()}return Async.doInParallel(docs,checkDoc,true)}function syncUnopenWorkingSet(){var unopenWorkingSetFiles=MainViewManager.getWorkingSet(MainViewManager.ALL_PANES).filter(function(wsFile){return!DocumentManager.getOpenDocumentForPath(wsFile.fullPath)});function checkWorkingSetFile(file){var result=new $.Deferred;file.stat(function(err,stat){if(!err){result.resolve()}else{if(err===FileSystemError.NOT_FOUND){DocumentManager.notifyFileDeleted(file);result.resolve()}else{console.log("Error checking for deletion of "+file.fullPath,err);result.reject()}}});return result.promise()}return Async.doInParallel(unopenWorkingSetFiles,checkWorkingSetFile,false)}function reloadDoc(doc){var promise=FileUtils.readAsText(doc.file);promise.done(function(text,readTimestamp){doc.refreshText(text,readTimestamp)});promise.fail(function(error){console.log("Error reloading contents of "+doc.file.fullPath,error)});return promise}function reloadChangedDocs(){return Async.doInParallel(toReload,reloadDoc,false)}function showReloadError(error,doc){return Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.ERROR_RELOADING_FILE_TITLE,StringUtils.format(Strings.ERROR_RELOADING_FILE,StringUtils.breakableUrl(doc.file.fullPath),FileUtils.getFileErrorString(error)))}function closeDeletedDocs(){toClose.forEach(function(doc){DocumentManager.notifyFileDeleted(doc.file)})}function presentConflicts(title){var allConflicts=editConflicts.concat(deleteConflicts);function presentConflict(docInfo,i){var result=new $.Deferred,promise=result.promise(),doc=docInfo.doc,fileTime=docInfo.fileTime;if(_restartPending){result.resolve();return promise}var toClose;var dialogId;var message;var buttons;if(i<editConflicts.length){toClose=false;dialogId=DefaultDialogs.DIALOG_ID_EXT_CHANGED;message=StringUtils.format(Strings.EXT_MODIFIED_MESSAGE,StringUtils.breakableUrl(ProjectManager.makeProjectRelativeIfPossible(doc.file.fullPath)));buttons=[{className:Dialogs.DIALOG_BTN_CLASS_LEFT,id:Dialogs.DIALOG_BTN_DONTSAVE,text:Strings.RELOAD_FROM_DISK},{className:Dialogs.DIALOG_BTN_CLASS_PRIMARY,id:Dialogs.DIALOG_BTN_CANCEL,text:Strings.KEEP_CHANGES_IN_EDITOR}]}else{toClose=true;dialogId=DefaultDialogs.DIALOG_ID_EXT_DELETED;message=StringUtils.format(Strings.EXT_DELETED_MESSAGE,StringUtils.breakableUrl(ProjectManager.makeProjectRelativeIfPossible(doc.file.fullPath)));buttons=[{className:Dialogs.DIALOG_BTN_CLASS_LEFT,id:Dialogs.DIALOG_BTN_DONTSAVE,text:Strings.CLOSE_DONT_SAVE},{className:Dialogs.DIALOG_BTN_CLASS_PRIMARY,id:Dialogs.DIALOG_BTN_CANCEL,text:Strings.KEEP_CHANGES_IN_EDITOR}]}Dialogs.showModalDialog(dialogId,title,message,buttons).done(function(id){if(id===Dialogs.DIALOG_BTN_DONTSAVE){if(toClose){DocumentManager.notifyFileDeleted(doc.file);result.resolve()}else{reloadDoc(doc).done(function(){result.resolve()}).fail(function(error){showReloadError(error,doc).done(function(){result.reject()})})}}else{if(!_restartPending){doc.keepChangesTime=fileTime}result.resolve()}});return promise}return Async.doSequentially(allConflicts,presentConflict,false)}function syncOpenDocuments(title){title=title||Strings.EXT_MODIFIED_TITLE;if(_alreadyChecking){_restartPending=true;Dialogs.cancelModalDialogIfOpen(DefaultDialogs.DIALOG_ID_EXT_CHANGED);Dialogs.cancelModalDialogIfOpen(DefaultDialogs.DIALOG_ID_EXT_DELETED);return}_alreadyChecking=true;var allDocs=DocumentManager.getAllOpenDocuments();findExternalChanges(allDocs).done(function(){syncUnopenWorkingSet().always(function(){reloadChangedDocs().always(function(){closeDeletedDocs();presentConflicts(title).always(function(){if(_restartPending){_restartPending=false;_alreadyChecking=false;syncOpenDocuments()}else{_alreadyChecking=false;if(editConflicts.length>0||deleteConflicts.length>0){MainViewManager.focusActivePane()}}})})})}).fail(function(){_alreadyChecking=false})}exports.syncOpenDocuments=syncOpenDocuments});define("text!extensions/bramble-extensions.json",[],function(){return'[\n    {\n        "path": "extensions/default/CSSCodeHints",\n        "less": {\n            "dist/extensions/default/CSSCodeHints/styles/brackets-css-hints.css": [\n                "src/extensions/default/CSSCodeHints/styles/brackets-css-hints.css"\n            ]\n        }\n    },\n    {\n        "path": "extensions/default/PYCodeHints"\n    },\n    {\n        "path": "extensions/default/HTMLCodeHints"\n    },\n    {\n        "path": "extensions/default/CSSAtRuleCodeHints"\n    },\n    {\n        "path": "extensions/default/CSSPseudoSelectorHints"\n    },\n    {\n        "path": "extensions/default/HtmlEntityCodeHints",\n        "less": {\n            "dist/extensions/default/HTMLEntityCodeHints/styles.css": [\n                "src/extensions/default/HtmlEntityCodeHints/styles.css"\n            ]\n        }\n    },\n    {\n        "path": "extensions/extra/JavaScriptCodeHints-Browser",\n        "less": {\n            "dist/extensions/extra/JavaScriptCodeHints-Browser/styles/brackets-js-hints.css": [\n                "src/extensions/extra/JavaScriptCodeHints-Browser/styles/brackets-js-hints.css"\n            ]\n        },\n        "copy": [\n            "extensions/extra/JavaScriptCodeHints-Browser/node_modules/tern/lib/tern.js",\n            "extensions/extra/JavaScriptCodeHints-Browser/node_modules/tern/lib/infer.js",\n            "extensions/extra/JavaScriptCodeHints-Browser/node_modules/tern/lib/def.js",\n            "extensions/extra/JavaScriptCodeHints-Browser/node_modules/tern/lib/signal.js",\n            "extensions/extra/JavaScriptCodeHints-Browser/node_modules/tern/defs/ecmascript.json",\n            "extensions/extra/JavaScriptCodeHints-Browser/node_modules/tern/defs/browser.json",\n            "extensions/extra/JavaScriptCodeHints-Browser/node_modules/acorn/dist/acorn.js",\n            "extensions/extra/JavaScriptCodeHints-Browser/node_modules/acorn/dist/acorn_loose.js",\n            "extensions/extra/JavaScriptCodeHints-Browser/node_modules/acorn/dist/walk.js",\n            "extensions/extra/JavaScriptCodeHints-Browser/tern-worker.js",\n            "extensions/extra/JavaScriptCodeHints-Browser/MessageIds.js",\n            "extensions/extra/JavaScriptCodeHints-Browser/HintUtils2.js"\n        ]\n    },\n    {\n        "path": "extensions/default/InlineColorEditor",\n        "less": {\n            "dist/extensions/default/InlineColorEditor/css/main.css": [\n                "src/extensions/default/InlineColorEditor/css/main.less"\n            ]\n        },\n        "copy": [\n            "extensions/default/InlineColorEditor/img/*.png"\n        ]\n    },\n    {\n        "path": "extensions/default/InlineBorderRadiusEditor",\n        "less": {\n            "dist/extensions/default/InlineBorderRadiusEditor/css/main.css": [\n                "src/extensions/default/InlineBorderRadiusEditor/css/main.less"\n            ]\n        },\n        "copy": [\n            "extensions/default/InlineBorderRadiusEditor/img/*.png",\n            "extensions/default/InlineBorderRadiusEditor/BorderRadiusEditorTemplate.html"\n        ]\n    },\n    {\n        "path": "extensions/default/InlineBoxModelEditor",\n        "less": {\n            "dist/extensions/default/InlineBoxModelEditor/css/main.css": [\n                "src/extensions/default/InlineBoxModelEditor/css/main.less"\n            ]\n        },\n        "copy": [\n            "extensions/default/InlineBoxModelEditor/img/*.png",\n            "extensions/default/InlineBoxModelEditor/BoxModelEditorTemplate.html"\n        ]\n    },\n    {\n        "path": "extensions/default/Inline3DParametersEditor",\n        "less": {\n            "dist/extensions/default/Inline3DParametersEditor/css/main.css": [\n                "src/extensions/default/Inline3DParametersEditor/css/main.less"\n            ]\n        }\n    },\n    {\n        "path": "extensions/default/JavaScriptQuickEdit"\n    },\n    {\n        "path": "extensions/default/QuickView",\n        "less": {\n            "dist/extensions/default/QuickView/QuickView.css": [\n                "src/extensions/default/QuickView/QuickView.less"\n            ]\n        },\n        "copy": [\n            "extensions/default/QuickView/*.svg"\n        ]\n    },\n    {\n        "path": "extensions/extra/WebPlatformDocs",\n        "less": {\n            "dist/extensions/extra/WebPlatformDocs/WebPlatformDocs.css": [\n                "src/extensions/extra/WebPlatformDocs/WebPlatformDocs.less"\n            ]\n        },\n        "copy": [\n            "extensions/extra/WebPlatformDocs/html.json",\n            "extensions/extra/WebPlatformDocs/css.json",\n            "extensions/extra/WebPlatformDocs/logo.svg"\n        ]\n    },\n    {\n        "path": "extensions/default/bramble",\n        "less": {\n            "dist/extensions/default/bramble/stylesheets/style.css": [\n                "src/extensions/default/bramble/stylesheets/style.less"\n            ],\n            "dist/extensions/default/bramble/stylesheets/consoleTheme.css": [\n                "src/extensions/default/bramble/stylesheets/consoleTheme.less"\n            ],\n            "dist/extensions/default/bramble/stylesheets/lightTheme.css": [\n                "src/extensions/default/bramble/stylesheets/lightTheme.less"\n            ],\n            "dist/extensions/default/bramble/stylesheets/darkTheme.css": [\n                "src/extensions/default/bramble/stylesheets/darkTheme.less"\n            ]\n        },\n        "copy": [\n            "extensions/default/bramble/images/**/*"\n        ]\n    },\n    {\n        "path": "extensions/default/Autosave"\n    },\n    {\n        "path": "extensions/default/BrambleUrlCodeHints",\n        "less": {\n            "dist/extensions/default/BrambleUrlCodeHints/style.css": [\n                "src/extensions/default/BrambleUrlCodeHints/style.less"\n            ]\n        },\n        "copy": [\n            "extensions/default/BrambleUrlCodeHints/camera/camera-shutter-click-08.mp3",\n            "extensions/default/BrambleUrlCodeHints/glyphicons-12-camera.png",\n            "extensions/default/BrambleUrlCodeHints/selfiePreview.png"\n        ]\n    },\n    {\n        "path": "extensions/default/UploadFiles",\n        "less": {\n            "dist/extensions/default/UploadFiles/styles.css": [\n                "src/extensions/default/UploadFiles/styles.less"\n            ]\n        },\n        "copy": [\n            "extensions/default/UploadFiles/images/*.svg"\n        ]\n    },\n    {\n        "path": "extensions/default/bramble-move-file",\n        "less": {\n            "dist/extensions/default/bramble-move-file/styles/style.css": [\n                "src/extensions/default/bramble-move-file/styles/style.less"\n            ]\n        },\n        "copy": [\n            "extensions/default/bramble-move-file/images/*.svg"\n        ]\n    },\n    {\n        "path": "extensions/default/brackets-show-whitespace",\n        "less": {\n            "dist/extensions/default/brackets-show-whitespace/styles/main.css": [\n                "src/extensions/default/brackets-show-whitespace/styles/main.css"\n            ]\n        }\n    },\n    {\n        "path": "extensions/extra/brackets-fonts-viewer",\n        "less":{\n            "dist/extensions/extra/brackets-fonts-viewer/styles/main.css": [\n                "src/extensions/extra/brackets-fonts-viewer/styles/main.less"\n            ]\n        }\n    },\n    {\n        "path": "extensions/extra/PDFView",\n        "less": {\n            "dist/extensions/extra/PDFView/styles/styles.css": [\n                "src/extensions/extra/PDFView/styles/styles.less"\n            ],\n            "dist/extensions/extra/PDFView/styles/viewer-overrides.css": [\n                "src/extensions/extra/PDFView/styles/viewer-overrides.css"\n            ]\n        },\n        "copy": [\n            "extensions/extra/PDFView/thirdparty/**/*",\n            "extensions/extra/PDFView/images/**/*",\n            "extensions/extra/PDFView/htmlContent/viewer.html",\n            "extensions/extra/PDFView/bramble-pdfjs.js"\n        ]\n    },\n    {\n        "path": "extensions/extra/brackets-fonts-viewer",\n        "less":{\n            "dist/extensions/extra/brackets-fonts-viewer/styles/main.css": [\n                "src/extensions/extra/brackets-fonts-viewer/styles/main.less"\n            ]\n        }\n    }\n]\n\n'});define("utils/BrambleExtensionLoader",["require","exports","module","thirdparty/path-utils/path-utils","filesystem/impls/filer/BracketsFiler","text!extensions/bramble-extensions.json"],function(require,exports,module){"use strict";var PathUtils=require("thirdparty/path-utils/path-utils");var Path=require("filesystem/impls/filer/BracketsFiler").Path;var basePath=PathUtils.directory(window.location.href);var extensionInfo=JSON.parse(require("text!extensions/bramble-extensions.json"));function _processDefaults(disableExtensions){disableExtensions=disableExtensions?disableExtensions.trim().split(/\s*,\s*/):[];var brambleExtensions=[];extensionInfo.forEach(function(info){var extPath=info.path;var extBasename=Path.basename(extPath);if(disableExtensions.indexOf(extBasename)>-1||disableExtensions.indexOf(extPath)>-1){console.log("[Bramble] Skipping loading of extension "+extBasename+" at "+extPath);return}brambleExtensions.push({name:extPath,path:Path.join(basePath,extPath)})});return brambleExtensions}exports.getExtensionList=function(params){return _processDefaults(params.get("disableExtensions"))}});define("utils/ExtensionLoader",["require","exports","module","utils/Global","thirdparty/lodash","utils/EventDispatcher","filesystem/FileSystem","file/FileUtils","utils/Async","utils/ExtensionUtils","utils/UrlParams","thirdparty/path-utils/path-utils","utils/BrambleExtensionLoader"],function(require,exports,module){"use strict";require("utils/Global");var _=require("thirdparty/lodash"),EventDispatcher=require("utils/EventDispatcher"),FileSystem=require("filesystem/FileSystem"),FileUtils=require("file/FileUtils"),Async=require("utils/Async"),ExtensionUtils=require("utils/ExtensionUtils"),UrlParams=require("utils/UrlParams").UrlParams,PathUtils=require("thirdparty/path-utils/path-utils"),BrambleExtensionLoader=require("utils/BrambleExtensionLoader");var INIT_EXTENSION_TIMEOUT=1e4;var _init=false,_extensions={},_initExtensionTimeout=INIT_EXTENSION_TIMEOUT,srcPath=FileUtils.getNativeBracketsDirectoryPath();var contexts={};srcPath=srcPath.replace(/\/test$/,"/src");var globalPaths=brackets._getGlobalRequireJSConfig().paths;Object.keys(globalPaths).forEach(function(key){globalPaths[key]=PathUtils.makePathAbsolute(srcPath+"/"+globalPaths[key])});function getUserExtensionPath(){if(brackets.app.getApplicationSupportDirectory){return brackets.app.getApplicationSupportDirectory()+"/extensions/user"}return null}function getRequireContextForExtension(name){return contexts[name]}function _getInitExtensionTimeout(){return _initExtensionTimeout}function _setInitExtensionTimeout(value){_initExtensionTimeout=value}function _mergeConfig(baseConfig){var deferred=new $.Deferred,extensionConfigFile=FileSystem.getFileForPath(baseConfig.baseUrl+"/requirejs-config.json");FileUtils.readAsText(extensionConfigFile).done(function(text){try{var extensionConfig=JSON.parse(text);_.extend(extensionConfig.paths,baseConfig.paths);_.extend(extensionConfig,_.omit(baseConfig,"paths"));deferred.resolve(extensionConfig)}catch(err){deferred.reject("failed to parse requirejs-config.json")}}).fail(function(){deferred.resolve(baseConfig)});return deferred.promise()}function loadExtensionModule(name,config,entryPoint){var extensionConfig={waitSeconds:0,context:name,baseUrl:config.baseUrl,paths:globalPaths,locale:brackets.getLocale()};var promise=_mergeConfig(extensionConfig).then(function(mergedConfig){var extensionRequire=brackets.libRequire.config(mergedConfig),extensionRequireDeferred=new $.Deferred;contexts[name]=extensionRequire;extensionRequire([entryPoint],extensionRequireDeferred.resolve,extensionRequireDeferred.reject);return extensionRequireDeferred.promise()}).then(function(module){var initPromise;_extensions[name]=module;if(module&&module.initExtension&&typeof module.initExtension==="function"){try{initPromise=Async.withTimeout(module.initExtension(),_getInitExtensionTimeout())}catch(err){console.error("[Extension] Error -- error thrown during initExtension for "+name+": "+err);return(new $.Deferred).reject(err).promise()}if(initPromise){initPromise.fail(function(err){if(err===Async.ERROR_TIMEOUT){console.error("[Extension] Error -- timeout during initExtension for "+name)}else{console.error("[Extension] Error -- failed initExtension for "+name+(err?": "+err:""))}});return initPromise}}},function errback(err){var additionalInfo=String(err);if(err.requireType==="scripterror"&&err.originalError){additionalInfo="Module does not exist: "+err.originalError.target.src}console.error("[Extension] failed to load "+config.baseUrl+" - "+additionalInfo);if(err.requireType==="define"){console.log(err.stack)}});return promise}function loadExtension(name,config,entryPoint){return loadExtensionModule(name,config,entryPoint).then(function(){exports.trigger("load",config.baseUrl)},function(err){if(err==="disabled"){exports.trigger("disabled",config.baseUrl)}else{exports.trigger("loadFailed",config.baseUrl)}})}function testExtension(name,config,entryPoint){var result=new $.Deferred,extensionPath=config.baseUrl+"/"+entryPoint+".js";FileSystem.resolve(extensionPath,function(err,entry){if(!err&&entry.isFile){var extensionRequire=brackets.libRequire.config({context:name,baseUrl:config.baseUrl,paths:$.extend({},config.paths,globalPaths)});extensionRequire([entryPoint],function(){result.resolve()})}else{result.reject()}});return result.promise()}function _loadAll(directory,config,entryPoint,processExtension){var result=new $.Deferred;FileSystem.getDirectoryForPath(directory).getContents(function(err,contents){if(!err){var i,extensions=[];for(i=0;i<contents.length;i++){if(contents[i].isDirectory){extensions.push(contents[i].name)}}if(extensions.length===0){result.resolve();return}Async.doInParallel(extensions,function(item){var extConfig={baseUrl:config.baseUrl+"/"+item,paths:config.paths};return processExtension(item,extConfig,entryPoint)}).always(function(){result.resolve()})}else{console.error("[Extension] Error -- could not read native directory: "+directory);result.reject()}});return result.promise()}function loadAllExtensionsInNativeDirectory(directory){return _loadAll(directory,{baseUrl:directory},"main",loadExtension)}function testAllExtensionsInNativeDirectory(directory){var bracketsPath=FileUtils.getNativeBracketsDirectoryPath(),config={baseUrl:directory};config.paths={perf:bracketsPath+"/perf",spec:bracketsPath+"/spec"};return _loadAll(directory,config,"unittests",testExtension)}function init(paths){var params=new UrlParams;params.parse();if(_init){return(new $.Deferred).resolve().promise()}if(brackets.inBrowser){var extensionList=BrambleExtensionLoader.getExtensionList(params);return Async.doInParallel(extensionList,function(item){var extConfig={baseUrl:item.path};return loadExtension(item.name,extConfig,"main")})}if(!paths){if(params.get("reloadWithoutUserExts")==="true"){paths=["default"]}else{paths=["default","dev",getUserExtensionPath()]}}var extensionPath=getUserExtensionPath();FileSystem.getDirectoryForPath(extensionPath).create();var disabledExtensionPath=extensionPath.replace(/\/user$/,"/disabled");FileSystem.getDirectoryForPath(disabledExtensionPath).create();var promise=Async.doSequentially(paths,function(item){var extensionPath=item;if(item.indexOf("/")===-1){extensionPath=FileUtils.getNativeBracketsDirectoryPath()+"/extensions/"+item}return loadAllExtensionsInNativeDirectory(extensionPath)},false);promise.always(function(){_init=true});return promise}EventDispatcher.makeEventDispatcher(exports);exports._setInitExtensionTimeout=_setInitExtensionTimeout;exports._getInitExtensionTimeout=_getInitExtensionTimeout;exports.init=init;exports.getUserExtensionPath=getUserExtensionPath;exports.getRequireContextForExtension=getRequireContextForExtension;exports.loadExtension=loadExtension;exports.testExtension=testExtension;exports.loadAllExtensionsInNativeDirectory=loadAllExtensionsInNativeDirectory;exports.testAllExtensionsInNativeDirectory=testAllExtensionsInNativeDirectory});define("utils/NativeApp",["require","exports","module","utils/Async","filesystem/FileSystemError"],function(require,exports,module){"use strict";var Async=require("utils/Async"),FileSystemError=require("filesystem/FileSystemError");function _browserErrToFileError(err){if(err===brackets.fs.ERR_NOT_FOUND){return FileSystemError.NOT_FOUND}return FileSystemError.UNKNOWN}var liveBrowserOpenedPIDs=[];function openLiveBrowser(url,enableRemoteDebugging){var result=new $.Deferred;brackets.app.openLiveBrowser(url,!!enableRemoteDebugging,function onRun(err,pid){if(!err){if(pid!==undefined){liveBrowserOpenedPIDs.push(pid)}result.resolve(pid)}else{result.reject(_browserErrToFileError(err))}});return result.promise()}function closeLiveBrowser(pid){var result=new $.Deferred;if(isNaN(pid)){pid=0}brackets.app.closeLiveBrowser(function(err){if(!err){var i=liveBrowserOpenedPIDs.indexOf(pid);if(i!==-1){liveBrowserOpenedPIDs.splice(i,1)}result.resolve()}else{result.reject(_browserErrToFileError(err))}},pid);return result.promise()}function closeAllLiveBrowsers(){var closeIDs=liveBrowserOpenedPIDs.concat();return Async.doSequentially(closeIDs,closeLiveBrowser,false)}function openURLInDefaultBrowser(url){brackets.app.openURLInDefaultBrowser(url)}exports.openLiveBrowser=openLiveBrowser;exports.closeLiveBrowser=closeLiveBrowser;exports.closeAllLiveBrowsers=closeAllLiveBrowsers;exports.openURLInDefaultBrowser=openURLInDefaultBrowser});define("text!htmlContent/themes-settings.html",[],function(){return'<div class="theme-settings modal">\n    <div class="modal-header">\n        <h1 class="dialog-title">{{Strings.THEMES_SETTINGS}}</h1>\n    </div>\n    <div class="modal-body">\n        <form class="form-horizontal">\n            <div class="control-group">\n                <label class="control-label">{{Strings.CURRENT_THEME}}:</label>\n                <div class="controls">\n                    <select>\n                        {{#themes}}\n                        <option style="text-align:left;" value="{{name}}" data-target="theme">{{displayName}}</option>\n                        {{/themes}}\n                    </select>\n                </div>\n            </div>\n\n            <div class="control-group">\n                <label class="control-label">{{Strings.USE_THEME_SCROLLBARS}}:</label>\n                <div class="controls">\n                    {{#settings.themeScrollbars}}\n                        <input type="checkbox" data-target="themeScrollbars" checked>\n                    {{/settings.themeScrollbars}}\n                    {{^settings.themeScrollbars}}\n                        <input type="checkbox" data-target="themeScrollbars">\n                    {{/settings.themeScrollbars}}\n                </div>\n            </div>\n\n            <div class="control-group">\n                <label class="control-label">{{Strings.FONT_SIZE}}:</label>\n                <div class="controls">\n                    <input type="text" data-target="fontSize" value="{{settings.fontSize}}">\n                </div>\n            </div>\n\n            <div class="control-group">\n                <label class="control-label">{{Strings.FONT_FAMILY}}:</label>\n                <div class="controls">\n                    <input type="text" data-target="fontFamily" value="{{settings.fontFamily}}">\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button class="dialog-button btn" data-button-id="cancel">{{Strings.CANCEL}}</button>\n        <button class="dialog-button btn primary" data-button-id="save">{{Strings.DONE}}</button>\n    </div>\n</div>\n'});define("view/ThemeSettings",["require","exports","module","thirdparty/lodash","thirdparty/mustache/mustache","widgets/Dialogs","strings","view/ViewCommandHandlers","text!htmlContent/themes-settings.html","preferences/PreferencesManager"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache"),Dialogs=require("widgets/Dialogs"),Strings=require("strings"),ViewCommandHandlers=require("view/ViewCommandHandlers"),settingsTemplate=require("text!htmlContent/themes-settings.html"),PreferencesManager=require("preferences/PreferencesManager"),prefs=PreferencesManager.getExtensionPrefs("themes");var loadedThemes={};var defaults={
themeScrollbars:true,theme:"light-theme"};var $settings=$(settingsTemplate).addClass("themeSettings");function getValues(){var result={};Object.keys(defaults).forEach(function(key){result[key]=prefs.get(key)});result.fontFamily=ViewCommandHandlers.getFontFamily();result.fontSize=ViewCommandHandlers.getFontSize();return result}function showDialog(){var currentSettings=getValues();var newSettings={};var themes=_.map(loadedThemes,function(theme){return theme});var template=$("<div>").append($settings).html();var $template=$(Mustache.render(template,{settings:currentSettings,themes:themes,Strings:Strings}));var $currentThemeOption=$template.find("[value='"+currentSettings.theme+"']");if($currentThemeOption.length===0){$currentThemeOption=$template.find("[value='"+defaults.theme+"']")}$currentThemeOption.attr("selected","selected");$template.find("[data-toggle=tab].default").tab("show");$template.on("change","[data-target]:checkbox",function(){var $target=$(this);var attr=$target.attr("data-target");newSettings[attr]=$target.is(":checked")}).on("input","[data-target]:text",function(){var $target=$(this);var attr=$target.attr("data-target");newSettings[attr]=$target.val()}).on("change","select",function(){var $target=$(":selected",this);var attr=$target.attr("data-target");if(attr){prefs.set(attr,$target.val())}});Dialogs.showModalDialogUsingTemplate($template).done(function(id){var setterFn;if(id==="save"){Object.keys(newSettings).forEach(function(setting){if(defaults.hasOwnProperty(setting)){prefs.set(setting,newSettings[setting])}else{setterFn="set"+setting[0].toLocaleUpperCase()+setting.substr(1);if(typeof ViewCommandHandlers[setterFn]==="function"){ViewCommandHandlers[setterFn](newSettings[setting])}}})}else if(id==="cancel"){prefs.set("theme",currentSettings.theme)}})}function setThemes(themes){loadedThemes=themes}function restore(){prefs.set("theme",defaults.theme);prefs.set("themeScrollbars",defaults.themeScrollbars)}prefs.definePreference("theme","string",defaults.theme,{description:Strings.DESCRIPTION_THEME});prefs.definePreference("themeScrollbars","boolean",defaults.themeScrollbars,{description:Strings.DESCRIPTION_USE_THEME_SCROLLBARS});exports._setThemes=setThemes;exports.restore=restore;exports.showDialog=showDialog});define("view/ViewCommandHandlers",["require","exports","module","command/Commands","utils/EventDispatcher","command/CommandManager","strings","utils/StringUtils","editor/EditorManager","preferences/PreferencesManager","document/DocumentManager","view/ThemeSettings","view/MainViewManager","utils/AppInit","thirdparty/lodash"],function(require,exports,module){"use strict";var Commands=require("command/Commands"),EventDispatcher=require("utils/EventDispatcher"),CommandManager=require("command/CommandManager"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),EditorManager=require("editor/EditorManager"),PreferencesManager=require("preferences/PreferencesManager"),DocumentManager=require("document/DocumentManager"),ThemeSettings=require("view/ThemeSettings"),MainViewManager=require("view/MainViewManager"),AppInit=require("utils/AppInit"),_=require("thirdparty/lodash");var prefs=PreferencesManager.getExtensionPrefs("fonts");var currFontSize;var currFontFamily;var DYNAMIC_FONT_STYLE_ID="codemirror-dynamic-fonts";var DYNAMIC_FONT_FAMILY_ID="codemirror-dynamic-font-family";var MIN_FONT_SIZE=8;var MAX_FONT_SIZE=32;var DEFAULT_FONT_SIZE=15;var DEFAULT_FONT_FAMILY="'Menlo Regular', Consolas, Inconsolata, 'Vera Sans', 'Lucida Console', Courier, monospace, fixed";function _removeDynamicProperty(propertyID){$("#"+propertyID).remove()}function _addDynamicProperty(propertyID,name,value,important,cssRule){cssRule=cssRule||".CodeMirror";var $style=$("<style type='text/css'></style>").attr("id",propertyID);var styleStr=StringUtils.format("{0}: {1}{2}",name,value,important?" !important":"");$style.html(cssRule+"{ "+styleStr+" }");_removeDynamicProperty(propertyID);$("head").append($style)}function _removeDynamicFontSize(){_removeDynamicProperty(DYNAMIC_FONT_STYLE_ID)}function _addDynamicFontSize(fontSize){_addDynamicProperty(DYNAMIC_FONT_STYLE_ID,"font-size",fontSize,true)}function _removeDynamicFontFamily(){_removeDynamicProperty(DYNAMIC_FONT_FAMILY_ID)}function _addDynamicFontFamily(fontFamily){_addDynamicProperty(DYNAMIC_FONT_FAMILY_ID,"font-family",fontFamily)}function _updateScroll(editor,fontSize){var oldWidth=editor._codeMirror.defaultCharWidth(),oldFontSize=prefs.get("fontSize"),newFontSize=fontSize,delta=0,adjustment=0,scrollPos=editor.getScrollPos(),line=editor._codeMirror.lineAtHeight(scrollPos.y,"local");delta=/em$/.test(oldFontSize)?10:1;adjustment=parseInt((parseFloat(newFontSize)-parseFloat(oldFontSize))*delta,10);if(adjustment){editor.refreshAll()}var newWidth=editor._codeMirror.defaultCharWidth(),deltaX=scrollPos.x/oldWidth,scrollPosX=scrollPos.x+Math.round(deltaX*(newWidth-oldWidth)),scrollPosY=editor._codeMirror.heightAtLine(line,"local");editor.setScrollPos(scrollPosX,scrollPosY)}function setFontSize(fontSize){if(currFontSize===fontSize){return}_removeDynamicFontSize();if(fontSize){_addDynamicFontSize(fontSize)}_.forEach(MainViewManager.getPaneIdList(),function(paneId){var currentPath=MainViewManager.getCurrentlyViewedPath(paneId),doc=currentPath&&DocumentManager.getOpenDocumentForPath(currentPath);if(doc&&doc._masterEditor){_updateScroll(doc._masterEditor,fontSize)}});exports.trigger("fontSizeChange",fontSize,currFontSize);currFontSize=fontSize;prefs.set("fontSize",fontSize)}function getFontSize(){return prefs.get("fontSize")}function setFontFamily(fontFamily){var editor=EditorManager.getCurrentFullEditor();if(currFontFamily===fontFamily){return}_removeDynamicFontFamily();if(fontFamily){_addDynamicFontFamily(fontFamily)}exports.trigger("fontFamilyChange",fontFamily,currFontFamily);currFontFamily=fontFamily;prefs.set("fontFamily",fontFamily);if(editor){editor.refreshAll()}}function setMacFontSmoothingType(aaType){var $editor_holder=$("#editor-holder");if(aaType==="antialiased"){$editor_holder.removeClass("subpixel-aa")}else{$editor_holder.addClass("subpixel-aa")}}function getFontFamily(){return prefs.get("fontFamily")}function _adjustFontSize(adjustment){var fsStyle=prefs.get("fontSize"),validFont=/^[\d\.]+(px|em)$/;if(fsStyle.search(validFont)===-1){return false}var fsUnits=fsStyle.substring(fsStyle.length-2,fsStyle.length),delta=fsUnits==="px"?1:.1,fsOld=parseFloat(fsStyle.substring(0,fsStyle.length-2)),fsNew=fsOld+delta*adjustment,fsStr=fsNew+fsUnits;if(fsNew<MIN_FONT_SIZE*delta||fsNew>MAX_FONT_SIZE*delta){return false}setFontSize(fsStr);return true}function _handleIncreaseFontSize(){_adjustFontSize(1)}function _handleDecreaseFontSize(){_adjustFontSize(-1)}function _handleRestoreFontSize(){setFontSize(DEFAULT_FONT_SIZE+"px")}function _updateUI(){if(DocumentManager.getCurrentDocument()!==null){if(!CommandManager.get(Commands.VIEW_INCREASE_FONT_SIZE).getEnabled()){CommandManager.get(Commands.VIEW_INCREASE_FONT_SIZE).setEnabled(true);CommandManager.get(Commands.VIEW_DECREASE_FONT_SIZE).setEnabled(true);CommandManager.get(Commands.VIEW_RESTORE_FONT_SIZE).setEnabled(true)}}else{CommandManager.get(Commands.VIEW_INCREASE_FONT_SIZE).setEnabled(false);CommandManager.get(Commands.VIEW_DECREASE_FONT_SIZE).setEnabled(false);CommandManager.get(Commands.VIEW_RESTORE_FONT_SIZE).setEnabled(false)}}function init(){currFontFamily=prefs.get("fontFamily");_addDynamicFontFamily(currFontFamily);currFontSize=prefs.get("fontSize");_addDynamicFontSize(currFontSize);_updateUI()}function restoreFontSize(){var fsStyle=prefs.get("fontSize"),fsAdjustment=PreferencesManager.getViewState("fontSizeAdjustment");if(fsAdjustment){PreferencesManager.setViewState("fontSizeAdjustment");if(!fsStyle){fsStyle=DEFAULT_FONT_SIZE+fsAdjustment+"px";prefs.set("fontSize",fsStyle)}}if(fsStyle){_removeDynamicFontSize();_addDynamicFontSize(fsStyle)}}function restoreFonts(){setFontFamily(DEFAULT_FONT_FAMILY);setFontSize(DEFAULT_FONT_SIZE+"px")}function _getLinesInView(textHeight,scrollTop,editorHeight){var scrolledTop=scrollTop/textHeight,scrolledBottom=(scrollTop+editorHeight)/textHeight;var firstLine=Math.ceil(scrolledTop),lastLine=Math.floor(scrolledBottom)-1;return{first:firstLine,last:lastLine}}function _scrollLine(direction){var editor=EditorManager.getCurrentFullEditor(),textHeight=editor.getTextHeight(),cursorPos=editor.getCursorPos(),hasSelecction=editor.hasSelection(),inlineEditors=editor.getInlineWidgets(),scrollInfo=editor._codeMirror.getScrollInfo(),paddingTop=editor._getLineSpaceElement().offsetTop,editorHeight=scrollInfo.clientHeight,scrollTop=scrollInfo.top-paddingTop,removedScroll=paddingTop;var line,coords;inlineEditors.forEach(function(inlineEditor){line=editor._getInlineWidgetLineNumber(inlineEditor);coords=editor._codeMirror.charCoords({line:line,ch:0},"local");if(coords.top<scrollInfo.top){scrollTop-=inlineEditor.info.height;removedScroll+=inlineEditor.info.height}else if(coords.top+inlineEditor.info.height<scrollInfo.top+editorHeight){editorHeight-=inlineEditor.info.height}});var linesInView=_getLinesInView(textHeight,scrollTop,editorHeight);if(!hasSelecction){if(cursorPos.line<linesInView.first){editor.setCursorPos({line:linesInView.first+direction,ch:cursorPos.ch})}else if(cursorPos.line>linesInView.last){editor.setCursorPos({line:linesInView.last+direction,ch:cursorPos.ch})}else if(direction>0&&cursorPos.line===linesInView.first||direction<0&&cursorPos.line===linesInView.last){editor._codeMirror.moveV(direction,"line")}}var lines=linesInView.first+direction;editor.setScrollPos(scrollInfo.left,textHeight*lines+removedScroll)}function _handleScrollLineUp(){_scrollLine(-1)}function _handleScrollLineDown(){_scrollLine(1)}function _handleThemeSettings(){ThemeSettings.showDialog()}CommandManager.register(Strings.CMD_INCREASE_FONT_SIZE,Commands.VIEW_INCREASE_FONT_SIZE,_handleIncreaseFontSize);CommandManager.register(Strings.CMD_DECREASE_FONT_SIZE,Commands.VIEW_DECREASE_FONT_SIZE,_handleDecreaseFontSize);CommandManager.register(Strings.CMD_RESTORE_FONT_SIZE,Commands.VIEW_RESTORE_FONT_SIZE,_handleRestoreFontSize);CommandManager.register(Strings.CMD_SCROLL_LINE_UP,Commands.VIEW_SCROLL_LINE_UP,_handleScrollLineUp);CommandManager.register(Strings.CMD_SCROLL_LINE_DOWN,Commands.VIEW_SCROLL_LINE_DOWN,_handleScrollLineDown);CommandManager.register(Strings.CMD_THEMES,Commands.CMD_THEMES_OPEN_SETTINGS,_handleThemeSettings);prefs.definePreference("fontSize","string",DEFAULT_FONT_SIZE+"px",{description:Strings.DESCRIPTION_FONT_SIZE}).on("change",function(){setFontSize(prefs.get("fontSize"))});prefs.definePreference("fontFamily","string",DEFAULT_FONT_FAMILY,{description:Strings.DESCRIPTION_FONT_FAMILY}).on("change",function(){setFontFamily(prefs.get("fontFamily"))});if(brackets.platform==="mac"){prefs.definePreference("fontSmoothing","string","subpixel-antialiased",{description:Strings.DESCRIPTION_FONT_SMOOTHING,values:["subpixel-antialiased","antialiased"]}).on("change",function(){setMacFontSmoothingType(prefs.get("fontSmoothing"))})}MainViewManager.on("currentFileChange",_updateUI);AppInit.appReady(init);EventDispatcher.makeEventDispatcher(exports);exports.restoreFontSize=restoreFontSize;exports.restoreFonts=restoreFonts;exports.getFontSize=getFontSize;exports.setFontSize=setFontSize;exports.getFontFamily=getFontFamily;exports.setFontFamily=setFontFamily});define("text!htmlContent/main-view.html",[],function(){return'\x3c!--\n  Copyright (c) 2012 - present Adobe Systems Incorporated. All rights reserved.\n\n  Permission is hereby granted, free of charge, to any person obtaining a\n  copy of this software and associated documentation files (the "Software"),\n  to deal in the Software without restriction, including without limitation\n  the rights to use, copy, modify, merge, publish, distribute, sublicense,\n  and/or sell copies of the Software, and to permit persons to whom the\n  Software is furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n  DEALINGS IN THE SOFTWARE.\n--\x3e\n\n\n\x3c!--\n    HTML template for the body tag of index.html. It is rendered dynamically in\n    brackets.js with Mustache and localized with the i18n RequireJS plugin.\n\n    LOCALIZATION NOTE:\n    All display text for this file must use templating so the text can be localized.\n\n    English text goes in src/nls/root/strings.js. All other translations go in the strings.js file for\n    the specific local in the nls folder. If a translation is missing for a specific key English\n    is used as a fallback\n\n    Strings should be referenced using the double brackets syntax.\n    Example: {{keyname}}. Note, all strings are HTML escaped unless the form\n    {{&keyname}} is used.\n\n--\x3e\n\n    \x3c!-- Main UI: horizontal set of sidebar, main content vertical stack, and vertical toolbar --\x3e\n    <div class="main-view">\n        <div id="sidebar" class="sidebar panel quiet-scrollbars horz-resizable right-resizer collapsible" data-minsize="0" data-maxsize="80%" data-forceleft=".content">\n            <div class="working-set-splitview-btn btn-alt-quiet"></div>\n            <div class="working-set-option-btn btn-alt-quiet"></div>\n\n            <div id="working-set-list-container">\n\n            </div>\n            <div id="project-files-header">\n                <span id="project-title" class="title"></span>\n            </div>\n            <div id="project-files-container">\n                \x3c!-- This will contain a dynamically generated <ul> hierarchy at runtime --\x3e\n            </div>\n            \x3c!-- div id="project-size-info">\n                <div class="space-available">\n                    <div class="space-used-bar"></div>\n                </div>\n                <p class="space-used-summary">\n                    <strong class="space-used"></strong> of\n                    <strong class="max-project-size"></strong> used\n                </p>\n            </div --\x3e\n        </div>\n\n        \x3c!--\n            Vertical stack of titlebar (in-browser), editor, bottom panels, status bar\n                (status bar is injected later - see StatusBar.init()).\n            Note: all children must be in a vertical stack with heights explicitly set in a fixed\n                unit such as px (not percent/em/auto). If you change the height later, you must\n                call WorkspaceManager.recomputeLayout() each time. Otherwise the layout will\n                not get set correctly. Use WorkspaceManager to have this managed for you automatically.\n         --\x3e\n        <div class="content">\n            \x3c!-- Horizontal titlebar containing menus & filename when inBrowser --\x3e\n            <div id="titlebar" class="toolbar no-focus">\n                \x3c!-- Menu bar --\x3e\n                <ul class="nav" data-dropdown="dropdown">\n                </ul>\n\n                \x3c!-- Filename label --\x3e\n                <div class="title-wrapper">\n                    <span class="title"></span>&nbsp;<span class=\'dirty-dot\' style="visibility:hidden;">•</span>\n                </div>\n            </div>\n\n            <div id="editor-holder" {{#shouldAddAA}}class="subpixel-aa"{{/shouldAddAA}}>\n                \x3c!-- View Panes are programatically created here --\x3e\n            </div>\n\n            \x3c!-- Bottom panels and status bar are programmatically created here --\x3e\n\n        </div>\n\n        \x3c!-- Vertical toolbar docked to right --\x3e\n        <div id="main-toolbar" class="toolbar no-focus collapsible">\n            \x3c!-- Top-aligned buttons --\x3e\n            <div class="buttons">\n                <a id="toolbar-go-live" href="#"></a> \x3c!-- tooltip for this is set in JS --\x3e\n                <a id="toolbar-extension-manager" title="{{Strings.EXTENSION_MANAGER_TITLE}}" href="#"></a>\n                <a id="update-notification" title="{{Strings.UPDATE_NOTIFICATION_TOOLTIP}}" href="#" style="display: none"></a>\n            </div>\n            <div class="bottom-buttons"></div>\n        </div>\n\n        \x3c!-- Hack to ensure that the code editor\'s web font is loaded early. --\x3e\n        \x3c!-- For more info, see note in brackets.less for class .dummy-text, or issue 76 --\x3e\n        <div class="dummy-text">x</div>\n    </div>\n\n    \x3c!-- Modal Windows --\x3e\n    <div id="context-menu-bar">\n        <ul data-dropdown="dropdown"></ul>\n    </div>\n    <div id="codehint-menu-bar">\n        <ul data-dropdown="dropdown"></ul>\n    </div>\n    <div id="hidden-editors"></div>\n'});define("document/ChangedDocumentTracker",["require","exports","module","document/DocumentManager","project/ProjectManager"],function(require,exports,module){"use strict";var DocumentManager=require("document/DocumentManager"),ProjectManager=require("project/ProjectManager");function ChangedDocumentTracker(){var self=this;this._changedPaths={};this._windowFocus=true;this._addListener=this._addListener.bind(this);this._removeListener=this._removeListener.bind(this);this._onChange=this._onChange.bind(this);this._onWindowFocus=this._onWindowFocus.bind(this);DocumentManager.on("afterDocumentCreate",function(event,doc){if(ProjectManager.isWithinProject(doc.file.fullPath)){self._addListener(doc)}});DocumentManager.on("beforeDocumentDelete",function(event,doc){self._removeListener(doc)});$(window).focus(this._onWindowFocus)}ChangedDocumentTracker.prototype._addListener=function(doc){doc.on("change",this._onChange)};ChangedDocumentTracker.prototype._removeListener=function(doc){doc.off("change",this._onChange)};ChangedDocumentTracker.prototype._onWindowFocus=function(event,doc){this._windowFocus=true};ChangedDocumentTracker.prototype._onChange=function(event,doc){this._changedPaths[doc.file.fullPath]=true};ChangedDocumentTracker.prototype.reset=function(){this._changedPaths={};this._windowFocus=false};ChangedDocumentTracker.prototype.isPathChanged=function(path){return this._windowFocus||this._changedPaths[path]};ChangedDocumentTracker.prototype.getChangedPaths=function(){return $.makeArray(this._changedPaths)};module.exports=ChangedDocumentTracker});define("language/JSUtils",["require","exports","module","thirdparty/lodash","thirdparty/CodeMirror/lib/codemirror","utils/Async","document/DocumentManager","document/ChangedDocumentTracker","filesystem/FileSystem","file/FileUtils","utils/PerfUtils","utils/StringUtils"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var CodeMirror=require("thirdparty/CodeMirror/lib/codemirror"),Async=require("utils/Async"),DocumentManager=require("document/DocumentManager"),ChangedDocumentTracker=require("document/ChangedDocumentTracker"),FileSystem=require("filesystem/FileSystem"),FileUtils=require("file/FileUtils"),PerfUtils=require("utils/PerfUtils"),StringUtils=require("utils/StringUtils");var _changedDocumentTracker=new ChangedDocumentTracker;var _functionRegExp=/(function\s+([$_A-Za-z\u007F-\uFFFF][$_A-Za-z0-9\u007F-\uFFFF]*)\s*(\([^)]*\)))|(([$_A-Za-z\u007F-\uFFFF][$_A-Za-z0-9\u007F-\uFFFF]*)\s*[:=]\s*function\s*(\([^)]*\)))/g;function _findAllFunctionsInText(text){var results={},functionName,match;PerfUtils.markStart(PerfUtils.JSUTILS_REGEXP);while((match=_functionRegExp.exec(text))!==null){functionName=(match[2]||match[5]).trim();if(!Array.isArray(results[functionName])){results[functionName]=[]}results[functionName].push({offsetStart:match.index})}PerfUtils.addMeasurement(PerfUtils.JSUTILS_REGEXP);return results}function _getFunctionEndOffset(text,offsetStart){var mode=CodeMirror.getMode({},"javascript");var state=CodeMirror.startState(mode),stream,style,token;var curOffset=offsetStart,length=text.length,blockCount=0,lineStart;var foundStartBrace=false;function nextLine(){if(stream){curOffset++;if(curOffset>=length){return false}}lineStart=curOffset;var lineEnd=text.indexOf("\n",lineStart);if(lineEnd===-1){lineEnd=length}stream=new CodeMirror.StringStream(text.slice(curOffset,lineEnd));return true}function nextToken(){if(curOffset>=length){return false}if(stream){stream.start=stream.pos}while(!stream||stream.eol()){if(!nextLine()){return false}}style=mode.token(stream,state);token=stream.current();curOffset=lineStart+stream.pos;return true}while(nextToken()){if(style!=="comment"&&style!=="regexp"&&style!=="string"&&style!=="string-2"){if(token==="{"){foundStartBrace=true;blockCount++}else if(token==="}"){blockCount--}}if(foundStartBrace&&blockCount<=0){return curOffset}}return length}function _computeOffsets(doc,functionName,functions,rangeResults){var text=doc.getText(),lines=StringUtils.getLines(text);functions.forEach(function(funcEntry){if(!funcEntry.offsetEnd){PerfUtils.markStart(PerfUtils.JSUTILS_END_OFFSET);funcEntry.offsetEnd=_getFunctionEndOffset(text,funcEntry.offsetStart);funcEntry.lineStart=StringUtils.offsetToLineNum(lines,funcEntry.offsetStart);funcEntry.lineEnd=StringUtils.offsetToLineNum(lines,funcEntry.offsetEnd);PerfUtils.addMeasurement(PerfUtils.JSUTILS_END_OFFSET)}rangeResults.push({document:doc,name:functionName,lineStart:funcEntry.lineStart,lineEnd:funcEntry.lineEnd})})}function _readFile(fileInfo,result){DocumentManager.getDocumentForPath(fileInfo.fullPath).done(function(doc){var allFunctions=_findAllFunctionsInText(doc.getText());fileInfo.JSUtils={};fileInfo.JSUtils.functions=allFunctions;fileInfo.JSUtils.timestamp=doc.diskTimestamp;result.resolve({doc:doc,functions:allFunctions})}).fail(function(error){result.reject(error)})}function _shouldGetFromCache(fileInfo){var result=new $.Deferred,isChanged=_changedDocumentTracker.isPathChanged(fileInfo.fullPath);if(isChanged&&fileInfo.JSUtils){var doc=DocumentManager.getOpenDocumentForPath(fileInfo.fullPath);if(doc&&doc.isDirty){result.resolve(false)}else{var file=FileSystem.getFileForPath(fileInfo.fullPath);file.stat(function(err,stat){if(!err){result.resolve(fileInfo.JSUtils.timestamp.getTime()===stat.mtime.getTime())}else{result.reject(err)}})}}else{result.resolve(!isChanged&&fileInfo.JSUtils)}return result.promise()}function _getOffsetsForFunction(docEntries,functionName){var result=new $.Deferred,matchedDocuments=[],rangeResults=[];docEntries.forEach(function(docEntry){if(_.has(docEntry.functions,functionName)){var functionsInDocument=docEntry.functions[functionName];matchedDocuments.push({doc:docEntry.doc,fileInfo:docEntry.fileInfo,functions:functionsInDocument})}});Async.doInParallel(matchedDocuments,function(docEntry){var doc=docEntry.doc,oneResult=new $.Deferred;if(!doc){DocumentManager.getDocumentForPath(docEntry.fileInfo.fullPath).done(function(fetchedDoc){_computeOffsets(fetchedDoc,functionName,docEntry.functions,rangeResults)}).always(function(){oneResult.resolve()})}else{_computeOffsets(doc,functionName,docEntry.functions,rangeResults);oneResult.resolve()}return oneResult.promise()}).done(function(){result.resolve(rangeResults)});return result.promise()}function _getFunctionsForFile(fileInfo){var result=new $.Deferred;_shouldGetFromCache(fileInfo).done(function(useCache){if(useCache){result.resolve({fileInfo:fileInfo,functions:fileInfo.JSUtils.functions})}else{_readFile(fileInfo,result)}}).fail(function(err){result.reject(err)});return result.promise()}function _getFunctionsInFiles(fileInfos){var result=new $.Deferred,docEntries=[];PerfUtils.markStart(PerfUtils.JSUTILS_GET_ALL_FUNCTIONS);Async.doInParallel(fileInfos,function(fileInfo){var oneResult=new $.Deferred;_getFunctionsForFile(fileInfo).done(function(docInfo){docEntries.push(docInfo)}).always(function(error){oneResult.resolve()});return oneResult.promise()}).always(function(){_changedDocumentTracker.reset();PerfUtils.addMeasurement(PerfUtils.JSUTILS_GET_ALL_FUNCTIONS);result.resolve(docEntries)});return result.promise()}function findMatchingFunctions(functionName,fileInfos,keepAllFiles){var result=new $.Deferred,jsFiles=[];if(!keepAllFiles){jsFiles=fileInfos.filter(function(fileInfo){return FileUtils.getFileExtension(fileInfo.fullPath).toLowerCase()==="js"})}else{jsFiles=fileInfos}_getFunctionsInFiles(jsFiles).done(function(docEntries){_getOffsetsForFunction(docEntries,functionName).done(function(rangeResults){result.resolve(rangeResults)})});return result.promise()}function findAllMatchingFunctionsInText(text,searchName){var allFunctions=_findAllFunctionsInText(text);var result=[];var lines=text.split("\n");_.forEach(allFunctions,function(functions,functionName){if(functionName===searchName||searchName==="*"){functions.forEach(function(funcEntry){var endOffset=_getFunctionEndOffset(text,funcEntry.offsetStart);result.push({name:functionName,lineStart:StringUtils.offsetToLineNum(lines,funcEntry.offsetStart),lineEnd:StringUtils.offsetToLineNum(lines,endOffset)})})}});return result}PerfUtils.createPerfMeasurement("JSUTILS_GET_ALL_FUNCTIONS","Parallel file search across project");PerfUtils.createPerfMeasurement("JSUTILS_REGEXP","RegExp search for all functions");PerfUtils.createPerfMeasurement("JSUTILS_END_OFFSET","Find end offset for a single matched function");exports.findAllMatchingFunctionsInText=findAllMatchingFunctionsInText;exports._getFunctionEndOffset=_getFunctionEndOffset;exports.findMatchingFunctions=findMatchingFunctions});define("text!htmlContent/working-set.html",[],function(){return'<div class="working-set-view" id="{{id}}">\n    <div class="working-set-header"><span class="working-set-header-title">{{WORKING_FILES}}</span></div>\n    <div class="open-files-container">\n        \x3c!-- This will contain runtime-generated <li>\'s for each file in the working set --\x3e\n        <ul>\n        </ul>\n    </div>\n<div>'});define("project/WorkingSetView",["require","exports","module","utils/AppInit","document/DocumentManager","view/MainViewManager","command/CommandManager","command/Commands","command/Menus","project/FileViewController","utils/ViewUtils","utils/KeyEvent","text!htmlContent/working-set.html","strings","thirdparty/lodash","thirdparty/mustache/mustache"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),DocumentManager=require("document/DocumentManager"),MainViewManager=require("view/MainViewManager"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),Menus=require("command/Menus"),FileViewController=require("project/FileViewController"),ViewUtils=require("utils/ViewUtils"),KeyEvent=require("utils/KeyEvent"),paneListTemplate=require("text!htmlContent/working-set.html"),Strings=require("strings"),_=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache");var _views={};var _iconProviders=[];var _classProviders=[];var $workingFilesContainer;var LEFT_BUTTON=1,MIDDLE_BUTTON=2;var _FILE_KEY="file";var NOMANSLAND="nomansland",NOMOVEITEM="nomoveitem",ABOVEITEM="aboveitem",BELOWITEM="belowitem",TOPSCROLL="topscroll",BOTSCROLL="bottomscroll",BELOWVIEW="belowview",ABOVEVIEW="aboveview";var _DRAG_MOVE_DETECTION_START=3;function refresh(rebuild){_.forEach(_views,function(view){var top=view.$openFilesContainer.scrollTop();if(rebuild){view._rebuildViewList(true)}else{view._redraw()}view.$openFilesContainer.scrollTop(top)})}function syncSelectionIndicator(){_.forEach(_views,function(view){view.$openFilesContainer.triggerHandler("scroll")})}function _updateListItemSelection(listItem,selectedFile){var shouldBeSelected=selectedFile&&$(listItem).data(_FILE_KEY).fullPath===selectedFile.fullPath;ViewUtils.toggleClass($(listItem),"selected",shouldBeSelected)}function _isOpenAndDirty(file){var docIfOpen=DocumentManager.getOpenDocumentForPath(file.fullPath);return docIfOpen&&docIfOpen.isDirty}function _hasSelectionFocus(){return FileViewController.getFileSelectionFocus()===FileViewController.WORKING_SET_VIEW}function _suppressSortRedrawForAllViews(suppress){_.forEach(_views,function(view){view.suppressSortRedraw=suppress})}function _suppressScrollShadowsOnAllViews(disable){_.forEach(_views,function(view){if(disable){ViewUtils.removeScrollerShadow(view.$openFilesContainer[0],null)}else if(view.$openFilesContainer[0].scrollHeight>view.$openFilesContainer[0].clientHeight){ViewUtils.addScrollerShadow(view.$openFilesContainer[0],null,true)}})}function _deactivateAllViews(deactivate){_.forEach(_views,function(view){if(deactivate){if(view.$el.hasClass("active")){view.$el.removeClass("active").addClass("reactivate");view.$openFilesList.trigger("selectionHide")}}else{if(view.$el.hasClass("reactivate")){view.$el.removeClass("reactivate").addClass("active")}view._fireSelectionChanged(false)}})}function _viewFromEl($el){if(!$el.hasClass("working-set-view")){$el=$el.parents(".working-set-view")}var id=$el.attr("id").match(/working\-set\-list\-([\w]+[\w\d\-\.\:\_]*)/).pop();return _views[id]}function _makeDraggable($el){var interval,sourceFile=$el.data(_FILE_KEY);function endScroll($el){if(interval){window.clearInterval(interval);interval=undefined}}function scroll($container,$el,dir,callback){var container=$container[0],maxScroll=container.scrollHeight-container.clientHeight;if(maxScroll&&dir&&!interval){interval=window.setInterval(function(){var scrollTop=$container.scrollTop();if(dir===-1&&scrollTop<=0||dir===1&&scrollTop>=maxScroll){endScroll($el)}else{$container.scrollTop(scrollTop+7*dir);callback($el)}},50)}}$el.mousedown(function(e){var scrollDir=0,dragged=false,startPageY=e.pageY,lastPageY=startPageY,lastHit={where:NOMANSLAND},tryClosing=$(e.target).hasClass("can-close"),currentFile=MainViewManager.getCurrentlyViewedFile(),activePaneId=MainViewManager.getActivePaneId(),activeView=_views[activePaneId],sourceView=_viewFromEl($el),currentView=sourceView,startingIndex=$el.index(),itemHeight,offset,$copy,$ghost,draggingCurrentFile;function initDragging(){itemHeight=$el.height();offset=$el.offset();$copy=$el.clone();$ghost=$("<div class='open-files-container wsv-drag-ghost' style='overflow: hidden; display: inline-block;'>").append($("<ul>").append($copy).css("padding","0"));draggingCurrentFile=$el.hasClass("selected")&&sourceView.paneId===activePaneId;if(draggingCurrentFile&&_hasSelectionFocus()){$ghost.addClass("dragging-current-file")}$ghost.css({top:offset.top,left:offset.left,width:$el.width()+8});$ghost.appendTo($("body"))}function updateContext(hit){currentView=_viewFromEl(hit.which)}function hitTest(e){var pageY=$ghost.offset().top,direction=e.pageY-lastPageY,result={where:NOMANSLAND},lookCount=0,hasScroller=false,onTopScroller=false,onBottomScroller=false,$container,$hit,$item,$view,gTop,gHeight,gBottom,deltaY,containerOffset,scrollerTopArea,scrollerBottomArea;if(e.pageX<0||e.pageX>$workingFilesContainer.width()){return result}do{$ghost.hide();$hit=$(window.document.elementFromPoint(e.pageX,pageY));$view=$hit.closest(".working-set-view");$item=$hit.closest("#working-set-list-container li");$ghost.show();$container=$view.children(".open-files-container");if($container.length){containerOffset=$container.offset();scrollerTopArea={top:containerOffset.top-14,bottom:containerOffset.top+7};scrollerBottomArea={top:containerOffset.top+$container.height()-7,bottom:containerOffset.top+$container.height()+14}}if($item[0]===$el[0]){if(direction>0){$item=$item.next();if($item.length){pageY+=itemHeight}}else{$item=$item.prev();if($item.length){pageY-=itemHeight}}}if(!$item.length){pageY+=itemHeight}}while(!$item.length&&++lookCount<2);if($item.length===0&&($hit.is("a")||$hit.is("span"))){$item=$hit.parents("#working-set-list-container li")}gTop=$ghost.offset().top;gHeight=$ghost.height();gBottom=gTop+gHeight
;deltaY=pageY-e.pageY;hasScroller=$item.length&&$container.length&&$container[0].scrollHeight>$container[0].clientHeight;onTopScroller=hasScroller&&scrollerTopArea&&(gTop>=scrollerTopArea.top&&gTop<=scrollerTopArea.bottom||gBottom>=scrollerTopArea.top&&gBottom<=scrollerTopArea.bottom);onBottomScroller=hasScroller&&scrollerBottomArea&&(gTop>=scrollerBottomArea.top&&gTop<=scrollerBottomArea.bottom||gBottom>=scrollerBottomArea.top&&gBottom<=scrollerBottomArea.bottom);function mouseIsInTopHalf($elem){var top=$elem.offset().top,height=$elem.height();return pageY<top+height/2}function ghostIsAbove($elem){var top=$elem.offset().top,checkVal=gTop;if(direction>0){checkVal+=gHeight}return checkVal<=top+itemHeight/2}function ghostIsBelow($elem){var top=$elem.offset().top,checkVal=gTop;if(direction>0){checkVal+=gHeight}return checkVal>=top+itemHeight/2}function elIsClearBelow($a,$b){var aTop=$a.offset().top,bTop=$b.offset().top;return aTop>=bTop+$b.height()}function draggingBelowWorkingSet(){return $hit.length===0||elIsClearBelow($hit,$workingFilesContainer)}function targetIsContainer(){return $hit.is(".working-set-view")||$hit.is(".open-files-container")||$hit.is("ul")&&$hit.parent().is(".open-files-container")}function targetIsNoDrop(){return $hit.is(".working-set-header")||$hit.is(".working-set-header-title")||$hit.is(".scroller-shadow")||$hit.is(".scroller-shadow")}function findViewFor($elem){if($elem.is(".working-set-view")){return $elem}return $elem.parents(".working-set-view")}if($item.length){if(onTopScroller&&(direction<=0||lastHit.where===TOPSCROLL)){result={where:TOPSCROLL,which:$item}}else if(onBottomScroller&&(direction>=0||lastHit.where===BOTSCROLL)){result={where:BOTSCROLL,which:$item}}else if(ghostIsAbove($item)){result={where:ABOVEITEM,which:$item}}else if(ghostIsBelow($item)){result={where:BELOWITEM,which:$item}}}else if($el.parent()[0]!==$hit[0]){$view=$el.parents(".working-set-view");if(targetIsNoDrop()){if(direction<0){if(ghostIsBelow($hit)){return result}}else{return result}}if(draggingBelowWorkingSet()){return result}if(targetIsContainer()){if(mouseIsInTopHalf($hit)){result={where:ABOVEVIEW,which:findViewFor($hit)}}else{result={where:BELOWVIEW,which:findViewFor($hit)}}return result}var $prev=$view.prev(),$next=$view.next();if(direction<0){if($prev.length){result={where:BELOWVIEW,which:$prev}}}else if(direction>0){if($next.length){result={where:ABOVEVIEW,which:$next}}}else if(mouseIsInTopHalf($view)){result={where:ABOVEVIEW,which:$view}}else{result={where:BELOWVIEW,which:$view}}}else{result={where:NOMOVEITEM,which:$hit}}return result}$(window).on("mousemove.wsvdragging",function(e){function drag(e){if(!dragged){initDragging();_suppressSortRedrawForAllViews(true);_suppressScrollShadowsOnAllViews(true);_deactivateAllViews(true);$workingFilesContainer.addClass("dragging");if(!draggingCurrentFile&&FileViewController.getFileSelectionFocus()===FileViewController.WORKING_SET_VIEW){$(activeView._findListItemFromFile(currentFile)).addClass("drag-show-as-selected")}dragged=true}scrollDir=0;lastHit=hitTest(e);switch(lastHit.where){case NOMANSLAND:case BELOWVIEW:case ABOVEVIEW:$el.css({opacity:".75"});$ghost.css("opacity",".25");break;default:$el.css({opacity:".0001"});$ghost.css("opacity","");break}switch(lastHit.where){case TOPSCROLL:case ABOVEITEM:if(lastHit.where===TOPSCROLL){scrollDir=-1}$el.insertBefore(lastHit.which);updateContext(lastHit);break;case BOTSCROLL:case BELOWITEM:if(lastHit.where===BOTSCROLL){scrollDir=1}$el.insertAfter(lastHit.which);updateContext(lastHit);break;case BELOWVIEW:$el.appendTo(lastHit.which.find("ul"));updateContext(lastHit);break;case ABOVEVIEW:$el.prependTo(lastHit.which.find("ul"));updateContext(lastHit);break}if(scrollDir){scroll(currentView.$openFilesContainer,$el,scrollDir,function(){drag(e)})}else{endScroll($el)}}if($ghost){$ghost.css("top",$ghost.offset().top+(e.pageY-lastPageY))}if(dragged||Math.abs(e.pageY-startPageY)>_DRAG_MOVE_DETECTION_START){drag(e)}lastPageY=e.pageY;e.stopPropagation()});function scrollCurrentViewToBottom(){var $container=currentView.$openFilesContainer,container=$container[0],maxScroll=container.scrollHeight-container.clientHeight;if(maxScroll){$container.scrollTop(maxScroll)}}function preDropCleanup(){window.onmousewheel=window.document.onmousewheel=null;$(window).off(".wsvdragging");if(dragged){$workingFilesContainer.removeClass("dragging");$workingFilesContainer.find(".drag-show-as-selected").removeClass("drag-show-as-selected");endScroll($el);_deactivateAllViews(false);$ghost.remove();$el.css("opacity","");if($el.next().length===0){scrollCurrentViewToBottom()}}}function postDropCleanup(noRefresh){if(dragged){_suppressSortRedrawForAllViews(false);_suppressScrollShadowsOnAllViews(false)}if(!noRefresh){refresh(true)}MainViewManager.focusActivePane()}function drop(){preDropCleanup();if(sourceView.paneId===currentView.paneId&&startingIndex===$el.index()){if(!dragged){if(tryClosing||e.which===MIDDLE_BUTTON){CommandManager.execute(Commands.FILE_CLOSE,{file:sourceFile,paneId:sourceView.paneId}).always(function(){postDropCleanup()})}else{FileViewController.setFileViewFocus(FileViewController.WORKING_SET_VIEW);CommandManager.execute(Commands.FILE_OPEN,{fullPath:sourceFile.fullPath,paneId:currentView.paneId}).always(function(){postDropCleanup()})}}else{postDropCleanup(true)}}else if(sourceView.paneId===currentView.paneId){MainViewManager._moveWorkingSetItem(sourceView.paneId,startingIndex,$el.index());postDropCleanup()}else{if(!MainViewManager._getPane(currentView.paneId).getViewForPath(sourceFile.fullPath)){MainViewManager._moveView(sourceView.paneId,currentView.paneId,sourceFile,$el.index()).always(function(){if(draggingCurrentFile){CommandManager.execute(Commands.FILE_OPEN,{fullPath:sourceFile.fullPath,paneId:currentView.paneId}).always(function(){postDropCleanup()})}else{postDropCleanup()}})}else{postDropCleanup()}}}e.preventDefault();$(window).on("mouseup.wsvdragging",function(){drop()});$(window).on("keydown.wsvdragging",function(e){if(e.keyCode===KeyEvent.DOM_VK_ESCAPE){preDropCleanup();postDropCleanup();e.stopPropagation()}});window.onmousewheel=window.document.onmousewheel=function(e){e.preventDefault()};Menus.closeAll();if(e.which!==LEFT_BUTTON||e.ctrlKey&&brackets.platform==="mac"){drop();return}e.stopPropagation()})}function WorkingSetView($container,paneId){var id="working-set-list-"+paneId;this.$header=null;this.$openFilesList=null;this.$container=$container;this.$el=$container.append(Mustache.render(paneListTemplate,_.extend({id:id},Strings))).find("#"+id);this.suppressSortRedraw=false;this.paneId=paneId;this.init()}WorkingSetView.prototype._updateVisibility=function(){var fileList=MainViewManager.getWorkingSet(this.paneId);if(MainViewManager.getPaneCount()===1&&(!fileList||fileList.length===0)){this.$openFilesContainer.hide();this.$workingSetListViewHeader.hide()}else{this.$openFilesContainer.show();this.$workingSetListViewHeader.show();this._checkForDuplicatesInWorkingTree()}};WorkingSetView.prototype._handlePaneLayoutChange=function(){var $titleEl=this.$el.find(".working-set-header-title"),title=Strings.WORKING_FILES;this._updateVisibility();if(MainViewManager.getPaneCount()>1){title=MainViewManager.getPaneTitle(this.paneId)}$titleEl.text(title)};WorkingSetView.prototype._findListItemFromFile=function(file){var result=null;if(file){var items=this.$openFilesContainer.find("ul").children();items.each(function(){var $listItem=$(this);if($listItem.data(_FILE_KEY).fullPath===file.fullPath){result=$listItem;return false}})}return result};WorkingSetView.prototype._makeEventName=function(name){return name+".paneList"+this.paneId};WorkingSetView.prototype._scrollSelectedFileIntoView=function(){if(!_hasSelectionFocus()){return}var file=MainViewManager.getCurrentlyViewedFile(this.paneId);var $selectedFile=this._findListItemFromFile(file);if(!$selectedFile){return}ViewUtils.scrollElementIntoView(this.$openFilesContainer,$selectedFile,false)};WorkingSetView.prototype._fireSelectionChanged=function(scrollIntoView){var reveal=scrollIntoView===undefined||scrollIntoView===true;if(reveal){this._scrollSelectedFileIntoView()}if(_hasSelectionFocus()&&this.$el.hasClass("active")){this.$openFilesList.trigger("selectionChanged",reveal)}else{this.$openFilesList.trigger("selectionHide")}this.$openFilesContainer.trigger("contentChanged")};WorkingSetView.prototype._adjustForScrollbars=function(){if(this.$openFilesContainer[0].scrollHeight>this.$openFilesContainer[0].clientHeight){if(!this.$openFilesContainer.hasClass("vertical-scroll")){this.$openFilesContainer.addClass("vertical-scroll")}}else{this.$openFilesContainer.removeClass("vertical-scroll")}};WorkingSetView.prototype._addDirectoryNamesToWorkingTreeFiles=function(filesList){if(filesList.length<=1){return}var displayPaths=ViewUtils.getDirNamesForDuplicateFiles(filesList);this.$openFilesContainer.find("ul > li").each(function(){var $li=$(this);var io=filesList.indexOf($li.data(_FILE_KEY));if(io!==-1){var dirSplit=displayPaths[io].split("/");if(dirSplit.length>3){displayPaths[io]=dirSplit[0]+"/…/"+dirSplit[dirSplit.length-1]}var $dir=$("<span class='directory'/>").html(" &mdash; "+displayPaths[io]);$li.children("a").append($dir)}})};WorkingSetView.prototype._checkForDuplicatesInWorkingTree=function(){var self=this,map={},fileList=MainViewManager.getWorkingSet(MainViewManager.ALL_PANES);this.$openFilesContainer.find("ul > li > a > span.directory").remove();fileList.forEach(function(file){var displayHtml=ViewUtils.getFileEntryDisplay(file);if(!map[displayHtml]){map[displayHtml]=[]}map[displayHtml].push(file)});_.forEach(map,function(value){if(value.length>1){self._addDirectoryNamesToWorkingTreeFiles(value)}})};WorkingSetView.prototype._redraw=function(){this._updateViewState();this._updateVisibility();this._updateItemClasses();this._adjustForScrollbars();this._fireSelectionChanged()};WorkingSetView.prototype._handleActivePaneChange=function(){this._redraw()};WorkingSetView.prototype._updateFileStatusIcon=function(listElement,isDirty,canClose){var $fileStatusIcon=listElement.find(".file-status-icon"),showIcon=isDirty||canClose;if(!showIcon&&$fileStatusIcon.length!==0){$fileStatusIcon.remove();$fileStatusIcon=null}else if(showIcon&&$fileStatusIcon.length===0){$fileStatusIcon=$("<div class='file-status-icon'></div>").prependTo(listElement)}if($fileStatusIcon){ViewUtils.toggleClass($fileStatusIcon,"dirty",isDirty);ViewUtils.toggleClass($fileStatusIcon,"can-close",canClose)}};WorkingSetView.prototype._updateItemClasses=function(){if(_classProviders.length>0){this.$openFilesContainer.find("ul > li").each(function(){var $li=$(this),file=$li.data(_FILE_KEY),data={fullPath:file.fullPath,name:file.name,isFile:file.isFile};$li.removeAttr("class");_classProviders.forEach(function(provider){$li.addClass(provider(data))})})}};WorkingSetView.prototype._createNewListItem=function(file){var self=this,selectedFile=MainViewManager.getCurrentlyViewedFile(this.paneId),data={fullPath:file.fullPath,name:file.name,isFile:file.isFile};var $link=$("<a href='#'></a>").html(ViewUtils.getFileEntryDisplay(file));_iconProviders.forEach(function(provider){var icon=provider(data);if(icon){$link.prepend($(icon))}});var $newItem=$("<li></li>").append($link).data(_FILE_KEY,file);this.$openFilesContainer.find("ul").append($newItem);_classProviders.forEach(function(provider){$newItem.addClass(provider(data))});this._updateFileStatusIcon($newItem,_isOpenAndDirty(file),false);_updateListItemSelection($newItem,selectedFile);_makeDraggable($newItem);$newItem.hover(function(){self._updateFileStatusIcon($(this),_isOpenAndDirty(file),true)},function(){self._updateFileStatusIcon($(this),_isOpenAndDirty(file),false)})};WorkingSetView.prototype._rebuildViewList=function(forceRedraw){var self=this,fileList=MainViewManager.getWorkingSet(this.paneId);this.$openFilesContainer.find("ul").empty();fileList.forEach(function(file){self._createNewListItem(file)});if(forceRedraw){self._redraw()}};WorkingSetView.prototype._updateViewState=function(){var paneId=MainViewManager.getActivePaneId();if(_hasSelectionFocus()&&paneId===this.paneId){this.$el.addClass("active");this.$openFilesContainer.addClass("active")}else{this.$el.removeClass("active");this.$openFilesContainer.removeClass("active")}};WorkingSetView.prototype._updateListSelection=function(){var file=MainViewManager.getCurrentlyViewedFile(this.paneId);this._updateViewState();this.$openFilesContainer.find("ul").children().each(function(){_updateListItemSelection(this,file)});this._scrollSelectedFileIntoView();this._fireSelectionChanged()};WorkingSetView.prototype._handleFileAdded=function(e,fileAdded,index,paneId){if(paneId===this.paneId){this._rebuildViewList(true)}else{this._checkForDuplicatesInWorkingTree()}};WorkingSetView.prototype._handleFileListAdded=function(e,files,paneId){if(paneId===this.paneId){this._rebuildViewList(true)}else{this._checkForDuplicatesInWorkingTree()}};WorkingSetView.prototype._handleFileRemoved=function(e,file,suppressRedraw,paneId){if(paneId===this.paneId){if(!suppressRedraw){var $listItem=this._findListItemFromFile(file);if($listItem){var $nextListItem=$listItem.next();if($nextListItem&&$nextListItem.length>0){var canClose=$listItem.find(".can-close").length===1;var isDirty=_isOpenAndDirty($nextListItem.data(_FILE_KEY));this._updateFileStatusIcon($nextListItem,isDirty,canClose)}$listItem.remove()}this._redraw()}}else{this._checkForDuplicatesInWorkingTree()}};WorkingSetView.prototype._handleRemoveList=function(e,files,paneId){var self=this;if(paneId===this.paneId){files.forEach(function(file){var $listItem=self._findListItemFromFile(file);if($listItem){$listItem.remove()}});this._redraw()}else{this._checkForDuplicatesInWorkingTree()}};WorkingSetView.prototype._handleWorkingSetSort=function(e,paneId){if(!this.suppressSortRedraw&&paneId===this.paneId){this._rebuildViewList(true)}};WorkingSetView.prototype._handleDirtyFlagChanged=function(e,doc){var listItem=this._findListItemFromFile(doc.file);if(listItem){var canClose=$(listItem).find(".can-close").length===1;this._updateFileStatusIcon(listItem,doc.isDirty,canClose)}};WorkingSetView.prototype._handleWorkingSetUpdate=function(e,paneId){if(this.paneId===paneId){this._rebuildViewList(true)}else{this._checkForDuplicatesInWorkingTree()}};WorkingSetView.prototype.init=function(){this.$openFilesContainer=this.$el.find(".open-files-container");this.$workingSetListViewHeader=this.$el.find(".working-set-header");this.$openFilesList=this.$el.find("ul");MainViewManager.on(this._makeEventName("workingSetAdd"),_.bind(this._handleFileAdded,this));MainViewManager.on(this._makeEventName("workingSetAddList"),_.bind(this._handleFileListAdded,this));MainViewManager.on(this._makeEventName("workingSetRemove"),_.bind(this._handleFileRemoved,this));MainViewManager.on(this._makeEventName("workingSetRemoveList"),_.bind(this._handleRemoveList,this));MainViewManager.on(this._makeEventName("workingSetSort"),_.bind(this._handleWorkingSetSort,this));MainViewManager.on(this._makeEventName("activePaneChange"),_.bind(this._handleActivePaneChange,this));MainViewManager.on(this._makeEventName("paneLayoutChange"),_.bind(this._handlePaneLayoutChange,this));MainViewManager.on(this._makeEventName("workingSetUpdate"),_.bind(this._handleWorkingSetUpdate,this));DocumentManager.on(this._makeEventName("dirtyFlagChange"),_.bind(this._handleDirtyFlagChanged,this));FileViewController.on(this._makeEventName("documentSelectionFocusChange")+" "+this._makeEventName("fileViewFocusChange"),_.bind(this._updateListSelection,this));ViewUtils.addScrollerShadow(this.$openFilesContainer[0],null,true);ViewUtils.sidebarList(this.$openFilesContainer);this.$openFilesContainer.css("overflow-x","hidden");this.$openFilesContainer.on("contextmenu.workingSetView",function(e){Menus.getContextMenu(Menus.ContextMenuIds.WORKING_SET_CONTEXT_MENU).open(e)});this._redraw()};WorkingSetView.prototype.destroy=function(){ViewUtils.removeScrollerShadow(this.$openFilesContainer[0],null);this.$openFilesContainer.off(".workingSetView");this.$el.remove();MainViewManager.off(this._makeEventName(""));DocumentManager.off(this._makeEventName(""));FileViewController.off(this._makeEventName(""))};MainViewManager.on("paneDestroy",function(e,paneId){var view=_views[paneId];delete _views[view.paneId];view.destroy()});function createWorkingSetViewForPane($container,paneId){var view=_views[paneId];if(!view){view=new WorkingSetView($container,paneId);_views[view.paneId]=view}}function addIconProvider(callback){if(!callback){return}_iconProviders.push(callback);refresh(true)}function addClassProvider(callback){if(!callback){return}_classProviders.push(callback);refresh(true)}AppInit.htmlReady(function(){$workingFilesContainer=$("#working-set-list-container")});function useIconProviders(data,$element){_iconProviders.forEach(function(provider){var icon=provider(data);if(icon){$element.prepend($(icon))}})}function useClassProviders(data,$element){_classProviders.forEach(function(provider){$element.addClass(provider(data))})}exports.createWorkingSetViewForPane=createWorkingSetViewForPane;exports.refresh=refresh;exports.addIconProvider=addIconProvider;exports.addClassProvider=addClassProvider;exports.syncSelectionIndicator=syncSelectionIndicator;exports.useIconProviders=useIconProviders;exports.useClassProviders=useClassProviders});define("search/FindUtils",["require","exports","module","utils/Async","document/DocumentManager","view/MainViewManager","filesystem/FileSystem","file/FileUtils","project/ProjectManager","preferences/PreferencesManager","utils/EventDispatcher","strings","utils/StringUtils","thirdparty/lodash"],function(require,exports,module){"use strict";var Async=require("utils/Async"),DocumentManager=require("document/DocumentManager"),MainViewManager=require("view/MainViewManager"),FileSystem=require("filesystem/FileSystem"),FileUtils=require("file/FileUtils"),ProjectManager=require("project/ProjectManager"),PreferencesManager=require("preferences/PreferencesManager"),EventDispatcher=require("utils/EventDispatcher"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),_=require("thirdparty/lodash");var nodeSearchDisabled=false,instantSearchDisabled=false,indexingInProgress=false,nodeSearchCount=0,collapseResults=false;EventDispatcher.makeEventDispatcher(exports);PreferencesManager.definePreference("findInFiles.nodeSearch","boolean",true,{description:Strings.DESCRIPTION_FIND_IN_FILES_NODE});PreferencesManager.definePreference("findInFiles.instantSearch","boolean",true,{description:Strings.DESCRIPTION_FIND_IN_FILES_INSTANT});function _prefNodeSearchDisabled(){return!PreferencesManager.get("findInFiles.nodeSearch")}function _prefInstantSearchDisabled(){return!PreferencesManager.get("findInFiles.instantSearch")}function parseDollars(replaceWith,match){replaceWith=replaceWith.replace(/(\$+)(\d{1,2}|&)/g,function(whole,dollars,index){if(dollars.length%2===1){if(index==="&"){return dollars.substr(1)+(match[0]||"")}else{var parsedIndex=parseInt(index,10);if(parsedIndex!==0){return dollars.substr(1)+(match[parsedIndex]||"")}}}return whole});replaceWith=replaceWith.replace(/\$\$/g,"$");return replaceWith}function _doReplaceInDocument(doc,matchInfo,replaceText,isRegexp){if(doc.diskTimestamp.getTime()!==matchInfo.timestamp.getTime()){return(new $.Deferred).reject(exports.ERROR_FILE_CHANGED).promise()}doc.batchOperation(function(){matchInfo.matches.reverse().forEach(function(match){if(match.isChecked){doc.replaceRange(isRegexp?parseDollars(replaceText,match.result):replaceText,match.start,match.end)}})});return(new $.Deferred).resolve().promise()}function _doReplaceOnDisk(fullPath,matchInfo,replaceText,isRegexp){var file=FileSystem.getFileForPath(fullPath);return DocumentManager.getDocumentText(file,true).then(function(contents,timestamp,lineEndings){if(timestamp.getTime()!==matchInfo.timestamp.getTime()){return(new $.Deferred).reject(exports.ERROR_FILE_CHANGED).promise()}var result=[],lastIndex=0;matchInfo.matches.forEach(function(match){if(match.isChecked){result.push(contents.slice(lastIndex,match.startOffset));result.push(isRegexp?parseDollars(replaceText,match.result):replaceText);lastIndex=match.endOffset}});result.push(contents.slice(lastIndex));var newContents=result.join("");if(lineEndings===FileUtils.LINE_ENDINGS_CRLF){newContents=newContents.replace(/\n/g,"\r\n")}return Async.promisify(file,"write",newContents)})}function _doReplaceInOneFile(fullPath,matchInfo,replaceText,options){var doc=DocumentManager.getOpenDocumentForPath(fullPath);options=options||{};if(!doc&&(options.forceFilesOpen||MainViewManager.findInWorkingSet(MainViewManager.ALL_PANES,fullPath)!==-1)){return DocumentManager.getDocumentForPath(fullPath).then(function(newDoc){return _doReplaceInDocument(newDoc,matchInfo,replaceText,options.isRegexp)})}else if(doc){return _doReplaceInDocument(doc,matchInfo,replaceText,options.isRegexp)}else{return _doReplaceOnDisk(fullPath,matchInfo,replaceText,options.isRegexp)}}function hasCheckedMatches(result){return result.matches.some(function(match){return match.isChecked})}function performReplacements(results,replaceText,options){return Async.doInParallel_aggregateErrors(Object.keys(results),function(fullPath){return _doReplaceInOneFile(fullPath,results[fullPath],replaceText,options)}).done(function(){if(options&&options.forceFilesOpen){var doc=DocumentManager.getCurrentDocument();if(!doc||!results[doc.file.fullPath]||!hasCheckedMatches(results[doc.file.fullPath])){var sortedPaths=Object.keys(results).sort(FileUtils.comparePaths),firstPath=_.find(sortedPaths,function(path){return hasCheckedMatches(results[path])});if(firstPath){var newDoc=DocumentManager.getOpenDocumentForPath(firstPath);if(newDoc){MainViewManager._edit(MainViewManager.ACTIVE_PANE,newDoc)}}}}})}function labelForScope(scope){if(scope){return StringUtils.format(Strings.FIND_IN_FILES_SCOPED,StringUtils.breakableUrl(ProjectManager.makeProjectRelativeIfPossible(scope.fullPath)))}else{return Strings.FIND_IN_FILES_NO_SCOPE}}function parseQueryInfo(queryInfo){var queryExpr;if(!queryInfo||!queryInfo.query){return{empty:true}}var flags="gm";if(!queryInfo.isCaseSensitive){flags+="i"}if(queryInfo.isRegexp){try{queryExpr=new RegExp(queryInfo.query,flags)}catch(e){return{valid:false,error:e.message}}}else{queryExpr=new RegExp(StringUtils.regexEscape(queryInfo.query),flags)}return{valid:true,queryExpr:queryExpr}}function prioritizeOpenFile(files,firstFile){var workingSetFiles=MainViewManager.getWorkingSet(MainViewManager.ALL_PANES),workingSetFileFound={},fileSetWithoutWorkingSet=[],startingWorkingFileSet=[],propertyName="",i=0;firstFile=firstFile||"";for(i=0;i<workingSetFiles.length;i++){workingSetFileFound[workingSetFiles[i].fullPath]=false}fileSetWithoutWorkingSet=files.filter(function(key){if(workingSetFileFound[key]!==undefined){workingSetFileFound[key]=true;return false}return true});if(workingSetFileFound[firstFile]===true){startingWorkingFileSet.push(firstFile);workingSetFileFound[firstFile]=false}for(propertyName in workingSetFileFound){if(workingSetFileFound.hasOwnProperty(propertyName)&&workingSetFileFound[propertyName]){startingWorkingFileSet.push(propertyName)}}return startingWorkingFileSet.concat(fileSetWithoutWorkingSet)}function getOpenFilePath(){var currentDoc=DocumentManager.getCurrentDocument();return currentDoc?currentDoc.file.fullPath:null}function setInstantSearchDisabled(disable){instantSearchDisabled=disable}function isInstantSearchDisabled(){return _prefNodeSearchDisabled()||_prefInstantSearchDisabled()||nodeSearchDisabled||instantSearchDisabled}function setNodeSearchDisabled(disable){if(disable){setInstantSearchDisabled(disable)}nodeSearchDisabled=disable}function isNodeSearchDisabled(){return _prefNodeSearchDisabled()||nodeSearchDisabled}function isNodeSearchInProgress(){if(nodeSearchCount===0){return false}else{return true}}function notifyFileFiltersChanged(){exports.trigger(exports.SEARCH_FILE_FILTERS_CHANGED)}function notifySearchScopeChanged(){exports.trigger(exports.SEARCH_SCOPE_CHANGED)}function notifyNodeSearchStarted(){nodeSearchCount++}function notifyNodeSearchFinished(){nodeSearchCount--}function notifyIndexingStarted(){indexingInProgress=true;exports.trigger(exports.SEARCH_INDEXING_STARTED)}function notifyIndexingFinished(){indexingInProgress=false;exports.trigger(exports.SEARCH_INDEXING_FINISHED)}function isIndexingInProgress(){return indexingInProgress}function setCollapseResults(collapse){collapseResults=collapse;exports.trigger(exports.SEARCH_COLLAPSE_RESULTS)}function isCollapsedResults(){return collapseResults}function getHealthReport(){return{prefNodeSearchDisabled:_prefNodeSearchDisabled(),prefInstantSearchDisabled:_prefInstantSearchDisabled()}}exports.parseDollars=parseDollars;exports.hasCheckedMatches=hasCheckedMatches;exports.performReplacements=performReplacements;exports.labelForScope=labelForScope;exports.parseQueryInfo=parseQueryInfo;exports.prioritizeOpenFile=prioritizeOpenFile;exports.getOpenFilePath=getOpenFilePath;exports.setNodeSearchDisabled=setNodeSearchDisabled;exports.isNodeSearchDisabled=isNodeSearchDisabled;exports.setInstantSearchDisabled=setInstantSearchDisabled;exports.isInstantSearchDisabled=isInstantSearchDisabled;exports.isNodeSearchInProgress=isNodeSearchInProgress;exports.isIndexingInProgress=isIndexingInProgress;exports.setCollapseResults=setCollapseResults;exports.isCollapsedResults=isCollapsedResults;exports.getHealthReport=getHealthReport;exports.ERROR_FILE_CHANGED="fileChanged";exports.notifyFileFiltersChanged=notifyFileFiltersChanged;exports.notifySearchScopeChanged=notifySearchScopeChanged;exports.notifyNodeSearchStarted=notifyNodeSearchStarted;exports.notifyNodeSearchFinished=notifyNodeSearchFinished;exports.notifyIndexingStarted=notifyIndexingStarted;exports.notifyIndexingFinished=notifyIndexingFinished;exports.SEARCH_FILE_FILTERS_CHANGED="fileFiltersChanged";exports.SEARCH_SCOPE_CHANGED="searchScopeChanged";exports.SEARCH_INDEXING_STARTED="searchIndexingStarted";exports.SEARCH_INDEXING_FINISHED="searchIndexingFinished";exports.SEARCH_COLLAPSE_RESULTS="searchCollapseResults"});define("utils/HealthLogger",["require","exports","module","preferences/PreferencesManager","language/LanguageManager","file/FileUtils","utils/PerfUtils","search/FindUtils","utils/StringUtils"],function(require,exports,module){"use strict";var PreferencesManager=require("preferences/PreferencesManager"),LanguageManager=require("language/LanguageManager"),FileUtils=require("file/FileUtils"),PerfUtils=require("utils/PerfUtils"),FindUtils=require("search/FindUtils"),StringUtils=require("utils/StringUtils"),HEALTH_DATA_STATE_KEY="HealthData.Logs",logHealthData=true;function init(){PreferencesManager.stateManager.definePreference(HEALTH_DATA_STATE_KEY,"object",{})}function shouldLogHealthData(){return logHealthData}function getStoredHealthData(){var storedData=PreferencesManager.getViewState(HEALTH_DATA_STATE_KEY)||{};return storedData}function getAggregatedHealthData(){var healthData=getStoredHealthData();$.extend(healthData,PerfUtils.getHealthReport());$.extend(healthData,FindUtils.getHealthReport());return healthData}function setHealthData(dataObject){if(!shouldLogHealthData()){return}PreferencesManager.setViewState(HEALTH_DATA_STATE_KEY,dataObject)}function getHealthDataLog(key){var healthData=getStoredHealthData();return healthData[key]}function setHealthDataLog(key,dataObject){var healthData=getStoredHealthData();healthData[key]=dataObject;setHealthData(healthData)}function clearHealthData(){PreferencesManager.setViewState(HEALTH_DATA_STATE_KEY,{});PerfUtils.clear()}function setHealthLogsEnabled(enabled){logHealthData=enabled;if(!enabled){clearHealthData()}}function fileOpened(filePath,addedToWorkingSet){if(!shouldLogHealthData()){return}var fileExtension=FileUtils.getFileExtension(filePath),language=LanguageManager.getLanguageForPath(filePath),healthData=getStoredHealthData(),fileExtCountMap=[];healthData.fileStats=healthData.fileStats||{openedFileExt:{},workingSetFileExt:{}};if(language.getId()!=="unknown"){fileExtCountMap=addedToWorkingSet?healthData.fileStats.workingSetFileExt:healthData.fileStats.openedFileExt;if(!fileExtCountMap[fileExtension]){fileExtCountMap[fileExtension]=0}fileExtCountMap[fileExtension]++;setHealthData(healthData)}}function setProjectDetail(projectName,numFiles,cacheSize){var projectNameHash=StringUtils.hashCode(projectName),FIFLog=getHealthDataLog("ProjectDetails");if(!FIFLog){FIFLog={}}FIFLog["prj"+projectNameHash]={numFiles:numFiles,cacheSize:cacheSize};setHealthDataLog("ProjectDetails",FIFLog)}function searchDone(searchType){var searchDetails=getHealthDataLog("searchDetails");if(!searchDetails){searchDetails={}}if(!searchDetails[searchType]){searchDetails[searchType]=0}searchDetails[searchType]++;setHealthDataLog("searchDetails",searchDetails)}exports.getHealthDataLog=getHealthDataLog;exports.setHealthDataLog=setHealthDataLog;exports.getAggregatedHealthData=getAggregatedHealthData;exports.clearHealthData=clearHealthData;exports.fileOpened=fileOpened;exports.setProjectDetail=setProjectDetail;exports.searchDone=searchDone;exports.setHealthLogsEnabled=setHealthLogsEnabled;exports.shouldLogHealthData=shouldLogHealthData;exports.init=init;exports.SEARCH_INSTANT="searchInstant";exports.SEARCH_ON_RETURN_KEY="searchOnReturnKey";exports.SEARCH_REPLACE_ALL="searchReplaceAll";exports.SEARCH_NEXT_PAGE="searchNextPage";exports.SEARCH_PREV_PAGE="searchPrevPage";exports.SEARCH_LAST_PAGE="searchLastPage";exports.SEARCH_FIRST_PAGE="searchFirstPage";exports.SEARCH_REGEXP="searchRegExp";exports.SEARCH_CASE_SENSITIVE="searchCaseSensitive";exports.SEARCH_NEW="searchNew"});define("LiveDevelopment/Inspector/Inspector",["require","exports","module","utils/Async","utils/EventDispatcher"],function Inspector(require,exports,module){"use strict";var Async=require("utils/Async"),EventDispatcher=require("utils/EventDispatcher");var _messageCallbacks={};var _messageId=1,_socket,_connectDeferred,_userAgent="";function _verifySignature(signature,value){if(value===undefined){console.assert(signature.optional===true,"Missing argument: "+signature.name)}return true}function _send(method,signature,varargs){if(!_socket){console.log("You must connect to the WebSocket before sending messages.");return(new $.Deferred).reject().promise()}var id,callback,args,i,params={},promise,msg;args=Array.prototype.slice.call(arguments,2);if(typeof args[args.length-1]==="function"){callback=args.pop()}else{var deferred=new $.Deferred;promise=deferred.promise();callback=function(result,error){if(error){deferred.reject(error)}else{deferred.resolve(result)}}}id=_messageId++;if(signature){for(i in signature){if(_verifySignature(args[i],signature[i])){params[signature[i].name]=args[i]}}}msg={method:method,id:id,params:params};_messageCallbacks[id]={callback:callback,message:msg};_socket.send(JSON.stringify(msg));return promise}function send(domain,command,varargs){return _send(domain+"."+command,null,varargs)}function _onDisconnect(){_socket=undefined;exports.trigger("disconnect")}function _onError(error){if(_connectDeferred){_connectDeferred.reject();_connectDeferred=null}exports.trigger("error",error)}function _onConnect(){if(_connectDeferred){_connectDeferred.resolve();_connectDeferred=null}exports.trigger("connect")}function _onMessage(message){var response=JSON.parse(message.data),msgRecord=_messageCallbacks[response.id],callback=msgRecord&&msgRecord.callback,msgText=msgRecord&&msgRecord.message||"No message";if(msgRecord){callback(response.result,response.error);delete _messageCallbacks[response.id]}else if(response.method){var domainAndMethod=response.method.split("."),domain=domainAndMethod[0],method=domainAndMethod[1];EventDispatcher.triggerWithArray(exports[domain],method,response.params)}exports.trigger("message",response);if(response.error){exports.trigger("error",response.error,msgText)}}function getDebuggableWindows(host,port){if(!host){host="127.0.0.1"}if(!port){port=9222}
var def=new $.Deferred;var request=new XMLHttpRequest;request.open("GET","http://"+host+":"+port+"/json");request.onload=function onLoad(){var sockets=JSON.parse(request.response);def.resolve(sockets)};request.onerror=function onError(){def.reject(request.response)};request.send(null);return def.promise()}function disconnect(){var deferred=new $.Deferred,promise=deferred.promise();if(_socket&&_socket.readyState===WebSocket.OPEN){_socket.onclose=function(){_onDisconnect();deferred.resolve()};promise=Async.withTimeout(promise,5e3);_socket.close()}else{if(_socket){delete _socket.onmessage;delete _socket.onopen;delete _socket.onclose;delete _socket.onerror;_socket=undefined}deferred.resolve()}return promise}function connect(socketURL){disconnect().done(function(){_socket=new WebSocket(socketURL);_socket.onmessage=_onMessage;_socket.onopen=_onConnect;_socket.onclose=_onDisconnect;_socket.onerror=_onError})}function connectToURL(url){if(_connectDeferred){_connectDeferred.reject("CANCEL")}var deferred=new $.Deferred;_connectDeferred=deferred;var promise=getDebuggableWindows();promise.done(function onGetAvailableSockets(response){var i,page;for(i in response){page=response[i];if(page.webSocketDebuggerUrl&&page.url.indexOf(url)===0){connect(page.webSocketDebuggerUrl);return}}deferred.reject(FileError.ERR_NOT_FOUND)});promise.fail(function onFail(err){deferred.reject(err)});return deferred.promise()}function connected(){return _socket!==undefined&&_socket.readyState===WebSocket.OPEN}function getUserAgent(){return _userAgent}function setUserAgent(userAgent){_userAgent=userAgent}function init(theConfig){exports.config=theConfig;var InspectorText="{}",InspectorJSON=JSON.parse(InspectorText);var i,j,domain,command;for(i in InspectorJSON.domains){domain=InspectorJSON.domains[i];var exportedDomain={};exports[domain.domain]=exportedDomain;EventDispatcher.makeEventDispatcher(exportedDomain);for(j in domain.commands){command=domain.commands[j];exportedDomain[command.name]=_send.bind(undefined,domain.domain+"."+command.name,command.parameters)}}}EventDispatcher.makeEventDispatcher(exports);exports.connect=connect;exports.connected=connected;exports.connectToURL=connectToURL;exports.disconnect=disconnect;exports.getDebuggableWindows=getDebuggableWindows;exports.getUserAgent=getUserAgent;exports.init=init;exports.send=send;exports.setUserAgent=setUserAgent});define("text!widgets/StatusBar.html",[],function(){return'<div id="status-bar" class="statusbar no-focus">\n    <div id="status-info" class="info" >\n        <div id="status-cursor"></div>\n        <div id="status-file"></div>\n    </div>\n    <div id="status-indicators" class="indicators">\n        <div id="status-indent">\n            <div id="indent-type"></div>\n            <div id="indent-width-label"></div>\n            <input id="indent-width-input" type="number" min="1" max="10" maxlength="2" size="2" class="hidden">\n        </div>\n        <div id="status-language"></div>\n        <div id="status-overwrite">{{STATUSBAR_INSERT}}</div>\n        <div class="spinner"></div>\n    </div>\n</div>\n'});define("widgets/StatusBar",["require","exports","module","utils/AppInit","text!widgets/StatusBar.html","strings","view/WorkspaceManager","thirdparty/mustache/mustache"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),StatusBarHTML=require("text!widgets/StatusBar.html"),Strings=require("strings"),WorkspaceManager=require("view/WorkspaceManager"),Mustache=require("thirdparty/mustache/mustache");var _init=false;var _busyCursor=false;var _indicatorIDRegexp=new RegExp("[^a-zA-Z 0-9]+","g");var $statusInfo,$statusBar,$indicators,$busyIndicator;var _enabled=false;function showBusyIndicator(updateCursor){if(!_init){console.error("StatusBar API invoked before status bar created");return}if(updateCursor){_busyCursor=true;$("*").addClass("busyCursor")}$busyIndicator.addClass("spin")}function hideBusyIndicator(){if(!_init){console.error("StatusBar API invoked before status bar created");return}if(_busyCursor){_busyCursor=false;$("*").removeClass("busyCursor")}$busyIndicator.removeClass("spin")}function addIndicator(id,indicator,visible,style,tooltip,insertBefore){if(!_init){console.error("StatusBar API invoked before status bar created");return}indicator=indicator||window.document.createElement("div");tooltip=tooltip||"";style=style||"";id=id.replace(_indicatorIDRegexp,"-")||"";var $indicator=$(indicator);$indicator.attr("id",id);$indicator.attr("title",tooltip);$indicator.addClass("indicator");$indicator.addClass(style);if(!visible){$indicator.hide()}if(insertBefore&&$("#"+insertBefore).length>0){$indicator.insertAfter("#"+insertBefore)}else{var $busyIndicator=$("#status-bar .spinner");$indicator.insertBefore($busyIndicator)}}function updateIndicator(id,visible,style,tooltip){if(!_init&&!!brackets.test){console.error("StatusBar API invoked before status bar created");return}var $indicator=$("#"+id.replace(_indicatorIDRegexp,"-"));if($indicator){if(visible){$indicator.show()}else{$indicator.hide()}if(style){$indicator.removeClass();$indicator.addClass(style)}else{$indicator.removeClass();$indicator.addClass("indicator")}if(tooltip){$indicator.attr("title",tooltip)}}}function hideInformation(){$statusInfo.css("display","none")}function showInformation(){$statusInfo.css("display","")}function hideIndicators(){$indicators.css("display","none")}function showIndicators(){$indicators.css("display","")}function hideAllPanes(){hideInformation();hideIndicators()}function showAllPanes(){showInformation();showIndicators()}function hide(){if(!_init){console.error("StatusBar API invoked before status bar created");return}if($statusBar.is(":visible")){$statusBar.hide();WorkspaceManager.recomputeLayout()}}function show(){if(!_init){console.error("StatusBar API invoked before status bar created");return}if(!_enabled){return}if(!$statusBar.is(":visible")){$statusBar.show();WorkspaceManager.recomputeLayout()}}function enable(){_enabled=true;show()}function disable(){_enabled=false;hide()}AppInit.htmlReady(function(){var $parent=$(".main-view .content");$parent.append(Mustache.render(StatusBarHTML,Strings));$statusBar=$("#status-bar");$indicators=$("#status-indicators");$busyIndicator=$("#status-bar .spinner");$statusInfo=$("#status-info");_init=true;hide()});exports.hideInformation=hideInformation;exports.showInformation=showInformation;exports.showBusyIndicator=showBusyIndicator;exports.hideBusyIndicator=hideBusyIndicator;exports.hideIndicators=hideIndicators;exports.showIndicators=showIndicators;exports.hideAllPanes=hideAllPanes;exports.showAllPanes=showAllPanes;exports.addIndicator=addIndicator;exports.updateIndicator=updateIndicator;exports.hide=hide;exports.show=show;exports.enable=enable;exports.disable=disable});define("document/DocumentCommandHandlers",["require","exports","module","utils/AppInit","command/CommandManager","command/Commands","utils/DeprecationWarning","project/ProjectManager","document/DocumentManager","view/MainViewManager","editor/EditorManager","filesystem/FileSystem","filesystem/FileSystemError","filesystem/impls/filer/ArchiveUtils","file/FileUtils","project/FileViewController","document/InMemoryFile","utils/StringUtils","utils/Async","utils/HealthLogger","widgets/Dialogs","widgets/DefaultDialogs","strings","widgets/PopUpManager","preferences/PreferencesManager","utils/PerfUtils","utils/KeyEvent","LiveDevelopment/Inspector/Inspector","command/Menus","utils/UrlParams","widgets/StatusBar","view/WorkspaceManager","thirdparty/lodash","filesystem/impls/filer/BracketsFiler","filesystem/impls/filer/lib/content","thirdparty/FileSaver","bramble/StartupState","filesystem/impls/filer/lib/Sizes"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),DeprecationWarning=require("utils/DeprecationWarning"),ProjectManager=require("project/ProjectManager"),DocumentManager=require("document/DocumentManager"),MainViewManager=require("view/MainViewManager"),EditorManager=require("editor/EditorManager"),FileSystem=require("filesystem/FileSystem"),FileSystemError=require("filesystem/FileSystemError"),ArchiveUtils=require("filesystem/impls/filer/ArchiveUtils"),FileUtils=require("file/FileUtils"),FileViewController=require("project/FileViewController"),InMemoryFile=require("document/InMemoryFile"),StringUtils=require("utils/StringUtils"),Async=require("utils/Async"),HealthLogger=require("utils/HealthLogger"),Dialogs=require("widgets/Dialogs"),DefaultDialogs=require("widgets/DefaultDialogs"),Strings=require("strings"),PopUpManager=require("widgets/PopUpManager"),PreferencesManager=require("preferences/PreferencesManager"),PerfUtils=require("utils/PerfUtils"),KeyEvent=require("utils/KeyEvent"),Inspector=require("LiveDevelopment/Inspector/Inspector"),Menus=require("command/Menus"),UrlParams=require("utils/UrlParams").UrlParams,StatusBar=require("widgets/StatusBar"),WorkspaceManager=require("view/WorkspaceManager"),_=require("thirdparty/lodash");var BracketsFiler=require("filesystem/impls/filer/BracketsFiler");var Content=require("filesystem/impls/filer/lib/content");var saveAs=require("thirdparty/FileSaver");var StartupState=require("bramble/StartupState");var Sizes=require("filesystem/impls/filer/lib/Sizes");var Path=BracketsFiler.Path;var fs=BracketsFiler.fs();var _$title=null;var _$dirtydot=null;var _$titleWrapper=null;var _currentTitlePath=null;var _osDash=brackets.platform==="mac"?"—":"-";var WINDOW_TITLE_STRING_NO_DOC="{0} "+_osDash+" {1}";var WINDOW_TITLE_STRING_DOC="{0} ({1}) "+_osDash+" {2}";var _$titleContainerToolbar=null;var _lastToolbarHeight=null;var _nextUntitledIndexToUse={};var _isReloading=false;var USER_CANCELED={userCanceled:true};PreferencesManager.definePreference("defaultExtension","string","",{excludeFromHints:true});var handleFileSaveAs;function _updateTitle(){var currentDoc=DocumentManager.getCurrentDocument(),windowTitle=brackets.config.app_title,currentlyViewedPath=MainViewManager.getCurrentlyViewedPath(MainViewManager.ACTIVE_PANE);if(!brackets.nativeMenus){if(currentlyViewedPath){_$title.text(_currentTitlePath);_$title.attr("title",currentlyViewedPath);if(currentDoc){_$dirtydot.css("visibility",currentDoc.isDirty?"visible":"hidden")}else{_$dirtydot.css("visibility","hidden")}}else{_$title.text("");_$title.attr("title","");_$dirtydot.css("visibility","hidden")}_$titleWrapper.css("width","");var newWidth=_$title.width();_$titleWrapper.css("width",newWidth);var newToolbarHeight=_$titleContainerToolbar.height();if(_lastToolbarHeight!==newToolbarHeight){_lastToolbarHeight=newToolbarHeight;WorkspaceManager.recomputeLayout()}}var projectRoot=ProjectManager.getProjectRoot();if(projectRoot){var projectName=projectRoot.name;if(currentlyViewedPath){windowTitle=StringUtils.format(WINDOW_TITLE_STRING_DOC,_currentTitlePath,projectName,brackets.config.app_title);if(currentDoc&&currentDoc.isDirty){windowTitle="• "+windowTitle}}else{windowTitle=StringUtils.format(WINDOW_TITLE_STRING_NO_DOC,projectName,brackets.config.app_title)}}window.document.title=windowTitle}function _shortTitleForDocument(doc){var fullPath=doc.file.fullPath;if(doc.isUntitled()){return fullPath.substring(fullPath.lastIndexOf("/")+1)}else{return ProjectManager.makeProjectRelativeIfPossible(fullPath)}}function handleCurrentFileChange(){var newFile=MainViewManager.getCurrentlyViewedFile(MainViewManager.ACTIVE_PANE);if(newFile){var newDocument=DocumentManager.getOpenDocumentForPath(newFile.fullPath);if(newDocument){_currentTitlePath=_shortTitleForDocument(newDocument)}else{_currentTitlePath=ProjectManager.makeProjectRelativeIfPossible(newFile.fullPath)}}else{_currentTitlePath=null}_updateTitle()}function handleDirtyChange(event,changedDoc){var currentDoc=DocumentManager.getCurrentDocument();if(currentDoc&&changedDoc.file.fullPath===currentDoc.file.fullPath){_updateTitle()}}function showFileOpenError(name,path){return Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.ERROR_OPENING_FILE_TITLE,StringUtils.format(Strings.ERROR_OPENING_FILE,StringUtils.breakableUrl(path),FileUtils.getFileErrorString(name)))}function _doOpen(fullPath,silent,paneId,options){var result=new $.Deferred;if(MainViewManager.getCurrentlyViewedPath(paneId||MainViewManager.ACTIVE_PANE)===fullPath){result.resolve(MainViewManager.getCurrentlyViewedFile(paneId||MainViewManager.ACTIVE_PANE));return result.promise()}function _cleanup(fileError,fullFilePath){if(fullFilePath){MainViewManager._removeView(paneId,FileSystem.getFileForPath(fullFilePath));MainViewManager.focusActivePane()}result.reject(fileError)}function _showErrorAndCleanUp(fileError,fullFilePath){if(silent){_cleanup(fileError,fullFilePath)}else{showFileOpenError(fileError,fullFilePath).done(function(){_cleanup(fileError,fullFilePath)})}}if(!fullPath){throw new Error("_doOpen() called without fullPath")}else{var perfTimerName=PerfUtils.markStart("Open File:\t"+fullPath);result.always(function(){PerfUtils.addMeasurement(perfTimerName)});var file=FileSystem.getFileForPath(fullPath);MainViewManager._open(paneId,file,options).done(function(){result.resolve(file)}).fail(function(fileError){_showErrorAndCleanUp(fileError,fullPath);result.reject()})}return result.promise()}var _defaultOpenDialogFullPath=null;function _doOpenWithOptionalPath(fullPath,silent,paneId,options){var result;paneId=paneId||MainViewManager.ACTIVE_PANE;if(!fullPath){result=new $.Deferred;if(!_defaultOpenDialogFullPath){_defaultOpenDialogFullPath=ProjectManager.getProjectRoot().fullPath}FileSystem.showOpenDialog(true,false,Strings.OPEN_FILE,_defaultOpenDialogFullPath,null,function(err,paths){if(!err){if(paths.length>0){var filesToOpen=[];paths.forEach(function(path){filesToOpen.push(FileSystem.getFileForPath(path))});MainViewManager.addListToWorkingSet(paneId,filesToOpen);_doOpen(paths[paths.length-1],silent,paneId,options).done(function(file){_defaultOpenDialogFullPath=FileUtils.getDirectoryPath(MainViewManager.getCurrentlyViewedPath(paneId))}).then(result.resolve,result.reject)}else{result.reject()}}})}else{result=_doOpen(fullPath,silent,paneId,options)}return result.promise()}function _parseDecoratedPath(path){var result={path:path,line:null,column:null};if(path){var matchResult=/(.+?):([0-9]+)(:([0-9]+))?$/.exec(path);if(matchResult){result.path=matchResult[1];if(matchResult[2]){result.line=parseInt(matchResult[2],10)}if(matchResult[4]){result.column=parseInt(matchResult[4],10)}}}return result}function handleFileOpen(commandData){var fileInfo=_parseDecoratedPath(commandData?commandData.fullPath:null),silent=commandData&&commandData.silent||false,paneId=commandData&&commandData.paneId||MainViewManager.ACTIVE_PANE,result=new $.Deferred;_doOpenWithOptionalPath(fileInfo.path,silent,paneId,commandData&&commandData.options).done(function(file){HealthLogger.fileOpened(fileInfo.path);if(!commandData||!commandData.options||!commandData.options.noPaneActivate){MainViewManager.setActivePaneId(paneId)}if(fileInfo.line!==null){if(fileInfo.column===null||fileInfo.column<=0){fileInfo.column=1}EditorManager.getCurrentFullEditor().setCursorPos(fileInfo.line-1,fileInfo.column-1,true)}result.resolve(file)}).fail(function(err){result.reject(err)});return result}function handleDocumentOpen(commandData){var result=new $.Deferred;handleFileOpen(commandData).done(function(file){var doc=DocumentManager.getOpenDocumentForPath(file.fullPath);result.resolve(doc)}).fail(function(err){result.reject(err)});return result.promise()}function handleFileAddToWorkingSetAndOpen(commandData){return handleFileOpen(commandData).done(function(file){var paneId=commandData&&commandData.paneId||MainViewManager.ACTIVE_PANE;MainViewManager.addToWorkingSet(paneId,file,commandData.index,commandData.forceRedraw);HealthLogger.fileOpened(file.fullPath,true)})}function handleFileAddToWorkingSet(commandData){DeprecationWarning.deprecationWarning("Commands.FILE_ADD_TO_WORKING_SET has been deprecated.  Use Commands.CMD_ADD_TO_WORKINGSET_AND_OPEN instead.");var result=new $.Deferred;handleFileAddToWorkingSetAndOpen(commandData).done(function(file){var doc=DocumentManager.getOpenDocumentForPath(file.fullPath);result.resolve(doc)}).fail(function(err){result.reject(err)});return result.promise()}function _getUntitledFileSuggestion(dir,fileNameOptions,isFolder){var baseFileName=fileNameOptions.baseFileName,extension=fileNameOptions.extension?fileNameOptions.extension.replace(/^\.?/,"."):"",deferred=$.Deferred(),suggestedName;if(isFolder){extension=""}_nextUntitledIndexToUse[baseFileName]=_nextUntitledIndexToUse[baseFileName]||1;if(_nextUntitledIndexToUse[baseFileName]===1){suggestedName=baseFileName+extension}else{suggestedName=baseFileName+"-"+_nextUntitledIndexToUse[baseFileName]+extension}_nextUntitledIndexToUse[baseFileName]++;if(_nextUntitledIndexToUse[baseFileName]>9999){deferred.reject()}else{var path=dir.fullPath+suggestedName,entry=isFolder?FileSystem.getDirectoryForPath(path):FileSystem.getFileForPath(path);entry.exists(function(err,exists){if(err||exists){_getUntitledFileSuggestion(dir,fileNameOptions,isFolder).then(deferred.resolve,deferred.reject)}else{deferred.resolve(suggestedName)}})}return deferred.promise()}var fileNewInProgress=false;function _handleNewItemInProject(isFolder){if(fileNewInProgress){ProjectManager.forceFinishRename();return}fileNewInProgress=true;var baseDirEntry,selected=ProjectManager.getSelectedItem();if(!selected||selected instanceof InMemoryFile){selected=ProjectManager.getProjectRoot()}if(selected.isFile){baseDirEntry=FileSystem.getDirectoryForPath(selected.parentPath)}baseDirEntry=baseDirEntry||selected;function createWithSuggestedName(suggestedName){return ProjectManager.createNewItem(baseDirEntry,suggestedName,false,isFolder).always(function(){fileNewInProgress=false})}return _getUntitledFileSuggestion(baseDirEntry,{baseFileName:Strings.UNTITLED},isFolder).then(createWithSuggestedName,createWithSuggestedName.bind(undefined,Strings.UNTITLED))}function handleFileNew(){var defaultExtension="";var doc=DocumentManager.createUntitledDocument(_nextUntitledIndexToUse++,defaultExtension);MainViewManager._edit(MainViewManager.ACTIVE_PANE,doc);return(new $.Deferred).resolve(doc).promise()}function handleFileNewInProject(){if(Sizes.getEnforceLimits()){return CommandManager.execute("bramble.projectSizeError")}_handleNewItemInProject(false)}function handleBrambleNewFile(options){var deferred=new $.Deferred;var root=StartupState.project("root");function writeContents(path,contents){path=Path.join(root,path);var newFile=FileSystem.getFileForPath(path);FileUtils.writeText(newFile,contents,true).done(function(){CommandManager.execute(Commands.FILE_REFRESH).always(function(){CommandManager.execute(Commands.CMD_ADD_TO_WORKINGSET_AND_OPEN,{fullPath:path}).always(deferred.resolve)})}).fail(function(err){deferred.reject(err)})}if(options.filename){writeContents(options.filename,options.contents)}else{options.ext=options.ext?options.ext.replace(/^\.?/,"."):"";options.basenamePrefix=options.basenamePrefix||Strings.UNTITLED;_getUntitledFileSuggestion({fullPath:root+"/"},{baseFileName:options.basenamePrefix,extension:options.ext},false).then(function(filename){writeContents(filename,options.contents)})}return deferred.promise()}function handleNewFolderInProject(){_handleNewItemInProject(true)}function _showSaveFileError(name,path){return Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.ERROR_SAVING_FILE_TITLE,StringUtils.format(Strings.ERROR_SAVING_FILE,StringUtils.breakableUrl(path),FileUtils.getFileErrorString(name)))}function doSave(docToSave,force){var result=new $.Deferred,file=docToSave.file;function handleError(error){_showSaveFileError(error,file.fullPath).done(function(){result.reject(error)})}function handleContentsModified(){Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.EXT_MODIFIED_TITLE,StringUtils.format(Strings.EXT_MODIFIED_WARNING,StringUtils.breakableUrl(docToSave.file.fullPath)),[{className:Dialogs.DIALOG_BTN_CLASS_NORMAL,id:Dialogs.DIALOG_BTN_CANCEL,text:Strings.CANCEL},{className:Dialogs.DIALOG_BTN_CLASS_PRIMARY,id:Dialogs.DIALOG_BTN_OK,text:Strings.SAVE_AND_OVERWRITE}]).done(function(id){if(id===Dialogs.DIALOG_BTN_CANCEL){result.reject()}else if(id===Dialogs.DIALOG_BTN_OK){doSave(docToSave,true).then(result.resolve,result.reject)}else if(id===Dialogs.DIALOG_BTN_SAVE_AS){handleFileSaveAs({doc:docToSave}).then(result.resolve,result.reject)}})}function trySave(){FileUtils.writeText(file,docToSave.getText(true),force).done(function(){docToSave.notifySaved();result.resolve(file)}).fail(function(err){if(err===FileSystemError.CONTENTS_MODIFIED){handleContentsModified()}else{handleError(err)}})}if(docToSave.isDirty){if(docToSave.keepChangesTime){docToSave.file.stat(function(err,stat){if(!err&&docToSave.keepChangesTime===stat.mtime.getTime()){force=true}trySave()})}else{trySave()}}else{result.resolve(file)}return result.promise()}function _doRevert(doc,suppressError){var result=new $.Deferred;FileUtils.readAsText(doc.file).done(function(text,readTimestamp){doc.refreshText(text,readTimestamp);result.resolve()}).fail(function(error){if(suppressError){result.resolve()}else{showFileOpenError(error,doc.file.fullPath).done(function(){result.reject(error)})}});return result.promise()}function _doSaveAs(doc,settings){var origPath,saveAsDefaultPath,defaultName,result=new $.Deferred;function _doSaveAfterSaveDialog(path){var newFile;function _configureEditorAndResolve(){var editor=EditorManager.getActiveEditor();if(editor){if(settings){editor.setSelections(settings.selections);editor.setScrollPos(settings.scrollPos.x,settings.scrollPos.y)}}result.resolve(newFile)}function openNewFile(){var fileOpenPromise;if(FileViewController.getFileSelectionFocus()===FileViewController.PROJECT_MANAGER){fileOpenPromise=FileViewController.openAndSelectDocument(path,FileViewController.PROJECT_MANAGER)}else{var info=MainViewManager.findInAllWorkingSets(doc.file.fullPath).shift();MainViewManager._removeView(info.paneId,doc.file,true);fileOpenPromise=handleFileAddToWorkingSetAndOpen({fullPath:path,paneId:info.paneId,index:info.index,forceRedraw:true})}fileOpenPromise.always(function(){_configureEditorAndResolve()})}if(path===origPath){doSave(doc).then(result.resolve,result.reject);return}doc.isSaving=true;newFile=FileSystem.getFileForPath(path);FileUtils.writeText(newFile,doc.getText(true),true).done(function(){if(doc.isDirty&&!doc.isUntitled()){_doRevert(doc).always(openNewFile)}else{openNewFile()}}).fail(function(error){_showSaveFileError(error,path).done(function(){result.reject(error)})}).always(function(){doc.isSaving=false})}if(doc){origPath=doc.file.fullPath;if(doc.isUntitled()){var info=MainViewManager.findInAllWorkingSets(origPath).shift();if(info){MainViewManager._open(info.paneId,doc.file)}saveAsDefaultPath=ProjectManager.getProjectRoot().fullPath}else{saveAsDefaultPath=FileUtils.getDirectoryPath(origPath)}defaultName=FileUtils.getBaseName(origPath);FileSystem.showSaveDialog(Strings.SAVE_FILE_AS,saveAsDefaultPath,defaultName,function(err,selectedPath){if(!err){if(selectedPath){_doSaveAfterSaveDialog(selectedPath)}else{result.reject(USER_CANCELED)}}else{result.reject(err)}})}else{result.reject()}return result.promise()}function handleFileSave(commandData){var activeEditor=EditorManager.getActiveEditor(),activeDoc=activeEditor&&activeEditor.document,doc=commandData&&commandData.doc||activeDoc,settings;if(doc&&!doc.isSaving){if(doc.isUntitled()){if(doc===activeDoc){settings={selections:activeEditor.getSelections(),scrollPos:activeEditor.getScrollPos()}}return _doSaveAs(doc,settings)}else{return doSave(doc)}}return $.Deferred().reject().promise()}function _saveFileList(fileList){var userCanceled=false,filesAfterSave=[];return Async.doSequentially(fileList,function(file){if(userCanceled){return(new $.Deferred).reject().promise()}var doc=DocumentManager.getOpenDocumentForPath(file.fullPath);if(doc){var savePromise=handleFileSave({doc:doc});savePromise.done(function(newFile){filesAfterSave.push(newFile)}).fail(function(error){if(error===USER_CANCELED){userCanceled=true}});return savePromise}else{filesAfterSave.push(file);return(new $.Deferred).resolve().promise()}},false).then(function(){return filesAfterSave})}function saveAll(){return _saveFileList(MainViewManager.getWorkingSet(MainViewManager.ALL_PANES))}handleFileSaveAs=function(commandData){var doc=null,settings;if(commandData){doc=commandData.doc}else{var activeEditor=EditorManager.getActiveEditor();if(activeEditor){doc=activeEditor.document;settings={};settings.selections=activeEditor.getSelections();settings.scrollPos=activeEditor.getScrollPos()}}return _doSaveAs(doc,settings)};function handleFileSaveAll(){return saveAll()}function handleFileClose(commandData){var file,promptOnly,_forceClose,_closeOptions,_spawnedRequest,paneId=MainViewManager.ACTIVE_PANE;if(commandData){file=commandData.file;promptOnly=commandData.promptOnly;_forceClose=commandData._forceClose;paneId=commandData.paneId||paneId;_closeOptions=commandData._closeOptions;_spawnedRequest=commandData.spawnedRequest||false}function doClose(file){if(!promptOnly){MainViewManager._close(paneId,file,_closeOptions)}}var result=new $.Deferred,promise=result.promise();if(!file){file=MainViewManager.getCurrentlyViewedFile(MainViewManager.ACTIVE_PANE)}if(!file){result.resolve();return promise}var doc=DocumentManager.getOpenDocumentForPath(file.fullPath);if(doc&&doc.isDirty&&!_forceClose&&(MainViewManager.isExclusiveToPane(doc.file,paneId)||_spawnedRequest)){var filename=FileUtils.getBaseName(doc.file.fullPath);Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_SAVE_CLOSE,Strings.SAVE_CLOSE_TITLE,StringUtils.format(Strings.SAVE_CLOSE_MESSAGE,StringUtils.breakableUrl(filename)),[{className:Dialogs.DIALOG_BTN_CLASS_LEFT,id:Dialogs.DIALOG_BTN_DONTSAVE,text:Strings.DONT_SAVE},{className:Dialogs.DIALOG_BTN_CLASS_NORMAL,id:Dialogs.DIALOG_BTN_CANCEL,text:Strings.CANCEL},{className:Dialogs.DIALOG_BTN_CLASS_PRIMARY,id:Dialogs.DIALOG_BTN_OK,text:Strings.SAVE}]).done(function(id){if(id===Dialogs.DIALOG_BTN_CANCEL){result.reject()}else if(id===Dialogs.DIALOG_BTN_OK){handleFileSave({doc:doc}).done(function(newFile){doClose(newFile);result.resolve()}).fail(function(){result.reject()})}else{doClose(file);if(promptOnly){result.resolve()}else{var suppressError=!DocumentManager.getOpenDocumentForPath(file.fullPath);_doRevert(doc,suppressError).then(result.resolve,result.reject)}}});result.always(function(){MainViewManager.focusActivePane()})}else{doClose(file);MainViewManager.focusActivePane();result.resolve()}return promise}function _closeList(list,promptOnly,_forceClose){var result=new $.Deferred,unsavedDocs=[];list.forEach(function(file){var doc=DocumentManager.getOpenDocumentForPath(file.fullPath);if(doc&&doc.isDirty){unsavedDocs.push(doc)}});if(unsavedDocs.length===0||_forceClose){result.resolve()}else if(unsavedDocs.length===1){var fileCloseArgs={file:unsavedDocs[0].file,promptOnly:promptOnly,spawnedRequest:true};handleFileClose(fileCloseArgs).done(function(){result.resolve()}).fail(function(){result.reject()})}else{var message=Strings.SAVE_CLOSE_MULTI_MESSAGE+FileUtils.makeDialogFileList(_.map(unsavedDocs,_shortTitleForDocument));Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_SAVE_CLOSE,Strings.SAVE_CLOSE_TITLE,message,[{className:Dialogs.DIALOG_BTN_CLASS_LEFT,id:Dialogs.DIALOG_BTN_DONTSAVE,text:Strings.DONT_SAVE},{className:Dialogs.DIALOG_BTN_CLASS_NORMAL,id:Dialogs.DIALOG_BTN_CANCEL,text:Strings.CANCEL},{className:Dialogs.DIALOG_BTN_CLASS_PRIMARY,id:Dialogs.DIALOG_BTN_OK,text:Strings.SAVE}]).done(function(id){if(id===Dialogs.DIALOG_BTN_CANCEL){result.reject()}else if(id===Dialogs.DIALOG_BTN_OK){_saveFileList(list).done(function(listAfterSave){result.resolve(listAfterSave)}).fail(function(){result.reject()})}else{result.resolve()}})}result.done(function(listAfterSave){listAfterSave=listAfterSave||list;if(!promptOnly){MainViewManager._closeList(MainViewManager.ALL_PANES,listAfterSave)}});return result.promise()}function handleFileCloseAll(commandData){return _closeList(MainViewManager.getAllOpenFiles(),commandData&&commandData.promptOnly,commandData&&commandData._forceClose)}function handleFileCloseList(commandData){return _closeList(commandData.fileList)}var _windowGoingAway=false;function _handleWindowGoingAway(commandData,postCloseHandler,failHandler){if(_windowGoingAway){return(new $.Deferred).reject().promise()}return CommandManager.execute(Commands.FILE_CLOSE_ALL,{promptOnly:true}).done(function(){_windowGoingAway=true;try{ProjectManager.trigger("beforeAppClose")}catch(ex){console.error(ex)}postCloseHandler()}).fail(function(){_windowGoingAway=false;if(failHandler){failHandler()}})}function handleAbortQuit(){_windowGoingAway=false}function handleBeforeMenuPopup(){PopUpManager.trigger("beforeMenuPopup")}function handleFileCloseWindow(commandData){return _handleWindowGoingAway(commandData,function(){window.close()},function(){brackets.app.abortQuit()})}function handleFileRename(){var entry=ProjectManager.getContext();if(!entry){entry=MainViewManager.getCurrentlyViewedFile()}if(entry){ProjectManager.renameItemInline(entry)}}function handleFileQuit(commandData){return _handleWindowGoingAway(commandData,function(){brackets.app.quit()},function(){brackets.app.abortQuit()})}var _addedNavKeyHandler=false;function detectDocumentNavEnd(event){if(event.keyCode===KeyEvent.DOM_VK_CONTROL){MainViewManager.endTraversal();_addedNavKeyHandler=false;$(window.document.body).off("keyup",detectDocumentNavEnd)}}function goNextPrevDoc(inc,listOrder){var result;if(listOrder){result=MainViewManager.traverseToNextViewInListOrder(inc)}else{result=MainViewManager.traverseToNextViewByMRU(inc)}if(result){var file=result.file,paneId=result.paneId;MainViewManager.beginTraversal();CommandManager.execute(Commands.FILE_OPEN,{fullPath:file.fullPath,paneId:paneId});if(!_addedNavKeyHandler){_addedNavKeyHandler=true;$(window.document.body).keyup(detectDocumentNavEnd)}}}function handleGoNextDoc(){goNextPrevDoc(+1)}function handleGoPrevDoc(){goNextPrevDoc(-1)}function handleGoNextDocListOrder(){goNextPrevDoc(+1,true)}function handleGoPrevDocListOrder(){goNextPrevDoc(-1,true)}function handleShowInTree(){ProjectManager.showInTree(MainViewManager.getCurrentlyViewedFile(MainViewManager.ACTIVE_PANE))}function showErrorDialog(err,callback){Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.ERROR_DIALOG_HEADER,StringUtils.format(Strings.GENERIC_ERROR,err),[{className:Dialogs.DIALOG_BTN_CLASS_PRIMARY,id:Dialogs.DIALOG_BTN_OK,text:Strings.OK}]).getPromise().then(callback,callback)}function handleFileDownload(path){if(!path){var selectedItem=ProjectManager.getSelectedItem();path=selectedItem._path}fs.stat(path,function(err,stats){if(err){showErrorDialog(err);return}if(stats.type==="DIRECTORY"){return ArchiveUtils.archive(path,Path.basename(path),function(err){if(err){showErrorDialog(err)}})}fs.readFile(path,{encoding:null},function(err,data){if(err){showErrorDialog(err);return}var filename=Path.basename(path);var mimetype=Content.mimeFromExt(Path.extname(path));var blob=new Blob([data],{type:mimetype});saveAs(blob,filename)})})}function handleFileDelete(){var entry=ProjectManager.getSelectedItem();Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_EXT_DELETED,Strings.CONFIRM_FOLDER_DELETE_TITLE,StringUtils.format(Strings.CONFIRM_FILE_DELETE,StringUtils.breakableUrl(entry.name)),[{className:Dialogs.DIALOG_BTN_CLASS_NORMAL,id:Dialogs.DIALOG_BTN_CANCEL,text:Strings.CANCEL},{className:Dialogs.DIALOG_BTN_CLASS_PRIMARY,id:Dialogs.DIALOG_BTN_OK,text:Strings.DELETE}]).done(function(id){if(id===Dialogs.DIALOG_BTN_OK){ProjectManager.deleteItem(entry)}})}function handleShowInOS(){var entry=ProjectManager.getSelectedItem();if(entry){brackets.app.showOSFolder(entry.fullPath,function(err){if(err){console.error("Error showing '"+entry.fullPath+"' in OS folder:",err)}})}}function _disableCache(){var result=new $.Deferred
;if(brackets.inBrowser){result.resolve()}else{var port=brackets.app.getRemoteDebuggingPort?brackets.app.getRemoteDebuggingPort():9234;Inspector.getDebuggableWindows("127.0.0.1",port).fail(result.reject).done(function(response){var page=response[0];if(!page||!page.webSocketDebuggerUrl){result.reject();return}var _socket=new WebSocket(page.webSocketDebuggerUrl);_socket.onopen=function _onConnect(){_socket.send(JSON.stringify({id:1,method:"Network.setCacheDisabled",params:{cacheDisabled:true}}))};_socket.onmessage=function _onMessage(e){_socket.close();result.resolve()};_socket.onerror=result.reject})}return result.promise()}function browserReload(href){if(_isReloading){return}_isReloading=true;return CommandManager.execute(Commands.FILE_CLOSE_ALL,{promptOnly:true}).done(function(){try{ProjectManager.trigger("beforeAppClose")}catch(ex){console.error(ex)}_disableCache().always(function(){_.forEach(Menus.getAllMenus(),function(value,key){Menus.removeMenu(key)});var fragment=href.indexOf("#");if(fragment!==-1){href=href.substr(0,fragment)}setTimeout(function(){window.location.href=href},1e3)})}).fail(function(){_isReloading=false})}function handleReload(loadWithoutExtensions){var href=window.location.href,params=new UrlParams;params.parse();if(loadWithoutExtensions){if(!params.get("reloadWithoutUserExts")){params.put("reloadWithoutUserExts",true)}}else{if(params.get("reloadWithoutUserExts")){params.remove("reloadWithoutUserExts")}}if(href.indexOf("?")!==-1){href=href.substring(0,href.indexOf("?"))}if(!params.isEmpty()){href+="?"+params.toString()}window.setTimeout(function(){browserReload(href)},100)}var handleReloadWithoutExts=_.partial(handleReload,true);AppInit.htmlReady(function(){var params=new UrlParams,$icon=$("#toolbar-extension-manager"),$indicator=$("<div>"+Strings.STATUSBAR_USER_EXTENSIONS_DISABLED+"</div>");params.parse();if(params.get("reloadWithoutUserExts")==="true"){CommandManager.get(Commands.FILE_EXTENSION_MANAGER).setEnabled(false);$icon.css({display:"none"});StatusBar.addIndicator("status-user-exts",$indicator,true);console.log("Brackets reloaded with extensions disabled")}_$titleContainerToolbar=$("#titlebar");_$titleWrapper=$(".title-wrapper",_$titleContainerToolbar);_$title=$(".title",_$titleWrapper);_$dirtydot=$(".dirty-dot",_$titleWrapper)});exports._parseDecoratedPath=_parseDecoratedPath;var quitString=Strings.CMD_QUIT,showInOS=Strings.CMD_SHOW_IN_OS;if(brackets.platform==="win"){quitString=Strings.CMD_EXIT;showInOS=Strings.CMD_SHOW_IN_EXPLORER}else if(brackets.platform==="mac"){showInOS=Strings.CMD_SHOW_IN_FINDER}exports.showFileOpenError=showFileOpenError;CommandManager.register(Strings.CMD_ADD_TO_WORKING_SET,Commands.FILE_ADD_TO_WORKING_SET,handleFileAddToWorkingSet);CommandManager.register(Strings.CMD_FILE_OPEN,Commands.FILE_OPEN,handleDocumentOpen);CommandManager.register(Strings.CMD_ADD_TO_WORKING_SET,Commands.CMD_ADD_TO_WORKINGSET_AND_OPEN,handleFileAddToWorkingSetAndOpen);CommandManager.register(Strings.CMD_FILE_OPEN,Commands.CMD_OPEN,handleFileOpen);CommandManager.register(Strings.CMD_FILE_NEW_UNTITLED,Commands.FILE_NEW_UNTITLED,handleFileNew);CommandManager.register(Strings.CMD_FILE_NEW,Commands.FILE_NEW,handleFileNewInProject);CommandManager.register(Strings.CMD_FILE_NEW_FOLDER,Commands.FILE_NEW_FOLDER,handleNewFolderInProject);CommandManager.register(Strings.CMD_FILE_SAVE,Commands.FILE_SAVE,handleFileSave);CommandManager.register(Strings.CMD_FILE_SAVE_ALL,Commands.FILE_SAVE_ALL,handleFileSaveAll);CommandManager.register(Strings.CMD_FILE_SAVE_AS,Commands.FILE_SAVE_AS,handleFileSaveAs);CommandManager.register(Strings.CMD_FILE_RENAME,Commands.FILE_RENAME,handleFileRename);CommandManager.register(Strings.CMD_FILE_DELETE,Commands.FILE_DELETE,handleFileDelete);CommandManager.register(Strings.CMD_FILE_DOWNLOAD,Commands.FILE_DOWNLOAD,handleFileDownload);CommandManager.register(Strings.CMD_FILE_CLOSE,Commands.FILE_CLOSE,handleFileClose);CommandManager.register(Strings.CMD_FILE_CLOSE_ALL,Commands.FILE_CLOSE_ALL,handleFileCloseAll);CommandManager.register(Strings.CMD_FILE_CLOSE_LIST,Commands.FILE_CLOSE_LIST,handleFileCloseList);CommandManager.register(Strings.CMD_NEXT_DOC,Commands.NAVIGATE_NEXT_DOC,handleGoNextDoc);CommandManager.register(Strings.CMD_PREV_DOC,Commands.NAVIGATE_PREV_DOC,handleGoPrevDoc);CommandManager.register(Strings.CMD_NEXT_DOC_LIST_ORDER,Commands.NAVIGATE_NEXT_DOC_LIST_ORDER,handleGoNextDocListOrder);CommandManager.register(Strings.CMD_PREV_DOC_LIST_ORDER,Commands.NAVIGATE_PREV_DOC_LIST_ORDER,handleGoPrevDocListOrder);CommandManager.register(showInOS,Commands.NAVIGATE_SHOW_IN_OS,handleShowInOS);CommandManager.register(quitString,Commands.FILE_QUIT,handleFileQuit);CommandManager.register(Strings.CMD_SHOW_IN_TREE,Commands.NAVIGATE_SHOW_IN_FILE_TREE,handleShowInTree);CommandManager.registerInternal(Commands.APP_ABORT_QUIT,handleAbortQuit);CommandManager.registerInternal(Commands.APP_BEFORE_MENUPOPUP,handleBeforeMenuPopup);CommandManager.registerInternal(Commands.FILE_CLOSE_WINDOW,handleFileCloseWindow);CommandManager.registerInternal(Commands.APP_RELOAD,handleReload);CommandManager.registerInternal(Commands.APP_RELOAD_WITHOUT_EXTS,handleReloadWithoutExts);CommandManager.registerInternal("bramble.addFile",handleBrambleNewFile);ProjectManager.on("projectOpen",_updateTitle);DocumentManager.on("dirtyFlagChange",handleDirtyChange);DocumentManager.on("fileNameChange",handleCurrentFileChange);MainViewManager.on("currentFileChange",handleCurrentFileChange);ProjectManager.on("beforeProjectClose",function(){_nextUntitledIndexToUse=1})});define("text!htmlContent/code-hint-list.html",[],function(){return'{{#hints}}\n    <li>\n        <a href="#">\n            <span class="codehint-item">{{{formattedHint}}}</span>\n        </a>\n    </li>\n{{/hints}}'});define("editor/CodeHintList",["require","exports","module","command/KeyBindingManager","command/Menus","utils/KeyEvent","utils/StringUtils","utils/ValidationUtils","utils/ViewUtils","widgets/PopUpManager","thirdparty/mustache/mustache","text!htmlContent/code-hint-list.html"],function(require,exports,module){"use strict";var KeyBindingManager=require("command/KeyBindingManager"),Menus=require("command/Menus"),KeyEvent=require("utils/KeyEvent"),StringUtils=require("utils/StringUtils"),ValidationUtils=require("utils/ValidationUtils"),ViewUtils=require("utils/ViewUtils"),PopUpManager=require("widgets/PopUpManager"),Mustache=require("thirdparty/mustache/mustache");var CodeHintListHTML=require("text!htmlContent/code-hint-list.html");function CodeHintList(editor,insertHintOnTab,maxResults){this.hints=[];this.selectedIndex=-1;this.maxResults=ValidationUtils.isIntegerInRange(maxResults,1,1e3)?maxResults:50;this.opened=false;this.editor=editor;this.insertHintOnTab=insertHintOnTab;this.pendingText="";this.handleSelect=null;this.handleClose=null;this.$hintMenu=$("<li class='dropdown codehint-menu'></li>").append($("<a href='#' class='dropdown-toggle' data-toggle='dropdown'></a>").hide()).append("<ul class='dropdown-menu'></ul>");this._keydownHook=this._keydownHook.bind(this)}CodeHintList.prototype._setSelectedIndex=function(index){var items=this.$hintMenu.find("li");index=Math.max(-1,Math.min(index,items.length-1));if(this.selectedIndex!==-1){$(items[this.selectedIndex]).find("a").removeClass("highlight")}this.selectedIndex=index;if(this.selectedIndex!==-1){var $item=$(items[this.selectedIndex]);var $view=this.$hintMenu.find("ul.dropdown-menu");$item.find("a").addClass("highlight");ViewUtils.scrollElementIntoView($view,$item,false)}};CodeHintList.prototype.addPendingText=function(text){this.pendingText+=text};CodeHintList.prototype.removePendingText=function(text){if(this.pendingText.indexOf(text)===0){this.pendingText=this.pendingText.slice(text.length)}};CodeHintList.prototype._buildListView=function(hintObj){var self=this,match=hintObj.match,selectInitial=hintObj.selectInitial,view={hints:[]},_addHint;this.hints=hintObj.hints;this.hints.handleWideResults=hintObj.handleWideResults;if(match){_addHint=function(name){var displayName=name.replace(new RegExp(StringUtils.regexEscape(match),"i"),"<strong>$&</strong>");view.hints.push({formattedHint:"<span>"+displayName+"</span>"})}}else{_addHint=function(hint){view.hints.push({formattedHint:hint.jquery?"":hint})}}this.$hintMenu.find("li").remove();if(this.hints.length===0){if(this.handleClose){this.handleClose()}}else{this.hints.some(function(item,index){if(index>=self.maxResults){return true}_addHint(item)});var $ul=this.$hintMenu.find("ul.dropdown-menu"),$parent=$ul.parent();$ul.remove().append(Mustache.render(CodeHintListHTML,view));$ul.children("li").each(function(index,element){var hint=self.hints[index],$element=$(element);$element.data("hint",hint);if(hint.jquery){$element.find(".codehint-item").append(hint)}});$ul.on("click","li",function(e){e.stopPropagation();if(self.handleSelect){self.handleSelect($(this).data("hint"))}});if(this.hints.handleWideResults){$ul.find("li a").addClass("wide-result")}$parent.append($ul);this._setSelectedIndex(selectInitial?0:-1)}};CodeHintList.prototype._calcHintListLocation=function(){var cursor=this.editor._codeMirror.cursorCoords(),posTop=cursor.bottom,posLeft=cursor.left,textHeight=this.editor.getTextHeight(),$window=$(window),$menuWindow=this.$hintMenu.children("ul"),menuHeight=$menuWindow.outerHeight();var bottomOverhang=posTop+menuHeight-$window.height();if(bottomOverhang>0){posTop-=textHeight+2+menuHeight}posTop-=30;var menuWidth=$menuWindow.width();var availableWidth=menuWidth;var rightOverhang=posLeft+menuWidth-$window.width();if(rightOverhang>0){posLeft=Math.max(0,posLeft-rightOverhang)}else if(this.hints.handleWideResults){availableWidth=menuWidth+Math.abs(rightOverhang)}return{left:posLeft,top:posTop,width:availableWidth}};CodeHintList.prototype.isHandlingKeyCode=function(keyCodeOrEvent){var keyCode=typeof keyCodeOrEvent==="object"?keyCodeOrEvent.keyCode:keyCodeOrEvent;var ctrlKey=typeof keyCodeOrEvent==="object"?keyCodeOrEvent.ctrlKey:false;return keyCode===KeyEvent.DOM_VK_UP||keyCode===KeyEvent.DOM_VK_DOWN||keyCode===KeyEvent.DOM_VK_PAGE_UP||keyCode===KeyEvent.DOM_VK_PAGE_DOWN||keyCode===KeyEvent.DOM_VK_RETURN||keyCode===KeyEvent.DOM_VK_CONTROL||keyCode===KeyEvent.DOM_VK_ESCAPE||ctrlKey&&keyCode===KeyEvent.DOM_VK_SPACE||keyCode===KeyEvent.DOM_VK_TAB&&this.insertHintOnTab};CodeHintList.prototype._keydownHook=function(event){var keyCode,self=this;function _rotateSelection(distance){var len=Math.min(self.hints.length,self.maxResults),pos;if(self.selectedIndex<0){pos=distance>0?distance-1:len-1}else{pos=self.selectedIndex;if(distance>0){if(pos===len-1){pos=0}else{pos=Math.min(pos+distance,len-1)}}else{if(pos===0){pos=len-1}else{pos=Math.max(pos+distance,0)}}}self._setSelectedIndex(pos)}function _itemsPerPage(){var itemsPerPage=1,$items=self.$hintMenu.find("li"),$view=self.$hintMenu.find("ul.dropdown-menu"),itemHeight;if($items.length!==0){itemHeight=$($items[0]).height();if(itemHeight){itemsPerPage=Math.floor($view.height()/itemHeight);itemsPerPage=Math.max(1,Math.min(itemsPerPage,$items.length))}}return itemsPerPage}if(!this.isOpen()){this.handleClose();return false}if(event.type==="keydown"&&this.isHandlingKeyCode(event)){keyCode=event.keyCode;if(event.keyCode===KeyEvent.DOM_VK_ESCAPE){event.stopImmediatePropagation();this.handleClose();return false}else if(event.shiftKey&&(event.keyCode===KeyEvent.DOM_VK_UP||event.keyCode===KeyEvent.DOM_VK_DOWN||event.keyCode===KeyEvent.DOM_VK_PAGE_UP||event.keyCode===KeyEvent.DOM_VK_PAGE_DOWN)){this.handleClose();return false}else if(keyCode===KeyEvent.DOM_VK_UP){_rotateSelection.call(this,-1)}else if(keyCode===KeyEvent.DOM_VK_DOWN||event.ctrlKey&&keyCode===KeyEvent.DOM_VK_SPACE){_rotateSelection.call(this,1)}else if(keyCode===KeyEvent.DOM_VK_PAGE_UP){_rotateSelection.call(this,-_itemsPerPage())}else if(keyCode===KeyEvent.DOM_VK_PAGE_DOWN){_rotateSelection.call(this,_itemsPerPage())}else if(this.selectedIndex!==-1&&(keyCode===KeyEvent.DOM_VK_RETURN||keyCode===KeyEvent.DOM_VK_TAB&&this.insertHintOnTab)){if(this.pendingText){return false}$(this.$hintMenu.find("li")[this.selectedIndex]).trigger("click")}else{return false}event.stopImmediatePropagation();event.preventDefault();return true}return false};CodeHintList.prototype.isOpen=function(){if(this.opened&&!this.$hintMenu.hasClass("open")){this.opened=false}return this.opened};CodeHintList.prototype.open=function(hintObj){Menus.closeAll();this._buildListView(hintObj);if(this.hints.length){$("#codehint-menu-bar > ul").append(this.$hintMenu);var hintPos=this._calcHintListLocation();this.$hintMenu.addClass("open").css({left:hintPos.left,top:hintPos.top,width:hintPos.width+"px"});this.opened=true;KeyBindingManager.addGlobalKeydownHook(this._keydownHook)}};CodeHintList.prototype.update=function(hintObj){this.$hintMenu.addClass("apply-transition");this._buildListView(hintObj);if(this.hints.length){var hintPos=this._calcHintListLocation();this.$hintMenu.css({left:hintPos.left,top:hintPos.top,width:hintPos.width+"px"})}};CodeHintList.prototype.callMoveUp=function(event){delete event.type;event.type="keydown";this._keydownHook(event)};CodeHintList.prototype.close=function(){this.opened=false;if(this.$hintMenu){this.$hintMenu.removeClass("open");PopUpManager.removePopUp(this.$hintMenu);this.$hintMenu.remove()}KeyBindingManager.removeGlobalKeydownHook(this._keydownHook)};CodeHintList.prototype.onSelect=function(callback){this.handleSelect=callback};CodeHintList.prototype.onClose=function(callback){this.handleClose=callback};exports.CodeHintList=CodeHintList});define("editor/CodeHintManager",["require","exports","module","command/Commands","command/CommandManager","editor/EditorManager","strings","utils/KeyEvent","editor/CodeHintList","preferences/PreferencesManager"],function(require,exports,module){"use strict";var Commands=require("command/Commands"),CommandManager=require("command/CommandManager"),EditorManager=require("editor/EditorManager"),Strings=require("strings"),KeyEvent=require("utils/KeyEvent"),CodeHintList=require("editor/CodeHintList").CodeHintList,PreferencesManager=require("preferences/PreferencesManager");var hintProviders={all:[]},lastChar=null,sessionProvider=null,sessionEditor=null,hintList=null,deferredHints=null,keyDownEditor=null,codeHintsEnabled=true,codeHintOpened=false;PreferencesManager.definePreference("showCodeHints","boolean",true,{description:Strings.DESCRIPTION_SHOW_CODE_HINTS});PreferencesManager.definePreference("insertHintOnTab","boolean",false,{description:Strings.DESCRIPTION_INSERT_HINT_ON_TAB});PreferencesManager.definePreference("maxCodeHints","number",50,{description:Strings.DESCRIPTION_MAX_CODE_HINTS});PreferencesManager.on("change","showCodeHints",function(){codeHintsEnabled=PreferencesManager.get("showCodeHints")});function _providerSort(a,b){return b.priority-a.priority}function registerHintProvider(providerInfo,languageIds,priority){var providerObj={provider:providerInfo,priority:priority||0};if(languageIds.indexOf("all")!==-1){var languageId;for(languageId in hintProviders){if(hintProviders.hasOwnProperty(languageId)){hintProviders[languageId].push(providerObj);hintProviders[languageId].sort(_providerSort)}}}else{languageIds.forEach(function(languageId){if(!hintProviders[languageId]){hintProviders[languageId]=Array.prototype.concat(hintProviders.all)}hintProviders[languageId].push(providerObj);hintProviders[languageId].sort(_providerSort)})}}function _removeHintProvider(provider,targetLanguageId){var index,providers,targetLanguageIdArr;if(Array.isArray(targetLanguageId)){targetLanguageIdArr=targetLanguageId}else if(targetLanguageId){targetLanguageIdArr=[targetLanguageId]}else{targetLanguageIdArr=Object.keys(hintProviders)}targetLanguageIdArr.forEach(function(languageId){providers=hintProviders[languageId];for(index=0;index<providers.length;index++){if(providers[index].provider===provider){providers.splice(index,1);break}}})}function _getProvidersForLanguageId(languageId){var providers=hintProviders[languageId]||hintProviders.all;return providers.filter(function(provider){var prefKey="codehint."+provider.provider.constructor.name;return PreferencesManager.get(prefKey)!==false})}var _beginSession;function _endSession(){if(!hintList){return}hintList.close();hintList=null;codeHintOpened=false;keyDownEditor=null;sessionProvider=null;sessionEditor=null;if(deferredHints){deferredHints.reject();deferredHints=null}}function _inSession(editor){if(sessionEditor){if(sessionEditor===editor&&(hintList.isOpen()||deferredHints&&deferredHints.state()==="pending")){return true}else{_endSession()}}return false}function _updateHintList(callMoveUpEvent){callMoveUpEvent=typeof callMoveUpEvent==="undefined"?false:callMoveUpEvent;if(deferredHints){deferredHints.reject();deferredHints=null}if(callMoveUpEvent){return hintList.callMoveUp(callMoveUpEvent)}var response=sessionProvider.getHints(lastChar);lastChar=null;if(!response){_endSession()}else{if(response===true){var previousEditor=sessionEditor;_endSession();_beginSession(previousEditor)}else if(response.hasOwnProperty("hints")){if(hintList.isOpen()){hintList.update(response)}else{hintList.open(response)}}else{deferredHints=response;response.done(function(hints){if(!hintList){return}if(hintList.isOpen()){hintList.update(hints)}else{hintList.open(hints)}})}}}_beginSession=function(editor){if(!codeHintsEnabled){return}if(editor.getSelections().length>1){return}var language=editor.getLanguageForSelection(),enabledProviders=_getProvidersForLanguageId(language.getId());enabledProviders.some(function(item,index){if(item.provider.hasHints(editor,lastChar)){sessionProvider=item.provider;return true}});if(sessionProvider){var insertHintOnTab,maxCodeHints=PreferencesManager.get("maxCodeHints");if(sessionProvider.insertHintOnTab!==undefined){insertHintOnTab=sessionProvider.insertHintOnTab}else{insertHintOnTab=PreferencesManager.get("insertHintOnTab")}sessionEditor=editor;hintList=new CodeHintList(sessionEditor,insertHintOnTab,maxCodeHints);hintList.onSelect(function(hint){var restart=sessionProvider.insertHint(hint),previousEditor=sessionEditor;_endSession();if(restart){_beginSession(previousEditor)}});hintList.onClose(_endSession);_updateHintList()}else{lastChar=null}};function _handleKeydownEvent(jqEvent,editor,event){keyDownEditor=editor;if(!(event.ctrlKey||event.altKey||event.metaKey)&&(event.keyCode===KeyEvent.DOM_VK_ENTER||event.keyCode===KeyEvent.DOM_VK_RETURN||event.keyCode===KeyEvent.DOM_VK_TAB)){lastChar=String.fromCharCode(event.keyCode)}}function _handleKeypressEvent(jqEvent,editor,event){keyDownEditor=editor;lastChar=String.fromCharCode(event.charCode);if(hintList){hintList.addPendingText(lastChar)}}function _handleKeyupEvent(jqEvent,editor,event){keyDownEditor=editor;if(_inSession(editor)){if(event.keyCode===KeyEvent.DOM_VK_HOME||event.keyCode===KeyEvent.DOM_VK_END){_endSession()}else if(event.keyCode===KeyEvent.DOM_VK_LEFT||event.keyCode===KeyEvent.DOM_VK_RIGHT||event.keyCode===KeyEvent.DOM_VK_BACK_SPACE){_updateHintList()}else if(event.ctrlKey&&event.keyCode===KeyEvent.DOM_VK_SPACE){_updateHintList(event)}}}function _handleCursorActivity(event,editor){if(_inSession(editor)){if(editor.getSelections().length>1){_endSession()}}}function _handleChange(event,editor,changeList){if(lastChar&&editor===keyDownEditor){keyDownEditor=null;if(_inSession(editor)){var charToRetest=lastChar;_updateHintList();if(!_inSession(editor)){lastChar=charToRetest;_beginSession(editor)}}else{_beginSession(editor)}if(hintList&&changeList[0]&&changeList[0].text.length&&changeList[0].text[0].length){var expectedLength=editor.getCursorPos().ch-changeList[0].from.ch,newText=changeList[0].text[0];if(newText.length>expectedLength){newText=newText.substr(0,expectedLength)}hintList.removePendingText(newText)}}}function hasValidExclusion(exclusion,textAfterCursor){return exclusion&&exclusion===textAfterCursor}function isOpen(){return hintList&&hintList.isOpen()}function _startNewSession(editor){if(isOpen()){return}if(!editor){editor=EditorManager.getFocusedEditor()}if(editor){lastChar=null;if(_inSession(editor)){_endSession()}_beginSession(editor)}}function _getCodeHintList(){return hintList}function activeEditorChangeHandler(event,current,previous){if(current){current.on("editorChange",_handleChange);current.on("keydown",_handleKeydownEvent);current.on("keypress",_handleKeypressEvent);current.on("keyup",_handleKeyupEvent);current.on("cursorActivity",_handleCursorActivity)}if(previous){previous.off("editorChange",_handleChange);previous.off("keydown",_handleKeydownEvent);previous.off("keypress",_handleKeypressEvent);previous.off("keyup",_handleKeyupEvent);previous.off("cursorActivity",_handleCursorActivity)}}activeEditorChangeHandler(null,EditorManager.getActiveEditor(),null);EditorManager.on("activeEditorChange",activeEditorChangeHandler);CommandManager.on("beforeExecuteCommand",function(event,commandId){if(commandId!==Commands.SHOW_CODE_HINTS){_endSession()}});CommandManager.register(Strings.CMD_SHOW_CODE_HINTS,Commands.SHOW_CODE_HINTS,_startNewSession);exports._getCodeHintList=_getCodeHintList;exports._removeHintProvider=_removeHintProvider;exports.isOpen=isOpen;exports.registerHintProvider=registerHintProvider;exports.hasValidExclusion=hasValidExclusion});define("text!htmlContent/problems-panel.html",[],function(){return'<div id="problems-panel" class="bottom-panel vert-resizable top-resizer">\n    <div class="toolbar simple-toolbar-layout">\n        <div class="title">\x3c!-- filled in programmatically --\x3e</div>\n        <a href="#" class="close">&times;</a>\n    </div>\n    <div class="table-container resizable-content"></div>\n</div>'});define("text!htmlContent/problems-panel-table.html",[],function(){return'<table class="bottom-panel-table table table-striped table-condensed row-highlight">\n    <tbody>\n        {{#reportList}}\n        <tr class="inspector-section">\n            <td colspan="3">\n                <span class="disclosure-triangle {{#isExpanded}}expanded{{/isExpanded}}"></span>\n                <input type="hidden" value="{{providerName}}" />\n                {{providerName}} ({{results.length}})\n            </td>\n        </tr>\n        {{#results}}\n        <tr class="{{display}}">\n            <td class="line-number" data-character="{{pos.ch}}">{{friendlyLine}}</td>\n            <td class="line-text">{{message}}</td>\n            <td class="line-snippet">{{codeSnippet}}</td>\n        </tr>\n        {{/results}}\n        {{/reportList}}\n    </tbody>\n</table>\n'});define("language/CodeInspection",["require","exports","module","thirdparty/lodash","command/Commands","view/WorkspaceManager","command/CommandManager","document/DocumentManager","editor/EditorManager","view/MainViewManager","language/LanguageManager","preferences/PreferencesManager","utils/PerfUtils","strings","utils/StringUtils","utils/AppInit","utils/Resizer","widgets/StatusBar","utils/Async","text!htmlContent/problems-panel.html","text!htmlContent/problems-panel-table.html","thirdparty/mustache/mustache"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var Commands=require("command/Commands"),WorkspaceManager=require("view/WorkspaceManager"),CommandManager=require("command/CommandManager"),DocumentManager=require("document/DocumentManager"),EditorManager=require("editor/EditorManager"),MainViewManager=require("view/MainViewManager"),LanguageManager=require("language/LanguageManager"),PreferencesManager=require("preferences/PreferencesManager"),PerfUtils=require("utils/PerfUtils"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),AppInit=require("utils/AppInit"),Resizer=require("utils/Resizer"),StatusBar=require("widgets/StatusBar"),Async=require("utils/Async"),PanelTemplate=require("text!htmlContent/problems-panel.html"),ResultsTemplate=require("text!htmlContent/problems-panel-table.html"),Mustache=require("thirdparty/mustache/mustache");var INDICATOR_ID="status-inspection";var Type={ERROR:"problem_type_error",WARNING:"problem_type_warning",META:"problem_type_meta"};var PREF_ENABLED="enabled",PREF_COLLAPSED="collapsed",PREF_ASYNC_TIMEOUT="asyncTimeout",PREF_PREFER_PROVIDERS="prefer",PREF_PREFERRED_ONLY="usePreferredOnly";var prefs=PreferencesManager.getExtensionPrefs("linting");var _enabled=false;var _collapsed=false;var $problemsPanel;var $problemsPanelTable;var _gotoEnabled=false;var _providers={};var _hasErrors;var _currentPromise=null;function setGotoEnabled(gotoEnabled){CommandManager.get(Commands.NAVIGATE_GOTO_FIRST_PROBLEM).setEnabled(gotoEnabled);_gotoEnabled=gotoEnabled}function _unregisterAll(){_providers={}}function getProvidersForPath(filePath){var language=LanguageManager.getLanguageForPath(filePath).getId(),context=PreferencesManager._buildContext(filePath,language),installedProviders=_providers[language],preferredProviders,prefPreferredProviderNames=prefs.get(PREF_PREFER_PROVIDERS,context),prefPreferredOnly=prefs.get(PREF_PREFERRED_ONLY,context),providers;installedProviders=installedProviders&&installedProviders.slice(0)||[];if(prefPreferredProviderNames&&prefPreferredProviderNames.length){if(typeof prefPreferredProviderNames==="string"){prefPreferredProviderNames=[prefPreferredProviderNames]}preferredProviders=prefPreferredProviderNames.reduce(function(result,key){var provider=_.find(installedProviders,{name:key});if(provider){result.push(provider)}return result},[]);if(prefPreferredOnly){providers=preferredProviders}else{providers=_.union(preferredProviders,installedProviders)}}else{providers=installedProviders}return providers}function getProviderIDsForLanguage(languageId){if(!_providers[languageId]){return[]}return _providers[languageId].map(function(provider){return provider.name})}function inspectFile(file,providerList){var response=new $.Deferred,results=[];providerList=providerList||getProvidersForPath(file.fullPath);if(!providerList.length){response.resolve(null);return response.promise()}DocumentManager.getDocumentText(file).done(function(fileText){var perfTimerInspector=PerfUtils.markStart("CodeInspection:\t"+file.fullPath),masterPromise;masterPromise=Async.doInParallel(providerList,function(provider){var perfTimerProvider=PerfUtils.markStart("CodeInspection '"+provider.name+"':\t"+file.fullPath),runPromise=new $.Deferred;runPromise.done(function(scanResult){results.push({provider:provider,result:scanResult})});if(provider.scanFileAsync){window.setTimeout(function(){var errTimeout={pos:{line:-1,col:0},message:StringUtils.format(Strings.LINTER_TIMED_OUT,provider.name,prefs.get(PREF_ASYNC_TIMEOUT)),type:Type.ERROR};runPromise.resolve({errors:[errTimeout]})},prefs.get(PREF_ASYNC_TIMEOUT));provider.scanFileAsync(fileText,file.fullPath).done(function(scanResult){PerfUtils.addMeasurement(perfTimerProvider);runPromise.resolve(scanResult)}).fail(function(err){PerfUtils.finalizeMeasurement(perfTimerProvider);var errError={pos:{line:-1,col:0},message:StringUtils.format(Strings.LINTER_FAILED,provider.name,err),type:Type.ERROR};console.error("[CodeInspection] Provider "+provider.name+" (async) failed: "+err);runPromise.resolve({errors:[errError]})})}else{try{var scanResult=provider.scanFile(fileText,file.fullPath);PerfUtils.addMeasurement(perfTimerProvider);runPromise.resolve(scanResult)}catch(err){PerfUtils.finalizeMeasurement(perfTimerProvider);var errError={pos:{line:-1,col:0},message:StringUtils.format(Strings.LINTER_FAILED,provider.name,err),type:Type.ERROR};console.error("[CodeInspection] Provider "+provider.name+" (sync) threw an error: "+err);runPromise.resolve({errors:[errError]})}}return runPromise.promise()},false);masterPromise.then(function(){results.sort(function(a,b){return providerList.indexOf(a.provider)-providerList.indexOf(b.provider)});PerfUtils.addMeasurement(perfTimerInspector);response.resolve(results)})}).fail(function(err){console.error("[CodeInspection] Could not read file for inspection: "+file.fullPath);response.reject(err)});return response.promise()}function updatePanelTitleAndStatusBar(numProblems,providersReportingProblems,aborted){var message,tooltip;if(providersReportingProblems.length===1){$problemsPanelTable.find(".inspector-section").hide();$problemsPanelTable.find("tr").removeClass("forced-hidden");if(numProblems===1&&!aborted){message=StringUtils.format(Strings.SINGLE_ERROR,providersReportingProblems[0].name)}else{if(aborted){numProblems+="+"}message=StringUtils.format(Strings.MULTIPLE_ERRORS,providersReportingProblems[0].name,numProblems)}}else if(providersReportingProblems.length>1){$problemsPanelTable.find(".inspector-section").show();if(aborted){numProblems+="+"}message=StringUtils.format(Strings.ERRORS_PANEL_TITLE_MULTIPLE,numProblems)}else{return}$problemsPanel.find(".title").text(message);tooltip=StringUtils.format(Strings.STATUSBAR_CODE_INSPECTION_TOOLTIP,message);StatusBar.updateIndicator(INDICATOR_ID,true,"inspection-errors",tooltip)}function run(){if(!_enabled){_hasErrors=false;_currentPromise=null;Resizer.hide($problemsPanel);StatusBar.updateIndicator(INDICATOR_ID,true,"inspection-disabled",Strings.LINT_DISABLED);setGotoEnabled(false);return}var currentDoc=DocumentManager.getCurrentDocument(),providerList=currentDoc&&getProvidersForPath(currentDoc.file.fullPath);if(providerList&&providerList.length){var numProblems=0;var aborted=false;var allErrors=[];var html;var providersReportingProblems=[];(_currentPromise=inspectFile(currentDoc.file,providerList)).then(function(results){if(this!==_currentPromise){return}var errors=results.reduce(function(a,item){return a+(item.result?item.result.errors.length:0)},0);_hasErrors=Boolean(errors);if(!errors){Resizer.hide($problemsPanel);var message=Strings.NO_ERRORS_MULTIPLE_PROVIDER;if(providerList.length===1){message=StringUtils.format(Strings.NO_ERRORS,providerList[0].name)}StatusBar.updateIndicator(INDICATOR_ID,true,"inspection-valid",message);setGotoEnabled(false);return}var perfTimerDOM=PerfUtils.markStart("ProblemsPanel render:\t"+currentDoc.file.fullPath);results.forEach(function(inspectionResult){var provider=inspectionResult.provider;var isExpanded=prefs.get(provider.name+".collapsed")!==false;if(inspectionResult.result){inspectionResult.result.errors.forEach(function(error){if(!isNaN(error.pos.line)&&error.pos.line+1>0&&(error.codeSnippet=currentDoc.getLine(error.pos.line))!==undefined){error.friendlyLine=error.pos.line+1;error.codeSnippet=error.codeSnippet.substr(0,175)}if(error.type!==Type.META){numProblems++}error.display=isExpanded?"":"forced-hidden"});if(inspectionResult.result.aborted){aborted=true}if(inspectionResult.result.errors.length){allErrors.push({isExpanded:isExpanded,providerName:provider.name,results:inspectionResult.result.errors});providersReportingProblems.push(provider)}}});html=Mustache.render(ResultsTemplate,{reportList:allErrors});$problemsPanelTable.empty().append(html).scrollTop(0);if(!_collapsed){Resizer.show($problemsPanel)}updatePanelTitleAndStatusBar(numProblems,providersReportingProblems,aborted);setGotoEnabled(true);PerfUtils.addMeasurement(perfTimerDOM)})}else{_hasErrors=false;_currentPromise=null;Resizer.hide($problemsPanel);var language=currentDoc&&LanguageManager.getLanguageForPath(currentDoc.file.fullPath);if(language){StatusBar.updateIndicator(INDICATOR_ID,true,"inspection-disabled",StringUtils.format(Strings.NO_LINT_AVAILABLE,language.getName()))}else{StatusBar.updateIndicator(INDICATOR_ID,true,"inspection-disabled",Strings.NOTHING_TO_LINT)}setGotoEnabled(false)}}function register(languageId,provider){if(!_providers[languageId]){_providers[languageId]=[]}_providers[languageId].push(provider);run()}function updateListeners(){if(_enabled){MainViewManager.on("currentFileChange.codeInspection",function(){run()});DocumentManager.on("currentDocumentLanguageChanged.codeInspection",function(){run()}).on("documentSaved.codeInspection documentRefreshed.codeInspection",function(event,document){if(document===DocumentManager.getCurrentDocument()){run()}})}else{DocumentManager.off(".codeInspection")
;MainViewManager.off(".codeInspection")}}function toggleEnabled(enabled,doNotSave){if(enabled===undefined){enabled=!_enabled}if(enabled===_enabled){return}_enabled=enabled;CommandManager.get(Commands.VIEW_TOGGLE_INSPECTION).setChecked(_enabled);updateListeners();if(!doNotSave){prefs.set(PREF_ENABLED,_enabled);prefs.save()}run()}function toggleCollapsed(collapsed,doNotSave){if(collapsed===undefined){collapsed=!_collapsed}if(collapsed===_collapsed){return}_collapsed=collapsed;if(!doNotSave){prefs.set(PREF_COLLAPSED,_collapsed);prefs.save()}if(_collapsed){Resizer.hide($problemsPanel)}else{if(_hasErrors){Resizer.show($problemsPanel)}}}function handleGotoFirstProblem(){run();if(_gotoEnabled){$problemsPanel.find("tr:not(.inspector-section)").first().trigger("click")}}CommandManager.register(Strings.CMD_VIEW_TOGGLE_INSPECTION,Commands.VIEW_TOGGLE_INSPECTION,toggleEnabled);CommandManager.register(Strings.CMD_GOTO_FIRST_PROBLEM,Commands.NAVIGATE_GOTO_FIRST_PROBLEM,handleGotoFirstProblem);prefs.definePreference(PREF_ENABLED,"boolean",brackets.config["linting.enabled_by_default"],{description:Strings.DESCRIPTION_LINTING_ENABLED}).on("change",function(e,data){toggleEnabled(prefs.get(PREF_ENABLED),true)});prefs.definePreference(PREF_COLLAPSED,"boolean",false,{description:Strings.DESCRIPTION_LINTING_COLLAPSED}).on("change",function(e,data){toggleCollapsed(prefs.get(PREF_COLLAPSED),true)});prefs.definePreference(PREF_ASYNC_TIMEOUT,"number",1e4,{description:Strings.DESCRIPTION_ASYNC_TIMEOUT});prefs.definePreference(PREF_PREFER_PROVIDERS,"array",[],{description:Strings.DESCRIPTION_LINTING_PREFER,valueType:"string"});prefs.definePreference(PREF_PREFERRED_ONLY,"boolean",false,{description:Strings.DESCRIPTION_USE_PREFERED_ONLY});AppInit.htmlReady(function(){var panelHtml=Mustache.render(PanelTemplate,Strings);WorkspaceManager.createBottomPanel("errors",$(panelHtml),100);$problemsPanel=$("#problems-panel");var $selectedRow;$problemsPanelTable=$problemsPanel.find(".table-container").on("click","tr",function(e){if($selectedRow){$selectedRow.removeClass("selected")}$selectedRow=$(e.currentTarget);$selectedRow.addClass("selected");if($selectedRow.hasClass("inspector-section")){var $triangle=$(".disclosure-triangle",$selectedRow);var isExpanded=$triangle.hasClass("expanded");if(isExpanded){$selectedRow.nextUntil(".inspector-section").addClass("forced-hidden")}else{$selectedRow.nextUntil(".inspector-section").removeClass("forced-hidden")}$triangle.toggleClass("expanded");var providerName=$selectedRow.find("input[type='hidden']").val();prefs.set(providerName+".collapsed",!isExpanded);prefs.save()}else{var lineTd=$selectedRow.find(".line-number");var line=parseInt(lineTd.text(),10)-1;if(!isNaN(line)){var character=lineTd.data("character");var editor=EditorManager.getCurrentFullEditor();editor.setCursorPos(line,character,true);MainViewManager.focusActivePane()}}});$("#problems-panel .close").click(function(){toggleCollapsed(true)});var statusIconHtml=Mustache.render('<div id="status-inspection">&nbsp;</div>',Strings);StatusBar.addIndicator(INDICATOR_ID,$(statusIconHtml),true,"","","status-indent");$("#status-inspection").click(function(){if(_hasErrors){toggleCollapsed()}});toggleEnabled(prefs.get(PREF_ENABLED),true);toggleCollapsed(prefs.get(PREF_COLLAPSED),true)});exports._unregisterAll=_unregisterAll;exports._PREF_ASYNC_TIMEOUT=PREF_ASYNC_TIMEOUT;exports._PREF_PREFER_PROVIDERS=PREF_PREFER_PROVIDERS;exports._PREF_PREFERRED_ONLY=PREF_PREFERRED_ONLY;exports.register=register;exports.Type=Type;exports.toggleEnabled=toggleEnabled;exports.inspectFile=inspectFile;exports.requestRun=run;exports.getProvidersForPath=getProvidersForPath;exports.getProviderIDsForLanguage=getProviderIDsForLanguage});define("utils/DropdownEventHandler",["require","exports","module","command/KeyBindingManager","utils/KeyEvent","widgets/PopUpManager","utils/ViewUtils"],function(require,exports,module){"use strict";var KeyBindingManager=require("command/KeyBindingManager"),KeyEvent=require("utils/KeyEvent"),PopUpManager=require("widgets/PopUpManager"),ViewUtils=require("utils/ViewUtils");function DropdownEventHandler($list,selectionCallback,closeCallback){this.$list=$list;this.$items=$list.find("li");this.selectionCallback=selectionCallback;this.closeCallback=closeCallback;this.scrolling=false;this._selectedIndex=-1}DropdownEventHandler.prototype.open=function(){var self=this;function _keydownHook(event){var keyCode;if(event.type==="keydown"){keyCode=event.keyCode;if(keyCode===KeyEvent.DOM_VK_TAB){self.close()}else if(keyCode===KeyEvent.DOM_VK_UP){self._tryToSelect(self._selectedIndex===-1?-1:self._selectedIndex-1,-1)}else if(keyCode===KeyEvent.DOM_VK_DOWN){self._tryToSelect(self._selectedIndex===-1?0:self._selectedIndex+1,+1)}else if(keyCode===KeyEvent.DOM_VK_PAGE_UP){self._tryToSelect((self._selectedIndex||0)-self._itemsPerPage(),-1,true)}else if(keyCode===KeyEvent.DOM_VK_PAGE_DOWN){self._tryToSelect((self._selectedIndex||0)+self._itemsPerPage(),+1,true)}else if(keyCode===KeyEvent.DOM_VK_HOME){self._tryToSelect(0,+1)}else if(keyCode===KeyEvent.DOM_VK_END){self._tryToSelect(self.$items.length-1,-1)}else if(self._selectedIndex!==-1&&keyCode===KeyEvent.DOM_VK_RETURN){self._selectionHandler()}else{return false}event.stopImmediatePropagation();event.preventDefault();return true}return false}function closeCallback(){KeyBindingManager.removeGlobalKeydownHook(_keydownHook);self._cleanup()}KeyBindingManager.addGlobalKeydownHook(_keydownHook);if(this.$list){this._registerMouseEvents();PopUpManager.addPopUp(this.$list,closeCallback,true)}};DropdownEventHandler.prototype.close=function(){if(this.$list){PopUpManager.removePopUp(this.$list)}};DropdownEventHandler.prototype._cleanup=function(){if(this.$list){this.$list.off(".dropdownEventHandler")}if(this.closeCallback){this.closeCallback()}};DropdownEventHandler.prototype._tryToSelect=function(index,direction,noWrap){var len=this.$items.length;if(noWrap){if(index<0){index=0;direction=+1}else if(index>=len){index=len-1;direction=-1}}else{index%=len;if(index<0){index+=len}}var $item=this.$items.eq(index);if($item.hasClass("divider")||$item.find("a.disabled").length){this._tryToSelect(index+direction,direction,noWrap)}else{this._setSelectedIndex(index,true)}};DropdownEventHandler.prototype._itemsPerPage=function(){var itemsPerPage=1,itemHeight;if(this.$items.length!==0){itemHeight=$(this.$items[0]).height();if(itemHeight){itemsPerPage=Math.floor(this.$list.height()/itemHeight);itemsPerPage=Math.max(1,Math.min(itemsPerPage,this.$items.length))}}return itemsPerPage};DropdownEventHandler.prototype._selectionHandler=function(){if(this._selectedIndex===-1){return}var $link=this.$items.eq(this._selectedIndex).find("a");this._clickHandler($link)};DropdownEventHandler.prototype._clickHandler=function($link){if(!this.selectionCallback||!this.$list||!$link){return}if($link.hasClass("disabled")){return}this.selectionCallback($link);PopUpManager.removePopUp(this.$list)};DropdownEventHandler.prototype._setSelectedIndex=function(index,scrollIntoView){index=Math.max(-1,Math.min(index,this.$items.length-1));if(this._selectedIndex!==-1){this.$items.eq(this._selectedIndex).find("a").removeClass("selected")}this._selectedIndex=index;if(this._selectedIndex!==-1){var $item=this.$items.eq(this._selectedIndex);$item.find("a").addClass("selected");if(scrollIntoView){this.scrolling=true;ViewUtils.scrollElementIntoView(this.$list,$item,false)}}};DropdownEventHandler.prototype._registerMouseEvents=function(){var self=this;this.$list.on("click.dropdownEventHandler","a",function(){self._clickHandler($(this))}).on("mouseover.dropdownEventHandler","a",function(e){if(self.scrolling){self.scrolling=false;return}var $link=$(e.currentTarget),$item=$link.closest("li"),viewOffset=self.$list.offset(),elementOffset=$item.offset();if(!$link.hasClass("disabled")){if(elementOffset.top<viewOffset.top+self.$list.height()&&viewOffset.top<=elementOffset.top){self._setSelectedIndex(self.$items.index($item),false)}}})};DropdownEventHandler.prototype.reRegisterMouseHandlers=function($list){if(this.$list){this.$list.off(".dropdownEventHandler");this.$list=$list;this.$items=$list.find("li");this._registerMouseEvents()}};exports.DropdownEventHandler=DropdownEventHandler});define("widgets/DropdownButton",["require","exports","module","utils/DropdownEventHandler","utils/EventDispatcher","view/WorkspaceManager","command/Menus","utils/ViewUtils","thirdparty/lodash"],function(require,exports,module){"use strict";var DropdownEventHandler=require("utils/DropdownEventHandler").DropdownEventHandler,EventDispatcher=require("utils/EventDispatcher"),WorkspaceManager=require("view/WorkspaceManager"),Menus=require("command/Menus"),ViewUtils=require("utils/ViewUtils"),_=require("thirdparty/lodash");function DropdownButton(label,items,itemRenderer){this.items=items;this.itemRenderer=itemRenderer||this.itemRenderer;this._onClick=this._onClick.bind(this);this.closeDropdown=this.closeDropdown.bind(this);this._onClickOutside=this._onClickOutside.bind(this);this.$button=$("<button class='btn btn-dropdown'/>").text(label).on("click",this._onClick)}EventDispatcher.makeEventDispatcher(DropdownButton.prototype);DropdownButton.prototype.items=null;DropdownButton.prototype.$button=null;DropdownButton.prototype.$dropdown=null;DropdownButton.prototype.dropdownExtraClasses=null;DropdownButton.prototype._lastFocus=null;DropdownButton.prototype._dropdownEventHandler=null;DropdownButton.prototype._onClick=function(event){if(!this.$button.hasClass("disabled")){this.toggleDropdown()}event.stopPropagation()};DropdownButton.prototype.setButtonLabel=function(label){if(!this.$button){return}$(this.$button).text(label)};DropdownButton.prototype.itemRenderer=function(item,index){return _.escape(String(item))};DropdownButton.prototype._renderList=function(parent){if(!parent){return null}var html="";this.items.forEach(function(item,i){if(item==="---"){html+="<li class='divider'></li>"}else{var rendered=this.itemRenderer(item,i),itemHtml=rendered.html||rendered,disabledClass=rendered.html&&!rendered.enabled?"disabled":"";html+="<li><a class='stylesheet-link "+disabledClass+"' data-index='"+i+"'>";html+=itemHtml;html+="</a></li>"}}.bind(this));parent.append(html);this.trigger("listRendered",parent);if(this._dropdownEventHandler){this._dropdownEventHandler.reRegisterMouseHandlers(parent)}return parent};DropdownButton.prototype.refresh=function(){if(!this.$dropdown){return}$("li",this.$dropdown).remove();this._renderList(this.$dropdown)};DropdownButton.prototype.setChecked=function(index,checked){if(!this.$dropdown){return}var listItems=$("li",this.$dropdown),count=listItems.length;if(index>-1&&index<count){$("a",listItems[index]).toggleClass("checked",checked)}};DropdownButton.prototype.showDropdown=function(){if(!this.items.length){return}if(this.$dropdown){return}Menus.closeAll();var $dropdown=$("<ul class='dropdown-menu dropdownbutton-popup' tabindex='-1'>").addClass(this.dropdownExtraClasses).css("min-width",this.$button.outerWidth());this.$dropdown=$dropdown;this._renderList(this.$dropdown).appendTo($("body")).data("attached-to",this.$button[0]);var toggleOffset=this.$button.offset(),posLeft=toggleOffset.left,posTop=toggleOffset.top+this.$button.outerHeight(),elementRect={top:posTop,left:posLeft,height:$dropdown.height(),width:$dropdown.width()},clip=ViewUtils.getElementClipSize($(window),elementRect);if(clip.bottom>0){posTop=Math.max(0,toggleOffset.top-$dropdown.height()-4)}var dropdownElement=this.$dropdown[0];var scrollWidth=dropdownElement.offsetWidth-dropdownElement.clientWidth+1;if(clip.right>0){posLeft=Math.max(0,posLeft-clip.right-scrollWidth)}$dropdown.css({left:posLeft,top:posTop,width:$dropdown.width()+scrollWidth});this._dropdownEventHandler=new DropdownEventHandler($dropdown,this._onSelect.bind(this),this._onDropdownClose.bind(this));this._dropdownEventHandler.open();window.document.body.addEventListener("mousedown",this._onClickOutside,true);WorkspaceManager.on("workspaceUpdateLayout",this.closeDropdown);this._lastFocus=window.document.activeElement;$dropdown.focus()};DropdownButton.prototype._onDropdownClose=function(){window.document.body.removeEventListener("mousedown",this._onClickOutside,true);WorkspaceManager.off("workspaceUpdateLayout",this.closeDropdown);if(window.document.activeElement===this.$dropdown[0]){this._lastFocus.focus()}this._dropdownEventHandler=null;this.$dropdown=null};DropdownButton.prototype.closeDropdown=function(){if(this._dropdownEventHandler){this._dropdownEventHandler.close()}};DropdownButton.prototype._onClickOutside=function(event){var $container=$(event.target).closest(".dropdownbutton-popup");if(!$(event.target).is(this.$button)&&($container.length===0||$container[0]!==this.$dropdown[0])){this.closeDropdown();event.stopPropagation();event.preventDefault()}};DropdownButton.prototype.toggleDropdown=function(){if(this.$dropdown){this.closeDropdown()}else{this.showDropdown()}};DropdownButton.prototype._onSelect=function($link){var itemIndex=Number($link.data("index"));this.trigger("select",this.items[itemIndex],itemIndex)};exports.DropdownButton=DropdownButton});define("editor/MultiRangeInlineEditor",["require","exports","module","thirdparty/lodash","document/TextRange","editor/InlineTextEditor","editor/EditorManager","file/FileUtils","preferences/PreferencesManager","project/ProjectManager","command/Commands","strings","command/CommandManager"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var TextRange=require("document/TextRange").TextRange,InlineTextEditor=require("editor/InlineTextEditor").InlineTextEditor,EditorManager=require("editor/EditorManager"),FileUtils=require("file/FileUtils"),PreferencesManager=require("preferences/PreferencesManager"),ProjectManager=require("project/ProjectManager"),Commands=require("command/Commands"),Strings=require("strings"),CommandManager=require("command/CommandManager");var _prevMatchCmd,_nextMatchCmd;function _parseStyleSize($target,styleName){return parseInt($target.css(styleName),10)}function _getPrefsContext(){var projectRoot=ProjectManager.getProjectRoot();return{location:{scope:"user",layer:"project",layerID:projectRoot&&projectRoot.fullPath}}}function SearchResultItem(rangeResult){this.name=rangeResult.name;this.textRange=new TextRange(rangeResult.document,rangeResult.lineStart,rangeResult.lineEnd)}SearchResultItem.prototype.name=null;SearchResultItem.prototype.textRange=null;SearchResultItem.prototype.$listItem=null;function _updateRangeLabel(listItem,range,labelCB){if(labelCB){range.name=labelCB(range.textRange)}var text=_.escape(range.name)+" <span class='related-file'>:"+(range.textRange.startLine+1)+"</span>";listItem.html(text);listItem.attr("title",listItem.text())}function MultiRangeInlineEditor(ranges,messageCB,labelCB,fileComparator){InlineTextEditor.call(this);this._ranges=ranges.map(function(rangeResult){return new SearchResultItem(rangeResult)});this._messageCB=messageCB;this._labelCB=labelCB;this._selectedRangeIndex=-1;this._collapsedFiles={};this._fileComparator=fileComparator||function defaultComparator(file1,file2){return FileUtils.comparePaths(file1.fullPath,file2.fullPath)};this._ranges.sort(function(result1,result2){return this._fileComparator(result1.textRange.document.file,result2.textRange.document.file)}.bind(this))}MultiRangeInlineEditor.prototype=Object.create(InlineTextEditor.prototype);MultiRangeInlineEditor.prototype.constructor=MultiRangeInlineEditor;MultiRangeInlineEditor.prototype.parentClass=InlineTextEditor.prototype;MultiRangeInlineEditor.prototype.$messageDiv=null;MultiRangeInlineEditor.prototype.$relatedContainer=null;MultiRangeInlineEditor.prototype.$related=null;MultiRangeInlineEditor.prototype.$selectedMarker=null;MultiRangeInlineEditor.prototype.$rangeList=null;MultiRangeInlineEditor.prototype._ranges=null;MultiRangeInlineEditor.prototype._selectedRangeIndex=null;MultiRangeInlineEditor.prototype._collapsedFiles=null;MultiRangeInlineEditor.prototype._messageCB=null;MultiRangeInlineEditor.prototype._labelCB=null;MultiRangeInlineEditor.prototype._fileComparator=null;MultiRangeInlineEditor.prototype._$headers=null;MultiRangeInlineEditor.prototype._createListItem=function(range){var self=this,$rangeItem=$("<li/>");$rangeItem.data("filename",range.textRange.document.file.name);$rangeItem.appendTo(this.$rangeList);_updateRangeLabel($rangeItem,range);$rangeItem.mousedown(function(){self.setSelectedIndex(self._ranges.indexOf(range))});range.$listItem=$rangeItem};MultiRangeInlineEditor.prototype._toggleSection=function(fullPath,duringInit){var $headerItem=this._$headers[fullPath];var $disclosureIcon=$headerItem.find(".disclosure-triangle");var isCollapsing=$disclosureIcon.hasClass("expanded");$disclosureIcon.toggleClass("expanded");$headerItem.nextUntil(".section-header").toggle(!isCollapsing);this._collapsedFiles[fullPath]=isCollapsing;if(!duringInit){var setting=PreferencesManager.getViewState("inlineEditor.collapsedFiles",_getPrefsContext())||{};if(isCollapsing){setting[fullPath]=true}else{delete setting[fullPath]}PreferencesManager.setViewState("inlineEditor.collapsedFiles",setting,_getPrefsContext())}this._updateSelectedMarker(false);this._ruleListHeightChanged();if(this._selectedRangeIndex===-1&&!isCollapsing&&!duringInit){var index=_.findIndex(this._ranges,function(resultItem){return resultItem.textRange.document.file.fullPath===fullPath});this.setSelectedIndex(index)}};MultiRangeInlineEditor.prototype._createHeaderItem=function(doc){var $headerItem=$("<li class='section-header'><span class='disclosure-triangle expanded'/><span class='filename'>"+_.escape(doc.file.name)+"</span></li>").attr("title",ProjectManager.makeProjectRelativeIfPossible(doc.file.fullPath)).appendTo(this.$rangeList);$headerItem.click(function(){this._toggleSection(doc.file.fullPath)}.bind(this));this._$headers[doc.file.fullPath]=$headerItem};MultiRangeInlineEditor.prototype._renderList=function(){this.$rangeList.empty();this._$headers={};var self=this,lastSectionDoc,numItemsInSection=0;function finalizeSection(){if(lastSectionDoc){self._$headers[lastSectionDoc.file.fullPath].append(" ("+numItemsInSection+")");if(self._collapsedFiles[lastSectionDoc.file.fullPath]){self._toggleSection(lastSectionDoc.file.fullPath,true)}}}this._ranges.forEach(function(resultItem){if(lastSectionDoc!==resultItem.textRange.document){finalizeSection();lastSectionDoc=resultItem.textRange.document;numItemsInSection=0;this._createHeaderItem(lastSectionDoc)}numItemsInSection++;this._createListItem(resultItem)},this);finalizeSection()};MultiRangeInlineEditor.prototype.load=function(hostEditor){MultiRangeInlineEditor.prototype.parentClass.load.apply(this,arguments);this.$messageDiv=$("<div/>").addClass("inline-editor-message");this.$editorHolder.on("mousewheel.MultiRangeInlineEditor",function(e){e.stopPropagation()});this.$relatedContainer=$("<div/>").addClass("related-container");this.$selectedMarker=$("<div/>").appendTo(this.$relatedContainer).addClass("selection");this.$related=$("<div/>").appendTo(this.$relatedContainer).addClass("related");this.$rangeList=$("<ul/>").appendTo(this.$related);var toCollapse=PreferencesManager.getViewState("inlineEditor.collapsedFiles",_getPrefsContext())||{};Object.keys(toCollapse).forEach(function(fullPath){this._collapsedFiles[fullPath]=true}.bind(this));this._renderList();if(this._ranges.length>1){this.$wrapper.before(this.$relatedContainer)}var self=this;this._ranges.forEach(function(range,index){range.textRange.on("change",function(){_updateRangeLabel(range.$listItem,range)}).on("contentChange",function(){_updateRangeLabel(range.$listItem,range,self._labelCB)});range.textRange.on("lostSync",function(){self._removeRange(range)})});var indexToSelect=_.findIndex(this._ranges,function(range){return!this._collapsedFiles[range.textRange.document.file.fullPath]}.bind(this));if(this._ranges.length===1&&indexToSelect===-1){indexToSelect=0}if(indexToSelect!==-1){this.setSelectedIndex(indexToSelect)}else{this.setSelectedIndex(-1)}var clickHandler=this._onClick.bind(this);this.$htmlContent.on("click.MultiRangeInlineEditor",clickHandler);this.$htmlContent.on("mouseup.MultiRangeInlineEditor",clickHandler);this.$htmlContent.on("focusin.MultiRangeInlineEditor",this._updateCommands.bind(this)).on("focusout.MultiRangeInlineEditor",this._updateCommands.bind(this))};MultiRangeInlineEditor.prototype._updateCommands=function(){var enabled=this.hasFocus()&&this._ranges.length>1;_prevMatchCmd.setEnabled(enabled&&this._selectedRangeIndex>0);_nextMatchCmd.setEnabled(enabled&&this._selectedRangeIndex!==-1&&this._selectedRangeIndex<this._ranges.length-1)};MultiRangeInlineEditor.prototype.onAdded=function(){this._updateSelectedMarker(false);MultiRangeInlineEditor.prototype.parentClass.onAdded.apply(this,arguments);this._ruleListHeightChanged();this._updateCommands()};MultiRangeInlineEditor.prototype.setSelectedIndex=function(index,force){var newIndex=Math.min(Math.max(-1,index),this._ranges.length-1),self=this;if(!force&&newIndex!==-1&&newIndex===this._selectedRangeIndex){return}var $previousItem=this._selectedRangeIndex>=0?this._ranges[this._selectedRangeIndex].$listItem:null;if($previousItem){$previousItem.removeClass("selected")}if(this.editor){this.editor.off(".MultiRangeInlineEditor")}this._selectedRangeIndex=newIndex;if(newIndex===-1){this.setInlineContent(null);var hasHiddenMatches=this._ranges.length>0;if(hasHiddenMatches){this.$messageDiv.text(Strings.INLINE_EDITOR_HIDDEN_MATCHES)}else if(this._messageCB){this._messageCB(hasHiddenMatches).done(function(msg){self.$messageDiv.html(msg)})}else{this.$messageDiv.text(Strings.INLINE_EDITOR_NO_MATCHES)}this.$htmlContent.append(this.$messageDiv);this.sizeInlineWidgetToContents()}else{this.$messageDiv.remove();var range=this._getSelectedRange();range.$listItem.addClass("selected");this.setInlineContent(range.textRange.document,range.textRange.startLine,range.textRange.endLine);this.editor.focus();this._updateEditorMinHeight();this.editor.refresh();this.editor.on("cursorActivity.MultiRangeInlineEditor",this._ensureCursorVisible.bind(this));this.sizeInlineWidgetToContents();this._updateSelectedMarker(true)}this._updateCommands()};MultiRangeInlineEditor.prototype._updateEditorMinHeight=function(){if(!this.editor){return}var ruleListNaturalHeight=this.$related.outerHeight(),headerHeight=$(".inline-editor-header",this.$htmlContent).outerHeight();if(!ruleListNaturalHeight||!headerHeight){return}$(this.editor.getScrollerElement()).css("min-height",ruleListNaturalHeight-headerHeight+"px")};MultiRangeInlineEditor.prototype._ruleListHeightChanged=function(){this._updateEditorMinHeight();this.sizeInlineWidgetToContents()};MultiRangeInlineEditor.prototype._removeRange=function(range){if(this._ranges.length<=1){this.close();return}var index=this._ranges.indexOf(range);if(index===this._selectedRangeIndex){if(index+1<this._ranges.length){this.setSelectedIndex(index+1)}else{this.setSelectedIndex(index-1)}}range.textRange.dispose();this._ranges.splice(index,1);this._renderList();if(index<this._selectedRangeIndex){this._selectedRangeIndex--;this._updateSelectedMarker(true)}if(this._ranges.length===1){this.$relatedContainer.remove();if(this.editor){this.editor.refresh()}}this._updateCommands()};MultiRangeInlineEditor.prototype.addAndSelectRange=function(name,doc,lineStart,lineEnd){var newRange=new SearchResultItem({name:name,document:doc,lineStart:lineStart,lineEnd:lineEnd}),i;for(i=0;i<this._ranges.length;i++){if(this._fileComparator(this._ranges[i].textRange.document.file,doc.file)>0){break}}this._ranges.splice(i,0,newRange);this._renderList();if(this._ranges.length>1&&!this.$relatedContainer.parent().length){this.$wrapper.before(this.$relatedContainer)}if(this._collapsedFiles[doc.file.fullPath]){this._toggleSection(doc.file.fullPath)}this.setSelectedIndex(i,true);this._updateCommands()};MultiRangeInlineEditor.prototype._updateSelectedMarker=function(animate){if(this._selectedRangeIndex<0||this._collapsedFiles[this._getSelectedRange().textRange.document.file.fullPath]){this.$selectedMarker.hide();return}var $rangeItem=this._ranges[this._selectedRangeIndex].$listItem;var containerHeight=this.$relatedContainer.height(),itemTop=$rangeItem.position().top,scrollTop=this.$relatedContainer.scrollTop();this.$selectedMarker.show().toggleClass("animate",animate).css("top",itemTop).height($rangeItem.outerHeight());if(containerHeight<=0){return}var paddingTop=_parseStyleSize($rangeItem.parent(),"paddingTop");if(itemTop-paddingTop<scrollTop){this.$relatedContainer.scrollTop(itemTop-paddingTop)}else{var itemBottom=itemTop+$rangeItem.height()+_parseStyleSize($rangeItem.parent(),"paddingBottom");if(itemBottom>scrollTop+containerHeight){this.$relatedContainer.scrollTop(itemBottom-containerHeight)}}};MultiRangeInlineEditor.prototype.onClosed=function(){MultiRangeInlineEditor.prototype.parentClass.onClosed.apply(this,arguments);this._ranges.forEach(function(searchResult){searchResult.textRange.dispose()});this.$htmlContent.off(".MultiRangeInlineEditor");this.$editorHolder.off(".MultiRangeInlineEditor")};MultiRangeInlineEditor.prototype._onClick=function(event){if(!this.editor){return}var childEditor=this.editor,editorRoot=childEditor.getRootElement(),editorPos=$(editorRoot).offset();function containsClick($parent){return $parent.find(event.target).length>0||$parent[0]===event.target}if(!containsClick($(editorRoot))&&!containsClick($(".filename",this.$htmlContent))){childEditor.focus();if(!containsClick(this.$relatedContainer)){if(event.pageY<editorPos.top){childEditor.setCursorPos(0,0)}else if(event.pageY>editorPos.top+$(editorRoot).height()){var lastLine=childEditor.getLastVisibleLine();childEditor.setCursorPos(lastLine,childEditor.document.getLine(lastLine).length)}}}};MultiRangeInlineEditor.prototype._ensureCursorVisible=function(){if(!this.editor){return}if($.contains(this.editor.getRootElement(),window.document.activeElement)){var hostScrollPos=this.hostEditor.getScrollPos(),cursorCoords=this.editor._codeMirror.cursorCoords();var scrollerTop=this.hostEditor.getVirtualScrollAreaTop();this.hostEditor._codeMirror.scrollIntoView({left:hostScrollPos.x,top:cursorCoords.top-scrollerTop,right:hostScrollPos.x,bottom:cursorCoords.bottom-scrollerTop})}};MultiRangeInlineEditor.prototype._onLostContent=function(event,cause){if(cause&&cause.type==="deleted"){return}return MultiRangeInlineEditor.prototype.parentClass._onLostContent.apply(this,arguments)};MultiRangeInlineEditor.prototype._getRanges=function(){return this._ranges};MultiRangeInlineEditor.prototype._getSelectedRange=function(){return this._selectedRangeIndex>=0?this._ranges[this._selectedRangeIndex]:null};MultiRangeInlineEditor.prototype._selectNextPrev=function(dir){if(this._selectedRangeIndex===-1){return}var origDoc=this._ranges[this._selectedRangeIndex].textRange.document,i;for(i=this._selectedRangeIndex+dir;i>=0&&i<this._ranges.length;i+=dir){var doc=this._ranges[i].textRange.document;if(doc===origDoc&&this._collapsedFiles[doc.file.fullPath]){this._toggleSection(doc.file.fullPath)}if(!this._collapsedFiles[doc.file.fullPath]){this.setSelectedIndex(i);return}}};MultiRangeInlineEditor.prototype._selectNextRange=function(){this._selectNextPrev(1)};MultiRangeInlineEditor.prototype._selectPreviousRange=function(){this._selectNextPrev(-1)};MultiRangeInlineEditor.prototype.sizeInlineWidgetToContents=function(){MultiRangeInlineEditor.prototype.parentClass.sizeInlineWidgetToContents.call(this);var widgetHeight=Math.max(this.$related.height(),this.$header.outerHeight()+(this._selectedRangeIndex===-1?this.$messageDiv.outerHeight():this.$editorHolder.height()));if(widgetHeight){this.hostEditor.setInlineWidgetHeight(this,widgetHeight,false)}};MultiRangeInlineEditor.prototype.onParentShown=function(){MultiRangeInlineEditor.prototype.parentClass.onParentShown.apply(this,arguments);this._updateSelectedMarker(false)};MultiRangeInlineEditor.prototype.refresh=function(){MultiRangeInlineEditor.prototype.parentClass.refresh.apply(this,arguments);this.sizeInlineWidgetToContents();if(this.editor){this.editor.refresh()}};function getFocusedMultiRangeInlineEditor(){var focusedWidget=EditorManager.getFocusedInlineWidget();if(focusedWidget instanceof MultiRangeInlineEditor){return focusedWidget}else{return null}}function _previousRange(){var focusedMultiRangeInlineEditor=getFocusedMultiRangeInlineEditor();if(focusedMultiRangeInlineEditor){focusedMultiRangeInlineEditor._selectPreviousRange()}}function _nextRange(){var focusedMultiRangeInlineEditor=getFocusedMultiRangeInlineEditor();if(focusedMultiRangeInlineEditor){focusedMultiRangeInlineEditor._selectNextRange()}}_prevMatchCmd=CommandManager.register(Strings.CMD_QUICK_EDIT_PREV_MATCH,Commands.QUICK_EDIT_PREV_MATCH,_previousRange);_prevMatchCmd.setEnabled(false);_nextMatchCmd=CommandManager.register(Strings.CMD_QUICK_EDIT_NEXT_MATCH,Commands.QUICK_EDIT_NEXT_MATCH,_nextRange);_nextMatchCmd.setEnabled(false);exports.MultiRangeInlineEditor=MultiRangeInlineEditor;exports.getFocusedMultiRangeInlineEditor=getFocusedMultiRangeInlineEditor});define("editor/CSSInlineEditor",["require","exports","module","language/CSSUtils","widgets/DropdownButton","command/CommandManager","command/Commands","document/DocumentManager","editor/EditorManager","editor/Editor","language/LanguageManager","project/ProjectManager","file/FileUtils","language/HTMLUtils","editor/MultiRangeInlineEditor","strings","utils/ViewUtils","thirdparty/lodash"],function(require,exports,module){"use strict";var CSSUtils=require("language/CSSUtils"),DropdownButton=require("widgets/DropdownButton").DropdownButton,CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),DocumentManager=require("document/DocumentManager"),EditorManager=require("editor/EditorManager"),Editor=require("editor/Editor").Editor,LanguageManager=require("language/LanguageManager"),ProjectManager=require("project/ProjectManager"),FileUtils=require("file/FileUtils"),HTMLUtils=require("language/HTMLUtils"),MultiRangeInlineEditor=require("editor/MultiRangeInlineEditor"),Strings=require("strings"),ViewUtils=require("utils/ViewUtils"),_=require("thirdparty/lodash");var _newRuleCmd,_newRuleHandlers=[];function _getCSSFilesInProject(){return ProjectManager.getAllFiles(ProjectManager.getLanguageFilter(["css","less","scss"]))}function _getSelectorName(editor,pos){var tagInfo=HTMLUtils.getTagInfo(editor,pos),selectorName="",reason;if(tagInfo.position.tokenType===HTMLUtils.TAG_NAME||tagInfo.position.tokenType===HTMLUtils.CLOSING_TAG){selectorName=tagInfo.tagName}else if(tagInfo.position.tokenType===HTMLUtils.ATTR_NAME||tagInfo.position.tokenType===HTMLUtils.ATTR_VALUE){if(tagInfo.attr.name==="class"){var attributeValue=tagInfo.attr.value;if(/\S/.test(attributeValue)){var startIndex=attributeValue.substr(0,tagInfo.position.offset).lastIndexOf(" ");var endIndex=attributeValue.indexOf(" ",tagInfo.position.offset);selectorName="."+attributeValue.substring(startIndex===-1?0:startIndex+1,endIndex===-1?attributeValue.length:endIndex);if(selectorName==="."){selectorName="";reason=Strings.ERROR_CSSQUICKEDIT_BETWEENCLASSES}}else{reason=Strings.ERROR_CSSQUICKEDIT_CLASSNOTFOUND}}else if(tagInfo.attr.name==="id"){var trimmedVal=tagInfo.attr.value.trim();if(trimmedVal){selectorName="#"+trimmedVal}else{reason=Strings.ERROR_CSSQUICKEDIT_IDNOTFOUND}}else{reason=Strings.ERROR_CSSQUICKEDIT_UNSUPPORTEDATTR}}return{selectorName:selectorName,reason:reason}}function _addRule(selectorName,inlineEditor,path){DocumentManager.getDocumentForPath(path).done(function(styleDoc){var newRuleInfo=CSSUtils.addRuleToDocument(styleDoc,selectorName,Editor.getUseTabChar(path),Editor.getSpaceUnits(path));inlineEditor.addAndSelectRange(selectorName,styleDoc,newRuleInfo.range.from.line,newRuleInfo.range.to.line);inlineEditor.editor.setCursorPos(newRuleInfo.pos.line,newRuleInfo.pos.ch)})}function _handleNewRule(){var inlineEditor=MultiRangeInlineEditor.getFocusedMultiRangeInlineEditor()
;if(inlineEditor){var handlerInfo=_.find(_newRuleHandlers,function(entry){return entry.inlineEditor===inlineEditor});if(handlerInfo){handlerInfo.handler()}}}function _stylesheetListRenderer(item){var html="<span class='stylesheet-name'>"+_.escape(item.name);if(item.subDirStr){html+="<span class='stylesheet-dir'> — "+_.escape(item.subDirStr)+"</span>"}html+="</span>";return html}function htmlToCSSProvider(hostEditor,pos){if(hostEditor.getLanguageForSelection().getId()!=="html"){return null}var sel=hostEditor.getSelection();if(sel.start.line!==sel.end.line){return null}var selectorResult=_getSelectorName(hostEditor,sel.start);if(selectorResult.selectorName===""){return selectorResult.reason||null}var selectorName=selectorResult.selectorName;var result=new $.Deferred,cssInlineEditor,cssFileInfos=[],newRuleButton;function _onDropdownSelect(event,fileInfo){_addRule(selectorName,cssInlineEditor,fileInfo.fullPath)}function _getNoRulesMsg(){var result=new $.Deferred;_getCSSFilesInProject().done(function(fileInfos){result.resolve(fileInfos.length?Strings.CSS_QUICK_EDIT_NO_MATCHES:Strings.CSS_QUICK_EDIT_NO_STYLESHEETS)});return result}function _updateCommands(){_newRuleCmd.setEnabled(cssInlineEditor.hasFocus()&&!newRuleButton.$button.hasClass("disabled"))}function _handleNewRuleClick(e){if(!newRuleButton.$button.hasClass("disabled")){if(cssFileInfos.length===1){_addRule(selectorName,cssInlineEditor,cssFileInfos[0].fullPath)}else{newRuleButton.toggleDropdown()}}}function _fileComparator(a,b){var aIsCSS=LanguageManager.getLanguageForPath(a.fullPath).getId()==="css",bIsCSS=LanguageManager.getLanguageForPath(b.fullPath).getId()==="css";if(aIsCSS&&!bIsCSS){return 1}else if(!aIsCSS&&bIsCSS){return-1}else{return FileUtils.comparePaths(a.fullPath,b.fullPath)}}function _prepFileList(files){files.sort(_fileComparator);var fileNames={};files.forEach(function(file){if(!fileNames[file.name]){fileNames[file.name]=[]}fileNames[file.name].push(file)});_.forEach(fileNames,function(files){if(files.length>1){var displayPaths=ViewUtils.getDirNamesForDuplicateFiles(files);files.forEach(function(file,i){file.subDirStr=displayPaths[i]})}});return files}function _onHostEditorScroll(){newRuleButton.closeDropdown()}CSSUtils.findMatchingRules(selectorName,hostEditor.document).done(function(rules){var inlineEditorDeferred=new $.Deferred;cssInlineEditor=new MultiRangeInlineEditor.MultiRangeInlineEditor(CSSUtils.consolidateRules(rules),_getNoRulesMsg,CSSUtils.getRangeSelectors,_fileComparator);cssInlineEditor.load(hostEditor);cssInlineEditor.$htmlContent.on("focusin",_updateCommands).on("focusout",_updateCommands);cssInlineEditor.on("add",function(){inlineEditorDeferred.resolve()});cssInlineEditor.on("close",function(){newRuleButton.closeDropdown();hostEditor.off("scroll",_onHostEditorScroll)});var $header=$(".inline-editor-header",cssInlineEditor.$htmlContent);newRuleButton=new DropdownButton(Strings.BUTTON_NEW_RULE,[],_stylesheetListRenderer);newRuleButton.$button.addClass("disabled");newRuleButton.$button.addClass("btn-mini stylesheet-button");$header.append(newRuleButton.$button);_newRuleHandlers.push({inlineEditor:cssInlineEditor,handler:_handleNewRuleClick});hostEditor.on("scroll",_onHostEditorScroll);result.resolve(cssInlineEditor);var stylesheetsPromise=_getCSSFilesInProject();$.when(stylesheetsPromise,inlineEditorDeferred.promise()).done(function(fileInfos){cssFileInfos=_prepFileList(fileInfos);if(cssFileInfos.length>0){newRuleButton.$button.removeClass("disabled");if(!rules.length){newRuleButton.$button.focus()}if(cssFileInfos.length===1){newRuleButton.$button.removeClass("btn-dropdown");newRuleButton.$button.on("click",_handleNewRuleClick)}else{newRuleButton.items=cssFileInfos;newRuleButton.on("select",_onDropdownSelect)}}_updateCommands()})}).fail(function(error){console.warn("Error in findMatchingRules()",error);result.reject()});return result.promise()}EditorManager.registerInlineEditProvider(htmlToCSSProvider);_newRuleCmd=CommandManager.register(Strings.CMD_CSS_QUICK_EDIT_NEW_RULE,Commands.CSS_QUICK_EDIT_NEW_RULE,_handleNewRule);_newRuleCmd.setEnabled(false)});define("project/WorkingSetSort",["require","exports","module","command/Commands","command/CommandManager","view/MainViewManager","preferences/PreferencesManager","file/FileUtils","utils/AppInit","strings","thirdparty/lodash"],function(require,exports,module){"use strict";var Commands=require("command/Commands"),CommandManager=require("command/CommandManager"),MainViewManager=require("view/MainViewManager"),PreferencesManager=require("preferences/PreferencesManager"),FileUtils=require("file/FileUtils"),AppInit=require("utils/AppInit"),Strings=require("strings"),_=require("thirdparty/lodash");var _sorts=[];var _currentSort=null;var _automaticSort=false;var _sortPrefConversionMap={"view.sortWorkingSetByAdded":"cmd.sortWorkingSetByAdded","view.sortWorkingSetByName":"cmd.sortWorkingSetByName","view.sortWorkingSetByType":"cmd.sortWorkingSetByType"};var _SORT_EVENT_NAMES="workingSetAdd workingSetAddList";var _WORKING_SET_SORT_PREF="workingSetSortMethod";var _LEGACY_SORT_PREF="currentSort";function get(command){var commandID;if(!command){console.error("Attempting to get a Sort method with a missing required parameter: command");return}if(typeof command==="string"){commandID=command}else{commandID=command.getID()}return _sorts[commandID]}function _convertSortPref(sortMethod){if(!sortMethod){return null}if(_sortPrefConversionMap.hasOwnProperty(sortMethod)){sortMethod=_sortPrefConversionMap[sortMethod];PreferencesManager.setViewState(_WORKING_SET_SORT_PREF,sortMethod)}else{sortMethod=null}return sortMethod}function getAutomatic(){return _automaticSort}function _removeListeners(){MainViewManager.off(".sort")}function setAutomatic(enable){_automaticSort=enable;PreferencesManager.setViewState("automaticSort",_automaticSort);CommandManager.get(Commands.CMD_WORKING_SORT_TOGGLE_AUTO).setChecked(_automaticSort);_currentSort.setChecked(_automaticSort);if(_automaticSort){_currentSort.sort()}else{_removeListeners()}}function _addListeners(){if(_automaticSort&&_currentSort&&_currentSort.getEvents()){MainViewManager.on(_currentSort.getEvents(),function(){_currentSort.sort()}).on("_workingSetDisableAutoSort.sort",function(){setAutomatic(false)})}}function _setCurrentSort(newSort){if(_currentSort!==newSort){if(_currentSort!==null){_currentSort.setChecked(false)}if(_automaticSort){newSort.setChecked(true)}CommandManager.get(Commands.CMD_WORKING_SORT_TOGGLE_AUTO).setEnabled(!!newSort.getEvents());PreferencesManager.setViewState(_WORKING_SET_SORT_PREF,newSort.getCommandID());_currentSort=newSort}}function Sort(commandID,compareFn,events,automaticFn){this._commandID=commandID;this._compareFn=compareFn;this._events=events}Sort.prototype.getCommandID=function(){return this._commandID};Sort.prototype.getCompareFn=function(){return this._compareFn};Sort.prototype.getEvents=function(){return this._events};Sort.prototype.setChecked=function(value){var command=CommandManager.get(this._commandID);if(command){command.setChecked(value)}};Sort.prototype.execute=function(){_setCurrentSort(this);this.sort()};Sort.prototype.sort=function(){if(_currentSort===this){_removeListeners();MainViewManager._sortWorkingSet(MainViewManager.ALL_PANES,this._compareFn);_addListeners()}};function register(command,compareFn,events){var commandID="";if(!command||!compareFn){console.log("Attempting to register a Sort method with a missing required parameter: command or compare function");return}if(typeof command==="string"){commandID=command}else{commandID=command.getID()}if(_sorts[commandID]){console.log("Attempting to register an already-registered Sort method: "+command);return}if(events){events=events.split(" ");events.forEach(function(event,index){events[index]=events[index].trim()+".sort"});events=events.join(" ")}var sort=new Sort(commandID,compareFn,events);_sorts[commandID]=sort;return sort}function _handleToggleAutoSort(){setAutomatic(!getAutomatic())}function _handleSort(commandId){get(commandId).execute()}register(Commands.CMD_WORKINGSET_SORT_BY_ADDED,function(paneId,file1,file2){var index1=MainViewManager.findInWorkingSetByAddedOrder(paneId,file1.fullPath),index2=MainViewManager.findInWorkingSetByAddedOrder(paneId,file2.fullPath);return index1-index2},_SORT_EVENT_NAMES);register(Commands.CMD_WORKINGSET_SORT_BY_NAME,function(paneId,file1,file2){return FileUtils.compareFilenames(file1.name,file2.name,false)},_SORT_EVENT_NAMES);register(Commands.CMD_WORKINGSET_SORT_BY_TYPE,function(paneId,file1,file2){return FileUtils.compareFilenames(file1.name,file2.name,true)},_SORT_EVENT_NAMES);CommandManager.register(Strings.CMD_WORKINGSET_SORT_BY_ADDED,Commands.CMD_WORKINGSET_SORT_BY_ADDED,_.partial(_handleSort,Commands.CMD_WORKINGSET_SORT_BY_ADDED));CommandManager.register(Strings.CMD_WORKINGSET_SORT_BY_NAME,Commands.CMD_WORKINGSET_SORT_BY_NAME,_.partial(_handleSort,Commands.CMD_WORKINGSET_SORT_BY_NAME));CommandManager.register(Strings.CMD_WORKINGSET_SORT_BY_TYPE,Commands.CMD_WORKINGSET_SORT_BY_TYPE,_.partial(_handleSort,Commands.CMD_WORKINGSET_SORT_BY_TYPE));CommandManager.register(Strings.CMD_WORKING_SORT_TOGGLE_AUTO,Commands.CMD_WORKING_SORT_TOGGLE_AUTO,_handleToggleAutoSort);PreferencesManager.stateManager.definePreference("automaticSort","boolean",false);PreferencesManager.stateManager.definePreference(_WORKING_SET_SORT_PREF,"string","");function initSortMethod(){var sortMethod=PreferencesManager.getViewState(_WORKING_SET_SORT_PREF);if(!sortMethod){sortMethod=_convertSortPref(PreferencesManager.getViewState(_LEGACY_SORT_PREF))}if(!sortMethod){sortMethod=Commands.CMD_WORKINGSET_SORT_BY_ADDED}return sortMethod}AppInit.appReady(function(){var sortMethod=initSortMethod(),curSort=get(sortMethod),autoSort=PreferencesManager.getViewState("automaticSort");if(curSort){_setCurrentSort(curSort)}if(autoSort){setAutomatic(autoSort)}if(curSort&&autoSort){curSort.sort()}});exports.register=register;exports.get=get;exports.getAutomatic=getAutomatic;exports.setAutomatic=setAutomatic});define("widgets/ModalBar",["require","exports","module","view/MainViewManager","utils/EventDispatcher","utils/KeyEvent","utils/AnimationUtils","view/WorkspaceManager"],function(require,exports,module){"use strict";var MainViewManager=require("view/MainViewManager"),EventDispatcher=require("utils/EventDispatcher"),KeyEvent=require("utils/KeyEvent"),AnimationUtils=require("utils/AnimationUtils"),WorkspaceManager=require("view/WorkspaceManager");function ModalBar(template,autoClose,animate){if(animate===undefined){animate=true}this._handleKeydown=this._handleKeydown.bind(this);this._handleFocusChange=this._handleFocusChange.bind(this);this._$root=$("<div class='modal-bar'/>").html(template).insertBefore("#editor-holder");if(animate){this._$root.addClass("popout offscreen");window.getComputedStyle(this._$root.get(0)).getPropertyValue("top");this._$root.removeClass("popout offscreen")}MainViewManager.focusActivePane();if(autoClose){this._autoClose=true;this._$root.on("keydown",this._handleKeydown);window.document.body.addEventListener("focusin",this._handleFocusChange,true);var $firstInput=$("input[type='text']",this._$root).first();if($firstInput.length>0){$firstInput.focus()}else{$("button",this._$root).first().focus()}}MainViewManager.cacheScrollState(MainViewManager.ALL_PANES);WorkspaceManager.recomputeLayout();MainViewManager.restoreAdjustedScrollState(MainViewManager.ALL_PANES,this.height())}EventDispatcher.makeEventDispatcher(ModalBar.prototype);ModalBar.prototype._$root=null;ModalBar.prototype._autoClose=false;ModalBar.prototype.isLockedOpen=null;ModalBar.CLOSE_ESCAPE="escape";ModalBar.CLOSE_BLUR="blur";ModalBar.CLOSE_API="api";ModalBar.prototype.height=function(){return this._$root.outerHeight()};ModalBar.prototype.prepareClose=function(restoreScrollPos){if(restoreScrollPos===undefined){restoreScrollPos=true}this._$root.addClass("popout");if(!brackets.nativeMenus){var top=$("#titlebar").outerHeight();this._$root.css("top",top+"px")}var barHeight=this.height();if(restoreScrollPos){MainViewManager.cacheScrollState(MainViewManager.ALL_PANES)}WorkspaceManager.recomputeLayout();if(restoreScrollPos){MainViewManager.restoreAdjustedScrollState(MainViewManager.ALL_PANES,-barHeight)}};ModalBar.prototype.close=function(restoreScrollPos,animate,_reason){var result=new $.Deferred,self=this;if(restoreScrollPos===undefined){restoreScrollPos=true}if(animate===undefined){animate=true}if(!this._$root.hasClass("popout")){this.prepareClose(restoreScrollPos)}if(this._autoClose){window.document.body.removeEventListener("focusin",this._handleFocusChange,true)}this.trigger("close",_reason,result);function doRemove(){self._$root.remove();result.resolve()}if(animate){AnimationUtils.animateUsingClass(this._$root.get(0),"offscreen").done(doRemove)}else{doRemove()}MainViewManager.focusActivePane();return result.promise()};ModalBar.prototype._handleKeydown=function(e){if(e.keyCode===KeyEvent.DOM_VK_ESCAPE){e.stopPropagation();e.preventDefault();this.close(undefined,undefined,ModalBar.CLOSE_ESCAPE)}};ModalBar.prototype._handleFocusChange=function(e){if(this.isLockedOpen&&this.isLockedOpen()){return}var effectiveElem=$(e.target).data("attached-to")||e.target;if(!$.contains(this._$root.get(0),effectiveElem)){this.close(undefined,undefined,ModalBar.CLOSE_BLUR)}};ModalBar.prototype.getRoot=function(){return this._$root};exports.ModalBar=ModalBar});define("search/QuickSearchField",["require","exports","module","utils/KeyEvent"],function(require,exports,module){"use strict";var KeyEvent=require("utils/KeyEvent");function QuickSearchField($input,options){this.$input=$input;this.options=options;options.maxResults=options.maxResults||10;this._handleInput=this._handleInput.bind(this);this._handleKeyDown=this._handleKeyDown.bind(this);$input.on("input",this._handleInput);$input.on("keydown",this._handleKeyDown);this._dropdownTop=$input.offset().top+$input.height()+(options.verticalAdjust||0)}QuickSearchField.prototype.options=null;QuickSearchField.prototype._pending=null;QuickSearchField.prototype._commitPending=false;QuickSearchField.prototype._displayedQuery=null;QuickSearchField.prototype._displayedResults=null;QuickSearchField.prototype._highlightIndex=null;QuickSearchField.prototype._$dropdown=null;QuickSearchField.prototype.$input=null;QuickSearchField.prototype._handleInput=function(){this._pending=null;var valueAtEvent=this.$input.val();var self=this;setTimeout(function(){if(self.$input.val()===valueAtEvent){self.updateResults()}},0)};QuickSearchField.prototype._handleKeyDown=function(event){if(event.keyCode===KeyEvent.DOM_VK_RETURN){if(this._displayedQuery===this.$input.val()){event.preventDefault();this._doCommit()}else{this._commitPending=true}}else if(event.keyCode===KeyEvent.DOM_VK_DOWN){if(this._displayedResults&&this._displayedResults.length){if(this._highlightIndex===null||this._highlightIndex===this._displayedResults.length-1){this._highlightIndex=0}else{this._highlightIndex++}this._updateHighlight(true)}event.preventDefault()}else if(event.keyCode===KeyEvent.DOM_VK_UP){if(this._displayedResults&&this._displayedResults.length){if(this._highlightIndex===null||this._highlightIndex===0){this._highlightIndex=this._displayedResults.length-1}else{this._highlightIndex--}this._updateHighlight(true)}event.preventDefault()}};QuickSearchField.prototype._doCommit=function(index){var item;if(this._displayedResults&&this._displayedResults.length){var committedIndex=index!==undefined?index:this._highlightIndex||0;item=this._displayedResults[committedIndex]}this.options.onCommit(item,this._displayedQuery)};QuickSearchField.prototype._updateHighlight=function(explicit){var $items=this._$dropdown.find("li");$items.removeClass("highlight");if(this._highlightIndex!==null){$items.eq(this._highlightIndex).addClass("highlight");this.options.onHighlight(this._displayedResults[this._highlightIndex],this.$input.val(),explicit)}};QuickSearchField.prototype.updateResults=function(){this._pending=null;var query=this.$input.val();var results=this.options.resultProvider(query);if(results.done&&results.fail){this._pending=results;var self=this;this._pending.done(function(realResults){if(self._pending===results){self._render(realResults,query);this._pending=null}});this._pending.fail(function(){if(self._pending===results){self._render([],query);this._pending=null}})}else{this._render(results,query)}};QuickSearchField.prototype._closeDropdown=function(){if(this._$dropdown){this._$dropdown.remove();this._$dropdown=null}};QuickSearchField.prototype._openDropdown=function(htmlContent){if(!this._$dropdown){var self=this;this._$dropdown=$("<ol class='quick-search-container'/>").appendTo("body").css({position:"absolute",top:this._dropdownTop,left:this.$input.offset().left,width:this.$input.outerWidth()}).click(function(event){var $item=$(event.target).closest("li");if($item.length){self._doCommit($item.index())}})}this._$dropdown.html(htmlContent)};QuickSearchField.prototype._render=function(results,query){this._displayedQuery=query;this._displayedResults=results;this._highlightIndex=0;if(results.error||results.length===0){this._closeDropdown();this.$input.addClass("no-results")}else if(results.hasOwnProperty("error")){this._closeDropdown();this.$input.removeClass("no-results")}else{this.$input.removeClass("no-results");var count=Math.min(results.length,this.options.maxResults),html="",i;for(i=0;i<count;i++){html+=this.options.formatter(results[i],query)}this._openDropdown(html);this._updateHighlight(false)}if(this._commitPending){this._commitPending=false;this._doCommit()}};QuickSearchField.prototype.setText=function(value){this.$input.val(value);this.updateResults()};QuickSearchField.prototype.destroy=function(){this._pending=null;this._closeDropdown()};exports.QuickSearchField=QuickSearchField});define("utils/StringMatch",["require","exports","module","thirdparty/lodash"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");function SearchResult(label){this.label=label}function findSpecialCharacters(str){var i,c;var specials=[0];var lastSegmentSpecialsIndex=0;var lastWasLowerCase=false;for(i=0;i<str.length;i++){c=str[i];if(c==="/"){specials.push(i++);specials.push(i);lastSegmentSpecialsIndex=specials.length-1;lastWasLowerCase=false}else if(c==="."||c==="-"||c==="_"){specials.push(i);if(str[i+1]!=="/"){specials.push(++i)}lastWasLowerCase=false}else if(c.toUpperCase()===c){if(lastWasLowerCase){specials.push(i)}lastWasLowerCase=false}else{lastWasLowerCase=true}}return{specials:specials,lastSegmentSpecialsIndex:lastSegmentSpecialsIndex}}var SPECIALS_MATCH=0;var ANY_MATCH=1;var DEBUG_SCORES=false;function _setDebugScores(ds){DEBUG_SCORES=ds}var SPECIAL_POINTS=40;var MATCH_POINTS=10;var UPPER_CASE_MATCH=100;var CONSECUTIVE_MATCHES_POINTS=8;var BEGINNING_OF_NAME_POINTS=13;var LAST_SEGMENT_BOOST=1;var DEDUCTION_FOR_LENGTH=.2;var NOT_STARTING_ON_SPECIAL_PENALTY=25;function SpecialMatch(index,upper){this.index=index;if(upper){this.upper=upper}}function NormalMatch(index,upper){this.index=index;if(upper){this.upper=upper}}function _generateMatchList(query,str,originalQuery,originalStr,specials,startingSpecial){var result=[];var specialsCounter=startingSpecial;var strCounter=specials[startingSpecial];var queryCounter;var deadBranches=[];for(queryCounter=0;queryCounter<query.length;queryCounter++){deadBranches[queryCounter]=Infinity}queryCounter=0;var state=SPECIALS_MATCH;function findMatchingSpecial(){var i;for(i=specialsCounter;i<specials.length;i++){if(specials[i]>=deadBranches[queryCounter]){break}if(specials[i]<strCounter){specialsCounter=i}else if(query[queryCounter]===str[specials[i]]){strCounter=specials[i];var upper=originalQuery[queryCounter]===originalStr[strCounter]&&originalStr[strCounter]!==str[strCounter];result.push(new SpecialMatch(strCounter,upper));specialsCounter=i;queryCounter++;strCounter++;return true}}return false}function backtrack(){while(result.length>0){var item=result.pop();if(!item){return false}queryCounter--;if(item instanceof SpecialMatch){specialsCounter--;if(item.index<deadBranches[queryCounter]){deadBranches[queryCounter]=item.index-1;state=ANY_MATCH;item=result[result.length-1];if(!item){strCounter=specials[startingSpecial]+1;return true}strCounter=item.index+1;return true}}}return false}while(true){while(queryCounter<query.length&&strCounter<str.length&&strCounter<=deadBranches[queryCounter]){if(state===SPECIALS_MATCH){if(!findMatchingSpecial()){state=ANY_MATCH}}if(state===ANY_MATCH){if(query[queryCounter]===str[strCounter]){var upper=originalQuery[queryCounter]===originalStr[strCounter]&&originalStr[strCounter]!==str[strCounter];result.push(new NormalMatch(strCounter++,upper));queryCounter++;state=SPECIALS_MATCH}else{strCounter++}}}if(queryCounter>=query.length||queryCounter<query.length&&!backtrack()){break}}if(queryCounter<query.length||result.length===0){return null}return result}function _lastSegmentSearch(query,str,originalQuery,originalStr,specials,startingSpecial,lastSegmentStart){var queryCounter,matchList;var remainder="",originalRemainder="",extraCharacters=specials[startingSpecial]+query.length-str.length;if(extraCharacters>0){remainder=query.substring(0,extraCharacters);originalRemainder=originalQuery.substring(0,extraCharacters);query=query.substring(extraCharacters);originalQuery=originalQuery.substring(extraCharacters)}for(queryCounter=0;queryCounter<query.length;queryCounter++){matchList=_generateMatchList(query.substring(queryCounter),str,originalQuery.substring(queryCounter),originalStr,specials,startingSpecial);if(matchList||startingSpecial===0){break}}if(queryCounter===query.length||!matchList){return null}else{return{remainder:remainder+query.substring(0,queryCounter),originalRemainder:originalRemainder+originalQuery.substring(0,queryCounter),matchList:matchList}}}function _wholeStringSearch(queryLower,compareLower,originalQuery,originalStr,specials,lastSegmentSpecialsIndex){var lastSegmentStart=specials[lastSegmentSpecialsIndex];var result;var matchList;result=_lastSegmentSearch(queryLower,compareLower,originalQuery,originalStr,specials,lastSegmentSpecialsIndex,lastSegmentStart);if(result){matchList=result.matchList;if(result.remainder){var remainderMatchList=_generateMatchList(result.remainder,compareLower.substring(0,lastSegmentStart),result.originalRemainder,originalStr.substring(0,lastSegmentStart),specials.slice(0,lastSegmentSpecialsIndex),0);if(remainderMatchList){matchList.unshift.apply(matchList,remainderMatchList)}else{return null}}}else{matchList=_generateMatchList(queryLower,compareLower,originalQuery,originalStr,specials,0)}return matchList}function _computeRangesAndScore(matchList,str,lastSegmentStart){var matchCounter;var ranges=[];var lastMatchIndex=-1;var lastSegmentScore=0;var currentRangeStartedOnSpecial=false;var score=0;var scoreDebug;if(DEBUG_SCORES){scoreDebug={special:0,match:0,upper:0,lastSegment:0,beginning:0,lengthDeduction:0,consecutive:0,notStartingOnSpecial:0}}var currentRange=null;function closeRangeGap(c){if(currentRange){currentRange.includesLastSegment=lastMatchIndex>=lastSegmentStart;if(currentRange.matched&&currentRange.includesLastSegment){if(DEBUG_SCORES){scoreDebug.lastSegment+=lastSegmentScore*LAST_SEGMENT_BOOST}score+=lastSegmentScore*LAST_SEGMENT_BOOST}if(currentRange.matched&&!currentRangeStartedOnSpecial){if(DEBUG_SCORES){scoreDebug.notStartingOnSpecial-=NOT_STARTING_ON_SPECIAL_PENALTY}score-=NOT_STARTING_ON_SPECIAL_PENALTY}ranges.push(currentRange)}if(lastMatchIndex+1<c){ranges.push({text:str.substring(lastMatchIndex+1,c),matched:false,includesLastSegment:c>lastSegmentStart})}currentRange=null;lastSegmentScore=0}var numConsecutive=0;function addMatch(match){var c=match.index;var newPoints=0;if(DEBUG_SCORES){scoreDebug.match+=MATCH_POINTS}newPoints+=MATCH_POINTS;if(match.upper){if(DEBUG_SCORES){scoreDebug.upper+=UPPER_CASE_MATCH}newPoints+=UPPER_CASE_MATCH}if(c===lastSegmentStart){if(DEBUG_SCORES){scoreDebug.beginning+=BEGINNING_OF_NAME_POINTS}newPoints+=BEGINNING_OF_NAME_POINTS}if(score>0&&lastMatchIndex+1===c){if(c-numConsecutive===lastSegmentStart){if(DEBUG_SCORES){scoreDebug.beginning+=BEGINNING_OF_NAME_POINTS}newPoints+=BEGINNING_OF_NAME_POINTS}numConsecutive++;var boost=CONSECUTIVE_MATCHES_POINTS*numConsecutive;if(currentRangeStartedOnSpecial){boost=boost*2}if(DEBUG_SCORES){scoreDebug.consecutive+=boost}newPoints+=boost}else{numConsecutive=1}if(match instanceof SpecialMatch){if(DEBUG_SCORES){scoreDebug.special+=SPECIAL_POINTS}newPoints+=SPECIAL_POINTS}score+=newPoints;if(c>=lastSegmentStart){lastSegmentScore+=newPoints}if(currentRange&&!currentRange.matched||c>lastMatchIndex+1){closeRangeGap(c)}lastMatchIndex=c;if(!currentRange){currentRange={text:str[c],matched:true};currentRangeStartedOnSpecial=match instanceof SpecialMatch}else{currentRange.text+=str[c]}}for(matchCounter=0;matchCounter<matchList.length;matchCounter++){var match=matchList[matchCounter];addMatch(match)}closeRangeGap(str.length);var lengthPenalty=-1*Math.round(str.length*DEDUCTION_FOR_LENGTH);if(DEBUG_SCORES){scoreDebug.lengthDeduction=lengthPenalty}score=score+lengthPenalty;var result={ranges:ranges,matchGoodness:score};if(DEBUG_SCORES){result.scoreDebug=scoreDebug}return result}function _prefixMatchResult(str,query){var result=new SearchResult(str);result.matchGoodness=-Number.MAX_VALUE;if(str.substr(0,query.length)!==query){result.matchGoodness*=.5}if(DEBUG_SCORES){result.scoreDebug={beginning:-result.matchGoodness}}result.stringRanges=[{text:str.substr(0,query.length),matched:true,includesLastSegment:true}];if(str.length>query.length){result.stringRanges.push({text:str.substring(query.length),matched:false,includesLastSegment:true})}return result}function stringMatch(str,query,options,special){var result;options=options||{};if(!query){result=new SearchResult(str);result.matchGoodness=0;if(DEBUG_SCORES){result.scoreDebug={}}result.stringRanges=[{text:str,matched:false,includesLastSegment:true}];return result}var queryLower=query.toLowerCase();var compareLower=str.toLowerCase();if(options.preferPrefixMatches){options.segmentedSearch=false}if(options.preferPrefixMatches&&compareLower.substr(0,queryLower.length)===queryLower){return _prefixMatchResult(str,query)}if(!special){special=findSpecialCharacters(str)}var lastSegmentStart,matchList;if(options.segmentedSearch){lastSegmentStart=special.specials[special.lastSegmentSpecialsIndex];matchList=_wholeStringSearch(queryLower,compareLower,query,str,special.specials,special.lastSegmentSpecialsIndex)}else{lastSegmentStart=0;matchList=_generateMatchList(queryLower,compareLower,query,str,special.specials,0)}if(matchList){var compareData=_computeRangesAndScore(matchList,str,lastSegmentStart);result=new SearchResult(str);result.stringRanges=compareData.ranges;result.matchGoodness=-1*compareData.matchGoodness;if(DEBUG_SCORES){result.scoreDebug=compareData.scoreDebug}}return result}function multiFieldSort(searchResults,fieldSpec){var comparisons;if(Array.isArray(fieldSpec)){comparisons=fieldSpec}else{comparisons=[];_.forEach(fieldSpec,function(priority,key){comparisons[priority]=key})}searchResults.sort(function(a,b){var priority;for(priority=0;priority<comparisons.length;priority++){var comparison=comparisons[priority];if(typeof comparison==="function"){var result=comparison(a,b);if(result){return result}}else{var valueA=a[comparison];var valueB=b[comparison];if(typeof valueA==="string"){valueA=valueA.toLowerCase();valueB=valueB.toLowerCase()}if(valueA<valueB){return-1}else if(valueA>valueB){return 1}}}return 0})}function basicMatchSort(searchResults){multiFieldSort(searchResults,{matchGoodness:0,label:1})}function StringMatcher(options){this.options=options;this.reset()}StringMatcher.prototype._specialsCache=null;StringMatcher.prototype._noMatchCache=null;StringMatcher.prototype.reset=function(){this._lastQuery=null;this._specialsCache={};this._noMatchCache={}};StringMatcher.prototype.match=function(str,query){if(this._lastQuery!==null&&this._lastQuery!==query.substring(0,this._lastQuery.length)){this._noMatchCache={}}this._lastQuery=query;if(_.has(this._noMatchCache,str)){return undefined}var special=_.has(this._specialsCache,str)?this._specialsCache[str]:undefined;if(special===undefined){special=findSpecialCharacters(str);this._specialsCache[str]=special}var result=stringMatch(str,query,this.options,special);if(!result){this._noMatchCache[str]=true}return result};exports._findSpecialCharacters=findSpecialCharacters;exports._wholeStringSearch=_wholeStringSearch;exports._lastSegmentSearch=_lastSegmentSearch;exports._setDebugScores=_setDebugScores;exports._generateMatchList=_generateMatchList;exports._SpecialMatch=SpecialMatch;exports._NormalMatch=NormalMatch;exports._computeRangesAndScore=_computeRangesAndScore;exports.SearchResult=SearchResult;exports.stringMatch=stringMatch;exports.basicMatchSort=basicMatchSort;exports.multiFieldSort=multiFieldSort;exports.StringMatcher=StringMatcher});define("search/QuickOpen",["require","exports","module","document/DocumentManager","editor/EditorManager","view/MainViewManager","view/MainViewFactory","command/CommandManager","strings","utils/StringUtils","command/Commands","project/ProjectManager","language/LanguageManager","widgets/ModalBar","search/QuickSearchField","utils/StringMatch"],function(require,exports,module){"use strict";var DocumentManager=require("document/DocumentManager"),EditorManager=require("editor/EditorManager"),MainViewManager=require("view/MainViewManager"),MainViewFactory=require("view/MainViewFactory"),CommandManager=require("command/CommandManager"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),Commands=require("command/Commands"),ProjectManager=require("project/ProjectManager"),LanguageManager=require("language/LanguageManager"),ModalBar=require("widgets/ModalBar").ModalBar,QuickSearchField=require("search/QuickSearchField").QuickSearchField,StringMatch=require("utils/StringMatch");var CURSOR_POS_EXP=new RegExp(":([^,]+)?(,(.+)?)?");var plugins=[];var currentPlugin=null;var fileList;var fileListPromise;var _curDialog;function QuickOpenPlugin(name,languageIds,done,search,match,itemFocus,itemSelect,resultsFormatter,matcherOptions,label){this.name=name;this.languageIds=languageIds;this.done=done;this.search=search;this.match=match;this.itemFocus=itemFocus;this.itemSelect=itemSelect;this.resultsFormatter=resultsFormatter;this.matcherOptions=matcherOptions;this.label=label}function addQuickOpenPlugin(pluginDef){plugins.push(new QuickOpenPlugin(pluginDef.name,pluginDef.languageIds,pluginDef.done,pluginDef.search,pluginDef.match,pluginDef.itemFocus,pluginDef.itemSelect,pluginDef.resultsFormatter,pluginDef.matcherOptions,pluginDef.label))}function QuickNavigateDialog(){this.$searchField=undefined;this._handleCloseBar=this._handleCloseBar.bind(this);this._handleItemSelect=this._handleItemSelect.bind(this);this._handleItemHighlight=this._handleItemHighlight.bind(this);this._filterCallback=this._filterCallback.bind(this);this._resultsFormatterCallback=this._resultsFormatterCallback.bind(this);this._filenameMatcher=new StringMatch.StringMatcher({segmentedSearch:true});this._matchers={}}QuickNavigateDialog.prototype.isOpen=false;QuickNavigateDialog.prototype._filenameMatcher=null;QuickNavigateDialog.prototype._matchers=null;QuickNavigateDialog.prototype._closeDeferred=null;QuickNavigateDialog.prototype._origDocPath=null;QuickNavigateDialog.prototype._origSelections=null;QuickNavigateDialog.prototype._origScrollPos=null;function _filenameFromPath(path,includeExtension){var end;if(includeExtension){end=path.length}else{end=path.lastIndexOf(".");if(end===-1){end=path.length}}return path.slice(path.lastIndexOf("/")+1,end)}function extractCursorPos(query){var regInfo=query.match(CURSOR_POS_EXP);if(query.length<=1||!regInfo||regInfo[1]&&isNaN(regInfo[1])||regInfo[3]&&isNaN(regInfo[3])){return null}return{query:regInfo[0],local:query[0]===":",line:regInfo[1]-1||0,ch:regInfo[3]-1||0}}
QuickNavigateDialog.prototype._handleItemSelect=function(selectedItem,query){var doClose=true,self=this;if(currentPlugin){currentPlugin.itemSelect(selectedItem,query)}else{var cursorPos=extractCursorPos(query);var fullPath=selectedItem&&selectedItem.fullPath;if(fullPath){doClose=false;this.modalBar.prepareClose();CommandManager.execute(Commands.CMD_ADD_TO_WORKINGSET_AND_OPEN,{fullPath:fullPath}).done(function(){if(cursorPos){var editor=EditorManager.getCurrentFullEditor();editor.setCursorPos(cursorPos.line,cursorPos.ch,true)}}).always(function(){self.close()})}else if(cursorPos){EditorManager.getCurrentFullEditor().setCursorPos(cursorPos.line,cursorPos.ch,true)}}if(doClose){this.close();MainViewManager.focusActivePane()}};QuickNavigateDialog.prototype._handleItemHighlight=function(selectedItem,query,explicit){if(currentPlugin&&currentPlugin.itemFocus){currentPlugin.itemFocus(selectedItem,query,explicit)}};QuickNavigateDialog.prototype.close=function(){if(!this.isOpen){return this.closePromise}this.modalBar.close();return this.closePromise};QuickNavigateDialog.prototype._handleCloseBar=function(event,reason,modalBarClosePromise){console.assert(!this.closePromise);this.closePromise=modalBarClosePromise;this.isOpen=false;var i;for(i=0;i<plugins.length;i++){var plugin=plugins[i];if(plugin.done){plugin.done()}}this.searchField.destroy();if(reason===ModalBar.CLOSE_ESCAPE){var editor=EditorManager.getCurrentFullEditor();if(this._origSelections){editor.setSelections(this._origSelections)}if(this._origScrollPos){editor.setScrollPos(this._origScrollPos.x,this._origScrollPos.y)}}};function _doSearchFileList(query,matcher){var cursorPos=extractCursorPos(query);if(cursorPos&&!cursorPos.local&&cursorPos.query!==""){query=query.replace(cursorPos.query,"")}var filteredList=$.map(fileList,function(fileInfo){var searchResult;searchResult=matcher.match(ProjectManager.makeProjectRelativeIfPossible(fileInfo.fullPath),query);if(searchResult){searchResult.label=fileInfo.name;searchResult.fullPath=fileInfo.fullPath;searchResult.filenameWithoutExtension=_filenameFromPath(fileInfo.name,false)}return searchResult});StringMatch.multiFieldSort(filteredList,{matchGoodness:0,filenameWithoutExtension:1,label:2,fullPath:3});return filteredList}function searchFileList(query,matcher){if(!fileList){var asyncResult=new $.Deferred;fileListPromise.done(function(){asyncResult.resolve(_doSearchFileList(query,matcher))});return asyncResult.promise()}else{return _doSearchFileList(query,matcher)}}QuickNavigateDialog.prototype._filterCallback=function(query){currentPlugin=null;var cursorPos=extractCursorPos(query);if(cursorPos&&cursorPos.local){var editor=EditorManager.getCurrentFullEditor();if(cursorPos&&editor&&cursorPos.line>=editor.getFirstVisibleLine()&&cursorPos.line<=editor.getLastVisibleLine()){var from={line:cursorPos.line,ch:cursorPos.ch},to={line:cursorPos.line};EditorManager.getCurrentFullEditor().setSelection(from,to,true);return{error:null}}else{return[]}}if(query===":"){return{error:null}}var curDoc=DocumentManager.getCurrentDocument(),languageId;if(curDoc){languageId=curDoc.getLanguage().getId()}var i;for(i=0;i<plugins.length;i++){var plugin=plugins[i];var languageIdMatch=plugin.languageIds.length===0||plugin.languageIds.indexOf(languageId)!==-1;if(languageIdMatch&&plugin.match(query)){currentPlugin=plugin;var matcher=this._matchers[currentPlugin.name];if(!matcher){matcher=new StringMatch.StringMatcher(plugin.matcherOptions);this._matchers[currentPlugin.name]=matcher}this._updateDialogLabel(plugin,query);return plugin.search(query,matcher)}}this._updateDialogLabel(null,query);return searchFileList(query,this._filenameMatcher)};function highlightMatch(item,matchClass,rangeFilter){var label=item.label||item;matchClass=matchClass||"quicksearch-namematch";var stringRanges=item.stringRanges;if(!stringRanges){stringRanges=[{text:label,matched:false,includesLastSegment:true}]}var displayName="";if(item.scoreDebug){var sd=item.scoreDebug;displayName+='<span title="sp:'+sd.special+", m:"+sd.match+", ls:"+sd.lastSegment+", b:"+sd.beginning+", ld:"+sd.lengthDeduction+", c:"+sd.consecutive+", nsos: "+sd.notStartingOnSpecial+", upper: "+sd.upper+'">('+item.matchGoodness+") </span>"}stringRanges.forEach(function(range){if(range.matched){displayName+="<span class='"+matchClass+"'>"}var rangeText=rangeFilter?rangeFilter(range.includesLastSegment,range.text):range.text;displayName+=StringUtils.breakableUrl(rangeText);if(range.matched){displayName+="</span>"}});return displayName}function defaultResultsFormatter(item,query){query=query.slice(query.indexOf("@")+1,query.length);var displayName=highlightMatch(item);return"<li>"+displayName+"</li>"}function _filenameResultsFormatter(item,query){function fileNameFilter(includesLastSegment,rangeText){if(includesLastSegment){var rightmostSlash=rangeText.lastIndexOf("/");return rangeText.substring(rightmostSlash+1)}else{return""}}var displayName=highlightMatch(item,null,fileNameFilter);var displayPath=highlightMatch(item,"quicksearch-pathmatch");return"<li>"+displayName+"<br /><span class='quick-open-path'>"+displayPath+"</span></li>"}QuickNavigateDialog.prototype._resultsFormatterCallback=function(item,query){var formatter;if(currentPlugin){formatter=currentPlugin.resultsFormatter||defaultResultsFormatter}else{formatter=_filenameResultsFormatter}return formatter(item,query)};QuickNavigateDialog.prototype.setSearchFieldValue=function(prefix,initialString){prefix=prefix||"";initialString=initialString||"";initialString=prefix+initialString;this.searchField.setText(initialString);this.$searchField[0].setSelectionRange(prefix.length,initialString.length)};QuickNavigateDialog.prototype._updateDialogLabel=function(plugin,query){var dialogLabel="";if(plugin&&plugin.label){dialogLabel=plugin.label}else{var prefix=query.length>0?query.charAt(0):"";switch(prefix){case":":dialogLabel=Strings.CMD_GOTO_LINE+"…";break;case"@":dialogLabel=Strings.CMD_GOTO_DEFINITION+"…";break;default:dialogLabel="";break}}$(".find-dialog-label",this.dialog).text(dialogLabel)};QuickNavigateDialog.prototype.showDialog=function(prefix,initialString){if(this.isOpen){return}this.isOpen=true;var curDoc=DocumentManager.getCurrentDocument();this._origDocPath=curDoc?curDoc.file.fullPath:null;if(curDoc){this._origSelections=EditorManager.getCurrentFullEditor().getSelections();this._origScrollPos=EditorManager.getCurrentFullEditor().getScrollPos()}else{this._origSelections=null;this._origScrollPos=null}var searchBarHTML="<div align='right'><input type='text' autocomplete='off' id='quickOpenSearch' placeholder='"+Strings.CMD_QUICK_OPEN+"…' style='width: 30em'><span class='find-dialog-label'></span></div>";this.modalBar=new ModalBar(searchBarHTML,true);this.modalBar.on("close",this._handleCloseBar);this.$searchField=$("input#quickOpenSearch");this.searchField=new QuickSearchField(this.$searchField,{maxResults:20,verticalAdjust:this.modalBar.getRoot().outerHeight(),resultProvider:this._filterCallback,formatter:this._resultsFormatterCallback,onCommit:this._handleItemSelect,onHighlight:this._handleItemHighlight});function _filter(file){return!LanguageManager.getLanguageForPath(file.fullPath).isBinary()||MainViewFactory.findSuitableFactoryForPath(file.fullPath)}fileListPromise=ProjectManager.getAllFiles(_filter,true).done(function(files){fileList=files;fileListPromise=null;this._filenameMatcher.reset()}.bind(this));this.$searchField.focus();this.setSearchFieldValue(prefix,initialString)};function getCurrentEditorSelectedText(){var currentEditor=EditorManager.getActiveEditor();return currentEditor&&currentEditor.getSelectedText()||""}function beginSearch(prefix,initialString){function createDialog(){_curDialog=new QuickNavigateDialog;_curDialog.showDialog(prefix,initialString)}if(_curDialog){if(_curDialog.isOpen){_curDialog.setSearchFieldValue(prefix,initialString)}else{_curDialog.close().done(createDialog)}}else{createDialog()}}function doFileSearch(){beginSearch("",getCurrentEditorSelectedText())}function doGotoLine(){if(DocumentManager.getCurrentDocument()){beginSearch(":","")}}function doDefinitionSearch(){if(DocumentManager.getCurrentDocument()){beginSearch("@",getCurrentEditorSelectedText())}}ProjectManager.on("projectOpen",function(){fileList=null});CommandManager.register(Strings.CMD_QUICK_OPEN,Commands.NAVIGATE_QUICK_OPEN,doFileSearch);CommandManager.register(Strings.CMD_GOTO_DEFINITION,Commands.NAVIGATE_GOTO_DEFINITION,doDefinitionSearch);CommandManager.register(Strings.CMD_GOTO_LINE,Commands.NAVIGATE_GOTO_LINE,doGotoLine);exports.beginSearch=beginSearch;exports.addQuickOpenPlugin=addQuickOpenPlugin;exports.highlightMatch=highlightMatch;exports.stringMatch=StringMatch.stringMatch;exports.SearchResult=StringMatch.SearchResult;exports.basicMatchSort=StringMatch.basicMatchSort;exports.multiFieldSort=StringMatch.multiFieldSort});define("search/QuickOpenHelper",["require","exports","module","editor/EditorManager","search/QuickOpen","document/DocumentManager","utils/StringMatch"],function(require,exports,module){"use strict";var EditorManager=require("editor/EditorManager"),QuickOpen=require("search/QuickOpen"),DocumentManager=require("document/DocumentManager"),StringMatch=require("utils/StringMatch");function match(query){return query[0]==="@"}function itemFocus(selectedItem,query,explicit){if(!selectedItem||query.length<2&&!explicit){return}var fileLocation=selectedItem.fileLocation;var from={line:fileLocation.line,ch:fileLocation.chFrom};var to={line:fileLocation.line,ch:fileLocation.chTo};EditorManager.getCurrentFullEditor().setSelection(from,to,true)}function itemSelect(selectedItem,query){itemFocus(selectedItem,query,true)}exports.match=match;exports.itemFocus=itemFocus;exports.itemSelect=itemSelect});define("project/SidebarView",["require","exports","module","utils/AppInit","project/ProjectManager","project/WorkingSetView","view/MainViewManager","command/CommandManager","command/Commands","strings","utils/Resizer","thirdparty/lodash"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),ProjectManager=require("project/ProjectManager"),WorkingSetView=require("project/WorkingSetView"),MainViewManager=require("view/MainViewManager"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),Strings=require("strings"),Resizer=require("utils/Resizer"),_=require("thirdparty/lodash");var $sidebar,$gearMenu,$splitViewMenu,$projectTitle,$projectFilesContainer,$workingSetViewsContainer,$projectSizeIndicator;var _cmdSplitNone,_cmdSplitVertical,_cmdSplitHorizontal;var MinimumSidebarWidthPX=200;function _updateProjectTitle(){var displayName=ProjectManager.getProjectRoot().name;var fullPath=ProjectManager.getProjectRoot().fullPath;if(displayName===""&&fullPath==="/"){displayName="/"}$projectTitle.html(_.escape(displayName));$projectTitle.attr("title",fullPath);$projectFilesContainer.trigger("scroll")}function toggle(){Resizer.toggle($sidebar)}function show(){if($sidebar.width()<MinimumSidebarWidthPX){$sidebar.width(MinimumSidebarWidthPX)}Resizer.show($sidebar)}function hide(){Resizer.hide($sidebar)}function resize(width){$sidebar.width(width);ProjectManager._setFileTreeSelectionWidth(width);var $element;$sidebar.find(".sidebar-selection").each(function(index,element){$element=$(element);$element.width($element.parent()[0].scrollWidth)});$sidebar.find(".sidebar-selection-extension").css("display","block").css("left",width);$sidebar.find(".scroller-shadow").css("display","block");$projectFilesContainer.triggerHandler("scroll");WorkingSetView.syncSelectionIndicator()}function isVisible(){return Resizer.isVisible($sidebar)}function _updateWorkingSetState(){if(MainViewManager.getPaneCount()===1&&MainViewManager.getWorkingSetSize(MainViewManager.ACTIVE_PANE)===0){$workingSetViewsContainer.hide();$gearMenu.hide()}else{$workingSetViewsContainer.show();$gearMenu.show()}}function _updateProjectSizeIndicator(currentSize,maxSize,percent){$projectSizeIndicator.removeClass("project-size-warning project-size-exceeded");percent=parseInt(percent);if(percent<10){$projectSizeIndicator.addClass("hidden");return}$projectSizeIndicator.removeClass("hidden");if(percent>80&&percent<100){$projectSizeIndicator.addClass("project-size-warning")}else if(percent===100){$projectSizeIndicator.addClass("project-size-exceeded")}$projectSizeIndicator.find(".space-used-bar").css("width",percent+"%");$projectSizeIndicator.find(".space-used").text(currentSize);$projectSizeIndicator.find(".max-project-size").text(maxSize)}function _updateUIStates(){var spriteIndex,ICON_CLASSES=["splitview-icon-none","splitview-icon-vertical","splitview-icon-horizontal"],layoutScheme=MainViewManager.getLayoutScheme();if(layoutScheme.columns>1){spriteIndex=1}else if(layoutScheme.rows>1){spriteIndex=2}else{spriteIndex=0}$splitViewMenu.removeClass(ICON_CLASSES.join(" ")).addClass(ICON_CLASSES[spriteIndex]);_cmdSplitNone.setChecked(spriteIndex===0);_cmdSplitVertical.setChecked(spriteIndex===1);_cmdSplitHorizontal.setChecked(spriteIndex===2);_updateWorkingSetState()}function _handleSplitViewNone(){MainViewManager.setLayoutScheme(1,1)}function _handleSplitViewVertical(){MainViewManager.setLayoutScheme(1,2)}function _handleSplitViewHorizontal(){MainViewManager.setLayoutScheme(2,1)}AppInit.htmlReady(function(){$sidebar=$("#sidebar");$gearMenu=$sidebar.find(".working-set-option-btn");$splitViewMenu=$sidebar.find(".working-set-splitview-btn");$projectTitle=$sidebar.find("#project-title");$projectFilesContainer=$sidebar.find("#project-files-container");$workingSetViewsContainer=$sidebar.find("#working-set-list-container");$projectSizeIndicator=$sidebar.find("#project-size-info");$sidebar.on("panelResizeStart",function(evt,width){$sidebar.find(".sidebar-selection-extension").css("display","none");$sidebar.find(".scroller-shadow").css("display","none")});$sidebar.on("panelResizeUpdate",function(evt,width){ProjectManager._setFileTreeSelectionWidth(width)});$sidebar.on("panelResizeEnd",function(evt,width){$sidebar.find(".sidebar-selection-extension").css("display","block").css("left",width);$sidebar.find(".scroller-shadow").css("display","block");$projectFilesContainer.triggerHandler("scroll");WorkingSetView.syncSelectionIndicator()});$sidebar.on("panelCollapsed",function(evt,width){CommandManager.get(Commands.VIEW_HIDE_SIDEBAR).setName(Strings.CMD_SHOW_SIDEBAR)});$sidebar.on("panelExpanded",function(evt,width){WorkingSetView.refresh();$sidebar.find(".scroller-shadow").css("display","block");$sidebar.find(".sidebar-selection-extension").css("left",width);$projectFilesContainer.triggerHandler("scroll");WorkingSetView.syncSelectionIndicator();CommandManager.get(Commands.VIEW_HIDE_SIDEBAR).setName(Strings.CMD_HIDE_SIDEBAR)});if(!$sidebar.is(":visible")){$sidebar.trigger("panelCollapsed")}MainViewManager.on("paneCreate",function(evt,paneId){WorkingSetView.createWorkingSetViewForPane($workingSetViewsContainer,paneId)});MainViewManager.on("paneLayoutChange",function(){_updateUIStates()});MainViewManager.on("workingSetAdd workingSetAddList workingSetRemove workingSetRemoveList workingSetUpdate",function(){_updateWorkingSetState()});_.forEach(MainViewManager.getPaneIdList(),function(paneId){WorkingSetView.createWorkingSetViewForPane($workingSetViewsContainer,paneId)});_updateUIStates();_updateProjectSizeIndicator();$gearMenu.attr("title",Strings.GEAR_MENU_TOOLTIP);$splitViewMenu.attr("title",Strings.SPLITVIEW_MENU_TOOLTIP)});ProjectManager.on("projectOpen",_updateProjectTitle);_cmdSplitNone=CommandManager.register(Strings.CMD_SPLITVIEW_NONE,Commands.CMD_SPLITVIEW_NONE,_handleSplitViewNone);_cmdSplitVertical=CommandManager.register(Strings.CMD_SPLITVIEW_VERTICAL,Commands.CMD_SPLITVIEW_VERTICAL,_handleSplitViewVertical);_cmdSplitHorizontal=CommandManager.register(Strings.CMD_SPLITVIEW_HORIZONTAL,Commands.CMD_SPLITVIEW_HORIZONTAL,_handleSplitViewHorizontal);CommandManager.register(Strings.CMD_TOGGLE_SIDEBAR,Commands.VIEW_HIDE_SIDEBAR,toggle);CommandManager.register(Strings.CMD_SHOW_SIDEBAR,Commands.SHOW_SIDEBAR,show);CommandManager.register(Strings.CMD_HIDE_SIDEBAR,Commands.HIDE_SIDEBAR,hide);exports.toggle=toggle;exports.show=show;exports.hide=hide;exports.isVisible=isVisible;exports.resize=resize;exports._updateProjectSizeIndicator=_updateProjectSizeIndicator});define("text!LiveDevelopment/main.less",[],function(){return'/*\n * Copyright (c) 2012 - present Adobe Systems Incorporated. All rights reserved.\n *  \n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the "Software"), \n * to deal in the Software without restriction, including without limitation \n * the rights to use, copy, modify, merge, publish, distribute, sublicense, \n * and/or sell copies of the Software, and to permit persons to whom the \n * Software is furnished to do so, subject to the following conditions:\n *  \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *  \n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING \n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER \n * DEALINGS IN THE SOFTWARE.\n * \n */\n\n\n.CodeMirror {\n    .highlight {\n        background: #ecc;\n    }\n    .flash {\n       -webkit-animation: flash 1s;\n    }\n}\n  \n@-webkit-keyframes flash {\n    from {\n        background: #ecc;\n    }\n    to {\n        background: inherit;\n    }\n}'});define("LiveDevelopment/main",["require","exports","module","document/DocumentManager","command/Commands","utils/AppInit","LiveDevelopment/LiveDevMultiBrowser","command/CommandManager","preferences/PreferencesManager","widgets/Dialogs","widgets/DefaultDialogs","utils/UrlParams","strings","utils/ExtensionUtils","utils/StringUtils","text!LiveDevelopment/main.less"],function main(require,exports,module){"use strict";var DocumentManager=require("document/DocumentManager"),Commands=require("command/Commands"),AppInit=require("utils/AppInit"),MultiBrowserLiveDev=require("LiveDevelopment/LiveDevMultiBrowser"),CommandManager=require("command/CommandManager"),PreferencesManager=require("preferences/PreferencesManager"),Dialogs=require("widgets/Dialogs"),DefaultDialogs=require("widgets/DefaultDialogs"),UrlParams=require("utils/UrlParams").UrlParams,Strings=require("strings"),ExtensionUtils=require("utils/ExtensionUtils"),StringUtils=require("utils/StringUtils");var params=new UrlParams;var config={experimental:false,debug:true,autoconnect:false,highlight:true,highlightConfig:{borderColor:{r:255,g:229,b:153,a:.66},contentColor:{r:111,g:168,b:220,a:.55},marginColor:{r:246,g:178,b:107,a:.66},paddingColor:{r:147,g:196,b:125,a:.66},showInfo:true}};var _status,_allStatusStyles=["warning","info","success","out-of-sync","sync-error"].join(" ");var _$btnGoLive;var LiveDevImpl;var PREF_MULTIBROWSER="multibrowser";var prefs=PreferencesManager.getExtensionPrefs("livedev");var multiBrowserPref=prefs.definePreference(PREF_MULTIBROWSER,"boolean",false,{description:Strings.DESCRIPTION_LIVE_DEV_MULTIBROWSER});function _togglePref(key,value){var val,oldPref=!!prefs.get(key);if(value===undefined){val=!oldPref}else{val=!!value}if(val!==oldPref){prefs.set(key,val)}return val}function _toggleLivePreviewMultiBrowser(value){var val=_togglePref(PREF_MULTIBROWSER,value);CommandManager.get(Commands.TOGGLE_LIVE_PREVIEW_MB_MODE).setChecked(val);CommandManager.get(Commands.FILE_PROJECT_SETTINGS).setEnabled(!val)}function _loadStyles(){var lessText=require("text!LiveDevelopment/main.less");less.render(lessText,function onParse(err,tree){console.assert(!err,err);ExtensionUtils.addEmbeddedStyleSheet(tree.css)})}function _setLabel($btn,text,style,tooltip){$("span",$btn).remove();$btn.removeClass(_allStatusStyles);if(text&&text.length>0){$('<span class="label">').addClass(style).text(text).appendTo($btn)}else{$btn.addClass(style)}if(tooltip){$btn.attr("title",tooltip)}}function _handleGoLiveCommand(){if(LiveDevImpl.status>=LiveDevImpl.STATUS_ACTIVE){LiveDevImpl.close()}else if(LiveDevImpl.status<=LiveDevImpl.STATUS_INACTIVE){LiveDevImpl.open()}}function _showStatusChangeReason(reason){_$btnGoLive.twipsy("hide").removeData("twipsy");if(!reason||reason==="explicit_close"){return}var translatedReason=Strings["LIVE_DEV_"+reason.toUpperCase()];if(!translatedReason){translatedReason=StringUtils.format(Strings.LIVE_DEV_CLOSED_UNKNOWN_REASON,reason)}var options={placement:"left",trigger:"manual",autoHideDelay:5e3,title:function(){return translatedReason}};_$btnGoLive.twipsy(options).twipsy("show")}function _setupGoLiveButton(){if(!_$btnGoLive){_$btnGoLive=$("#toolbar-go-live");_$btnGoLive.click(function onGoLive(){_handleGoLiveCommand()})}LiveDevImpl.on("statusChange",function statusChange(event,status,reason){_setLabel(_$btnGoLive,null,_status[status+1].style,_status[status+1].tooltip);_showStatusChangeReason(reason);if(config.autoconnect){window.sessionStorage.setItem("live.enabled",status===3)}});_setLabel(_$btnGoLive,null,_status[1].style,_status[1].tooltip)}function _setupGoLiveMenu(){LiveDevImpl.on("statusChange",function statusChange(event,status){CommandManager.get(Commands.FILE_LIVE_FILE_PREVIEW).setChecked(status===LiveDevImpl.STATUS_ACTIVE);CommandManager.get(Commands.FILE_LIVE_HIGHLIGHT).setEnabled(status===LiveDevImpl.STATUS_ACTIVE)})}function _updateHighlightCheckmark(){CommandManager.get(Commands.FILE_LIVE_HIGHLIGHT).setChecked(config.highlight)}function _handlePreviewHighlightCommand(){config.highlight=!config.highlight;_updateHighlightCheckmark();if(config.highlight){LiveDevImpl.showHighlight()}else{LiveDevImpl.hideHighlight()}PreferencesManager.setViewState("livedev.highlight",config.highlight)}function _setImplementation(){LiveDevImpl=MultiBrowserLiveDev;_status=[{tooltip:Strings.LIVE_DEV_STATUS_TIP_NOT_CONNECTED,style:"warning"},{tooltip:Strings.LIVE_DEV_STATUS_TIP_NOT_CONNECTED,style:""},{tooltip:Strings.LIVE_DEV_STATUS_TIP_PROGRESS1,style:"info"},{tooltip:Strings.LIVE_DEV_STATUS_TIP_CONNECTED,style:"success"},{tooltip:Strings.LIVE_DEV_STATUS_TIP_OUT_OF_SYNC,style:"out-of-sync"},{tooltip:Strings.LIVE_DEV_STATUS_TIP_SYNC_ERROR,style:"sync-error"},{tooltip:Strings.LIVE_DEV_STATUS_TIP_PROGRESS1,style:"info"},{tooltip:Strings.LIVE_DEV_STATUS_TIP_PROGRESS1,style:"info"}];_setupGoLiveButton();_setupGoLiveMenu();_toggleLivePreviewMultiBrowser(true)}function _handleReloadLivePreviewCommand(){}AppInit.appReady(function(){params.parse();MultiBrowserLiveDev.init(config);if(!prefs.get(PREF_MULTIBROWSER)){_loadStyles()}_updateHighlightCheckmark();_setImplementation(prefs.get(PREF_MULTIBROWSER));if(config.autoconnect&&window.sessionStorage.getItem("live.enabled")==="true"&&DocumentManager.getCurrentDocument()){_handleGoLiveCommand()}multiBrowserPref.on("change",function(){if(LiveDevImpl&&LiveDevImpl.status>=LiveDevImpl.STATUS_ACTIVE){LiveDevImpl.close().done(function(){LiveDevImpl.off("statusChange");_setImplementation(prefs.get(PREF_MULTIBROWSER))})}else{_setImplementation(prefs.get(PREF_MULTIBROWSER))}})});PreferencesManager.stateManager.definePreference("livedev.highlight","boolean",true).on("change",function(){config.highlight=PreferencesManager.getViewState("livedev.highlight");_updateHighlightCheckmark()});config.highlight=PreferencesManager.getViewState("livedev.highlight");CommandManager.register(Strings.CMD_LIVE_FILE_PREVIEW,Commands.FILE_LIVE_FILE_PREVIEW,_handleGoLiveCommand);CommandManager.register(Strings.CMD_LIVE_HIGHLIGHT,Commands.FILE_LIVE_HIGHLIGHT,_handlePreviewHighlightCommand);CommandManager.register(Strings.CMD_RELOAD_LIVE_PREVIEW,Commands.CMD_RELOAD_LIVE_PREVIEW,_handleReloadLivePreviewCommand);CommandManager.register(Strings.CMD_TOGGLE_LIVE_PREVIEW_MB_MODE,Commands.TOGGLE_LIVE_PREVIEW_MB_MODE,_toggleLivePreviewMultiBrowser);CommandManager.get(Commands.FILE_LIVE_HIGHLIGHT).setEnabled(false)});define("utils/ColorUtils",["require","exports","module"],function(require,exports,module){"use strict";var COLOR_NAMES=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];var COLOR_REGEX=new RegExp(/#[a-f0-9]{6}\b|#[a-f0-9]{3}\b|\brgb\(\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*\)|\brgb\(\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*\)|\brgba\(\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:[0-9]{1,2}|1[0-9]{2}|2[0-4][0-9]|25[0-5])\b\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\brgba\(\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:[0-9]{1,2}%|100%)\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\bhsl\(\s*(?:[0-9]{1,3})\b\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:[0-9]{1,2}|100)\b%\s*\)|\bhsla\(\s*(?:[0-9]{1,3})\b\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:[0-9]{1,2}|100)\b%\s*,\s*(?:1|1\.0|0|0?\.[0-9]{1,3})\s*\)|\b/.source+COLOR_NAMES.join("\\b|\\b")+"\\b","gi");function formatColorHint($hintObj,color){if(color){$hintObj.prepend($("<span>").addClass("color-swatch").css("backgroundColor",color))}else{$hintObj.addClass("no-swatch-margin")}return $hintObj}exports.COLOR_NAMES=COLOR_NAMES;exports.COLOR_REGEX=COLOR_REGEX;exports.formatColorHint=formatColorHint});define("view/ThemeView",["require","exports","module","thirdparty/CodeMirror/lib/codemirror","preferences/PreferencesManager"],function(require,exports,module){"use strict";var CodeMirror=require("thirdparty/CodeMirror/lib/codemirror"),PreferencesManager=require("preferences/PreferencesManager"),prefs=PreferencesManager.getExtensionPrefs("themes");var $scrollbars=$("<style id='scrollbars'>").appendTo("head");function updateScrollbars(theme){theme=theme||{};if(prefs.get("themeScrollbars")){var scrollbar=(theme.scrollbar||[]).join(" ");$scrollbars.text(scrollbar||"")}else{$scrollbars.text("")}}function updateThemes(cm){var newTheme=prefs.get("theme"),cmTheme=(cm.getOption("theme")||"").replace(/[\s]*/,"");if(cmTheme===newTheme){return}CodeMirror.defaults.theme=newTheme;cm.setOption("theme",newTheme)}exports.updateScrollbars=updateScrollbars;exports.updateThemes=updateThemes});define("view/ThemeManager",["require","exports","module","thirdparty/lodash","utils/EventDispatcher","filesystem/FileSystem","file/FileUtils","editor/EditorManager","utils/ExtensionUtils","view/ThemeSettings","view/ThemeView","preferences/PreferencesManager","filesystem/impls/filer/FilerUtils"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),EventDispatcher=require("utils/EventDispatcher"),FileSystem=require("filesystem/FileSystem"),FileUtils=require("file/FileUtils"),EditorManager=require("editor/EditorManager"),ExtensionUtils=require("utils/ExtensionUtils"),ThemeSettings=require("view/ThemeSettings"),ThemeView=require("view/ThemeView"),PreferencesManager=require("preferences/PreferencesManager"),Path=require("filesystem/impls/filer/FilerUtils").Path,prefs=PreferencesManager.getExtensionPrefs("themes");var loadedThemes={},currentTheme=null,styleNode=$(ExtensionUtils.addEmbeddedStyleSheet("")),defaultTheme="Light Theme",commentRegex=/\/\*([\s\S]*?)\*\//gm,scrollbarsRegex=/((?:[^}|,]*)::-webkit-scrollbar(?:[^{]*)[{](?:[^}]*?)[}])/gim,stylesPath=FileUtils.getNativeBracketsDirectoryPath()+"/styles/";function toDisplayName(name){var extIndex=name.lastIndexOf(".");name=name.substring(0,extIndex!==-1?extIndex:undefined).replace(/-/g," ");return name.split(" ").map(function(part){return part[0].toUpperCase()+part.substring(1)}).join(" ")}function Theme(file,options){options=options||{};var fileName=file.name;if(!options.name){if(options.title){options.name=options.title}else{options.name=FileUtils.getFilenameWithoutExtension(fileName).replace(/\.min$/,"")}options.name=options.name.toLocaleLowerCase().replace(/[\W]/g,"-")}if(brackets.env==="production"){file._path=file._path.replace(/\.less$/,".css")}this.file=file;this.name=options.name;this.displayName=options.title||toDisplayName(fileName);this.dark=options.theme!==undefined&&options.theme.dark===true;this.addModeClass=options.theme!==undefined&&options.theme.addModeClass===true}function extractScrollbars(content){var scrollbar=[];content=content.replace(scrollbarsRegex,function(match){scrollbar.push(match);return""});return{content:content,scrollbar:scrollbar}}function fixPath(path){return path.replace(/^([A-Z]+:)?\//,function(match){return match.toLocaleLowerCase()})}function lessifyTheme(content,theme){var deferred=new $.Deferred;less.render(content,{rootpath:fixPath(stylesPath),filename:fixPath(theme.file._path)},function(err,tree){if(err){deferred.reject(err)}else{deferred.resolve(tree.css)}});return deferred.promise()}function getThemeByFile(file){var path=file._path;return _.find(loadedThemes,function(item){return item.file._path===path})}function getCurrentTheme(){if(!currentTheme){currentTheme=loadedThemes[prefs.get("theme")]||loadedThemes[defaultTheme]}return currentTheme}function getAllThemes(){return _.map(loadedThemes,function(theme){return theme})}function loadCurrentTheme(){var theme=getCurrentTheme();var pending=new $.Deferred;function processCSS(css){var result=extractScrollbars(css);var content=result.content;theme.scrollbar=result.scrollbar;$("body").toggleClass("dark",theme.dark);styleNode.text(content);$("body").attr("data-theme",theme.name);pending.resolve(theme)}if(theme){require(["text!"+theme.file._path],function(content){content=content.replace(commentRegex,"");if(Path.extname(theme.file._path)===".css"){processCSS(content)}else{lessifyTheme(content,theme).then(processCSS)}})}return $.when(theme&&pending)}function refresh(force){if(force){currentTheme=null}$.when(force&&loadCurrentTheme()).done(function(){var editor=EditorManager.getActiveEditor();if(!editor||!editor._codeMirror){return}var cm=editor._codeMirror;ThemeView.updateThemes(cm);cm.setOption("addModeClass",!!(currentTheme&&currentTheme.addModeClass))})}
function loadFile(fileName,options){var deferred=new $.Deferred,file=FileSystem.getFileForPath(fileName),currentThemeName=prefs.get("theme");file.exists(function(err,exists){var theme;if(exists){theme=new Theme(file,options);loadedThemes[theme.name]=theme;ThemeSettings._setThemes(loadedThemes);if(currentThemeName===theme.name){refresh(true)}deferred.resolve(theme)}else if(err||!exists){deferred.reject(err)}});return deferred.promise()}function loadPackage(themePackage){var fileName=themePackage.path+"/"+themePackage.metadata.theme.file;return loadFile(fileName,themePackage.metadata)}function addTheme(file,options){var currentThemeName=prefs.get("theme");var theme=new Theme(file,options);currentTheme=theme.name;loadedThemes[theme.name]=theme;ThemeSettings._setThemes(loadedThemes);if(currentThemeName===theme.name){refresh(true)}return theme}prefs.on("change","theme",function(){if(currentTheme&&currentTheme.name===prefs.get("theme")){return}refresh(true);ThemeView.updateScrollbars(getCurrentTheme());exports.trigger("themeChange",getCurrentTheme())});prefs.on("change","themeScrollbars",function(){refresh();ThemeView.updateScrollbars(getCurrentTheme())});FileSystem.on("change",function(evt,file){if(!file||file.isDirectory){return}if(getThemeByFile(file)){refresh(true)}});EditorManager.on("activeEditorChange",function(){refresh()});EventDispatcher.makeEventDispatcher(exports);exports.refresh=refresh;exports.loadFile=loadFile;exports.loadPackage=loadPackage;exports.getCurrentTheme=getCurrentTheme;exports.getAllThemes=getAllThemes;exports.addTheme=addTheme;exports._toDisplayName=toDisplayName;exports._extractScrollbars=extractScrollbars});define("language/XMLUtils",["require","exports","module","utils/TokenUtils"],function(require,exports,module){"use strict";var TokenUtils=require("utils/TokenUtils");var TOKEN_TAG=1,TOKEN_ATTR=2,TOKEN_VALUE=3;var regexWhitespace=/^\s+$/;function _createTagInfo(token,tokenType,offset,exclusionList,tagName,attrName,shouldReplace){return{token:token||null,tokenType:tokenType||null,offset:offset||0,exclusionList:exclusionList||[],tagName:tagName||"",attrName:attrName||"",shouldReplace:shouldReplace||false}}function _getTagAttributes(editor,constPos){var pos,ctx,ctxPrev,ctxNext,ctxTemp,tagName,exclusionList=[],shouldReplace;pos=$.extend({},constPos);ctx=TokenUtils.getInitialContext(editor._codeMirror,pos);ctxTemp=$.extend(true,{},ctx);if(ctxTemp.token.type===null&&regexWhitespace.test(ctxTemp.token.string)){if(TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctxTemp)){if(ctxTemp.token.type===null&&ctxTemp.token.string==="="||ctxTemp.token.type==="string"){return null}TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctxTemp)}}if(ctxTemp.token.type==="attribute"){if(TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctxTemp)){if(ctxTemp.token.type===null&&ctxTemp.token.string==="="){shouldReplace=true}}}pos=$.extend({},constPos);ctxPrev=TokenUtils.getInitialContext(editor._codeMirror,pos);while(TokenUtils.movePrevToken(ctxPrev)){if(ctxPrev.token.type&&ctxPrev.token.type.indexOf("tag bracket")>=0){if(ctxPrev.token.string==="</"||ctxPrev.token.string.indexOf(">")!==-1){return null}}if(ctxPrev.token.type==="attribute"){exclusionList.push(ctxPrev.token.string)}if(ctxPrev.token.type==="tag"){tagName=ctxPrev.token.string;if(TokenUtils.movePrevToken(ctxPrev)){if(ctxPrev.token.type==="tag bracket"&&ctxPrev.token.string==="<"){break}return null}}}pos=$.extend({},constPos);ctxNext=TokenUtils.getInitialContext(editor._codeMirror,pos);while(TokenUtils.moveNextToken(ctxNext)){if(ctxNext.token.type==="string"&&ctxNext.token.string==='"'){return null}if(ctxNext.token.type==="tag bracket"&&(ctxNext.token.string.indexOf(">")>=0||ctxNext.token.string==="<")){break}if(ctxNext.token.type==="attribute"&&exclusionList.indexOf(ctxNext.token.string)===-1){exclusionList.push(ctxNext.token.string)}}return{tagName:tagName,exclusionList:exclusionList,shouldReplace:shouldReplace}}function _getTagAttributeValue(editor,pos){var ctx,tagName,attrName,exclusionList=[],offset,textBefore,textAfter;ctx=TokenUtils.getInitialContext(editor._codeMirror,pos);offset=TokenUtils.offsetInToken(ctx);if(ctx.token.type==="string"&&/\s+/.test(ctx.token.string)){textBefore=ctx.token.string.substr(1,offset);textAfter=ctx.token.string.substr(offset);if(/^['"]$/.test(ctx.token.string.substr(-1,1))){textAfter=textAfter.substr(0,textAfter.length-1)}exclusionList=exclusionList.concat(textBefore.split(/\s+/).slice(0,-1));exclusionList=exclusionList.concat(textAfter.split(/\s+/));exclusionList=exclusionList.filter(function(value){if(value.length>0){return true}})}while(TokenUtils.movePrevToken(ctx)){if(ctx.token.type==="tag bracket"){if(ctx.token.string==="</"){return null}if(ctx.token.string.indexOf(">")>=0||ctx.token.string==="<"){break}}if(ctx.token.type==="attribute"&&!attrName){attrName=ctx.token.string}if(ctx.token.type==="tag"){tagName=ctx.token.string;if(TokenUtils.movePrevToken(ctx)){if(ctx.token.type==="tag bracket"&&ctx.token.string==="<"){break}return null}}}return{tagName:tagName,attrName:attrName,exclusionList:exclusionList}}function getTagInfo(editor,pos){var ctx,offset,tagAttrs,tagAttrValue;ctx=TokenUtils.getInitialContext(editor._codeMirror,pos);offset=TokenUtils.offsetInToken(ctx);if(ctx.token&&ctx.token.type==="tag bracket"&&ctx.token.string==="<"){return _createTagInfo(ctx.token,TOKEN_TAG)}else if(ctx.token&&ctx.token.type==="tag"){if(TokenUtils.movePrevToken(ctx)){if(ctx.token.type==="tag bracket"&&ctx.token.string==="<"){TokenUtils.moveNextToken(ctx);return _createTagInfo(ctx.token,TOKEN_TAG,offset)}}}else if(ctx.token&&(ctx.token.type==="attribute"||ctx.token.type===null&&regexWhitespace.test(ctx.token.string))){tagAttrs=_getTagAttributes(editor,pos);if(tagAttrs&&tagAttrs.tagName){return _createTagInfo(ctx.token,TOKEN_ATTR,offset,tagAttrs.exclusionList,tagAttrs.tagName,null,tagAttrs.shouldReplace)}}else if(ctx.token&&(ctx.token.type===null&&ctx.token.string==="="||ctx.token.type==="string"&&/^['"]$/.test(ctx.token.string.charAt(0)))){if(ctx.token.type==="string"&&/^['"]$/.test(ctx.token.string.substr(-1,1))&&ctx.token.string.length!==1&&ctx.token.end===pos.ch){return _createTagInfo()}tagAttrValue=_getTagAttributeValue(editor,pos);if(tagAttrValue&&tagAttrValue.tagName&&tagAttrValue.attrName){return _createTagInfo(ctx.token,TOKEN_VALUE,offset,tagAttrValue.exclusionList,tagAttrValue.tagName,tagAttrValue.attrName)}}return _createTagInfo()}function getValueQuery(tagInfo){var query;if(tagInfo.token.string==="="){return""}query=tagInfo.token.string.substr(1,tagInfo.offset-1);return query.split(/\s+/).slice(-1)[0]}exports.getTagInfo=getTagInfo;exports.getValueQuery=getValueQuery;exports.regexWhitespace=regexWhitespace;exports.TOKEN_TAG=TOKEN_TAG;exports.TOKEN_ATTR=TOKEN_ATTR;exports.TOKEN_VALUE=TOKEN_VALUE});define("language/JSONUtils",["require","exports","module","utils/TokenUtils"],function(require,exports,module){"use strict";var TokenUtils=require("utils/TokenUtils");var TOKEN_KEY=1,TOKEN_VALUE=2;var valueTokenTypes=["atom","string","number","variable"];var regexAllowedChars=/(?:^[:,\[]$)|(?:^\s+$)/;function _createContextInfo(token,tokenType,offset,keyName,valueName,parentKeyName,isArray,exclusionList,shouldReplace){return{token:token||null,tokenType:tokenType||null,offset:offset||0,keyName:keyName||null,valueName:valueName||null,parentKeyName:parentKeyName||null,isArray:isArray||false,exclusionList:exclusionList||[],shouldReplace:shouldReplace||false}}function stripQuotes(string){if(string){if(/^['"]$/.test(string.charAt(0))){string=string.substr(1)}if(/^['"]$/.test(string.substr(-1,1))){string=string.substr(0,string.length-1)}}return string}function _getParentKeyName(ctx){var parentKeyName,braceParity=1,hasColon;while(TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctx)){if(ctx.token.type===null){if(ctx.token.string==="}"){braceParity++}else if(ctx.token.string==="{"){braceParity--}}if(braceParity===0){while(TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctx)){if(ctx.token.type===null&&ctx.token.string===":"){hasColon=true}else if(ctx.token.type==="string property"){parentKeyName=stripQuotes(ctx.token.string);break}}break}}if(parentKeyName&&hasColon){return parentKeyName}return null}function _getExclusionList(editor,constPos){var ctxPrev,ctxNext,exclusionList=[],pos,braceParity;pos=$.extend({},constPos);braceParity=1;ctxPrev=TokenUtils.getInitialContext(editor._codeMirror,pos);while(TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctxPrev)){if(ctxPrev.token.type===null){if(ctxPrev.token.string==="}"){braceParity++}else if(ctxPrev.token.string==="{"){braceParity--}}if(braceParity===1&&ctxPrev.token.type==="string property"){exclusionList.push(stripQuotes(ctxPrev.token.string))}else if(braceParity===0){break}}pos=$.extend({},constPos);braceParity=1;ctxNext=TokenUtils.getInitialContext(editor._codeMirror,pos);while(TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctxNext)){if(ctxNext.token.type===null){if(ctxNext.token.string==="{"){braceParity++}else if(ctxNext.token.string==="}"){braceParity--}}if(braceParity===1&&ctxNext.token.type==="string property"){exclusionList.push(stripQuotes(ctxNext.token.string))}else if(braceParity===0){break}}return exclusionList}function getContextInfo(editor,constPos,requireParent,requireNextToken){var pos,ctx,ctxPrev,ctxNext,offset,keyName,valueName,parentKeyName,isArray,exclusionList,hasColon,hasComma,hasBracket,shouldReplace;pos=$.extend({},constPos);ctx=TokenUtils.getInitialContext(editor._codeMirror,pos);offset=TokenUtils.offsetInToken(ctx);if(ctx.token&&ctx.token.type==="string property"){if(/^['"]$/.test(ctx.token.string.substr(-1,1))&&ctx.token.string.length!==1&&ctx.token.end===pos.ch){return null}keyName=stripQuotes(ctx.token.string);if(requireParent){ctxPrev=$.extend(true,{},ctx);parentKeyName=stripQuotes(_getParentKeyName(ctxPrev))}ctxNext=$.extend(true,{},ctx);TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctxNext);if(ctxNext.token.type===null&&ctxNext.token.string===":"){shouldReplace=true}pos=$.extend({},constPos);exclusionList=_getExclusionList(editor,pos);return _createContextInfo(ctx.token,TOKEN_KEY,offset,keyName,valueName,parentKeyName,null,exclusionList,shouldReplace)}else if(ctx.token&&(valueTokenTypes.indexOf(ctx.token.type)!==-1||ctx.token.type===null&&regexAllowedChars.test(ctx.token.string))){if(ctx.token.type==="string"&&/^['"]$/.test(ctx.token.string.substr(-1,1))&&ctx.token.string.length!==1&&ctx.token.end===pos.ch){return null}valueName=ctx.token.string;if(ctx.token.type===null){if(ctx.token.string===":"){hasColon=true}else if(ctx.token.string===","){hasComma=true}else if(ctx.token.string==="["){hasBracket=true}}ctxPrev=$.extend(true,{},ctx);while(TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctxPrev)){if(ctxPrev.token.type==="string property"){keyName=stripQuotes(ctxPrev.token.string);break}else if(ctxPrev.token.type===null){if(ctxPrev.token.string===":"){hasColon=true}else if(ctxPrev.token.string===","){hasComma=true}else if(ctxPrev.token.string==="["){hasBracket=true}else{return null}}else if(!hasComma){return null}}if(!keyName||!hasColon||hasComma&&!hasBracket){return null}else{isArray=hasBracket}if(requireParent){ctxPrev=$.extend(true,{},ctx);parentKeyName=stripQuotes(_getParentKeyName(ctxPrev))}ctxNext=$.extend(true,{},ctx);TokenUtils.moveNextToken(ctxNext);if(requireNextToken&&valueTokenTypes.indexOf(ctxNext.token.type)!==-1){shouldReplace=true}return _createContextInfo(shouldReplace?ctxNext.token:ctx.token,TOKEN_VALUE,offset,keyName,valueName,parentKeyName,isArray,null,shouldReplace)}return null}exports.TOKEN_KEY=TOKEN_KEY;exports.TOKEN_VALUE=TOKEN_VALUE;exports.regexAllowedChars=regexAllowedChars;exports.getContextInfo=getContextInfo;exports.stripQuotes=stripQuotes});define("text!htmlContent/copy-paste-dialog.html",[],function(){return'<div id="myModal" class="modal">\n  <div class="modal-content">\n    <span class="dialog-button" data-button-id="escape">&#10006;</span>\n    <h2 class="model-header">Copying and pasting in Thimble</h2>\n    <p class="model-text">\n      These actions are unavailable via the Edit menu, but you can still use:\n    </p>\n    <table class= "guide">\n      <tr>\n        <th>\n          {{{key}}}+X\n        </th>\n        <th>\n          {{{key}}}+C\n        </th>\n        <th>\n          {{{key}}}+V\n        </th>\n      </tr>\n      <tr>\n        <td>\n          for copy\n        </td>\n        <td>\n          for cut\n        </td>\n        <td>\n          for paste\n        </td>\n      </tr>\n    </table>\n  </div>\n</div>\n'});define("editor/EditorCommandHandlers",["require","exports","module","command/Commands","strings","editor/Editor","command/CommandManager","editor/EditorManager","utils/StringUtils","utils/TokenUtils","thirdparty/CodeMirror/lib/codemirror","widgets/Dialogs","text!htmlContent/copy-paste-dialog.html","thirdparty/mustache/mustache","thirdparty/lodash"],function(require,exports,module){"use strict";var Commands=require("command/Commands"),Strings=require("strings"),Editor=require("editor/Editor").Editor,CommandManager=require("command/CommandManager"),EditorManager=require("editor/EditorManager"),StringUtils=require("utils/StringUtils"),TokenUtils=require("utils/TokenUtils"),CodeMirror=require("thirdparty/CodeMirror/lib/codemirror"),Dialogs=require("widgets/Dialogs"),dialogTemplate=require("text!htmlContent/copy-paste-dialog.html"),Mustache=require("thirdparty/mustache/mustache"),_=require("thirdparty/lodash");var commandKey;if(brackets.platform==="mac"){commandKey="&#8984"}else{commandKey="Ctrl"}var DIRECTION_UP=-1;var DIRECTION_DOWN=+1;function _createSpecialLineExp(lineSyntax,blockSyntax){var i,character,escapedCharacter,subExps=[],prevChars="";for(i=lineSyntax.length;i<blockSyntax.length;i++){character=blockSyntax.charAt(i);escapedCharacter=StringUtils.regexEscape(character);subExps.push(prevChars+"[^"+escapedCharacter+"]");if(prevChars){subExps.push(prevChars+"$")}prevChars+=escapedCharacter}return new RegExp("^\\s*"+StringUtils.regexEscape(lineSyntax)+"($|"+subExps.join("|")+")")}function _createLineExpressions(prefixes,blockPrefix,blockSuffix){var lineExp=[],escapedPrefix,nothingPushed;prefixes.forEach(function(prefix){escapedPrefix=StringUtils.regexEscape(prefix);nothingPushed=true;if(blockPrefix&&blockPrefix.indexOf(prefix)===0){lineExp.push(_createSpecialLineExp(prefix,blockPrefix));nothingPushed=false}if(blockSuffix&&blockPrefix!==blockSuffix&&blockSuffix.indexOf(prefix)===0){lineExp.push(_createSpecialLineExp(prefix,blockSuffix));nothingPushed=false}if(nothingPushed){lineExp.push(new RegExp("^\\s*"+escapedPrefix))}});return lineExp}function _matchExpressions(string,expressions){return expressions.some(function(exp){return string.match(exp)})}function _getLinePrefix(string,expressions,prefixes){var result=null;expressions.forEach(function(exp,index){if(string.match(exp)&&(result&&result.length<prefixes[index].length||!result)){result=prefixes[index]}});return result}function _containsNotLineComment(editor,startLine,endLine,lineExp){var i,line,containsNotLineComment=false;for(i=startLine;i<=endLine;i++){line=editor.document.getLine(i);if(line.match(/\S/)&&!_matchExpressions(line,lineExp)){containsNotLineComment=true;break}}return containsNotLineComment}function _getLineCommentPrefixEdit(editor,prefixes,blockPrefix,blockSuffix,lineSel){var doc=editor.document,sel=lineSel.selectionForEdit,trackedSels=lineSel.selectionsToTrack,lineExp=_createLineExpressions(prefixes,blockPrefix,blockSuffix),startLine=sel.start.line,endLine=sel.end.line,editGroup=[];if(sel.end.ch===0){endLine--}var i,line,prefix,commentI,containsNotLineComment=_containsNotLineComment(editor,startLine,endLine,lineExp);if(containsNotLineComment){line=doc.getLine(startLine);var originalCursorPosition=line.search(/\S|$/);var firstCharPosition,cursorPosition=originalCursorPosition;for(i=startLine;i<=endLine;i++){if(Editor.getIndentLineComment()){if(i!==startLine){line=doc.getLine(i);firstCharPosition=line.search(/\S|$/)}if(firstCharPosition<originalCursorPosition){cursorPosition=firstCharPosition}else{cursorPosition=originalCursorPosition}editGroup.push({text:prefixes[0],start:{line:i,ch:cursorPosition}})}else{editGroup.push({text:prefixes[0],start:{line:i,ch:0}})}}_.each(trackedSels,function(trackedSel){if(trackedSel.start.ch===0&&CodeMirror.cmpPos(trackedSel.start,trackedSel.end)!==0){trackedSel.start={line:trackedSel.start.line,ch:0};trackedSel.end={line:trackedSel.end.line,ch:trackedSel.end.line===endLine?trackedSel.end.ch+prefixes[0].length:0}}else{trackedSel.isBeforeEdit=true}})}else{for(i=startLine;i<=endLine;i++){line=doc.getLine(i);prefix=_getLinePrefix(line,lineExp,prefixes);if(prefix){commentI=line.indexOf(prefix);editGroup.push({text:"",start:{line:i,ch:commentI},end:{line:i,ch:commentI+prefix.length}})}}_.each(trackedSels,function(trackedSel){trackedSel.isBeforeEdit=true})}return{edit:editGroup,selection:trackedSels}}function _isPrevTokenABlockComment(ctx,prefix,suffix,prefixExp,suffixExp,lineExp){var result=TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctx);while(result&&_matchExpressions(ctx.token.string,lineExp)){result=TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctx)}if(result&&ctx.token.type==="comment"){if(!ctx.token.string.match(prefixExp)&&!ctx.token.string.match(suffixExp)){return true}else if(prefix===suffix&&ctx.token.string.length===prefix.length){return!_isPrevTokenABlockComment(ctx,prefix,suffix,prefixExp,suffixExp,lineExp)}else{return ctx.token.string.match(prefixExp)}}return false}function _getBlockCommentPrefixSuffixEdit(editor,prefix,suffix,linePrefixes,sel,selectionsToTrack){var doc=editor.document,ctx=TokenUtils.getInitialContext(editor._codeMirror,{line:sel.start.line,ch:sel.start.ch}),selEndIndex=editor.indexFromPos(sel.end),lineExp=_createLineExpressions(linePrefixes,prefix,suffix),prefixExp=new RegExp("^"+StringUtils.regexEscape(prefix),"g"),suffixExp=new RegExp(StringUtils.regexEscape(suffix)+"$","g"),prefixPos=null,suffixPos=null,commentAtStart=true,isBlockComment=false,canComment=false,invalidComment=false,lineUncomment=false,result=true,editGroup=[],edit;var searchCtx,atSuffix,suffixEnd,initialPos,endLine;if(!selectionsToTrack){selectionsToTrack=[_.cloneDeep(sel)]}if(!ctx.token.type&&!/\S/.test(ctx.token.string)){result=TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctx)}while(result&&ctx.token.type!=="comment"){result=TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctx)&&editor.indexFromPos(ctx.pos)<=selEndIndex;commentAtStart=false}if(result&&ctx.token.type==="comment"){if(_matchExpressions(ctx.token.string,lineExp)){if(ctx.token.start===0&&!ctx.token.string.match(/^\\s*/)&&commentAtStart){searchCtx=TokenUtils.getInitialContext(editor._codeMirror,{line:ctx.pos.line,ch:ctx.token.start});isBlockComment=_isPrevTokenABlockComment(searchCtx,prefix,suffix,prefixExp,suffixExp,lineExp)}else{isBlockComment=false}}else{isBlockComment=true;if(ctx.token.string===prefix&&prefix===suffix){searchCtx=TokenUtils.getInitialContext(editor._codeMirror,{line:ctx.pos.line,ch:ctx.token.start});atSuffix=_isPrevTokenABlockComment(searchCtx,prefix,suffix,prefixExp,suffixExp,lineExp);if(atSuffix){TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctx)}else{TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctx)}}}if(isBlockComment){initialPos=_.cloneDeep(ctx.pos);result=true;while(result&&!ctx.token.string.match(prefixExp)){result=TokenUtils.moveSkippingWhitespace(TokenUtils.movePrevToken,ctx)}prefixPos=result&&{line:ctx.pos.line,ch:ctx.token.start};if(ctx.token.string===prefix&&prefix===suffix){ctx=TokenUtils.getInitialContext(editor._codeMirror,_.cloneDeep(initialPos))}while(result&&!ctx.token.string.match(suffixExp)){result=TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctx)}suffixPos=result&&{line:ctx.pos.line,ch:ctx.token.end-suffix.length};do{result=TokenUtils.moveSkippingWhitespace(TokenUtils.moveNextToken,ctx)&&editor.indexFromPos(ctx.pos)<=selEndIndex}while(result&&!ctx.token.string.match(prefixExp));invalidComment=result&&!!ctx.token.string.match(prefixExp);suffixEnd=suffixPos&&{line:suffixPos.line,ch:suffixPos.ch+suffix.length};if(suffixEnd&&CodeMirror.cmpPos(sel.start,suffixEnd)>0||prefixPos&&CodeMirror.cmpPos(sel.end,prefixPos)<0){canComment=true}}else{endLine=sel.end.line;if(sel.end.ch===0&&editor.hasSelection()){endLine--}if(!_containsNotLineComment(editor,sel.start.line,endLine,lineExp)){lineUncomment=true}else{canComment=true}}}else{canComment=true}if(invalidComment){edit={edit:[],selection:selectionsToTrack}}else if(lineUncomment){edit=null}else{if(canComment){var completeLineSel=sel.start.ch===0&&sel.end.ch===0&&sel.start.line<sel.end.line;if(completeLineSel){editGroup.push({text:suffix+"\n",start:sel.end});editGroup.push({text:prefix+"\n",start:sel.start})}else{editGroup.push({text:suffix,start:sel.end});editGroup.push({text:prefix,start:sel.start})}_.each(selectionsToTrack,function(trackedSel){function updatePosForEdit(pos){if(CodeMirror.cmpPos(pos,sel.end)>0){if(completeLineSel){pos.line++}else if(pos.line===sel.end.line){pos.ch+=suffix.length}}if(CodeMirror.cmpPos(pos,sel.start)>=0){if(completeLineSel){pos.line++}else if(pos.line===sel.start.line){pos.ch+=prefix.length}}}updatePosForEdit(trackedSel.start);updatePosForEdit(trackedSel.end)})}else{var line=doc.getLine(prefixPos.line).trim(),prefixAtStart=prefixPos.ch===0&&prefix.length===line.length,suffixAtStart=false;if(suffixPos){line=doc.getLine(suffixPos.line).trim();suffixAtStart=suffixPos.ch===0&&suffix.length===line.length}if(suffixPos){if(prefixAtStart&&suffixAtStart){editGroup.push({text:"",start:suffixPos,end:{line:suffixPos.line+1,ch:0}})}else{editGroup.push({text:"",start:suffixPos,end:{line:suffixPos.line,ch:suffixPos.ch+suffix.length}})}}if(prefixAtStart&&suffixAtStart){editGroup.push({text:"",start:prefixPos,end:{line:prefixPos.line+1,ch:0}})}else{editGroup.push({text:"",start:prefixPos,end:{line:prefixPos.line,ch:prefixPos.ch+prefix.length}})}_.each(selectionsToTrack,function(trackedSel){trackedSel.isBeforeEdit=true})}edit={edit:editGroup,selection:selectionsToTrack}}return edit}function _getLineCommentPrefixSuffixEdit(editor,prefix,suffix,lineSel){var sel=lineSel.selectionForEdit;if(sel.end.line===sel.start.line+1&&sel.end.ch===0){sel.end={line:sel.start.line,ch:editor.document.getLine(sel.start.line).length}}return _getBlockCommentPrefixSuffixEdit(editor,prefix,suffix,[],sel,lineSel.selectionsToTrack)}function _getLineCommentEdits(editor,selections){var lineSelections=editor.convertToLineSelections(selections,{mergeAdjacent:false}),edits=[];_.each(lineSelections,function(lineSel){var sel=lineSel.selectionForEdit,mode=editor.getModeForRange(sel.start,sel.end),edit;if(mode){var language=editor.document.getLanguage().getLanguageForMode(mode.name||mode);if(language.hasLineCommentSyntax()){edit=_getLineCommentPrefixEdit(editor,language.getLineCommentPrefixes(),language.getBlockCommentPrefix(),language.getBlockCommentSuffix(),lineSel)}else if(language.hasBlockCommentSyntax()){edit=_getLineCommentPrefixSuffixEdit(editor,language.getBlockCommentPrefix(),language.getBlockCommentSuffix(),lineSel)}}if(!edit){edit={selection:lineSel.selectionsToTrack}}edits.push(edit)});return edits}function lineComment(editor){editor=editor||EditorManager.getFocusedEditor();if(!editor){return}editor.setSelections(editor.document.doMultipleEdits(_getLineCommentEdits(editor,editor.getSelections())))}function blockComment(editor){editor=editor||EditorManager.getFocusedEditor();if(!editor){return}var edits=[],lineCommentSels=[];_.each(editor.getSelections(),function(sel){var mode=editor.getModeForRange(sel.start,sel.end),edit={edit:[],selection:[sel]};if(mode){var language=editor.document.getLanguage().getLanguageForMode(mode.name||mode);if(language.hasBlockCommentSyntax()){edit=_getBlockCommentPrefixSuffixEdit(editor,language.getBlockCommentPrefix(),language.getBlockCommentSuffix(),language.getLineCommentPrefixes(),sel);if(!edit){lineCommentSels.push(sel)}}}if(edit){edits.push(edit)}});edits.push.apply(edits,_getLineCommentEdits(editor,lineCommentSels));editor.setSelections(editor.document.doMultipleEdits(edits))}function duplicateText(editor){editor=editor||EditorManager.getFocusedEditor();if(!editor){return}var selections=editor.getSelections(),delimiter="",edits=[],rangeSels=[],cursorSels=[],doc=editor.document;_.each(selections,function(sel){if(CodeMirror.cmpPos(sel.start,sel.end)===0){cursorSels.push(sel)}else{rangeSels.push(sel)}});var cursorLineSels=editor.convertToLineSelections(cursorSels);_.each(cursorLineSels,function(lineSel,index){var sel=lineSel.selectionForEdit;if(sel.end.line===editor.lineCount()){delimiter="\n"}edits.push({edit:{text:doc.getRange(sel.start,sel.end)+delimiter,start:sel.start}})});_.each(rangeSels,function(sel){edits.push({edit:{text:doc.getRange(sel.start,sel.end),start:sel.start}})});doc.doMultipleEdits(edits)}function deleteCurrentLines(editor){editor=editor||EditorManager.getFocusedEditor();if(!editor){return}var doc=editor.document,from,to,lineSelections=editor.convertToLineSelections(editor.getSelections()),edits=[];_.each(lineSelections,function(lineSel,index){var sel=lineSel.selectionForEdit;from=sel.start;to=sel.end;if(to.line===editor.getLastVisibleLine()+1){if(from.line>editor.getFirstVisibleLine()){from.line-=1;from.ch=doc.getLine(from.line).length}to.line-=1;to.ch=doc.getLine(to.line).length}edits.push({edit:{text:"",start:from,end:to}})});doc.doMultipleEdits(edits)}function moveLine(editor,direction){editor=editor||EditorManager.getFocusedEditor();if(!editor){return}var doc=editor.document,lineSelections=editor.convertToLineSelections(editor.getSelections()),isInlineWidget=!!EditorManager.getFocusedInlineWidget(),firstLine=editor.getFirstVisibleLine(),lastLine=editor.getLastVisibleLine(),totalLines=editor.lineCount(),lineLength=0,edits=[],newSels=[],pos={};_.each(lineSelections,function(lineSel){var sel=lineSel.selectionForEdit,editGroup=[];switch(direction){case DIRECTION_UP:if(sel.start.line!==firstLine){var prevText=doc.getRange({line:sel.start.line-1,ch:0},sel.start);if(sel.end.line===lastLine+1){if(isInlineWidget){prevText=prevText.substring(0,prevText.length-1);lineLength=doc.getLine(sel.end.line-1).length;editGroup.push({text:"\n",start:{line:sel.end.line-1,ch:lineLength}})}else{prevText="\n"+prevText.substring(0,prevText.length-1)}}editGroup.push({text:"",start:{line:sel.start.line-1,ch:0},end:sel.start});editGroup.push({text:prevText,start:{line:sel.end.line-1,ch:0}});_.each(lineSel.selectionsToTrack,function(originalSel){originalSel.start.line--;originalSel.end.line--});edits.push({edit:editGroup,selection:lineSel.selectionsToTrack})}break;case DIRECTION_DOWN:if(sel.end.line<=lastLine){var nextText=doc.getRange(sel.end,{line:sel.end.line+1,ch:0}),deletionStart=sel.end;if(sel.end.line===lastLine){if(isInlineWidget){if(sel.end.line===totalLines-1){nextText+="\n"}lineLength=doc.getLine(sel.end.line-1).length;editGroup.push({text:"\n",start:{line:sel.end.line,ch:doc.getLine(sel.end.line).length}})}else{nextText+="\n";deletionStart={line:sel.end.line-1,ch:doc.getLine(sel.end.line-1).length}}}editGroup.push({text:"",start:deletionStart,end:{line:sel.end.line+1,ch:0}});if(lineLength){editGroup.push({text:"",start:{line:sel.end.line-1,ch:lineLength},end:{line:sel.end.line,ch:0}})}editGroup.push({text:nextText,start:{line:sel.start.line,ch:0}});edits.push({edit:editGroup})}break}});if(edits.length){newSels=doc.doMultipleEdits(edits);pos.ch=0;if(direction===DIRECTION_UP){editor.setSelections(newSels);pos.line=editor.getSelection().start.line}else if(direction===DIRECTION_DOWN){pos.line=editor.getSelection().end.line}else{console.error("EditorCommandHandler.moveLine() called with invalid argument 'direction' = %d",direction);pos=null}editor._codeMirror.scrollIntoView(pos)}}function moveLineUp(editor){moveLine(editor,DIRECTION_UP)}function moveLineDown(editor){moveLine(editor,DIRECTION_DOWN)}function openLine(editor,direction){editor=editor||EditorManager.getFocusedEditor();if(!editor){return}var selections=editor.getSelections(),isInlineWidget=!!EditorManager.getFocusedInlineWidget(),lastLine=editor.getLastVisibleLine(),doc=editor.document,edits=[],newSelections,line;doc.batchOperation(function(){_.each(selections,function(sel,index){if(index===0||direction===DIRECTION_UP&&sel.start.line>selections[index-1].start.line||direction===DIRECTION_DOWN&&sel.end.line>selections[index-1].end.line){switch(direction){case DIRECTION_UP:line=sel.start.line;break;case DIRECTION_DOWN:line=sel.end.line;if(!(CodeMirror.cmpPos(sel.start,sel.end)!==0&&sel.end.ch===0)){line++}break}var insertPos;if(line>lastLine&&isInlineWidget){insertPos={line:line-1,ch:doc.getLine(line-1).length}}else{insertPos={line:line,ch:0}}edits.push({edit:{text:"\n",start:insertPos},selection:{start:insertPos,end:insertPos,primary:sel.primary}})}else{if(sel.primary){edits[edits.length-1].selections[0].primary=true}}});newSelections=doc.doMultipleEdits(edits,"+input");_.each(newSelections,function(sel){doc._masterEditor._codeMirror.indentLine(sel.start.line,"smart",true);sel.start.ch=null;sel.end=sel.start})});editor.setSelections(newSelections)}function openLineAbove(editor){openLine(editor,DIRECTION_UP)}function openLineBelow(editor){openLine(editor,DIRECTION_DOWN)}function indentText(){var editor=EditorManager.getFocusedEditor();if(!editor){return}editor._codeMirror.execCommand("indentMore")}function unindentText(){var editor=EditorManager.getFocusedEditor();if(!editor){return}editor._codeMirror.execCommand("indentLess")}function selectLine(editor){editor=editor||EditorManager.getFocusedEditor();if(editor){editor.setSelections(_.pluck(editor.convertToLineSelections(editor.getSelections(),{expandEndAtStartOfLine:true}),"selectionForEdit"))}}function splitSelIntoLines(editor){editor=editor||EditorManager.getFocusedEditor();if(editor){editor._codeMirror.execCommand("splitSelectionByLine")}}function addCursorToSelection(editor,dir){editor=editor||EditorManager.getFocusedEditor();if(editor){var origSels=editor.getSelections(),newSels=[];_.each(origSels,function(sel){var pos,colOffset;if(dir===-1&&sel.start.line>editor.getFirstVisibleLine()||dir===1&&sel.end.line<editor.getLastVisibleLine()){pos=_.clone(dir===-1?sel.start:sel.end);colOffset=editor.getColOffset(pos);pos.line+=dir;pos.ch=editor.getCharIndexForColumn(pos.line,colOffset);newSels.push({start:pos,end:pos,primary:sel.primary});sel.primary=false}});editor.setSelections(origSels.concat(newSels))}}function addCursorToPrevLine(editor){addCursorToSelection(editor,-1)}function addCursorToNextLine(editor){addCursorToSelection(editor,1)}function handleUndoRedo(operation){var editor=EditorManager.getFocusedEditor();var result=new $.Deferred;if(editor){editor[operation]();result.resolve()}else{result.reject()}return result.promise()}function handleUndo(){return handleUndoRedo("undo")}function handleRedo(){return handleUndoRedo("redo")}function ignoreCommand(){return(new $.Deferred).reject().promise()}function _handleSelectAll(){var result=new $.Deferred,editor=EditorManager.getFocusedEditor();if(editor){editor.selectAllNoScroll();result.resolve()}else{result.reject()}return result.promise()}function _execCommand(cmd){window.document.execCommand(cmd)}var _execCommandCut=function(){if(document.queryCommandSupported("cut")){return function(){_execCommand("cut")}}return function(){Dialogs.showModalDialogUsingTemplate(Mustache.render(dialogTemplate,{key:commandKey}));return ignoreCommand()}}();var _execCommandCopy=function(){if(document.queryCommandSupported("copy")){return function(){_execCommand("copy")}}return function(){Dialogs.showModalDialogUsingTemplate(Mustache.render(dialogTemplate,{key:commandKey}));return ignoreCommand()}}();function _execCommandPaste(){
Dialogs.showModalDialogUsingTemplate(Mustache.render(dialogTemplate,{key:commandKey}));return ignoreCommand()}CommandManager.register(Strings.CMD_INDENT,Commands.EDIT_INDENT,indentText);CommandManager.register(Strings.CMD_UNINDENT,Commands.EDIT_UNINDENT,unindentText);CommandManager.register(Strings.CMD_COMMENT,Commands.EDIT_LINE_COMMENT,lineComment);CommandManager.register(Strings.CMD_BLOCK_COMMENT,Commands.EDIT_BLOCK_COMMENT,blockComment);CommandManager.register(Strings.CMD_DUPLICATE,Commands.EDIT_DUPLICATE,duplicateText);CommandManager.register(Strings.CMD_DELETE_LINES,Commands.EDIT_DELETE_LINES,deleteCurrentLines);CommandManager.register(Strings.CMD_LINE_UP,Commands.EDIT_LINE_UP,moveLineUp);CommandManager.register(Strings.CMD_LINE_DOWN,Commands.EDIT_LINE_DOWN,moveLineDown);CommandManager.register(Strings.CMD_OPEN_LINE_ABOVE,Commands.EDIT_OPEN_LINE_ABOVE,openLineAbove);CommandManager.register(Strings.CMD_OPEN_LINE_BELOW,Commands.EDIT_OPEN_LINE_BELOW,openLineBelow);CommandManager.register(Strings.CMD_SELECT_LINE,Commands.EDIT_SELECT_LINE,selectLine);CommandManager.register(Strings.CMD_SPLIT_SEL_INTO_LINES,Commands.EDIT_SPLIT_SEL_INTO_LINES,splitSelIntoLines);CommandManager.register(Strings.CMD_ADD_CUR_TO_NEXT_LINE,Commands.EDIT_ADD_CUR_TO_NEXT_LINE,addCursorToNextLine);CommandManager.register(Strings.CMD_ADD_CUR_TO_PREV_LINE,Commands.EDIT_ADD_CUR_TO_PREV_LINE,addCursorToPrevLine);CommandManager.register(Strings.CMD_UNDO,Commands.EDIT_UNDO,handleUndo);CommandManager.register(Strings.CMD_REDO,Commands.EDIT_REDO,handleRedo);CommandManager.register(Strings.CMD_CUT,Commands.EDIT_CUT,_execCommandCut);CommandManager.register(Strings.CMD_COPY,Commands.EDIT_COPY,_execCommandCopy);CommandManager.register(Strings.CMD_PASTE,Commands.EDIT_PASTE,_execCommandPaste);CommandManager.register(Strings.CMD_SELECT_ALL,Commands.EDIT_SELECT_ALL,_handleSelectAll)});define("editor/EditorOptionHandlers",["require","exports","module","utils/AppInit","editor/Editor","command/Commands","command/CommandManager","preferences/PreferencesManager","strings","thirdparty/lodash"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),Editor=require("editor/Editor").Editor,Commands=require("command/Commands"),CommandManager=require("command/CommandManager"),PreferencesManager=require("preferences/PreferencesManager"),Strings=require("strings"),_=require("thirdparty/lodash");var SHOW_LINE_NUMBERS="showLineNumbers",STYLE_ACTIVE_LINE="styleActiveLine",WORD_WRAP="wordWrap",ALLOW_JAVASCRIPT="allowJavaScript",CLOSE_BRACKETS="closeBrackets",AUTO_UPDATE="autoUpdate",LOOP_PROTECT="loopProtect";var _optionMapping={};_optionMapping[SHOW_LINE_NUMBERS]=Commands.TOGGLE_LINE_NUMBERS;_optionMapping[STYLE_ACTIVE_LINE]=Commands.TOGGLE_ACTIVE_LINE;_optionMapping[WORD_WRAP]=Commands.TOGGLE_WORD_WRAP;_optionMapping[ALLOW_JAVASCRIPT]=Commands.TOGGLE_ALLOW_JAVASCRIPT;_optionMapping[CLOSE_BRACKETS]=Commands.TOGGLE_CLOSE_BRACKETS;_optionMapping[AUTO_UPDATE]=Commands.TOGGLE_AUTO_UPDATE;_optionMapping[LOOP_PROTECT]=Commands.TOGGLE_LOOP_PROTECT;function _updateCheckedState(name){var mapping=_optionMapping[name];if(!mapping){return}CommandManager.get(mapping).setChecked(PreferencesManager.get(name))}Object.keys(_optionMapping).forEach(function(preference){PreferencesManager.on("change",preference,function(){_updateCheckedState(preference)})});function _getToggler(prefName){return function(){PreferencesManager.set(prefName,!PreferencesManager.get(prefName))}}function _init(){_.each(_optionMapping,function(commandName,prefName){CommandManager.get(commandName).setChecked(PreferencesManager.get(prefName))});if(!Editor.getShowLineNumbers()){Editor._toggleLinePadding(true)}}CommandManager.register(Strings.CMD_TOGGLE_LINE_NUMBERS,Commands.TOGGLE_LINE_NUMBERS,_getToggler(SHOW_LINE_NUMBERS));CommandManager.register(Strings.CMD_TOGGLE_ACTIVE_LINE,Commands.TOGGLE_ACTIVE_LINE,_getToggler(STYLE_ACTIVE_LINE));CommandManager.register(Strings.CMD_TOGGLE_WORD_WRAP,Commands.TOGGLE_WORD_WRAP,_getToggler(WORD_WRAP));CommandManager.register(Strings.CMD_TOGGLE_CLOSE_BRACKETS,Commands.TOGGLE_CLOSE_BRACKETS,_getToggler(CLOSE_BRACKETS));CommandManager.registerInternal(Commands.TOGGLE_ALLOW_JAVASCRIPT,_getToggler(ALLOW_JAVASCRIPT));CommandManager.registerInternal(Commands.TOGGLE_AUTO_UPDATE,_getToggler(AUTO_UPDATE));CommandManager.registerInternal(Commands.TOGGLE_LOOP_PROTECT,_getToggler(LOOP_PROTECT));AppInit.htmlReady(_init)});define("editor/EditorStatusBar",["require","exports","module","thirdparty/lodash","utils/AnimationUtils","utils/AppInit","widgets/DropdownButton","editor/EditorManager","view/MainViewManager","editor/Editor","utils/KeyEvent","language/LanguageManager","preferences/PreferencesManager","widgets/StatusBar","strings","utils/StringUtils"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),AnimationUtils=require("utils/AnimationUtils"),AppInit=require("utils/AppInit"),DropdownButton=require("widgets/DropdownButton").DropdownButton,EditorManager=require("editor/EditorManager"),MainViewManager=require("view/MainViewManager"),Editor=require("editor/Editor").Editor,KeyEvent=require("utils/KeyEvent"),LanguageManager=require("language/LanguageManager"),PreferencesManager=require("preferences/PreferencesManager"),StatusBar=require("widgets/StatusBar"),Strings=require("strings"),StringUtils=require("utils/StringUtils");var languageSelect,$cursorInfo,$fileInfo,$indentType,$indentWidthLabel,$indentWidthInput,$statusOverwrite;var LANGUAGE_SET_AS_DEFAULT={};function _formatCountable(number,singularStr,pluralStr){return StringUtils.format(number>1?pluralStr:singularStr,number)}function _updateLanguageInfo(editor){var doc=editor.document,lang=doc.getLanguage();languageSelect.$button.css("width","auto");languageSelect.$button.prop("disabled",doc.isUntitled());languageSelect.$button.text(lang.getName())}function _updateFileInfo(editor){var lines=editor.lineCount();$fileInfo.text(_formatCountable(lines,Strings.STATUSBAR_LINE_COUNT_SINGULAR,Strings.STATUSBAR_LINE_COUNT_PLURAL))}function _updateIndentType(fullPath){var indentWithTabs=Editor.getUseTabChar(fullPath);$indentType.text(indentWithTabs?Strings.STATUSBAR_TAB_SIZE:Strings.STATUSBAR_SPACES);$indentType.attr("title",indentWithTabs?Strings.STATUSBAR_INDENT_TOOLTIP_SPACES:Strings.STATUSBAR_INDENT_TOOLTIP_TABS);$indentWidthLabel.attr("title",indentWithTabs?Strings.STATUSBAR_INDENT_SIZE_TOOLTIP_TABS:Strings.STATUSBAR_INDENT_SIZE_TOOLTIP_SPACES)}function _getIndentSize(fullPath){return Editor.getUseTabChar(fullPath)?Editor.getTabSize(fullPath):Editor.getSpaceUnits(fullPath)}function _updateIndentSize(fullPath){var size=_getIndentSize(fullPath);$indentWidthLabel.text(size);$indentWidthInput.val(size)}function _toggleIndentType(){var current=EditorManager.getActiveEditor(),fullPath=current&&current.document.file.fullPath;Editor.setUseTabChar(!Editor.getUseTabChar(fullPath),fullPath);_updateIndentType(fullPath);_updateIndentSize(fullPath)}function _updateCursorInfo(event,editor){editor=editor||EditorManager.getActiveEditor();var cursor=editor.getCursorPos(true);var cursorStr=StringUtils.format(Strings.STATUSBAR_CURSOR_POSITION,cursor.line+1,cursor.ch+1);var sels=editor.getSelections(),selStr="";if(sels.length>1){selStr=StringUtils.format(Strings.STATUSBAR_SELECTION_MULTIPLE,sels.length)}else if(editor.hasSelection()){var sel=sels[0];if(sel.start.line!==sel.end.line){var lines=sel.end.line-sel.start.line+1;if(sel.end.ch===0){lines--}selStr=_formatCountable(lines,Strings.STATUSBAR_SELECTION_LINE_SINGULAR,Strings.STATUSBAR_SELECTION_LINE_PLURAL)}else{var cols=editor.getColOffset(sel.end)-editor.getColOffset(sel.start);selStr=_formatCountable(cols,Strings.STATUSBAR_SELECTION_CH_SINGULAR,Strings.STATUSBAR_SELECTION_CH_PLURAL)}}$cursorInfo.text(cursorStr+selStr)}function _changeIndentWidth(fullPath,value){$indentWidthLabel.removeClass("hidden");$indentWidthInput.addClass("hidden");$indentWidthInput.off("blur keyup");MainViewManager.focusActivePane();var valInt=parseInt(value,10);if(Editor.getUseTabChar(fullPath)){if(!Editor.setTabSize(valInt,fullPath)){return}}else{if(!Editor.setSpaceUnits(valInt,fullPath)){return}}_updateIndentSize(fullPath);_updateCursorInfo()}function _updateOverwriteLabel(event,editor,newstate,doNotAnimate){if($statusOverwrite.text()===(newstate?Strings.STATUSBAR_OVERWRITE:Strings.STATUSBAR_INSERT)){return}$statusOverwrite.text(newstate?Strings.STATUSBAR_OVERWRITE:Strings.STATUSBAR_INSERT);if(!doNotAnimate){AnimationUtils.animateUsingClass($statusOverwrite[0],"flash",1500)}}function _updateEditorOverwriteMode(event){var editor=EditorManager.getActiveEditor(),newstate=!editor._codeMirror.state.overwrite;_updateOverwriteLabel(event,editor,newstate,true);editor.toggleOverwrite(newstate)}function _initOverwriteMode(currentEditor){currentEditor.toggleOverwrite($statusOverwrite.text()===Strings.STATUSBAR_OVERWRITE);$statusOverwrite.attr("title",Strings.STATUSBAR_INSOVR_TOOLTIP)}function _onActiveEditorChange(event,current,previous){if(previous){previous.off(".statusbar");previous.document.off(".statusbar");previous.document.releaseRef()}if(!current){StatusBar.hideAllPanes()}else{var fullPath=current.document.file.fullPath;StatusBar.showAllPanes();current.on("cursorActivity.statusbar",_updateCursorInfo);current.on("optionChange.statusbar",function(){_updateIndentType(fullPath);_updateIndentSize(fullPath)});current.on("change.statusbar",function(){window.setTimeout(function(){_updateFileInfo(current)},0)});current.on("overwriteToggle.statusbar",_updateOverwriteLabel);current.document.addRef();current.document.on("languageChanged.statusbar",function(){_updateLanguageInfo(current)});_updateCursorInfo(null,current);_updateLanguageInfo(current);_updateFileInfo(current);_initOverwriteMode(current);_updateIndentType(fullPath);_updateIndentSize(fullPath)}}function _populateLanguageDropdown(){var languages=_.values(LanguageManager.getLanguages()).filter(function(language){return!language.isBinary()});languages.sort(function(a,b){return a.getName().toLowerCase().localeCompare(b.getName().toLowerCase())});languageSelect.items=languages;languageSelect.items.unshift("---");languageSelect.items.unshift(LANGUAGE_SET_AS_DEFAULT)}function _init(){$cursorInfo=$("#status-cursor");$fileInfo=$("#status-file");$indentType=$("#indent-type");$indentWidthLabel=$("#indent-width-label");$indentWidthInput=$("#indent-width-input");$statusOverwrite=$("#status-overwrite");languageSelect=new DropdownButton("",[],function(item,index){var document=EditorManager.getActiveEditor().document,defaultLang=LanguageManager.getLanguageForPath(document.file.fullPath,true);if(item===LANGUAGE_SET_AS_DEFAULT){var label=_.escape(StringUtils.format(Strings.STATUSBAR_SET_DEFAULT_LANG,LanguageManager.getCompoundFileExtension(document.file.fullPath)));return{html:label,enabled:document.getLanguage()!==defaultLang}}var html=_.escape(item.getName());if(item===defaultLang){html+=" <span class='default-language'>"+Strings.STATUSBAR_DEFAULT_LANG+"</span>"}if(item===document.getLanguage()){html="<span class='checked-language'></span>"+html}return html});languageSelect.dropdownExtraClasses="dropdown-status-bar";languageSelect.$button.addClass("btn-status-bar");$("#status-language").append(languageSelect.$button);languageSelect.$button.attr("title",Strings.STATUSBAR_LANG_TOOLTIP);$indentType.on("click",_toggleIndentType);$indentWidthLabel.on("click",function(){var fullPath=EditorManager.getActiveEditor().document.file.fullPath;$indentWidthInput.val(_getIndentSize(fullPath));$indentWidthLabel.addClass("hidden");$indentWidthInput.removeClass("hidden");$indentWidthInput.focus();$indentWidthInput.on("blur",function(){_changeIndentWidth(fullPath,$indentWidthInput.val())}).on("keyup",function(event){if(event.keyCode===KeyEvent.DOM_VK_RETURN){$indentWidthInput.blur()}else if(event.keyCode===KeyEvent.DOM_VK_ESCAPE){_changeIndentWidth(fullPath,false)}})});$indentWidthInput.focus(function(){$indentWidthInput.select()});languageSelect.on("select",function(e,lang){var document=EditorManager.getActiveEditor().document,fullPath=document.file.fullPath;if(lang===LANGUAGE_SET_AS_DEFAULT){var fileExtensionMap=PreferencesManager.get("language.fileExtensions");fileExtensionMap[LanguageManager.getCompoundFileExtension(fullPath)]=document.getLanguage().getId();PreferencesManager.set("language.fileExtensions",fileExtensionMap)}else{var defaultLang=LanguageManager.getLanguageForPath(fullPath,true);LanguageManager.setLanguageOverrideForPath(fullPath,lang===defaultLang?null:lang)}});$statusOverwrite.on("click",_updateEditorOverwriteMode)}EditorManager.on("activeEditorChange",_onActiveEditorChange);AppInit.htmlReady(_init);AppInit.appReady(function(){_populateLanguageDropdown();LanguageManager.on("languageAdded languageModified",_populateLanguageDropdown);_onActiveEditorChange(null,EditorManager.getActiveEditor(),null);StatusBar.show()})});define("text!htmlContent/image-view.html",[],function(){return'<div class="image-view viewer-wrapper">\n\n    <div class="viewer-header">\n        <span class="file-type">{{ Strings.IMAGE_FILE_TITLE }}</span>\n        <span class="image-data file-details"></span>\n    </div>\n\n    <div class="image-view-swatches">\n        <div class="swatch-wrapper">\n          <span class="image-view-swatch colorVibrant"></span>\n          <span class="image-view-hex"></span>\n        </div>\n        <div class="swatch-wrapper">\n          <span class="image-view-swatch colorMuted"></span>\n          <span class="image-view-hex"></span>\n        </div>\n        <div class="swatch-wrapper">\n          <span class="image-view-swatch colorDarkVibrant"></span>\n          <span class="image-view-hex"></span>\n        </div>\n        <div class="swatch-wrapper">\n          <span class="image-view-swatch colorDarkMuted"></span>\n          <span class="image-view-hex"></span>\n        </div>\n        <div class="swatch-wrapper">\n          <span class="image-view-swatch colorLightVibrant"></span>\n          <span class="image-view-hex"></span>\n        </div>\n    </div>\n\n    <div class="image-wrapper specimen-wrapper">\n      <img class="image-preview" src="{{imgUrl}}">\n      <div class="processing-overlay">\n        <div class="processing-spinner"></div>\n      </div>\n    </div>\n\n    <div class="code-wrapper code-html">\n        <h2 class="code-title">HTML</h2>\n        <pre>&lt;img src="{{ localImgUrl }}" alt="{{ Strings.IMAGE_ALT_TEXT }}" /&gt;</pre>\n    </div>\n\n    <div class="code-wrapper code-css">\n        <h2 class="code-title">CSS</h2>\n        <pre>.myImage {\n  background-image: url("{{localImgUrl}}");\n}</pre>\n    </div>\n\n    <div class="image-filters-section hide">\n      <h3>{{Strings.IMAGE_FILTERS_TITLE}}</h3>\n      <div class="image-filters">\n          <button class="btn btn-pinhole">{{Strings.IMAGE_FILTER_PINHOLE}}</button>\n          <button class="btn btn-sepia">{{Strings.IMAGE_FILTER_SEPIA}}</button>\n          <button class="btn btn-contrast">{{Strings.IMAGE_FILTER_CONTRAST}}</button>\n          <button class="btn btn-vintage">{{Strings.IMAGE_FILTER_VINTAGE}}</button>\n          <button class="btn btn-sunrise">{{Strings.IMAGE_FILTER_SUNRISE}}</button>\n          <button class="btn btn-emboss">{{Strings.IMAGE_FILTER_EMBOSS}}</button>\n          <button class="btn btn-glowing-sun">{{Strings.IMAGE_FILTER_GLOWING_SUN}}</button>\n      </div>\n      <div class="image-filter-actions">\n        <button class="btn btn-image-filter-reset" disabled="disabled">{{Strings.IMAGE_RESET_FILTERS}}</button>\n        <button class="btn btn-image-filter-save" disabled="disabled">{{Strings.IMAGE_SAVE_WITH_FILTERS}}</button>\n      </div>\n    </div>\n\n</div>\n'});(function(){var $,Analyze,Blender,Calculate,Caman,CamanParser,Canvas,Convert,Event,Fiber,Filter,IO,Image,Layer,Log,Module,Pixel,Plugin,Renderer,Root,Store,Util,fs,moduleKeywords,slice,vignetteFilters,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},__slice=[].slice,__hasProp={}.hasOwnProperty,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};moduleKeywords=["extended","included"];Module=function(){function Module(){}Module["extends"]=function(obj){var key,value,_ref;for(key in obj){value=obj[key];if(__indexOf.call(moduleKeywords,key)<0){this[key]=value}}if((_ref=obj.extended)!=null){_ref.apply(this)}return this};Module.includes=function(obj){var key,value,_ref;for(key in obj){value=obj[key];if(__indexOf.call(moduleKeywords,key)<0){this.prototype[key]=value}}if((_ref=obj.included)!=null){_ref.apply(this)}return this};Module.delegate=function(){var args,source,target,_i,_len,_results;args=1<=arguments.length?__slice.call(arguments,0):[];target=args.pop();_results=[];for(_i=0,_len=args.length;_i<_len;_i++){source=args[_i];_results.push(this.prototype[source]=target.prototype[source])}return _results};Module.aliasFunction=function(to,from){var _this=this;return this.prototype[to]=function(){var args;args=1<=arguments.length?__slice.call(arguments,0):[];return _this.prototype[from].apply(_this,args)}};Module.aliasProperty=function(to,from){return Object.defineProperty(this.prototype,to,{get:function(){return this[from]},set:function(val){return this[from]=val}})};Module.included=function(func){return func.call(this,this.prototype)};return Module}();slice=Array.prototype.slice;$=function(sel,root){if(root==null){root=document}if(typeof sel==="object"||typeof exports!=="undefined"&&exports!==null){return sel}return root.querySelector(sel)};Util=function(){function Util(){}Util.uniqid=function(){var id;id=0;return{get:function(){return id++}}}();Util.extend=function(){var copy,dest,obj,prop,src,_i,_len;obj=arguments[0],src=2<=arguments.length?__slice.call(arguments,1):[];dest=obj;for(_i=0,_len=src.length;_i<_len;_i++){copy=src[_i];for(prop in copy){if(!__hasProp.call(copy,prop))continue;dest[prop]=copy[prop]}}return dest};Util.clampRGB=function(val){if(val<0){return 0}if(val>255){return 255}return val};Util.copyAttributes=function(from,to,opts){var attr,_i,_len,_ref,_ref1,_results;if(opts==null){opts={}}_ref=from.attributes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){attr=_ref[_i];if(opts.except!=null&&(_ref1=attr.nodeName,__indexOf.call(opts.except,_ref1)>=0)){continue}_results.push(to.setAttribute(attr.nodeName,attr.nodeValue))}return _results};Util.dataArray=function(length){if(length==null){length=0}if(Caman.NodeJS||window.Uint8Array!=null){return new Uint8Array(length)}return new Array(length)};return Util}();if(typeof exports!=="undefined"&&exports!==null){Root=exports;Canvas=require("canvas");Image=Canvas.Image;Fiber=require("fibers");fs=require("fs")}else{Root=window}Caman=function(_super){__extends(Caman,_super);Caman.version={release:"4.1.2",date:"7/27/2013"};Caman.DEBUG=false;Caman.allowRevert=true;Caman.crossOrigin="anonymous";Caman.remoteProxy="";Caman.proxyParam="camanProxyUrl";Caman.NodeJS=typeof exports!=="undefined"&&exports!==null;Caman.autoload=!Caman.NodeJS;Caman.toString=function(){return"Version "+Caman.version.release+", Released "+Caman.version.date};Caman.getAttrId=function(canvas){if(Caman.NodeJS){return true}if(typeof canvas==="string"){canvas=$(canvas)}if(!(canvas!=null&&canvas.getAttribute!=null)){return null}return canvas.getAttribute("data-caman-id")};function Caman(){this.nodeFileReady=__bind(this.nodeFileReady,this);var args,callback,id,_this=this;if(arguments.length===0){throw"Invalid arguments"}if(this instanceof Caman){this.finishInit=this.finishInit.bind(this);this.imageLoaded=this.imageLoaded.bind(this);args=arguments[0];if(!Caman.NodeJS){id=parseInt(Caman.getAttrId(args[0]),10);callback=typeof args[1]==="function"?args[1]:typeof args[2]==="function"?args[2]:function(){};if(!isNaN(id)&&Store.has(id)){return Store.execute(id,callback)}}this.id=Util.uniqid.get();this.initializedPixelData=this.originalPixelData=null;this.cropCoordinates={x:0,y:0};this.cropped=false;this.resized=false;this.pixelStack=[];this.layerStack=[];this.canvasQueue=[];this.currentLayer=null;this.scaled=false;this.analyze=new Analyze(this);this.renderer=new Renderer(this);this.domIsLoaded(function(){_this.parseArguments(args);return _this.setup()});return this}else{return new Caman(arguments)}}Caman.prototype.domIsLoaded=function(cb){var listener,_this=this;if(Caman.NodeJS){return setTimeout(function(){return cb.call(_this)},0)}else{if(document.readyState==="complete"){Log.debug("DOM initialized");return setTimeout(function(){return cb.call(_this)},0)}else{listener=function(){if(document.readyState==="complete"){Log.debug("DOM initialized");return cb.call(_this)}};return document.addEventListener("readystatechange",listener,false)}}};Caman.prototype.parseArguments=function(args){var key,val,_ref,_results;if(args.length===0){throw"Invalid arguments given"}this.initObj=null;this.initType=null;this.imageUrl=null;this.callback=function(){};this.setInitObject(args[0]);if(args.length===1){return}switch(typeof args[1]){case"string":this.imageUrl=args[1];break;case"function":this.callback=args[1]}if(args.length===2){return}this.callback=args[2];if(args.length===4){_ref=args[4];_results=[];for(key in _ref){if(!__hasProp.call(_ref,key))continue;val=_ref[key];_results.push(this.options[key]=val)}return _results}};Caman.prototype.setInitObject=function(obj){if(Caman.NodeJS){this.initObj=obj;this.initType="node";return}if(typeof obj==="object"){this.initObj=obj}else{this.initObj=$(obj)}if(this.initObj==null){throw"Could not find image or canvas for initialization."}return this.initType=this.initObj.nodeName.toLowerCase()};Caman.prototype.setup=function(){switch(this.initType){case"node":return this.initNode();case"img":return this.initImage();case"canvas":return this.initCanvas()}};Caman.prototype.initNode=function(){Log.debug("Initializing for NodeJS");if(typeof this.initObj==="string"){return fs.readFile(this.initObj,this.nodeFileReady)}else{return this.nodeFileReady(null,this.initObj)}};Caman.prototype.nodeFileReady=function(err,data){if(err){throw err}this.image=new Image;this.image.src=data;Log.debug("Image loaded. Width = "+this.imageWidth()+", Height = "+this.imageHeight());this.canvas=new Canvas(this.imageWidth(),this.imageHeight());return this.finishInit()};Caman.prototype.initImage=function(){this.image=this.initObj;this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");Util.copyAttributes(this.image,this.canvas,{except:["src"]});this.image.parentNode.replaceChild(this.canvas,this.image);this.imageAdjustments();return this.waitForImageLoaded()};Caman.prototype.initCanvas=function(){this.canvas=this.initObj;this.context=this.canvas.getContext("2d");if(this.imageUrl!=null){this.image=document.createElement("img");this.image.src=this.imageUrl;this.imageAdjustments();return this.waitForImageLoaded()}else{return this.finishInit()}};Caman.prototype.imageAdjustments=function(){if(this.needsHiDPISwap()){Log.debug(this.image.src,"->",this.hiDPIReplacement());this.swapped=true;this.image.src=this.hiDPIReplacement()}if(IO.isRemote(this.image)){this.image.src=IO.proxyUrl(this.image.src);return Log.debug("Remote image detected, using URL = "+this.image.src)}};Caman.prototype.waitForImageLoaded=function(){if(this.isImageLoaded()){return this.imageLoaded()}else{return this.image.onload=this.imageLoaded}};Caman.prototype.isImageLoaded=function(){if(!this.image.complete){return false}if(this.image.naturalWidth!=null&&this.image.naturalWidth===0){return false}return true};Caman.prototype.imageWidth=function(){return this.image.width||this.image.naturalWidth};Caman.prototype.imageHeight=function(){return this.image.height||this.image.naturalHeight};Caman.prototype.imageLoaded=function(){Log.debug("Image loaded. Width = "+this.imageWidth()+", Height = "+this.imageHeight());if(this.swapped){this.canvas.width=this.imageWidth()/this.hiDPIRatio();this.canvas.height=this.imageHeight()/this.hiDPIRatio()}else{this.canvas.width=this.imageWidth();this.canvas.height=this.imageHeight()}return this.finishInit()};Caman.prototype.finishInit=function(){var i,pixel,_i,_len,_ref;if(this.context==null){this.context=this.canvas.getContext("2d")}this.originalWidth=this.preScaledWidth=this.width=this.canvas.width;this.originalHeight=this.preScaledHeight=this.height=this.canvas.height;this.hiDPIAdjustments();if(!this.hasId()){this.assignId()}if(this.image!=null){this.context.drawImage(this.image,0,0,this.imageWidth(),this.imageHeight(),0,0,this.preScaledWidth,this.preScaledHeight)}this.imageData=this.context.getImageData(0,0,this.canvas.width,this.canvas.height);this.pixelData=this.imageData.data;if(Caman.allowRevert){this.initializedPixelData=Util.dataArray(this.pixelData.length);this.originalPixelData=Util.dataArray(this.pixelData.length);_ref=this.pixelData;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){pixel=_ref[i];this.initializedPixelData[i]=pixel;this.originalPixelData[i]=pixel}}this.dimensions={width:this.canvas.width,height:this.canvas.height};if(!Caman.NodeJS){Store.put(this.id,this)}this.callback.call(this,this);return this.callback=function(){}};Caman.prototype.reloadCanvasData=function(){this.imageData=this.context.getImageData(0,0,this.canvas.width,this.canvas.height);return this.pixelData=this.imageData.data};Caman.prototype.resetOriginalPixelData=function(){var i,pixel,_i,_len,_ref,_results;if(!Caman.allowRevert){throw"Revert disabled"}this.originalPixelData=Util.dataArray(this.pixelData.length);_ref=this.pixelData;_results=[];for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){pixel=_ref[i];_results.push(this.originalPixelData[i]=pixel)}return _results};Caman.prototype.hasId=function(){return Caman.getAttrId(this.canvas)!=null};Caman.prototype.assignId=function(){if(Caman.NodeJS||this.canvas.getAttribute("data-caman-id")){return}return this.canvas.setAttribute("data-caman-id",this.id)};Caman.prototype.hiDPIDisabled=function(){return this.canvas.getAttribute("data-caman-hidpi-disabled")!==null};Caman.prototype.hiDPIAdjustments=function(){var ratio;if(Caman.NodeJS||!this.needsHiDPISwap()){return}ratio=this.hiDPIRatio();if(ratio!==1){Log.debug("HiDPI ratio = "+ratio);this.scaled=true;this.preScaledWidth=this.canvas.width;this.preScaledHeight=this.canvas.height;this.canvas.width=this.preScaledWidth*ratio;this.canvas.height=this.preScaledHeight*ratio;this.canvas.style.width=""+this.preScaledWidth+"px";this.canvas.style.height=""+this.preScaledHeight+"px";this.context.scale(ratio,ratio);this.width=this.originalWidth=this.canvas.width;return this.height=this.originalHeight=this.canvas.height}};Caman.prototype.hiDPIRatio=function(){var backingStoreRatio,devicePixelRatio;devicePixelRatio=window.devicePixelRatio||1;backingStoreRatio=this.context.webkitBackingStorePixelRatio||this.context.mozBackingStorePixelRatio||this.context.msBackingStorePixelRatio||this.context.oBackingStorePixelRatio||this.context.backingStorePixelRatio||1;return devicePixelRatio/backingStoreRatio};Caman.prototype.hiDPICapable=function(){return window.devicePixelRatio!=null&&window.devicePixelRatio!==1};Caman.prototype.needsHiDPISwap=function(){if(this.hiDPIDisabled()||!this.hiDPICapable()){return false}return this.hiDPIReplacement()!==null};Caman.prototype.hiDPIReplacement=function(){if(this.image==null){return null}return this.image.getAttribute("data-caman-hidpi")};Caman.prototype.replaceCanvas=function(newCanvas){var oldCanvas;oldCanvas=this.canvas;this.canvas=newCanvas;this.context=this.canvas.getContext("2d");if(!Caman.NodeJS){oldCanvas.parentNode.replaceChild(this.canvas,oldCanvas)}this.width=this.canvas.width;this.height=this.canvas.height;this.reloadCanvasData();return this.dimensions={width:this.canvas.width,height:this.canvas.height}};Caman.prototype.render=function(callback){var _this=this;if(callback==null){callback=function(){}}Event.trigger(this,"renderStart");return this.renderer.execute(function(){_this.context.putImageData(_this.imageData,0,0);return callback.call(_this)})};Caman.prototype.revert=function(updateContext){var i,pixel,_i,_len,_ref;if(updateContext==null){updateContext=true}if(!Caman.allowRevert){throw"Revert disabled"}_ref=this.originalVisiblePixels();for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){pixel=_ref[i];this.pixelData[i]=pixel}if(updateContext){return this.context.putImageData(this.imageData,0,0)}};Caman.prototype.reset=function(){var canvas,ctx,i,imageData,pixel,pixelData,_i,_len,_ref;canvas=document.createElement("canvas");Util.copyAttributes(this.canvas,canvas);canvas.width=this.originalWidth;canvas.height=this.originalHeight;ctx=canvas.getContext("2d");imageData=ctx.getImageData(0,0,canvas.width,canvas.height);pixelData=imageData.data;_ref=this.initializedPixelData;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){pixel=_ref[i];pixelData[i]=pixel}ctx.putImageData(imageData,0,0);this.cropCoordinates={x:0,y:0};this.resized=false;return this.replaceCanvas(canvas)};Caman.prototype.originalVisiblePixels=function(){var canvas,coord,ctx,endX,endY,i,imageData,pixel,pixelData,pixels,scaledCanvas,startX,startY,width,_i,_j,_len,_ref,_ref1,_ref2,_ref3;if(!Caman.allowRevert){throw"Revert disabled"}pixels=[];startX=this.cropCoordinates.x;endX=startX+this.width;startY=this.cropCoordinates.y;endY=startY+this.height;if(this.resized){canvas=document.createElement("canvas");canvas.width=this.originalWidth;canvas.height=this.originalHeight;ctx=canvas.getContext("2d");imageData=ctx.getImageData(0,0,canvas.width,canvas.height);pixelData=imageData.data;_ref=this.originalPixelData;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){pixel=_ref[i];pixelData[i]=pixel}ctx.putImageData(imageData,0,0);scaledCanvas=document.createElement("canvas");scaledCanvas.width=this.width;scaledCanvas.height=this.height;ctx=scaledCanvas.getContext("2d");ctx.drawImage(canvas,0,0,this.originalWidth,this.originalHeight,0,0,this.width,this.height);pixelData=ctx.getImageData(0,0,this.width,this.height).data;width=this.width}else{pixelData=this.originalPixelData;width=this.originalWidth}for(i=_j=0,_ref1=pixelData.length;_j<_ref1;i=_j+=4){coord=Pixel.locationToCoordinates(i,width);if(startX<=(_ref2=coord.x)&&_ref2<endX&&(startY<=(_ref3=coord.y)&&_ref3<endY)){pixels.push(pixelData[i],pixelData[i+1],pixelData[i+2],pixelData[i+3])}}return pixels};Caman.prototype.process=function(name,processFn){this.renderer.add({type:Filter.Type.Single,name:name,processFn:processFn});return this};Caman.prototype.processKernel=function(name,adjust,divisor,bias){var i,_i,_ref;if(divisor==null){divisor=null}if(bias==null){bias=0}if(divisor==null){divisor=0;for(i=_i=0,_ref=adjust.length;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i){divisor+=adjust[i]}}this.renderer.add({type:Filter.Type.Kernel,name:name,adjust:adjust,divisor:divisor,bias:bias});return this};Caman.prototype.processPlugin=function(plugin,args){this.renderer.add({type:Filter.Type.Plugin,plugin:plugin,args:args});return this};Caman.prototype.newLayer=function(callback){var layer;layer=new Layer(this);this.canvasQueue.push(layer);this.renderer.add({type:Filter.Type.LayerDequeue});callback.call(layer);this.renderer.add({type:Filter.Type.LayerFinished});return this};Caman.prototype.executeLayer=function(layer){return this.pushContext(layer)};Caman.prototype.pushContext=function(layer){this.layerStack.push(this.currentLayer);this.pixelStack.push(this.pixelData);this.currentLayer=layer;return this.pixelData=layer.pixelData};Caman.prototype.popContext=function(){this.pixelData=this.pixelStack.pop();return this.currentLayer=this.layerStack.pop()};Caman.prototype.applyCurrentLayer=function(){return this.currentLayer.applyToParent()};return Caman}(Module);Root.Caman=Caman;Caman.Analyze=function(){function Analyze(c){this.c=c}
Analyze.prototype.calculateLevels=function(){var i,levels,numPixels,_i,_j,_k,_ref;levels={r:{},g:{},b:{}};for(i=_i=0;_i<=255;i=++_i){levels.r[i]=0;levels.g[i]=0;levels.b[i]=0}for(i=_j=0,_ref=this.c.pixelData.length;_j<_ref;i=_j+=4){levels.r[this.c.pixelData[i]]++;levels.g[this.c.pixelData[i+1]]++;levels.b[this.c.pixelData[i+2]]++}numPixels=this.c.pixelData.length/4;for(i=_k=0;_k<=255;i=++_k){levels.r[i]/=numPixels;levels.g[i]/=numPixels;levels.b[i]/=numPixels}return levels};return Analyze}();Analyze=Caman.Analyze;Caman.DOMUpdated=function(){var img,imgs,parser,_i,_len,_results;imgs=document.querySelectorAll("img[data-caman]");if(!(imgs.length>0)){return}_results=[];for(_i=0,_len=imgs.length;_i<_len;_i++){img=imgs[_i];_results.push(parser=new CamanParser(img,function(){this.parse();return this.execute()}))}return _results};if(Caman.autoload){(function(){if(document.readyState==="complete"){return Caman.DOMUpdated()}else{return document.addEventListener("DOMContentLoaded",Caman.DOMUpdated,false)}})()}CamanParser=function(){var INST_REGEX;INST_REGEX="(\\w+)\\((.*?)\\)";function CamanParser(ele,ready){this.dataStr=ele.getAttribute("data-caman");this.caman=Caman(ele,ready.bind(this))}CamanParser.prototype.parse=function(){var args,e,filter,func,inst,instFunc,m,r,unparsedInstructions,_i,_len,_ref,_results;this.ele=this.caman.canvas;r=new RegExp(INST_REGEX,"g");unparsedInstructions=this.dataStr.match(r);if(!(unparsedInstructions.length>0)){return}r=new RegExp(INST_REGEX);_results=[];for(_i=0,_len=unparsedInstructions.length;_i<_len;_i++){inst=unparsedInstructions[_i];_ref=inst.match(r),m=_ref[0],filter=_ref[1],args=_ref[2];instFunc=new Function("return function() {        this."+filter+"("+args+");      };");try{func=instFunc();_results.push(func.call(this.caman))}catch(_error){e=_error;_results.push(Log.debug(e))}}return _results};CamanParser.prototype.execute=function(){var ele;ele=this.ele;return this.caman.render(function(){return ele.parentNode.replaceChild(this.toImage(),ele)})};return CamanParser}();Caman.Blender=function(){function Blender(){}Blender.blenders={};Blender.register=function(name,func){return this.blenders[name]=func};Blender.execute=function(name,rgbaLayer,rgbaParent){return this.blenders[name](rgbaLayer,rgbaParent)};return Blender}();Blender=Caman.Blender;Caman.Calculate=function(){function Calculate(){}Calculate.distance=function(x1,y1,x2,y2){return Math.sqrt(Math.pow(x2-x1,2)+Math.pow(y2-y1,2))};Calculate.randomRange=function(min,max,getFloat){var rand;if(getFloat==null){getFloat=false}rand=min+Math.random()*(max-min);if(getFloat){return rand.toFixed(getFloat)}else{return Math.round(rand)}};Calculate.luminance=function(rgba){return.299*rgba.r+.587*rgba.g+.114*rgba.b};Calculate.bezier=function(start,ctrl1,ctrl2,end,lowBound,highBound){var Ax,Ay,Bx,By,Cx,Cy,bezier,curveX,curveY,i,j,leftCoord,rightCoord,t,x0,x1,x2,x3,y0,y1,y2,y3,_i,_j,_k,_ref,_ref1;x0=start[0];y0=start[1];x1=ctrl1[0];y1=ctrl1[1];x2=ctrl2[0];y2=ctrl2[1];x3=end[0];y3=end[1];bezier={};Cx=parseInt(3*(x1-x0),10);Bx=3*(x2-x1)-Cx;Ax=x3-x0-Cx-Bx;Cy=3*(y1-y0);By=3*(y2-y1)-Cy;Ay=y3-y0-Cy-By;for(i=_i=0;_i<1e3;i=++_i){t=i/1e3;curveX=Math.round(Ax*Math.pow(t,3)+Bx*Math.pow(t,2)+Cx*t+x0);curveY=Math.round(Ay*Math.pow(t,3)+By*Math.pow(t,2)+Cy*t+y0);if(lowBound&&curveY<lowBound){curveY=lowBound}else if(highBound&&curveY>highBound){curveY=highBound}bezier[curveX]=curveY}if(bezier.length<end[0]+1){for(i=_j=0,_ref=end[0];0<=_ref?_j<=_ref:_j>=_ref;i=0<=_ref?++_j:--_j){if(bezier[i]==null){leftCoord=[i-1,bezier[i-1]];for(j=_k=i,_ref1=end[0];i<=_ref1?_k<=_ref1:_k>=_ref1;j=i<=_ref1?++_k:--_k){if(bezier[j]!=null){rightCoord=[j,bezier[j]];break}}bezier[i]=leftCoord[1]+(rightCoord[1]-leftCoord[1])/(rightCoord[0]-leftCoord[0])*(i-leftCoord[0])}}}if(bezier[end[0]]==null){bezier[end[0]]=bezier[end[0]-1]}return bezier};return Calculate}();Calculate=Caman.Calculate;Caman.Convert=function(){function Convert(){}Convert.hexToRGB=function(hex){var b,g,r;if(hex.charAt(0)==="#"){hex=hex.substr(1)}r=parseInt(hex.substr(0,2),16);g=parseInt(hex.substr(2,2),16);b=parseInt(hex.substr(4,2),16);return{r:r,g:g,b:b}};Convert.rgbToHSL=function(r,g,b){var d,h,l,max,min,s;if(typeof r==="object"){g=r.g;b=r.b;r=r.r}r/=255;g/=255;b/=255;max=Math.max(r,g,b);min=Math.min(r,g,b);l=(max+min)/2;if(max===min){h=s=0}else{d=max-min;s=l>.5?d/(2-max-min):d/(max+min);h=function(){switch(max){case r:return(g-b)/d+(g<b?6:0);case g:return(b-r)/d+2;case b:return(r-g)/d+4}}();h/=6}return{h:h,s:s,l:l}};Convert.hslToRGB=function(h,s,l){var b,g,p,q,r;if(typeof h==="object"){s=h.s;l=h.l;h=h.h}if(s===0){r=g=b=l}else{q=l<.5?l*(1+s):l+s-l*s;p=2*l-q;r=this.hueToRGB(p,q,h+1/3);g=this.hueToRGB(p,q,h);b=this.hueToRGB(p,q,h-1/3)}return{r:r*255,g:g*255,b:b*255}};Convert.hueToRGB=function(p,q,t){if(t<0){t+=1}if(t>1){t-=1}if(t<1/6){return p+(q-p)*6*t}if(t<1/2){return q}if(t<2/3){return p+(q-p)*(2/3-t)*6}return p};Convert.rgbToHSV=function(r,g,b){var d,h,max,min,s,v;r/=255;g/=255;b/=255;max=Math.max(r,g,b);min=Math.min(r,g,b);v=max;d=max-min;s=max===0?0:d/max;if(max===min){h=0}else{h=function(){switch(max){case r:return(g-b)/d+(g<b?6:0);case g:return(b-r)/d+2;case b:return(r-g)/d+4}}();h/=6}return{h:h,s:s,v:v}};Convert.hsvToRGB=function(h,s,v){var b,f,g,i,p,q,r,t;i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q}return{r:Math.floor(r*255),g:Math.floor(g*255),b:Math.floor(b*255)}};Convert.rgbToXYZ=function(r,g,b){var x,y,z;r/=255;g/=255;b/=255;if(r>.04045){r=Math.pow((r+.055)/1.055,2.4)}else{r/=12.92}if(g>.04045){g=Math.pow((g+.055)/1.055,2.4)}else{g/=12.92}if(b>.04045){b=Math.pow((b+.055)/1.055,2.4)}else{b/=12.92}x=r*.4124+g*.3576+b*.1805;y=r*.2126+g*.7152+b*.0722;z=r*.0193+g*.1192+b*.9505;return{x:x*100,y:y*100,z:z*100}};Convert.xyzToRGB=function(x,y,z){var b,g,r;x/=100;y/=100;z/=100;r=3.2406*x+-1.5372*y+-.4986*z;g=-.9689*x+1.8758*y+.0415*z;b=.0557*x+-.204*y+1.057*z;if(r>.0031308){r=1.055*Math.pow(r,.4166666667)-.055}else{r*=12.92}if(g>.0031308){g=1.055*Math.pow(g,.4166666667)-.055}else{g*=12.92}if(b>.0031308){b=1.055*Math.pow(b,.4166666667)-.055}else{b*=12.92}return{r:r*255,g:g*255,b:b*255}};Convert.xyzToLab=function(x,y,z){var a,b,l,whiteX,whiteY,whiteZ;if(typeof x==="object"){y=x.y;z=x.z;x=x.x}whiteX=95.047;whiteY=100;whiteZ=108.883;x/=whiteX;y/=whiteY;z/=whiteZ;if(x>.008856451679){x=Math.pow(x,.3333333333)}else{x=7.787037037*x+.1379310345}if(y>.008856451679){y=Math.pow(y,.3333333333)}else{y=7.787037037*y+.1379310345}if(z>.008856451679){z=Math.pow(z,.3333333333)}else{z=7.787037037*z+.1379310345}l=116*y-16;a=500*(x-y);b=200*(y-z);return{l:l,a:a,b:b}};Convert.labToXYZ=function(l,a,b){var x,y,z;if(typeof l==="object"){a=l.a;b=l.b;l=l.l}y=(l+16)/116;x=y+a/500;z=y-b/200;if(x>.2068965517){x=x*x*x}else{x=.1284185493*(x-.1379310345)}if(y>.2068965517){y=y*y*y}else{y=.1284185493*(y-.1379310345)}if(z>.2068965517){z=z*z*z}else{z=.1284185493*(z-.1379310345)}return{x:x*95.047,y:y*100,z:z*108.883}};Convert.rgbToLab=function(r,g,b){var xyz;if(typeof r==="object"){g=r.g;b=r.b;r=r.r}xyz=this.rgbToXYZ(r,g,b);return this.xyzToLab(xyz)};Convert.labToRGB=function(l,a,b){};return Convert}();Convert=Caman.Convert;Caman.Event=function(){function Event(){}Event.events={};Event.types=["processStart","processComplete","renderStart","renderFinished","blockStarted","blockFinished"];Event.trigger=function(target,type,data){var event,_i,_len,_ref,_results;if(data==null){data=null}if(this.events[type]&&this.events[type].length){_ref=this.events[type];_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){event=_ref[_i];if(event.target===null||target.id===event.target.id){_results.push(event.fn.call(target,data))}else{_results.push(void 0)}}return _results}};Event.listen=function(target,type,fn){var _fn,_type;if(typeof target==="string"){_type=target;_fn=type;target=null;type=_type;fn=_fn}if(__indexOf.call(this.types,type)<0){return false}if(!this.events[type]){this.events[type]=[]}this.events[type].push({target:target,fn:fn});return true};return Event}();Event=Caman.Event;Caman.Filter=function(){function Filter(){}Filter.Type={Single:1,Kernel:2,LayerDequeue:3,LayerFinished:4,LoadOverlay:5,Plugin:6};Filter.register=function(name,filterFunc){return Caman.prototype[name]=filterFunc};return Filter}();Filter=Caman.Filter;Caman.IO=function(){function IO(){}IO.domainRegex=/(?:(?:http|https):\/\/)((?:\w+)\.(?:(?:\w|\.)+))/;IO.isRemote=function(img){if(img==null){return false}if(this.corsEnabled(img)){return false}return this.isURLRemote(img.src)};IO.corsEnabled=function(img){var _ref;return img.crossOrigin!=null&&((_ref=img.crossOrigin.toLowerCase())==="anonymous"||_ref==="use-credentials")};IO.isURLRemote=function(url){var matches;matches=url.match(this.domainRegex);if(matches){return matches[1]!==document.domain}else{return false}};IO.remoteCheck=function(src){if(this.isURLRemote(src)){if(!Caman.remoteProxy.length){Log.info("Attempting to load a remote image without a configured proxy. URL: "+src)}else{if(Caman.isURLRemote(Caman.remoteProxy)){Log.info("Cannot use a remote proxy for loading images.");return}return this.proxyUrl(src)}}};IO.proxyUrl=function(src){return""+Caman.remoteProxy+"?"+Caman.proxyParam+"="+encodeURIComponent(src)};IO.useProxy=function(lang){var langToExt;langToExt={ruby:"rb",python:"py",perl:"pl",javascript:"js"};lang=lang.toLowerCase();if(langToExt[lang]!=null){lang=langToExt[lang]}return"proxies/caman_proxy."+lang};return IO}();Caman.prototype.save=function(){if(typeof exports!=="undefined"&&exports!==null){return this.nodeSave.apply(this,arguments)}else{return this.browserSave.apply(this,arguments)}};Caman.prototype.browserSave=function(type){var image;if(type==null){type="png"}type=type.toLowerCase();image=this.toBase64(type).replace("image/"+type,"image/octet-stream");return document.location.href=image};Caman.prototype.nodeSave=function(file,overwrite){var e,stats;if(overwrite==null){overwrite=true}try{stats=fs.statSync(file);if(stats.isFile()&&!overwrite){return false}}catch(_error){e=_error;Log.debug("Creating output file "+file)}return fs.writeFile(file,this.canvas.toBuffer(),function(){return Log.debug("Finished writing to "+file)})};Caman.prototype.toImage=function(type){var img;img=document.createElement("img");img.src=this.toBase64(type);img.width=this.dimensions.width;img.height=this.dimensions.height;if(window.devicePixelRatio){img.width/=window.devicePixelRatio;img.height/=window.devicePixelRatio}return img};Caman.prototype.toBase64=function(type){if(type==null){type="png"}type=type.toLowerCase();return this.canvas.toDataURL("image/"+type)};IO=Caman.IO;Caman.Layer=function(){function Layer(c){this.c=c;this.filter=this.c;this.options={blendingMode:"normal",opacity:1};this.layerID=Util.uniqid.get();this.canvas=typeof exports!=="undefined"&&exports!==null?new Canvas:document.createElement("canvas");this.canvas.width=this.c.dimensions.width;this.canvas.height=this.c.dimensions.height;this.context=this.canvas.getContext("2d");this.context.createImageData(this.canvas.width,this.canvas.height);this.imageData=this.context.getImageData(0,0,this.canvas.width,this.canvas.height);this.pixelData=this.imageData.data}Layer.prototype.newLayer=function(cb){return this.c.newLayer.call(this.c,cb)};Layer.prototype.setBlendingMode=function(mode){this.options.blendingMode=mode;return this};Layer.prototype.opacity=function(opacity){this.options.opacity=opacity/100;return this};Layer.prototype.copyParent=function(){var i,parentData,_i,_ref;parentData=this.c.pixelData;for(i=_i=0,_ref=this.c.pixelData.length;_i<_ref;i=_i+=4){this.pixelData[i]=parentData[i];this.pixelData[i+1]=parentData[i+1];this.pixelData[i+2]=parentData[i+2];this.pixelData[i+3]=parentData[i+3]}return this};Layer.prototype.fillColor=function(){return this.c.fillColor.apply(this.c,arguments)};Layer.prototype.overlayImage=function(image){if(typeof image==="object"){image=image.src}else if(typeof image==="string"&&image[0]==="#"){image=$(image).src}if(!image){return this}this.c.renderer.renderQueue.push({type:Filter.Type.LoadOverlay,src:image,layer:this});return this};Layer.prototype.applyToParent=function(){var i,layerData,parentData,result,rgbaLayer,rgbaParent,_i,_ref,_results;parentData=this.c.pixelStack[this.c.pixelStack.length-1];layerData=this.c.pixelData;_results=[];for(i=_i=0,_ref=layerData.length;_i<_ref;i=_i+=4){rgbaParent={r:parentData[i],g:parentData[i+1],b:parentData[i+2],a:parentData[i+3]};rgbaLayer={r:layerData[i],g:layerData[i+1],b:layerData[i+2],a:layerData[i+3]};result=Blender.execute(this.options.blendingMode,rgbaLayer,rgbaParent);result.r=Util.clampRGB(result.r);result.g=Util.clampRGB(result.g);result.b=Util.clampRGB(result.b);if(result.a==null){result.a=rgbaLayer.a}parentData[i]=rgbaParent.r-(rgbaParent.r-result.r)*(this.options.opacity*(result.a/255));parentData[i+1]=rgbaParent.g-(rgbaParent.g-result.g)*(this.options.opacity*(result.a/255));_results.push(parentData[i+2]=rgbaParent.b-(rgbaParent.b-result.b)*(this.options.opacity*(result.a/255)))}return _results};return Layer}();Layer=Caman.Layer;Caman.Logger=function(){function Logger(){var name,_i,_len,_ref;_ref=["log","info","warn","error"];for(_i=0,_len=_ref.length;_i<_len;_i++){name=_ref[_i];this[name]=function(name){return function(){var args,e;args=1<=arguments.length?__slice.call(arguments,0):[];if(!Caman.DEBUG){return}try{return console[name].apply(console,args)}catch(_error){e=_error;return console[name](args)}}}(name)}this.debug=this.log}return Logger}();Log=new Caman.Logger;Caman.Pixel=function(){Pixel.coordinatesToLocation=function(x,y,width){return(y*width+x)*4};Pixel.locationToCoordinates=function(loc,width){var x,y;y=Math.floor(loc/(width*4));x=loc%(width*4)/4;return{x:x,y:y}};function Pixel(r,g,b,a,c){this.r=r!=null?r:0;this.g=g!=null?g:0;this.b=b!=null?b:0;this.a=a!=null?a:255;this.c=c!=null?c:null;this.loc=0}Pixel.prototype.setContext=function(c){return this.c=c};Pixel.prototype.locationXY=function(){var x,y;if(this.c==null){throw"Requires a CamanJS context"}y=this.c.dimensions.height-Math.floor(this.loc/(this.c.dimensions.width*4));x=this.loc%(this.c.dimensions.width*4)/4;return{x:x,y:y}};Pixel.prototype.pixelAtLocation=function(loc){if(this.c==null){throw"Requires a CamanJS context"}return new Pixel(this.c.pixelData[loc],this.c.pixelData[loc+1],this.c.pixelData[loc+2],this.c.pixelData[loc+3],this.c)};Pixel.prototype.getPixelRelative=function(horiz,vert){var newLoc;if(this.c==null){throw"Requires a CamanJS context"}newLoc=this.loc+this.c.dimensions.width*4*(vert*-1)+4*horiz;if(newLoc>this.c.pixelData.length||newLoc<0){return new Pixel(0,0,0,255,this.c)}return this.pixelAtLocation(newLoc)};Pixel.prototype.putPixelRelative=function(horiz,vert,rgba){var nowLoc;if(this.c==null){throw"Requires a CamanJS context"}nowLoc=this.loc+this.c.dimensions.width*4*(vert*-1)+4*horiz;if(newLoc>this.c.pixelData.length||newLoc<0){return}this.c.pixelData[newLoc]=rgba.r;this.c.pixelData[newLoc+1]=rgba.g;this.c.pixelData[newLoc+2]=rgba.b;this.c.pixelData[newLoc+3]=rgba.a;return true};Pixel.prototype.getPixel=function(x,y){var loc;if(this.c==null){throw"Requires a CamanJS context"}loc=this.coordinatesToLocation(x,y,this.width);return this.pixelAtLocation(loc)};Pixel.prototype.putPixel=function(x,y,rgba){var loc;if(this.c==null){throw"Requires a CamanJS context"}loc=this.coordinatesToLocation(x,y,this.width);this.c.pixelData[loc]=rgba.r;this.c.pixelData[loc+1]=rgba.g;this.c.pixelData[loc+2]=rgba.b;return this.c.pixelData[loc+3]=rgba.a};Pixel.prototype.toString=function(){return this.toKey()};Pixel.prototype.toHex=function(includeAlpha){var hex;if(includeAlpha==null){includeAlpha=false}hex="#"+this.r.toString(16)+this.g.toString(16)+this.b.toString(16);if(includeAlpha){return hex+this.a.toString(16)}else{return hex}};return Pixel}();Pixel=Caman.Pixel;Caman.Plugin=function(){function Plugin(){}Plugin.plugins={};Plugin.register=function(name,plugin){return this.plugins[name]=plugin};Plugin.execute=function(context,name,args){return this.plugins[name].apply(context,args)};return Plugin}();Plugin=Caman.Plugin;Caman.Renderer=function(){Renderer.Blocks=Caman.NodeJS?require("os").cpus().length:4;function Renderer(c){this.c=c;this.processNext=__bind(this.processNext,this);this.renderQueue=[];this.modPixelData=null}Renderer.prototype.add=function(job){if(job==null){return}return this.renderQueue.push(job)};Renderer.prototype.processNext=function(){var layer;if(this.renderQueue.length===0){Event.trigger(this,"renderFinished");if(this.finishedFn!=null){this.finishedFn.call(this.c)}return this}this.currentJob=this.renderQueue.shift();switch(this.currentJob.type){case Filter.Type.LayerDequeue:layer=this.c.canvasQueue.shift();this.c.executeLayer(layer);return this.processNext();case Filter.Type.LayerFinished:this.c.applyCurrentLayer();this.c.popContext();return this.processNext();case Filter.Type.LoadOverlay:return this.loadOverlay(this.currentJob.layer,this.currentJob.src);case Filter.Type.Plugin:return this.executePlugin();default:return this.executeFilter()}};Renderer.prototype.execute=function(callback){this.finishedFn=callback;this.modPixelData=Util.dataArray(this.c.pixelData.length);return this.processNext()};Renderer.prototype.eachBlock=function(fn){var blockN,blockPixelLength,bnum,end,f,i,lastBlockN,n,start,_i,_ref,_results,_this=this;this.blocksDone=0;n=this.c.pixelData.length;blockPixelLength=Math.floor(n/4/Renderer.Blocks);blockN=blockPixelLength*4;lastBlockN=blockN+n/4%Renderer.Blocks*4;_results=[];for(i=_i=0,_ref=Renderer.Blocks;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i){start=i*blockN;end=start+(i===Renderer.Blocks-1?lastBlockN:blockN);if(Caman.NodeJS){f=Fiber(function(){return fn.call(_this,i,start,end)});bnum=f.run();_results.push(this.blockFinished(bnum))}else{_results.push(setTimeout(function(i,start,end){return function(){return fn.call(_this,i,start,end)}}(i,start,end),0))}}return _results};Renderer.prototype.executeFilter=function(){Event.trigger(this.c,"processStart",this.currentJob);if(this.currentJob.type===Filter.Type.Single){return this.eachBlock(this.renderBlock)}else{return this.eachBlock(this.renderKernel)}};Renderer.prototype.executePlugin=function(){Log.debug("Executing plugin "+this.currentJob.plugin);Plugin.execute(this.c,this.currentJob.plugin,this.currentJob.args);Log.debug("Plugin "+this.currentJob.plugin+" finished!");return this.processNext()};Renderer.prototype.renderBlock=function(bnum,start,end){var i,pixel,_i;Log.debug("Block #"+bnum+" - Filter: "+this.currentJob.name+", Start: "+start+", End: "+end);Event.trigger(this.c,"blockStarted",{blockNum:bnum,totalBlocks:Renderer.Blocks,startPixel:start,endPixel:end});pixel=new Pixel;pixel.setContext(this.c);for(i=_i=start;_i<end;i=_i+=4){pixel.loc=i;pixel.r=this.c.pixelData[i];pixel.g=this.c.pixelData[i+1];pixel.b=this.c.pixelData[i+2];pixel.a=this.c.pixelData[i+3];this.currentJob.processFn(pixel);this.c.pixelData[i]=Util.clampRGB(pixel.r);this.c.pixelData[i+1]=Util.clampRGB(pixel.g);this.c.pixelData[i+2]=Util.clampRGB(pixel.b);this.c.pixelData[i+3]=Util.clampRGB(pixel.a)}if(Caman.NodeJS){return Fiber["yield"](bnum)}else{return this.blockFinished(bnum)}};Renderer.prototype.renderKernel=function(bnum,start,end){var adjust,adjustSize,bias,builder,builderIndex,divisor,i,j,k,kernel,n,name,p,pixel,res,_i,_j,_k;name=this.currentJob.name;bias=this.currentJob.bias;divisor=this.currentJob.divisor;n=this.c.pixelData.length;adjust=this.currentJob.adjust;adjustSize=Math.sqrt(adjust.length);kernel=[];Log.debug("Rendering kernel - Filter: "+this.currentJob.name);start=Math.max(start,this.c.dimensions.width*4*((adjustSize-1)/2));end=Math.min(end,n-this.c.dimensions.width*4*((adjustSize-1)/2));builder=(adjustSize-1)/2;pixel=new Pixel;pixel.setContext(this.c);for(i=_i=start;_i<end;i=_i+=4){pixel.loc=i;builderIndex=0;for(j=_j=-builder;-builder<=builder?_j<=builder:_j>=builder;j=-builder<=builder?++_j:--_j){for(k=_k=builder;builder<=-builder?_k<=-builder:_k>=-builder;k=builder<=-builder?++_k:--_k){p=pixel.getPixelRelative(j,k);kernel[builderIndex*3]=p.r;kernel[builderIndex*3+1]=p.g;kernel[builderIndex*3+2]=p.b;builderIndex++}}res=this.processKernel(adjust,kernel,divisor,bias);this.modPixelData[i]=Util.clampRGB(res.r);this.modPixelData[i+1]=Util.clampRGB(res.g);this.modPixelData[i+2]=Util.clampRGB(res.b);this.modPixelData[i+3]=this.c.pixelData[i+3]}if(Caman.NodeJS){return Fiber["yield"](bnum)}else{return this.blockFinished(bnum)}};Renderer.prototype.blockFinished=function(bnum){var i,_i,_ref;if(bnum>=0){Log.debug("Block #"+bnum+" finished! Filter: "+this.currentJob.name)}this.blocksDone++;Event.trigger(this.c,"blockFinished",{blockNum:bnum,blocksFinished:this.blocksDone,totalBlocks:Renderer.Blocks});if(this.blocksDone===Renderer.Blocks){if(this.currentJob.type===Filter.Type.Kernel){for(i=_i=0,_ref=this.c.pixelData.length;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i){this.c.pixelData[i]=this.modPixelData[i]}}if(bnum>=0){Log.debug("Filter "+this.currentJob.name+" finished!")}Event.trigger(this.c,"processComplete",this.currentJob);return this.processNext()}};Renderer.prototype.processKernel=function(adjust,kernel,divisor,bias){var i,val,_i,_ref;val={r:0,g:0,b:0};for(i=_i=0,_ref=adjust.length;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i){val.r+=adjust[i]*kernel[i*3];val.g+=adjust[i]*kernel[i*3+1];val.b+=adjust[i]*kernel[i*3+2]}val.r=val.r/divisor+bias;val.g=val.g/divisor+bias;val.b=val.b/divisor+bias;return val};Renderer.prototype.loadOverlay=function(layer,src){var img,proxyUrl,_this=this;img=document.createElement("img");img.onload=function(){layer.context.drawImage(img,0,0,_this.c.dimensions.width,_this.c.dimensions.height);layer.imageData=layer.context.getImageData(0,0,_this.c.dimensions.width,_this.c.dimensions.height);layer.pixelData=layer.imageData.data;_this.c.pixelData=layer.pixelData;return _this.processNext()};proxyUrl=IO.remoteCheck(src);return img.src=proxyUrl!=null?proxyUrl:src};return Renderer}();Renderer=Caman.Renderer;Caman.Store=function(){function Store(){}Store.items={};Store.has=function(search){return this.items[search]!=null};Store.get=function(search){return this.items[search]};Store.put=function(name,obj){return this.items[name]=obj};Store.execute=function(search,callback){var _this=this;setTimeout(function(){return callback.call(_this.get(search),_this.get(search))},0);return this.get(search)};Store.flush=function(name){if(name==null){name=false}if(name){return delete this.items[name]}else{return this.items={}}};return Store}();Store=Caman.Store;Blender.register("normal",function(rgbaLayer,rgbaParent){return{r:rgbaLayer.r,g:rgbaLayer.g,b:rgbaLayer.b}});Blender.register("multiply",function(rgbaLayer,rgbaParent){return{r:rgbaLayer.r*rgbaParent.r/255,g:rgbaLayer.g*rgbaParent.g/255,b:rgbaLayer.b*rgbaParent.b/255}});Blender.register("screen",function(rgbaLayer,rgbaParent){return{r:255-(255-rgbaLayer.r)*(255-rgbaParent.r)/255,g:255-(255-rgbaLayer.g)*(255-rgbaParent.g)/255,b:255-(255-rgbaLayer.b)*(255-rgbaParent.b)/255}});Blender.register("overlay",function(rgbaLayer,rgbaParent){var result;result={};result.r=rgbaParent.r>128?255-2*(255-rgbaLayer.r)*(255-rgbaParent.r)/255:rgbaParent.r*rgbaLayer.r*2/255;result.g=rgbaParent.g>128?255-2*(255-rgbaLayer.g)*(255-rgbaParent.g)/255:rgbaParent.g*rgbaLayer.g*2/255;result.b=rgbaParent.b>128?255-2*(255-rgbaLayer.b)*(255-rgbaParent.b)/255:rgbaParent.b*rgbaLayer.b*2/255;return result});Blender.register("difference",function(rgbaLayer,rgbaParent){return{r:rgbaLayer.r-rgbaParent.r,g:rgbaLayer.g-rgbaParent.g,b:rgbaLayer.b-rgbaParent.b}});Blender.register("addition",function(rgbaLayer,rgbaParent){return{r:rgbaParent.r+rgbaLayer.r,g:rgbaParent.g+rgbaLayer.g,b:rgbaParent.b+rgbaLayer.b}});Blender.register("exclusion",function(rgbaLayer,rgbaParent){return{r:128-2*(rgbaParent.r-128)*(rgbaLayer.r-128)/255,g:128-2*(rgbaParent.g-128)*(rgbaLayer.g-128)/255,b:128-2*(rgbaParent.b-128)*(rgbaLayer.b-128)/255}});Blender.register("softLight",function(rgbaLayer,rgbaParent){var result;result={};result.r=rgbaParent.r>128?255-(255-rgbaParent.r)*(255-(rgbaLayer.r-128))/255:rgbaParent.r*(rgbaLayer.r+128)/255;result.g=rgbaParent.g>128?255-(255-rgbaParent.g)*(255-(rgbaLayer.g-128))/255:rgbaParent.g*(rgbaLayer.g+128)/255;result.b=rgbaParent.b>128?255-(255-rgbaParent.b)*(255-(rgbaLayer.b-128))/255:rgbaParent.b*(rgbaLayer.b+128)/255;return result});Blender.register("lighten",function(rgbaLayer,rgbaParent){return{r:rgbaParent.r>rgbaLayer.r?rgbaParent.r:rgbaLayer.r,g:rgbaParent.g>rgbaLayer.g?rgbaParent.g:rgbaLayer.g,b:rgbaParent.b>rgbaLayer.b?rgbaParent.b:rgbaLayer.b}});Blender.register("darken",function(rgbaLayer,rgbaParent){return{r:rgbaParent.r>rgbaLayer.r?rgbaLayer.r:rgbaParent.r,g:rgbaParent.g>rgbaLayer.g?rgbaLayer.g:rgbaParent.g,b:rgbaParent.b>rgbaLayer.b?rgbaLayer.b:rgbaParent.b}});Filter.register("fillColor",function(){var color;if(arguments.length===1){color=Convert.hexToRGB(arguments[0])}else{color={r:arguments[0],g:arguments[1],b:arguments[2]}}return this.process("fillColor",function(rgba){rgba.r=color.r;rgba.g=color.g;rgba.b=color.b;rgba.a=255;return rgba})});Filter.register("brightness",function(adjust){adjust=Math.floor(255*(adjust/100));return this.process("brightness",function(rgba){rgba.r+=adjust;rgba.g+=adjust;rgba.b+=adjust;return rgba})});Filter.register("saturation",function(adjust){adjust*=-.01;return this.process("saturation",function(rgba){var max;max=Math.max(rgba.r,rgba.g,rgba.b);if(rgba.r!==max){rgba.r+=(max-rgba.r)*adjust}if(rgba.g!==max){rgba.g+=(max-rgba.g)*adjust}if(rgba.b!==max){rgba.b+=(max-rgba.b)*adjust}return rgba})});Filter.register("vibrance",function(adjust){adjust*=-1;return this.process("vibrance",function(rgba){var amt,avg,max;max=Math.max(rgba.r,rgba.g,rgba.b);avg=(rgba.r+rgba.g+rgba.b)/3;amt=Math.abs(max-avg)*2/255*adjust/100;if(rgba.r!==max){rgba.r+=(max-rgba.r)*amt}if(rgba.g!==max){rgba.g+=(max-rgba.g)*amt}if(rgba.b!==max){rgba.b+=(max-rgba.b)*amt}return rgba})});Filter.register("greyscale",function(adjust){return this.process("greyscale",function(rgba){var avg;avg=Calculate.luminance(rgba);rgba.r=avg;rgba.g=avg;rgba.b=avg;return rgba})});Filter.register("contrast",function(adjust){adjust=Math.pow((adjust+100)/100,2);return this.process("contrast",function(rgba){rgba.r/=255;rgba.r-=.5;rgba.r*=adjust;rgba.r+=.5;rgba.r*=255;rgba.g/=255;rgba.g-=.5;rgba.g*=adjust;rgba.g+=.5;rgba.g*=255;rgba.b/=255;rgba.b-=.5;rgba.b*=adjust;rgba.b+=.5;rgba.b*=255;return rgba})});Filter.register("hue",function(adjust){return this.process("hue",function(rgba){var b,g,h,hsv,r,_ref;hsv=Convert.rgbToHSV(rgba.r,rgba.g,rgba.b);h=hsv.h*100;h+=Math.abs(adjust);h=h%100;h/=100;hsv.h=h;_ref=Convert.hsvToRGB(hsv.h,hsv.s,hsv.v),r=_ref.r,g=_ref.g,b=_ref.b;rgba.r=r;rgba.g=g;rgba.b=b;return rgba})});Filter.register("colorize",function(){var level,rgb;if(arguments.length===2){rgb=Convert.hexToRGB(arguments[0]);level=arguments[1]}else if(arguments.length===4){rgb={r:arguments[0],g:arguments[1],b:arguments[2]};level=arguments[3]}return this.process("colorize",function(rgba){rgba.r-=(rgba.r-rgb.r)*(level/100);rgba.g-=(rgba.g-rgb.g)*(level/100);rgba.b-=(rgba.b-rgb.b)*(level/100);return rgba})});Filter.register("invert",function(){return this.process("invert",function(rgba){rgba.r=255-rgba.r;rgba.g=255-rgba.g;rgba.b=255-rgba.b;return rgba})});Filter.register("sepia",function(adjust){if(adjust==null){adjust=100}adjust/=100;return this.process("sepia",function(rgba){rgba.r=Math.min(255,rgba.r*(1-.607*adjust)+rgba.g*(.769*adjust)+rgba.b*(.189*adjust));rgba.g=Math.min(255,rgba.r*(.349*adjust)+rgba.g*(1-.314*adjust)+rgba.b*(.168*adjust));rgba.b=Math.min(255,rgba.r*(.272*adjust)+rgba.g*(.534*adjust)+rgba.b*(1-.869*adjust));return rgba})});Filter.register("gamma",function(adjust){return this.process("gamma",function(rgba){rgba.r=Math.pow(rgba.r/255,adjust)*255;rgba.g=Math.pow(rgba.g/255,adjust)*255;rgba.b=Math.pow(rgba.b/255,adjust)*255;return rgba})});Filter.register("noise",function(adjust){adjust=Math.abs(adjust)*2.55;return this.process("noise",function(rgba){var rand;rand=Calculate.randomRange(adjust*-1,adjust);rgba.r+=rand;rgba.g+=rand;rgba.b+=rand;return rgba})});Filter.register("clip",function(adjust){adjust=Math.abs(adjust)*2.55;return this.process("clip",function(rgba){if(rgba.r>255-adjust){rgba.r=255}else if(rgba.r<adjust){rgba.r=0}if(rgba.g>255-adjust){rgba.g=255}else if(rgba.g<adjust){rgba.g=0}if(rgba.b>255-adjust){rgba.b=255}else if(rgba.b<adjust){rgba.b=0}return rgba})});Filter.register("channels",function(options){var chan,value;if(typeof options!=="object"){return this}for(chan in options){if(!__hasProp.call(options,chan))continue;value=options[chan];if(value===0){delete options[chan];continue}options[chan]/=100}if(options.length===0){return this}return this.process("channels",function(rgba){if(options.red!=null){if(options.red>0){rgba.r+=(255-rgba.r)*options.red}else{rgba.r-=rgba.r*Math.abs(options.red)}}if(options.green!=null){if(options.green>0){rgba.g+=(255-rgba.g)*options.green}else{rgba.g-=rgba.g*Math.abs(options.green)}}if(options.blue!=null){if(options.blue>0){rgba.b+=(255-rgba.b)*options.blue}else{rgba.b-=rgba.b*Math.abs(options.blue)}}return rgba})});Filter.register("curves",function(){var bezier,chans,cps,ctrl1,ctrl2,end,i,start,_i,_j,_ref,_ref1;chans=arguments[0],cps=2<=arguments.length?__slice.call(arguments,1):[];if(typeof chans==="string"){chans=chans.split("")}if(chans[0]==="v"){chans=["r","g","b"]}if(cps.length<3||cps.length>4){throw"Invalid number of arguments to curves filter"}start=cps[0];ctrl1=cps[1];ctrl2=cps.length===4?cps[2]:cps[1];end=cps[cps.length-1];bezier=Calculate.bezier(start,ctrl1,ctrl2,end,0,255);if(start[0]>0){for(i=_i=0,_ref=start[0];0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i){bezier[i]=start[1]}}if(end[0]<255){for(i=_j=_ref1=end[0];_ref1<=255?_j<=255:_j>=255;i=_ref1<=255?++_j:--_j){bezier[i]=end[1]}}return this.process("curves",function(rgba){var _k,_ref2;for(i=_k=0,_ref2=chans.length;0<=_ref2?_k<_ref2:_k>_ref2;i=0<=_ref2?++_k:--_k){rgba[chans[i]]=bezier[rgba[chans[i]]]}return rgba})});Filter.register("exposure",function(adjust){var ctrl1,ctrl2,p;p=Math.abs(adjust)/100;ctrl1=[0,255*p];ctrl2=[255-255*p,255];if(adjust<0){ctrl1=ctrl1.reverse();ctrl2=ctrl2.reverse()}return this.curves("rgb",[0,0],ctrl1,ctrl2,[255,255])});Caman.Plugin.register("crop",function(width,height,x,y){var canvas,ctx;if(x==null){x=0}if(y==null){y=0}if(typeof exports!=="undefined"&&exports!==null){canvas=new Canvas(width,height)}else{canvas=document.createElement("canvas");Util.copyAttributes(this.canvas,canvas);canvas.width=width;canvas.height=height}ctx=canvas.getContext("2d");ctx.drawImage(this.canvas,x,y,width,height,0,0,width,height);this.cropCoordinates={x:x,y:y};this.cropped=true;return this.replaceCanvas(canvas)});Caman.Plugin.register("resize",function(newDims){var canvas,ctx;if(newDims==null){newDims=null}if(newDims===null||newDims.width==null&&newDims.height==null){Log.error("Invalid or missing dimensions given for resize");return}if(newDims.width==null){newDims.width=this.canvas.width*newDims.height/this.canvas.height}else if(newDims.height==null){newDims.height=this.canvas.height*newDims.width/this.canvas.width}if(typeof exports!=="undefined"&&exports!==null){canvas=new Canvas(newDims.width,newDims.height)}else{canvas=document.createElement("canvas");Util.copyAttributes(this.canvas,canvas);canvas.width=newDims.width;canvas.height=newDims.height}ctx=canvas.getContext("2d");ctx.drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,newDims.width,newDims.height);this.resized=true;return this.replaceCanvas(canvas)});Caman.Filter.register("crop",function(){return this.processPlugin("crop",Array.prototype.slice.call(arguments,0))});Caman.Filter.register("resize",function(){return this.processPlugin("resize",Array.prototype.slice.call(arguments,0))});Caman.Filter.register("boxBlur",function(){
return this.processKernel("Box Blur",[1,1,1,1,1,1,1,1,1])});Caman.Filter.register("heavyRadialBlur",function(){return this.processKernel("Heavy Radial Blur",[0,0,1,0,0,0,1,1,1,0,1,1,1,1,1,0,1,1,1,0,0,0,1,0,0])});Caman.Filter.register("gaussianBlur",function(){return this.processKernel("Gaussian Blur",[1,4,6,4,1,4,16,24,16,4,6,24,36,24,6,4,16,24,16,4,1,4,6,4,1])});Caman.Filter.register("motionBlur",function(degrees){var kernel;if(degrees===0||degrees===180){kernel=[0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0]}else if(degrees>0&&degrees<90||degrees>180&&degrees<270){kernel=[0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0]}else if(degrees===90||degrees===270){kernel=[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0]}else{kernel=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}return this.processKernel("Motion Blur",kernel)});Caman.Filter.register("sharpen",function(amt){if(amt==null){amt=100}amt/=100;return this.processKernel("Sharpen",[0,-amt,0,-amt,4*amt+1,-amt,0,-amt,0])});vignetteFilters={brightness:function(rgba,amt,opts){rgba.r=rgba.r-rgba.r*amt*opts.strength;rgba.g=rgba.g-rgba.g*amt*opts.strength;rgba.b=rgba.b-rgba.b*amt*opts.strength;return rgba},gamma:function(rgba,amt,opts){rgba.r=Math.pow(rgba.r/255,Math.max(10*amt*opts.strength,1))*255;rgba.g=Math.pow(rgba.g/255,Math.max(10*amt*opts.strength,1))*255;rgba.b=Math.pow(rgba.b/255,Math.max(10*amt*opts.strength,1))*255;return rgba},colorize:function(rgba,amt,opts){rgba.r-=(rgba.r-opts.color.r)*amt;rgba.g-=(rgba.g-opts.color.g)*amt;rgba.b-=(rgba.b-opts.color.b)*amt;return rgba}};Filter.register("vignette",function(size,strength){var bezier,center,end,start;if(strength==null){strength=60}if(typeof size==="string"&&size.substr(-1)==="%"){if(this.dimensions.height>this.dimensions.width){size=this.dimensions.width*(parseInt(size.substr(0,size.length-1),10)/100)}else{size=this.dimensions.height*(parseInt(size.substr(0,size.length-1),10)/100)}}strength/=100;center=[this.dimensions.width/2,this.dimensions.height/2];start=Math.sqrt(Math.pow(center[0],2)+Math.pow(center[1],2));end=start-size;bezier=Calculate.bezier([0,1],[30,30],[70,60],[100,80]);return this.process("vignette",function(rgba){var dist,div,loc;loc=rgba.locationXY();dist=Calculate.distance(loc.x,loc.y,center[0],center[1]);if(dist>end){div=Math.max(1,bezier[Math.round((dist-end)/size*100)]/10*strength);rgba.r=Math.pow(rgba.r/255,div)*255;rgba.g=Math.pow(rgba.g/255,div)*255;rgba.b=Math.pow(rgba.b/255,div)*255}return rgba})});Filter.register("rectangularVignette",function(opts){var defaults,dim,percent,size,_i,_len,_ref;defaults={strength:50,cornerRadius:0,method:"brightness",color:{r:0,g:0,b:0}};opts=Util.extend(defaults,opts);if(!opts.size){return this}else if(typeof opts.size==="string"){percent=parseInt(opts.size,10)/100;opts.size={width:this.dimensions.width*percent,height:this.dimensions.height*percent}}else if(typeof opts.size==="object"){_ref=["width","height"];for(_i=0,_len=_ref.length;_i<_len;_i++){dim=_ref[_i];if(typeof opts.size[dim]==="string"){opts.size[dim]=this.dimensions[dim]*(parseInt(opts.size[dim],10)/100)}}}else if(opts.size==="number"){size=opts.size;opts.size={width:size,height:size}}if(typeof opts.cornerRadius==="string"){opts.cornerRadius=opts.size.width/2*(parseInt(opts.cornerRadius,10)/100)}opts.strength/=100;opts.size.width=Math.floor(opts.size.width);opts.size.height=Math.floor(opts.size.height);opts.image={width:this.dimensions.width,height:this.dimensions.height};if(opts.method==="colorize"&&typeof opts.color==="string"){opts.color=Convert.hexToRGB(opts.color)}opts.coords={left:(this.dimensions.width-opts.size.width)/2,right:this.dimensions.width-opts.coords.left,bottom:(this.dimensions.height-opts.size.height)/2,top:this.dimensions.height-opts.coords.bottom};opts.corners=[{x:opts.coords.left+opts.cornerRadius,y:opts.coords.top-opts.cornerRadius},{x:opts.coords.right-opts.cornerRadius,y:opts.coords.top-opts.cornerRadius},{x:opts.coords.right-opts.cornerRadius,y:opts.coords.bottom+opts.cornerRadius},{x:opts.coords.left+opts.cornerRadius,y:opts.coords.bottom+opts.cornerRadius}];opts.maxDist=Calculate.distance(0,0,opts.corners[3].x,opts.corners[3].y)-opts.cornerRadius;return this.process("rectangularVignette",function(rgba){var amt,loc,radialDist;loc=rgba.locationXY();if(loc.x>opts.corners[0].x&&loc.x<opts.corners[1].x&&(loc.y>opts.coords.bottom&&loc.y<opts.coords.top)){return rgba}if(loc.x>opts.coords.left&&loc.x<opts.coords.right&&(loc.y>opts.corners[3].y&&loc.y<opts.corners[2].y)){return rgba}if(loc.x>opts.corners[0].x&&loc.x<opts.corners[1].x&&loc.y>opts.coords.top){amt=(loc.y-opts.coords.top)/opts.maxDist}else if(loc.y>opts.corners[2].y&&loc.y<opts.corners[1].y&&loc.x>opts.coords.right){amt=(loc.x-opts.coords.right)/opts.maxDist}else if(loc.x>opts.corners[0].x&&loc.x<opts.corners[1].x&&loc.y<opts.coords.bottom){amt=(opts.coords.bottom-loc.y)/opts.maxDist}else if(loc.y>opts.corners[2].y&&loc.y<opts.corners[1].y&&loc.x<opts.coords.left){amt=(opts.coords.left-loc.x)/opts.maxDist}else if(loc.x<=opts.corners[0].x&&loc.y>=opts.corners[0].y){radialDist=Caman.distance(loc.x,loc.y,opts.corners[0].x,opts.corners[0].y);amt=(radialDist-opts.cornerRadius)/opts.maxDist}else if(loc.x>=opts.corners[1].x&&loc.y>=opts.corners[1].y){radialDist=Caman.distance(loc.x,loc.y,opts.corners[1].x,opts.corners[1].y);amt=(radialDist-opts.cornerRadius)/opts.maxDist}else if(loc.x>=opts.corners[2].x&&loc.y<=opts.corners[2].y){radialDist=Caman.distance(loc.x,loc.y,opts.corners[2].x,opts.corners[2].y);amt=(radialDist-opts.cornerRadius)/opts.maxDist}else if(loc.x<=opts.corners[3].x&&loc.y<=opts.corners[3].y){radialDist=Caman.distance(loc.x,loc.y,opts.corners[3].x,opts.corners[3].y);amt=(radialDist-opts.cornerRadius)/opts.maxDist}if(amt<0){return rgba}return vignetteFilters[opts.method](rgba,amt,opts)})});(function(){var BlurStack,getLinearGradientMap,getRadialGradientMap,mul_table,shg_table;mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];getLinearGradientMap=function(width,height,centerX,centerY,angle,length,mirrored){var cnv,context,gradient,x1,x2,y1,y2;cnv=typeof exports!=="undefined"&&exports!==null?new Canvas:document.createElement("canvas");cnv.width=width;cnv.height=height;x1=centerX+Math.cos(angle)*length*.5;y1=centerY+Math.sin(angle)*length*.5;x2=centerX-Math.cos(angle)*length*.5;y2=centerY-Math.sin(angle)*length*.5;context=cnv.getContext("2d");gradient=context.createLinearGradient(x1,y1,x2,y2);if(!mirrored){gradient.addColorStop(0,"white");gradient.addColorStop(1,"black")}else{gradient.addColorStop(0,"white");gradient.addColorStop(.5,"black");gradient.addColorStop(1,"white")}context.fillStyle=gradient;context.fillRect(0,0,width,height);return context.getImageData(0,0,width,height)};getRadialGradientMap=function(width,height,centerX,centerY,radius1,radius2){var cnv,context,gradient;cnv=typeof exports!=="undefined"&&exports!==null?new Canvas:document.createElement("canvas");cnv.width=width;cnv.height=height;context=cnv.getContext("2d");gradient=context.createRadialGradient(centerX,centerY,radius1,centerX,centerY,radius2);gradient.addColorStop(1,"white");gradient.addColorStop(0,"black");context.fillStyle=gradient;context.fillRect(0,0,width,height);return context.getImageData(0,0,width,height)};BlurStack=function(){this.r=0;this.g=0;this.b=0;this.a=0;return this.next=null};Caman.Plugin.register("compoundBlur",function(radiusData,radius,increaseFactor,blurLevels){var b_in_sum,b_out_sum,b_sum,blend,currentIndex,div,g_in_sum,g_out_sum,g_sum,height,heightMinus1,i,iblend,idx,imagePixels,index,iradius,lookupValue,mul_sum,p,pb,pg,pixels,pr,r_in_sum,r_out_sum,r_sum,radiusPixels,radiusPlus1,rbs,shg_sum,stack,stackEnd,stackIn,stackOut,stackStart,steps,sumFactor,w4,wh,wh4,width,widthMinus1,x,y,yi,yp,yw,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r;width=this.dimensions.width;height=this.dimensions.height;imagePixels=this.pixelData;radiusPixels=radiusData.data;wh=width*height;wh4=wh<<2;pixels=[];for(i=_i=0;0<=wh4?_i<wh4:_i>wh4;i=0<=wh4?++_i:--_i){pixels[i]=imagePixels[i]}currentIndex=0;steps=blurLevels;blurLevels-=1;while(steps-- >=0){iradius=radius+.5|0;if(iradius===0){continue}if(iradius>256){iradius=256}div=iradius+iradius+1;w4=width<<2;widthMinus1=width-1;heightMinus1=height-1;radiusPlus1=iradius+1;sumFactor=radiusPlus1*(radiusPlus1+1)/2;stackStart=new BlurStack;stackEnd=void 0;stack=stackStart;for(i=_j=1;1<=div?_j<div:_j>div;i=1<=div?++_j:--_j){stack=stack.next=new BlurStack;if(i===radiusPlus1){stackEnd=stack}}stack.next=stackStart;stackIn=null;stackOut=null;yw=yi=0;mul_sum=mul_table[iradius];shg_sum=shg_table[iradius];for(y=_k=0;0<=height?_k<height:_k>height;y=0<=height?++_k:--_k){r_in_sum=g_in_sum=b_in_sum=r_sum=g_sum=b_sum=0;r_out_sum=radiusPlus1*(pr=pixels[yi]);g_out_sum=radiusPlus1*(pg=pixels[yi+1]);b_out_sum=radiusPlus1*(pb=pixels[yi+2]);r_sum+=sumFactor*pr;g_sum+=sumFactor*pg;b_sum+=sumFactor*pb;stack=stackStart;for(i=_l=0;0<=radiusPlus1?_l<radiusPlus1:_l>radiusPlus1;i=0<=radiusPlus1?++_l:--_l){stack.r=pr;stack.g=pg;stack.b=pb;stack=stack.next}for(i=_m=1;1<=radiusPlus1?_m<radiusPlus1:_m>radiusPlus1;i=1<=radiusPlus1?++_m:--_m){p=yi+((widthMinus1<i?widthMinus1:i)<<2);r_sum+=(stack.r=pr=pixels[p])*(rbs=radiusPlus1-i);g_sum+=(stack.g=pg=pixels[p+1])*rbs;b_sum+=(stack.b=pb=pixels[p+2])*rbs;r_in_sum+=pr;g_in_sum+=pg;b_in_sum+=pb;stack=stack.next}stackIn=stackStart;stackOut=stackEnd;for(x=_n=0;0<=width?_n<width:_n>width;x=0<=width?++_n:--_n){pixels[yi]=r_sum*mul_sum>>shg_sum;pixels[yi+1]=g_sum*mul_sum>>shg_sum;pixels[yi+2]=b_sum*mul_sum>>shg_sum;r_sum-=r_out_sum;g_sum-=g_out_sum;b_sum-=b_out_sum;r_out_sum-=stackIn.r;g_out_sum-=stackIn.g;b_out_sum-=stackIn.b;p=yw+((p=x+radiusPlus1)<widthMinus1?p:widthMinus1)<<2;r_in_sum+=stackIn.r=pixels[p];g_in_sum+=stackIn.g=pixels[p+1];b_in_sum+=stackIn.b=pixels[p+2];r_sum+=r_in_sum;g_sum+=g_in_sum;b_sum+=b_in_sum;stackIn=stackIn.next;r_out_sum+=pr=stackOut.r;g_out_sum+=pg=stackOut.g;b_out_sum+=pb=stackOut.b;r_in_sum-=pr;g_in_sum-=pg;b_in_sum-=pb;stackOut=stackOut.next;yi+=4}yw+=width}for(x=_o=0;0<=width?_o<width:_o>width;x=0<=width?++_o:--_o){g_in_sum=b_in_sum=r_in_sum=g_sum=b_sum=r_sum=0;yi=x<<2;r_out_sum=radiusPlus1*(pr=pixels[yi]);g_out_sum=radiusPlus1*(pg=pixels[yi+1]);b_out_sum=radiusPlus1*(pb=pixels[yi+2]);r_sum+=sumFactor*pr;g_sum+=sumFactor*pg;b_sum+=sumFactor*pb;stack=stackStart;for(i=_p=0;0<=radiusPlus1?_p<radiusPlus1:_p>radiusPlus1;i=0<=radiusPlus1?++_p:--_p){stack.r=pr;stack.g=pg;stack.b=pb;stack=stack.next}yp=width;for(i=_q=1;1<=radiusPlus1?_q<radiusPlus1:_q>radiusPlus1;i=1<=radiusPlus1?++_q:--_q){yi=yp+x<<2;r_sum+=(stack.r=pr=pixels[yi])*(rbs=radiusPlus1-i);g_sum+=(stack.g=pg=pixels[yi+1])*rbs;b_sum+=(stack.b=pb=pixels[yi+2])*rbs;r_in_sum+=pr;g_in_sum+=pg;b_in_sum+=pb;stack=stack.next;if(i<heightMinus1){yp+=width}}yi=x;stackIn=stackStart;stackOut=stackEnd;for(y=_r=0;0<=height?_r<height:_r>height;y=0<=height?++_r:--_r){p=yi<<2;pixels[p]=r_sum*mul_sum>>shg_sum;pixels[p+1]=g_sum*mul_sum>>shg_sum;pixels[p+2]=b_sum*mul_sum>>shg_sum;r_sum-=r_out_sum;g_sum-=g_out_sum;b_sum-=b_out_sum;r_out_sum-=stackIn.r;g_out_sum-=stackIn.g;b_out_sum-=stackIn.b;p=x+((p=y+radiusPlus1)<heightMinus1?p:heightMinus1)*width<<2;r_sum+=r_in_sum+=stackIn.r=pixels[p];g_sum+=g_in_sum+=stackIn.g=pixels[p+1];b_sum+=b_in_sum+=stackIn.b=pixels[p+2];stackIn=stackIn.next;r_out_sum+=pr=stackOut.r;g_out_sum+=pg=stackOut.g;b_out_sum+=pb=stackOut.b;r_in_sum-=pr;g_in_sum-=pg;b_in_sum-=pb;stackOut=stackOut.next;yi+=width}}radius*=increaseFactor;i=wh;while(--i>-1){idx=i<<2;lookupValue=(radiusPixels[idx+2]&255)/255*blurLevels;index=lookupValue|0;if(index===currentIndex){blend=256*(lookupValue-(lookupValue|0));iblend=256-blend;imagePixels[idx]=imagePixels[idx]*iblend+pixels[idx]*blend>>8;imagePixels[idx+1]=imagePixels[idx+1]*iblend+pixels[idx+1]*blend>>8;imagePixels[idx+2]=imagePixels[idx+2]*iblend+pixels[idx+2]*blend>>8}else if(index===currentIndex+1){imagePixels[idx]=pixels[idx];imagePixels[idx+1]=pixels[idx+1];imagePixels[idx+2]=pixels[idx+2]}}currentIndex++}return this});Caman.Filter.register("tiltShift",function(opts){var defaults,gradient;defaults={center:{x:this.dimensions.width/2,y:this.dimensions.height/2},angle:45,focusWidth:200,startRadius:3,radiusFactor:1.5,steps:3};opts=Util.extend(defaults,opts);opts.angle*=Math.PI/180;gradient=getLinearGradientMap(this.dimensions.width,this.dimensions.height,opts.center.x,opts.center.y,opts.angle,opts.focusWidth,true);return this.processPlugin("compoundBlur",[gradient,opts.startRadius,opts.radiusFactor,opts.steps])});return Caman.Filter.register("radialBlur",function(opts){var defaults,gradient,radius1,radius2;defaults={size:50,center:{x:this.dimensions.width/2,y:this.dimensions.height/2},startRadius:3,radiusFactor:1.5,steps:3,radius:null};opts=Util.extend(defaults,opts);if(!opts.radius){opts.radius=this.dimensions.width<this.dimensions.height?this.dimensions.height:this.dimensions.width}radius1=opts.radius/2-opts.size;radius2=opts.radius/2;gradient=getRadialGradientMap(this.dimensions.width,this.dimensions.height,opts.center.x,opts.center.y,radius1,radius2);return this.processPlugin("compoundBlur",[gradient,opts.startRadius,opts.radiusFactor,opts.steps])})})();Caman.Filter.register("edgeEnhance",function(){return this.processKernel("Edge Enhance",[0,0,0,-1,1,0,0,0,0])});Caman.Filter.register("edgeDetect",function(){return this.processKernel("Edge Detect",[-1,-1,-1,-1,8,-1,-1,-1,-1])});Caman.Filter.register("emboss",function(){return this.processKernel("Emboss",[-2,-1,0,-1,1,1,0,1,2])});Caman.Filter.register("posterize",function(adjust){var numOfAreas,numOfValues;numOfAreas=256/adjust;numOfValues=255/(adjust-1);return this.process("posterize",function(rgba){rgba.r=Math.floor(Math.floor(rgba.r/numOfAreas)*numOfValues);rgba.g=Math.floor(Math.floor(rgba.g/numOfAreas)*numOfValues);rgba.b=Math.floor(Math.floor(rgba.b/numOfAreas)*numOfValues);return rgba})});Caman.Filter.register("vintage",function(vignette){if(vignette==null){vignette=true}this.greyscale();this.contrast(5);this.noise(3);this.sepia(100);this.channels({red:8,blue:2,green:4});this.gamma(.87);if(vignette){return this.vignette("40%",30)}});Caman.Filter.register("lomo",function(vignette){if(vignette==null){vignette=true}this.brightness(15);this.exposure(15);this.curves("rgb",[0,0],[200,0],[155,255],[255,255]);this.saturation(-20);this.gamma(1.8);if(vignette){this.vignette("50%",60)}return this.brightness(5)});Caman.Filter.register("clarity",function(grey){if(grey==null){grey=false}this.vibrance(20);this.curves("rgb",[5,0],[130,150],[190,220],[250,255]);this.sharpen(15);this.vignette("45%",20);if(grey){this.greyscale();this.contrast(4)}return this});Caman.Filter.register("sinCity",function(){this.contrast(100);this.brightness(15);this.exposure(10);this.posterize(80);this.clip(30);return this.greyscale()});Caman.Filter.register("sunrise",function(){this.exposure(3.5);this.saturation(-5);this.vibrance(50);this.sepia(60);this.colorize("#e87b22",10);this.channels({red:8,blue:8});this.contrast(5);this.gamma(1.2);return this.vignette("55%",25)});Caman.Filter.register("crossProcess",function(){this.exposure(5);this.colorize("#e87b22",4);this.sepia(20);this.channels({blue:8,red:3});this.curves("b",[0,0],[100,150],[180,180],[255,255]);this.contrast(15);this.vibrance(75);return this.gamma(1.6)});Caman.Filter.register("orangePeel",function(){this.curves("rgb",[0,0],[100,50],[140,200],[255,255]);this.vibrance(-30);this.saturation(-30);this.colorize("#ff9000",30);this.contrast(-5);return this.gamma(1.4)});Caman.Filter.register("love",function(){this.brightness(5);this.exposure(8);this.contrast(4);this.colorize("#c42007",30);this.vibrance(50);return this.gamma(1.3)});Caman.Filter.register("grungy",function(){this.gamma(1.5);this.clip(25);this.saturation(-60);this.contrast(5);this.noise(5);return this.vignette("50%",30)});Caman.Filter.register("jarques",function(){this.saturation(-35);this.curves("b",[20,0],[90,120],[186,144],[255,230]);this.curves("r",[0,0],[144,90],[138,120],[255,255]);this.curves("g",[10,0],[115,105],[148,100],[255,248]);this.curves("rgb",[0,0],[120,100],[128,140],[255,255]);return this.sharpen(20)});Caman.Filter.register("pinhole",function(){this.greyscale();this.sepia(10);this.exposure(10);this.contrast(15);return this.vignette("60%",35)});Caman.Filter.register("oldBoot",function(){this.saturation(-20);this.vibrance(-50);this.gamma(1.1);this.sepia(30);this.channels({red:-10,blue:5});this.curves("rgb",[0,0],[80,50],[128,230],[255,255]);return this.vignette("60%",30)});Caman.Filter.register("glowingSun",function(vignette){if(vignette==null){vignette=true}this.brightness(10);this.newLayer(function(){this.setBlendingMode("multiply");this.opacity(80);this.copyParent();this.filter.gamma(.8);this.filter.contrast(50);return this.filter.exposure(10)});this.newLayer(function(){this.setBlendingMode("softLight");this.opacity(80);return this.fillColor("#f49600")});this.exposure(20);this.gamma(.8);if(vignette){return this.vignette("45%",20)}});Caman.Filter.register("hazyDays",function(){this.gamma(1.2);this.newLayer(function(){this.setBlendingMode("overlay");this.opacity(60);this.copyParent();this.filter.channels({red:5});return this.filter.stackBlur(15)});this.newLayer(function(){this.setBlendingMode("addition");this.opacity(40);return this.fillColor("#6899ba")});this.newLayer(function(){this.setBlendingMode("multiply");this.opacity(35);this.copyParent();this.filter.brightness(40);this.filter.vibrance(40);this.filter.exposure(30);this.filter.contrast(15);this.filter.curves("r",[0,40],[128,128],[128,128],[255,215]);this.filter.curves("g",[0,40],[128,128],[128,128],[255,215]);this.filter.curves("b",[0,40],[128,128],[128,128],[255,215]);return this.filter.stackBlur(5)});this.curves("r",[20,0],[128,158],[128,128],[235,255]);this.curves("g",[20,0],[128,128],[128,128],[235,255]);this.curves("b",[20,0],[128,108],[128,128],[235,255]);return this.vignette("45%",20)});Caman.Filter.register("herMajesty",function(){this.brightness(40);this.colorize("#ea1c5d",10);this.curves("b",[0,10],[128,180],[190,190],[255,255]);this.newLayer(function(){this.setBlendingMode("overlay");this.opacity(50);this.copyParent();this.filter.gamma(.7);return this.newLayer(function(){this.setBlendingMode("normal");this.opacity(60);return this.fillColor("#ea1c5d")})});this.newLayer(function(){this.setBlendingMode("multiply");this.opacity(60);this.copyParent();this.filter.saturation(50);this.filter.hue(90);return this.filter.contrast(10)});this.gamma(1.4);this.vibrance(-30);this.newLayer(function(){this.opacity(10);return this.fillColor("#e5f0ff")});return this});Caman.Filter.register("nostalgia",function(){this.saturation(20);this.gamma(1.4);this.greyscale();this.contrast(5);this.sepia(100);this.channels({red:8,blue:2,green:4});this.gamma(.8);this.contrast(5);this.exposure(10);this.newLayer(function(){this.setBlendingMode("overlay");this.copyParent();this.opacity(55);return this.filter.stackBlur(10)});return this.vignette("50%",30)});Caman.Filter.register("hemingway",function(){this.greyscale();this.contrast(10);this.gamma(.9);this.newLayer(function(){this.setBlendingMode("multiply");this.opacity(40);this.copyParent();this.filter.exposure(15);this.filter.contrast(15);return this.filter.channels({green:10,red:5})});this.sepia(30);this.curves("rgb",[0,10],[120,90],[180,200],[235,255]);this.channels({red:5,green:-2});return this.exposure(15)});Caman.Filter.register("concentrate",function(){this.sharpen(40);this.saturation(-50);this.channels({red:3});this.newLayer(function(){this.setBlendingMode("multiply");this.opacity(80);this.copyParent();this.filter.sharpen(5);this.filter.contrast(50);this.filter.exposure(10);return this.filter.channels({blue:5})});return this.brightness(10)});Caman.Plugin.register("rotate",function(degrees){var angle,canvas,ctx,height,to_radians,width,x,y;angle=degrees%360;if(angle===0){return this.dimensions={width:this.canvas.width,height:this.canvas.height}}to_radians=Math.PI/180;if(typeof exports!=="undefined"&&exports!==null){canvas=new Canvas}else{canvas=document.createElement("canvas");Util.copyAttributes(this.canvas,canvas)}if(angle===90||angle===-270||angle===270||angle===-90){width=this.canvas.height;height=this.canvas.width;x=width/2;y=height/2}else if(angle===180){width=this.canvas.width;height=this.canvas.height;x=width/2;y=height/2}else{width=Math.sqrt(Math.pow(this.originalWidth,2)+Math.pow(this.originalHeight,2));height=width;x=this.canvas.height/2;y=this.canvas.width/2}canvas.width=width;canvas.height=height;ctx=canvas.getContext("2d");ctx.save();ctx.translate(x,y);ctx.rotate(angle*to_radians);ctx.drawImage(this.canvas,-this.canvas.width/2,-this.canvas.height/2,this.canvas.width,this.canvas.height);ctx.restore();return this.replaceCanvas(canvas)});Caman.Filter.register("rotate",function(){return this.processPlugin("rotate",Array.prototype.slice.call(arguments,0))});(function(){var BlurStack,mul_table,shg_table;mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];BlurStack=function(){this.r=0;this.g=0;this.b=0;this.a=0;return this.next=null};Caman.Plugin.register("stackBlur",function(radius){var b_in_sum,b_out_sum,b_sum,div,g_in_sum,g_out_sum,g_sum,height,heightMinus1,i,mul_sum,p,pb,pg,pixels,pr,r_in_sum,r_out_sum,r_sum,radiusPlus1,rbs,shg_sum,stack,stackEnd,stackIn,stackOut,stackStart,sumFactor,w4,width,widthMinus1,x,y,yi,yp,yw,_i,_j,_k,_l,_m,_n,_o,_p,_q;if(isNaN(radius)||radius<1){return}radius|=0;pixels=this.pixelData;width=this.dimensions.width;height=this.dimensions.height;div=radius+radius+1;w4=width<<2;widthMinus1=width-1;heightMinus1=height-1;radiusPlus1=radius+1;sumFactor=radiusPlus1*(radiusPlus1+1)/2;stackStart=new BlurStack;stack=stackStart;for(i=_i=1;1<=div?_i<div:_i>div;i=1<=div?++_i:--_i){stack=stack.next=new BlurStack;if(i===radiusPlus1){stackEnd=stack}}stack.next=stackStart;stackIn=null;stackOut=null;yw=yi=0;mul_sum=mul_table[radius];shg_sum=shg_table[radius];for(y=_j=0;0<=height?_j<height:_j>height;y=0<=height?++_j:--_j){r_in_sum=g_in_sum=b_in_sum=r_sum=g_sum=b_sum=0;r_out_sum=radiusPlus1*(pr=pixels[yi]);g_out_sum=radiusPlus1*(pg=pixels[yi+1]);b_out_sum=radiusPlus1*(pb=pixels[yi+2]);r_sum+=sumFactor*pr;g_sum+=sumFactor*pg;b_sum+=sumFactor*pb;stack=stackStart;for(i=_k=0;0<=radiusPlus1?_k<radiusPlus1:_k>radiusPlus1;i=0<=radiusPlus1?++_k:--_k){stack.r=pr;stack.g=pg;stack.b=pb;stack=stack.next}for(i=_l=1;1<=radiusPlus1?_l<radiusPlus1:_l>radiusPlus1;i=1<=radiusPlus1?++_l:--_l){p=yi+((widthMinus1<i?widthMinus1:i)<<2);r_sum+=(stack.r=pr=pixels[p])*(rbs=radiusPlus1-i);g_sum+=(stack.g=pg=pixels[p+1])*rbs;b_sum+=(stack.b=pb=pixels[p+2])*rbs;r_in_sum+=pr;g_in_sum+=pg;b_in_sum+=pb;stack=stack.next}stackIn=stackStart;stackOut=stackEnd;for(x=_m=0;0<=width?_m<width:_m>width;x=0<=width?++_m:--_m){pixels[yi]=r_sum*mul_sum>>shg_sum;pixels[yi+1]=g_sum*mul_sum>>shg_sum;pixels[yi+2]=b_sum*mul_sum>>shg_sum;r_sum-=r_out_sum;g_sum-=g_out_sum;b_sum-=b_out_sum;r_out_sum-=stackIn.r;g_out_sum-=stackIn.g;b_out_sum-=stackIn.b;p=yw+((p=x+radius+1)<widthMinus1?p:widthMinus1)<<2;r_in_sum+=stackIn.r=pixels[p];g_in_sum+=stackIn.g=pixels[p+1];b_in_sum+=stackIn.b=pixels[p+2];r_sum+=r_in_sum;g_sum+=g_in_sum;b_sum+=b_in_sum;stackIn=stackIn.next;r_out_sum+=pr=stackOut.r;g_out_sum+=pg=stackOut.g;b_out_sum+=pb=stackOut.b;r_in_sum-=pr;g_in_sum-=pg;b_in_sum-=pb;stackOut=stackOut.next;yi+=4}yw+=width}for(x=_n=0;0<=width?_n<width:_n>width;x=0<=width?++_n:--_n){g_in_sum=b_in_sum=r_in_sum=g_sum=b_sum=r_sum=0;yi=x<<2;r_out_sum=radiusPlus1*(pr=pixels[yi]);g_out_sum=radiusPlus1*(pg=pixels[yi+1]);b_out_sum=radiusPlus1*(pb=pixels[yi+2]);r_sum+=sumFactor*pr;g_sum+=sumFactor*pg;b_sum+=sumFactor*pb;stack=stackStart;for(i=_o=0;0<=radiusPlus1?_o<radiusPlus1:_o>radiusPlus1;i=0<=radiusPlus1?++_o:--_o){stack.r=pr;stack.g=pg;stack.b=pb;stack=stack.next}yp=width;for(i=_p=1;1<=radius?_p<=radius:_p>=radius;i=1<=radius?++_p:--_p){yi=yp+x<<2;r_sum+=(stack.r=pr=pixels[yi])*(rbs=radiusPlus1-i);g_sum+=(stack.g=pg=pixels[yi+1])*rbs;b_sum+=(stack.b=pb=pixels[yi+2])*rbs;r_in_sum+=pr;g_in_sum+=pg;b_in_sum+=pb;stack=stack.next;if(i<heightMinus1){yp+=width}}yi=x;stackIn=stackStart;stackOut=stackEnd;for(y=_q=0;0<=height?_q<height:_q>height;y=0<=height?++_q:--_q){p=yi<<2;pixels[p]=r_sum*mul_sum>>shg_sum;pixels[p+1]=g_sum*mul_sum>>shg_sum;pixels[p+2]=b_sum*mul_sum>>shg_sum;r_sum-=r_out_sum;g_sum-=g_out_sum;b_sum-=b_out_sum;r_out_sum-=stackIn.r;g_out_sum-=stackIn.g;b_out_sum-=stackIn.b;p=x+((p=y+radiusPlus1)<heightMinus1?p:heightMinus1)*width<<2;r_sum+=r_in_sum+=stackIn.r=pixels[p];g_sum+=g_in_sum+=stackIn.g=pixels[p+1];b_sum+=b_in_sum+=stackIn.b=pixels[p+2];stackIn=stackIn.next;r_out_sum+=pr=stackOut.r;g_out_sum+=pg=stackOut.g;b_out_sum+=pb=stackOut.b;r_in_sum-=pr;g_in_sum-=pg;b_in_sum-=pb;stackOut=stackOut.next;yi+=width}}return this});return Caman.Filter.register("stackBlur",function(radius){return this.processPlugin("stackBlur",[radius])})})();Caman.Filter.register("threshold",function(adjust){return this.process("threshold",function(rgba){var luminance;luminance=.2126*rgba.r+.7152*rgba.g+.0722*rgba.b;if(luminance<adjust){rgba.r=0;rgba.g=0;rgba.b=0}else{rgba.r=255;rgba.g=255;rgba.b=255}return rgba})})}).call(this);define("caman",function(global){return function(){var ret,fn;return ret||global.Caman}}(this));define("editor/Image",["require","exports","module","caman","fileSystemImpl","filesystem/impls/filer/FilerUtils","filesystem/impls/filer/FileSystemCache","filesystem/impls/filer/BracketsFiler","filesystem/impls/filer/lib/content","LiveDevelopment/LiveDevMultiBrowser"],function(require,exports,module){"use strict";var Caman=require("caman");var FilerFileSystem=require("fileSystemImpl");var FilerUtils=require("filesystem/impls/filer/FilerUtils");var FileSystemCache=require("filesystem/impls/filer/FileSystemCache");var Path=require("filesystem/impls/filer/BracketsFiler").Path;var mimeFromExt=require("filesystem/impls/filer/lib/content").mimeFromExt;var LiveDevMultiBrowser=require("LiveDevelopment/LiveDevMultiBrowser");function initializeFilterButtons(image,imagePath,extractColors){var imageMimeType=mimeFromExt(Path.extname(imagePath));var imageDataRegex=/base64,(.+)/;var $saveBtn=$(".btn-image-filter-save");var $resetBtn=$(".btn-image-filter-reset");var $imageWrapper=$(".image-view .image-wrapper");var processing=false;$(".image-view .image-filters-section").removeClass("hide");$resetBtn.click(function(){image.reset();updateColours(function(){$saveBtn.prop("disabled",true);$resetBtn.prop("disabled",true);$(".image-filters .active-filter").removeClass("active-filter")})});$saveBtn.click(function(){var imageBase64Data=image.canvas.toDataURL(imageMimeType);var data=FilerUtils.base64ToBuffer(imageDataRegex.exec(imageBase64Data)[1]);$(".image-filters .active-filter").removeClass("active-filter");FilerFileSystem.writeFile(imagePath,data,{encoding:null},function(err){if(err){console.error("[Bramble] Image with filters failed to save with: ",err);return}FileSystemCache.refresh(function(err){if(err){console.error("[Bramble] Failed to refresh filesystem cache when applying image filters with: ",err)}LiveDevMultiBrowser.reload();$saveBtn.prop("disabled",true);$resetBtn.prop("disabled",true)})})});function finishedProcessing(){updateColours(function(){processing=false;$imageWrapper.removeClass("processing");$saveBtn.prop("disabled",false);$resetBtn.prop("disabled",false)})}function updateColours(callback){function finished(err){if(err){console.log("[Bramble] Unable to extract colour info for image",err)}img=null;callback()}var img=new Image;img.onload=function(){extractColors(img);finished()};img.onerror=function(e){finished(e)};img.src=image.canvas.toDataURL(imageMimeType)}function applyFilterFn(fnName,args){if(processing){return}$imageWrapper.addClass("processing");processing=true;image.reset();image[fnName].apply(image,args);image.render(function(){finishedProcessing()});$saveBtn.prop("disabled",true);$resetBtn.prop("disabled",true)}$(".btn-pinhole").click(function(){applyFilterFn("pinhole")});$(".btn-contrast").click(function(){applyFilterFn("contrast",[10])});$(".btn-sepia").click(function(){applyFilterFn("sepia",[20])});$(".btn-vintage").click(function(){applyFilterFn("vintage")});$(".btn-emboss").click(function(){applyFilterFn("emboss")});$(".btn-sunrise").click(function(){applyFilterFn("sunrise")});$(".btn-glowing-sun").click(function(){applyFilterFn("glowingSun")});$(".image-filters").on("click",".btn",function(){$(".image-filters .active-filter").removeClass("active-filter")
;$(this).addClass("active-filter")})}exports.load=function(imageElement,imagePath,extractColors){try{var image=Caman(imageElement);initializeFilterButtons(image,imagePath,extractColors)}catch(e){console.log("[Bramble] Unable to use image filters for image",e)}}});(function e$$0(x,y,p){function h(m,b){if(!y[m]){if(!x[m]){var a="function"==typeof require&&require;if(!b&&a)return a(m,!0);if(e)return e(m,!0);a=Error("Cannot find module '"+m+"'");throw a.code="MODULE_NOT_FOUND",a}a=y[m]={exports:{}};x[m][0].call(a.exports,function(a){var b=x[m][1][a];return h(b?b:a)},a,a.exports,e$$0,x,y,p)}return y[m].exports}for(var e="function"==typeof require&&require,w=0;w<p.length;w++)h(p[w]);return h})({1:[function(z,x,y){if(!p)var p={map:function(h,e){var p={};return e?h.map(function(h,b){p.index=b;return e.call(p,h)}):h.slice()},naturalOrder:function(h,e){return h<e?-1:h>e?1:0},sum:function(h,e){var p={};return h.reduce(e?function(h,b,a){p.index=a;return h+e.call(p,b)}:function(h,b){return h+b},0)},max:function(h,e){return Math.max.apply(null,e?p.map(h,e):h)}};z=function(){function h(f,c,a){return(f<<2*d)+(c<<d)+a}function e(f){function c(){a.sort(f);b=!0}var a=[],b=!1;return{push:function(c){a.push(c);b=!1},peek:function(f){b||c();void 0===f&&(f=a.length-1);return a[f]},pop:function(){b||c();return a.pop()},size:function(){return a.length},map:function(c){return a.map(c)},debug:function(){b||c();return a}}}function w(f,c,a,b,g,d,s){this.r1=f;this.r2=c;this.g1=a;this.g2=b;this.b1=g;this.b2=d;this.histo=s}function m(){this.vboxes=new e(function(f,c){return p.naturalOrder(f.vbox.count()*f.vbox.volume(),c.vbox.count()*c.vbox.volume())})}function b(f){var c=Array(1<<3*d),a,b,g,n;f.forEach(function(f){b=f[0]>>k;g=f[1]>>k;n=f[2]>>k;a=h(b,g,n);c[a]=(c[a]||0)+1});return c}function a(f,c){var a=1e6,b=0,g=1e6,d=0,n=1e6,r=0,q,l,h;f.forEach(function(c){q=c[0]>>k;l=c[1]>>k;h=c[2]>>k;q<a?a=q:q>b&&(b=q);l<g?g=l:l>d&&(d=l);h<n?n=h:h>r&&(r=h)});return new w(a,b,g,d,n,r,c)}function n(a,c){function b(a){var f=a+"1";a+="2";var g,d,n,A;d=0;for(l=c[f];l<=c[a];l++)if(r[l]>k/2){n=c.copy();A=c.copy();g=l-c[f];d=c[a]-l;for(g=g<=d?Math.min(c[a]-1,~~(l+d/2)):Math.max(c[f],~~(l-1-g/2));!r[g];)g++;for(d=q[g];!d&&r[g-1];)d=q[--g];n[a]=g;A[f]=n[a]+1;return[n,A]}}if(c.count()){var d=c.r2-c.r1+1,g=c.g2-c.g1+1,n=p.max([d,g,c.b2-c.b1+1]);if(1==c.count())return[c.copy()];var k=0,r=[],q=[],l,e,t,u,m;if(n==d)for(l=c.r1;l<=c.r2;l++){u=0;for(e=c.g1;e<=c.g2;e++)for(t=c.b1;t<=c.b2;t++)m=h(l,e,t),u+=a[m]||0;k+=u;r[l]=k}else if(n==g)for(l=c.g1;l<=c.g2;l++){u=0;for(e=c.r1;e<=c.r2;e++)for(t=c.b1;t<=c.b2;t++)m=h(e,l,t),u+=a[m]||0;k+=u;r[l]=k}else for(l=c.b1;l<=c.b2;l++){u=0;for(e=c.r1;e<=c.r2;e++)for(t=c.g1;t<=c.g2;t++)m=h(e,t,l),u+=a[m]||0;k+=u;r[l]=k}r.forEach(function(a,c){q[c]=k-a});return n==d?b("r"):n==g?b("g"):b("b")}}var d=5,k=8-d;w.prototype={volume:function(a){if(!this._volume||a)this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1);return this._volume},count:function(a){var c=this.histo;if(!this._count_set||a){a=0;var b,d,g;for(b=this.r1;b<=this.r2;b++)for(d=this.g1;d<=this.g2;d++)for(g=this.b1;g<=this.b2;g++)index=h(b,d,g),a+=c[index]||0;this._count=a;this._count_set=!0}return this._count},copy:function(){return new w(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(a){var c=this.histo;if(!this._avg||a){a=0;var b=1<<8-d,n=0,g=0,k=0,e,r,q,l;for(r=this.r1;r<=this.r2;r++)for(q=this.g1;q<=this.g2;q++)for(l=this.b1;l<=this.b2;l++)e=h(r,q,l),e=c[e]||0,a+=e,n+=e*(r+.5)*b,g+=e*(q+.5)*b,k+=e*(l+.5)*b;this._avg=a?[~~(n/a),~~(g/a),~~(k/a)]:[~~(b*(this.r1+this.r2+1)/2),~~(b*(this.g1+this.g2+1)/2),~~(b*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(a){var c=a[0]>>k;gval=a[1]>>k;bval=a[2]>>k;return c>=this.r1&&c<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}};m.prototype={push:function(a){this.vboxes.push({vbox:a,color:a.avg()})},palette:function(){return this.vboxes.map(function(a){return a.color})},size:function(){return this.vboxes.size()},map:function(a){for(var c=this.vboxes,b=0;b<c.size();b++)if(c.peek(b).vbox.contains(a))return c.peek(b).color;return this.nearest(a)},nearest:function(a){for(var c=this.vboxes,b,d,g,n=0;n<c.size();n++)if(d=Math.sqrt(Math.pow(a[0]-c.peek(n).color[0],2)+Math.pow(a[1]-c.peek(n).color[1],2)+Math.pow(a[2]-c.peek(n).color[2],2)),d<b||void 0===b)b=d,g=c.peek(n).color;return g},forcebw:function(){var a=this.vboxes;a.sort(function(a,b){return p.naturalOrder(p.sum(a.color),p.sum(b.color))});var b=a[0].color;5>b[0]&&5>b[1]&&5>b[2]&&(a[0].color=[0,0,0]);var b=a.length-1,d=a[b].color;251<d[0]&&251<d[1]&&251<d[2]&&(a[b].color=[255,255,255])}};return{quantize:function(d,c){function k(a,b){for(var c=1,d=0,g;1e3>d;)if(g=a.pop(),g.count()){var f=n(h,g);g=f[0];f=f[1];if(!g)break;a.push(g);f&&(a.push(f),c++);if(c>=b)break;if(1e3<d++)break}else a.push(g),d++}if(!d.length||2>c||256<c)return!1;var h=b(d),g=0;h.forEach(function(){g++});var v=a(d,h),s=new e(function(a,b){return p.naturalOrder(a.count(),b.count())});s.push(v);k(s,.75*c);for(v=new e(function(a,b){return p.naturalOrder(a.count()*a.volume(),b.count()*b.volume())});s.size();)v.push(s.pop());k(v,c-v.size());for(s=new m;v.size();)s.push(v.pop());return s}}}();x.exports=z.quantize},{}],2:[function(z,x,y){(function(){var p,h,e,w=function(b,a){return function(){return b.apply(a,arguments)}},m=[].slice;window.Swatch=h=function(){function b(a,b){this.rgb=a;this.population=b}b.prototype.hsl=void 0;b.prototype.rgb=void 0;b.prototype.population=1;b.yiq=0;b.prototype.getHsl=function(){return this.hsl?this.hsl:this.hsl=e.rgbToHsl(this.rgb[0],this.rgb[1],this.rgb[2])};b.prototype.getPopulation=function(){return this.population};b.prototype.getRgb=function(){return this.rgb};b.prototype.getHex=function(){return"#"+(16777216+(this.rgb[0]<<16)+(this.rgb[1]<<8)+this.rgb[2]).toString(16).slice(1,7)};b.prototype.getTitleTextColor=function(){this._ensureTextColors();return 200>this.yiq?"#fff":"#000"};b.prototype.getBodyTextColor=function(){this._ensureTextColors();return 150>this.yiq?"#fff":"#000"};b.prototype._ensureTextColors=function(){if(!this.yiq)return this.yiq=(299*this.rgb[0]+587*this.rgb[1]+114*this.rgb[2])/1e3};return b}();window.Vibrant=e=function(){function b(a,b,d){this.swatches=w(this.swatches,this);var k,f,c,e,m,g,v,s,r,q,l;"undefined"===typeof b&&(b=64);"undefined"===typeof d&&(d=5);a=new p(a);try{v=a.getImageData();q=v.data;r=a.getPixelCount();f=[];for(g=0;g<r;)s=4*g,l=q[s+0],m=q[s+1],c=q[s+2],k=q[s+3],125<=k&&(250<l&&250<m&&250<c||f.push([l,m,c])),g+=d;e=this.quantize(f,b);this._swatches=e.vboxes.map(function(a){return function(a){return new h(a.color,a.vbox.count())}}(this));this.maxPopulation=this.findMaxPopulation;this.generateVarationColors();this.generateEmptySwatches()}finally{a.removeCanvas()}}b.prototype.quantize=z("quantize");b.prototype._swatches=[];b.prototype.TARGET_DARK_LUMA=.26;b.prototype.MAX_DARK_LUMA=.45;b.prototype.MIN_LIGHT_LUMA=.55;b.prototype.TARGET_LIGHT_LUMA=.74;b.prototype.MIN_NORMAL_LUMA=.3;b.prototype.TARGET_NORMAL_LUMA=.5;b.prototype.MAX_NORMAL_LUMA=.7;b.prototype.TARGET_MUTED_SATURATION=.3;b.prototype.MAX_MUTED_SATURATION=.4;b.prototype.TARGET_VIBRANT_SATURATION=1;b.prototype.MIN_VIBRANT_SATURATION=.35;b.prototype.WEIGHT_SATURATION=3;b.prototype.WEIGHT_LUMA=6;b.prototype.WEIGHT_POPULATION=1;b.prototype.VibrantSwatch=void 0;b.prototype.MutedSwatch=void 0;b.prototype.DarkVibrantSwatch=void 0;b.prototype.DarkMutedSwatch=void 0;b.prototype.LightVibrantSwatch=void 0;b.prototype.LightMutedSwatch=void 0;b.prototype.HighestPopulation=0;b.prototype.generateVarationColors=function(){this.VibrantSwatch=this.findColorVariation(this.TARGET_NORMAL_LUMA,this.MIN_NORMAL_LUMA,this.MAX_NORMAL_LUMA,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1);this.LightVibrantSwatch=this.findColorVariation(this.TARGET_LIGHT_LUMA,this.MIN_LIGHT_LUMA,1,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1);this.DarkVibrantSwatch=this.findColorVariation(this.TARGET_DARK_LUMA,0,this.MAX_DARK_LUMA,this.TARGET_VIBRANT_SATURATION,this.MIN_VIBRANT_SATURATION,1);this.MutedSwatch=this.findColorVariation(this.TARGET_NORMAL_LUMA,this.MIN_NORMAL_LUMA,this.MAX_NORMAL_LUMA,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION);this.LightMutedSwatch=this.findColorVariation(this.TARGET_LIGHT_LUMA,this.MIN_LIGHT_LUMA,1,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION);return this.DarkMutedSwatch=this.findColorVariation(this.TARGET_DARK_LUMA,0,this.MAX_DARK_LUMA,this.TARGET_MUTED_SATURATION,0,this.MAX_MUTED_SATURATION)};b.prototype.generateEmptySwatches=function(){var a;void 0===this.VibrantSwatch&&void 0!==this.DarkVibrantSwatch&&(a=this.DarkVibrantSwatch.getHsl(),a[2]=this.TARGET_NORMAL_LUMA,this.VibrantSwatch=new h(b.hslToRgb(a[0],a[1],a[2]),0));if(void 0===this.DarkVibrantSwatch&&void 0!==this.VibrantSwatch)return a=this.VibrantSwatch.getHsl(),a[2]=this.TARGET_DARK_LUMA,this.DarkVibrantSwatch=new h(b.hslToRgb(a[0],a[1],a[2]),0)};b.prototype.findMaxPopulation=function(){var a,b,d,k,f;d=0;k=this._swatches;a=0;for(b=k.length;a<b;a++)f=k[a],d=Math.max(d,f.getPopulation());return d};b.prototype.findColorVariation=function(a,b,d,k,f,c){var e,h,g,m,p,r,q,l;m=void 0;p=0;r=this._swatches;e=0;for(h=r.length;e<h;e++)if(l=r[e],q=l.getHsl()[1],g=l.getHsl()[2],q>=f&&q<=c&&g>=b&&g<=d&&!this.isAlreadySelected(l)&&(g=this.createComparisonValue(q,k,g,a,l.getPopulation(),this.HighestPopulation),void 0===m||g>p))m=l,p=g;return m};b.prototype.createComparisonValue=function(a,b,d,k,f,c){return this.weightedMean(this.invertDiff(a,b),this.WEIGHT_SATURATION,this.invertDiff(d,k),this.WEIGHT_LUMA,f/c,this.WEIGHT_POPULATION)};b.prototype.invertDiff=function(a,b){return 1-Math.abs(a-b)};b.prototype.weightedMean=function(){var a,b,d,k,f,c;f=1<=arguments.length?m.call(arguments,0):[];for(a=d=b=0;a<f.length;)k=f[a],c=f[a+1],b+=k*c,d+=c,a+=2;return b/d};b.prototype.swatches=function(){return{Vibrant:this.VibrantSwatch,Muted:this.MutedSwatch,DarkVibrant:this.DarkVibrantSwatch,DarkMuted:this.DarkMutedSwatch,LightVibrant:this.LightVibrantSwatch,LightMuted:this.LightMuted}};b.prototype.isAlreadySelected=function(a){return this.VibrantSwatch===a||this.DarkVibrantSwatch===a||this.LightVibrantSwatch===a||this.MutedSwatch===a||this.DarkMutedSwatch===a||this.LightMutedSwatch===a};b.rgbToHsl=function(a,b,d){var k,f,c,e,h;a/=255;b/=255;d/=255;e=Math.max(a,b,d);h=Math.min(a,b,d);f=void 0;c=(e+h)/2;if(e===h)f=h=0;else{k=e-h;h=.5<c?k/(2-e-h):k/(e+h);switch(e){case a:f=(b-d)/k+(b<d?6:0);break;case b:f=(d-a)/k+2;break;case d:f=(a-b)/k+4}f/=6}return[f,h,c]};b.hslToRgb=function(a,b,d){var e,f,c;e=f=c=void 0;e=function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};0===b?c=f=e=d:(b=.5>d?d*(1+b):d+b-d*b,d=2*d-b,c=e(d,b,a+1/3),f=e(d,b,a),e=e(d,b,a-1/3));return[255*c,255*f,255*e]};return b}();window.CanvasImage=p=function(){function b(a){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");document.body.appendChild(this.canvas);this.width=this.canvas.width=a.width;this.height=this.canvas.height=a.height;this.context.drawImage(a,0,0,this.width,this.height)}b.prototype.clear=function(){return this.context.clearRect(0,0,this.width,this.height)};b.prototype.update=function(a){return this.context.putImageData(a,0,0)};b.prototype.getPixelCount=function(){return this.width*this.height};b.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};b.prototype.removeCanvas=function(){return this.canvas.parentNode.removeChild(this.canvas)};return b}()}).call(this)},{quantize:1}]},{},[2]);define("thirdparty/Vibrant",function(){});define("editor/ImageViewer",["require","exports","module","document/DocumentManager","text!htmlContent/image-view.html","project/ProjectManager","preferences/PreferencesManager","language/LanguageManager","view/MainViewFactory","strings","utils/StringUtils","filesystem/FileSystem","filesystem/impls/filer/UrlCache","file/FileUtils","thirdparty/lodash","thirdparty/mustache/mustache","editor/Image","bramble/StartupState","thirdparty/Vibrant"],function(require,exports,module){"use strict";var DocumentManager=require("document/DocumentManager"),ImageViewTemplate=require("text!htmlContent/image-view.html"),ProjectManager=require("project/ProjectManager"),PreferencesManager=require("preferences/PreferencesManager"),LanguageManager=require("language/LanguageManager"),MainViewFactory=require("view/MainViewFactory"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),FileSystem=require("filesystem/FileSystem"),UrlCache=require("filesystem/impls/filer/UrlCache"),FileUtils=require("file/FileUtils"),_=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache"),Image=require("editor/Image"),StartupState=require("bramble/StartupState");require("thirdparty/Vibrant");var _viewers={};var _slice=Function.prototype.call.bind(Array.prototype.slice);function _getImageUrl(file){return UrlCache.getUrl(file.fullPath)}function _extractColors(pane,img){var swatchElems=_slice(pane.find(".image-view-swatch"));var hexElems=_slice(pane.find(".image-view-hex"));var swatches;var i=0;$(".image-view-swatches .swatch-wrapper").addClass("hide");try{var vibrant=new window.Vibrant(img);swatches=vibrant.swatches()}catch(e){return}Object.keys(swatches).forEach(function(swatch){var swatchColor=swatchElems[i];var swatchHex=hexElems[i];var hex=swatches[swatch]&&swatches[swatch].getHex();if(!hex){return}swatchHex.parentNode.classList.remove("hide");swatchColor.style.backgroundColor=hex;swatchHex.textContent=hex;i++})}function isSVGImage(fullPath){var lang=LanguageManager.getLanguageForPath(fullPath);var svgAsXML=PreferencesManager.get("openSVGasXML");var id=lang.getId();return!svgAsXML&&id==="svg"}function isImage(fullPath){var lang=LanguageManager.getLanguageForPath(fullPath);var id=lang.getId();return id==="image"||isSVGImage(fullPath)}function _getLocalAssetUrl(file){var root=StartupState.project("root");return encodeURI(file.fullPath.replace(root,"").replace("/",""))}function ImageView(file,$container){this.file=file;this.$container=$container;this._naturalWidth=0;this._naturalHeight=0;this.relPath=ProjectManager.makeProjectRelativeIfPossible(this.file.fullPath);this.fileChangeHandler=_.bind(this._onFilenameChange,this);DocumentManager.on("fileNameChange",this.fileChangeHandler);this._buildPage(file,$container,false);_viewers[file.fullPath]=this}ImageView.prototype._buildPage=function(file,$container,fileRename){if(fileRename&&$container.find(".viewer-wrapper").length>0){$container.find(".viewer-wrapper").remove()}this.$el=$(Mustache.render(ImageViewTemplate,{imgUrl:_getImageUrl(this.file),localImgUrl:_getLocalAssetUrl(this.file),Strings:Strings}));$container.append(this.$el);this.$imagePath=this.$el.find(".image-path");this.$imagePreview=this.$el.find(".image-preview");this.$imageData=this.$el.find(".image-data");this.$image=this.$el.find(".image");this.$imagePreview.on("load",_.bind(this._onImageLoaded,this));this.$imagePreview.on("error",_.bind(console.error,console))};ImageView.prototype._onFilenameChange=function(e,oldPath,newPath){if(this.file.fullPath===newPath){this.relPath=ProjectManager.makeProjectRelativeIfPossible(newPath);this._buildPage(this.file,this.$container,true)}};ImageView.prototype._onImageLoaded=function(e){this._naturalWidth=e.currentTarget.naturalWidth;this._naturalHeight=e.currentTarget.naturalHeight;var extension=FileUtils.getFileExtension(this.file.fullPath);var stringFormat=Strings.IMAGE_DIMENSIONS_1;var dimensionString=StringUtils.format(stringFormat,this._naturalWidth,this._naturalHeight);if(extension==="ico"){dimensionString+=" ("+Strings.IMAGE_VIEWER_LARGEST_ICON+")"}var self=this;this.file.stat(function(err,stat){if(err){self.$imageData.html(dimensionString)}else{var sizeString="";if(stat.size){sizeString=" <span class='divider'>&bull;</span> "+StringUtils.prettyPrintBytes(stat.size,2)}var dimensionAndSize=dimensionString+sizeString;self.$imageData.html(dimensionAndSize).attr("title",dimensionAndSize.replace("&mdash;","-"))}});if(!isSVGImage(this.file.fullPath)){Image.load(e.currentTarget,this.file.fullPath,function(img){_extractColors(self.$el,img)})}_extractColors(this.$el,e.currentTarget)};ImageView.prototype.getFile=function(){return this.file};ImageView.prototype.updateLayout=function(){var $container=this.$el.parent();var pos=$container.position(),iWidth=$container.innerWidth(),iHeight=$container.innerHeight(),oWidth=$container.outerWidth(),oHeight=$container.outerHeight();this.$el.css({top:pos.top+(oHeight-iHeight)/2,left:pos.left+(oWidth-iWidth)/2,width:iWidth,height:iHeight})};ImageView.prototype.destroy=function(){delete _viewers[this.file.fullPath];DocumentManager.off("fileNameChange",this.fileChangeHandler);this.$el.remove()};ImageView.prototype.refresh=function(){this.$imagePreview.attr("src",_getImageUrl(this.file))};function _createImageView(file,pane){var view=pane.getViewForPath(file.fullPath);if(view){pane.showView(view)}else{view=new ImageView(file,pane.$content);pane.addView(view,true)}return(new $.Deferred).resolve().promise()}function _handleFileSystemChange(event,entry,added,removed){if(!entry||entry.isDirectory){return}var viewer=_viewers[entry.fullPath];if(viewer){viewer.refresh()}}FileSystem.on("change",_handleFileSystemChange);MainViewFactory.registerViewFactory({canOpenFile:function(fullPath){return isImage(fullPath)},openFile:function(file,pane){return _createImageView(file,pane)}});exports.ImageView=ImageView});define("text!htmlContent/video-view.html",[],function(){return'<div class="video-view viewer-wrapper">\n\n    <div class="video-data viewer-header">\n        <span class="file-type">{{ Strings.VIDEO_FILE }}</span>\n        <span class="video-data-content file-details"><span>\n    </div>\n\n    <div class="video-wrapper specimen-wrapper">\n        <video controls>\n          <source src="{{ videoUrl }}" type="{{ videoType }}">\n        </video>\n    </div>\n\n    <h3 class="options-title">{{ Strings.VIDEO_OPTIONS }}</h3>\n\n    <table class="tag-options">\n        <tr>\n            <td>\n                <input type="checkbox" id="setting-controls" checked setting="controls" />\n            </td>\n            <td>\n                <label class="attribute-name" for="setting-controls">controls</label>\n            </td>\n            <td>\n                {{ Strings.VIDEO_OPTION_SHOW_CONTROLS }}\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <input type="checkbox" id="setting-autoplay" setting="autoplay" />\n            </td>\n            <td>\n                <label class="attribute-name" for="setting-autoplay">autoplay</label>\n            </td>\n            <td>\n                {{ Strings.VIDEO_OPTION_AUTOPLAY }}\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <input type="checkbox" id="setting-loop" setting="loop" />\n            </td>\n            <td>\n                <label class="attribute-name" for="setting-loop">loop</label>\n            </td>\n            <td>\n                {{ Strings.VIDEO_OPTION_LOOPING }}\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <input type="checkbox" id="setting-muted" setting="muted" />\n            </td>\n            <td>\n                <label for="setting-muted" class="attribute-name">muted</label>\n            </td>\n            <td>\n                {{ Strings.VIDEO_OPTION_DISABLE_AUDIO }}\n            </td>\n        </tr>\n    </table>\n\n    <div class="code-wrapper code-html">\n        <h2 class="code-title">\n            HTML\n        </h2>\n        <pre></pre>\n    </div>\n</div>\n'});define("editor/VideoViewer",["require","exports","module","document/DocumentManager","text!htmlContent/video-view.html","project/ProjectManager","preferences/PreferencesManager","view/MainViewFactory","strings","filesystem/impls/filer/BracketsFiler","utils/StringUtils","filesystem/FileSystem","filesystem/impls/filer/UrlCache","file/FileUtils","filesystem/impls/filer/lib/content","thirdparty/lodash","thirdparty/mustache/mustache","bramble/StartupState"],function(require,exports,module){"use strict";var DocumentManager=require("document/DocumentManager"),VideoViewTemplate=require("text!htmlContent/video-view.html"),ProjectManager=require("project/ProjectManager"),PreferencesManager=require("preferences/PreferencesManager"),MainViewFactory=require("view/MainViewFactory"),Strings=require("strings"),Filer=require("filesystem/impls/filer/BracketsFiler"),Path=Filer.Path,StringUtils=require("utils/StringUtils"),FileSystem=require("filesystem/FileSystem"),UrlCache=require("filesystem/impls/filer/UrlCache"),FileUtils=require("file/FileUtils"),Content=require("filesystem/impls/filer/lib/content"),_=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache"),StartupState=require("bramble/StartupState");var _viewers={};function _getVideoUrl(file){return UrlCache.getUrl(file.fullPath)}function _getLocalVideoUrl(file){var root=StartupState.project("root");return encodeURI(file.fullPath.replace(root,"").replace("/",""))}function isVideo(fullPath){return Content.isVideo(Path.extname(fullPath))}function VideoView(file,$container){var that=this;this.file=file;this.container=$container;this.videoTagSettings={controls:true,autoplay:false,loop:false,muted:false};this.videoType=Content.mimeFromExt(Path.extname(this.file.fullPath));this.$el=$(Mustache.render(VideoViewTemplate,{videoUrl:_getVideoUrl(file),videoType:this.videoType,Strings:Strings}));$container.append(this.$el);this._naturalWidth=0;this._naturalHeight=0;this.relPath=ProjectManager.makeProjectRelativeIfPossible(this.file.fullPath);this.$videoEl=this.$el.find("video");this.$videoWrapperEl=this.$el.find(".video-wrapper");this.$videoMarkupEl=this.$el.find("pre");this.$videoData=this.$el.find(".video-data-content");this.$videoEl.one("canplay",_.bind(this._onVideoLoaded,this));this.$videoEl.on("error",_.bind(console.error,console));this.$el.find(".tag-options").on("change","input",function(){var attribute=$(this).attr("setting");var isEnabled=$(this).is(":checked");that.videoTagSettings[attribute]=isEnabled;that.updateVideoTagMarkup(true)});this.$videoEl.find("source").attr("src",_getVideoUrl(this.file));this.updateVideoTagMarkup();_viewers[file.fullPath]=this}VideoView.prototype.updateVideoTagMarkup=function(reload){var videoTagAttributesString="";for(var k in this.videoTagSettings){if(this.videoTagSettings[k]){videoTagAttributesString=videoTagAttributesString+" "+k;this.$videoEl.attr(k,"")}else{this.$videoEl.removeAttr(k)}}var videoTagMarkup="<video"+videoTagAttributesString+">\n"+'  <source src="'+_getLocalVideoUrl(this.file)+'" type="'+this.videoType+'">\n'+"</video>";this.$videoMarkupEl.text(videoTagMarkup);if(reload){this.$videoMarkupEl.one("animationend",function(){$(this).removeClass("pop")});this.$videoMarkupEl.addClass("pop");var videoWrapperHeight=this.$videoWrapperEl.height();this.$videoWrapperEl.css("min-height",videoWrapperHeight);this.$videoEl.one("canplay",_.bind(this._onVideoReloaded,this));this.$videoEl.find("source").attr("src",_getVideoUrl(this.file));this.$videoEl[0].load()}};VideoView.prototype._onFilenameChange=function(e,oldPath,newPath){if(this.file.fullPath===newPath){this.relPath=ProjectManager.makeProjectRelativeIfPossible(newPath)}this.updateVideoTagMarkup(true)};VideoView.prototype._onVideoReloaded=function(e){this.$videoWrapperEl.css("min-height","auto")};VideoView.prototype._onVideoLoaded=function(e){this._naturalWidth=e.target.videoWidth;this._naturalHeight=e.target.videoHeight;var extension=FileUtils.getFileExtension(this.file.fullPath);var stringFormat=Strings.IMAGE_DIMENSIONS_1;var dimensionString=StringUtils.format(stringFormat,this._naturalWidth,this._naturalHeight);var that=this;this.file.stat(function(err,stat){var sizeString="";if(stat.size){sizeString=" <span class='divider'>&bull;</span> "+StringUtils.prettyPrintBytes(stat.size,2);dimensionString=dimensionString+sizeString}that.$videoData.html(dimensionString)});this.fileChangeHandler=_.bind(this._onFilenameChange,this);DocumentManager.on("fileNameChange",this.fileChangeHandler)};VideoView.prototype.getFile=function(){return this.file};VideoView.prototype.updateLayout=function(){return};VideoView.prototype.destroy=function(){delete _viewers[this.file.fullPath];DocumentManager.off("fileNameChange",this.fileChangeHandler);this.$el.remove()};VideoView.prototype.refresh=function(){this.$videoEl.find("source").attr("src",_getVideoUrl(this.file))};function _createVideoView(file,pane){var view=pane.getViewForPath(file.fullPath);if(view){pane.showView(view)}else{view=new VideoView(file,pane.$content);pane.addView(view,true)}return(new $.Deferred).resolve(file).promise()}function _handleFileSystemChange(event,entry,added,removed){if(!entry||entry.isDirectory){return}var viewer=_viewers[entry.fullPath];if(viewer){viewer.refresh()}}FileSystem.on("change",_handleFileSystemChange);MainViewFactory.registerViewFactory({canOpenFile:function(fullPath){return isVideo(fullPath)},openFile:function(file,pane){return _createVideoView(file,pane)}});exports.VideoView=VideoView});define("text!htmlContent/audio-view.html",[],function(){return'<div class="audio-view viewer-wrapper">\n\n    <div class="video-data viewer-header">\n        <span class="file-type">{{ Strings.AUDIO_FILE }}</span>\n        <span class="video-data-content file-details"><span>\n    </div>\n\n    <div class="audio-wrapper specimen-wrapper">\n        <audio controls>\n          <source src="{{ fileUrl }}" type="{{ fileType }}">\n        </audio>\n    </div>\n\n    <h3 class="options-title">{{ Strings.AUDIO_OPTIONS }}</h3>\n\n    <table class="tag-options">\n        <tr>\n            <td>\n                <input type="checkbox" id="setting-controls" checked setting="controls" />\n            </td>\n            <td>\n                <label class="attribute-name" for="setting-controls">controls</label>\n            </td>\n            <td>\n                {{ Strings.AUDIO_OPTION_SHOW_CONTROLS }}\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <input type="checkbox" id="setting-autoplay" setting="autoplay" />\n            </td>\n            <td>\n                <label class="attribute-name" for="setting-autoplay">autoplay</label>\n            </td>\n            <td>\n                {{ Strings.AUDIO_OPTION_AUTOPLAY }}\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <input type="checkbox" id="setting-loop" setting="loop" />\n            </td>\n            <td>\n                <label class="attribute-name" for="setting-loop">loop</label>\n            </td>\n            <td>\n                {{ Strings.AUDIO_OPTION_LOOPING }}\n            </td>\n        </tr>\n        <tr>\n            <td>\n                <input type="checkbox" id="setting-muted" setting="muted" />\n            </td>\n            <td>\n                <label for="setting-muted" class="attribute-name">muted</label>\n            </td>\n            <td>\n                {{ Strings.AUDIO_OPTION_DISABLE_AUDIO }}\n            </td>\n        </tr>\n    </table>\n\n    <div class="code-wrapper code-html">\n        <h2 class="code-title">\n            HTML\n        </h2>\n        <pre></pre>\n    </div>\n</div>\n'});define("editor/AudioViewer",["require","exports","module","document/DocumentManager","text!htmlContent/audio-view.html","project/ProjectManager","preferences/PreferencesManager","view/MainViewFactory","strings","filesystem/impls/filer/BracketsFiler","utils/StringUtils","filesystem/FileSystem","filesystem/impls/filer/UrlCache","file/FileUtils","filesystem/impls/filer/lib/content","thirdparty/lodash","thirdparty/mustache/mustache","bramble/StartupState"],function(require,exports,module){"use strict";var DocumentManager=require("document/DocumentManager"),ViewTemplate=require("text!htmlContent/audio-view.html"),ProjectManager=require("project/ProjectManager"),PreferencesManager=require("preferences/PreferencesManager"),MainViewFactory=require("view/MainViewFactory"),Strings=require("strings"),Filer=require("filesystem/impls/filer/BracketsFiler"),Path=Filer.Path,StringUtils=require("utils/StringUtils"),FileSystem=require("filesystem/FileSystem"),UrlCache=require("filesystem/impls/filer/UrlCache"),FileUtils=require("file/FileUtils"),Content=require("filesystem/impls/filer/lib/content"),_=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache"),StartupState=require("bramble/StartupState");var _viewers={};function _getFileUrl(file){return UrlCache.getUrl(file.fullPath)}function _getLocalFileUrl(file){var root=StartupState.project("root");return encodeURI(file.fullPath.replace(root,"").replace("/",""))}function isAudio(fullPath){return Content.isAudio(Path.extname(fullPath))}function FileView(file,$container){var that=this;this.file=file;this.container=$container;this.tagSettings={controls:true,autoplay:false,loop:false,muted:false};this.fileType=Content.mimeFromExt(Path.extname(this.file.fullPath));this.$el=$(Mustache.render(ViewTemplate,{fileUrl:_getFileUrl(file),fileType:this.fileType,Strings:Strings}));$container.append(this.$el);this.relPath=ProjectManager.makeProjectRelativeIfPossible(this.file.fullPath);this.$audioEl=this.$el.find("audio");this.$audioWrapperEl=this.$el.find(".audio-wrapper");this.$audioMarkupEl=this.$el.find("pre");this.$audioData=this.$el.find(".video-data-content");this.$audioEl.one("canplay",_.bind(this._onFileLoaded,this));this.$audioEl.on("error",_.bind(console.error,console));this.$el.find(".tag-options").on("change","input",function(){var attribute=$(this).attr("setting");var isEnabled=$(this).is(":checked");that.tagSettings[attribute]=isEnabled;that.updateTagMarkup(true)});this.$audioEl.find("source").attr("src",_getFileUrl(this.file));this.updateTagMarkup();_viewers[file.fullPath]=this;this.fileChangeHandler=_.bind(this._onFilenameChange,this);DocumentManager.on("fileNameChange",this.fileChangeHandler)}FileView.prototype.updateTagMarkup=function(reload){var tagAttributesString="";for(var k in this.tagSettings){if(this.tagSettings[k]){tagAttributesString=tagAttributesString+" "+k;this.$audioEl.attr(k,"")}else{this.$audioEl.removeAttr(k)}}var tagMarkup="<audio"+tagAttributesString+">\n"+'  <source src="'+_getLocalFileUrl(this.file)+'" type="'+this.fileType+'">\n'+"</audio>";this.$audioMarkupEl.text(tagMarkup);if(reload){this.$audioMarkupEl.one("animationend",function(){$(this).removeClass("pop")});this.$audioMarkupEl.addClass("pop");this.$audioEl.find("source").attr("src",_getFileUrl(this.file));this.$audioEl[0].load()}};FileView.prototype._onFilenameChange=function(e,oldPath,newPath){if(this.file.fullPath===newPath){this.relPath=ProjectManager.makeProjectRelativeIfPossible(newPath)}this.updateTagMarkup(true)};FileView.prototype._onFileLoaded=function(e){var extension=FileUtils.getFileExtension(this.file.fullPath);var that=this;this.file.stat(function(err,stat){var sizeString="";if(stat.size){sizeString=StringUtils.prettyPrintBytes(stat.size,2)}that.$audioData.html(sizeString)})};FileView.prototype.getFile=function(){return this.file};FileView.prototype.updateLayout=function(){return};FileView.prototype.destroy=function(){delete _viewers[this.file.fullPath];DocumentManager.off("fileNameChange",this.fileChangeHandler);this.$el.remove()};FileView.prototype.refresh=function(){this.$audioEl.find("source").attr("src",_getFileUrl(this.file))};function _createFileView(file,pane){var view=pane.getViewForPath(file.fullPath);if(view){pane.showView(view)}else{view=new FileView(file,pane.$content);pane.addView(view,true)}return(new $.Deferred).resolve(file).promise()}function _handleFileSystemChange(event,entry,added,removed){if(!entry||entry.isDirectory){return}var viewer=_viewers[entry.fullPath];if(viewer){viewer.refresh()}}
FileSystem.on("change",_handleFileSystemChange);MainViewFactory.registerViewFactory({canOpenFile:function(fullPath){return isAudio(fullPath)},openFile:function(file,pane){return _createFileView(file,pane)}});exports.AudioView=FileView});define("text!htmlContent/edit-filter-dialog.html",[],function(){return'<div class="file-filter-dialog modal">\n    <div class="modal-header">\n        <h1 class="dialog-title">{{Strings.FILE_FILTER_DIALOG}}</h1>\n    </div>\n    <div class="modal-body">\n        <div class="dialog-message">\n            {{{instruction}}}\n            <textarea class="exclusions-editor"></textarea>\n            <input type="text" class="exclusions-name" placeholder="{{Strings.FILTER_NAME_PLACEHOLDER}}">\n            <div class="exclusions-filecount">{{Strings.FILTER_COUNTING_FILES}}</div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="dialog-button btn" data-button-id="cancel">{{Strings.CANCEL}}</button>\n        <button class="dialog-button btn primary" data-button-id="ok">{{Strings.OK}}</button>\n    </div>\n</div>\n'});define("text!htmlContent/filter-name.html",[],function(){return"<div class='filter-trash-icon'>&times;</div>\x3c!-- \n--\x3e<span class='recent-filter-name'>{{{filter-name}}}</span>\x3c!-- \n--\x3e<span class='recent-filter-patterns'>{{{filter-patterns}}}</span>\x3c!-- \n--\x3e<span class='filter-edit-icon'></span>"});define("search/FileFilters",["require","exports","module","thirdparty/lodash","thirdparty/mustache/mustache","widgets/Dialogs","widgets/DropdownButton","utils/StringUtils","strings","preferences/PreferencesManager","search/FindUtils","text!htmlContent/edit-filter-dialog.html","text!htmlContent/filter-name.html"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache"),Dialogs=require("widgets/Dialogs"),DropdownButton=require("widgets/DropdownButton").DropdownButton,StringUtils=require("utils/StringUtils"),Strings=require("strings"),PreferencesManager=require("preferences/PreferencesManager"),FindUtils=require("search/FindUtils"),EditFilterTemplate=require("text!htmlContent/edit-filter-dialog.html"),FilterNameTemplate=require("text!htmlContent/filter-name.html");var FIRST_FILTER_INDEX=3;var _context=null;var _picker=null;function _getCondensedForm(filter){if(!_.isArray(filter)){return""}if(filter.length>2){return filter.slice(0,2).join(", ")+" "+StringUtils.format(Strings.FILE_FILTER_CLIPPED_SUFFIX,filter.length-2)}return filter.join(", ")}function _doPopulate(){var dropdownItems=[Strings.NEW_FILE_FILTER,Strings.CLEAR_FILE_FILTER],filterSets=PreferencesManager.get("fileFilters")||[];if(filterSets.length){dropdownItems.push("---");filterSets=filterSets.filter(function(filter){return _getCondensedForm(filter.patterns)!==""});dropdownItems=dropdownItems.concat(filterSets)}_picker.items=dropdownItems}function _getFilterIndex(filterSets,filter){var index=-1;if(!filter||!filterSets.length){return index}return _.findIndex(filterSets,_.partial(_.isEqual,filter))}function getActiveFilter(){var filterSets=PreferencesManager.get("fileFilters")||[],activeFilterIndex=PreferencesManager.getViewState("activeFileFilter"),oldFilter=PreferencesManager.getViewState("search.exclusions")||[],activeFilter=null;if(activeFilterIndex===undefined&&oldFilter.length){activeFilter={name:"",patterns:oldFilter};activeFilterIndex=_getFilterIndex(filterSets,activeFilter);if(activeFilterIndex===-1){activeFilterIndex=filterSets.length;filterSets.push(activeFilter);PreferencesManager.set("fileFilters",filterSets)}PreferencesManager.setViewState("activeFileFilter",activeFilterIndex)}else if(activeFilterIndex>-1&&activeFilterIndex<filterSets.length){activeFilter=filterSets[activeFilterIndex]}return activeFilter}function _updatePicker(){var filter=getActiveFilter();if(filter&&filter.patterns.length){var label=filter.name||_getCondensedForm(filter.patterns);_picker.setButtonLabel(StringUtils.format(Strings.EXCLUDE_FILE_FILTER,label))}else{_picker.setButtonLabel(Strings.NO_FILE_FILTER)}}function setActiveFilter(filter,index){var filterSets=PreferencesManager.get("fileFilters")||[];if(filter){if(index===-1){index=filterSets.length;filterSets.push(filter)}else if(index>-1&&index<filterSets.length){if(!_.isEqual(filterSets[index],filter)){filterSets[index]=filter}}else{console.log("setActiveFilter is called with an invalid index: "+index);return}PreferencesManager.set("fileFilters",filterSets);PreferencesManager.setViewState("activeFileFilter",index)}else{PreferencesManager.setViewState("activeFileFilter",-1)}FindUtils.notifyFileFiltersChanged()}function compile(userFilter){var wrappedGlobs=userFilter.map(function(glob){if(glob.substr(0,2)!=="**"){glob="**"+glob}if(glob.substr(-2,2)!=="**"){var lastSeg=glob.lastIndexOf("/");if(glob.indexOf(".",lastSeg+1)===-1){glob+="**"}}return glob});var regexStrings=wrappedGlobs.map(function(glob){var reStr="",i;for(i=0;i<glob.length;i++){var ch=glob[i];if(ch==="*"){if(glob[i+1]==="*"){if(glob[i+2]==="/"&&glob[i-1]==="/"){reStr+="(.*/)?";i+=2}else{reStr+=".*";i++}}else{reStr+="[^/]*"}}else if(ch==="?"){reStr+="[^/]"}else{reStr+=StringUtils.regexEscape(ch)}}return"^"+reStr+"$"});return regexStrings.join("|")}function filterPath(compiledFilter,fullPath){if(!compiledFilter){return true}var re=new RegExp(compiledFilter);return!fullPath.match(re)}function filterFileList(compiledFilter,files){if(!compiledFilter){return files}var re=new RegExp(compiledFilter);return files.filter(function(f){return!re.test(f.fullPath)})}function getPathsMatchingFilter(compiledFilter,filePaths){if(!compiledFilter){return filePaths}var re=new RegExp(compiledFilter);return filePaths.filter(function(f){return f.match(re)})}function editFilter(filter,index){var lastFocus=window.document.activeElement;var templateVars={instruction:StringUtils.format(Strings.FILE_FILTER_INSTRUCTIONS,brackets.config.glob_help_url),Strings:Strings};var dialog=Dialogs.showModalDialogUsingTemplate(Mustache.render(EditFilterTemplate,templateVars)),$nameField=dialog.getElement().find(".exclusions-name"),$editField=dialog.getElement().find(".exclusions-editor");$nameField.val(filter.name);$editField.val(filter.patterns.join("\n")).focus();function getValue(){var newFilter=$editField.val().split("\n");return newFilter.filter(function(glob){return glob.trim().length})}dialog.done(function(buttonId){if(buttonId===Dialogs.DIALOG_BTN_OK){setActiveFilter({name:$nameField.val(),patterns:getValue()},index);_updatePicker();_doPopulate()}lastFocus.focus()});var $fileCount=dialog.getElement().find(".exclusions-filecount");function updateFileCount(){_context.promise.done(function(files){var filter=getValue();if(filter.length){var filtered=filterFileList(compile(filter),files);$fileCount.html(StringUtils.format(Strings.FILTER_FILE_COUNT,filtered.length,files.length,_context.label))}else{$fileCount.html(StringUtils.format(Strings.FILTER_FILE_COUNT_ALL,files.length,_context.label))}})}var $primaryBtn=dialog.getElement().find(".primary");function updatePrimaryButton(){var trimmedValue=$editField.val().trim();$primaryBtn.prop("disabled",!trimmedValue.length)}$editField.on("input",updatePrimaryButton);updatePrimaryButton();if(_context){$editField.on("input",_.debounce(updateFileCount,400));updateFileCount()}else{$fileCount.hide()}return dialog.getPromise()}function commitPicker(picker){var filter=getActiveFilter();return filter&&filter.patterns.length?compile(filter.patterns):""}function _handleDeleteFilter(e){var filterSets=PreferencesManager.get("fileFilters")||[],activeFilterIndex=PreferencesManager.getViewState("activeFileFilter"),filterIndex=$(e.target).parent().data("index")-FIRST_FILTER_INDEX;e.stopPropagation();filterSets.splice(filterIndex,1);PreferencesManager.set("fileFilters",filterSets);if(activeFilterIndex===filterIndex){setActiveFilter(null)}else if(activeFilterIndex>filterIndex){--activeFilterIndex;setActiveFilter(filterSets[activeFilterIndex],activeFilterIndex)}_updatePicker();_doPopulate();_picker.refresh()}function _handleEditFilter(e){var filterSets=PreferencesManager.get("fileFilters")||[],filterIndex=$(e.target).parent().data("index")-FIRST_FILTER_INDEX;e.stopPropagation();_picker.closeDropdown();editFilter(filterSets[filterIndex],filterIndex)}function _handleListRendered(event,$dropdown){var activeFilterIndex=PreferencesManager.getViewState("activeFileFilter"),checkedItemIndex=activeFilterIndex>-1?activeFilterIndex+FIRST_FILTER_INDEX:-1;_picker.setChecked(checkedItemIndex,true);$dropdown.find(".filter-trash-icon").on("click",_handleDeleteFilter);$dropdown.find(".filter-edit-icon").on("click",_handleEditFilter)}function createFilterPicker(context){function itemRenderer(item,index){if(index<FIRST_FILTER_INDEX){return"<span class='recent-filter-name'></span>"+_.escape(item)}var condensedPatterns=_getCondensedForm(item.patterns),templateVars={"filter-name":_.escape(item.name||condensedPatterns),"filter-patterns":item.name?" - "+_.escape(condensedPatterns):""};return Mustache.render(FilterNameTemplate,templateVars)}_context=context;_picker=new DropdownButton("",[],itemRenderer);_updatePicker();_doPopulate();_picker.$button.addClass("file-filter-picker no-focus");_picker.on("listRendered",_handleListRendered);_picker.on("select",function(event,item,itemIndex){if(itemIndex===0){_picker.closeDropdown();editFilter({name:"",patterns:[]},-1)}else if(itemIndex===1){_picker.setChecked(itemIndex,false);setActiveFilter(null);_updatePicker()}else if(itemIndex>=FIRST_FILTER_INDEX&&item){setActiveFilter(item,itemIndex-FIRST_FILTER_INDEX);_picker.setChecked(itemIndex,true);_updatePicker()}});return _picker.$button}function showDropdown(){if(_picker){_picker.showDropdown()}}function closeDropdown(){if(_picker){_picker.closeDropdown()}}exports.showDropdown=showDropdown;exports.closeDropdown=closeDropdown;exports.createFilterPicker=createFilterPicker;exports.commitPicker=commitPicker;exports.getActiveFilter=getActiveFilter;exports.setActiveFilter=setActiveFilter;exports.editFilter=editFilter;exports.compile=compile;exports.filterPath=filterPath;exports.filterFileList=filterFileList;exports.getPathsMatchingFilter=getPathsMatchingFilter});define("text!htmlContent/findreplace-bar.html",[],function(){return'<div class="find-input-group">\n    <div id="find-group">\x3c!--\n        --\x3e<div class="search-input-container"><input type="text" id="find-what" placeholder="{{queryPlaceholder}}" value="{{initialQuery}}" /><div class="error"></div><span id="find-counter"></span></div>\x3c!--\n        --\x3e<button id="find-case-sensitive" class="btn no-focus" tabindex="-1" title="{{Strings.BUTTON_CASESENSITIVE_HINT}}"><div class="button-icon"></div></button>\x3c!--\n        --\x3e<button id="find-regexp" class="btn no-focus" tabindex="-1" title="{{Strings.BUTTON_REGEXP_HINT}}"><div class="button-icon"></div></button>\x3c!--\n        {{^multifile}}\n        --\x3e<div class="navigator">\x3c!--\n            --\x3e<button id="find-prev" class="btn no-focus" tabindex="-1" title="{{Strings.BUTTON_PREV_HINT}}">{{Strings.BUTTON_PREV}}</button>\x3c!--\n            --\x3e<button id="find-next" class="btn no-focus" tabindex="-1" title="{{Strings.BUTTON_NEXT_HINT}}">{{Strings.BUTTON_NEXT}}</button>\x3c!--\n        --\x3e</div>\x3c!--\n        {{/multifile}}\n    --\x3e</div>\n\n    {{#replace}}\n    <div id="replace-group" {{#scope}}class="has-scope"{{/scope}}>\x3c!--\n        --\x3e<input type="text" id="replace-with" placeholder="{{Strings.REPLACE_PLACEHOLDER}}" value="{{initialReplaceText}}" />\x3c!--\n        {{^multifile}}\n        --\x3e<button id="replace-yes" class="btn no-focus" tabindex="-1">{{Strings.BUTTON_REPLACE}}</button>\x3c!--\n        {{/multifile}}\n        --\x3e<button id="replace-batch" class="btn no-focus {{#multifile}}solo{{/multifile}}" tabindex="-1">{{replaceBatchLabel}}</button>\x3c!--\n        {{^multifile}}\n        --\x3e<button id="replace-all" class="btn no-focus" tabindex="-1">{{replaceAllLabel}}</button>\x3c!--\n        {{/multifile}}\n        --\x3e</div>\n    {{/replace}}\n</div>\n\n{{#multifile}}\n<div class="scope-group">\n    <div class="no-results-message">{{Strings.FIND_NO_RESULTS}}</div>\n    <div class="message">\n        <span id="searchlabel">{{{scopeLabel}}}</span>\n    </div>\n    \x3c!-- For Find in Files, the filter picker will be added here programmatically. --\x3e\n</div>\n<div id="indexing-spinner" class="indexing-group forced-hidden">\n    <div class="spinner inline spin"></div>\n    <div class="indexing-message">{{Strings.FIND_IN_FILES_INDEXING}}</div>\n</div>\n{{/multifile}}\n'});define("search/FindBar",["require","exports","module","thirdparty/lodash","thirdparty/mustache/mustache","utils/EventDispatcher","command/Commands","command/KeyBindingManager","utils/KeyEvent","widgets/ModalBar","preferences/PreferencesManager","view/MainViewManager","strings","utils/ViewUtils","search/FindUtils","utils/HealthLogger","text!htmlContent/findreplace-bar.html"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache"),EventDispatcher=require("utils/EventDispatcher"),Commands=require("command/Commands"),KeyBindingManager=require("command/KeyBindingManager"),KeyEvent=require("utils/KeyEvent"),ModalBar=require("widgets/ModalBar").ModalBar,PreferencesManager=require("preferences/PreferencesManager"),MainViewManager=require("view/MainViewManager"),Strings=require("strings"),ViewUtils=require("utils/ViewUtils"),FindUtils=require("search/FindUtils"),HealthLogger=require("utils/HealthLogger");var _searchBarTemplate=require("text!htmlContent/findreplace-bar.html");var lastTypedTime=0,currentTime=0,intervalId=0,lastQueriedText="",lastTypedText="",lastKeyCode;function FindBar(options){var defaults={multifile:false,replace:false,queryPlaceholder:"",initialQuery:"",initialReplaceText:"",scopeLabel:""};this._options=_.extend(defaults,options);this._closed=false;this._enabled=true;this.lastQueriedText="";this.lastTypedText=""}EventDispatcher.makeEventDispatcher(FindBar.prototype);FindBar._addFindBar=function(findBar){FindBar._bars=FindBar._bars||[];FindBar._bars.push(findBar)};FindBar._removeFindBar=function(findBar){if(FindBar._bars){_.pull(FindBar._bars,findBar)}};FindBar._closeFindBars=function(){var bars=FindBar._bars;if(bars){bars.forEach(function(bar){bar.close(true,false)});bars=[]}};FindBar.prototype._options=null;FindBar.prototype._closed=false;FindBar.prototype._enabled=true;FindBar.prototype._modalBar=null;FindBar.prototype.$=function(selector){if(this._modalBar){return $(selector,this._modalBar.getRoot())}else{return $()}};FindBar.prototype._updateSearchBarFromPrefs=function(){this.$("#find-case-sensitive").toggleClass("active",!!PreferencesManager.getViewState("caseSensitive"));this.$("#find-regexp").toggleClass("active",!!PreferencesManager.getViewState("regexp"))};FindBar.prototype._updatePrefsFromSearchBar=function(){PreferencesManager.setViewState("caseSensitive",this.$("#find-case-sensitive").is(".active"));PreferencesManager.setViewState("regexp",this.$("#find-regexp").is(".active"))};FindBar.prototype._addShortcutToTooltip=function($elem,commandId){var replaceShortcut=KeyBindingManager.getKeyBindings(commandId)[0];if(replaceShortcut){var oldTitle=$elem.attr("title");oldTitle=oldTitle?oldTitle+" ":"";$elem.attr("title",oldTitle+"("+KeyBindingManager.formatKeyDescriptor(replaceShortcut.displayKey)+")")}};FindBar.prototype.open=function(){var self=this;FindBar._closeFindBars();if(this._options.multifile){HealthLogger.searchDone(HealthLogger.SEARCH_NEW)}var templateVars=_.clone(this._options);templateVars.Strings=Strings;templateVars.replaceBatchLabel=templateVars.multifile?Strings.BUTTON_REPLACE_ALL_IN_FILES:Strings.BUTTON_REPLACE_BATCH;templateVars.replaceAllLabel=Strings.BUTTON_REPLACE_ALL;this._modalBar=new ModalBar(Mustache.render(_searchBarTemplate,templateVars),true);this._modalBar.on("close",function(event){self.showError(null);self._modalBar=null;self._closed=true;window.clearInterval(intervalId);intervalId=0;lastTypedTime=0;FindBar._removeFindBar(self);MainViewManager.focusActivePane();self.trigger("close")});FindBar._addFindBar(this);var $root=this._modalBar.getRoot();$root.on("input","#find-what",function(){self.trigger("queryChange");lastTypedText=self.getQueryInfo().query}).on("click","#find-case-sensitive, #find-regexp",function(e){$(e.currentTarget).toggleClass("active");self._updatePrefsFromSearchBar();self.trigger("queryChange");if(self._options.multifile){self.trigger("doFind")}}).on("keydown","#find-what, #replace-with",function(e){lastTypedTime=(new Date).getTime();lastKeyCode=e.keyCode;var executeSearchIfNeeded=function(){if(FindUtils.isNodeSearchDisabled()||FindUtils.isInstantSearchDisabled()){return}if(self._closed){return}currentTime=(new Date).getTime();if(lastTypedTime&&currentTime-lastTypedTime>=100&&self.getQueryInfo().query!==lastQueriedText&&!FindUtils.isNodeSearchInProgress()){if(self._options.multifile){if($(e.target).is("#find-what")){if(!self._options.replace){HealthLogger.searchDone(HealthLogger.SEARCH_INSTANT);self.trigger("doFind");lastQueriedText=self.getQueryInfo().query}}}}};if(intervalId===0){intervalId=window.setInterval(executeSearchIfNeeded,50)}if(e.keyCode===KeyEvent.DOM_VK_RETURN){e.preventDefault();e.stopPropagation();lastQueriedText=self.getQueryInfo().query;if(self._options.multifile){if($(e.target).is("#find-what")){if(self._options.replace){self.focusReplace()}else{HealthLogger.searchDone(HealthLogger.SEARCH_ON_RETURN_KEY);self.trigger("doFind")}}else{HealthLogger.searchDone(HealthLogger.SEARCH_REPLACE_ALL);self.trigger("doReplaceBatch")}}else{self.trigger("doFind",e.shiftKey)}}});if(!this._options.multifile){this._addShortcutToTooltip($("#find-next"),Commands.CMD_FIND_NEXT);this._addShortcutToTooltip($("#find-prev"),Commands.CMD_FIND_PREVIOUS);$root.on("click","#find-next",function(e){self.trigger("doFind",false)}).on("click","#find-prev",function(e){self.trigger("doFind",true)})}if(this._options.replace){this._addShortcutToTooltip($("#replace-yes"),Commands.CMD_REPLACE);$root.on("click","#replace-yes",function(e){self.trigger("doReplace")}).on("click","#replace-batch",function(e){self.trigger("doReplaceBatch")}).on("click","#replace-all",function(e){self.trigger("doReplaceAll")}).on("keydown",function(e){if(e.keyCode===KeyEvent.DOM_VK_TAB&&!e.ctrlKey&&!e.metaKey&&!e.altKey){if(e.target.id==="replace-with"&&!e.shiftKey){self.$("#find-what").focus();e.preventDefault()}else if(e.target.id==="find-what"&&e.shiftKey){self.$("#replace-with").focus();e.preventDefault()}}})}if(this._options.multifile&&FindUtils.isIndexingInProgress()){this.showIndexingSpinner()}this._updateSearchBarFromPrefs();this.focusQuery()};FindBar.prototype.close=function(suppressAnimation){if(this._modalBar){this._modalBar.close(true,!suppressAnimation)}};FindBar.prototype.isClosed=function(){return this._closed};FindBar.prototype.getOptions=function(){return this._options};FindBar.prototype.getQueryInfo=function(){return{query:this.$("#find-what").val()||"",isCaseSensitive:this.$("#find-case-sensitive").is(".active"),isRegexp:this.$("#find-regexp").is(".active")}};FindBar.prototype.showError=function(error,isHTML){var $error=this.$(".error");if(error){if(isHTML){$error.html(error)}else{$error.text(error)}$error.show()}else{$error.hide()}};FindBar.prototype.showFindCount=function(count){this.$("#find-counter").text(count)};FindBar.prototype.showNoResults=function(showIndicator,showMessage){ViewUtils.toggleClass(this.$("#find-what"),"no-results",showIndicator);var $msg=this.$(".no-results-message");if(showMessage){$msg.show()}else{$msg.hide()}};FindBar.prototype.getReplaceText=function(){return this.$("#replace-with").val()||""};FindBar.prototype.enable=function(enable){this.$("#find-what, #replace-with, #find-prev, #find-next, #find-case-sensitive, #find-regexp").prop("disabled",!enable);this._enabled=enable};FindBar.prototype.focus=function(enable){this.$("#find-what").focus()};FindBar.prototype.isEnabled=function(){return this._enabled};FindBar.prototype.isReplaceEnabled=function(){return this.$("#replace-yes").is(":enabled")};FindBar.prototype.enableNavigation=function(enable){if(this.isEnabled()){this.$("#find-prev, #find-next").prop("disabled",!enable)}};FindBar.prototype.enableReplace=function(enable){if(this.isEnabled){this.$("#replace-yes, #replace-batch, #replace-all").prop("disabled",!enable)}};FindBar.prototype._focus=function(selector){this.$(selector).focus().get(0).select()};FindBar.prototype.focusQuery=function(){this._focus("#find-what")};FindBar.prototype.focusReplace=function(){this._focus("#replace-with")};FindBar.prototype.showIndexingSpinner=function(){this.$("#indexing-spinner").removeClass("forced-hidden")};FindBar.prototype.hideIndexingSpinner=function(){this.$("#indexing-spinner").addClass("forced-hidden")};FindBar.prototype.redoInstantSearch=function(){this.trigger("doFind")};FindBar.getInitialQuery=function(currentFindBar,editor){var query=lastTypedText,replaceText="";function getInitialQueryFromSelection(editor){var selectionText=editor.getSelectedText();if(selectionText){return selectionText.replace(/^\n*/,"").split("\n")[0]}return""}if(currentFindBar&&!currentFindBar.isClosed()){query=currentFindBar.getQueryInfo().query;replaceText=currentFindBar.getReplaceText()}else{var openedFindBar=FindBar._bars&&_.find(FindBar._bars,function(bar){return!bar.isClosed()});if(openedFindBar){query=openedFindBar.getQueryInfo().query;replaceText=openedFindBar.getReplaceText()}else if(editor){query=getInitialQueryFromSelection(editor)||lastTypedText}}return{query:query,replaceText:replaceText}};PreferencesManager.stateManager.definePreference("caseSensitive","boolean",false);PreferencesManager.stateManager.definePreference("regexp","boolean",false);exports.FindBar=FindBar});define("search/SearchModel",["require","exports","module","file/FileUtils","utils/EventDispatcher","search/FindUtils","view/MainViewManager"],function(require,exports,module){"use strict";var FileUtils=require("file/FileUtils"),EventDispatcher=require("utils/EventDispatcher"),FindUtils=require("search/FindUtils"),MainViewManager=require("view/MainViewManager");function SearchModel(){this.clear()}EventDispatcher.makeEventDispatcher(SearchModel.prototype);SearchModel.MAX_TOTAL_RESULTS=1e5;SearchModel.prototype.results=null;SearchModel.prototype.queryInfo=null;SearchModel.prototype.queryExpr=null;SearchModel.prototype.isReplace=false;SearchModel.prototype.replaceText=null;SearchModel.prototype.scope=null;SearchModel.prototype.filter=null;SearchModel.prototype.numMatches=0;SearchModel.prototype.foundMaximum=false;SearchModel.prototype.exceedsMaximum=false;SearchModel.prototype.clear=function(){var numMatchesBefore=this.numMatches;this.results={};this.queryInfo=null;this.queryExpr=null;this.isReplace=false;this.replaceText=null;this.scope=null;this.numMatches=0;this.foundMaximum=false;this.exceedsMaximum=false;if(numMatchesBefore!==0){this.fireChanged()}};SearchModel.prototype.setQueryInfo=function(queryInfo){var parsedQuery=FindUtils.parseQueryInfo(queryInfo);if(parsedQuery.valid){this.queryInfo=queryInfo;this.queryExpr=parsedQuery.queryExpr;return true}else{return false}};SearchModel.prototype.setResults=function(fullpath,resultInfo){this.removeResults(fullpath);if(this.foundMaximum||!resultInfo.matches.length){return}resultInfo.collapsed=!!resultInfo.collapsed;this.results[fullpath]=resultInfo;this.numMatches+=resultInfo.matches.length;if(this.numMatches>=SearchModel.MAX_TOTAL_RESULTS){this.foundMaximum=true;if(this.numMatches>SearchModel.MAX_TOTAL_RESULTS){this.results[fullpath].matches.pop();this.numMatches--;this.exceedsMaximum=true}}};SearchModel.prototype.removeResults=function(fullpath){if(this.results[fullpath]){this.numMatches-=this.results[fullpath].matches.length;delete this.results[fullpath]}};SearchModel.prototype.hasResults=function(){return Object.keys(this.results).length>0};SearchModel.prototype.countFilesMatches=function(){return{files:this.numFiles||Object.keys(this.results).length,matches:this.numMatches}};SearchModel.prototype.prioritizeOpenFile=function(firstFile){var workingSetFiles=MainViewManager.getWorkingSet(MainViewManager.ALL_PANES),workingSetFileFound={},fileSetWithoutWorkingSet=[],startingWorkingFileSet=[],propertyName="",i=0;if(FindUtils.isNodeSearchDisabled()){return Object.keys(this.results).sort(function(key1,key2){if(firstFile===key1){return-1}else if(firstFile===key2){return 1}return FileUtils.comparePaths(key1,key2)})}firstFile=firstFile||"";for(i=0;i<workingSetFiles.length;i++){workingSetFileFound[workingSetFiles[i].fullPath]=false}fileSetWithoutWorkingSet=Object.keys(this.results).filter(function(key){if(workingSetFileFound[key]!==undefined){workingSetFileFound[key]=true;return false}return true});if(workingSetFileFound[firstFile]===true){startingWorkingFileSet.push(firstFile);workingSetFileFound[firstFile]=false}for(propertyName in workingSetFileFound){if(workingSetFileFound.hasOwnProperty(propertyName)&&workingSetFileFound[propertyName]){startingWorkingFileSet.push(propertyName)}}return startingWorkingFileSet.concat(fileSetWithoutWorkingSet)};SearchModel.prototype.fireChanged=function(quickChange){this.trigger("change",quickChange)};exports.SearchModel=SearchModel});define("utils/NodeConnection",["require","exports","module","utils/EventDispatcher"],function(require,exports,module){"use strict";var EventDispatcher=require("utils/EventDispatcher");var CONNECTION_ATTEMPTS=10;var CONNECTION_TIMEOUT=1e4;var RETRY_DELAY=500;var MAX_COUNTER_VALUE=4294967295;function setDeferredTimeout(deferred,delay){var timer=setTimeout(function(){deferred.reject("timeout")},delay);deferred.always(function(){clearTimeout(timer)})}function attemptSingleConnect(){var deferred=$.Deferred();var port=null;var ws=null;setDeferredTimeout(deferred,CONNECTION_TIMEOUT);brackets.app.getNodeState(function(err,nodePort){if(!err&&nodePort&&deferred.state()!=="rejected"){port=nodePort;ws=new WebSocket("ws://localhost:"+port);ws.binaryType="arraybuffer";ws.onclose=function(){deferred.reject("WebSocket closed")};ws.onopen=function(){ws.onclose=null;deferred.resolveWith(null,[ws,port])}}else{deferred.reject("brackets.app.getNodeState error: "+err)}});return deferred.promise()}function NodeConnection(){this.domains={};this._registeredModules=[];this._pendingInterfaceRefreshDeferreds=[];this._pendingCommandDeferreds=[]}EventDispatcher.makeEventDispatcher(NodeConnection.prototype);NodeConnection.prototype.domains=null;NodeConnection.prototype._registeredModules=null;NodeConnection.prototype._ws=null;NodeConnection.prototype._port=null;NodeConnection.prototype._commandCount=1;NodeConnection.prototype._autoReconnect=false;NodeConnection.prototype._pendingInterfaceRefreshDeferreds=null;NodeConnection.prototype._pendingCommandDeferreds=null;NodeConnection.prototype._getNextCommandID=function(){var nextID;if(this._commandCount>MAX_COUNTER_VALUE){nextID=this._commandCount=0}else{nextID=this._commandCount++}return nextID};NodeConnection.prototype._cleanup=function(){this.domains={};if(this._ws&&this._ws.readyState!==WebSocket.CLOSED){try{this._ws.close()}catch(e){}}var failedDeferreds=this._pendingInterfaceRefreshDeferreds.concat(this._pendingCommandDeferreds);failedDeferreds.forEach(function(d){d.reject("cleanup")});this._pendingInterfaceRefreshDeferreds=[];this._pendingCommandDeferreds=[];this._ws=null;this._port=null};NodeConnection.prototype.connect=function(autoReconnect){var self=this;self._autoReconnect=autoReconnect;var deferred=$.Deferred();var attemptCount=0;var attemptTimestamp=null;function registerHandlersAndDomains(ws,port){function success(){self._ws.onclose=function(){if(self._autoReconnect){var $promise=self.connect(true);self.trigger("close",$promise)}else{self._cleanup();self.trigger("close")}};deferred.resolve()}function fail(err){self._cleanup();deferred.reject(err)}self._ws=ws;self._port=port;self._ws.onmessage=self._receive.bind(self);self._refreshInterface().then(function(){if(self._registeredModules.length>0){self.loadDomains(self._registeredModules,false).then(success,fail)}else{success()}},fail)}function doConnect(){attemptCount++;attemptTimestamp=new Date;attemptSingleConnect().then(registerHandlersAndDomains,function(){if(attemptCount<CONNECTION_ATTEMPTS){var now=new Date;var delay=Math.max(RETRY_DELAY-(now-attemptTimestamp),1);setTimeout(doConnect,delay)}else{deferred.reject("Max connection attempts reached")}})}self._cleanup();doConnect();return deferred.promise()};NodeConnection.prototype.connected=function(){return!!(this._ws&&this._ws.readyState===WebSocket.OPEN)};NodeConnection.prototype.disconnect=function(){this._autoReconnect=false;this._cleanup()};NodeConnection.prototype.loadDomains=function(paths,autoReload){var deferred=$.Deferred();setDeferredTimeout(deferred,CONNECTION_TIMEOUT);var pathArray=paths;if(!Array.isArray(paths)){pathArray=[paths]}if(autoReload){Array.prototype.push.apply(this._registeredModules,pathArray)}if(this.domains.base&&this.domains.base.loadDomainModulesFromPaths){this.domains.base.loadDomainModulesFromPaths(pathArray).then(function(success){if(!success){deferred.reject("loadDomainModulesFromPaths failed")}},function(reason){deferred.reject("Unable to load one of the modules: "+pathArray+(reason?", reason: "+reason:""))});this._pendingInterfaceRefreshDeferreds.push(deferred)}else{deferred.reject("this.domains.base is undefined")}return deferred.promise()};NodeConnection.prototype._send=function(m){if(this.connected()){var messageString=null;if(typeof m==="string"){messageString=m}else{try{messageString=JSON.stringify(m)}catch(stringifyError){console.error("[NodeConnection] Unable to stringify message in order to send: "+stringifyError.message)}}if(messageString){try{this._ws.send(messageString)}catch(sendError){console.error("[NodeConnection] Error sending message: "+sendError.message)}}}else{console.error("[NodeConnection] Not connected to node, unable to send.")}};NodeConnection.prototype._receive=function(message){var responseDeferred=null;var data=message.data;var m;if(message.data instanceof ArrayBuffer){if(data.byteLength<4){console.error("[NodeConnection] received malformed binary message");return}var header=data.slice(0,4),body=data.slice(4),headerView=new Uint32Array(header),id=headerView[0];m={type:"commandResponse",message:{id:id,response:body}}}else{try{m=JSON.parse(data)}catch(e){console.error("[NodeConnection] received malformed message",message,e.message);return}}switch(m.type){case"event":if(m.message.domain==="base"&&m.message.event==="newDomains"){this._refreshInterface()}EventDispatcher.triggerWithArray(this,m.message.domain+":"+m.message.event,m.message.parameters);break;case"commandResponse":responseDeferred=this._pendingCommandDeferreds[m.message.id];if(responseDeferred){responseDeferred.resolveWith(this,[m.message.response]);delete this._pendingCommandDeferreds[m.message.id]}break;case"commandProgress":responseDeferred=this._pendingCommandDeferreds[m.message.id];if(responseDeferred){responseDeferred.notifyWith(this,[m.message.message])}break;case"commandError":responseDeferred=this._pendingCommandDeferreds[m.message.id];if(responseDeferred){responseDeferred.rejectWith(this,[m.message.message,m.message.stack]);delete this._pendingCommandDeferreds[m.message.id]}break;case"error":console.error("[NodeConnection] received error: "+m.message.message);break;default:console.error("[NodeConnection] unknown event type: "+m.type)}};NodeConnection.prototype._refreshInterface=function(){var deferred=$.Deferred();var self=this;var pendingDeferreds=this._pendingInterfaceRefreshDeferreds;this._pendingInterfaceRefreshDeferreds=[];deferred.then(function(){pendingDeferreds.forEach(function(d){d.resolve()})},function(err){pendingDeferreds.forEach(function(d){d.reject(err)})});function refreshInterfaceCallback(spec){
function makeCommandFunction(domainName,commandSpec){return function(){var deferred=$.Deferred();var parameters=Array.prototype.slice.call(arguments,0);var id=self._getNextCommandID();self._pendingCommandDeferreds[id]=deferred;self._send({id:id,domain:domainName,command:commandSpec.name,parameters:parameters});return deferred}}self.domains={};self.domainEvents={};spec.forEach(function(domainSpec){self.domains[domainSpec.domain]={};domainSpec.commands.forEach(function(commandSpec){self.domains[domainSpec.domain][commandSpec.name]=makeCommandFunction(domainSpec.domain,commandSpec)});self.domainEvents[domainSpec.domain]={};domainSpec.events.forEach(function(eventSpec){var parameters=eventSpec.parameters;self.domainEvents[domainSpec.domain][eventSpec.name]=parameters})});deferred.resolve()}if(this.connected()){$.getJSON("http://localhost:"+this._port+"/api").done(refreshInterfaceCallback).fail(function(err){deferred.reject(err)})}else{deferred.reject("Attempted to call _refreshInterface when not connected.")}return deferred.promise()};NodeConnection._getConnectionTimeout=function(){return CONNECTION_TIMEOUT};module.exports=NodeConnection});define("utils/NodeDomain",["require","exports","module","utils/NodeConnection","utils/EventDispatcher"],function(require,exports,module){"use strict";var NodeConnection=require("utils/NodeConnection"),EventDispatcher=require("utils/EventDispatcher");var EVENT_NAMESPACE=".NodeDomainEvent";function NodeDomain(domainName,domainPath){var connection=new NodeConnection;this.connection=connection;this._domainName=domainName;this._domainPath=domainPath;this._domainLoaded=false;this._load=this._load.bind(this);this._connectionPromise=connection.connect(true).then(this._load);connection.on("close",function(event,promise){this.connection.off(EVENT_NAMESPACE);this._domainLoaded=false;this._connectionPromise=promise.then(this._load)}.bind(this))}EventDispatcher.makeEventDispatcher(NodeDomain.prototype);NodeDomain.prototype.connection=null;NodeDomain.prototype._connectionPromise=null;NodeDomain.prototype._domainName=null;NodeDomain.prototype._domainPath=null;NodeDomain.prototype._domainLoaded=false;NodeDomain.prototype._load=function(){var connection=this.connection;return connection.loadDomains(this._domainPath,true).done(function(){this._domainLoaded=true;this._connectionPromise=null;var eventNames=Object.keys(connection.domainEvents[this._domainName]);eventNames.forEach(function(domainEvent){var connectionEvent=this._domainName+":"+domainEvent+EVENT_NAMESPACE;connection.on(connectionEvent,function(){var params=Array.prototype.slice.call(arguments,1);EventDispatcher.triggerWithArray(this,domainEvent,params)}.bind(this))},this)}.bind(this)).fail(function(err){console.error('[NodeDomain] Error loading domain "'+this._domainName+'": '+err)}.bind(this))};NodeDomain.prototype.ready=function(){return this._domainLoaded&&this.connection.connected()};NodeDomain.prototype.promise=function(){if(this._connectionPromise){return this._connectionPromise}else{var deferred=new $.Deferred;if(this.ready()){deferred.resolve()}else{deferred.reject()}return deferred.promise()}};NodeDomain.prototype.exec=function(name){var connection=this.connection,params=Array.prototype.slice.call(arguments,1),execConnected=function(){var domain=connection.domains[this._domainName],fn=domain&&domain[name],execResult;if(fn){execResult=fn.apply(domain,params)}else{execResult=(new $.Deferred).reject().promise()}return execResult}.bind(this);var result;if(this.ready()){result=execConnected()}else if(this._connectionPromise){result=this._connectionPromise.then(execConnected)}else{result=(new $.Deferred.reject).promise()}return result};module.exports=NodeDomain});define("search/FindInFiles",["require","exports","module","thirdparty/lodash","search/FileFilters","utils/Async","utils/StringUtils","project/ProjectManager","preferences/PreferencesManager","document/Document","document/DocumentManager","view/MainViewManager","filesystem/FileSystem","language/LanguageManager","search/SearchModel","utils/PerfUtils","utils/NodeDomain","file/FileUtils","search/FindUtils","utils/HealthLogger"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash"),FileFilters=require("search/FileFilters"),Async=require("utils/Async"),StringUtils=require("utils/StringUtils"),ProjectManager=require("project/ProjectManager"),PreferencesManager=require("preferences/PreferencesManager"),DocumentModule=require("document/Document"),DocumentManager=require("document/DocumentManager"),MainViewManager=require("view/MainViewManager"),FileSystem=require("filesystem/FileSystem"),LanguageManager=require("language/LanguageManager"),SearchModel=require("search/SearchModel").SearchModel,PerfUtils=require("utils/PerfUtils"),NodeDomain=require("utils/NodeDomain"),FileUtils=require("file/FileUtils"),FindUtils=require("search/FindUtils"),HealthLogger=require("utils/HealthLogger");var _bracketsPath=FileUtils.getNativeBracketsDirectoryPath(),_modulePath=FileUtils.getNativeModuleDirectoryPath(module),_nodePath="node/FindInFilesDomain",_domainPath=[_bracketsPath,_modulePath,_nodePath].join("/"),searchDomain=new NodeDomain("FindInFiles",_domainPath),searchScopeChanged=false,findOrReplaceInProgress=false,changedFileList={};var ZERO_FILES_TO_SEARCH={};var MAX_DISPLAY_LENGTH=200;var searchModel=new SearchModel;var _documentChangeHandler,_fileSystemChangeHandler,_processCachedFileSystemEvents,_debouncedFileSystemChangeHandler,_fileNameChangeHandler,clearSearch;var FILE_SYSTEM_EVENT_DEBOUNCE_TIME=100;function _removeListeners(){DocumentModule.off("documentChange",_documentChangeHandler);FileSystem.off("change",_debouncedFileSystemChangeHandler);DocumentManager.off("fileNameChange",_fileNameChangeHandler)}function _addListeners(){_removeListeners();DocumentModule.on("documentChange",_documentChangeHandler);FileSystem.on("change",_debouncedFileSystemChangeHandler);DocumentManager.on("fileNameChange",_fileNameChangeHandler)}function nodeFileCacheComplete(event,numFiles,cacheSize){if(/\/test\/SpecRunner\.html$/.test(window.location.pathname)){return}var projectRoot=ProjectManager.getProjectRoot(),projectName=projectRoot?projectRoot.name:null;if(!projectName){console.error("'File cache complete' event received, but no project root found");projectName="noName00"}FindUtils.setInstantSearchDisabled(false);FindUtils.setNodeSearchDisabled(false);FindUtils.notifyIndexingFinished();HealthLogger.setProjectDetail(projectName,numFiles,cacheSize)}function _getSearchMatches(contents,queryExpr){if(searchModel.foundMaximum||contents.search(queryExpr)===-1){return[]}var match,lineNum,line,ch,totalMatchLength,matchedLines,numMatchedLines,lastLineLength,endCh,padding,leftPadding,rightPadding,highlightOffset,highlightEndCh,lines=StringUtils.getLines(contents),matches=[];while((match=queryExpr.exec(contents))!==null){lineNum=StringUtils.offsetToLineNum(lines,match.index);line=lines[lineNum];ch=match.index-contents.lastIndexOf("\n",match.index)-1;matchedLines=match[0].split("\n");numMatchedLines=matchedLines.length;totalMatchLength=match[0].length;lastLineLength=matchedLines[matchedLines.length-1].length;endCh=numMatchedLines===1?ch+totalMatchLength:lastLineLength;highlightEndCh=numMatchedLines===1?endCh:line.length;highlightOffset=0;if(highlightEndCh<=MAX_DISPLAY_LENGTH){line=line.substr(0,MAX_DISPLAY_LENGTH)}else if(totalMatchLength>MAX_DISPLAY_LENGTH){line=line.substr(ch,ch+MAX_DISPLAY_LENGTH);highlightOffset=ch}else{padding=MAX_DISPLAY_LENGTH-totalMatchLength;rightPadding=Math.floor(Math.min(padding/2,line.length-highlightEndCh));leftPadding=Math.ceil(padding-rightPadding);highlightOffset=ch-leftPadding;line=line.substring(highlightOffset,highlightEndCh+rightPadding)}matches.push({start:{line:lineNum,ch:ch},end:{line:lineNum+numMatchedLines-1,ch:endCh},highlightOffset:highlightOffset,startOffset:match.index,endOffset:match.index+totalMatchLength,line:line,result:match,isChecked:true});if(matches.length>SearchModel.MAX_TOTAL_RESULTS){queryExpr.lastIndex=0;break}if(totalMatchLength===0){queryExpr.lastIndex++}}return matches}function _updateResults(doc,changeList){var i,diff,matches,lines,start,howMany,resultsChanged=false,fullPath=doc.file.fullPath,resultInfo=searchModel.results[fullPath];searchModel.removeResults(fullPath);changeList.forEach(function(change){lines=[];start=0;howMany=0;if(!change.from||!change.to){resultInfo={matches:_getSearchMatches(doc.getText(),searchModel.queryExpr),timestamp:doc.diskTimestamp};resultsChanged=true}else{for(i=0;i<change.text.length;i++){lines.push(doc.getLine(change.from.line+i))}diff=lines.length-1-(change.to.line-change.from.line);if(resultInfo){resultInfo.matches.forEach(function(item){if(item.end.line<change.from.line){start++}else if(item.end.line<=change.to.line){howMany++}else{item.start.line+=diff;item.end.line+=diff}});if(howMany>0){resultInfo.matches.splice(start,howMany)}resultsChanged=true}matches=_getSearchMatches(lines.join("\r\n"),searchModel.queryExpr);if(matches.length){matches.forEach(function(value,key){matches[key].start.line+=change.from.line;matches[key].end.line+=change.from.line});if(resultInfo){Array.prototype.splice.apply(resultInfo.matches,[start,0].concat(matches))}else{resultInfo={matches:matches,collapsed:false,timestamp:doc.diskTimestamp}}resultsChanged=true}}});if(resultInfo&&resultInfo.matches.length){searchModel.setResults(fullPath,resultInfo)}if(resultsChanged){searchModel.fireChanged(true)}}function _subtreeFilter(file,scope){if(scope){if(scope.isDirectory){return file.fullPath.indexOf(scope.fullPath)===0}else{return file.fullPath===scope.fullPath}}return true}function _isReadableText(fullPath){return!LanguageManager.getLanguageForPath(fullPath).isBinary()}function getCandidateFiles(scope){function filter(file){return _subtreeFilter(file,scope)&&_isReadableText(file.fullPath)}if(scope&&scope.isFile){return(new $.Deferred).resolve(filter(scope)?[scope]:[]).promise()}else{return ProjectManager.getAllFiles(filter,true,true)}}function _inSearchScope(file){if(searchModel&&searchModel.scope){if(!_subtreeFilter(file,searchModel.scope)){return false}}else{if(file.fullPath.indexOf(ProjectManager.getProjectRoot().fullPath)!==0){if(MainViewManager.findInWorkingSet(MainViewManager.ALL_PANES,file.fullPath)===-1){return false}}}if(!_isReadableText(file.fullPath)){return false}return FileFilters.filterPath(searchModel.filter,file.fullPath)}_documentChangeHandler=function(event,document,change){if(!findOrReplaceInProgress){changedFileList[document.file.fullPath]=true}else{if(_inSearchScope(document.file)){_updateResults(document,change)}}};function _doSearchInOneFile(file){var result=new $.Deferred;DocumentManager.getDocumentText(file).done(function(text,timestamp){var matches=_getSearchMatches(text,searchModel.queryExpr);searchModel.setResults(file.fullPath,{matches:matches,timestamp:timestamp});result.resolve(!!matches.length)}).fail(function(){result.resolve(false)});return result.promise()}function _updateDocumentInNode(docPath){DocumentManager.getDocumentForPath(docPath).done(function(doc){var updateObject={filePath:docPath,docContents:doc.getText()};searchDomain.exec("documentChanged",updateObject)})}function _updateChangedDocs(){var key=null;for(key in changedFileList){if(changedFileList.hasOwnProperty(key)){_updateDocumentInNode(key)}}}function _doSearch(queryInfo,candidateFilesPromise,filter){searchModel.filter=filter;var queryResult=searchModel.setQueryInfo(queryInfo);if(!queryResult){return null}var scopeName=searchModel.scope?searchModel.scope.fullPath:ProjectManager.getProjectRoot().fullPath,perfTimer=PerfUtils.markStart("FindIn: "+scopeName+" - "+queryInfo.query);findOrReplaceInProgress=true;return candidateFilesPromise.then(function(fileListResult){fileListResult=FileFilters.filterFileList(filter,fileListResult);if(searchModel.isReplace||FindUtils.isNodeSearchDisabled()){if(fileListResult.length){searchModel.allResultsAvailable=true;return Async.doInParallel(fileListResult,_doSearchInOneFile)}else{return ZERO_FILES_TO_SEARCH}}var searchDeferred=new $.Deferred;if(fileListResult.length){var searchObject;if(searchScopeChanged){var files=fileListResult.filter(function(entry){return entry.isFile&&_isReadableText(entry.fullPath)}).map(function(entry){return entry.fullPath});files=FindUtils.prioritizeOpenFile(files,FindUtils.getOpenFilePath());searchObject={files:files,queryInfo:queryInfo,queryExpr:searchModel.queryExpr};searchScopeChanged=false}else{searchObject={queryInfo:queryInfo,queryExpr:searchModel.queryExpr}}if(searchModel.isReplace){searchObject.getAllResults=true}_updateChangedDocs();FindUtils.notifyNodeSearchStarted();searchDomain.exec("doSearch",searchObject).done(function(rcvd_object){FindUtils.notifyNodeSearchFinished();if(!rcvd_object||!rcvd_object.results){console.log("no node falling back to brackets search");FindUtils.setNodeSearchDisabled(true);searchDeferred.fail();clearSearch();return}searchModel.results=rcvd_object.results;searchModel.numMatches=rcvd_object.numMatches;searchModel.numFiles=rcvd_object.numFiles;searchModel.exceedsMaximum=rcvd_object.exceedsMaximum;searchModel.allResultsAvailable=rcvd_object.allResultsAvailable;searchDeferred.resolve()}).fail(function(){FindUtils.notifyNodeSearchFinished();console.log("node fails");FindUtils.setNodeSearchDisabled(true);clearSearch();searchDeferred.reject()});return searchDeferred.promise()}else{return ZERO_FILES_TO_SEARCH}}).then(function(zeroFilesToken){exports._searchDone=true;PerfUtils.addMeasurement(perfTimer);if(zeroFilesToken===ZERO_FILES_TO_SEARCH){return zeroFilesToken}else{return searchModel.results}},function(err){console.log("find in files failed: ",err);PerfUtils.finalizeMeasurement(perfTimer);return err})}clearSearch=function(){findOrReplaceInProgress=false;searchModel.clear()};function doSearchInScope(queryInfo,scope,filter,replaceText,candidateFilesPromise){clearSearch();searchModel.scope=scope;if(replaceText!==undefined){searchModel.isReplace=true;searchModel.replaceText=replaceText}candidateFilesPromise=candidateFilesPromise||getCandidateFiles(scope);return _doSearch(queryInfo,candidateFilesPromise,filter)}function doReplace(results,replaceText,options){return FindUtils.performReplacements(results,replaceText,options).always(function(){exports._replaceDone=true})}var _searchScopeChanged=function(){searchScopeChanged=true};function _searchcollapseResults(){if(FindUtils.isNodeSearchDisabled()){return}searchDomain.exec("collapseResults",FindUtils.isCollapsedResults())}function filesChanged(fileList){if(FindUtils.isNodeSearchDisabled()||!fileList||fileList.length===0){return}var updateObject={fileList:fileList};if(searchModel.filter){updateObject.filesInSearchScope=FileFilters.getPathsMatchingFilter(searchModel.filter,fileList);_searchScopeChanged()}searchDomain.exec("filesChanged",updateObject)}function filesRemoved(fileList){if(FindUtils.isNodeSearchDisabled()||!fileList||fileList.length===0){return}var updateObject={fileList:fileList};if(searchModel.filter){updateObject.filesInSearchScope=FileFilters.getPathsMatchingFilter(searchModel.filter,fileList);_searchScopeChanged()}searchDomain.exec("filesRemoved",updateObject)}_fileNameChangeHandler=function(event,oldName,newName){var resultsChanged=false;_.forEach(searchModel.results,function(item,fullPath){if(fullPath.indexOf(oldName)===0){filesRemoved([fullPath]);filesChanged([fullPath.replace(oldName,newName)]);if(findOrReplaceInProgress){searchModel.removeResults(fullPath);searchModel.setResults(fullPath.replace(oldName,newName),item);resultsChanged=true}}});if(resultsChanged){searchModel.fireChanged()}};_fileSystemChangeHandler=function(event,entry,added,removed){var resultsChanged=false;function _removeSearchResultsForEntries(entries){var fullPaths=[];entries.forEach(function(entry){Object.keys(searchModel.results).forEach(function(fullPath){if(fullPath===entry.fullPath||entry.isDirectory&&fullPath.indexOf(entry.fullPath)===0){fullPaths.push(fullPath);if(findOrReplaceInProgress){searchModel.removeResults(fullPath);resultsChanged=true}}})});filesRemoved(fullPaths)}function _addSearchResultsForEntries(entries){var fullPaths=[];return Async.doInParallel(entries,function(entry){var addedFiles=[],addedFilePaths=[],deferred=new $.Deferred;var visitor=function(child){if(ProjectManager.shouldShow(child)){if(child.isFile&&_isReadableText(child.name)){if(_inSearchScope(child)){addedFiles.push(child);addedFilePaths.push(child.fullPath)}}return true}return false};entry.visit(visitor,function(err){if(err){deferred.reject(err);return}fullPaths=fullPaths.concat(addedFilePaths);if(findOrReplaceInProgress){Async.doInParallel(addedFiles,function(file){return _doSearchInOneFile(file).done(function(foundMatches){resultsChanged=resultsChanged||foundMatches})}).always(deferred.resolve)}else{deferred.resolve()}});return deferred.promise()}).always(function(){filesChanged(fullPaths)})}if(!entry){return}var addPromise;if(entry.isDirectory){if(added.length===0&&removed.length===0){_removeSearchResultsForEntries([entry]);var deferred=$.Deferred();addPromise=deferred.promise();entry.getContents(function(err,entries){_addSearchResultsForEntries(entries).always(deferred.resolve)})}else{_removeSearchResultsForEntries(removed);addPromise=_addSearchResultsForEntries(added)}}else{_removeSearchResultsForEntries([entry]);addPromise=_addSearchResultsForEntries([entry])}addPromise.always(function(){if(resultsChanged){searchModel.fireChanged()}})};var _cachedFileSystemEvents=[];_processCachedFileSystemEvents=_.debounce(function(){_cachedFileSystemEvents=_cachedFileSystemEvents.reduce(function(result,obj){var fullPath=obj.entry?obj.entry.fullPath:null;if(result[fullPath]&&obj.isDirectory){obj.added=obj.added.concat(result[fullPath].added);obj.removed=obj.removed.concat(result[fullPath].removed)}result[fullPath]=obj;return result},{});_.forEach(_cachedFileSystemEvents,function(obj){_fileSystemChangeHandler(obj.event,obj.entry,obj.added,obj.removed)});_cachedFileSystemEvents=[]},FILE_SYSTEM_EVENT_DEBOUNCE_TIME);_debouncedFileSystemChangeHandler=function(event,entry,added,removed){var isDirectory=false;if(entry&&entry.isDirectory){isDirectory=true;added=added||[];removed=removed||[]}_cachedFileSystemEvents.push({event:event,entry:entry,isDirectory:isDirectory,added:added,removed:removed});_processCachedFileSystemEvents()};var _initCache=function(){function filter(file){return _subtreeFilter(file,null)&&_isReadableText(file.fullPath)}FindUtils.setInstantSearchDisabled(true);_addListeners();if(!PreferencesManager.get("findInFiles.nodeSearch")){return}ProjectManager.getAllFiles(filter,true,true).done(function(fileListResult){var files=fileListResult,filter=FileFilters.getActiveFilter();if(filter&&filter.patterns.length>0){files=FileFilters.filterFileList(FileFilters.compile(filter.patterns),files)}files=files.filter(function(entry){return entry.isFile&&_isReadableText(entry.fullPath)}).map(function(entry){return entry.fullPath});FindUtils.notifyIndexingStarted();searchDomain.exec("initCache",files)});_searchScopeChanged()};function getNextPageofSearchResults(){var searchDeferred=$.Deferred();if(searchModel.allResultsAvailable){return searchDeferred.resolve().promise()}_updateChangedDocs();FindUtils.notifyNodeSearchStarted();searchDomain.exec("nextPage").done(function(rcvd_object){FindUtils.notifyNodeSearchFinished();if(searchModel.results){var resultEntry;for(resultEntry in rcvd_object.results){if(rcvd_object.results.hasOwnProperty(resultEntry)){searchModel.results[resultEntry.toString()]=rcvd_object.results[resultEntry]}}}else{searchModel.results=rcvd_object.results}searchModel.fireChanged();searchDeferred.resolve()}).fail(function(){FindUtils.notifyNodeSearchFinished();console.log("node fails");FindUtils.setNodeSearchDisabled(true);searchDeferred.reject()});return searchDeferred.promise()}function getAllSearchResults(){var searchDeferred=$.Deferred();if(searchModel.allResultsAvailable){return searchDeferred.resolve().promise()}_updateChangedDocs();FindUtils.notifyNodeSearchStarted();searchDomain.exec("getAllResults").done(function(rcvd_object){FindUtils.notifyNodeSearchFinished();searchModel.results=rcvd_object.results;searchModel.numMatches=rcvd_object.numMatches;searchModel.numFiles=rcvd_object.numFiles;searchModel.allResultsAvailable=true;searchModel.fireChanged();searchDeferred.resolve()}).fail(function(){FindUtils.notifyNodeSearchFinished();console.log("node fails");FindUtils.setNodeSearchDisabled(true);searchDeferred.reject()});return searchDeferred.promise()}ProjectManager.on("projectOpen",_initCache);FindUtils.on(FindUtils.SEARCH_FILE_FILTERS_CHANGED,_searchScopeChanged);FindUtils.on(FindUtils.SEARCH_SCOPE_CHANGED,_searchScopeChanged);FindUtils.on(FindUtils.SEARCH_COLLAPSE_RESULTS,_searchcollapseResults);searchDomain.on("crawlComplete",nodeFileCacheComplete);exports.searchModel=searchModel;exports.doSearchInScope=doSearchInScope;exports.doReplace=doReplace;exports.getCandidateFiles=getCandidateFiles;exports.clearSearch=clearSearch;exports.ZERO_FILES_TO_SEARCH=ZERO_FILES_TO_SEARCH;exports.getNextPageofSearchResults=getNextPageofSearchResults;exports.getAllSearchResults=getAllSearchResults;exports._documentChangeHandler=_documentChangeHandler;exports._fileNameChangeHandler=_fileNameChangeHandler;exports._fileSystemChangeHandler=_fileSystemChangeHandler});define("text!htmlContent/search-panel.html",[],function(){return'<div id="{{panelID}}" class="search-results bottom-panel vert-resizable top-resizer no-focus">\n    <div class="toolbar simple-toolbar-layout">\n        <div class="title"></div>\n        <a href="#" class="close">&times;</a>\n    </div>\n    <div class="table-container resizable-content"></div>\n</div>\n'});define("text!htmlContent/search-results.html",[],function(){return'<table class="bottom-panel-table table table-striped table-condensed row-highlight">\n    <tbody>\n        {{#searchList}}\n        <tr class="file-section" data-file-index="{{fileIndex}}">\n            {{#replace}}<td class="checkbox-column"><input type="checkbox" class="check-one-file" {{#isChecked}}checked="true"{{/isChecked}} /></td>{{/replace}}\n            <td colspan="2">\n                <span class="disclosure-triangle {{^isCollapsed}}expanded{{/isCollapsed}}" title="{{Strings.FIND_IN_FILES_EXPAND_COLLAPSE}}"></span>\n                {{{filename}}}\n            </td>\n        </tr>\n        {{#items}}\n        <tr data-file-index="{{fileIndex}}" data-item-index="{{itemIndex}}" data-match-index="{{matchIndex}}" {{#isCollapsed}}style="display:none;"{{/isCollapsed}}>\n            {{#replace}}<td class="checkbox-column"><input type="checkbox" class="check-one" {{#isChecked}}checked="true"{{/isChecked}} /></td>{{/replace}}\n            <td class="line-number">{{line}}</td>\n            <td class="line-text">{{pre}}<span class="highlight">{{highlight}}</span>{{post}}</td>\n        </tr>\n        {{/items}}\n        {{/searchList}}\n    </tbody>\n</table>\n'});define("text!htmlContent/search-summary.html",[],function(){return'{{#replace}}\n<div class="fixed-col"><input type="checkbox" class="check-all" {{#allChecked}}checked="checked"{{/allChecked}} /></div>\n{{/replace}}\n<div class="fixed-col">{{titleLabel}} &quot;</div>\n<div class="contracting-col">{{query}}</div>\n<div class="fixed-col">&quot;</div>\n{{#replace}}\n<div class="fixed-col">&nbsp;{{Strings.FIND_REPLACE_TITLE_WITH}} &quot;</div>\n<div class="contracting-col">{{replaceWith}}</div>\n<div class="fixed-col">&quot;</div>\n{{/replace}}\n{{#scope}}\n<div class="contracting-col">{{{scope}}}</div>\n{{/scope}}\n<div class="fixed-col">&nbsp;{{{summary}}}</div>\n{{#hasPages}}\n<div class="pagination-col">\n    <span class="first-page {{^hasPrev}}disabled{{/hasPrev}}"></span>\n    <span class="prev-page {{^hasPrev}}disabled{{/hasPrev}}"></span>\n    {{{results}}}\n    <span class="next-page {{^hasNext}}disabled{{/hasNext}}"></span>\n    <span class="last-page {{^hasNext}}disabled{{/hasNext}}"></span>\n</div>\n{{/hasPages}}\n{{#replace}}\n<div class="replace-col">\n    <button class="btn small replace-checked">{{Strings.BUTTON_REPLACE}}</button>\n</div>\n{{/replace}}'});define("search/SearchResultsView",["require","exports","module","command/CommandManager","utils/EventDispatcher","command/Commands","document/DocumentManager","editor/EditorManager","project/ProjectManager","project/FileViewController","file/FileUtils","search/FindUtils","view/WorkspaceManager","utils/StringUtils","strings","utils/HealthLogger","thirdparty/lodash","thirdparty/mustache/mustache","text!htmlContent/search-panel.html","text!htmlContent/search-results.html","text!htmlContent/search-summary.html"],function(require,exports,module){"use strict";var CommandManager=require("command/CommandManager"),EventDispatcher=require("utils/EventDispatcher"),Commands=require("command/Commands"),DocumentManager=require("document/DocumentManager"),EditorManager=require("editor/EditorManager"),ProjectManager=require("project/ProjectManager"),FileViewController=require("project/FileViewController"),FileUtils=require("file/FileUtils"),FindUtils=require("search/FindUtils"),WorkspaceManager=require("view/WorkspaceManager"),StringUtils=require("utils/StringUtils"),Strings=require("strings"),HealthLogger=require("utils/HealthLogger"),_=require("thirdparty/lodash"),Mustache=require("thirdparty/mustache/mustache"),searchPanelTemplate=require("text!htmlContent/search-panel.html"),searchResultsTemplate=require("text!htmlContent/search-results.html"),searchSummaryTemplate=require("text!htmlContent/search-summary.html");var RESULTS_PER_PAGE=100;var UPDATE_TIMEOUT=400;function SearchResultsView(model,panelID,panelName){var panelHtml=Mustache.render(searchPanelTemplate,{panelID:panelID});this._panel=WorkspaceManager.createBottomPanel(panelName,$(panelHtml),100);this._$summary=this._panel.$panel.find(".title");this._$table=this._panel.$panel.find(".table-container");this._model=model}EventDispatcher.makeEventDispatcher(SearchResultsView.prototype);SearchResultsView.prototype._model=null;SearchResultsView.prototype._searchList=[];SearchResultsView.prototype._panel=null;SearchResultsView.prototype._initialFilePath=null;SearchResultsView.prototype._currentStart=0;SearchResultsView.prototype._allChecked=false;SearchResultsView.prototype._$selectedRow=null;SearchResultsView.prototype._$summary=null;SearchResultsView.prototype._$table=null;SearchResultsView.prototype._timeoutID=null;SearchResultsView.prototype._handleModelChange=function(quickChange){if(this._model.isReplace){this.close();return}var self=this;if(this._timeoutID){window.clearTimeout(this._timeoutID)}if(quickChange){this._timeoutID=window.setTimeout(function(){self._updateResults();self._timeoutID=null},UPDATE_TIMEOUT)}else{this._updateResults()}};SearchResultsView.prototype._addPanelListeners=function(){var self=this;this._panel.$panel.off(".searchResults").on("click.searchResults",".close",function(){self.close()}).on("click.searchResults",".first-page:not(.disabled)",function(){self._currentStart=0;self._render();HealthLogger.searchDone(HealthLogger.SEARCH_FIRST_PAGE)}).on("click.searchResults",".prev-page:not(.disabled)",function(){self._currentStart-=RESULTS_PER_PAGE;self._render();HealthLogger.searchDone(HealthLogger.SEARCH_PREV_PAGE)}).on("click.searchResults",".next-page:not(.disabled)",function(){self.trigger("getNextPage");HealthLogger.searchDone(HealthLogger.SEARCH_NEXT_PAGE)}).on("click.searchResults",".last-page:not(.disabled)",function(){self.trigger("getLastPage");HealthLogger.searchDone(HealthLogger.SEARCH_LAST_PAGE)}).on("dblclick.searchResults",".table-container tr:not(.file-section)",function(e){var item=self._searchList[$(this).data("file-index")];FileViewController.openFileAndAddToWorkingSet(item.fullPath)}).on("click.searchResults .table-container",function(e){var $row=$(e.target).closest("tr");if($row.length){if(self._$selectedRow){self._$selectedRow.removeClass("selected")}$row.addClass("selected");self._$selectedRow=$row;var searchItem=self._searchList[$row.data("file-index")],fullPath=searchItem.fullPath;if($row.hasClass("file-section")){var $titleRows,collapsed=!self._model.results[fullPath].collapsed;if(e.metaKey||e.ctrlKey){$titleRows=$(e.target).closest("table").find(".file-section")}else{$titleRows=$row}$titleRows.each(function(){fullPath=self._searchList[$(this).data("file-index")].fullPath;searchItem=self._model.results[fullPath];if(searchItem.collapsed!==collapsed){searchItem.collapsed=collapsed;$(this).nextUntil(".file-section").toggle();$(this).find(".disclosure-triangle").toggleClass("expanded")}});if(e.metaKey||e.ctrlKey){FindUtils.setCollapseResults(collapsed);_.forEach(self._model.results,function(item){item.collapsed=collapsed})}}else{var item=searchItem.items[$row.data("item-index")];CommandManager.execute(Commands.FILE_OPEN,{fullPath:fullPath}).done(function(doc){EditorManager.getCurrentFullEditor().setSelection(item.start,item.end,true)})}}});function updateHeaderCheckbox($checkAll){var $allFileRows=self._panel.$panel.find(".file-section"),$checkedFileRows=$allFileRows.filter(function(index){return $(this).find(".check-one-file").is(":checked")});if($checkedFileRows.length===$allFileRows.length){$checkAll.prop("checked",true)}}function updateFileAndHeaderCheckboxes($clickedRow,isChecked){var $firstMatch=$clickedRow.data("item-index")===0?$clickedRow:$clickedRow.prevUntil(".file-section").last(),$fileRow=$firstMatch.prev(),$siblingRows=$fileRow.nextUntil(".file-section"),$fileCheckbox=$fileRow.find(".check-one-file"),$checkAll=self._panel.$panel.find(".check-all");if(isChecked){if(!$fileCheckbox.is(":checked")){var $checkedSibilings=$siblingRows.filter(function(index){return $(this).find(".check-one").is(":checked")});if($checkedSibilings.length===$siblingRows.length){$fileCheckbox.prop("checked",true);if(!$checkAll.is(":checked")){updateHeaderCheckbox($checkAll)}}}}else{if($checkAll.is(":checked")){$checkAll.prop("checked",false)}if($fileCheckbox.is(":checked")){$fileCheckbox.prop("checked",false)}}}if(this._model.isReplace){this._panel.$panel.on("click.searchResults",".check-all",function(e){var isChecked=$(this).is(":checked");_.forEach(self._model.results,function(results){results.matches.forEach(function(match){match.isChecked=isChecked})});self._$table.find(".check-one").prop("checked",isChecked);self._$table.find(".check-one-file").prop("checked",isChecked);self._allChecked=isChecked}).on("click.searchResults",".check-one-file",function(e){var isChecked=$(this).is(":checked"),$row=$(e.target).closest("tr"),item=self._searchList[$row.data("file-index")],$matchRows=$row.nextUntil(".file-section"),$checkAll=self._panel.$panel.find(".check-all");if(item){self._model.results[item.fullPath].matches.forEach(function(match){match.isChecked=isChecked})}$matchRows.find(".check-one").prop("checked",isChecked);if(!isChecked){if($checkAll.is(":checked")){$checkAll.prop("checked",false)}}else if(!$checkAll.is(":checked")){updateHeaderCheckbox($checkAll)}e.stopPropagation()}).on("click.searchResults",".check-one",function(e){var $row=$(e.target).closest("tr"),item=self._searchList[$row.data("file-index")],match=self._model.results[item.fullPath].matches[$row.data("match-index")];match.isChecked=$(this).is(":checked");updateFileAndHeaderCheckboxes($row,match.isChecked);e.stopPropagation()}).on("click.searchResults",".replace-checked",function(e){self.trigger("replaceBatch")})}};SearchResultsView.prototype._showSummary=function(){var count=this._model.countFilesMatches(),lastIndex=this._getLastIndex(count.matches),filesStr,summary;filesStr=StringUtils.format(Strings.FIND_NUM_FILES,count.files,count.files>1?Strings.FIND_IN_FILES_FILES:Strings.FIND_IN_FILES_FILE);summary=StringUtils.format(Strings.FIND_TITLE_SUMMARY,this._model.exceedsMaximum?Strings.FIND_IN_FILES_MORE_THAN:"",String(count.matches),count.matches>1?Strings.FIND_IN_FILES_MATCHES:Strings.FIND_IN_FILES_MATCH,filesStr)
;this._$summary.html(Mustache.render(searchSummaryTemplate,{query:this._model.queryInfo&&this._model.queryInfo.query&&this._model.queryInfo.query.toString()||"",replaceWith:this._model.replaceText,titleLabel:this._model.isReplace?Strings.FIND_REPLACE_TITLE_LABEL:Strings.FIND_TITLE_LABEL,scope:this._model.scope?"&nbsp;"+FindUtils.labelForScope(this._model.scope)+"&nbsp;":"",summary:summary,allChecked:this._allChecked,hasPages:count.matches>RESULTS_PER_PAGE,results:StringUtils.format(Strings.FIND_IN_FILES_PAGING,this._currentStart+1,lastIndex),hasPrev:this._currentStart>0,hasNext:lastIndex<count.matches,replace:this._model.isReplace,Strings:Strings}))};SearchResultsView.prototype._render=function(){var searchItems,match,i,item,multiLine,count=this._model.countFilesMatches(),searchFiles=this._model.prioritizeOpenFile(this._initialFilePath),lastIndex=this._getLastIndex(count.matches),matchesCounter=0,showMatches=false,allInFileChecked=true,self=this;this._showSummary();this._searchList=[];searchFiles.some(function(fullPath){showMatches=true;item=self._model.results[fullPath];if(matchesCounter+item.matches.length<self._currentStart){matchesCounter+=item.matches.length;showMatches=false}else if(matchesCounter<self._currentStart){i=self._currentStart-matchesCounter;matchesCounter=self._currentStart}else if(matchesCounter<lastIndex){i=0}else{return true}if(showMatches&&i<item.matches.length){searchItems=[];allInFileChecked=true;while(i<item.matches.length&&matchesCounter<lastIndex){match=item.matches[i];multiLine=match.start.line!==match.end.line;searchItems.push({fileIndex:self._searchList.length,itemIndex:searchItems.length,matchIndex:i,line:match.start.line+1,pre:match.line.substr(0,match.start.ch-match.highlightOffset),highlight:match.line.substring(match.start.ch-match.highlightOffset,multiLine?undefined:match.end.ch-match.highlightOffset),post:multiLine?"…":match.line.substr(match.end.ch-match.highlightOffset),start:match.start,end:match.end,isChecked:match.isChecked,isCollapsed:item.collapsed});if(!match.isChecked){allInFileChecked=false}matchesCounter++;i++}var relativePath=FileUtils.getDirectoryPath(ProjectManager.makeProjectRelativeIfPossible(fullPath)),directoryPath=FileUtils.getDirectoryPath(relativePath),displayFileName=StringUtils.format(Strings.FIND_IN_FILES_FILE_PATH,StringUtils.breakableUrl(FileUtils.getBaseName(fullPath)),StringUtils.breakableUrl(directoryPath),directoryPath?"&mdash;":"");self._searchList.push({fileIndex:self._searchList.length,filename:displayFileName,fullPath:fullPath,isChecked:allInFileChecked,items:searchItems,isCollapsed:item.collapsed})}});this._$table.empty().append(Mustache.render(searchResultsTemplate,{replace:this._model.isReplace,searchList:this._searchList,Strings:Strings}));if(this._$selectedRow){this._$selectedRow.removeClass("selected");this._$selectedRow=null}this._panel.show();this._$table.scrollTop(0)};SearchResultsView.prototype._updateResults=function(){if(this._panel.isVisible()){var scrollTop=this._$table.scrollTop(),index=this._$selectedRow?this._$selectedRow.index():null,numMatches=this._model.countFilesMatches().matches;if(this._currentStart>numMatches){this._currentStart=this._getLastCurrentStart(numMatches)}this._render();this._$table.scrollTop(scrollTop);if(index){this._$selectedRow=this._$table.find("tr:eq("+index+")");this._$selectedRow.addClass("selected")}}};SearchResultsView.prototype._getLastIndex=function(numMatches){return Math.min(this._currentStart+RESULTS_PER_PAGE,numMatches)};SearchResultsView.prototype.showNextPage=function(){this._currentStart+=RESULTS_PER_PAGE;this._render()};SearchResultsView.prototype.showLastPage=function(){this._currentStart=this._getLastCurrentStart();this._render()};SearchResultsView.prototype._getLastCurrentStart=function(numMatches){numMatches=numMatches||this._model.countFilesMatches().matches;return Math.floor((numMatches-1)/RESULTS_PER_PAGE)*RESULTS_PER_PAGE};SearchResultsView.prototype.open=function(){this._currentStart=0;this._$selectedRow=null;this._allChecked=true;var currentDoc=DocumentManager.getCurrentDocument();this._initialFilePath=currentDoc?currentDoc.file.fullPath:null;this._render();this._addPanelListeners();this._model.on("change.SearchResultsView",this._handleModelChange.bind(this))};SearchResultsView.prototype.close=function(){if(this._panel&&this._panel.isVisible()){this._$table.empty();this._panel.hide();this._panel.$panel.off(".searchResults");this._model.off("change.SearchResultsView");this.trigger("close")}};exports.SearchResultsView=SearchResultsView});define("search/FindInFilesUI",["require","exports","module","utils/AppInit","command/CommandManager","command/Commands","widgets/Dialogs","widgets/DefaultDialogs","editor/EditorManager","view/WorkspaceManager","search/FileFilters","file/FileUtils","search/FindBar","search/FindInFiles","search/FindUtils","document/InMemoryFile","project/ProjectManager","search/SearchResultsView","widgets/StatusBar","strings","utils/StringUtils","utils/HealthLogger","thirdparty/lodash"],function(require,exports,module){"use strict";var AppInit=require("utils/AppInit"),CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),Dialogs=require("widgets/Dialogs"),DefaultDialogs=require("widgets/DefaultDialogs"),EditorManager=require("editor/EditorManager"),WorkspaceManager=require("view/WorkspaceManager"),FileFilters=require("search/FileFilters"),FileUtils=require("file/FileUtils"),FindBar=require("search/FindBar").FindBar,FindInFiles=require("search/FindInFiles"),FindUtils=require("search/FindUtils"),InMemoryFile=require("document/InMemoryFile"),ProjectManager=require("project/ProjectManager"),SearchResultsView=require("search/SearchResultsView").SearchResultsView,StatusBar=require("widgets/StatusBar"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),HealthLogger=require("utils/HealthLogger"),_=require("thirdparty/lodash");var MAX_IN_MEMORY=20;var _resultsView=null;var _findBar=null;var _finishReplaceBatch;function searchAndShowResults(queryInfo,scope,filter,replaceText,candidateFilesPromise){return FindInFiles.doSearchInScope(queryInfo,scope,filter,replaceText,candidateFilesPromise).done(function(zeroFilesToken){if(FindInFiles.searchModel.hasResults()){_resultsView.open();if(_findBar){_findBar.enable(true);_findBar.focus()}}else{_resultsView.close();if(_findBar){var showMessage=false;_findBar.enable(true);if(zeroFilesToken===FindInFiles.ZERO_FILES_TO_SEARCH){_findBar.showError(StringUtils.format(Strings.FIND_IN_FILES_ZERO_FILES,FindUtils.labelForScope(FindInFiles.searchModel.scope)),true)}else{showMessage=true}_findBar.showNoResults(true,showMessage)}}StatusBar.hideBusyIndicator()}).fail(function(err){console.log("find in files failed: ",err);StatusBar.hideBusyIndicator()})}function searchAndReplaceResults(queryInfo,scope,filter,replaceText,candidateFilesPromise){return FindInFiles.doSearchInScope(queryInfo,scope,filter,replaceText,candidateFilesPromise).done(function(zeroFilesToken){if(FindInFiles.searchModel.hasResults()){_finishReplaceBatch(FindInFiles.searchModel);if(_findBar){_findBar.enable(true);_findBar.focus()}}StatusBar.hideBusyIndicator()}).fail(function(err){console.log("replace all failed: ",err);StatusBar.hideBusyIndicator()})}function _showFindBar(scope,showReplace){FindUtils.notifySearchScopeChanged();if(scope&&!EditorManager.canOpenPath(scope.fullPath)){return}if(scope instanceof InMemoryFile){CommandManager.execute(Commands.FILE_OPEN,{fullPath:scope.fullPath}).done(function(){CommandManager.execute(Commands.CMD_FIND)});return}var currentEditor=EditorManager.getActiveEditor(),initialQuery=FindBar.getInitialQuery(_findBar,currentEditor);if(_findBar){_findBar.close()}_findBar=new FindBar({multifile:true,replace:showReplace,initialQuery:initialQuery.query,initialReplaceText:initialQuery.replaceText,queryPlaceholder:Strings.FIND_QUERY_PLACEHOLDER,scopeLabel:FindUtils.labelForScope(scope)});_findBar.open();_findBar._modalBar.isLockedOpen=function(){return!_findBar.isEnabled()||$(".modal.instance .exclusions-editor").length>0};var candidateFilesPromise=FindInFiles.getCandidateFiles(scope),filterPicker;function handleQueryChange(){var queryInfo=_findBar.getQueryInfo(),queryResult=FindUtils.parseQueryInfo(queryInfo);_findBar.enableReplace(queryResult.valid);if(queryResult.valid||queryResult.empty){_findBar.showNoResults(false);_findBar.showError(null)}else{_findBar.showNoResults(true,false);_findBar.showError(queryResult.error)}}function startSearch(replaceText){var queryInfo=_findBar.getQueryInfo(),disableFindBar=FindUtils.isNodeSearchDisabled()||(replaceText?true:false);if(queryInfo&&queryInfo.query){_findBar.enable(!disableFindBar);StatusBar.showBusyIndicator(disableFindBar);if(queryInfo.isRegexp){HealthLogger.searchDone(HealthLogger.SEARCH_REGEXP)}if(queryInfo.isCaseSensitive){HealthLogger.searchDone(HealthLogger.SEARCH_CASE_SENSITIVE)}var filter;if(filterPicker){filter=FileFilters.commitPicker(filterPicker)}else{filter=null}searchAndShowResults(queryInfo,scope,filter,replaceText,candidateFilesPromise)}return null}function startReplace(){startSearch(_findBar.getReplaceText())}_findBar.on("doFind.FindInFiles",function(){startSearch()}).on("queryChange.FindInFiles",handleQueryChange).on("close.FindInFiles",function(e){_findBar.off(".FindInFiles");_findBar=null});if(showReplace){_findBar.on("doReplaceBatch.FindInFiles",startReplace)}var oldModalBarHeight=_findBar._modalBar.height();if(!scope||scope.isDirectory){var exclusionsContext={label:FindUtils.labelForScope(scope),promise:candidateFilesPromise};filterPicker=FileFilters.createFilterPicker(exclusionsContext);_findBar._modalBar.getRoot().find(".scope-group").append(filterPicker)}handleQueryChange();var fullEditor=EditorManager.getCurrentFullEditor(),scrollPos;if(fullEditor){scrollPos=fullEditor.getScrollPos();scrollPos.y-=oldModalBarHeight}WorkspaceManager.recomputeLayout();if(fullEditor){fullEditor._codeMirror.scrollTo(scrollPos.x,scrollPos.y+_findBar._modalBar.height())}}function _finishReplaceBatch(model){var replaceText=model.replaceText;if(replaceText===null){return}var resultsClone=_.cloneDeep(model.results),replacedFiles=Object.keys(resultsClone).filter(function(path){return FindUtils.hasCheckedMatches(resultsClone[path])}),isRegexp=model.queryInfo.isRegexp;function processReplace(forceFilesOpen){StatusBar.showBusyIndicator(true);FindInFiles.doReplace(resultsClone,replaceText,{forceFilesOpen:forceFilesOpen,isRegexp:isRegexp}).fail(function(errors){var message=Strings.REPLACE_IN_FILES_ERRORS+FileUtils.makeDialogFileList(errors.map(function(errorInfo){return ProjectManager.makeProjectRelativeIfPossible(errorInfo.item)}));Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_ERROR,Strings.REPLACE_IN_FILES_ERRORS_TITLE,message,[{className:Dialogs.DIALOG_BTN_CLASS_PRIMARY,id:Dialogs.DIALOG_BTN_OK,text:Strings.BUTTON_REPLACE_WITHOUT_UNDO}])}).always(function(){StatusBar.hideBusyIndicator()})}if(replacedFiles.length<=MAX_IN_MEMORY){_resultsView.close();processReplace(true)}else{Dialogs.showModalDialog(DefaultDialogs.DIALOG_ID_INFO,Strings.REPLACE_WITHOUT_UNDO_WARNING_TITLE,StringUtils.format(Strings.REPLACE_WITHOUT_UNDO_WARNING,MAX_IN_MEMORY),[{className:Dialogs.DIALOG_BTN_CLASS_NORMAL,id:Dialogs.DIALOG_BTN_CANCEL,text:Strings.CANCEL},{className:Dialogs.DIALOG_BTN_CLASS_PRIMARY,id:Dialogs.DIALOG_BTN_OK,text:Strings.BUTTON_REPLACE_WITHOUT_UNDO}]).done(function(id){if(id===Dialogs.DIALOG_BTN_OK){_resultsView.close();processReplace(false)}})}}function _showReplaceBar(){FindUtils.notifySearchScopeChanged();_showFindBar(null,true)}function _showFindBarForSubtree(){FindUtils.notifySearchScopeChanged();var selectedEntry=ProjectManager.getSelectedItem();_showFindBar(selectedEntry)}function _showReplaceBarForSubtree(){FindUtils.notifySearchScopeChanged();var selectedEntry=ProjectManager.getSelectedItem();_showFindBar(selectedEntry,true)}function _closeFindBar(){if(_findBar){_findBar.close()}}function _searchIndexingStarted(){if(_findBar&&_findBar._options.multifile&&FindUtils.isIndexingInProgress()){_findBar.showIndexingSpinner()}}function _searchIndexingFinished(){if(_findBar){_findBar.hideIndexingSpinner()}}function _defferedSearch(){if(_findBar&&_findBar._options.multifile&&!_findBar._options.replace){_findBar.redoInstantSearch()}}function _searchIfRequired(){if(!FindUtils.isInstantSearchDisabled()&&_findBar&&_findBar._options.multifile&&!_findBar._options.replace){setTimeout(_defferedSearch,100)}}AppInit.htmlReady(function(){var model=FindInFiles.searchModel;_resultsView=new SearchResultsView(model,"find-in-files-results","find-in-files.results");_resultsView.on("replaceBatch",function(){_finishReplaceBatch(model)}).on("close",function(){FindInFiles.clearSearch()}).on("getNextPage",function(){FindInFiles.getNextPageofSearchResults().done(function(){if(FindInFiles.searchModel.hasResults()){_resultsView.showNextPage()}})}).on("getLastPage",function(){FindInFiles.getAllSearchResults().done(function(){if(FindInFiles.searchModel.hasResults()){_resultsView.showLastPage()}})})});ProjectManager.on("beforeProjectClose",function(){_resultsView.close()});CommandManager.register(Strings.CMD_FIND_IN_FILES,Commands.CMD_FIND_IN_FILES,_showFindBar);CommandManager.register(Strings.CMD_FIND_IN_SUBTREE,Commands.CMD_FIND_IN_SUBTREE,_showFindBarForSubtree);CommandManager.register(Strings.CMD_REPLACE_IN_FILES,Commands.CMD_REPLACE_IN_FILES,_showReplaceBar);CommandManager.register(Strings.CMD_REPLACE_IN_SUBTREE,Commands.CMD_REPLACE_IN_SUBTREE,_showReplaceBarForSubtree);FindUtils.on(FindUtils.SEARCH_INDEXING_STARTED,_searchIndexingStarted);FindUtils.on(FindUtils.SEARCH_INDEXING_FINISHED,_searchIndexingFinished);FindUtils.on(FindUtils.SEARCH_FILE_FILTERS_CHANGED,_searchIfRequired);FindUtils.on(FindUtils.SEARCH_SCOPE_CHANGED,_searchIfRequired);exports.searchAndShowResults=searchAndShowResults;exports.searchAndReplaceResults=searchAndReplaceResults;exports._showFindBar=_showFindBar;exports._closeFindBar=_closeFindBar});define("search/ScrollTrackMarkers",["require","exports","module","thirdparty/lodash","view/WorkspaceManager"],function(require,exports,module){"use strict";var _=require("thirdparty/lodash");var WorkspaceManager=require("view/WorkspaceManager");var editor;var trackOffset;var trackHt;var marks=[];var $markedTickmark;var scrollbarTrackOffset;switch(brackets.platform){case"win":scrollbarTrackOffset=0;break;case"mac":scrollbarTrackOffset=4;break;case"linux":scrollbarTrackOffset=2;break}function getScrollbarTrackOffset(){return scrollbarTrackOffset}function setScrollbarTrackOffset(offset){scrollbarTrackOffset=offset}function _getScrollbar(editor){return $(editor.getRootElement()).children(".CodeMirror-vscrollbar")}function _calcScaling(){var $sb=_getScrollbar(editor);trackHt=$sb[0].offsetHeight;if(trackHt>0){trackOffset=getScrollbarTrackOffset();trackHt-=trackOffset*2}else{var codeContainer=$(editor.getRootElement()).find("> .CodeMirror-scroll > .CodeMirror-sizer > div > .CodeMirror-lines > div")[0];trackHt=codeContainer.offsetHeight;trackOffset=codeContainer.offsetTop}}function _renderMarks(posArray){var html="",cm=editor._codeMirror,editorHt=cm.getScrollerElement().scrollHeight;var wrapping=cm.getOption("lineWrapping"),singleLineH=wrapping&&cm.defaultTextHeight()*1.5,curLine=null,curLineObj=null;function getY(cm,pos){if(curLine!==pos.line){curLine=pos.line;curLineObj=cm.getLineHandle(curLine)}if(wrapping&&curLineObj.height>singleLineH){return cm.charCoords(pos,"local").top}return cm.heightAtLine(curLineObj,"local")}posArray.forEach(function(pos){var cursorTop=getY(cm,pos),top=Math.round(cursorTop/editorHt*trackHt)+trackOffset;top--;html+="<div class='tickmark' style='top:"+top+"px'></div>"});$(".tickmark-track",editor.getRootElement()).append($(html))}function clear(){if(editor){$(".tickmark-track",editor.getRootElement()).empty();marks=[];$markedTickmark=null}}function setVisible(curEditor,visible){if(visible&&curEditor===editor||!visible&&!editor){return}if(visible){console.assert(!editor);editor=curEditor;if(editor.isTextSubset()){return}var $sb=_getScrollbar(editor),$overlay=$("<div class='tickmark-track'></div>");$sb.parent().append($overlay);_calcScaling();WorkspaceManager.on("workspaceUpdateLayout.ScrollTrackMarkers",_.debounce(function(){if(marks.length){_calcScaling();$(".tickmark-track",editor.getRootElement()).empty();_renderMarks(marks)}},300))}else{console.assert(editor===curEditor);$(".tickmark-track",curEditor.getRootElement()).remove();editor=null;marks=[];WorkspaceManager.off("workspaceUpdateLayout.ScrollTrackMarkers")}}function addTickmarks(curEditor,posArray){console.assert(editor===curEditor);marks=marks.concat(posArray);_renderMarks(posArray)}function markCurrent(index){if($markedTickmark){$markedTickmark.removeClass("tickmark-current");$markedTickmark=null}if(index!==-1){$markedTickmark=$(".tickmark-track > .tickmark",editor.getRootElement()).eq(index).addClass("tickmark-current")}}function _getTickmarks(){return marks}exports._getTickmarks=_getTickmarks;exports.clear=clear;exports.setVisible=setVisible;exports.addTickmarks=addTickmarks;exports.markCurrent=markCurrent;exports.getScrollbarTrackOffset=getScrollbarTrackOffset;exports.setScrollbarTrackOffset=setScrollbarTrackOffset});define("search/FindReplace",["require","exports","module","command/CommandManager","command/Commands","view/MainViewManager","strings","utils/StringUtils","editor/Editor","editor/EditorManager","search/FindBar","search/FindUtils","search/FindInFilesUI","search/ScrollTrackMarkers","thirdparty/lodash","thirdparty/CodeMirror/lib/codemirror"],function(require,exports,module){"use strict";var CommandManager=require("command/CommandManager"),Commands=require("command/Commands"),MainViewManager=require("view/MainViewManager"),Strings=require("strings"),StringUtils=require("utils/StringUtils"),Editor=require("editor/Editor"),EditorManager=require("editor/EditorManager"),FindBar=require("search/FindBar").FindBar,FindUtils=require("search/FindUtils"),FindInFilesUI=require("search/FindInFilesUI"),ScrollTrackMarkers=require("search/ScrollTrackMarkers"),_=require("thirdparty/lodash"),CodeMirror=require("thirdparty/CodeMirror/lib/codemirror");var FIND_MAX_FILE_SIZE=5e5;var FIND_HIGHLIGHT_MAX=2e3;var findBar;function SearchState(){this.searchStartPos=null;this.parsedQuery=null;this.queryInfo=null;this.foundAny=false;this.marked=[];this.resultSet=[];this.matchIndex=-1;this.markedCurrent=null}function getSearchState(cm){if(!cm._searchState){cm._searchState=new SearchState}return cm._searchState}function getSearchCursor(cm,state,pos){return cm.getSearchCursor(state.parsedQuery,pos,!state.queryInfo.isCaseSensitive)}function parseQuery(queryInfo){if(findBar){findBar.showError(null)}var parsed=FindUtils.parseQueryInfo(queryInfo);if(parsed.empty===true){return""}if(!parsed.valid){if(findBar){findBar.showError(parsed.error)}return""}return parsed.queryExpr}function setQueryInfo(state,queryInfo){state.queryInfo=queryInfo;if(!queryInfo){state.parsedQuery=null}else{state.parsedQuery=parseQuery(queryInfo)}}function _updateFindBarWithMatchInfo(state,matchRange,searchBackwards){if(!state.foundAny){return}if(findBar){if(state.matchIndex===-1){state.matchIndex=_.findIndex(state.resultSet,matchRange)}else{state.matchIndex=searchBackwards?state.matchIndex-1:state.matchIndex+1;state.matchIndex=(state.matchIndex+state.resultSet.length)%state.resultSet.length;if(!_.isEqual(state.resultSet[state.matchIndex],matchRange)){state.matchIndex=_.findIndex(state.resultSet,matchRange)}}console.assert(state.matchIndex!==-1);if(state.matchIndex!==-1){findBar.showFindCount(StringUtils.format(Strings.FIND_MATCH_INDEX,state.matchIndex+1,state.resultSet.length))}}}function _getNextMatch(editor,searchBackwards,pos,wrap){var cm=editor._codeMirror;var state=getSearchState(cm);var cursor=getSearchCursor(cm,state,pos||editor.getCursorPos(false,searchBackwards?"start":"end"));state.lastMatch=cursor.find(searchBackwards);if(!state.lastMatch&&wrap!==false){cursor=getSearchCursor(cm,state,searchBackwards?{line:cm.lineCount()-1}:{line:0,ch:0});state.lastMatch=cursor.find(searchBackwards)}if(!state.lastMatch){cm.setCursor(editor.getCursorPos());return null}return{start:cursor.from(),end:cursor.to()}}function _selectAndScrollTo(editor,selections,center,preferNoScroll){var primarySelection=_.find(selections,function(sel){return sel.primary})||_.last(selections),resultVisible=editor.isLineVisible(primarySelection.start.line),centerOptions=Editor.BOUNDARY_CHECK_NORMAL;if(preferNoScroll&&resultVisible){centerOptions=Editor.BOUNDARY_IGNORE_TOP}var primary=_.find(selections,function(sel){return sel.primary});if(!primary){primary=_.last(selections)}editor._codeMirror.scrollIntoView({from:primary.start,to:primary.end});editor.setSelections(selections,center,centerOptions)}function _getWordAt(editor,pos){var cm=editor._codeMirror,start=pos.ch,end=start,line=cm.getLine(pos.line);while(start&&CodeMirror.isWordChar(line.charAt(start-1))){--start}while(end<line.length&&CodeMirror.isWordChar(line.charAt(end))){++end}return{start:{line:pos.line,ch:start},end:{line:pos.line,ch:end},text:line.slice(start,end)}}function _selEq(sel1,sel2){return CodeMirror.cmpPos(sel1.start,sel2.start)===0&&CodeMirror.cmpPos(sel1.end,sel2.end)===0}function _expandWordAndAddNextToSelection(editor,removePrimary){editor=editor||EditorManager.getActiveEditor();if(!editor){return}var selections=editor.getSelections(),primarySel,primaryIndex,searchText,added=false;_.each(selections,function(sel,index){var isEmpty=CodeMirror.cmpPos(sel.start,sel.end)===0;if(sel.primary){primarySel=sel;primaryIndex=index;if(!isEmpty){searchText=editor.document.getRange(primarySel.start,primarySel.end)}}if(isEmpty){var wordInfo=_getWordAt(editor,sel.start);sel.start=wordInfo.start;sel.end=wordInfo.end;if(sel.primary&&removePrimary){searchText=wordInfo.text}}});if(searchText&&searchText.length){var state=getSearchState(editor._codeMirror);setQueryInfo(state,{query:searchText,isCaseSensitive:false,isRegexp:false});var searchStart=primarySel.end,nextMatch,isInSelection;do{nextMatch=_getNextMatch(editor,false,searchStart);if(nextMatch){isInSelection=_.find(selections,_.partial(_selEq,nextMatch));searchStart=nextMatch.end;if(CodeMirror.cmpPos(searchStart,primarySel.end)===0){nextMatch=null;break}}}while(nextMatch&&isInSelection);if(nextMatch){nextMatch.primary=true;selections.push(nextMatch);added=true}}if(removePrimary){selections.splice(primaryIndex,1)}if(added){_selectAndScrollTo(editor,selections,true,true)}else{_selectAndScrollTo(editor,selections,false)}}function _skipCurrentMatch(editor){return _expandWordAndAddNextToSelection(editor,true)}function _findAllAndSelect(editor){editor=editor||EditorManager.getActiveEditor();if(!editor){return}var sel=editor.getSelection(),newSelections=[];if(CodeMirror.cmpPos(sel.start,sel.end)===0){sel=_getWordAt(editor,sel.start)}if(CodeMirror.cmpPos(sel.start,sel.end)!==0){var searchStart={line:0,ch:0},state=getSearchState(editor._codeMirror),nextMatch;setQueryInfo(state,{query:editor.document.getRange(sel.start,sel.end),isCaseSensitive:false,isRegexp:false});while((nextMatch=_getNextMatch(editor,false,searchStart,false))!==null){if(_selEq(sel,nextMatch)){nextMatch.primary=true}newSelections.push(nextMatch);searchStart=nextMatch.end}if(newSelections.length){editor.setSelections(newSelections,false)}}}function clearCurrentMatchHighlight(cm,state){if(state.markedCurrent){state.markedCurrent.clear();ScrollTrackMarkers.markCurrent(-1)}}function findNext(editor,searchBackwards,preferNoScroll,pos){var cm=editor._codeMirror;cm.operation(function(){var state=getSearchState(cm);clearCurrentMatchHighlight(cm,state);var nextMatch=_getNextMatch(editor,searchBackwards,pos);if(nextMatch){if(state.resultSet.length){_updateFindBarWithMatchInfo(state,{from:nextMatch.start,to:nextMatch.end},searchBackwards);if(state.marked.length){ScrollTrackMarkers.markCurrent(state.matchIndex)}}_selectAndScrollTo(editor,[nextMatch],true,preferNoScroll);if(findBar&&!findBar.isClosed()){var curentMatchClassName=state.marked.length?"searching-current-match":"CodeMirror-searching searching-current-match";state.markedCurrent=cm.markText(nextMatch.start,nextMatch.end,{className:curentMatchClassName,startStyle:"searching-first",endStyle:"searching-last"})}}else{cm.setCursor(editor.getCursorPos())}})}function clearHighlights(cm,state){cm.operation(function(){state.marked.forEach(function(markedRange){markedRange.clear()});clearCurrentMatchHighlight(cm,state)});state.marked.length=0;state.markedCurrent=null;ScrollTrackMarkers.clear();state.resultSet=[];state.matchIndex=-1}function clearSearch(cm){cm.operation(function(){var state=getSearchState(cm);if(!state.parsedQuery){return}setQueryInfo(state,null);clearHighlights(cm,state)})}function toggleHighlighting(editor,enabled){if(enabled){$(editor.getRootElement()).addClass("find-highlighting")}else{$(editor.getRootElement()).removeClass("find-highlighting")}ScrollTrackMarkers.setVisible(editor,enabled)}function updateResultSet(editor){var cm=editor._codeMirror,state=getSearchState(cm);function indicateHasMatches(numResults){findBar.showNoResults(!state.foundAny&&findBar.getQueryInfo().query);findBar.enableNavigation(state.foundAny&&numResults>1);findBar.enableReplace(state.foundAny)}cm.operation(function(){if(state.marked){clearHighlights(cm,state)}if(!state.parsedQuery){findBar.showFindCount("");state.foundAny=false;indicateHasMatches();return}var cursor=getSearchCursor(cm,state);if(cm.getValue().length<=FIND_MAX_FILE_SIZE){state.resultSet=[];while(cursor.findNext()){state.resultSet.push(cursor.pos)}if(state.resultSet.length<=FIND_HIGHLIGHT_MAX){toggleHighlighting(editor,true);state.resultSet.forEach(function(result){state.marked.push(cm.markText(result.from,result.to,{className:"CodeMirror-searching",startStyle:"searching-first",endStyle:"searching-last"}))});var scrollTrackPositions=state.resultSet.map(function(result){return result.from});ScrollTrackMarkers.addTickmarks(editor,scrollTrackPositions)}if(state.resultSet.length===0){findBar.showFindCount(Strings.FIND_NO_RESULTS)}state.foundAny=state.resultSet.length>0;indicateHasMatches(state.resultSet.length)}else{findBar.showFindCount("");state.foundAny=cursor.findNext();indicateHasMatches()}})}function handleQueryChange(editor,state,initial){setQueryInfo(state,findBar.getQueryInfo());updateResultSet(editor);if(state.parsedQuery){findNext(editor,false,true,state.searchStartPos)}else if(!initial){editor._codeMirror.setCursor(state.searchStartPos)}}function openSearchBar(editor,replace){var cm=editor._codeMirror,state=getSearchState(cm);state.searchStartPos=editor.getCursorPos(false,"start");var initialQuery=FindBar.getInitialQuery(findBar,editor);if(findBar){findBar.close()}findBar=new FindBar({multifile:false,replace:replace,initialQuery:initialQuery.query,initialReplaceText:initialQuery.replaceText,queryPlaceholder:Strings.FIND_QUERY_PLACEHOLDER});findBar.open();findBar.on("queryChange.FindReplace",function(e){handleQueryChange(editor,state)}).on("doFind.FindReplace",function(e,searchBackwards){findNext(editor,searchBackwards)}).on("close.FindReplace",function(e){clearHighlights(cm,state);toggleHighlighting(editor,false);findBar.off(".FindReplace");findBar=null});handleQueryChange(editor,state,true)}function doSearch(editor,searchBackwards){var state=getSearchState(editor._codeMirror);if(state.parsedQuery){findNext(editor,searchBackwards);return}openSearchBar(editor,false)}function _handleFileChanged(){if(findBar){findBar.close()}}function doReplace(editor,all){var cm=editor._codeMirror,state=getSearchState(cm),replaceText=findBar.getReplaceText();if(all===null){findBar.close();FindInFilesUI.searchAndReplaceResults(state.queryInfo,editor.document.file,null,replaceText)}else if(all){findBar.close();FindInFilesUI.searchAndShowResults(state.queryInfo,editor.document.file,null,replaceText)}else{cm.replaceSelection(state.queryInfo.isRegexp?FindUtils.parseDollars(replaceText,state.lastMatch):replaceText);updateResultSet(editor);findNext(editor);if(!state.lastMatch){findBar.close()}}}function replace(editor){if(findBar&&findBar.getOptions().replace&&findBar.isReplaceEnabled()){doReplace(editor,false);return}openSearchBar(editor,true);findBar.on("doReplace.FindReplace",function(e){doReplace(editor,false)}).on("doReplaceBatch.FindReplace",function(e){doReplace(editor,true)}).on("doReplaceAll.FindReplace",function(e){doReplace(editor,null)})}function _launchFind(){var editor=EditorManager.getActiveEditor();if(editor){clearSearch(editor._codeMirror);doSearch(editor,false)}}function _findNext(){var editor=EditorManager.getActiveEditor();if(editor){doSearch(editor)}}function _findPrevious(){var editor=EditorManager.getActiveEditor();if(editor){doSearch(editor,true)}}function _replace(){var editor=EditorManager.getActiveEditor();if(editor){replace(editor)}}MainViewManager.on("currentFileChange",_handleFileChanged);CommandManager.register(Strings.CMD_FIND,Commands.CMD_FIND,_launchFind);CommandManager.register(Strings.CMD_FIND_NEXT,Commands.CMD_FIND_NEXT,_findNext);CommandManager.register(Strings.CMD_REPLACE,Commands.CMD_REPLACE,_replace);CommandManager.register(Strings.CMD_FIND_PREVIOUS,Commands.CMD_FIND_PREVIOUS,_findPrevious);CommandManager.register(Strings.CMD_FIND_ALL_AND_SELECT,Commands.CMD_FIND_ALL_AND_SELECT,_findAllAndSelect);CommandManager.register(Strings.CMD_ADD_NEXT_MATCH,Commands.CMD_ADD_NEXT_MATCH,_expandWordAndAddNextToSelection);CommandManager.register(Strings.CMD_SKIP_CURRENT_MATCH,Commands.CMD_SKIP_CURRENT_MATCH,_skipCurrentMatch);exports._getWordAt=_getWordAt;exports._expandWordAndAddNextToSelection=_expandWordAndAddNextToSelection;exports._findAllAndSelect=_findAllAndSelect});define("view/PanelManager",["require","exports","module","view/WorkspaceManager","utils/EventDispatcher","utils/DeprecationWarning"],function(require,exports,module){"use strict";var WorkspaceManager=require("view/WorkspaceManager"),EventDispatcher=require("utils/EventDispatcher"),DeprecationWarning=require("utils/DeprecationWarning");function _deprecateEvent(oldEventName,newEventName){DeprecationWarning.deprecateEvent(exports,WorkspaceManager,oldEventName,newEventName,"PanelManager."+oldEventName,"MainViewManager."+newEventName)}exports.createBottomPanel=function(id,$panel,minSize){DeprecationWarning.deprecationWarning("Use WorkspaceManager.createBottomPanel() instead of PanelManager.createBottomPanel().",true);return WorkspaceManager.createBottomPanel(id,$panel,minSize)};EventDispatcher.makeEventDispatcher(exports);_deprecateEvent("editorAreaResize","workspaceUpdateLayout")})
;define("brackets",["require","exports","module","widgets/bootstrap-dropdown","widgets/bootstrap-modal","widgets/bootstrap-twipsy-mod","thirdparty/CodeMirror/addon/edit/closebrackets","thirdparty/CodeMirror/addon/edit/closetag","thirdparty/CodeMirror/addon/edit/matchbrackets","thirdparty/CodeMirror/addon/edit/matchtags","thirdparty/CodeMirror/addon/fold/xml-fold","thirdparty/CodeMirror/addon/mode/multiplex","thirdparty/CodeMirror/addon/mode/overlay","thirdparty/CodeMirror/addon/mode/simple","thirdparty/CodeMirror/addon/scroll/scrollpastend","thirdparty/CodeMirror/addon/search/match-highlighter","thirdparty/CodeMirror/addon/search/searchcursor","thirdparty/CodeMirror/addon/selection/active-line","thirdparty/CodeMirror/addon/selection/mark-selection","thirdparty/CodeMirror/keymap/sublime","thirdparty/CodeMirror/mode/meta","thirdparty/CodeMirror/mode/css/css","thirdparty/CodeMirror/mode/htmlmixed/htmlmixed","thirdparty/CodeMirror/mode/javascript/javascript","thirdparty/CodeMirror/mode/python/python","thirdparty/CodeMirror/mode/jsx/jsx","thirdparty/CodeMirror/mode/xml/xml","thirdparty/CodeMirror/mode/markdown/markdown","thirdparty/CodeMirror/mode/clike/clike","utils/AppInit","language/LanguageManager","project/FileSyncManager","utils/PerfUtils","strings","utils/ExtensionLoader","utils/Async","utils/UrlParams","preferences/PreferencesManager","utils/DragAndDrop","utils/NativeApp","utils/DeprecationWarning","view/ViewCommandHandlers","text!htmlContent/main-view.html","document/DocumentManager","editor/EditorManager","language/JSUtils","project/WorkingSetView","document/DocumentCommandHandlers","command/KeyBindingManager","editor/CodeHintManager","command/Menus","utils/ExtensionUtils","language/CodeInspection","utils/Global","editor/CSSInlineEditor","project/WorkingSetSort","search/QuickOpen","search/QuickOpenHelper","file/FileUtils","project/SidebarView","utils/Resizer","LiveDevelopment/main","utils/ColorUtils","view/ThemeManager","thirdparty/lodash","language/XMLUtils","language/JSONUtils","thirdparty/CodeMirror/lib/codemirror","thirdparty/mustache/mustache","thirdparty/path-utils/path-utils","command/DefaultMenus","document/ChangedDocumentTracker","editor/EditorCommandHandlers","editor/EditorOptionHandlers","editor/EditorStatusBar","editor/ImageViewer","editor/VideoViewer","editor/AudioViewer","search/FindInFilesUI","search/FindReplace","view/PanelManager"],function(require,exports,module){"use strict";require("widgets/bootstrap-dropdown");require("widgets/bootstrap-modal");require("widgets/bootstrap-twipsy-mod");require("thirdparty/CodeMirror/addon/edit/closebrackets");require("thirdparty/CodeMirror/addon/edit/closetag");require("thirdparty/CodeMirror/addon/edit/matchbrackets");require("thirdparty/CodeMirror/addon/edit/matchtags");require("thirdparty/CodeMirror/addon/fold/xml-fold");require("thirdparty/CodeMirror/addon/mode/multiplex");require("thirdparty/CodeMirror/addon/mode/overlay");require("thirdparty/CodeMirror/addon/mode/simple");require("thirdparty/CodeMirror/addon/scroll/scrollpastend");require("thirdparty/CodeMirror/addon/search/match-highlighter");require("thirdparty/CodeMirror/addon/search/searchcursor");require("thirdparty/CodeMirror/addon/selection/active-line");require("thirdparty/CodeMirror/addon/selection/mark-selection");require("thirdparty/CodeMirror/keymap/sublime");require("thirdparty/CodeMirror/mode/meta");require("thirdparty/CodeMirror/mode/css/css");require("thirdparty/CodeMirror/mode/htmlmixed/htmlmixed");require("thirdparty/CodeMirror/mode/javascript/javascript");require("thirdparty/CodeMirror/mode/python/python");require("thirdparty/CodeMirror/mode/jsx/jsx");require("thirdparty/CodeMirror/mode/xml/xml");require("thirdparty/CodeMirror/mode/markdown/markdown");require("thirdparty/CodeMirror/mode/clike/clike");var AppInit=require("utils/AppInit"),LanguageManager=require("language/LanguageManager"),FileSyncManager=require("project/FileSyncManager"),PerfUtils=require("utils/PerfUtils"),Strings=require("strings"),ExtensionLoader=require("utils/ExtensionLoader"),Async=require("utils/Async"),UrlParams=require("utils/UrlParams").UrlParams,PreferencesManager=require("preferences/PreferencesManager"),DragAndDrop=require("utils/DragAndDrop"),NativeApp=require("utils/NativeApp"),DeprecationWarning=require("utils/DeprecationWarning"),ViewCommandHandlers=require("view/ViewCommandHandlers");var MainViewHTML=require("text!htmlContent/main-view.html");require("document/DocumentManager");require("editor/EditorManager");require("language/JSUtils");require("project/WorkingSetView");require("document/DocumentCommandHandlers");require("command/KeyBindingManager");require("editor/CodeHintManager");require("command/Menus");require("utils/ExtensionUtils");require("language/CodeInspection");require("utils/Global");require("editor/CSSInlineEditor");require("project/WorkingSetSort");require("search/QuickOpen");require("search/QuickOpenHelper");require("file/FileUtils");require("project/SidebarView");require("utils/Resizer");require("LiveDevelopment/main");require("utils/ColorUtils");require("view/ThemeManager");require("thirdparty/lodash");require("language/XMLUtils");require("language/JSONUtils");var CodeMirror=require("thirdparty/CodeMirror/lib/codemirror");Object.defineProperty(window,"CodeMirror",{get:function(){DeprecationWarning.deprecationWarning('Use brackets.getModule("thirdparty/CodeMirror/lib/codemirror") instead of global CodeMirror.',true);return CodeMirror}});var Mustache=require("thirdparty/mustache/mustache");Object.defineProperty(window,"Mustache",{get:function(){DeprecationWarning.deprecationWarning('Use brackets.getModule("thirdparty/mustache/mustache") instead of global Mustache.',true);return Mustache}});var PathUtils=require("thirdparty/path-utils/path-utils");Object.defineProperty(window,"PathUtils",{get:function(){DeprecationWarning.deprecationWarning('Use brackets.getModule("thirdparty/path-utils/path-utils") instead of global PathUtils.',true);return PathUtils}});require("command/DefaultMenus");require("document/ChangedDocumentTracker");require("editor/EditorCommandHandlers");require("editor/EditorOptionHandlers");require("editor/EditorStatusBar");require("editor/ImageViewer");require("editor/VideoViewer");require("editor/AudioViewer");require("search/FindInFilesUI");require("search/FindReplace");require("view/PanelManager");PerfUtils.addMeasurement("brackets module dependencies resolved");var params=new UrlParams;params.parse();function _onReady(){PerfUtils.addMeasurement("window.document Ready");var osxMatch=/Mac OS X 10\D([\d+])\D/.exec(window.navigator.userAgent);if(osxMatch&&osxMatch[1]&&Number(osxMatch[1])>=7){var $testDiv=$("<div style='position:fixed;left:-50px;width:50px;height:50px;overflow:auto;'><div style='width:100px;height:100px;'/></div>").appendTo(window.document.body);if($testDiv.outerWidth()===$testDiv.get(0).clientWidth){$(".sidebar").removeClass("quiet-scrollbars")}$testDiv.remove()}Async.waitForAll([LanguageManager.ready,PreferencesManager.ready]).always(function(){var extensionPathOverride=params.get("extensions");var extensionLoaderPromise=ExtensionLoader.init(extensionPathOverride?extensionPathOverride.split(","):null);extensionLoaderPromise.always(function(){AppInit._dispatchReady(AppInit.EXTENSIONS_LOADED);ViewCommandHandlers.restoreFontSize()})})}function _beforeHTMLReady(){$("body").addClass("platform-"+brackets.platform);if(brackets.inBrowser){$("body").addClass("in-browser")}else{$("body").addClass("in-appshell")}if(brackets.nativeMenus){$("body").addClass("has-appshell-menus")}else{(function(){var defaultFocus=$.fn.focus;$.fn.focus=function(){if(!this.hasClass("dropdown-toggle")){return defaultFocus.apply(this,arguments)}}})()}$("#main-view").html(Mustache.render(MainViewHTML,Strings));$("title").text(brackets.config.app_title);DragAndDrop.attachHandlers();$(window).focus(function(){FileSyncManager.syncOpenDocuments()});$("html").on("mousedown",".inline-widget",function(e){if(e.button===1){e.preventDefault()}});$("html").on("mousedown",".no-focus",function(e){var $target=$(e.target),isFormElement=$target.is("input")||$target.is("textarea")||$target.is("select");if(!isFormElement){e.preventDefault()}});window.document.body.addEventListener("click",function(e){var node=e.target,url;while(node){if(node.tagName==="A"){url=node.getAttribute("href");if(url&&!url.match(/^#/)){NativeApp.openURLInDefaultBrowser(url)}e.preventDefault();break}node=node.parentElement}},true);var DefaultCtor=jQuery.fn.init;jQuery.fn.init=function(firstArg,secondArg){var jQObject=new DefaultCtor(firstArg,secondArg);if(firstArg&&firstArg._EventDispatcher){jQObject.on=firstArg.on.bind(firstArg);jQObject.one=firstArg.one.bind(firstArg);jQObject.off=firstArg.off.bind(firstArg);DeprecationWarning.deprecationWarning("Deprecated: Do not use $().on/off() on Brackets modules and model objects. Call on()/off() directly on the object without a $() wrapper.",true,4)}return jQObject}}var viewStateTimer=PerfUtils.markStart("User viewstate loading");PreferencesManager._smUserScopeLoading.always(function(){PerfUtils.addMeasurement(viewStateTimer);_beforeHTMLReady();AppInit._dispatchReady(AppInit.HTML_READY);$(window.document).ready(_onReady)})});